(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["application-detail~group-application~group-detail"],{"0945":function(e,t,r){"use strict";r("b0c0"),r("4e82"),r("a15b"),r("d81d");var n=r("7a23"),o={class:"flex justify-between items-baseline"},c={class:"flex space-x-2 items-baseline"},a=Object(n["createElementVNode"])("h2",null,"Members",-1),i=Object(n["createTextVNode"])("Add Member"),l={key:0,class:"flex justify-between px-2 space-x-2 bg-blue-200 rounded-lg"},u={class:"flex-1"},s=Object(n["createElementVNode"])("option",{value:null},"Selectâ€¦",-1),d=["value"],m={class:"flex-1 py-2"},p={class:"flex-1 py-2"},b={class:"mt-3 py-2 w-full overflow-auto"},f=["onClick"],O={class:"flex space-x-2"},j={key:0},h={class:"flex space-x-2 items-center"},g=Object(n["createElementVNode"])("button",{class:"btn btn-xs"},"â€¦",-1),v=["onClick"],y=["onClick"],w=["onClick"],k={key:1,class:"well"},V={class:"text-lg"},x={class:"text-lg"},_=Object(n["createElementVNode"])("p",null,[Object(n["createElementVNode"])("strong",null,"This cannot be undone.")],-1);function N(e,t,r,N,C,E){var B=Object(n["resolveComponent"])("icon-filter"),S=Object(n["resolveComponent"])("router-link"),D=Object(n["resolveComponent"])("input-row"),R=Object(n["resolveComponent"])("checkbox"),T=Object(n["resolveComponent"])("icon-cheveron-right"),G=Object(n["resolveComponent"])("icon-cheveron-down"),P=Object(n["resolveComponent"])("icon-exclamation"),M=Object(n["resolveComponent"])("dropdown-item"),I=Object(n["resolveComponent"])("dropdown-menu"),q=Object(n["resolveComponent"])("icon-notification"),F=Object(n["resolveComponent"])("popover"),A=Object(n["resolveComponent"])("member-preview"),U=Object(n["resolveComponent"])("data-table"),$=Object(n["resolveComponent"])("button-row"),L=Object(n["resolveComponent"])("modal-dialog");return Object(n["openBlock"])(),Object(n["createElementBlock"])("div",null,[Object(n["createElementVNode"])("head",o,[Object(n["createElementVNode"])("div",c,[a,E.group.members.length>0?(Object(n["openBlock"])(),Object(n["createElementBlock"])("button",{key:0,ref:"filterToggleButton",class:Object(n["normalizeClass"])(["px-3 py-2 rounded-t transition-color",{"rounded-b":!C.showFilter,"bg-blue-200":C.showFilter}]),onClick:t[0]||(t[0]=function(){return E.toggleFilter&&E.toggleFilter.apply(E,arguments)})},[Object(n["createVNode"])(B)],2)):Object(n["createCommentVNode"])("",!0)]),e.hasAnyPermission([["members-invite",E.group],"groups-manage"])?(Object(n["openBlock"])(),Object(n["createBlock"])(S,{key:0,class:"btn btn-xs",ref:"addMemberButton",to:e.append(e.$route.path,"members/add")},{default:Object(n["withCtx"])((function(){return[i]})),_:1},8,["to"])):Object(n["createCommentVNode"])("",!0)]),Object(n["createVNode"])(n["Transition"],{name:"slide-fade-down"},{default:Object(n["withCtx"])((function(){return[E.group.members.length>0?Object(n["withDirectives"])((Object(n["openBlock"])(),Object(n["createElementBlock"])("div",l,[Object(n["createElementVNode"])("div",u,[Object(n["createVNode"])(D,{label:"Keyword",type:"text",modelValue:C.filters.keyword,"onUpdate:modelValue":t[1]||(t[1]=function(e){return C.filters.keyword=e}),"label-width-class":"w-20"},null,8,["modelValue"]),Object(n["createVNode"])(D,{label:"Role","label-width-class":"w-20"},{default:Object(n["withCtx"])((function(){return[Object(n["withDirectives"])(Object(n["createElementVNode"])("select",{"onUpdate:modelValue":t[2]||(t[2]=function(e){return C.filters.roleId=e})},[s,(Object(n["openBlock"])(!0),Object(n["createElementBlock"])(n["Fragment"],null,Object(n["renderList"])(E.roles,(function(e){return Object(n["openBlock"])(),Object(n["createElementBlock"])("option",{key:e.id,value:e.id},Object(n["toDisplayString"])(e.name),9,d)})),128))],512),[[n["vModelSelect"],C.filters.roleId]])]})),_:1})]),Object(n["createElementVNode"])("div",m,[Object(n["createVNode"])(R,{class:"block",label:"Needs COI",modelValue:C.filters.needsCoi,"onUpdate:modelValue":t[3]||(t[3]=function(e){return C.filters.needsCoi=e})},null,8,["modelValue"])]),Object(n["createElementVNode"])("div",p,[Object(n["createVNode"])(R,{class:"block",label:"Hide Alumns",modelValue:C.filters.hideAlumns,"onUpdate:modelValue":t[4]||(t[4]=function(e){return C.filters.hideAlumns=e})},null,8,["modelValue"])])],512)),[[n["vShow"],C.showFilter]]):Object(n["createCommentVNode"])("",!0)]})),_:1}),Object(n["createElementVNode"])("div",b,[E.group.members.length>0?(Object(n["openBlock"])(),Object(n["createBlock"])(U,{key:0,fields:E.fieldsForGroupType,data:E.filteredMembers,sort:N.sort,"onUpdate:sort":t[6]||(t[6]=function(e){return N.sort=e}),detailRows:!0,"row-class":function(e){return"cursor-pointer"+(e.isRetired?" retired-member":"")},onRowClick:E.goToMember},{"cell-id":Object(n["withCtx"])((function(e){var t=e.item;return[Object(n["createElementVNode"])("button",{onClick:Object(n["withModifiers"])((function(e){return E.toggleItemDetails(t)}),["stop"]),class:"w-9 align-center block -mx-3"},[t.showDetails?Object(n["createCommentVNode"])("",!0):(Object(n["openBlock"])(),Object(n["createBlock"])(T,{key:0,class:"m-auto cursor-pointer"})),t.showDetails?(Object(n["openBlock"])(),Object(n["createBlock"])(G,{key:1,class:"m-auto cursor-pointer"})):Object(n["createCommentVNode"])("",!0)],8,f)]})),"cell-roles":Object(n["withCtx"])((function(e){var t=e.value;return[Object(n["createTextVNode"])(Object(n["toDisplayString"])(E.titleCase(t.map((function(e){return e.name})).join(", "))),1)]})),"cell-coi_last_completed":Object(n["withCtx"])((function(e){var t=e.item;return[Object(n["createElementVNode"])("div",O,[t.coi_last_completed?(Object(n["openBlock"])(),Object(n["createElementBlock"])("span",j,Object(n["toDisplayString"])(E.formatDate(t.coi_last_completed)),1)):Object(n["createCommentVNode"])("",!0),null===!t.coi_last_completed||t.coi_last_completed<N.yearAgo()?(Object(n["openBlock"])(),Object(n["createBlock"])(P,{key:1,class:Object(n["normalizeClass"])(E.getCoiDateStyle(t))},null,8,["class"])):Object(n["createCommentVNode"])("",!0)])]})),"cell-actions":Object(n["withCtx"])((function(r){var o=r.item;return[Object(n["createElementVNode"])("div",h,[E.hasAnyMemberPermission()?(Object(n["openBlock"])(),Object(n["createBlock"])(I,{key:0,"hide-cheveron":!0,class:"relative"},{label:Object(n["withCtx"])((function(){return[g]})),default:Object(n["withCtx"])((function(){return[e.hasAnyPermission([["members-update",E.group],"groups-manage"])?(Object(n["openBlock"])(),Object(n["createBlock"])(M,{key:0},{default:Object(n["withCtx"])((function(){return[Object(n["createElementVNode"])("div",{onClick:function(e){return E.editMember(o)}},"Update membership",8,v)]})),_:2},1024)):Object(n["createCommentVNode"])("",!0),e.hasAnyPermission([["members-retire",E.group],"groups-manage"])?(Object(n["openBlock"])(),Object(n["createBlock"])(M,{key:1},{default:Object(n["withCtx"])((function(){return[Object(n["createElementVNode"])("div",{onClick:function(e){return E.confirmRetireMember(o)}},"Retire from group",8,y)]})),_:2},1024)):Object(n["createCommentVNode"])("",!0),e.hasAnyPermission([["members-remove",E.group],"groups-manage"])?(Object(n["openBlock"])(),Object(n["createBlock"])(M,{key:2},{default:Object(n["withCtx"])((function(){return[Object(n["createElementVNode"])("div",{onClick:function(e){return E.confirmRemoveMember(o)}},"Remove from group",8,w)]})),_:2},1024)):Object(n["createCommentVNode"])("",!0)]})),_:2},1024)):Object(n["createCommentVNode"])("",!0),Object(n["createVNode"])(F,{hover:"",arrow:"",content:"Receives notifications about this group.",placement:"top"},{default:Object(n["withCtx"])((function(){return[o.is_contact?(Object(n["openBlock"])(),Object(n["createBlock"])(q,{key:0,width:12,height:12,"icon-name":"Is a group contact",onClick:t[5]||(t[5]=Object(n["withModifiers"])((function(){}),["stop"]))})):Object(n["createCommentVNode"])("",!0)]})),_:2},1024)])]})),detail:Object(n["withCtx"])((function(e){var t=e.item;return[Object(n["createVNode"])(A,{member:t,group:E.group},null,8,["member","group"])]})),_:1},8,["fields","data","sort","row-class","onRowClick"])):(Object(n["openBlock"])(),Object(n["createElementBlock"])("div",k," This group does not yet have any members. "))]),(Object(n["openBlock"])(),Object(n["createBlock"])(n["Teleport"],{to:"body"},[Object(n["createVNode"])(L,{modelValue:C.showConfirmRetire,"onUpdate:modelValue":t[7]||(t[7]=function(e){return C.showConfirmRetire=e}),size:"xs",title:"Retire ".concat(E.selectedMemberName,"?")},{default:Object(n["withCtx"])((function(){return[Object(n["createElementVNode"])("p",V," Are you sure you want to retire "+Object(n["toDisplayString"])(E.selectedMemberName)+" from this group? ",1),Object(n["createVNode"])($,{onSubmit:E.retireMember,onCancel:E.cancelRetire,"submit-text":"Retire Member"},null,8,["onSubmit","onCancel"])]})),_:1},8,["modelValue","title"]),Object(n["createVNode"])(L,{modelValue:C.showConfirmRemove,"onUpdate:modelValue":t[8]||(t[8]=function(e){return C.showConfirmRemove=e}),size:"xs",title:"Remove ".concat(E.selectedMemberName,"?")},{default:Object(n["withCtx"])((function(){return[Object(n["createElementVNode"])("p",x," Are you sure you want to remove "+Object(n["toDisplayString"])(E.selectedMemberName)+" from this group?",1),_,Object(n["createVNode"])($,{onSubmit:E.removeMember,onCancel:E.cancelRemove,"submit-text":"Remove Member"},null,8,["onSubmit","onCancel"])]})),_:1},8,["modelValue","title"])]))])}var C=r("1da1"),E=r("2909"),B=(r("96cf"),r("a9e3"),r("4de4"),r("a434"),r("c740"),r("4a91")),S=r("e328"),D=r("5257"),R={class:"px-8 py-4 inset"},T=Object(n["createTextVNode"])(" RETIRED "),G={class:"md:flex flex-wrap space-x-4 text-sm"},P={class:"flex-1 md:flex flex-wrap"},M={class:"flex-1 mr-8"},I={class:"flex-1 mr-4"},q=Object(n["createElementVNode"])("h4",null,"Biocurator Training:",-1),F={key:0,class:"ml-2"},A={class:"mt-2"},U=Object(n["createElementVNode"])("h4",null,"Roles:",-1),$={class:"ml-2"},L={class:"mt-2"},z=Object(n["createElementVNode"])("h4",null,"Extra Permissions:",-1),H={class:"ml-2"},W=Object(n["createElementVNode"])("div",null,null,-1),Y=Object(n["createTextVNode"])(" View profile ");function J(e,t,r,o,c,a){var i=Object(n["resolveComponent"])("static-alert"),l=Object(n["resolveComponent"])("profile-picture"),u=Object(n["resolveComponent"])("note"),s=Object(n["resolveComponent"])("dictionary-row"),d=Object(n["resolveComponent"])("object-dictionary"),m=Object(n["resolveComponent"])("icon-checkmark"),p=Object(n["resolveComponent"])("router-link");return Object(n["openBlock"])(),Object(n["createElementBlock"])("div",R,[r.member.isRetired?(Object(n["openBlock"])(),Object(n["createBlock"])(i,{key:0,variant:"warning",class:"mb-3 float-right"},{default:Object(n["withCtx"])((function(){return[T]})),_:1})):Object(n["createCommentVNode"])("",!0),Object(n["createElementVNode"])("div",G,[Object(n["createElementVNode"])("div",null,[Object(n["createVNode"])(l,{person:r.member.person},null,8,["person"]),Object(n["createVNode"])(u,null,{default:Object(n["withCtx"])((function(){return[Object(n["createTextVNode"])("member id: "+Object(n["toDisplayString"])(r.member.id),1)]})),_:1})]),Object(n["createElementVNode"])("div",P,[Object(n["createElementVNode"])("div",M,[Object(n["createVNode"])(s,{label:"Email"},{default:Object(n["withCtx"])((function(){return[Object(n["createTextVNode"])(Object(n["toDisplayString"])(r.member.person.email),1)]})),_:1}),Object(n["createVNode"])(s,{label:"Institution"},{default:Object(n["withCtx"])((function(){return[Object(n["createTextVNode"])(Object(n["toDisplayString"])(r.member.person.institution_id?r.member.person.institution.name:"--"),1)]})),_:1}),Object(n["createVNode"])(s,{label:"Credentials"},{default:Object(n["withCtx"])((function(){return[Object(n["createTextVNode"])(Object(n["toDisplayString"])(r.member.person.credentials),1)]})),_:1}),Object(n["createVNode"])(d,{obj:r.member,only:["expertise","notes"]},null,8,["obj"]),Object(n["createVNode"])(s,{label:"Start - End"},{default:Object(n["withCtx"])((function(){return[Object(n["createTextVNode"])(Object(n["toDisplayString"])(o.formatDate(r.member.start_date))+" - "+Object(n["toDisplayString"])(o.formatDate(r.member.end_date)||"present"),1)]})),_:1})]),Object(n["createElementVNode"])("div",I,[q,r.member.hasRole("biocurator")?(Object(n["openBlock"])(),Object(n["createElementBlock"])("div",F,[Object(n["createVNode"])(s,{label:"Level 1 training"},{default:Object(n["withCtx"])((function(){return[r.member.training_level_1?(Object(n["openBlock"])(),Object(n["createBlock"])(m,{key:0,class:"text-green-700"})):Object(n["createCommentVNode"])("",!0)]})),_:1}),Object(n["createVNode"])(s,{label:"Level 2 training"},{default:Object(n["withCtx"])((function(){return[r.member.training_level_2?(Object(n["openBlock"])(),Object(n["createBlock"])(m,{key:0,class:"text-green-700"})):Object(n["createCommentVNode"])("",!0)]})),_:1})])):Object(n["createCommentVNode"])("",!0),Object(n["createElementVNode"])("div",A,[U,Object(n["createElementVNode"])("div",$,Object(n["toDisplayString"])(r.member.roles.length>0?r.member.roles.map((function(t){return e.titleCase(t.name)})).join(", "):"--"),1)]),Object(n["createElementVNode"])("div",L,[z,Object(n["createElementVNode"])("div",H,Object(n["toDisplayString"])(r.member.permissions.length>0?r.member.permissions.map((function(e){return e.name})).join(", "):"--"),1)])])]),W]),Object(n["createVNode"])(p,{class:"link",to:{name:"PersonDetail",params:{uuid:this.member.person.uuid}}},{default:Object(n["withCtx"])((function(){return[Y]})),_:1},8,["to"])])}var K=r("86ed"),Q=r("ae23"),X={class:"w-24 border border-gray-300 bg-white"},Z=["src"];function ee(e,t,r,o,c,a){var i=Object(n["resolveComponent"])("icon-user");return Object(n["openBlock"])(),Object(n["createElementBlock"])("div",X,[r.person.profile_photo_path?(Object(n["openBlock"])(),Object(n["createElementBlock"])("img",{key:0,src:r.person.profile_photo_path},null,8,Z)):(Object(n["openBlock"])(),Object(n["createBlock"])(i,{key:1,height:"96",width:"96","icon-color":"#888"}))])}var te=r("da07"),re={name:"ProfilePicture",props:{person:{required:!0,type:te["a"]}},data:function(){return{}},computed:{hasProfilePhoto:function(){return null!==this.person.profile_photo_path}},methods:{}};re.render=ee;var ne=re,oe={name:"MemberPreview",components:{ProfilePicture:ne},props:{member:{type:K["a"],required:!0},group:{type:Q["a"],required:!0}},emits:["edit"],setup:function(){return{formatDate:S["a"]}}};oe.render=J;var ce=oe,ae=r("025e"),ie={name:"MemberList",components:{MemberPreview:ce},data:function(){return{showFilter:!1,showConfirmRetire:!1,showConfirmRemove:!1,filters:{keyword:null,roleId:null,needsCoi:null,needsTraining:null,hideAlumns:!0},tableFields:[{name:"id",label:"",type:Number,sortable:!1},{name:"person.first_name",label:"First",type:String,sortable:!0},{name:"person.last_name",label:"Last",type:String,sortable:!0},{name:"person.timezone",label:"Closest City (for timezone)",type:String,sortable:!0},{name:"roles",label:"Roles",sortable:!1},{name:"coi_last_completed",label:"COI Completed",type:Date,sortable:!0},{name:"actions",label:"",type:Object,sortable:!1}],selectedMember:null,hideAlumns:!0,members:[]}},computed:{group:function(){return this.$store.getters["groups/currentItemOrNew"]},filteredMembers:function(){var e=this;return this.group.members?this.group.members.filter((function(t){return e.matchesFilters(t)})).filter((function(t){return e.filters.hideAlumns?null===t.end_date:t})):[]},fieldsForGroupType:function(){var e=Object(E["a"])(this.tableFields);return this.group.isEp()||e.splice(e.findIndex((function(e){return"coi_last_completed"==e.name})),1),e},roles:function(){return B.groups.roles},coiCuttoff:function(){var e=new Date;return e.setFullYear(e.getFullYear()-1),e},selectedMemberName:function(){return this.selectedMember?this.selectedMember.person.name:null}},watch:{group:{immediate:!0,handler:function(e,t){!e.id||t&&e.id==t.id||this.$store.dispatch("groups/getMembers",this.group)}}},setup:function(){var e=Object(D["a"])({field:"person.last_name",desc:!1}),t=e.sort,r=e.filter;return{sort:t,filter:r,yearAgo:S["d"]}},methods:{toggleFilter:function(){this.showFilter=!this.showFilter},matchesFilters:function(e){return!(this.filters.keyword&&!e.matchesKeyword(this.filters.keyword))&&(!(this.filters.roleId&&!e.hasRole(this.filters.roleId))&&((!this.filters.needsCoi||!e.coiUpToDate())&&(!this.filters.needsTraining||!e.trainingComplete())))},toggleItemDetails:function(e){e.showDetails=!e.showDetails},titleCase:function(e){return Object(ae["e"])(e)},formatDate:function(e){return Object(S["a"])(e)},editMember:function(e){this.$router.push(this.append(this.$route.path,"members/".concat(e.id)))},confirmRetireMember:function(e){this.showConfirmRetire=!0,this.selectedMember=e},retireMember:function(e){var t=this;return Object(C["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,t.$store.dispatch("groups/memberRetire",{uuid:t.group.uuid,memberId:e.id,startDate:e.start_date,endDate:(new Date).toISOString()});case 3:t.cancelRetire(),r.next=9;break;case 6:r.prev=6,r.t0=r["catch"](0),console.error(r.t0);case 9:case"end":return r.stop()}}),r,null,[[0,6]])})))()},cancelRetire:function(){this.selectedMember=null,this.showConfirmRetire=!1},confirmRemoveMember:function(e){this.showConfirmRemove=!0,this.selectedMember=e},removeMember:function(){var e=this;return Object(C["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.$store.dispatch("groups/memberRemove",{uuid:e.group.uuid,memberId:e.selectedMember.id,startDate:e.selectedMember.start_date,endDate:(new Date).toISOString()});case 3:e.cancelRemove(),t.next=9;break;case 6:t.prev=6,t.t0=t["catch"](0),console.error(t.t0);case 9:case"end":return t.stop()}}),t,null,[[0,6]])})))()},cancelRemove:function(){this.selectedMember=null,this.showConfirmRemove=!1},goToMember:function(e){this.$router.push({name:"PersonDetail",params:{uuid:e.person.uuid}})},hasAnyMemberPermission:function(){var e=this.hasAnyPermission([["members-update",this.group],["members-retire",this.group],["members-remove",this.group],"groups-manage"]);return e},getCoiDateStyle:function(e){return null===e.coi_last_completed?"text-red-700":"text-yellow-500"}}};r("6a0e");ie.render=N;t["a"]=ie},"1d7f":function(e,t,r){"use strict";var n=r("7a23"),o={class:"mb-4"},c={class:"mt-2"},a=["disabled"],i=Object(n["createElementVNode"])("div",null,"Process #1: Biocurator review followed by VCEP discussion",-1),l={class:"mt-2"},u=["disabled"],s=Object(n["createElementVNode"])("div",null,"Process #2: Paired biocurator/expert review followed by expedited VCEP approval",-1),d=Object(n["createElementVNode"])("p",{class:"text-sm mb-0"},"For all variants approved by either of the processes described above, a summary of approved variants should be sent to ensure that any members absent from a call have an opportunity to review each variant. The summary should be emailed to the full VCEP after the call and should summarize decisions that were made and invite feedback within a week.",-1),m={key:1};function p(e,t,r,p,b,f){var O=Object(n["resolveComponent"])("input-row");return Object(n["openBlock"])(),Object(n["createElementBlock"])("div",null,[Object(n["createElementVNode"])("div",o,[Object(n["createVNode"])(O,{modelValue:f.group.expert_panel.meeting_frequency,"onUpdate:modelValue":t[0]||(t[0]=function(e){return f.group.expert_panel.meeting_frequency=e}),label:"Meeting/call frequency",errors:r.errors.meeting_frequency,placeholder:"Once per week","label-width-class":"w-44",disabled:!f.canEdit},null,8,["modelValue","errors","disabled"]),Object(n["createVNode"])(O,{label:"VCEP Standardized Review Process",errors:r.errors.curation_review_protocol_id,vertical:""},{default:Object(n["withCtx"])((function(){return[Object(n["createElementVNode"])("div",null,[Object(n["createElementVNode"])("label",c,[Object(n["withDirectives"])(Object(n["createElementVNode"])("input",{type:"radio","onUpdate:modelValue":t[1]||(t[1]=function(e){return f.group.expert_panel.curation_review_protocol_id=e}),value:"1",class:"mt-1",disabled:!f.canEdit},null,8,a),[[n["vModelRadio"],f.group.expert_panel.curation_review_protocol_id]]),i]),Object(n["createElementVNode"])("label",l,[Object(n["withDirectives"])(Object(n["createElementVNode"])("input",{type:"radio","onUpdate:modelValue":t[2]||(t[2]=function(e){return f.group.expert_panel.curation_review_protocol_id=e}),value:"2",class:"mt-1",disabled:!f.canEdit},null,8,u),[[n["vModelRadio"],f.group.expert_panel.curation_review_protocol_id]]),s])])]})),_:1},8,["errors"])]),d,Object(n["createVNode"])(O,{label:"Curation and Review Process Notes",vertical:!0,"label-class":"font-bold"},{default:Object(n["withCtx"])((function(){return[f.canEdit?Object(n["withDirectives"])((Object(n["openBlock"])(),Object(n["createElementBlock"])("textarea",{key:0,class:"w-full h-20","onUpdate:modelValue":t[3]||(t[3]=function(e){return f.group.expert_panel.curation_review_process_notes=e})},null,512)),[[n["vModelText"],f.group.expert_panel.curation_review_process_notes]]):(Object(n["openBlock"])(),Object(n["createElementBlock"])("blockquote",m,Object(n["toDisplayString"])(f.group.expert_panel.curation_review_process_notes),1))]})),_:1})])}var b={name:"VcepOngoingPlansForm",props:{errors:{type:Object,required:!1,default:function(){return{}}},editing:{type:Boolean,required:!1,default:!0},readonly:{type:Boolean,required:!1,default:!1}},computed:{group:{get:function(){return this.$store.getters["groups/currentItemOrNew"]},set:function(e){this.$store.commit("groups/addItem",e)}},canEdit:function(){return this.hasAnyPermission(["ep-applications-manage",["application-edit",this.group]])&&!this.readonly}}};b.render=p;t["a"]=b},"206f":function(e,t,r){"use strict";var n=r("7a23"),o={class:"flex justify-between mb-2"},c=Object(n["createTextVNode"])(" Gene List "),a={key:0},i={key:1},l={key:0,style:{"text-indent":"1rem"}};function u(e,t,r,u,s,d){var m=Object(n["resolveComponent"])("edit-icon-button"),p=Object(n["resolveComponent"])("input-row");return Object(n["openBlock"])(),Object(n["createElementBlock"])("div",null,[Object(n["createElementVNode"])("h4",o,[c,!e.hasAnyPermission(["groups-manage",["application-edit",u.group]])||r.editing||r.readonly?Object(n["createCommentVNode"])("",!0):(Object(n["openBlock"])(),Object(n["createBlock"])(m,{key:0,onClick:d.showForm},null,8,["onClick"]))]),r.editing?(Object(n["openBlock"])(),Object(n["createElementBlock"])("div",a,[Object(n["createVNode"])(p,{vertical:!0,label:"List the gene symbols for the genes the Expert Panel plans to curate.  Separate genes by commas, spaces, or new lines.",errors:u.errors.genes},{default:Object(n["withCtx"])((function(){return[Object(n["withDirectives"])(Object(n["createElementVNode"])("textarea",{"onUpdate:modelValue":t[0]||(t[0]=function(e){return u.genesAsText=e}),class:"w-full",rows:"5",placeholder:"ABC, DEF1, BEAN",onInput:t[1]||(t[1]=function(t){return e.$emit("geneschanged")})},null,544),[[n["vModelText"],u.genesAsText]])]})),_:1},8,["errors"])])):(Object(n["openBlock"])(),Object(n["createElementBlock"])("div",i,[u.genesAsText?(Object(n["openBlock"])(),Object(n["createElementBlock"])("p",l,Object(n["toDisplayString"])(u.genesAsText),1)):(Object(n["openBlock"])(),Object(n["createElementBlock"])("div",{key:1,class:"well cursor-pointer",onClick:t[2]||(t[2]=function(){return d.showForm&&d.showForm.apply(d,arguments)})},Object(n["toDisplayString"])(u.loading?"Loading...":"No genes have been added to the gene list."),1))]))])}function s(e){if(Array.isArray(e))return e}r("a4d3"),r("e01a"),r("d3b7"),r("d28b"),r("3ca3"),r("ddb0");function d(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,c=[],a=!0,i=!1;try{for(r=r.call(e);!(a=(n=r.next()).done);a=!0)if(c.push(n.value),t&&c.length===t)break}catch(l){i=!0,o=l}finally{try{a||null==r["return"]||r["return"]()}finally{if(i)throw o}}return c}}var m=r("06c5");function p(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function b(e,t){return s(e)||d(e,t)||Object(m["a"])(e,t)||p()}var f=r("1da1"),O=(r("96cf"),r("a15b"),r("d81d"),r("4de4"),r("ac1f"),r("1276"),r("4d63"),r("25f0"),r("159b"),r("b64b"),r("99af"),r("5502")),j=r("a75a"),h=r("033d"),g=r("f96b"),v={name:"GcepGeneList",components:{},props:{editing:{type:Boolean,required:!1,default:!0},readonly:{type:Boolean,required:!1,default:!1}},computed:{canEdit:function(){return this.hasAnyPermission(["groups-manage",["application-edit",this.group]])}},emits:["saved","canceled","update:editing","geneschanged"],methods:{showForm:function(){this.canEdit&&(this.resetErrors(),this.$emit("update:editing",!0))}},setup:function(e,t){var r=Object(O["d"])(),o=Object(n["ref"])(!1),c=Object(n["ref"])(null),a=Object(j["a"])(e,t),i=a.errors,l=a.resetErrors,u=Object(n["computed"])({get:function(){return r.getters["groups/currentItemOrNew"]},set:function(e){r.commit("groups/addItem",e)}}),s=function(){t.emit("update:editing",!1),i.value={}},d=function(){l(),p(),s(),t.emit("canceled")},m=function(){u.value.expert_panel&&(c.value=u.value.expert_panel.genes?u.value.expertPanel.genes.join(", "):null)},p=function(){var e=Object(f["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(u.value.uuid){e.next=2;break}return e.abrupt("return");case 2:return o.value=!0,e.prev=3,e.next=6,r.dispatch("groups/getGenes",u.value);case 6:c.value=u.value.expert_panel.genes.map((function(e){return e.gene_symbol})).join(", "),e.next=12;break;case 9:e.prev=9,e.t0=e["catch"](3),r.commit("pushError",e.t0.response.data);case 12:o.value=!1;case 13:case"end":return e.stop()}}),e,null,[[3,9]])})));return function(){return e.apply(this,arguments)}}(),v=function(){var e=Object(f["a"])(regeneratorRuntime.mark((function e(){var n,o,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=c.value?c.value.split(new RegExp(/[, \n]/)).filter((function(e){return""!==e})):[],e.prev=1,e.next=4,g["a"].post("/api/groups/".concat(u.value.uuid,"/expert-panel/genes"),{genes:n});case 4:s(),t.emit("saved"),p(),e.next=12;break;case 9:e.prev=9,e.t0=e["catch"](1),Object(h["a"])(e.t0)&&(o=e.t0.response.data.errors,o.group&&o.group.forEach((function(e){r.pushError(e)})),a=Object.keys(o).map((function(e){var t=e.split("."),r=b(t,2),c=r[0],a=r[1];if("genes"==c)return a?"Gene #".concat(parseInt(a)+1,', "').concat(n[a],"\" wasn't found in our records.  Please confirm it is currently an approved HGNC gene symbol."):o[e]})),i.value={genes:a});case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(){return e.apply(this,arguments)}}();return Object(n["watch"])((function(){return r.getters["groups/currentItem"]}),(function(e,t){!e.id||t&&e.id==t.id||p()})),Object(n["onMounted"])((function(){p()})),Object(n["watch"])((function(){return u.value.expert_panel.genes}),(function(){})),{group:u,genesAsText:c,loading:o,errors:i,resetErrors:l,hideForm:s,cancel:d,syncGenesAsText:m,save:v}}};v.render=u;t["a"]=v},"23d9":function(e,t,r){},"268c":function(e,t,r){"use strict";r("b0c0");var n=r("7a23"),o=Object(n["createElementVNode"])("option",{value:null},"Selectâ€¦",-1),c=["value"],a={key:0},i={key:0},l=Object(n["createTextVNode"])(" Affiliation ID "),u=Object(n["createTextVNode"])("admin-only"),s={key:0},d={key:1,class:"text-gray-400"},m={key:1},p={key:2},b=Object(n["createTextVNode"])(" Status: "),f=Object(n["createTextVNode"])("admin-only"),O=Object(n["createElementVNode"])("option",{value:null},null,-1),j=["value"],h=Object(n["createTextVNode"])(" Parent group: "),g=Object(n["createTextVNode"])("admin-only"),v=Object(n["createElementVNode"])("option",{value:null},"Select...",-1),y=Object(n["createElementVNode"])("option",{value:0},"None",-1),w=["value"];function k(e,t,r,k,V,x){var _=Object(n["resolveComponent"])("input-row"),N=Object(n["resolveComponent"])("dictionary-row"),C=Object(n["resolveComponent"])("note");return Object(n["openBlock"])(),Object(n["createElementBlock"])("div",null,[x.canSetType?(Object(n["openBlock"])(),Object(n["createBlock"])(_,{key:0,label:"Type"},{default:Object(n["withCtx"])((function(){return[Object(n["withDirectives"])(Object(n["createElementVNode"])("select",{"onUpdate:modelValue":t[0]||(t[0]=function(e){return x.group.group_type_id=e}),class:"w-full"},[o,(Object(n["openBlock"])(!0),Object(n["createElementBlock"])(n["Fragment"],null,Object(n["renderList"])(V.groupTypes,(function(e){return Object(n["openBlock"])(),Object(n["createElementBlock"])("option",{key:e.id,value:e.id},Object(n["toDisplayString"])(e.fullname),9,c)})),128))],512),[[n["vModelSelect"],x.group.group_type_id]])]})),_:1})):(Object(n["openBlock"])(),Object(n["createBlock"])(N,{key:1,label:"Type"},{default:Object(n["withCtx"])((function(){return[Object(n["createTextVNode"])(Object(n["toDisplayString"])(x.typeDisplayName),1)]})),_:1})),Object(n["createVNode"])(n["Transition"],{name:"slide-fade-down",mode:"out-in"},{default:Object(n["withCtx"])((function(){return[x.group.group_type_id>2&&x.group.expert_panel?(Object(n["openBlock"])(),Object(n["createElementBlock"])("div",a,[Object(n["createVNode"])(_,{label:"Long Base Name",modelValue:x.group.expert_panel.long_base_name,"onUpdate:modelValue":t[1]||(t[1]=function(e){return x.group.expert_panel.long_base_name=e}),placeholder:"Long base name",errors:k.errors.long_base_name,"input-class":"w-full"},null,8,["modelValue","errors"]),Object(n["createVNode"])(_,{label:"Short Base Name",modelValue:x.group.expert_panel.short_base_name,"onUpdate:modelValue":t[2]||(t[2]=function(e){return x.group.expert_panel.short_base_name=e}),placeholder:"Short base name",errors:k.errors.short_base_name,"input-class":"w-full"},null,8,["modelValue","errors"]),e.hasAnyPermission(["groups-manage"])?(Object(n["openBlock"])(),Object(n["createElementBlock"])("div",i,[Object(n["createVNode"])(_,{label:"Affiliation ID",modelValue:x.group.expert_panel.affiliation_id,"onUpdate:modelValue":t[3]||(t[3]=function(e){return x.group.expert_panel.affiliation_id=e}),placeholder:x.affiliationIdPlaceholder,errors:k.errors.affiliation_id,"input-class":"w-full"},{label:Object(n["withCtx"])((function(){return[l,Object(n["createVNode"])(C,null,{default:Object(n["withCtx"])((function(){return[u]})),_:1})]})),_:1},8,["modelValue","placeholder","errors"])])):(Object(n["openBlock"])(),Object(n["createBlock"])(N,{key:1,label:"Affiliation ID"},{default:Object(n["withCtx"])((function(){return[x.group.expert_panel.affiliation_id?(Object(n["openBlock"])(),Object(n["createElementBlock"])("span",s,Object(n["toDisplayString"])(x.group.expert_panel.affiliation_id),1)):(Object(n["openBlock"])(),Object(n["createElementBlock"])("span",d,Object(n["toDisplayString"])("Not yet assigend")))]})),_:1}))])):(Object(n["openBlock"])(),Object(n["createElementBlock"])("div",m,[Object(n["createVNode"])(_,{modelValue:x.group.name,"onUpdate:modelValue":t[4]||(t[4]=function(e){return x.group.name=e}),placeholder:"Name",label:"Name","input-class":"w-full",errors:k.errors.name},null,8,["modelValue","errors"])]))]})),_:1}),e.hasPermission("groups-manage")?(Object(n["openBlock"])(),Object(n["createElementBlock"])("div",p,[Object(n["createVNode"])(_,{errors:k.errors.group_status_id},{label:Object(n["withCtx"])((function(){return[b,Object(n["createVNode"])(C,null,{default:Object(n["withCtx"])((function(){return[f]})),_:1})]})),default:Object(n["withCtx"])((function(){return[Object(n["withDirectives"])(Object(n["createElementVNode"])("select",{"onUpdate:modelValue":t[5]||(t[5]=function(e){return x.group.group_status_id=e}),class:"w-full"},[O,(Object(n["openBlock"])(!0),Object(n["createElementBlock"])(n["Fragment"],null,Object(n["renderList"])(V.groupStatuses,(function(t){return Object(n["openBlock"])(),Object(n["createElementBlock"])("option",{key:t.id,value:t.id},Object(n["toDisplayString"])(e.titleCase(t.name)),9,j)})),128))],512),[[n["vModelSelect"],x.group.group_status_id]])]})),_:1},8,["errors"]),Object(n["createVNode"])(_,{errors:k.errors.parent_id},{label:Object(n["withCtx"])((function(){return[h,Object(n["createVNode"])(C,null,{default:Object(n["withCtx"])((function(){return[g]})),_:1})]})),default:Object(n["withCtx"])((function(){return[Object(n["withDirectives"])(Object(n["createElementVNode"])("select",{"onUpdate:modelValue":t[6]||(t[6]=function(e){return x.group.parent_id=e}),class:"w-full"},[v,y,(Object(n["openBlock"])(!0),Object(n["createElementBlock"])(n["Fragment"],null,Object(n["renderList"])(V.parents,(function(e){return Object(n["openBlock"])(),Object(n["createElementBlock"])("option",{key:e.id,value:e.id},Object(n["toDisplayString"])(e.displayName),9,w)})),128))],512),[[n["vModelSelect"],x.group.parent_id]])]})),_:1},8,["errors"])])):Object(n["createCommentVNode"])("",!0)])}var V=r("1da1"),x=(r("96cf"),r("d3b7"),r("3ca3"),r("ddb0"),r("d81d"),r("4de4"),r("db04")),_=r("ae23"),N=r("4a91"),C=r("a75a"),E={name:"GroupForm",emits:["canceled","saved"],data:function(){return{groupTypes:[{id:1,fullname:"Working Group"},{id:2,fullname:"Clinical Domain Working Group"},{id:3,fullname:"GCEP"},{id:4,fullname:"VCEP"}],groupStatuses:N.groups.statuses,newGroup:new _["a"],parents:[]}},computed:{group:{get:function(){var e=this.$store.getters["groups/currentItem"];return e||this.newGroup},set:function(e){try{this.$store.commit("groups/addItem",e)}catch(t){this.newGroup=e}}},canSetType:function(){return this.hasPermission("groups-manage")&&!this.group.id},typeDisplayName:function(){return this.group.type?this.group.type.name?this.group.type.id<3?this.group.type.name.toUpperCase():this.group.expert_panel.type.name.toUpperCase():null:"ðŸ‡ðŸ¥š"},affiliationIdPlaceholder:function(){return 5e4},cdwgs:function(){return this.$store.getters["cdwgs/all"]},namesDirty:function(){return this.group.expert_panel.isDirty("long_base_name")||this.group.expert_panel.isDirty("short_base_name")},affiliationIdDirty:function(){return this.group.expert_panel.isDirty("affiliation_id")}},methods:{save:function(){var e=this;return Object(V["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(t.prev=0,e.resetErrors(),!e.group.id){t.next=8;break}return t.next=5,e.updateGroup();case 5:return e.$emit("saved"),e.$store.dispatch("groups/find",e.group.uuid),t.abrupt("return");case 8:return t.next=10,e.createGroup().then((function(e){return e.data.data}));case 10:r=t.sent,e.$emit("saved"),e.$store.commit("pushSuccess","Group created."),e.$router.push({name:"AddMember",params:{uuid:r.uuid}}),t.next=19;break;case 16:t.prev=16,t.t0=t["catch"](0),Object(x["b"])(t.t0)&&(e.errors=t.t0.response.data.errors);case 19:case"end":return t.stop()}}),t,null,[[0,16]])})))()},createGroup:function(){var e=this.group.attributes,t=e.name,r=e.parent_id,n=e.group_type_id,o=e.group_status_id,c=this.group.expert_panel.short_base_name;return null===t&&this.group.expert_panel&&(t=this.group.expert_panel.long_base_name),this.$store.dispatch("groups/create",{name:t,parent_id:r,group_type_id:n,group_status_id:o,short_base_name:c})},updateGroup:function(){var e=[];return e.push(this.saveGroupData()),this.group.expert_panel&&e.push(this.saveEpData()),Promise.all(e)},saveGroupData:function(){var e=[];return this.group.isDirty("parent_id")&&e.push(this.saveParent()),this.group.isDirty("name")&&e.push(this.saveName()),this.group.isDirty("group_status_id")&&e.push(this.saveStatus()),Promise.all(e)},saveEpData:function(){var e=this;return Object(V["a"])(regeneratorRuntime.mark((function t(){var r,n,o,c;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=[],e.namesDirty&&(n=e.group.expert_panel,o=n.long_base_name,c=n.short_base_name,r.push(e.submitFormData({method:"put",url:"/api/groups/".concat(e.group.uuid,"/expert-panel/name"),data:{long_base_name:o,short_base_name:c}}))),e.affiliationIdDirty&&r.push(e.submitFormData({method:"put",url:"/api/groups/".concat(e.group.uuid,"/expert-panel/affiliation-id"),data:{affiliation_id:e.affiliationId}})),t.next=5,Promise.all(r);case 5:return t.abrupt("return",t.sent);case 6:case"end":return t.stop()}}),t)})))()},isDirty:function(e){return this.group[e]!=this.group[e]},saveParent:function(){return this.submitFormData({method:"put",url:"/api/groups/".concat(this.group.uuid,"/parent"),data:{parent_id:this.group.parent_id}})},saveName:function(){return this.submitFormData({method:"put",url:"/api/groups/".concat(this.group.uuid,"/name"),data:{name:this.group.name}})},saveStatus:function(){return this.submitFormData({method:"put",url:"/api/groups/".concat(this.group.uuid,"/status"),data:{status_id:this.group.group_status_id}})},resetData:function(){this.group.uuid&&this.$store.dispatch("groups/find",this.group.uuid)},cancel:function(){this.group.uuid&&this.resetData(),this.$emit("canceled")},getParentOptions:function(){var e=this;return Object(V["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,x["a"].get("/api/groups").then((function(t){return t.data.filter((function(t){return t.id!=e.group.id})).map((function(e){return new _["a"](e)}))}));case 2:e.parents=t.sent;case 3:case"end":return t.stop()}}),t)})))()}},beforeMount:function(){this.getParentOptions(),this.$store.dispatch("cdwgs/getAll")},setup:function(e,t){var r=Object(C["a"])(e,t),n=r.errors,o=r.submitFormData,c=r.resetErrors;return{errors:n,submitFormData:o,resetErrors:c}}};E.render=k;t["a"]=E},"284a":function(e,t,r){"use strict";var n=r("7a23"),o={class:"flex space-x-2"};function c(e,t,r,c,a,i){var l=Object(n["resolveComponent"])("icon-checkmark"),u=Object(n["resolveComponent"])("icon-exclamation");return Object(n["openBlock"])(),Object(n["createElementBlock"])("div",o,[r.requirement.isMet?(Object(n["openBlock"])(),Object(n["createBlock"])(l,{key:0,class:"text-green-600"})):(Object(n["openBlock"])(),Object(n["createBlock"])(u,{key:1,class:"text-yellow-400"})),Object(n["createElementVNode"])("div",null,Object(n["toDisplayString"])(r.requirement.label),1)])}var a={name:"RequirementsItem",props:{requirement:{type:Object,required:!0}}};a.render=c;t["a"]=a},"324b":function(e,t,r){"use strict";var n=r("7a23"),o={key:0},c={class:"text-lg pr-4"},a={key:1,class:"well text-center"},i={class:"text-lg pr-4"};function l(e,t,r,l,u,s){var d=Object(n["resolveComponent"])("evidence-summary"),m=Object(n["resolveComponent"])("evidence-summary-form");return Object(n["openBlock"])(),Object(n["createElementBlock"])("div",null,[u.summaries.length>0?(Object(n["openBlock"])(),Object(n["createElementBlock"])("ul",o,[Object(n["createVNode"])(n["TransitionGroup"],{name:"slide-fade-down"},{default:Object(n["withCtx"])((function(){return[(Object(n["openBlock"])(!0),Object(n["createElementBlock"])(n["Fragment"],null,Object(n["renderList"])(s.group.expert_panel.evidence_summaries,(function(e,t){return Object(n["openBlock"])(),Object(n["createElementBlock"])("li",{class:"my-4 flex",key:t},[Object(n["createElementVNode"])("div",c,Object(n["toDisplayString"])(t+1),1),Object(n["createVNode"])(d,{summary:e,group:s.group,onSaved:s.handleSavedSummary,onDeleted:s.handleDeleted,class:"flex-1",readonly:r.readonly},null,8,["summary","group","onSaved","onDeleted","readonly"])])})),128))]})),_:1})])):u.loading?(Object(n["openBlock"])(),Object(n["createElementBlock"])("div",a,"Loading...")):(Object(n["openBlock"])(),Object(n["createElementBlock"])("div",{key:2,class:"well text-center cursor-pointer",onClick:t[0]||(t[0]=function(){return s.startNewSummary&&s.startNewSummary.apply(s,arguments)})},"No example evidence summaries have been added.")),Object(n["withDirectives"])(Object(n["createElementVNode"])("ul",null,[(Object(n["openBlock"])(!0),Object(n["createElementBlock"])(n["Fragment"],null,Object(n["renderList"])(u.newSummaries,(function(e,t){return Object(n["openBlock"])(),Object(n["createElementBlock"])("li",{class:"my-4 flex",key:t},[Object(n["createElementVNode"])("div",i,Object(n["toDisplayString"])(t+1+u.summaries.length),1),Object(n["createVNode"])(m,{class:"flex-1",group:s.group,summary:e,onSaved:s.handleSavedSummary,onCanceled:s.cancelAdd},null,8,["group","summary","onSaved","onCanceled"])])})),128))],512),[[n["vShow"],s.adding]]),Object(n["withDirectives"])(Object(n["createElementVNode"])("div",null,[Object(n["withDirectives"])(Object(n["createElementVNode"])("button",{class:"btn btn-xs",onClick:t[1]||(t[1]=function(){return s.startNewSummary&&s.startNewSummary.apply(s,arguments)})},"Add Summary",512),[[n["vShow"],!s.adding]])],512),[[n["vShow"],!s.adding&&s.canEdit]])])}var u=r("1da1"),s=(r("c740"),r("a434"),r("96cf"),r("f96b")),d={key:0,class:"p-2 border rounded"},m={class:"flex justify-between"},p=Object(n["createElementVNode"])("button",{class:"btn btn-xs"},"â€¦",-1),b=Object(n["createTextVNode"])("Edit"),f=Object(n["createTextVNode"])("Delete"),O=["href"];function j(e,t,r,o,c,a){var i=Object(n["resolveComponent"])("dropdown-item"),l=Object(n["resolveComponent"])("dropdown-menu"),u=Object(n["resolveComponent"])("evidence-summary-form"),s=Object(n["resolveComponent"])("button-row"),j=Object(n["resolveComponent"])("modal-dialog");return Object(n["openBlock"])(),Object(n["createElementBlock"])("div",null,[Object(n["createVNode"])(n["Transition"],{mode:"out-in",name:"fade"},{default:Object(n["withCtx"])((function(){return[c.editing?(Object(n["openBlock"])(),Object(n["createBlock"])(u,{key:1,summary:r.summary,group:r.group,onSaved:a.handleSaved,onCanceled:a.cancelEdit},null,8,["summary","group","onSaved","onCanceled"])):(Object(n["openBlock"])(),Object(n["createElementBlock"])("div",d,[Object(n["createElementVNode"])("header",m,[Object(n["createElementVNode"])("h4",null,Object(n["toDisplayString"])(r.summary.gene.gene_symbol)+" - "+Object(n["toDisplayString"])(r.summary.variant),1),a.canEdit?(Object(n["openBlock"])(),Object(n["createBlock"])(l,{key:0,"hide-cheveron":!0,class:"relative"},{label:Object(n["withCtx"])((function(){return[p]})),default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(i,{onClick:t[0]||(t[0]=function(e){return a.edit()})},{default:Object(n["withCtx"])((function(){return[b]})),_:1}),Object(n["createVNode"])(i,{onClick:t[1]||(t[1]=function(e){return a.confirmDelete()})},{default:Object(n["withCtx"])((function(){return[f]})),_:1})]})),_:1})):Object(n["createCommentVNode"])("",!0)]),Object(n["createElementVNode"])("p",null,Object(n["toDisplayString"])(r.summary.summary),1),r.summary.vci_url?(Object(n["openBlock"])(),Object(n["createElementBlock"])("a",{key:0,class:"link",href:r.summary.vci_url,target:"_blank"}," View in the VCI ",8,O)):Object(n["createCommentVNode"])("",!0)]))]})),_:1}),(Object(n["openBlock"])(),Object(n["createBlock"])(n["Teleport"],{to:"body"},[Object(n["createVNode"])(j,{modelValue:c.showDeleteConfirm,"onUpdate:modelValue":t[2]||(t[2]=function(e){return c.showDeleteConfirm=e}),title:"You are about to delete an example evidence summary."},{default:Object(n["withCtx"])((function(){return[Object(n["createTextVNode"])(" You are about to delete an evidence summary for "+Object(n["toDisplayString"])(r.summary.gene.gene_symbol)+" - "+Object(n["toDisplayString"])(r.summary.variant)+". Are you sure you want to continue? ",1),Object(n["createVNode"])(s,{onSubmit:a.deleteSummary,onCancel:a.cancelDelete,"submit-text":"Delete Summary"},null,8,["onSubmit","onCancel"])]})),_:1},8,["modelValue"])]))])}r("99af");var h={class:"flex space-x-2"},g=Object(n["createElementVNode"])("option",{value:null},"Select...",-1),v=["value"];function y(e,t,r,o,c,a){var i=Object(n["resolveComponent"])("input-row"),l=Object(n["resolveComponent"])("button-row");return Object(n["openBlock"])(),Object(n["createElementBlock"])("div",null,[Object(n["createElementVNode"])("div",h,[Object(n["createVNode"])(i,{class:"mt-0 mb-0",vertical:!0,label:"Gene",errors:c.errors.gene_id},{default:Object(n["withCtx"])((function(){return[Object(n["withDirectives"])(Object(n["createElementVNode"])("select",{"onUpdate:modelValue":t[0]||(t[0]=function(e){return c.summaryClone.gene_id=e})},[g,(Object(n["openBlock"])(!0),Object(n["createElementBlock"])(n["Fragment"],null,Object(n["renderList"])(c.groupGenes,(function(e){return Object(n["openBlock"])(),Object(n["createElementBlock"])("option",{value:e.id,key:e.id},Object(n["toDisplayString"])(e.gene.gene_symbol),9,v)})),128))],512),[[n["vModelSelect"],c.summaryClone.gene_id]])]})),_:1},8,["errors"]),Object(n["createVNode"])(i,{class:"mt-0 mb-0",modelValue:c.summaryClone.variant,"onUpdate:modelValue":t[1]||(t[1]=function(e){return c.summaryClone.variant=e}),vertical:!0,label:"Variant",errors:c.errors.variant},null,8,["modelValue","errors"])]),Object(n["createVNode"])(i,{class:"mt-0 mb-0",label:"Summary",vertical:!0,errors:c.errors.summary},{default:Object(n["withCtx"])((function(){return[Object(n["withDirectives"])(Object(n["createElementVNode"])("textarea",{rows:"5",class:"w-full","onUpdate:modelValue":t[2]||(t[2]=function(e){return c.summaryClone.summary=e})},null,512),[[n["vModelText"],c.summaryClone.summary]])]})),_:1},8,["errors"]),Object(n["createVNode"])(i,{class:"mt-0",modelValue:c.summaryClone.vci_url,"onUpdate:modelValue":t[3]||(t[3]=function(e){return c.summaryClone.vci_url=e}),label:"VCI URL",vertical:!0,"input-class":"w-full",errors:c.errors.vci_url},null,8,["modelValue","errors"]),Object(n["createVNode"])(l,{"submit-text":"save",onSubmit:a.save,onCancel:a.cancel},null,8,["onSubmit","onCancel"])])}var w=r("5530"),k=r("033d"),V={name:"EvidenceSummaryForm",props:{group:{required:!0,type:Object},summary:{required:!0,type:Object}},emits:["saved","canceled"],data:function(){return{groupGenes:[],summaryClone:{gene:{}},errors:{}}},computed:{},watch:{group:{immediate:!0,handler:function(){this.group&&this.group.id&&this.getGroupGenes()}},summary:{immediate:!0,handler:function(){this.summaryClone=Object(w["a"])({},this.summary)}}},methods:{save:function(){var e=this;return Object(u["a"])(regeneratorRuntime.mark((function t(){var r,n,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,r="/api/groups/".concat(e.group.uuid,"/expert-panel/evidence-summaries"),n="post",e.summaryClone.id&&(r+="/".concat(e.summaryClone.id),n="put"),t.next=6,Object(s["a"])({method:n,url:r,data:e.summaryClone}).then((function(e){return e.data.data}));case 6:o=t.sent,e.$emit("saved",o),e.$store.commit("pushSuccess","Saved example evidence summary"),e.editing=!1,t.next=15;break;case 12:t.prev=12,t.t0=t["catch"](0),Object(k["a"])(t.t0)&&(e.errors=t.t0.response.data.errors);case 15:case"end":return t.stop()}}),t,null,[[0,12]])})))()},cancel:function(){this.initSummaryClone(),this.$emit("canceled")},edit:function(e){e.editing=!0},getGroupGenes:function(){var e=this;return Object(u["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,s["a"].get("/api/groups/".concat(e.group.uuid,"/expert-panel/genes")).then((function(e){return e.data}));case 2:e.groupGenes=t.sent;case 3:case"end":return t.stop()}}),t)})))()},initSummaryClone:function(){this.summaryClone={gene:{}}}}};V.render=y;var x=V,_={components:{EvidenceSummaryForm:x},name:"EvidenceSummary",props:{summary:{required:!0,type:Object},group:{required:!0,type:Object},readonly:{type:Boolean,required:!1,default:!1}},emits:["edit","saved","deleted"],data:function(){return{editing:!1,showDeleteConfirm:!1}},computed:{canEdit:function(){return this.hasAnyPermission(["ep-applications-manage",["application-edit",this.group]])&&!this.readonly}},methods:{handleSaved:function(e){this.$emit("saved",e),this.editing=!1},edit:function(){this.editing=!0},cancelEdit:function(){this.editing=!1},confirmDelete:function(){this.showDeleteConfirm=!0},deleteSummary:function(){var e=this;return Object(u["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,s["a"].delete("/api/groups/".concat(e.group.uuid,"/application/evidence-summaries/").concat(e.summary.id));case 3:e.$emit("deleted",e.summary),t.next=9;break;case 6:t.prev=6,t.t0=t["catch"](0),console.error(t.t0);case 9:e.showDeleteConfirm=!1;case 10:case"end":return t.stop()}}),t,null,[[0,6]])})))()},cancelDelete:function(){this.showDeleteConfirm=!1}}};_.render=j;var N=_,C={name:"EvidenceSummaryList",components:{EvidenceSummary:N,EvidenceSummaryForm:x},emits:["summaries-added"],props:{readonly:{type:Boolean,required:!1,default:!1}},data:function(){return{newSummaries:[],errors:{},summaries:[],showDeleteConfirm:!1,selectedSummary:{gene:{}},loading:!1}},computed:{group:{get:function(){return this.$store.getters["groups/currentItemOrNew"]},set:function(e){this.$store.commit("groups/addItem",e)}},meetsRequirements:function(){return this.summaries.length>4},adding:function(){return this.newSummaries.length>0},canEdit:function(){return this.hasAnyPermission(["ep-applications-manage",["application-edit",this.group]])&&!this.readonly}},watch:{group:{immediate:!0,handler:function(){this.group&&this.group.id&&this.getEvidenceSummaries()}}},methods:{getEvidenceSummaries:function(){var e=this;return Object(u["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.loading=!0,t.prev=1,t.next=4,e.$store.dispatch("groups/getEvidenceSummaries",e.group);case 4:e.summaries=t.sent,t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](1),console.log(t.t0);case 10:e.loading=!1;case 11:case"end":return t.stop()}}),t,null,[[1,7]])})))()},startNewSummary:function(){this.newSummaries.push({gene:null,variant:null,summary:null})},clearNewSummaries:function(){this.newSummaries=[]},handleSavedSummary:function(e){this.getEvidenceSummaries(),this.clearNewSummaries(),this.$emit("summaries-added")},handleDeleted:function(e){var t=this.summaries.findIndex((function(t){return t.id==e.id}));t>-1&&this.summaries.splice(t,1),this.getEvidenceSummaries()},cancelAdd:function(){this.clearNewSummaries()},mergeSummary:function(e){var t=this.summaries.findIndex((function(t){return t.id==e.id}));t>-1?this.summaries.splice(t,1,e):this.summaries.push(e)}}};C.render=l;t["a"]=C},"3a9d":function(e,t,r){"use strict";var n=r("7a23"),o={key:0};function c(e,t,r,c,a,i){var l=Object(n["resolveComponent"])("requirements-item"),u=Object(n["resolveComponent"])("badge"),s=Object(n["resolveComponent"])("popover");return i.hasRequirements?(Object(n["openBlock"])(),Object(n["createElementBlock"])("div",o,[Object(n["createVNode"])(s,{arrow:"",hover:""},{content:Object(n["withCtx"])((function(){return[Object(n["createElementVNode"])("div",null,[(Object(n["openBlock"])(!0),Object(n["createElementBlock"])(n["Fragment"],null,Object(n["renderList"])(i.evaledRequirements,(function(e,t){return Object(n["openBlock"])(),Object(n["createBlock"])(l,{key:t,requirement:e},null,8,["requirement"])})),128))])]})),default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(u,{color:i.badgeColor,class:"cursor-pointer"},{default:Object(n["withCtx"])((function(){return[Object(n["createTextVNode"])(Object(n["toDisplayString"])(i.badgeText),1)]})),_:1},8,["color"])]})),_:1})])):Object(n["createCommentVNode"])("",!0)}r("99af");var a=r("284a"),i={name:"RequirementsBadge",components:{RequirementsItem:a["a"]},props:{section:{type:Object,required:!0}},data:function(){return{}},computed:{group:function(){return this.$store.getters["groups/currentItemOrNew"]},meetsRequirements:function(){return this.section.meetsRequirements(this.group)},badgeColor:function(){return this.meetsRequirements?"green":"yellow"},badgeText:function(){var e=this.section.metRequirements(this.group).length;return"Requirements: ".concat(e," / ").concat(this.section.requirements.length)},evaledRequirements:function(){return this.section.evaluateRequirements(this.group)},hasRequirements:function(){return this.section.hasRequirements}},methods:{}};i.render=c;t["a"]=i},5257:function(e,t,r){"use strict";var n=r("5530"),o=(r("caad"),r("2532"),r("b64b"),r("ac1f"),r("5319"),r("4de4"),r("6c02")),c=r("7a23");t["a"]=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=Object(o["d"])(),r=Object(o["c"])();e||(console.log('Warning: defaultSort is deprecated.  Please provide a sort object: {field: "fieldname", desc: boolean}'),e=e||{field:"name",desc:!1});var a=Object(c["computed"])({immediate:!0,get:function(){return Object.keys(r.query).includes("sort-field")?{field:r.query["sort-field"],desc:Boolean(parseInt(r.query["sort-desc"]))}:e},set:function(e){var o={"sort-field":e.field,"sort-desc":e.desc?1:0},c=Object(n["a"])(Object(n["a"])({},r.query),o);t.replace({path:r.path,query:c})}}),i=Object(c["computed"])({set:function(e){var o=r.query,c=r.path,a=Object(n["a"])({},o);e?a=Object(n["a"])(Object(n["a"])({},o),{filter:e}):delete a.filter,t.replace({path:c,query:a})},get:function(){return r.query.filter},immediate:!0});return{sort:a,filter:i}}},"62a2":function(e,t,r){"use strict";var n=r("7a23"),o=Object(n["createElementVNode"])("header",{class:"flex justify-between items-center"},[Object(n["createElementVNode"])("h4",null,"Gene/Disease List")],-1),c={class:"my-2"},a={key:0,class:"border-none"},i=Object(n["createElementVNode"])("th",{style:{"min-width":"10rem"}},"HGNC Symbol",-1),l=Object(n["createElementVNode"])("th",{style:{"min-width":"15rem"}},"Disease",-1),u=Object(n["createElementVNode"])("th",{style:{"max-width":"9rem"}},"Date Approved",-1),s={key:0,style:{width:"5rem"}},d={key:0},m={colspan:"4"},p={class:"p-2 text-center font-bold"},b={key:0},f={key:1},O=Object(n["createElementVNode"])("p",null,"There are no gene/disease pairs in the gene list.",-1),j={key:1},h={key:0},g={key:0},v=Object(n["createElementVNode"])("button",{class:"btn btn-xs"},"â€¦",-1),y=Object(n["createTextVNode"])("Edit"),w=Object(n["createTextVNode"])("Remove"),k={key:1},V=["onClick"],x={colspan:"2"},_=["onClick"],N=["onClick"],C={key:0},E=Object(n["createElementVNode"])("tr",null,[Object(n["createElementVNode"])("td",{colspan:"5",class:"bg-white border-white h-4"})],-1),B=Object(n["createElementVNode"])("tr",null,[Object(n["createElementVNode"])("td",null,"HGNC Symbol"),Object(n["createElementVNode"])("td",{colspan:"4"},"Disesase")],-1),S=[E,B],D={colspan:"4"},R={key:0},T={colspan:"5",class:"border-white"},G={class:"-mx-2 my-2 flex space-x-2"},P={class:"flex space-x-2"};function M(e,t,r,E,B,M){var I=Object(n["resolveComponent"])("dropdown-item"),q=Object(n["resolveComponent"])("dropdown-menu"),F=Object(n["resolveComponent"])("note"),A=Object(n["resolveComponent"])("gene-search-select"),U=Object(n["resolveComponent"])("input-row"),$=Object(n["resolveComponent"])("disease-search-select");return Object(n["openBlock"])(),Object(n["createElementBlock"])("div",null,[o,Object(n["createElementVNode"])("div",c,[E.genes?(Object(n["openBlock"])(),Object(n["createElementBlock"])("table",a,[Object(n["createElementVNode"])("thead",null,[Object(n["createElementVNode"])("tr",null,[i,l,u,E.canEdit?(Object(n["openBlock"])(),Object(n["createElementBlock"])("th",s)):Object(n["createCommentVNode"])("",!0)])]),Object(n["createVNode"])(n["TransitionGroup"],{name:"fade",mode:"out-in"},{default:Object(n["withCtx"])((function(){return[0==E.genes.length?(Object(n["openBlock"])(),Object(n["createElementBlock"])("tbody",d,[Object(n["createElementVNode"])("tr",null,[Object(n["createElementVNode"])("td",m,[Object(n["createElementVNode"])("div",p,[E.loading?(Object(n["openBlock"])(),Object(n["createElementBlock"])("span",b,"Loading...")):(Object(n["openBlock"])(),Object(n["createElementBlock"])("div",f,[O,E.canEdit?(Object(n["openBlock"])(),Object(n["createElementBlock"])("button",{key:0,class:"btn blue btn-sm",onClick:t[0]||(t[0]=function(){return E.addNewGene&&E.addNewGene.apply(E,arguments)})},"Add a gene/disease pair")):Object(n["createCommentVNode"])("",!0)]))])])])])):(Object(n["openBlock"])(),Object(n["createElementBlock"])("tbody",j,[Object(n["createVNode"])(n["TransitionGroup"],{name:"slide-fade-down"},{default:Object(n["withCtx"])((function(){return[(Object(n["openBlock"])(!0),Object(n["createElementBlock"])(n["Fragment"],null,Object(n["renderList"])(E.orderedGenes,(function(t){return Object(n["openBlock"])(),Object(n["createElementBlock"])("tr",{key:t.id},[t.edit?(Object(n["openBlock"])(),Object(n["createElementBlock"])(n["Fragment"],{key:1},[Object(n["createElementVNode"])("td",null,[Object(n["createVNode"])(U,{label:"",errors:E.errors.hgnc_id,vertical:!0},{default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(A,{modelValue:t.gene,"onUpdate:modelValue":function(e){return t.gene=e}},null,8,["modelValue","onUpdate:modelValue"])]})),_:2},1032,["errors"])]),Object(n["createElementVNode"])("td",x,[Object(n["createVNode"])(U,{label:"",errors:E.errors.mondo_id,vertical:!0},{default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])($,{modelValue:t.disease,"onUpdate:modelValue":function(e){return t.disease=e}},null,8,["modelValue","onUpdate:modelValue"])]})),_:2},1032,["errors"])]),Object(n["createElementVNode"])("td",null,[Object(n["createElementVNode"])("button",{class:"btn btn-xs",onClick:function(e){return E.updateCancel(t)}},"Cancel",8,_),Object(n["createElementVNode"])("button",{class:"btn blue btn-xs",onClick:function(e){return E.updateGene(t)}},"Save",8,N)])],64)):(Object(n["openBlock"])(),Object(n["createElementBlock"])(n["Fragment"],{key:0},[Object(n["createElementVNode"])("td",null,Object(n["toDisplayString"])(t.gene_symbol),1),Object(n["createElementVNode"])("td",null,Object(n["toDisplayString"])(t.disease_name),1),Object(n["createElementVNode"])("td",null,Object(n["toDisplayString"])(e.formatDate(t.date_approved)),1),E.canEdit?(Object(n["openBlock"])(),Object(n["createElementBlock"])("td",h,[t.edit?Object(n["createCommentVNode"])("",!0):(Object(n["openBlock"])(),Object(n["createElementBlock"])("div",g,[t.toDelete?Object(n["createCommentVNode"])("",!0):(Object(n["openBlock"])(),Object(n["createBlock"])(q,{key:0,"hide-cheveron":!0,class:"relative"},{label:Object(n["withCtx"])((function(){return[v]})),default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(I,{onClick:function(e){return E.edit(t)}},{default:Object(n["withCtx"])((function(){return[y]})),_:2},1032,["onClick"]),Object(n["createVNode"])(I,{onClick:function(e){return E.remove(t)}},{default:Object(n["withCtx"])((function(){return[w]})),_:2},1032,["onClick"])]})),_:2},1024)),t.toDelete?(Object(n["openBlock"])(),Object(n["createElementBlock"])("div",k,[Object(n["createVNode"])(F,null,{default:Object(n["withCtx"])((function(){return[Object(n["createTextVNode"])("set for deletion in "+Object(n["toDisplayString"])(t.removeCountdown)+" seconds.",1)]})),_:2},1024),Object(n["createElementVNode"])("button",{onClick:function(e){return E.cancelPendingRemove(t)},class:"btn btn-xs"},"Cancel",8,V)])):Object(n["createCommentVNode"])("",!0)]))])):Object(n["createCommentVNode"])("",!0)],64))])})),128))]})),_:1})]))]})),_:1}),Object(n["createVNode"])(n["Transition"],{name:"slide-fade-down"},{default:Object(n["withCtx"])((function(){return[E.newGenes.length>0?(Object(n["openBlock"])(),Object(n["createElementBlock"])("thead",C,S)):Object(n["createCommentVNode"])("",!0)]})),_:1}),Object(n["createElementVNode"])("tbody",null,[Object(n["createVNode"])(n["TransitionGroup"],{name:"slide-fade-down"},{default:Object(n["withCtx"])((function(){return[(Object(n["openBlock"])(!0),Object(n["createElementBlock"])(n["Fragment"],null,Object(n["renderList"])(E.newGenes,(function(e,t){return Object(n["openBlock"])(),Object(n["createElementBlock"])("tr",{key:t},[Object(n["createElementVNode"])("td",null,[Object(n["createVNode"])(U,{label:"",errors:E.errors["genes.".concat(t,".hgnc_id")],vertical:!0},{default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(A,{modelValue:e.gene,"onUpdate:modelValue":function(t){return e.gene=t}},null,8,["modelValue","onUpdate:modelValue"])]})),_:2},1032,["errors"])]),Object(n["createElementVNode"])("td",D,[Object(n["createVNode"])(U,{label:"",errors:E.errors["diseases.".concat(t,".hgnc_id")],vertical:!0},{default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])($,{modelValue:e.disease,"onUpdate:modelValue":function(t){return e.disease=t}},null,8,["modelValue","onUpdate:modelValue"])]})),_:2},1032,["errors"])])])})),128))]})),_:1})]),E.canEdit?(Object(n["openBlock"])(),Object(n["createElementBlock"])("tr",R,[Object(n["createElementVNode"])("td",T,[Object(n["createElementVNode"])("div",G,[Object(n["createElementVNode"])("button",{onClick:t[1]||(t[1]=function(){return E.addNewGene&&E.addNewGene.apply(E,arguments)}),class:"btn btn-xs"},"Add Gene/Disease Pair"),Object(n["createVNode"])(n["Transition"],{name:"fade"},{default:Object(n["withCtx"])((function(){return[Object(n["createElementVNode"])("div",P,[E.newGenes.length>0?(Object(n["openBlock"])(),Object(n["createElementBlock"])("button",{key:0,class:"btn btn-xs",onClick:t[2]||(t[2]=function(){return E.cancel&&E.cancel.apply(E,arguments)})},"Cancel")):Object(n["createCommentVNode"])("",!0),E.newGenes.length>0?(Object(n["openBlock"])(),Object(n["createElementBlock"])("button",{key:1,class:"btn btn-xs blue",onClick:t[3]||(t[3]=function(){return E.save&&E.save.apply(E,arguments)})},"Save")):Object(n["createCommentVNode"])("",!0)])]})),_:1})])])])):Object(n["createCommentVNode"])("",!0)])):Object(n["createCommentVNode"])("",!0)])])}var I=r("1da1"),q=r("2909"),F=(r("96cf"),r("4e82"),r("99af"),r("d81d"),r("4de4"),r("f96b")),A=r("5502"),U=r("ce1b"),$=r("53b7"),L=r("033d"),z=r("2ef0"),H=r("1874"),W={name:"VcepGeneList",components:{GeneSearchSelect:U["default"],DiseaseSearchSelect:$["default"]},props:{readonly:{type:Boolean,required:!1,default:!1}},emits:["saved","canceled","editing"],setup:function(e,t){var r=Object(A["d"])(),o=Object(n["computed"])((function(){return r.getters["groups/currentItemOrNew"]})),c=Object(n["ref"])([]),a=function(){c.value.push({gene:null,disease:null})},i=Object(n["ref"])(!1),l=Object(n["ref"])({}),u=Object(n["ref"])([]),s=Object(n["computed"])((function(){var e=Object(q["a"])(u.value);return e.sort((function(e,t){return e.gene_symbol==t.gene_symbol?0:e.gene_symbol>t.gene_symbol?1:-1})),e})),d=function(){c.value=[],l.value={}},m=function(e){e.edit=!0},p=function(e){e.removeTimeout&&(clearTimeout(e.removeTimeout),clearInterval(e.removeInterval),e.removeCountdown=10)},b=function(e){delete e.toDelete,delete e.removeInterval,delete e.removeTimeout},f=function(e){p(e),b(e)},O=function(e){p(e),e.toDelete=!0,e.removeTimeout=setTimeout(Object(I["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:n=0;case 1:if(!(n<u.value.length)){t.next=16;break}if(!u.value[n].toDelete){t.next=13;break}return t.prev=3,t.next=6,F["a"].delete("/api/groups/".concat(o.value.uuid,"/expert-panel/genes/").concat(e.id));case 6:return t.next=8,j();case 8:t.next=13;break;case 10:t.prev=10,t.t0=t["catch"](3),r.commit("pushError",t.t0.response.data);case 13:n++,t.next=1;break;case 16:p(e);case 17:case"end":return t.stop()}}),t,null,[[3,10]])}))),1e4),e.removeCountdown=10,e.removeInterval=setInterval((function(){e.removeCountdown-=1}),1e3)},j=function(){var e=Object(I["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(o.value.uuid){e.next=2;break}return e.abrupt("return");case 2:return i.value=!0,e.prev=3,e.next=6,r.dispatch("groups/getGenes",o.value);case 6:u.value=e.sent,e.next=13;break;case 9:e.prev=9,e.t0=e["catch"](3),console.log(e.t0),r.commit("pushError",e.t0.response.data);case 13:i.value=!1;case 14:case"end":return e.stop()}}),e,null,[[3,9]])})));return function(){return e.apply(this,arguments)}}(),h=function(){var e=Object(I["a"])(regeneratorRuntime.mark((function e(){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(e.prev=0,!(c.value.length>0)){e.next=7;break}return r=c.value.filter((function(e){return!Object(z["isEqual"])(e,{gene:null,disease:null})})).map((function(e){return{hgnc_id:e.gene.hgnc_id,mondo_id:e.disease.mondo_id}})),e.next=5,F["a"].post("/api/groups/".concat(o.value.uuid,"/expert-panel/genes"),{genes:r});case 5:return e.next=7,j();case 7:d(),l.value={},t.emit("saved"),e.next=15;break;case 12:e.prev=12,e.t0=e["catch"](0),Object(L["a"])(e.t0)&&(l.value=e.t0.response.data.errors);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(){return e.apply(this,arguments)}}(),g=function(){var e=Object(I["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,t.hgnc_id=t.gene.hgnc_id,t.mondo_id=t.disease.mondo_id,e.next=5,F["a"].put("/api/groups/".concat(o.value.uuid,"/expert-panel/genes/").concat(t.id),t);case 5:return e.next=7,j();case 7:delete t.edit,e.next=13;break;case 10:e.prev=10,e.t0=e["catch"](0),Object(L["a"])(e.t0)&&(l.value=e.t0.response.data.errors);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}(),v=function(e){delete e.edit},y=function(){d()},w=Object(n["computed"])((function(){return Object(H["a"])(["ep-applications-manage",["application-edit",o.value]])&&!e.readonly}));return Object(n["onMounted"])((function(){j()})),{group:o,genes:u,newGenes:c,orderedGenes:s,errors:l,loading:i,addNewGene:a,updateGene:g,updateCancel:v,save:h,cancel:y,edit:m,remove:O,cancelPendingRemove:f,canEdit:w}}};r("b221");W.render=M;t["a"]=W},"6a0e":function(e,t,r){"use strict";r("23d9")},"6ca3":function(e,t,r){"use strict";var n=r("7a23"),o=Object(n["createElementVNode"])("p",null,"Three examples of ClinGen-approved curation and review protocols are below (additional details may be requested from the CDWG Oversight Committee). Check or describe the curation and review protocol that this Expert Panel will use.",-1),c={class:"mb-4"},a={class:"mt-2"},i=["disabled"],l=Object(n["createElementVNode"])("div",null,"Single biocurator curation with comprehensive GCEP review (presentation of all data on calls with GCEP votes). Note: definitive genes may be expedited with brief summaries.",-1),u={class:"mt-2 items-top"},s=["disabled"],d=Object(n["createElementVNode"])("p",null,"Paired review (biocurator & domain expert) with expedited GCEP review. Expert works closely with a curator on the initial summation of the information for expedited GCEP review (brief summary on a call with GCEP voting and/or electronic voting by GCEP). Definitive genes can move directly from biocurator to expedited GCEP review.",-1),m={class:"mt-2"},p=["disabled"],b=Object(n["createElementVNode"])("p",null,"Dual biocurator review with expedited GCEP review for concordant genes and full review for discordant genes.",-1),f={class:"flex space-x-2 items-start mt-3"},O=["disabled"],j=Object(n["createElementVNode"])("p",null,"Other",-1);function h(e,t,r,h,g,v){var y=Object(n["resolveComponent"])("input-row");return Object(n["openBlock"])(),Object(n["createElementBlock"])("div",null,[o,Object(n["createElementVNode"])("div",c,[Object(n["createVNode"])(y,{label:"",errors:r.errors.curation_review_protocol_id,vertical:""},{default:Object(n["withCtx"])((function(){return[Object(n["createElementVNode"])("div",null,[Object(n["createElementVNode"])("label",a,[Object(n["withDirectives"])(Object(n["createElementVNode"])("input",{type:"radio","onUpdate:modelValue":t[0]||(t[0]=function(e){return v.group.expert_panel.curation_review_protocol_id=e}),value:"1",disabled:!v.canEdit},null,8,i),[[n["vModelRadio"],v.group.expert_panel.curation_review_protocol_id]]),l]),Object(n["createElementVNode"])("label",u,[Object(n["withDirectives"])(Object(n["createElementVNode"])("input",{type:"radio","onUpdate:modelValue":t[1]||(t[1]=function(e){return v.group.expert_panel.curation_review_protocol_id=e}),value:"2",disabled:!v.canEdit},null,8,s),[[n["vModelRadio"],v.group.expert_panel.curation_review_protocol_id]]),d]),Object(n["createElementVNode"])("label",m,[Object(n["withDirectives"])(Object(n["createElementVNode"])("input",{type:"radio","onUpdate:modelValue":t[2]||(t[2]=function(e){return v.group.expert_panel.curation_review_protocol_id=e}),value:"3",disabled:!v.canEdit},null,8,p),[[n["vModelRadio"],v.group.expert_panel.curation_review_protocol_id]]),b]),Object(n["createElementVNode"])("div",f,[Object(n["createElementVNode"])("label",null,[Object(n["withDirectives"])(Object(n["createElementVNode"])("input",{type:"radio","onUpdate:modelValue":t[3]||(t[3]=function(e){return v.group.expert_panel.curation_review_protocol_id=e}),value:"100",disabled:!v.canEdit},null,8,O),[[n["vModelRadio"],v.group.expert_panel.curation_review_protocol_id]]),j]),Object(n["createVNode"])(n["Transition"],{name:"slide-fade-down"},{default:Object(n["withCtx"])((function(){return[100==v.group.expert_panel.curation_review_protocol_id?(Object(n["openBlock"])(),Object(n["createBlock"])(y,{key:0,class:"flex-1 mt-0","label-width-class":"w-0",modelValue:v.group.expert_panel.curation_review_protocol_other,"onUpdate:modelValue":t[5]||(t[5]=function(e){return v.group.expert_panel.curation_review_protocol_other=e}),errors:r.errors.curation_review_protocol_other},{default:Object(n["withCtx"])((function(){return[Object(n["withDirectives"])(Object(n["createElementVNode"])("textarea",{rows:"2","onUpdate:modelValue":t[4]||(t[4]=function(e){return v.group.expert_panel.curation_review_protocol_other=e}),class:"w-full"},null,512),[[n["vModelText"],v.group.expert_panel.curation_review_protocol_other]])]})),_:1},8,["modelValue","errors"])):Object(n["createCommentVNode"])("",!0)]})),_:1})])])]})),_:1},8,["errors"])])])}var g={name:"GcepOngoingPlansForm",props:{errors:{type:Object,required:!1,default:function(){return{}}},readonly:{type:Boolean,required:!1,default:!1}},computed:{group:{get:function(){return this.$store.getters["groups/currentItemOrNew"]},set:function(e){this.$store.commit("groups/addItem",e)}},canEdit:function(){return this.hasAnyPermission(["ep-applications-manage",["application-edit",this.group]])&&!this.readonly}}};g.render=h;t["a"]=g},a75a:function(e,t,r){"use strict";r.d(t,"b",(function(){return l})),r.d(t,"d",(function(){return d})),r.d(t,"c",(function(){return m}));var n=r("5530"),o=r("1da1"),c=(r("96cf"),r("7a23")),a=r("033d"),i=r("f96b"),l=Object(c["ref"])({}),u=Object(c["ref"])(!1),s=function(){u.value=!1,l.value={}},d=function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t){var r,o,c;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=t.method,o=t.url,c=t.data,e.prev=1,e.next=4,Object(i["a"])({method:r,url:o,data:c}).then((function(e){return e.data.data}));case 4:return e.abrupt("return",e.sent);case 7:e.prev=7,e.t0=e["catch"](1),Object(a["a"])(e.t0)&&(l.value=Object(n["a"])(Object(n["a"])({},l),e.t0.response.data.errors));case 10:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t){return e.apply(this,arguments)}}(),m=function(){l.value={}};t["a"]=function(){return{errors:l,editing:u,hideForm:s,submitFormData:d,resetErrors:m}}},abba:function(e,t,r){"use strict";var n=r("7a23"),o=Object(n["createElementVNode"])("div",{class:"font-bold text-lg mb-4"}," COMING SOON: Summary of CSPEC specfications display here. ",-1),c={href:"https://cspec.genome.network/",class:"btn btn-xl blue",target:"cspec"},a=Object(n["createTextVNode"])(" Go to the CSpec Registry ");function i(e,t,r,i,l,u){var s=Object(n["resolveComponent"])("icon-external-link");return Object(n["openBlock"])(),Object(n["createElementBlock"])("div",null,[o,Object(n["createElementVNode"])("a",c,[a,Object(n["createVNode"])(s,{class:"inline"})])])}r("a9e3");var l={name:"Cspec Summary",data:function(){return{sort:{field:"id",desc:!1},specFields:[{name:"gene_symbol",type:String,sortable:!0},{name:"disease_name",type:String,sortable:!0},{name:"status.name",label:"Status",type:String,sortable:!0},{name:"updated_at",label:"Last Updated",type:Date,sortable:!0},{name:"id",label:"",type:Number,sortable:!1}]}},computed:{group:function(){return this.$store.getters["groups/currentItemOrNew"]},hasSpecifications:function(){return!0},specifications:function(){return this.group.expert_panel.specifications}},watch:{group:function(e,t){this.$store.dispatch("groups/getSpecifications",e)}},mounted:function(){this.$store.dispatch("groups/getSpecifications",this.group)}};l.render=i;t["a"]=l},b1b8:function(e,t,r){},b221:function(e,t,r){"use strict";r("b1b8")}}]);
//# sourceMappingURL=application-detail~group-application~group-detail.711dbdec.js.map