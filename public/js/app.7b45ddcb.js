(function(){var e={865:function(e,t,n){"use strict";n.d(t,{Fs:function(){return s},_N:function(){return a},eS:function(){return u},iW:function(){return r},nu:function(){return o},o9:function(){return l},v2:function(){return d}});n(6699);var i=n(9642);const r=(e,t)=>i.Z.state.user.hasPermission(e,t),s=(e,t)=>i.Z.state.user.hasPermission(e,t),a=e=>i.Z.state.user.hasAnyPermission(e),o=(e,t)=>i.Z.state.user.hasRole(e,t),l=e=>i.Z.state.user.person.memberships.map((e=>e.group_id)).includes(e.id),u=e=>i.Z.state.user.id==e.user_id,d=e=>i.Z.state.user.coordinatesPerson(e)},1076:function(e,t,n){"use strict";n.d(t,{DK:function(){return o},kM:function(){return l},uU:function(){return a}});var i=n(6486),r=n(2262),s=n(6252);const a={modelValue:{type:Object}},o=["update:modelValue"],l=(e,t)=>{const n=(0,r.iH)({});return(0,s.YP)((()=>e.modelValue),(function(t){if("function"==typeof e.modelValue.clone){const t=e.modelValue.clone();n.value=t}(0,i.isEqual)(t,n.value)||(n.value=(0,i.cloneDeep)(t))}),{immediate:!0,deep:!0}),(0,s.YP)((()=>n),(function(n){(0,i.isEqual)(n.value,e.modelValue)||t.emit("update:modelValue",n.value)}),{deep:!0}),{workingCopy:n}};t["ZP"]={props:a,emits:o,setup:l}},4981:function(e,t,n){"use strict";n.d(t,{L:function(){return r}});var i=n(8979);const r=e=>e.is_vcep_or_scvcep?i.k7:i.UX},5699:function(e,t,n){"use strict";n.d(t,{E4:function(){return o},NR:function(){return a},mr:function(){return s},o0:function(){return r},p6:function(){return i}});const i=function(e){if(null===e||"undefined"==typeof e)return null;const t=new Date(e);return t.toLocaleDateString()},r=function(e){const t=new Date(e);return`${t.toLocaleDateString()} ${t.toLocaleTimeString([],{timeStyle:"medium"})}`},s=function(e){const t=new Date(e);return`${t.toLocaleTimeString([],{timeStyle:"medium"})}`},a=()=>{const e=new Date;return e.setFullYear(e.getFullYear()-1)},o=(e,t)=>{const n=new Date(e);return n.setDate(n.getDate()+t),n}},8918:function(e,t,n){"use strict";var i=n(2482),r=(n(6699),n(6486));class s{constructor(e={}){this.attributes={},this.setAttributes({...this.constructor.defaults,...e}),this.original={},this.setOriginal(this.attributes);for(let t in this.attributes)this.defineAttributeGettersAndSetters(t)}setAttributes(e){this.attributes=(0,r.cloneDeep)(e)}setOriginal(e){this.original=(0,r.cloneDeep)(e)}defineAttributeGettersAndSetters(e){let t=t=>{this.attributes[e]=t},n=()=>this.attributes[e];this.constructor.dates.includes(e)&&(n=()=>this.attributes[e]?new Date(Date.parse(this.attributes[e])):null,t=t=>{this.attributes[e]=t?new Date(Date.parse(t)):null}),Object.defineProperty(this,e,{get:n,set:t})}setAttribute(e,t=null){"undefined"==typeof Object.getOwnPropertyDescriptor(this,e)&&this.defineAttributeGettersAndSetters(e),this[e]=t}isPersisted(){return Boolean(this.attributes.id)}clone(){return new this.constructor(this.attributes)}getAttributes(){return this.attributes}getOriginal(){return this.original}clearChanges(){this.original={}}isDirty(e=null){return e?this.original[e]!=this.attributes[e]:Object.keys(this.original).some((e=>!(0,r.isEqual)(this.original[e],this.attributes[e])))}getDirty(e=null){if(!this.isDirty(e))return{};let t=Object.keys(this.original);e&&(Array.isArray(e)&&(t=e),"string"==typeof e&&(t=[e]));const n={};return t.forEach((e=>{this.isDirty(e)&&(n[e]={original:this.original[e],new:this.attributes[e]})})),n}revertDirty(){this.attributes={...this.attributes,...this.original},this.clearChanges()}}(0,i.Z)(s,"defaults",{created_at:null,updated_at:null,deleted_at:null}),(0,i.Z)(s,"dates",["updated_at","created_at","deleted_at"]),t["Z"]=s},8491:function(e,t,n){"use strict";var i=n(2482),r=(n(1703),n(6699),n(8918)),s=n(3823);const a={1:"Definition",2:"Draft",3:"Pilot",4:"Sustained Curation"},{submissions:o}=s;class l extends r.Z{constructor(e={}){const t=e.specifications?[...e.specifications]:[];delete e.specifications;const n=e.genes?[...e.genes]:[];delete e.genes;const i=e.submissions?[...e.submissions]:[];delete e.submissions;const r=e.documents?[...e.documents]:[];delete e.documents;const s=e.next_actions?[...e.next_actions]:[];delete e.next_actions,super(e),this.specfications=t,this.genes=n,this.submissions=i,this.documents=r,this.nextActions=s}get next_actions(){return this.nextActions}get nhgriSigned(){return Boolean(this.attributes["nhgri_attestation_date"])}set nhgriSigned(e){this.attributes["nhgri_attestation_date"]=e?new Date:null}get approvedDraftSpecifications(){return[]}get approvedPilotedSpecifications(){return[]}get defIsApproved(){return null!==this.step_1_approval_date}get definitionIsApproved(){return null!==this.step_1_approval_date}get draftSpecificationsIsApproved(){return null!==this.step_2_approval_date}get draftSpecApproved(){return null!==this.step_2_approval_date}get pilotSpecificationsIsApproved(){return null!==this.step_3_approval_date}get pilotSpecApproved(){return null!==this.step_3_approval_date}get sustainedCurationIsApproved(){return null!==this.step_4_approval_date}get pendingSubmission(){return this.submissions.find((e=>e.is_pending))||{}}get hasPendingSubmission(){return this.submissions.filter((e=>e.is_pending)).length>0}get hasPendingSubmissionForCurrentStep(){return this.hasPendingSubmission&&this.pendingSubmission.type.name==this.currentStepName}get hasCompletedSubmission(){return this.submissions.filter((e=>e.submission_status_id==o.statuses.approved.id&&this.pendingSubmission.type.name==this.currentStepName))}get isCompleted(){return!!this.attributes.date_completed}get steps(){if(1==this.expert_panel_type_id)return[1];if(2==this.expert_panel_type_id||null===this.expert_panel_type_id)return[1,2,3,4];throw new Error("Unknown expert_panel_type_id found when determining applicaiton steps.")}get currentStepName(){switch(this.current_step){case 1:return"Definition";case 2:return"Draft Specifications";case 3:return"Pilot Specifications";case 4:return"Sustained Curation";default:throw new Error("Unknown step ".this.current_step)}}get currentStepAbbr(){switch(this.current_step){case 1:return"Definition";case 2:return"Draft";case 3:return"Pilot";case 4:return"Sustained";default:throw new Error("Unknown step ".this.current_step)}}get pendingNextActions(){return this.next_actions?this.next_actions.filter((e=>null===e.date_completed)):[]}get pendingActionsByAssignee(){const e=Object.values(s.nextActions.assignees).map((e=>e.id));let t={};for(let n in e){const i=e[n];t[i]=[]}if(!this.next_actions)return t;for(const n in this.pendingNextActions){const e=this.pendingNextActions[n].assigned_to;t[e].push(this.pendingNextActions[n])}return t}get isApplying(){return null===this.date_completed}submissionsForStep(e){const t="number"==typeof e?a[e]:e;return this.submissions.filter((e=>e.type.name=t))}hasPendingSubmissionForStep(e){return this.hasPendingSubmission&&this.pendingSubmission.type.name==e}hasPendingSubmissionForStepNumber(e){return this.hasPendingSubmission&&this.pendingSubmission.type.name==a[e]}latestPendingSubmissionForStep(e){const t="number"==typeof e?a[e]:e,n=this.submissions.filter((e=>e.type.name=t));return 0==n.length?null:n[n.length-1]}stepHasBeenSubmitted(e){return this.submissions.some((t=>t.type.name==a[e]))}isWaitingOnCdwgOc(){return this.pendingActionsAssigneeCounts.cdwg_oc>0}isWaitingOnExpertPanel(){return this.pendingActionsAssigneeCounts.expert_panel>0}stepIsApproved(e){if(!e)return!1;if(!this.steps.includes(e))throw new Error(`Step ${e} out of bounds`);return Boolean(this[`step_${e}_approval_date`])}approvalDateForStep(e){if(!this.steps.includes(e))throw new Error(`Step ${e} out of bounds`);const t=`step_${e}_approval_date`;return this[t]?new Date(Date.parse(this[t])):null}updateApprovalDate(e,t){if(!this.steps.includes(t))throw new Error(`Step ${t} out of bounds`);const n=`step_${t}_approval_date`;this[n]=e}firstDocumentOfType(e){const t=this.documents.filter((t=>t.document_type_id==e)).sort(((e,t)=>e.date_reviewed==t.date_reviewed?e.version>t.version?1:-1:e.date_reviewed>t.date_reviewed?1:-1));return t[0]||{}}finalDocumentOfType(e){const t=this.documents.filter((t=>t.document_type_id==e)).sort(((e,t)=>e.date_reviewed==t.date_reviewed?e.version>t.version?1:-1:e.date_reviewed>t.date_reviewed?1:-1));return t[t.length-1]||{}}}(0,i.Z)(l,"dates",["date_completed","date_initiated","step_1_received_date","step_1_approval_date","step_2_approval_date","step_3_approval_date","step_4_received_date","step_4_approval_date","created_at","updated_at","deleted_at","gcep_attestation_date","gci_training_date","nhgri_attestation_date","reanalysis_attestation_date"]),(0,i.Z)(l,"defaults",{id:null,uuid:null,group_id:null,expert_panel_type_id:null,long_base_name:null,short_base_name:null,affiliation_id:null,current_step:1,date_initiated:null,step_1_received_date:null,step_1_approval_date:null,step_2_approval_date:null,step_3_approval_date:null,step_4_received_date:null,step_4_approval_date:null,date_completed:null,coi_code:null,hypothesis_group:null,membership_description:null,scope_description:null,nhgri_attestation_date:null,curation_review_protocol_id:null,curation_review_protocol_other:null,curation_review_process_notes:null,meeting_frequency:null,reanalysis_conflicting:null,reanalysis_review_lp:null,reanalysis_review_lb:null,reanalysis_other:null,reanalysis_attestation_date:null,utilize_gt:null,utilize_gci:null,curations_publicly_available:null,pub_policy_reviewed:null,biocurator_training:null,biocurator_mailing_list:null,draft_manuscripts:null,gci_training_date:null,gcep_attestation_date:null,recuration_process_review:null,review_protocol:{},type:{},evidence_summaries:[]}),t["Z"]=l},7506:function(e,t,n){"use strict";var i=n(2482),r=(n(1703),n(8918)),s=n(1378),a=n(8491),o=n(3823);class l extends r.Z{constructor(e={}){e instanceof l&&(e={...e.attributes,members:[e.members.map((e=>e.attributes))],expert_panel:e.expert_panel.attributes});const t=e.members?[...e.members]:[];delete e.members;const n=e.documents?[...e.documents]:[];delete e.documents;const i=e.expert_panel?{...e.expert_panel}:{};delete e.expert_panel,super(e),this.members=[],t&&t.forEach((e=>this.addMember(e))),this.expert_panel=new a.Z(i),this.documents=n}get coordinators(){return this.findMembersWithRole("coordinator").filter((e=>e.isActive))}get chairs(){return this.findMembersWithRole("chair").filter((e=>e.isActive))}get biocurators(){return this.findMembersWithRole("biocurator").filter((e=>e.isActive))}get trainedBiocurators(){return this.findMembersWithRole("biocurator").filter((e=>e.isActive&&e.training_level_1&&e.training_level_2))}get biocuratorTrainers(){return this.findMembersWithRole("biocurator-trainer").filter((e=>e.isActive))}get coreApprovalMembers(){return this.findMembersWithRole("core-approval-member").filter((e=>e.isActive))}get activeMembers(){return this.members.filter((e=>e.isActive))}get typeName(){return this.expert_panel.type.display_name||this.type.name}get displayName(){return this.expert_panel.display_name||this.name}get displayStatus(){return this.expertPanelLoaded(),this.status.name}get statusColor(){return o.groups.statusColors[this.group_status_id]}get contacts(){return this.members.filter((e=>Boolean(e.is_contact)))}get hasContacts(){return this.contacts.length>0}get isApplying(){return this.expert_panel.isApplying}get hasChildren(){return this.children&&this.children.length>0}addMembers(e){e.forEach((e=>{this.addMember(e)}))}addMember(e){const t=this.members.findIndex((t=>t&&t.id==e.id));t>-1?this.members.splice(t,1,new s.Z({...e})):this.members.push(new s.Z({...e}))}removeMember(e){const t=this.members.findIndex((t=>t.id===e.id));t>-1&&this.members.splice(t,1)}findMember(e){const t=this.members.find((t=>t.id==e));if(t)return t;throw Error(`Member with id ${e} not found in group.`)}findMembersWithRole(e){let t=e;if("object"==typeof e&&(t=e.id),"string"==typeof e){const n=o.groups.roles[e];if(!n)throw new Error(`No role matching ${e}`);t=n.id}return this.members.filter((e=>e.hasRole(t)))}expertPanelLoaded(){return this.isEp()&&this.expert_panel.id}isEp(){return this.attributes.group_type_id===o.groups.types.gcep.id||this.attributes.group_type_id===o.groups.types.vcep.id}isWorkingGroup(){return this.attributes.group_type_id===o.groups.types.wg.id}isWg(){return this.isWorkingGroup()}isCdwg(){return this.attributes.group_type_id===o.groups.types.cdwg.id}isVcep(){return this.is_vcep}isGcep(){return this.is_gcep}documentsOfType(e){return this.documents.filter((t=>t.document_type_id==e))}hasDocumentsOfType(e){return this.documentsOfType(e).length}clone(){const e={...this.attributes,members:[this.members.map((e=>e.attributes))],expert_panel:this.expert_panel.attributes},t=super.clone(e);return t}}(0,i.Z)(l,"dates",["created_at","updated_at","deleted_at"]),(0,i.Z)(l,"defaults",{id:null,uuid:null,name:null,parent_id:null,group_type_id:null,group_status_id:null,type:{},parent:{}}),t["Z"]=l},1378:function(e,t,n){"use strict";var i=n(2482),r=(n(6699),n(1703),n(8918)),s=n(284),a=n(3823),o=n(8661);const l=a.groups.roles,u=e=>{let t=e;if("string"==typeof t&&(t=Object.values(l).find((t=>t.name==e))),"number"==typeof t&&(t=Object.values(l).find((t=>t.id==e))),"object"!=typeof t||!t||!Object.values(l).includes(t)){let t=e;throw"object"==typeof e&&(t=JSON.stringify(e)),new Error(`Role not found for identifier ${t}`)}return t};class d extends r.Z{constructor(e={}){e instanceof d&&(e={...e.attributes,person:e.person.attributes});const t=e.person;delete e.person,super(e),this.person=t?new s.Z(t):new s.Z}get latestCoiDate(){return this.attributes.coi_last_completed?this.attributes.coi_last_completed:null}get first_name(){return this.person.first_name}set first_name(e){this.person.first_name=e}get last_name(){return this.person.last_name}set last_name(e){this.person.last_name=e}get email(){return this.person.email}set email(e){this.person.email=e}get isActive(){return null===this.attributes.end_date}get isRetired(){return!this.isActive}get roleIds(){return this.roles.map((e=>e.id))}get roleNames(){return this.roles.map((e=>e.name))}get addedRoles(){const e=this.original.roles;return this.roles.filter((t=>!e.map((e=>e.id)).includes(t.id)))}get removedRoles(){const e=this.original.roles;return e.filter((e=>!this.roles.map((e=>e.id)).includes(e.id)))}get needsCoi(){if(!this.latestCoiDate)return!0;const e=new Date,t=new Date;return t.setFullYear(e.getFullYear()-1),this.latestCoiDate.valueOf()<=t.valueOf()}get hasLegacyExpertise(){return null!==this.legacy_expertise&&"undefined"!==typeof this.legacy_expertise&&""!=this.legacy_expertise}get hasAnyExpertise(){return this.hasLegacyExpertise||this.person.hasExpertise}matchesKeyword(e){if(this.person.matchesKeyword(e))return!0;const t=new RegExp(`.*${e}.*`,"i");return!(!this.attributes.notes||!this.attributes.notes.match(t))||!(!this.attributes.expertise||!this.attributes.expertise.match(t))}addRole(e){this.hasRole(e)||this.roles.push(u(e))}addRoles(e){e.forEach((e=>this.addRole(e)))}removeRole(e){if(this.hasRole(e)){const t=u(e),n=this.roles.findIndex((e=>e.id==t.id));this.roles.splice(n,1)}}removeRoles(e){e.forEach((e=>this.removeRole(e)))}hasRole(e){return(0,o.IA)(e,this.roles)}hasPermission(e){return this.hasDirectPermission(e)||this.hasPermissionThroughRole(e)}hasDirectPermission(e){return(0,o.IA)(e,this.attributes.permissions)}hasPermissionThroughRole(e){let t=e;if("object"==typeof t&&(t=e.id),"string"==typeof t){if(!a.groups.permissions[e])throw new Error(`Can not find permission ${e} in configs`);t=a.groups.permissions[e].id}const n=this.roles.map((e=>e.name.toLowerCase()));for(let i in a.groups.rolePermissions)if(n.includes(i)&&a.groups.rolePermissions[i].includes(t))return!0;return!1}coiUpToDate(){if(!this.coi_last_completed)return!1;const e=new Date;return e.setFullYear(e.getFullYear()-1),Date.parse(e)<=this.coi_last_completed}trainingComplete(){return!this.attributes.needs_training||Boolean(this.attributes.training_completed_at)}clone(){const e=this.person,t=new this.constructor({...this.attributes,person:e.attributes});return t}}(0,i.Z)(d,"dates",["start_date","end_date","coi_last_completed"]),(0,i.Z)(d,"defaults",{person_id:null,group_id:null,start_date:null,end_date:null,v1_contact:!1,roles:[],permissions:[],coi_last_completed:null,coi_needed:null,expertise:null,notes:null,training_level_1:null,training_level_2:null}),t["Z"]=d},8979:function(e,t,n){"use strict";n.d(t,{UX:function(){return E},ZA:function(){return i.Z},Fc:function(){return r.Z},k7:function(){return q},rq:function(){return A}});var i=n(7506),r=n(284);n(8491),n(1378),n(6212);class s{constructor(e,t){this.label=e,this.evaluator=t}isMet(e){return this.evaluator(e)}}const a=e=>{switch(typeof e){case"undefined":return!0;case"object":return null===e||("Date"==e.constructor.name?!e:0===Object.keys(e).length);case"array":return 0===e.length;case"string":return""===e.trim();default:return!e}},o=new s("Long Base Name",(e=>!a(e.expert_panel.long_base_name))),l=new s("Short Base Name",(e=>!a(e.expert_panel.short_base_name))),u=new s("1+ Co-chairs",(e=>!a(e.chairs))),d=new s("1+ Coordinator",(e=>!a(e.coordinators))),c=new s("All members completed COI",(e=>a(e.members.filter((e=>e.isActive&&e.needsCoi))))),p=new s("3+ institutions represented",(e=>{const t=e.members.filter((e=>Boolean(e.person.institution))).map((e=>e.person.institution.id));return new Set(t).size>2})),m=new s("Description of expertise",(e=>!a(e.expert_panel.membership_description))),h=new s("1+ genes in scope",(e=>e.expert_panel.genes.length>0)),f=new s("Description of scope",(e=>!a(e.expert_panel.scope_description))),g=new s("Plans for sustained curation",(e=>Boolean(e.expert_panel.curation_review_protocol_id))),v=new s("Meeting frequency",(e=>!a(e.expert_panel.meeting_frequency))),w=new s("NHGRI Attestation",(e=>!a(e.expert_panel.nhgri_attestation_date))),b=new s("GCEP processes Attestation",(e=>!a(e.expert_panel.gcep_attestation_date))),y=new s("Reanalysis & discrepany resolution",(e=>!a(e.expert_panel.reanalysis_attestation_date))),_=new s("5+ Example Evidence Summaries",(e=>e.expert_panel.evidence_summaries.length>4)),k=new s("1+ Approved piloted, specifications document.",(e=>e.expert_panel.approvedDraftSpecifications.length>0)),C=new s("1+ Approved piloted, specifications document.",(e=>e.expert_panel.approvedPilotedSpecifications.length>0)),I=new s("3+ trained biocurators.",(e=>e.biocurators.filter((e=>e.training_level_1&&e.training_level_2)).length>2)),x=new s("1+ biocurator trainers.",(e=>e.biocuratorTrainers.length>0)),D=new s("1+ core approval members",(e=>e.coreApprovalMembers.length>0)),S=new s("Expertise information must be provided for each group member",(e=>0==e.members.filter((e=>!e.hasAnyExpertise)).length));var A={longName:o,shortName:l,chairs:u,coordinators:d,coisComplete:c,institutions:p,expertiseDescription:m,genes:h,scopeDescription:f,curationProcess:g,meetingFrequency:v,nhgri:w,gcepAttestation:b,reanalysisAttestation:y,exampleSummaries:_,draftApprovedSpecifications:k,pilotedApprovedSpecifications:C,minimumBiocurators:I,biocuratorTrainers:x,coreApprovalMembers:D,memberExpertise:S};n(1703);class ${get hasRequirements(){return this.requirements.length>0}evaluateRequirements(e){return this.requirements.map((t=>({label:t.label,isMet:t.isMet(e)})))}meetsRequirements(e){return this.requirements.every((t=>t.isMet(e)))}metRequirements(e){return this.requirements.filter((t=>t.isMet(e)))}unmetRequirements(e){return this.requirements.filter((t=>!t.isMet(e)))}}class V extends ${constructor(e,t,n,i){super(),this.name=e,this.title=t,this.requirements=n,this.components=i}}class U extends ${constructor(e,t,n,i,r){super(),this.name=e,this.sections=t,this.title=n,this.completeFunction=i,this.disabledFunction=r,this.sections.forEach((e=>{Object.defineProperty(this,e.name,{get:()=>this.sections.find((t=>t.name==e.name))})}))}get requirements(){return this.sections.map((e=>e.requirements)).flat()}isComplete(e){return!!this.completeFunction&&this.completeFunction(e)}isDisabled(e){return!!this.disabledFunction&&this.disabledFunction(e)}}class P extends ${constructor(e){super(),this.steps=e,this.steps.forEach((e=>{Object.defineProperty(this,e.name,{get:()=>this.steps.find((t=>t.name==e.name))})}))}get sections(){return this.steps.map((e=>e.sections)).flat()}get requirements(){return this.sections.map((e=>e.requirements)).flat()}getStep(e){if(isNaN(e)){const t=this.steps.find((t=>t.name==e));if(!t)throw Error(`Step with name ${e} not found.`);return t}return this.steps[e-1]}getSection(e){return this.sections.find((t=>t.name==e))}getCurrentStep(e){return this.getStep(e.expert_panel.current_step)}}const M=e=>{const t=Object.keys(e.steps).map((t=>{const n=e.steps[t],i=Object.keys(n.sections).map((e=>{const t=n.sections[e];return new V(e,t.name,t.requirements,t.components)}));return new U(t,i,n.name,n.completed,n.disabled)}));return new P(t)},q=M({steps:{definition:{name:"Group Definition",sections:{basicInfo:{name:"Basic Information",requirements:[A.longName,A.shortName]},membership:{name:"Membership",requirements:[A.chairs,A.coordinators,A.coisComplete,A.institutions,A.expertiseDescription,A.memberExpertise]},scope:{name:"Scope of Work",requirements:[A.genes,A.scopeDescription]},reanalysis:{name:"Reanalysis & Discrepency Resolution",requirements:[A.reanalysisAttestation]},nhgri:{name:"NHGRI Data Availability",requirements:[A.nhgri]}},completed:e=>e.expert_panel.defIsApproved,disabled:()=>!1},"draft-specifications":{name:"Draft Specifications",sections:{draftSpecs:{name:"Draft Specfications",title:null,requirements:[A.draftApprovedSpecifications]}},completed:e=>e.expert_panel.draftSpecificationsIsApproved,disabled:e=>!e.expert_panel.defIsApproved},"pilot-specifications":{name:"Specifications Pilot",sections:{pilotSpecs:{name:"Pilot Specifications",requirements:[A.pilotedApprovedSpecifications]}},completed:e=>e.expert_panel.pilotSpecificationsIsApproved,disabled:e=>!e.expert_panel.draftSpecificationsIsApproved},"sustained-curation":{name:"Sustained Curation",sections:{curationReviewProcess:{name:"Curation and Review Process",requirements:[A.meetingFrequency,A.curationProcess]},evidenceSummaries:{name:"Example Evidence Summaries",requirements:[A.exampleSummaries]},designations:{name:"Member Designation",requirements:[A.minimumBiocurators,A.biocuratorTrainers,A.coreApprovalMembers]}},completed:e=>e.expert_panel.sustainedCurationIsApproved,disabled:e=>!e.expert_panel.pilotSpecificationsIsApproved}}}),E=M({steps:{definition:{title:"Group Definition",sections:{basicInfo:{name:"Basic Information",requirements:[A.longName,A.shortName]},membership:{name:"Membership",requirements:[A.chairs,A.coisComplete,A.coordinators,A.institutions,A.memberExpertise]},scope:{name:"Scope of Work",requirements:[A.genes,A.scopeDescription]},attestations:{name:"Attestations",requirements:[A.gcepAttestation]},curationReviewProcess:{name:"Curation and Review Process",requirements:[A.curationProcess]},nhgri:{name:"NHGRI Data Availability",requirements:[A.nhgri]}}}}})},284:function(e,t,n){"use strict";var i=n(2482),r=(n(6699),n(8918)),s=n(1378);class a extends r.Z{constructor(e={}){e instanceof a&&(e={...e.attributes,memberships:[e.memberships.map((e=>e.attributes))]});const t=e.memberships||[];delete e.memberships;const n=e.mailLog||[];delete e.mailLog,super({...e}),this.memberships=t.map((e=>new s.Z(e))),this.mailLog=n}get institutionName(){return this.institution?this.institution.name:null}get credentialsString(){return this.credentials?this.credentials.map((e=>e.name)).join(", "):null}get primaryOccupationName(){return 100==this.primary_occupation_id?this.primary_occupation_other:this.primary_occupation?this.primary_occupation.name:null}get raceName(){return 100==this.race_id?this.race_other||"Other":this.race?this.race.name:null}get ethnicityName(){return this.ethnicity?this.ethnicity.name:null}get genderName(){return 100==this.gender_id?this.gender_other||"Not specified.":this.gender?this.gender.name:null}get membershipsWithPendingCois(){return this.membershipsWithCoiRequirement.filter((e=>e.coi_needed))}get membershipsWithCompletedCois(){return this.membershipsWithCoiRequirement.filter((e=>!e.coi_needed))}get membershipsWithOutdatedCois(){return this.membershipsWithCoiRequirement.filter((e=>e.coi_needed&&e.cois.length>0))}get completedCois(){return this.membershipsWithCompletedCois.map((e=>e.cois)).flat()}get hasPendingCois(){return this.membershipsWithPendingCois.length>0}get hasCompletedCois(){return this.membershipsWithCompletedCois.length>0}get hasOutdatedCois(){return this.membershipsWithOutdatedCois.length>0}get expertPanelMemberships(){return this.memberships.filter((e=>[3,4].includes(e.group.group_type_id)))}get membershipsWithCoiRequirement(){return this.memberships.filter((e=>e.has_coi_requirement))}get needsCredentials(){return!this.credentials||0==this.credentials.length}get hasExpertise(){return this.expertises&&this.expertises.length>0}get needsExpertise(){return!this.hasExpertise}matchesKeyword(e){const{first_name:t,last_name:n,email:i}=this.attributes,r=new RegExp(e,"i");if(t&&t.toLowerCase().match(r))return!0;if(n&&n.toLowerCase().match(r))return!0;if(i&&i.toLowerCase().match(r))return!0;if(t&&n){const e=`${t} ${n}`;if(e&&e.toLowerCase().match(r))return!0}return!1}}(0,i.Z)(a,"defaults",{uuid:null,first_name:null,last_name:null,email:null,phone:null,institution_id:null,institution:{},credentials:[],expertises:[],primary_occupation_id:null,primary_occupation:{},profile_photo:null,race_id:null,race:{},race_other:null,ethnicity_id:null,ethnicity:{},ethnicity_other:null,gender_id:null,gender:{},gender_other:null,created_at:null,updated_at:null,deleted_at:null}),(0,i.Z)(a,"dates",["created_at","updated_at","deleted_at"]),t["Z"]=a},6212:function(e,t,n){"use strict";var i=n(2482),r=(n(1703),n(8918)),s=n(284),a=n(1378),o=n(8661);class l extends r.Z{constructor(e={}){const{person:t={},memberships:n=[]}=e;delete e.person,delete e.memberships,super(e),this.person=new s.Z(t),this.memberships=n.map((e=>new a.Z(e)))}get rolePermissions(){return this.attributes.roles.map((e=>e.permissions)).flat()}get allPermissions(){return[...this.permissions,...this.rolePermissions]}get needsCredentials(){return this.person.needsCredentials}get needsExpertise(){return this.person.needsExpertise}get profileIncomplete(){return!this.person.country_id||!this.person.timezone||!this.person.institution_id}get hasPendingCois(){return this.person.hasPendingCois}hasRole(e,t=null){return(0,o.IA)(e,this.roles)||this.hasGroupRole(e,t)}hasNoRole(){return 0==this.roles.length}hasGroupRole(e,t){if(!t)return!1;const n=this.memberships.find((e=>e.group_id==t.id));return!(!n||!n.hasRole(e))}hasRoleForAnyGroup(e,t){return t.some((t=>this.hasGroupRole(e,t)))}hasAnyPermission(e){if(!Array.isArray(e))throw new Error("user.hasAnyArray expected array got "+typeof e);return e.map((e=>{let t=e,n=null;return Array.isArray(e)&&(t=e[0],n=e[1]),this.hasDirectPermission(t)||this.hasPermissionThroughRole(t)||this.hasGroupPermission(t,n)})).filter((e=>e)).length>0}hasPermission(e,t=null){return this.hasDirectPermission(e)||this.hasPermissionThroughRole(e)||this.hasGroupPermission(e,t)}hasDirectPermission(e){return(0,o.IA)(e,this.permissions)}hasPermissionThroughRole(e){return(0,o.IA)(e,this.roles.map((e=>e.permissions)).flat())}hasGroupPermission(e,t){if(!t)return!1;let n=this.memberships.find((e=>e.group_id==t.id));return n instanceof a.Z||(n=new a.Z(n)),!(!n||!n.hasPermission(e))}coordinatesPerson(e){return this.hasRoleForAnyGroup("coordinator",e.memberships.map((e=>e.group)))}}(0,i.Z)(l,"defaults",{id:null,email:null,name:null,roles:[],permissions:[],preferences:[],person:new s.Z,memberships:[]}),t["Z"]=l},8171:function(e,t,n){"use strict";n.d(t,{EP:function(){return m},Lt:function(){return u},TK:function(){return d},XU:function(){return o},hW:function(){return a},iE:function(){return c},m4:function(){return h},ox:function(){return l},xp:function(){return p}});var i=n(2262),r=n(6252),s=n(9028);const a=(0,i.iH)([]),o=(0,r.Fl)((()=>[{name:"name",placeholder:"University of Liliput"},{name:"abbreviation",placeholder:"LilU"},{name:"url",placeholder:"https://lilu.edu"},{name:"country_id",label:"Country",type:"select",options:a.value},{name:"reportable",label:"Reportable",type:"radio-group",options:[{value:!0,label:"Yes"},{value:!1,label:"No"}]}])),l=()=>{s.hi.get("/api/people/lookups/countries").then((e=>{a.value=e.data.data.map((e=>({value:e.id,label:e.name})))})).catch((e=>console.error(e)))},u=e=>s.hi.post("/api/institutions",e).then((e=>e.data)),d=e=>s.hi.put(`/api/institutions/${e.id}`,e).then((e=>e.data)),c=e=>s.hi.get("/api/institutions",{params:e}).then((e=>e.data)),p=e=>s.hi.put(`/api/institutions/${e.id}/approved`).then((e=>e.data)),m=(e,t)=>s.hi.put("/api/institutions/merge",{authority_id:e,obsolete_ids:t}),h=e=>s.hi["delete"](`/api/institutions/${e.id}`)},812:function(e,t,n){"use strict";var i=n(9669),r=n.n(i);const s=r().create({baseURL:"",withCredentials:!0,headers:{Accept:"application/json","Content-Type":"application/json",common:{"X-Requested-With":"XMLHttpRequest"}}});t["Z"]=s},9028:function(e,t,n){"use strict";n.d(t,{hi:function(){return i.Z},nZ:function(){return s.Z},z1:function(){return r.Z}});var i=n(812),r=n(9700),s=(n(6836),n(5138))},6836:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});n(6699);function i(e){return e.response&&[401,402,403].includes(e.response.status)}},9700:function(e,t,n){"use strict";function i(e){return e.response&&422==e.response.status&&e.response.data.errors}n.d(t,{Z:function(){return i}})},5138:function(e,t,n){"use strict";n(6699);const i=function(e={},t){let n=e;if(Object.keys(e).includes("filter")){let{filter:t,...i}=e;n={...t,...i}}let i=[];t&&i.push("page="+(n.currentPage?n.currentPage:1)),delete n.currentPage;for(let r in n)null!==n[r]&&void 0!==n[r]&&(Array.isArray(n[r])?n[r].forEach((e=>{i.push(encodeURIComponent(r)+"[]="+encodeURIComponent(e))})):"object"===typeof n[r]&&null!==n?Object.keys(n[r]).forEach((e=>{const t=n[r][e];Array.isArray(t)?t.forEach(((t,n)=>{i.push(`${encodeURIComponent(r)}[${e}][${n}]=${t}`)})):i.push(`${encodeURIComponent(r)}[${e}]=${t}`)})):i.push(encodeURIComponent(r)+"="+encodeURIComponent(n[r])));return i.length>0?"?"+i.join("&"):""};t["Z"]=i},7458:function(e,t,n){"use strict";var i=n(9963),r=n(6252),s=n(3577);const a={id:"epam-app-root"},o={id:"nav",class:"border-b bg-gray-100 print:hidden"},l={class:"container mx-auto py-3 flex"},u={id:"main-menu",class:"flex-grow"},d={class:"inline-block pr-4"},c={key:0},p=(0,r.Uk)("Applications"),m=(0,r.Uk)("Annual Updates"),h=(0,r.Uk)("People"),f=(0,r.Uk)("Groups"),g=(0,r.Uk)("Users"),v=(0,r.Uk)("Reports "),w=(0,r._)("a",{href:"mailto:gpm_support@clinicalgenome.org?subject=New ExpertPanel Request",class:"btn btn-xs mr-4"},"Request a new group",-1),b={class:"my-6 container mx-auto"},y={class:"fixed right-0 top-20 space-y-2"},_={key:0,class:"container mx-auto note border-t mt-4 pt-4"};function k(e,t,n,i,k,C){const I=(0,r.up)("router-link"),x=(0,r.up)("user-menu"),D=(0,r.up)("router-view"),S=(0,r.up)("alert-viewer"),A=(0,r.up)("help-button"),$=(0,r.up)("issue-report-form");return(0,r.wg)(),(0,r.iD)("div",a,[(0,r._)("header",o,[(0,r._)("div",l,[(0,r._)("div",u,[(0,r._)("div",d,[(0,r.Wm)(I,{to:"/",class:"text-black hover:text-black"},{default:(0,r.w5)((()=>[(0,r.Uk)((0,s.zw)(C.appName),1)])),_:1})]),e.$store.getters.isAuthed?((0,r.wg)(),(0,r.iD)("span",c,[e.hasPermission("ep-applications-manage")?((0,r.wg)(),(0,r.j4)(I,{key:0,to:"/applications",class:"link nav-item"},{default:(0,r.w5)((()=>[p])),_:1})):(0,r.kq)("",!0),e.hasPermission("annual-updates-manage")?((0,r.wg)(),(0,r.j4)(I,{key:1,to:"/annual-updates",class:"link nav-item"},{default:(0,r.w5)((()=>[m])),_:1})):(0,r.kq)("",!0),(0,r.Wm)(I,{to:"/people",class:"link nav-item"},{default:(0,r.w5)((()=>[h])),_:1}),(0,r.Wm)(I,{to:{name:"GroupList"},class:"link nav-item"},{default:(0,r.w5)((()=>[f])),_:1}),e.hasPermission("users-manage")?((0,r.wg)(),(0,r.j4)(I,{key:2,to:{name:"UserList"},class:"link nav-item"},{default:(0,r.w5)((()=>[g])),_:1})):(0,r.kq)("",!0),e.hasPermission("reports-pull")?((0,r.wg)(),(0,r.j4)(I,{key:3,to:"/reports",class:"link nav-item"},{default:(0,r.w5)((()=>[v])),_:1})):(0,r.kq)("",!0)])):(0,r.kq)("",!0)]),w,(0,r.Wm)(x)])]),(0,r._)("div",b,[(0,r._)("div",null,[(0,r._)("div",null,[(0,r.Wm)(D)])])]),(0,r.Wm)(S),(0,r._)("div",y,[(0,r.Wm)(A),(0,r.Wm)($,{class:"print:hidden"})]),((0,r.wg)(),(0,r.j4)(r.lR,{to:"body"},[e.hasRole("super-user")?((0,r.wg)(),(0,r.iD)("div",_," Build: "+(0,s.zw)(e.$store.state.systemInfo.build.name)+" | Commit: "+(0,s.zw)(e.$store.state.systemInfo.build.commit||"--")+" | Env: "+(0,s.zw)(e.$store.state.systemInfo.env),1)):(0,r.kq)("",!0)]))])}var C=n(8081),I=n(5913),x=n(3296),D=n(3907),S=n(3823),A={components:{UserMenu:C["default"],AlertViewer:I["default"],IssueReportForm:x["default"]},data(){return{showLogin:!1,systemInfo:S.systemInfo}},computed:{...(0,D.Se)(["isAuthed"]),appName(){return this.$store.state&&this.$store.state.systemInfo&&this.$store.state.systemInfo.app?this.$store.state.systemInfo.app.name:"GPM"}},watch:{isAuthed(){this.$route.meta&&this.$route.meta.protected&&0==this.isAuthed&&"login"!=this.$route.name&&this.$router.push({name:"login"})}},methods:{getLookupResources(){this.$store.dispatch("cdwgs/getAll")},refreshCurrentRoute(){this.$router.push(this.$route)}},mounted(){this.getLookupResources(),this.$store.dispatch("getCurrentUser")}},$=n(3744);const V=(0,$.Z)(A,[["render",k]]);var U=V,P=(n(6699),n(2119)),M=n(9642);const q=()=>n.e(140).then(n.bind(n,469)),E=()=>Promise.all([n.e(678),n.e(105),n.e(329),n.e(720)]).then(n.bind(n,799)),W=()=>n.e(471).then(n.bind(n,4611)),Z=()=>n.e(684).then(n.bind(n,8709)),R=()=>n.e(715).then(n.bind(n,8887)),L=()=>Promise.resolve().then(n.bind(n,2462)),F=()=>n.e(605).then(n.bind(n,572)),j=()=>n.e(605).then(n.bind(n,6561)),O=()=>n.e(250).then(n.bind(n,616));var z=[{name:"ApplicationsIndex",path:"/applications",redirect:"/applications/vceps",components:{default:q,modal:W},meta:{protected:!0,permissions:["ep-applications-manage"]},children:[{name:"gceps",path:"gceps",components:{default:()=>n.e(140).then(n.bind(n,9873)),modal:W},meta:{protected:!0,permissions:["ep-applications-manage"]}},{name:"vceps",path:"vceps",components:{default:()=>n.e(140).then(n.bind(n,7355)),modal:W},meta:{protected:!0,permissions:["ep-applications-manage"]}}]},{name:"ApplicationDetail",path:"/applications/:uuid",component:E,props:!0,meta:{protected:!0,permissions:["ep-applications-manage","ep-applications-comment","ep-applications-approve"]},children:[{name:"NextAction",path:"next-action",component:Z,meta:{default:E,showModal:!0,protected:!0,title:"Add Next Action",permissions:["ep-applications-manage"]},props:!0},{name:"EditNextAction",path:"next-actions/:id/edit",component:Z,meta:{default:E,showModal:!0,protected:!0,title:"Add Next Action",permissions:["ep-applications-manage"]},props:!0},{name:"ConfirmDeleteNextAction",path:"next-actions/:id/delete",component:j,meta:{showModal:!0,protected:!0,permissions:["ep-applications-manage"]},props:!0},{name:"LogEntry",path:"log-entry",component:R,meta:{showModal:!0,protected:!0,permissions:["ep-applications-manage"],title:"Add Log Entry"},props:!0},{name:"EditLogEntry",path:"log-entries/:id/edit",component:R,meta:{showModal:!0,protected:!0,permissions:["ep-applications-manage"],title:"Edit Log Entry"},props:!0},{name:"ConfirmDeleteLogEntry",path:"log-entries/:id/delete",component:F,meta:{showModal:!0,protected:!0,permissions:["ep-applications-manage"]},props:!0},{name:"AddMemberToApplication",path:"members/add",component:L,meta:{title:"Add Group Member",showModal:!0,protected:!0,permissions:["ep-applications-manage"]},props:!0},{name:"EditMemberOnApplication",path:"members/:memberId",component:L,meta:{showModal:!0,protected:!0,title:"Add Group Member"},props:!0},{name:"ConfirmDeleteApplication",path:"delete",component:O,props:!0,meta:{default:E,showModal:!0,protected:!0,permissions:["ep-applications-manage"]}}]}];const T=async e=>!!M.Z.getters.currentUser.hasPermission("people-manage")||(M.Z.getters["people/currentItem"]&&M.Z.getters["people/currentItem"].uuid==e.params.uuid||await M.Z.dispatch("people/getPerson",{uuid:e.params.uuid}),M.Z.getters["people/currentItem"].user_id==M.Z.getters.currentUser.id||(!!M.Z.getters.currentUser.coordinatesPerson(M.Z.getters["people/currentItem"])||(M.Z.commit("pushError","You don't have permission to edit this person's information"),!1))),B=async(e,t)=>{if(M.Z.getters.currentUser.hasPermission("groups-manage"))return!0;M.Z.getters["groups/currentItem"]&&M.Z.getters["groups/currentItem"].uuid==e.params.uuid||await M.Z.dispatch("groups/findAndSetCurrent",e.params.uuid);const n=M.Z.getters["groups/currentItem"];return!!M.Z.getters.currentUser.hasGroupPermission(t,n)||(M.Z.commit("pushError","Permission denied"),!1)},N=()=>Promise.all([n.e(575),n.e(924),n.e(305)]).then(n.bind(n,2677)),H=()=>n.e(779).then(n.bind(n,4779)),G=()=>n.e(192).then(n.bind(n,8196)),K=()=>n.e(886).then(n.bind(n,3886)),Y=()=>n.e(980).then(n.bind(n,9980));var Q=[{name:"people-index",path:"/people",component:G,meta:{protected:!0}},{name:"PersonDetail",path:"/people/:uuid",component:N,props:!0,meta:{protected:!0},children:[{name:"PersonEdit",path:"edit",components:{default:N,modal:H},meta:{showModal:!0,protected:!0,title:"Update Information"},props:!0,beforeEnter:[T]}]},{name:"InviteWithCode",path:"/invites/:code",component:K,beforeEnter:()=>(null!==M.Z.getters.currentUser.id&&de.replace({name:"Dashboard"}),!0),meta:{protected:!1},props:!0},{name:"RedeemInvite",path:"/invites",component:K,beforeEnter:()=>(null!==M.Z.getters.currentUser.id&&de.replace({name:"Dashboard"}),!0),meta:{protected:!1}},{name:"InitialProfileForm",path:"/onboarding/profile",component:()=>n.e(449).then(n.bind(n,3449))},{name:"RequiredDemographicsUpdateForm",path:"/required-demographics-update",component:()=>Promise.all([n.e(575),n.e(318)]).then(n.bind(n,5489)),meta:{protected:!0}},{name:"DemographicsForm",path:"/demographics/:uuid",props:!0,component:()=>Promise.all([n.e(575),n.e(300)]).then(n.bind(n,7575))},{name:"MandatoryProfileUpdate",path:"/required-profile-update",component:Y,meta:{protected:!0}}],X=[{name:"login",path:"/login",component:()=>n.e(411).then(n.bind(n,5411))},{name:"reset-password",path:"/reset-password",component:()=>n.e(564).then(n.bind(n,5219))}],J=[{name:"cdwg-index",path:"/cdwgs",component:()=>n.e(889).then(n.bind(n,9889))}];const ee=()=>Promise.all([n.e(827),n.e(678),n.e(105),n.e(329),n.e(181),n.e(205)]).then(n.bind(n,2462));var te=[{name:"GroupList",path:"/groups",components:{default:()=>n.e(23).then(n.bind(n,3010))},meta:{protected:!0},props:!0},{name:"GroupDetail",path:"/groups/:uuid",components:{default:()=>Promise.all([n.e(827),n.e(678),n.e(105),n.e(329),n.e(181),n.e(205)]).then(n.bind(n,6968))},meta:{protected:!0},props:!0,children:[{name:"AddMember",path:"members/add",component:ee,meta:{showModal:!0,protected:!0,title:"Add Group Member"},props:!0,beforeEnter:async e=>await B(e,"members-invite",["groups-manage"])},{name:"EditMember",path:"members/:memberId",component:ee,meta:{showModal:!0,protected:!0,title:"Add Group Member"},props:!0,beforeEnter:async e=>await B(e,"members-update",["groups-manage"])}]},{name:"GroupApplication",path:"/groups/:uuid/application",components:{default:()=>Promise.all([n.e(827),n.e(678),n.e(181),n.e(99)]).then(n.bind(n,8991))},meta:{protected:!0},props:!0,beforeEnter:async e=>await B(e,"application-edit"),children:[{name:"AppAddMember",path:"members/add",component:ee,meta:{showModal:!0,protected:!0,title:"Add Group Member"},props:!0,beforeEnter:async e=>await B(e,"members-invite",["groups-manage"])},{name:"AppEditMember",path:"members/:memberId",component:ee,meta:{showModal:!0,protected:!0,title:"Add Group Member"},props:!0,beforeEnter:async e=>await B(e,"members-update",["groups-manage"])}]},{name:"ReviewApplication",path:"/groups/:uuid/application/review",component:()=>Promise.all([n.e(678),n.e(105),n.e(352)]).then(n.bind(n,2409)),props:!0,meta:{protected:!0}},{name:"AnnualUpdate",path:"/groups/:uuid/annual-update",components:{default:()=>Promise.all([n.e(827),n.e(47),n.e(782)]).then(n.bind(n,7047))},meta:{protected:!0},props:!0,beforeEnter:async e=>await B(e,"application-edit"),children:[{name:"ReviewAddMember",path:"members/add",component:ee,meta:{showModal:!0,protected:!0,title:"Add Group Member"},props:!0,beforeEnter:async e=>await B(e,"members-invite",["groups-manage"])},{name:"ReviewEditMember",path:"members/:memberId",component:ee,meta:{showModal:!0,protected:!0,title:"Add Group Member"},props:!0,beforeEnter:async e=>await B(e,"members-update",["groups-manage"])}]},{name:"SustainedCurationReview",path:"/groups/:uuid/sustained-curation-review",components:{default:()=>n.e(368).then(n.bind(n,9368))},meta:{protected:!0},props:!0,beforeEnter:async e=>await B(e,"application-edit")}];const ne=()=>n.e(518).then(n.bind(n,7518)),ie=()=>n.e(212).then(n.bind(n,9212));var re=[{name:"UserAdmin",path:"/admin/users",component:ne,props:!0,meta:{protected:!0,beforeEnter:async()=>await M.Z.getters.currentUser.hasPermission("users-manage")}},{name:"InviteAdmin",path:"/admin/invites",component:ie,props:!0,meta:{protected:!0,beforeEnter:async()=>await M.Z.getters.currentUser.hasPermission("people-manage")}},{name:"InstitutionList",path:"/admin/institutions",component:()=>n.e(700).then(n.bind(n,9250))},{name:"CredentialList",path:"/admin/credentials",component:()=>n.e(700).then(n.bind(n,5054))},{name:"ExpertiseList",path:"/admin/expertises",component:()=>n.e(647).then(n.bind(n,5024))}];const se=async e=>!!M.Z.getters.currentUser.hasPermission(e)||(M.Z.commit("pushError","Permission denied"),!1);var ae=[{name:"UserList",path:"/users",components:{default:()=>n.e(218).then(n.bind(n,5944))},meta:{protected:!0},props:!0,beforeEnter(){return se("users-manage")}},{name:"UserDetail",path:"/users/:id",components:{default:()=>n.e(218).then(n.bind(n,5271))},props:!0,meta:{protected:!0},async beforeEnter(){return se("users-manage")}}],oe=n(2462);const le=[{name:"Dashboard",path:"/",component:()=>Promise.all([n.e(575),n.e(924),n.e(539)]).then(n.bind(n,2905)),meta:{protected:!0}},{name:"ApplicationSummary",path:"/application-summary",redirect:"/application-summary/vceps",component:()=>n.e(641).then(n.bind(n,4641)),children:[{name:"GcepsSummary",path:"gceps",component:()=>Promise.all([n.e(575),n.e(300)]).then(n.bind(n,7332))},{name:"VcepsSummary",path:"vceps",component:()=>Promise.all([n.e(575),n.e(300)]).then(n.bind(n,4192))}]},{name:"AnnualUpdatesList",path:"/annual-updates",component:()=>n.e(302).then(n.bind(n,6302)),meta:{protected:!0,permissions:["annual-updates-manage"]}},{name:"AnnualUpdateDetail",path:"/annual-updates/:id",component:()=>Promise.all([n.e(827),n.e(47),n.e(287)]).then(n.bind(n,8899)),props:!0,meta:{protected:!0},children:[{name:"AnnualUpdateAddMember",path:"members/add",component:oe["default"],meta:{showModal:!0,protected:!0,title:"Add Group Member"},props:!0},{name:"AnnualUpdateEditMember",path:"members/:memberId",component:oe["default"],meta:{showModal:!0,protected:!0,title:"Add Group Member"},props:!0}]},...z,...te,...Q,...X,...J,...re,...ae,{name:"CoiNoCode",path:"/coi",redirect:"/"},{name:"coi",path:"/coi/:code",component:()=>n.e(127).then(n.bind(n,1127)),props:!0,meta:{protected:!0}},{name:"alt-coi",path:"/expert-panels/:name/coi/:code",component:()=>n.e(127).then(n.bind(n,1127)),props:!0,meta:{protected:!0}},{name:"about",path:"/about",component:()=>n.e(443).then(n.bind(n,6934))},{name:"PendingCoiList",path:"/onboarding/cois",component:()=>n.e(490).then(n.bind(n,8490)),props:!0,meta:{protected:!0}},{name:"mail-log",path:"/mail-log",component:()=>n.e(628).then(n.bind(n,7143)),meta:{protected:!0}},{name:"not-found",path:"/:pathMatch(.*)*",component:()=>n.e(851).then(n.bind(n,4851))},{name:"reports",path:"/reports",component:()=>n.e(936).then(n.bind(n,8936)),meta:{protected:!0,permissions:["reports-pull"]}}],ue=(0,P.p7)({history:(0,P.PO)("/"),routes:le});ue.beforeEach((async(e,t,n)=>{if(e.meta.protected){try{await M.Z.dispatch("checkAuth"),await M.Z.dispatch("getCurrentUser")}catch(i){console.log(i)}if(e.name.includes("login")||M.Z.getters.isAuthed)if("login"==e.name&&M.Z.getters.isAuthed)n({name:"Dashboard"});else{if(e.meta.permissions&&Array.isArray(e.meta.permissions)&&e.meta.permissions.length>0){if(M.Z.getters.currentUser.hasAnyPermission(e.meta.permissions))return void n();ue.replace({name:"Dashboard"}),M.Z.commit("pushError","You don't have permission to access "+e.path)}n()}else n({name:"login",query:{redirect:e.fullPath}})}else n()})),ue.beforeEach((async(e,t,n)=>{if(e.meta.protected){if("MandatoryProfileUpdate"!=e.name&&"RequiredDemographicsUpdateForm"!=e.name&&"RedeemInvite"!=e.name&&"InviteWithCode"!=e.name&&"InitialProfileForm"!=e.name&&"PendingCoiList"!=e.name&&"coi"!=e.name)return M.Z.getters.currentUser.profileIncomplete?(ue.replace({name:"InitialProfileForm",params:{redirectTo:e}}),void n()):M.Z.getters.currentUser.hasPendingCois?(ue.replace({name:"PendingCoiList",params:{redirectTo:e}}),void n()):M.Z.getters.currentUser.needsCredentials||M.Z.getters.currentUser.needsExpertise?(ue.replace({name:"MandatoryProfileUpdate",params:{redirectTo:e}}),void n()):(null!==M.Z.getters.currentUser.person.demographics_completed_date||M.Z.getters.currentUser.is_impersonating||ue.replace({name:"RequiredDemographicsUpdateForm",params:{redirectTo:e}}),void n());n()}else n()}));var de=ue,ce=n(4e3),pe=n.n(ce),me=n(4417),he=n(3117),fe=n(9592);let ge;var ve={beforeMount(e,t){ge=n=>{n.stopPropagation();const{handler:i,exclude:r}=t.value,s=r.map((e=>t.instance.$refs[e])).includes(n.target);e.contains(n.target)||s||i()},document.addEventListener("click",ge),document.addEventListener("touchstart",ge)},unmounted(){document.removeEventListener("click",ge),document.removeEventListener("touchstart",ge)}},we={mounted(e,t){const n=e.getBoundingClientRect(),i=n.top;let r=t.value?t.value:i+36;e.style.height=`calc(100vh - ${r}px)`,e.style.overflow="auto"},bind(e,t){const n=e.getBoundingClientRect(),i=n.top;let r=t.value?t.value:i+36;e.style.height=`calc(100vh - ${r}px)`,e.style.overflow="auto"}},be=n(4237);function ye(e,t,n,i,s,a){const o=(0,r.up)("breadcrumbs");return(0,r.wg)(),(0,r.j4)(o,{items:a.items},null,8,["items"])}var _e=n(8979),ke={name:"GroupBreadcrumbs",props:{group:{required:!1,default:()=>new _e.ZA}},computed:{items(){const e=[{route:{name:"GroupList"},label:"Groups"}];return this.group.uuid&&e.push({route:{name:"GroupDetail",params:{uuid:this.group.uuid}},label:this.group.displayName}),e}},methods:{}};const Ce=(0,$.Z)(ke,[["render",ye]]);var Ie=Ce,xe=n(5699),De=n(865);let Se=0;var Ae={beforeMount(){this.uid=Se.toString(),Se+=1}};const $e=(0,i.ri)(U),Ve=e=>{e.keys().forEach((t=>{if(!t.match(".vue"))return;const n=(0,me.GL)(t.split("/").pop().split(".")[0]),i=e(t);$e.component(n,i.default)}))};Ve(n(6660)),Ve(n(9738),!1,/\.vue$/i),Ve(n(1501),!1,/\.vue$/i),Ve(n(7032),!1,/\.vue$/i),Ve(n(7563),!1,/\.vue$/i),Ve(n(2716),!1,/\.vue$/i),Ve(n(765),!1,/\.vue$/i),Ve(n(6698),!1,/\.vue$/i),$e.component("submission-wrapper",he.Z),$e.component("ScreenTemplate",fe["default"]),$e.directive("click-outside",ve),$e.directive("remaining-height",we),$e.component("popper",be["default"]),$e.component("popover",be["default"]),$e.component("group-breadcrumbs",Ie),$e.config.globalProperties.append=(e,t)=>e+(e.endsWith("/")?"":"/")+t,$e.use(M.Z).mixin({methods:{userCan:De.iW,hasPermission:De.Fs,hasAnyPermission:De._N,hasRole:De.nu,userIsPerson:De.eS,coordinatesPerson:De.v2,formatDate:xe.p6,formatDateTime:xe.o0,formatTime:xe.mr,addDays:xe.E4,yearAgo:xe.NR,titleCase:me.Qs,camelCase:me.eV,snakeCase:me.fu,kebabCase:me.GL,userInGroup:De.o9,sentenceCase:me.G8}}).mixin(Ae).mixin({mounted(){this.id&&this.$route.hash&&this.$route.hash.substr(1)==this.id&&(location.href="#",location.href=this.$route.hash)}}).use(de).use(pe()).mount("#app")},3489:function(e,t,n){"use strict";n.d(t,{b:function(){return s}});var i=n(2482),r=(n(1703),n(5934));class s{constructor(e,t="info"){if(this.message=e,-1==s.types.findIndex((e=>e==t)))throw new Error("Unknown alert type: "+t);this.type=t,this.uuid=(0,r.Z)()}}(0,i.Z)(s,"types",["info","success","warning","error"]),t["Z"]={state:{alerts:[],timeouts:[]},getters:{info:e=>e.alerts.filter((e=>"info"==e.type)),success:e=>e.alerts.filter((e=>"success"==e.type)),warning:e=>e.alerts.filter((e=>"warning"==e.type)),error:e=>e.alerts.filter((e=>"error"==e.type))},mutations:{pushAlert(e,{message:t,type:n}){const i=new s(t,n);e.alerts.push(i)},pushError(e,t){e.alerts.push(new s(t,"error"))},pushInfo(e,t){e.alerts.push(new s(t,"info"))},pushSuccess(e,t){e.alerts.push(new s(t,"success"))},pushWarning(e,t){e.alerts.push(new s(t,"warning"))},removeAlert(e,t){const n=e.alerts.findIndex((e=>e.uuid==t));n<0||e.alerts.splice(n,1)},unshiftAlert(e,{message:t,type:n}){e.alerts.unshift(new s(t,n))}}}},9642:function(e,t,n){"use strict";n.d(t,{Z:function(){return ie}});n(6699);var i=n(3907),r=n(3489),s=n(2482),a=(n(1703),n(8918)),o=n(3823);class l extends a.Z{get isCompleted(){return!!this.attributes.date_completed}get steps(){if(1==this.is_gcep)return[1];if(this.is_vcep_or_scvcep)return[1,2,3,4];throw new Error("Unknown expert_panel_type_id found when determining applicaiton steps.")}get pendingNextActions(){return this.next_actions?this.next_actions.filter((e=>null===e.date_completed)):[]}get pendingActionsByAssignee(){const e=Object.values(o.nextActions.assignees).map((e=>e.id));let t={};for(let n in e){const i=e[n];t[i]=[]}if(!this.next_actions)return t;for(const n in this.pendingNextActions){const e=this.pendingNextActions[n].assigned_to;t[e].push(this.pendingNextActions[n])}return t}get hasContacts(){return this.contacts.length>0}isWaitingOnCdwgOc(){return this.pendingActionsAssigneeCounts.cdwg_oc>0}isWaitingOnExpertPanel(){return this.pendingActionsAssigneeCounts.expert_panel>0}stepIsApproved(e){if(!e)return!1;if(!this.steps.includes(e))throw new Error(`Step ${e} out of bounds`);return Boolean(this[`step_${e}_approval_date`])}approvalDateForStep(e){if(!this.steps.includes(e))throw new Error(`Step ${e} out of bounds`);const t=`step_${e}_approval_date`;return this[t]?new Date(Date.parse(this[t])):null}firstDocumentOfType(e){const t=this.documents.filter((t=>t.document_type_id==e)).sort(((e,t)=>e.date_reviewed==t.date_reviewed?e.version>t.version?1:-1:e.date_reviewed>t.date_reviewed?1:-1));return t[0]||{}}finalDocumentOfType(e){const t=this.documents.filter((t=>t.document_type_id==e)).sort(((e,t)=>e.date_reviewed==t.date_reviewed?e.version>t.version?1:-1:e.date_reviewed>t.date_reviewed?1:-1));return t[t.length-1]||{}}}(0,s.Z)(l,"dates",["date_completed","date_initiated","created_at","updated_at","deleted_at"]),(0,s.Z)(l,"defaults",{working_name:null,expert_panel_type_id:null,cdwg_id:null,id:null,uuid:null,name:null,documents:[],approval_dates:{},date_completed:null,date_initiated:null,cdwg:{},latest_log_entry:{},latest_pending_next_action:null,log_entries:[],type:{},contacts:[]});var u=l,d=n(5138),c=n(5934),p=n(812);const m="/api/applications";function h(e){if(!e.uuid)throw new Error("Entity must have a uuid to complete the transaction.")}async function f(e){const t=await p.Z.get(m+(0,d.Z)(e)).then((e=>e.data.data));return t}async function g(e,t){const n=await p.Z.get(m+"/"+e+(0,d.Z)(t)).then((e=>e.data.data));return n}async function v(e){return e.uuid||(e.uuid=(0,c.Z)()),await p.Z.post(m,e).then((e=>e.data))}async function w(e,t,n,i){h(e);const r=`${m}/${e.uuid}/current-step/approve`;return await p.Z.post(r,{date_approved:t,notify_contacts:n,notify_clingen:i}).then((e=>e.data))}async function b(e){h(e);const{long_base_name:t,short_base_name:n,affiliation_id:i,cdwg_id:r}=e,s={long_base_name:t,short_base_name:n,affiliation_id:i,cdwg_id:r};return await p.Z.put(`${m}/${e.uuid}`,s).then((e=>e.data))}async function y(e,t){h(e),t.has("uuid")||t.append("uuid",(0,c.Z)());const n=`${m}/${e.uuid}/documents`;return await p.Z.post(n,t).then((e=>e.data))}async function _(e,t,n){h(e),h(t);const i=`${m}/${e.uuid}/documents/${t.uuid}/review`;return await p.Z.post(i,{date_reviewed:n}).then((e=>e.data))}async function k(e,t){h(e),h(t);const n=`${m}/${e.uuid}/contacts`;return await p.Z.post(n,{person_uuid:t.uuid}).then((e=>e.data))}async function C(e,t){h(e),h(t);const n=`${m}/${e.uuid}/contacts/${t.uuid}`;return await p.Z["delete"](n).then((e=>e.data))}var I={all:f,find:g,initiate:v,approveCurrentStep:w,updateEpAttributes:b,addDocument:y,markDocumentReviewed:_,addContact:k,removeContact:C},x=n(9028);const D="/api/applications";var S={namespaced:!0,state:()=>({requests:[],items:[],lastFetch:null,lastParams:{},currentItemIdx:null,lastFetchBy:null}),getters:{applications:e=>e.items,all:e=>e.items,requestCount:e=>e.requests.length,hasPendingRequests:e=>e.requests.length>0,gceps:e=>e.items.filter((e=>1==e.expert_panel_type_id)),vceps:e=>e.items.filter((e=>2==e.expert_panel_type_id)),currentItem:e=>null===e.currentItemIdx?new u:e.items[e.currentItemIdx],getApplicationByUuid:e=>t=>e.items.find((e=>e.uuid==t))},mutations:{addApplication(e,t){const n=new u(t),i=e.items.findIndex((e=>e.uuid==t.uuid));i>-1?e.items.splice(i,1,n):e.items.push(n)},clearApplications(e){e.items=[]},setLastFetch(e){e.lastFetch=new Date},setLastParams(e,t){e.lastParams=t},setCurrentItemIndex(e,t){const n=e.items.findIndex((e=>e.uuid==t.uuid));e.currentItemIdx=n},removeItem(e,t){const n=e.items.findIndex((e=>e.uuid==t.uuid));e.items.splice(n,1)},clearCurrentItemIdx(e){e.currentItemIdx=null}},actions:{getApplications({commit:e},t){x.hi.get(D+(0,x.nZ)(t)).then((t=>{t.data.data.forEach((t=>{e("addApplication",t)}))}))},async initiateApplication({commit:e,dispatch:t},n){await I.initiate(n).then((n=>{e("addApplication",n),t("getApplications")}))},async getApplication({commit:e},t){await I.find(t,{with:["group.logEntries","group.documents","contacts","group.logEntries.causer","cois","group.documents.type","nextActions"]}).then((t=>{e("addApplication",t),e("setCurrentItemIndex",t)}))},async updateEpAttributes({dispatch:e},t){await I.updateEpAttributes(t).then((()=>{e("getApplication",t.uuid)}))},async addNextAction({commit:e},{application:t,nextActionData:n}){return n.uuid||(n.uuid=(0,c.Z)()),await x.hi.post(`${D}/${t.uuid}/next-actions`,n).then((e=>(t.nextActions.push(e.data),e)))},async updateNextAction({dispatch:e},{application:t,updatedAction:n}){return n.uuid||(n.uuid=(0,c.Z)()),await x.hi.put(`${D}/${t.uuid}/next-actions/${n.id}`,n).then((e=>{const n=t.nextActions.findIndex((t=>t.id==e.data.id));return t.nextActions[n]=e.data,e}))},async deleteNextAction({dispatch:e},{application:t,nextAction:n}){const i=`/api/applications/${t.uuid}/next-actions/${n.id}`;await x.hi["delete"](i).then((e=>{const i=t.nextActions.findIndex((e=>e.id==n.id));return t.nextActions.splice(i,1),e}))},async completeNextAction({dispatch:e},{application:t,nextAction:n,dateCompleted:i}){const r=`/api/applications/${t.uuid}/next-actions/${n.uuid}/complete`;await x.hi.post(r,{date_completed:i}).then((e=>{const n=t.nextActions.findIndex((t=>t.id==e.data.id));return t.nextActions[n]=e.data,e}))},async addLogEntry({dispatch:e},{application:t,logEntryData:n}){const i=`/api/applications/${t.uuid}/log-entries`;await x.hi.post(i,n).then((()=>{e("getApplication",t.uuid)}))},async updateLogEntry({dispatch:e},{application:t,updatedEntry:n}){const i=`/api/applications/${t.uuid}/log-entries/${n.id}`;await x.hi.put(i,n).then((()=>{e("getApplication",t.uuid)}))},async deleteLogEntry({dispatch:e},{application:t,logEntry:n}){const i=`/api/applications/${t.uuid}/log-entries/${n.id}`;await x.hi["delete"](i).then((()=>{e("getApplication",t.uuid)}))},async addDocument({dispatch:e},{application:t,documentData:n}){await I.addDocument(t,n).then((n=>(e("getApplication",t.uuid),n)))},async markDocumentReviewed({dispatch:e},{application:t,document:n,dateReviewed:i,isFinal:r}){await I.markDocumentReviewed(t,n,i,r).then((()=>{e("getApplication",t.uuid)}))},async markDocumentVersionFinal({dispatch:e},{application:t,document:n}){await x.hi.post(`/api/applications/${t.uuid}/documents/${n.uuid}/final`).then((e=>{const n=t.documents.findIndex((e=>1==e.metadata.is_final)),i=t.documents[n];i&&(i.metadata.is_final=0,i.is_final=0,t.documents[n]=i);const r=t.documents.findIndex((t=>t.id==e.data.id));t.documents[r]=e.data}))},async updateDocumentInfo({dispatch:e},{application:t,document:n}){return await x.hi.put(`/api/applications/${t.uuid}/documents/${n.uuid}`,n).then((()=>{e("getApplication",t.uuid)}))},async deleteDocument({dispatch:e},{application:t,document:n}){return await x.hi["delete"](`/api/applications/${t.uuid}/documents/${n.uuid}`).then((()=>{e("getApplication",t.uuid)}))},async approveCurrentStep({dispatch:e},{application:t,dateApproved:n,notifyContacts:i,subject:r,body:s,attachments:a}){const o=new FormData;o.append("date_approved",n),o.append("notify_contacts",i),o.append("subject",r),o.append("body",s),Array.from(a).forEach(((e,t)=>{o.append("attachments["+t+"]",e)}));const l=`/api/applications/${t.uuid}/current-step/approve`;return await x.hi.post(l,o,{headers:{"Content-Type":"multipart/form-data"}}).then((()=>{e("getApplication",t.uuid)}))},async updateApprovalDate({dispatch:e},{application:t,dateApproved:n,step:i}){await x.hi.put(`/api/applications/${t.uuid}/approve`,{date_approved:n,step:i}).then((()=>{e("getApplication",t.uuid)}))},async addContact({dispatch:e},{application:t,contact:n}){await I.addContact(t,n).then((()=>{e("getApplication",t.uuid)}))},async removeContact({dispatch:e},{application:t,contact:n}){await I.removeContact(t,n).then((()=>{e("getApplication",t.uuid)}))},async deleteApplication({commit:e},{application:t}){return await x.hi["delete"](`/api/applications/${t.uuid}`).then((()=>{e("removeItem",t),e("clearCurrentItemIdx")}))}}},A={namespaced:!0,state:()=>({items:[]}),getters:{all:e=>e.items},mutations:{addItem(e,t){const n=e.items.findIndex((e=>e.id==t.id));n>-1?e.items.splice(n,1,t):e.items.push(t)}},actions:{async getAll({commit:e}){await p.Z.get("/api/cdwgs").then((t=>{t.data.forEach((t=>{e("addItem",t)}))}))}}},$={state:{},mutations:{},actions:{async storeCoi({commit:e},{code:t,groupMemberId:n,coiData:i}){const r={...i,group_member_id:n};await p.Z.post(`/api/coi/${t}`,r)},async storeLegacyCoi({commit:e},{application:t,coiData:n}){await I.addDocument(t,n).then((async e=>{const n={document_uuid:e.uuid,download_url:e.download_url};await ie.dispatch("storeCoi",{code:t.coi_code,coiData:n}),ie.dispatch("applications/getApplication",t.uuid)}))}}},V=n(7506),U=n(6486);const P="/api/groups",M=e=>`${P}/${e}/expert-panel`,q={groups:e=>e.items,items:e=>e.items,all:e=>e.items,requestCount:e=>e.requests.length,hasPendingRequests:e=>e.requests.length>0,eps:e=>e.items.filter((e=>3==e.group_type_id)),cdwgs:e=>e.items.filter((e=>2==e.group_type_id)),wgs:e=>e.items.filter((e=>1==e.group_type_id)),currentItem:e=>{const t=e.items[e.currentItemIdx];return t},currentItemOrNew:e=>{const t=e.items[e.currentItemIdx]||new V.Z;return t},getItemByUuid:e=>t=>{const n=e.items.find((e=>e.uuid==t));return n},getItemById:e=>t=>{const n=e.items.find((e=>e.id==t));return n}},E={addItem(e,t){if(!t.id)throw new Error(404);const n=Object.prototype.hasOwnProperty.call(t,"attributes")?t:new V.Z(t),i=e.items.findIndex((e=>e.id==t.id));i>-1?e.items.splice(i,1,n):e.items.push(n)},setCurrentItemIndex(e,t){const n=e.items.findIndex((e=>e.uuid==t.uuid));e.currentItemIdx=n},removeItem(e,t){const n=e.items.findIndex((e=>e.uuid==t.uuid));e.items.splice(n,1)},clearCurrentItemIdx(e){e.currentItemIdx=null},clearCurrentItem(e){e.currentItemIdx=null},addMemberToGroup(e,t){const n=q.getItemById(e)(t.group_id);if(!n)throw new Error("could not find group with id "+t.group_id+" in items.");n.addMember(t)},removeMember(e,t){const n=q.getItemById(e)(t.group_id);if(!n)throw new Error("could not find group with id "+t.group_id+" in items.");n.removeMember(t)},setCurrentItemIndexByUuid(e,t){if(e.items.length>0){const n=e.items.findIndex((e=>e.uuid==t));if(n>-1)return void(e.currentItemIdx=n);throw new Error(`Item with uuid ${t} not found in groups.items with length ${e.items.length}`)}}},W={async create({commit:e},t){return await x.hi.post(P,t).then((t=>(e("addItem",t.data.data),t)))},async getItems({commit:e},t){const n=P+(0,x.nZ)(t),i=await x.hi.get(n).then((e=>e.data));i.forEach((t=>{e("addItem",t)}))},async find({commit:e},t){const n=`${P}/${t}${(0,x.nZ)({with:[]})}`;return await x.hi.get(n).then((t=>(e("addItem",t.data.data),t)))},delete({commit:e,getters:t},n){return x.hi["delete"](`${P}/${n}`).then((()=>{const i=t.getItemByUuid(n);e("removeItem",i)}))},findAndSetCurrent({dispatch:e,commit:t},n){return e("find",n).then((e=>(t("setCurrentItemIndexByUuid",n),e)))},async memberAdd({commit:e},{uuid:t,personId:n,roleIds:i,data:r}){const s=`${P}/${t}/members`;return await x.hi.post(s,{person_id:n,role_ids:i,...r}).then((t=>(e("addMemberToGroup",t.data.data),t.data.data)))},async getMembers({commit:e},t){const n=await x.hi.get(`${P}/${t.uuid}/members`).then((e=>e.data.data));n.forEach((t=>{e("addMemberToGroup",t)}))},async memberInvite({commit:e},{uuid:t,data:n}){const i=`${P}/${t}/invites`,r={first_name:n.firstName,last_name:n.lastName,email:n.email,role_ids:n.roleIds||null,...n};return await x.hi.post(i,r).then((t=>(e("addMemberToGroup",t.data.data),t.data)))},async memberUpdate({commit:e},{groupUuid:t,memberId:n,data:i}){const r=`${P}/${t}/members/${n}`;return await x.hi.put(r,i).then((t=>(e("addMemberToGroup",t.data.data),t.data)))},async memberAssignRole(e,{uuid:t,memberId:n,roleIds:i}){const r=`${P}/${t}/members/${n}/roles`;return await x.hi.post(r,{role_ids:i}).then((r=>(e.getters.getItemByUuid(t).findMember(n).addRoles(i),r.data)))},async memberRemoveRole({commit:e},{uuid:t,memberId:n,roleId:i}){const r=`${P}/${t}/members/${n}/roles/${i}`;return await x.hi["delete"](r).then((t=>(e("addMemberToGroup",t.data.data),t)))},async memberSyncRoles({dispatch:e},{group:t,member:n}){const i=[];return n.addedRoles.length>0&&i.push(e("memberAssignRole",{uuid:t.uuid,memberId:n.id,roleIds:n.addedRoles.map((e=>e.id))})),n.removedRoles.forEach((r=>{i.push(e("memberRemoveRole",{uuid:t.uuid,memberId:n.id,roleId:r.id}))})),i},async memberGrantPermission({commit:e},{uuid:t,memberId:n,permissionIds:i}){const r=`${P}/${t}/members/${n}/permissions`;return await x.hi.post(r,{permission_ids:i}).then((t=>(e("addMemberToGroup",t.data.data),t)))},async memberRevokePermission({commit:e},{uuid:t,memberId:n,permissionId:i}){const r=`${P}/${t}/members/${n}/permissions/${i}`;return await x.hi["delete"](r).then((t=>(e("addMemberToGroup",t.data.data),t)))},async memberRetire({commit:e},{uuid:t,memberId:n,startDate:i,endDate:r}){const s=`${P}/${t}/members/${n}/retire`;return await x.hi.post(s,{start_date:i,end_date:r}).then((t=>(e("addMemberToGroup",t.data.data),t)))},async memberUnretire({commit:e},{uuid:t,memberId:n}){const i=`${P}/${t}/members/${n}/unretire`;return await x.hi.post(i).then((t=>(e("addMemberToGroup",t.data.data),t)))},async memberRemove({commit:e},{uuid:t,memberId:n,endDate:i}){const r=`${P}/${t}/members/${n}`;return await x.hi["delete"](r,{data:{end_date:i}}).then((t=>(e("removeMember",t.data.data),t)))},async membershipDescriptionUpdate({commit:e,getters:t},{uuid:n,membershipDescription:i}){return await x.hi.put(`${M(n)}/membership-description`,{membership_description:i}).then((i=>{const r=t.getItemByUuid(n);return r.memberDescription=i.data.data.expert_panel.memberDescription,e("addItem",r),i}))},async scopeDescriptionUpdate({commit:e,getters:t},{uuid:n,scopeDescription:i}){return await x.hi.put(`${M(n)}/scope-description`,{scope_description:i}).then((i=>{const r=t.getItemByUuid(n);return r.memberDescription=i.data.data.expert_panel.scopeDescription,e("addItem",r),i}))},async curationReviewProtocolUpdate({commit:e},{uuid:t,expertPanel:n}){return 100!=n.curation_review_protocol_id&&(n.curation_review_protocol_other=null),x.hi.put(`${M(t)}/curation-review-protocols`,n.attributes)},getSpecifications({commit:e},t){if(!t.is_vcep_or_scvcep)throw new Error("Can not retreive specfications. Only VCEPS have specifications.");return x.hi.get(`${P}/${t.uuid}/specifications`).then((n=>{t.expert_panel.specifications=n.data,e("addItem",t)}))},getGenes({commit:e,getters:t},n){return x.hi.get(`${M(n.uuid)}/genes`).then((i=>{const r=t.getItemByUuid(n.uuid);return r.expert_panel.genes=i.data,e("addItem",r),i.data}))},getEvidenceSummaries({commit:e,getters:t},n){return x.hi.get(`${M(n.uuid)}/evidence-summaries`).then((i=>{const r=t.getItemByUuid(n.uuid);return r.expert_panel.evidence_summaries=i.data.data,e("addItem",r),i.data.data}))},saveApplicationData({commit:e},t){const n=(0,U.clone)(t.expert_panel.attributes);return delete n.group,x.hi.put(`${P}/${t.uuid}/application`,n).then((e=>e))},submitApplicationStep({commit:e},{group:t,notes:n}){return x.hi.post(`${P}/${t.uuid}/application/submission`,{notes:n}).then((n=>(t.expert_panel.submissions.push(n.data),e("addItem",t),n)))},getSubmissions({commit:e},t){return x.hi.get(`${P}/${t.uuid}/application/submission`).then((n=>(t.expert_panel.submissions=n.data,e("addItem",t),n)))},getNextActions({commit:e},t){return x.hi.get(`${P}/${t.uuid}/next-actions`).then((n=>(t.expert_panel.nextActions=n.data,e("addItem",t),n)))},getDocuments({commit:e},t){return x.hi.get(`${P}/${t.uuid}/documents`).then((n=>(t.expert_panel.documents=n.data.filter((e=>e.document_type_id<8)),t.documents=n.data,e("addItem",t),n)))},addApplicationDocument({commit:e},{group:t,data:n}){return n.has("uuid")||n.append("uuid",(0,c.Z)()),x.hi.post(`/api/applications/${t.expert_panel.uuid}/documents`,n).then((n=>(t.documents.push(n.data),n.data.document_type_id<8&&(t.expert_panel.documents.push(n.data),e("addItem",t)),n.data)))},addDocument({commit:e},{group:t,data:n}){return n.has("uuid")||n.append("uuid",(0,c.Z)()),x.hi.post(`${P}/${t.uuid}/documents`,n).then((n=>(t.documents.push(n.data),n.data.document_type_id<8&&(t.expert_panel.documents.push(n.data),e("addItem",t)),n.data)))},async updateDocument({commit:e},{group:t,document:n}){return x.hi.put(`/api/groups/${t.uuid}/documents/${n.uuid}`,n).then((e=>{const i=t.documents.findIndex((e=>e.id==n.id));return t.documents[i]=e.data,e}))},async deleteDocument({commit:e},{group:t,document:n}){await x.hi["delete"](`/api/applications/${t.expert_panel.uuid}/documents/${n.uuid}`).then((e=>{const i=t.documents.indexOf(n);return t.documents.splice(i,1),e}))},async addLogEntry({dispatch:e},{group:t,logEntryData:n}){const i=`/api/groups/${t.uuid}/log-entries`;await x.hi.post(i,n).then((()=>{}))},getPendingTasks({getters:e},t){const n=`${P}/${t.uuid}/tasks?pending`;return x.hi.get(n).then((n=>{const i=e.getItemByUuid(t.uuid);return i.pendingTasks=n.data,n}))},completeSustainedCurationReview({getters:e},t){const n=`${P}/${t.uuid}/expert-panel/sustained-curation-reviews`;return x.hi.put(n).then((n=>{const i=e.getItemByUuid(t.uuid),r=i.pendingTasks||[];return n.data.forEach((e=>{const t=r.indexOf((t=>t.id===e.id));t>-1&&e.completed_at&&delete i.pendingTasks[t]})),n}))},async updateApprovalDate({commit:e},{group:t,dateApproved:n,step:i}){return x.hi.put(`/api/applications/${t.expert_panel.uuid}/approve`,{date_approved:n,step:i}).then((()=>{t.expert_panel.updateApprovalDate(n,i)}))},getAnnualUpdate(e,t){x.hi.get(`/api/groups/${t.uuid}/expert-panel/annual-updates`,{headers:{"X-Ignore-Missing":1}}).then((e=>{t.expert_panel.annualUpdate=e.data}))},createAnnualUpdateForLatestWindow(e,t){return x.hi.post(`/api/groups/${t.uuid}/expert-panel/annual-updates`).then((e=>{t.expert_panel.annualUpdate=e.data}))},getChildren(e,t){return x.hi.get(`/api/groups/${t.uuid}/children`).then((e=>{t.children=e.data.data}))},async approveCurrentStep({dispatch:e},{group:t,dateApproved:n,notifyContacts:i,subject:r,body:s,attachments:a}){const o=new FormData;o.append("date_approved",n),o.append("notify_contacts",i),o.append("subject",r),o.append("body",s),Array.from(a).forEach(((e,t)=>{o.append("attachments["+t+"]",e)}));const l=`/api/applications/${t.uuid}/current-step/approve`;return await x.hi.post(l,o,{headers:{"Content-Type":"multipart/form-data"}}).then((()=>{e("findAndSetCurrent",t.uuid)}))}};var Z={namespaced:!0,state:()=>({requests:[],items:[],currentItemIdx:null}),getters:q,mutations:E,actions:W},R=n(284);const L="/api/people",F=()=>({requests:[],items:[],lastFetch:null,currentItemIdx:null}),j={people:e=>e.items,all:e=>e.items,personWithUuid:e=>t=>e.items.find((e=>e.uuid==t)),getPersonWithUuid:e=>t=>e.items.find((e=>e.uuid==t)),indexForPersonWithUuid:e=>t=>e.items.findIndex((e=>e.uuid==t)),currentItem:e=>"undefined"==typeof e.currentItemIdx||null==e.currentItemIdx||e.currentItemIdx<0?new R.Z:e.items[e.currentItemIdx]},O={addItem(e,t){let n=t;t instanceof R.Z||(n=new R.Z(t));const i=e.items.findIndex((e=>e.uuid==t.uuid));i>-1?e.items.splice(i,1,n):e.items.push(n)},removeItem(e,t){const n=e.items.findIndex((e=>e.id===t.id));n>-1&&e.items.splice(n,1)},clearItems(e){e.items=[]},setLastFetch(e){e.lastFetch=new Date},setLastParams(e,t){e.lastParams=t},setCurrentItemIndex(e,t){const n=e.items.findIndex((e=>e.uuid==t.uuid));n>-1&&(e.currentItemIdx=n)},clearCurrentItem(e){e.currentItemIdx=null}},z={async all({dispatch:e},t){e("getAll",{params:t})},async getAll({commit:e},{params:t,fresh:n=!1}){e("setLastParams",t),await x.hi.get(L+(0,x.nZ)(t)).then((t=>{t.data.data.forEach((t=>{e("addItem",t),e("setLastFetch",new Date)}))}))},async getPeopleSinceLastFetch({commit:e,state:t},n=null){null===n&&(n=t.lastParams),"undefined"!=typeof n&&null!==n||(n={}),n.where||(n.where={}),n.where.since=t.lastFetch.toISOString(),await x.hi.get(L+(0,x.nZ)(n)).then((t=>{t.data.forEach((t=>{e("addItem",t),e("setLastFetch",new Date)}))}))},getPerson({commit:e},{uuid:t,params:n}){return x.hi.get(`${L}/${t}`+(0,x.nZ)(n)).then((t=>(e("addItem",t.data.data),e("setCurrentItemIndex",t.data.data),t)))},async updateAttributes({commit:e},{uuid:t,attributes:n}){await x.hi.put(`${L}/${t}`,n).then((t=>{e("addItem",t.data)}))},async updateProfile({commit:e},{uuid:t,attributes:n}){return x.hi.put(`${L}/${t}/profile`,n).then((t=>(e("addItem",t.data),t)))},getMail({commit:e},t){return null!=t.uuid&&x.hi.get(`/api/people/${t.uuid}/email`).then((e=>(t.mailLog=e.data,e)))},deletePerson({commit:e},t){return x.hi["delete"](`/api/people/${t.uuid}`).then((n=>(e("removeItem",t),n)))},mergePeople({commit:e},{authority:t,obsolete:n}){return x.hi.put("/api/people/merge",{authority_id:t.id,obsolete_id:n.id}).then((t=>{e("addItem",t.data),e("removeItem",n)}))}};var T={namespaced:!0,state:F,getters:j,mutations:O,actions:z};const B="/api/credentials";var N={namespaced:!0,state:()=>({items:[],currentItemIdx:null}),getters:{items:e=>e.items},mutations:{addItem(e,t){if(!t.id)throw new Error(404);const n=e.items.findIndex((e=>e.id==t.id));n>-1?e.items.splice(n,1,t):e.items.push(t)},setItems(e,t){e.items=t},removeItem(e,t){const n=e.items.findIndex((e=>e.id==t.id));e.items.splice(n,1)}},actions:{getItems({commit:e}){return x.hi.get(`${B}?withCount[]=people`).then((t=>(e("setItems",t.data),t.data)))},create({commit:e},t){return x.hi.post(B,t).then((t=>(e("addItem",t.data),t)))},update({commit:e},t){return x.hi.put(`${B}/${t.id}`,t).then((t=>(console.log({rsp:t}),e("addItem",t.data),t)))},merge({commit:e},{authority:t,obsolete:n}){return x.hi.put("/api/credentials/merge",{authority_id:t.id,obsolete_id:n.id}).then((t=>(e("removeItem",n),e("addItem",t.data),t)))},delete({commit:e},t){return x.hi["delete"](`/api/credentials/${t.id}`).then((n=>(e("removeItem",t),n)))}}};const H="/api/expertises";var G={namespaced:!0,state:()=>({items:[],currentItemIdx:null}),getters:{items:e=>e.items},mutations:{addItem(e,t){if(!t.id)throw new Error(404);const n=e.items.findIndex((e=>e.id==t.id));n>-1?e.items.splice(n,1,t):e.items.push(t)},setItems(e,t){e.items=t},removeItem(e,t){const n=e.items.findIndex((e=>e.id==t.id));e.items.splice(n,1)}},actions:{getItems({commit:e}){return x.hi.get(`${H}?withCount[]=people`).then((t=>(e("setItems",t.data),t.data)))},create({commit:e},t){return x.hi.post(H,t).then((t=>(e("addItem",t.data),t)))},update({commit:e},t){return x.hi.put(`${H}/${t.id}`,t).then((t=>(console.log({rsp:t}),e("addItem",t.data),t)))},delete({commit:e},t){return x.hi["delete"](`${H}/${t.id}`).then((n=>(e("removeItem",t),n)))}}},K=n(6836);const Y=e=>{if(!e.baseUrl)throw new Error("Store module config baseUrl must be set.")};function Q(e={}){Y(e);const t={namespaced:Boolean(e.namespace),state:{items:[],currentItemIdx:null},getters:{items:e=>e.items,getItems:e=>e.items,getItemById:e=>t=>e.items.find((e=>e.id==t)),currentItem:t=>null===t.currentItemIdx?e.modelClass?new e.modelClass:{}:t.items[t.currentItemIdx]},mutations:{addItem(t,n){e.modelClass&&(n=new e.modelClass(n));const i=t.items.findIndex((e=>e.id==n.id));i>-1?t.items.splice(i,1,n):t.items.push(n)},clearItems(e){e.items=[]},setCurrentItemIndex(e,t){const n=e.items.findIndex((e=>e.uuid==t.uuid));e.currentItemIdx=n},...e.mutations},actions:{async getItems({commit:t}){const n=await p.Z.get(e.baseUrl).then((e=>e.data));for(let e in n)t("addItem",n[e])},...e.actions}};return t}var X=n(6212);p.Z.interceptors.request.use((function(e){return ne.commit("addRequest"),e}),(function(e){return ne.commit("removeRequest"),Promise.reject(e)})),p.Z.interceptors.response.use((e=>(ne.commit("removeRequest"),e)),(e=>{switch(ne.commit("removeRequest"),e.response.status){case 401:return ne.commit("setAuthenticated",!1),e;case 403:if(e.response.data.includes("The request to access this resource was rejected.")){const t=e.response.data.match(/Reference this support identifier:\s*(\d+)/),n=t[1]||null;ne.commit("pushError",'There is a Network Firewall issue.  Please contact support GPM Support ASAP at "gpm_support@clinicalgenome.org", providing details on your network connection and the following support ID: '+n)}else ne.commit("pushError","You do not have permission to complete that action.  If you think this is an error please contact support at gpm_support@clinicalgenome.org");return e;case 404:return 1!==e.config.headers["X-Ignore-Missing"]&&ne.commit("pushError","We couldn't find something you're looking for."),e;case 500:return ne.commit("pushError","We've encountered a problem trying to complete your request.  Support has been notified and we will be in touch."),e}return Promise.reject(e)}));const J={addRequest(e){e.openRequests++},removeRequest(e){e.openRequests--},setCurrentUser(e,t){e.user=new X.Z(t),ne.commit("setAuthenticated",!0)},clearCurrentUser(e){e.user=new X.Z,ne.commit("setAuthenticated",!1)},setAuthenticated(e,t){e.authenticated=t},startAuthenticating(e){e.authenticating=!0},stopAuthenticating(e){e.authenticating=!1}},ee=Q({baseUrl:"/api/document-types",namespace:"doctypes"}),te=Q({baseUrl:"/api/countries",namespace:"countries"}),ne=(0,i.MT)({state:{hostname:"https://gpm.clinicalgenome.org",user:new X.Z,openRequests:0,authenticating:!0,authenticated:null,documentTypes:null,features:{legacyCoi:!0},systemInfo:{build:{},app:{features:{}}}},getters:{currentUser:e=>e.user,authed:e=>e.authenticated,isAuthed:e=>e.authenticated},mutations:J,actions:{async getCurrentUser({commit:e,dispatch:t,state:n}){if(!n.authenticated||null===n.user.id)try{await p.Z.get("/api/current-user").then((t=>{e("setCurrentUser",t.data.data)})),t("getSystemInfo")}catch(i){e("clearCurrentUser")}},async forceGetCurrentUser({commit:e}){try{await p.Z.get("/api/current-user").then((t=>{e("setCurrentUser",t.data.data)}))}catch(t){e("clearCurrentUser")}},async login({commit:e},{email:t,password:n}){await p.Z.get("/sanctum/csrf-cookie"),await p.Z.post("/api/login",{email:t,password:n}).then((()=>{e("setAuthenticated",!0),ne.dispatch("getCurrentUser",!0)}))},async logout({commit:e}){try{await p.Z.post("/api/logout").then((()=>{e("clearCurrentUser")}))}catch(t){(0,K.Z)(t)&&alert("You cannot log out because you are not logged in")}},async checkAuth({commit:e,state:t}){t.authenticated||await p.Z.get("/api/authenticated").then((()=>{e("setAuthenticated",!0)})).catch((t=>{t.response.status&&401==t.response.status&&e("setAuthenticated",!1)}))},getSystemInfo({state:e}){e.authenticated&&p.Z.get("/api/system-info").then((t=>{e.systemInfo=t.data}))}},modules:{alerts:r.Z,applications:S,coiStore:$,cdwgs:A,credentials:N,groups:Z,doctypes:ee,people:T,expertises:G,countries:te}});var ie=ne},4417:function(e,t,n){"use strict";n.d(t,{G8:function(){return u},GL:function(){return s},Qs:function(){return r},eV:function(){return l},fu:function(){return a}});const i=e=>{if(!e)return e;const t=e.replace(/[A-Z]/g,(e=>` ${e.toLowerCase()}`)).split(/[\s_-]/).filter((e=>" "!==e&&""!==e)).map((e=>e.trim())).join(" ").trim();return t},r=e=>{if(!e)return e;const t=i(e).split(" ");return t.map((e=>e.charAt(0).toUpperCase()+e.slice(1))).join(" ")},s=e=>e?i(e).split(" ").join("-"):e,a=e=>e?i(e).split(" ").join("_"):e,o=e=>{if(!e)return e;const t=i(e).split(" ");return t.map((e=>e.charAt(0).toUpperCase()+e.slice(1))).join("")},l=e=>{const t=o(e);return t.charAt(0).toLowerCase()+t.slice(1)},u=e=>{if(null===e)return e;const t=i(e).split(" ");return t.join(" ").charAt(0).toUpperCase()+t.join(" ").slice(1)}},8661:function(e,t,n){"use strict";n.d(t,{IA:function(){return s},ft:function(){return a}});n(6699);var i=n(3823),r=n(4417);const s=(e,t)=>!!t&&("string"==typeof e?t.map((e=>e.name)).includes(e):"object"==typeof e?t.map((e=>e.id)).includes(e.id):t.map((e=>e.id)).includes(e)),a=e=>i.appFeatures[(0,r.eV)(e)]},39:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return u}});var i=n(6252),r=n(3577);function s(e,t,n,s,a,o){return(0,i.wg)(),(0,i.iD)("span",{class:(0,r.C_)(["rounded-xl text-white font-bold",`${n.color} ${o.textSize} ${o.padding}`])},[(0,i.WI)(e.$slots,"default",{},void 0,!0)],2)}var a={name:"ComponentName",props:{color:{type:String,required:!1,default:"gray"},size:{type:String,default:"xs"}},computed:{textSize(){return`text-${this.size}`},padding(){let e="px-2",t="py-1";return"xxs"==this.size?`${e} py-0.5`:`${e} ${t}`}}},o=n(3744);const l=(0,o.Z)(a,[["render",s],["__scopeId","data-v-25f60704"]]);var u=l},5146:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return d}});var i=n(6252),r=n(3577);const s={key:0,class:"note"};function a(e,t,n,a,o,l){const u=(0,i.up)("router-link");return(0,i.wg)(),(0,i.iD)("ul",null,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(n.items,((e,t)=>((0,i.wg)(),(0,i.iD)("li",{key:t,class:"inline"},[(0,i.Wm)(u,{to:e.route,class:"note"},{default:(0,i.w5)((()=>[(0,i.Uk)((0,r.zw)(e.label),1)])),_:2},1032,["to"]),t!==n.items.length-1?((0,i.wg)(),(0,i.iD)("span",s," > ")):(0,i.kq)("",!0)])))),128))])}var o={name:"Breadcrumps",props:{items:{type:Array,required:!0}}},l=n(3744);const u=(0,l.Z)(o,[["render",a]]);var d=u},2192:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return c}});var i=n(6252),r=n(3577);const s={key:0,class:"bg-gray-200 px-4 py-2 sm:flex justify-between border border-gray-300 rounded-t"},a={class:"bg-white border border-t-0 border-gray-300 rounded-b px-4 py-3 overflow-x-auto"};function o(e,t,n,o,l,u){return(0,i.wg)(),(0,i.iD)("div",null,[(0,i.WI)(e.$slots,"header",{},(()=>[n.title||e.$slots.title?((0,i.wg)(),(0,i.iD)("div",s,[(0,i.WI)(e.$slots,"title",{},(()=>[(0,i._)("h2",null,(0,r.zw)(n.title),1)])),(0,i.WI)(e.$slots,"header-right")])):(0,i.kq)("",!0)])),(0,i._)("div",a,[(0,i.WI)(e.$slots,"default")])])}var l={props:{title:{type:String,required:!1}},data(){return{}},computed:{},methods:{}},u=n(3744);const d=(0,u.Z)(l,[["render",o]]);var c=d},1299:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return m}});var i=n(6252),r=n(3577),s=n(9963);const a={class:"collapsible-container"},o={class:"flex items-start"},l={key:0};function u(e,t,n,u,d,c){const p=(0,i.up)("icon-cheveron-right"),m=(0,i.up)("icon-cheveron-down");return(0,i.wg)(),(0,i.iD)("div",a,[(0,i._)("div",{class:"collapsible-header",onClick:t[0]||(t[0]=e=>c.expanded=!c.expanded)},[(0,i._)("div",o,[n.showCheveron?((0,i.wg)(),(0,i.iD)("div",l,[c.expanded?(0,i.kq)("",!0):((0,i.wg)(),(0,i.j4)(p,{key:0,class:"-ml-1 mt-1"})),c.expanded?((0,i.wg)(),(0,i.j4)(m,{key:1,class:"-ml-1 mt-1"})):(0,i.kq)("",!0)])):(0,i.kq)("",!0),(0,i.WI)(e.$slots,"title",{},(()=>[(0,i._)("strong",null,(0,r.zw)(n.title),1)]))])]),(0,i.Wm)(s.uT,{name:"slide-fade-down"},{default:(0,i.w5)((()=>[(0,i.wy)((0,i._)("div",null,[(0,i.WI)(e.$slots,"default")],512),[[s.F8,c.expanded]])])),_:3})])}var d={name:"Collapsible",props:{modelValue:{type:Boolean,required:!1,default:null},title:{type:String,required:!1,default:null},showCheveron:{type:Boolean,default:!0}},emits:["expanded","collapsed","update:modelUpdate"],data(){return{opened:!1}},computed:{valueSet(){return null!==this.modelValue},expanded:{get(){return this.valueSet?this.modelValue:this.opened},set(e){this.opened=e,this.$emit("update:modelUpdate",e),this.opened?this.$emit("expanded"):this.$emit("collapsed")}}},methods:{}},c=n(3744);const p=(0,c.Z)(d,[["render",u]]);var m=p},1365:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return _}});var i=n(6252),r=n(3577),s=n(9963);const a={class:"flex justify-between mb-2 items-center"},o={class:"shadow-inner bg-gray-50"},l={class:"border-none"},u={class:"bg-gray-200"},d=["title","onClick","colspan"],c={class:"py-1 flex justify-between place-items-center"},p={key:0},m=["onClick"],h=["colspan"];function f(e,t,n,f,g,v){const w=(0,i.up)("pagination-links"),b=(0,i.up)("icon-cheveron-up"),y=(0,i.up)("icon-cheveron-down"),_=(0,i.up)("object-dictionary");return(0,i.wg)(),(0,i.iD)("div",null,[(0,i._)("header",a,[(0,i.WI)(e.$slots,"header",{},void 0,!0),v.shouldPaginate?((0,i.wg)(),(0,i.j4)(w,{key:0,"current-page":g.currentPage,"total-items":g.totalItems,"page-size":n.pageSize,"onUpdate:currentPage":v.updateCurrentPage},null,8,["current-page","total-items","page-size","onUpdate:currentPage"])):(0,i.kq)("",!0)]),(0,i._)("div",o,[(0,i._)("table",l,[(0,i._)("thead",null,[(0,i.WI)(e.$slots,"thead",{},(()=>[(0,i._)("tr",u,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(n.fields.filter((e=>!e.hideHeader)),(t=>((0,i.wg)(),(0,i.iD)("th",{key:t.name,title:t.sortable?"Click to sort":"",class:(0,r.C_)(v.getHeaderClass(t)),onClick:e=>t.sortable&&v.updateSort(t),colspan:t.colspan?t.colspan:1},[(0,i._)("div",c,[(0,i._)("div",null,[(0,i.WI)(e.$slots,`header-${t.name}`,{item:{field:t}},(()=>[(0,i.Uk)((0,r.zw)(this.getFieldLabel(t)),1)]),!0)]),(0,i._)("div",null,[t.sortable?((0,i.wg)(),(0,i.iD)("div",p,[g.realSort.field.name!=t.name?((0,i.wg)(),(0,i.j4)(b,{key:0,"icon-color":"#ccc"})):(0,i.kq)("",!0),g.realSort.field.name!=t.name||g.realSort.desc?(0,i.kq)("",!0):((0,i.wg)(),(0,i.j4)(b,{key:1,"icon-color":"#333"})),g.realSort.field.name==t.name&&g.realSort.desc?((0,i.wg)(),(0,i.j4)(y,{key:2,"icon-color":"#333"})):(0,i.kq)("",!0)])):(0,i.kq)("",!0)])])],10,d)))),128))])]),!0)]),((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(g.resolvedItems,(t=>((0,i.wg)(),(0,i.iD)("tbody",{key:t.uuid},[(0,i._)("tr",{class:(0,r.C_)(v.resolveRowClass(t)),onClick:e=>v.handleRowClick(t)},[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(n.fields,(n=>((0,i.wg)(),(0,i.iD)("td",{key:n.name,class:(0,r.C_)(v.getCellClass(n))},[(0,i.WI)(e.$slots,v.getSlotName(n),{item:t,field:n,value:v.resolveDisplayAttribute(t,n)},(()=>[(0,i.Uk)((0,r.zw)(v.resolveDisplayAttribute(t,n)),1)]),!0)],2)))),128))],10,m),(0,i.Wm)(s.uT,{name:"fade-slide-down"},{default:(0,i.w5)((()=>[n.detailRows&&t.showDetails?((0,i.wg)(),(0,i.iD)("tr",{key:0,class:(0,r.C_)(["details",v.resolveRowClass(t)])},[(0,i._)("td",{colspan:n.fields.length},[(0,i.WI)(e.$slots,"detail",{item:t},(()=>[(0,i.Wm)(_,{obj:t},null,8,["obj"])]),!0)],8,h)],2)):(0,i.kq)("",!0)])),_:2},1024)])))),128))])])])}n(6699);var g=n(5699),v=n(4417),w={name:"DataTable",emits:["rowClick","update:sort","sort","sorted"],props:{data:{required:!1},fields:{required:!0,type:Array},paginated:{type:Boolean,default:!1},filterTerm:{required:!1,type:String},filter:{required:!1,type:Function},rowClickHandler:{required:!1,type:Function},rowClass:{required:!1,type:[String,Function,null],default:null},sort:{required:!1,type:Object,default:()=>({field:"id",desc:!1})},detailRows:{type:Boolean,required:!1,default:!1},pageSize:{type:[Number,null],default:20},resetPageOnDataChange:{type:Boolean,default:!0}},data(){return{realSort:{field:{},desc:!1},resolvedItems:[],currentPage:1,totalItems:0}},watch:{sort:{immediate:!0,handler:function(){if(!this.sort)return this.realSort={field:this.fields[0],desc:!1},void this.getItems();this.realSort={field:this.fields.find((e=>e.name==this.sort.field)),desc:this.sort.desc},this.resetCurrentPage(),this.getItems()}},filterTerm(){this.getItems()},data:{immediate:!0,deep:!0,handler:function(){this.resetPageOnDataChange&&this.resetCurrentPage(),this.getItems()}},currentPage:{immedate:!0,handler(){this.getItems()}}},computed:{shouldPaginate(){return this.paginated},dataIsFunction(){return"function"==typeof this.data},filterFunction(){return this.filter?this.filter:this.defaultFilter},sortField(){return this.realSort.field},sortFieldName(){return this.realSort.field.sortName?this.realSort.field.sortName:this.realSort.field.Name}},methods:{async getItems(){if(this.dataIsFunction)return void(this.resolvedItems=await this.data(this.currentPage,this.pageSize,this.realSort,this.setTotalItems));const e=this.sortData(this.filterData([...this.data]));this.resolvedItems=this.paginated?this.paginate(e):e,this.setTotalItems(e.length)},setTotalItems(e){this.totalItems=e},setCurrentPage(e){this.currentPage=e},paginate(e){if(this.dataIsFunction)return void this.getItems();const t=(this.currentPage-1)*this.pageSize,n=t+this.pageSize-1;return e.slice(t,n)},sortData(e){const t=this.realSort.field.type;if(!this.dataIsFunction){if(this.realSort.field.sortFunction){const t=e.sort(this.realSort.field.sortFunction);return this.realSort.desc?t.reverse():t}return t==Date?e.sort(this.dateSort):e.sort(this.textAndNumberSort)}this.getItems()},filterData(e){if(!this.dataIsFunction)return this.filterTerm?e.filter((e=>null!==e)).filter((e=>this.filterFunction(e,this.filterTerm.trim()))):e;this.getItems()},findFieldByName(e){return this.fields.find((t=>t.name==e))},getAttributeValue(e,t){if(t&&"undefined"!=typeof t&&t.includes(".")){const n=t.split(".");let i=e;for(const e in n)if(i=i[n[e]],!i)return null;return i}return e[t]},resolveDisplayAttribute(e,t){if(t.resolveValue)return t.resolveValue(e);const n=this.getAttributeValue(e,t.name);return t.type==Date?n?(0,g.p6)(n):null:n},resolveSortAttribute(e,t){return t.resolveSort?t.resolveSort(e):t.sortName?this.getAttributeValue(e,t.sortName):this.resolveDisplayAttribute(e,t)},updateSort(e){const t=this.realSort.field,n={field:e.name,desc:!this.realSort.desc};t.name!=e.name&&(n.desc=!1),this.$emit("update:sort",n),this.$emit("sorted",n),this.$nextTick((()=>{this.getItems()}))},textAndNumberSort(e,t){const n=this.realSort.desc?-1:1;let i=this.resolveSortAttribute(e,this.sortField),r=this.resolveSortAttribute(t,this.sortField);return i&&!r?-1*n:r&&!i?1*n:((this.realSort.field.type==String||"string"==typeof i&&"string"==typeof r)&&(i=i?i.toLowerCase():i,r=r?r.toLowerCase():r),i==r?e.id>t.id?1*n:-1*n:n*(i>r?1:-1))},dateSort(e,t){const n=this.realSort.desc?-1:1;let i=Date.parse(this.resolveSortAttribute(e,this.sortField));isNaN(parseFloat(i))&&(i=0);let r=Date.parse(this.resolveSortAttribute(t,this.sortField));return isNaN(parseFloat(r))&&(r=0),i===r?0:n*(i>r?1:-1)},defaultFilter(e,t){const n=t.toLowerCase();for(let i in this.fields){let t=this.resolveDisplayAttribute(e,this.fields[i]);if(null!==t&&"undefined"!==typeof t&&(t=t.toString().toLowerCase(),t&&t.includes(n)))return!0}return!1},handleRowClick(e){this.$emit("rowClick",e),this.rowClickHandler&&this.rowClickHandler(e)},getFieldLabel(e){return"undefined"==typeof e.label||null===e.label?(0,v.Qs)(e.name):e.label},getHeaderClass(e){const t=e.class?[...e.class]:[];return e.sortable&&t.push("cursor-pointer underline hover:bg-gray-300"),1==e.colspan&&this.realSort.field==e&&t.push(e),e.headerClass&&t.push(...e.headerClass),t.join(" ")},getCellClass(e){return e.class},getSlotName(e){return`cell-${e.name.replace(" ","_").replace(".","_")}`},resolveRowClass(e){return"function"==typeof this.rowClass?this.rowClass(e):this.rowClass},resetCurrentPage(){this.currentPage=1},updateCurrentPage(e){this.currentPage=e}}},b=n(3744);const y=(0,b.Z)(w,[["render",f],["__scopeId","data-v-b4c4ce26"]]);var _=y},7789:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return c}});var i=n(6252),r=n(3577);const s=e=>((0,i.dD)("data-v-6827c396"),e=e(),(0,i.Cn)(),e),a=s((()=>(0,i._)("div",{class:"hidden w-36"}," ",-1)));function o(e,t,n,s,o,l){return(0,i.wg)(),(0,i.iD)("div",{class:(0,r.C_)(["dictionary-row",{flex:!n.vertical}])},[(0,i._)("div",{class:(0,r.C_)([l.fullLabelClass,"flex-shrink-0"])},[n.label?(0,i.WI)(e.$slots,"label",{key:0},(()=>[(0,i._)("label",{class:(0,r.C_)(l.fullLabelClass)},(0,r.zw)(n.label)+(0,r.zw)(l.colon),3)]),!0):(0,i.kq)("",!0)],2),(0,i._)("div",null,[(0,i.WI)(e.$slots,"default",{},void 0,!0)]),a],2)}n(6699);var l={name:"DictionaryRow",props:{label:{type:String,required:!1},vertical:{type:Boolean,required:!1,default:!1},labelWidthClass:{type:String,default:"w-36"},labelClass:{type:String,required:!1}},data(){return{}},computed:{colon(){return this.label&&[":",";",".","?","!"].includes(this.label.substr(-1))?"":":"},fullLabelClass(){const e=[];return this.vertical&&e.push("mb-1"),this.labelClass&&e.push(this.labelClass.split(" ")),this.vertical||e.push(this.labelWidthClass||"w-36"),e}},methods:{}},u=n(3744);const d=(0,u.Z)(l,[["render",o],["__scopeId","data-v-6827c396"]]);var c=d},331:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return l}});var i=n(6252);const r=["href","title"],s=(0,i.Uk)("  ");var a={__name:"DownloadLink",props:{url:{type:String,required:!0},title:{type:String,default:"download"}},setup(e){return(t,n)=>{const a=(0,i.up)("icon-download");return(0,i.wg)(),(0,i.iD)("a",{href:e.url,title:e.title},[(0,i.Wm)(a,{class:"inline"}),s,(0,i.WI)(t.$slots,"default")],8,r)}}};const o=a;var l=o},2839:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return u}});var i=n(6252);const r={class:"menu-item hover:bg-blue-100 cursor-pointer"};function s(e,t,n,s,a,o){return(0,i.wg)(),(0,i.iD)("li",r,[(0,i.WI)(e.$slots,"default")])}var a={name:"DropdownItem",data(){return{active:!1}},computed:{parentIsValid(){return"DropdownMenu"==this.$parent.$options.name}},mounted(){}},o=n(3744);const l=(0,o.Z)(a,[["render",s]]);var u=l},525:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return c}});var i=n(6252),r=n(3577),s=n(9963);const a={class:"dropdown-items",onClick:"{this.toggleMenu}"};function o(e,t,n,o,l,u){const d=(0,i.up)("icon-cheveron-down"),c=(0,i.Q2)("click-outside");return(0,i.wg)(),(0,i.iD)("div",null,[(0,i._)("div",{class:(0,r.C_)(["dropdown",n.orientation])},[(0,i._)("div",{class:"dropdown-label",ref:"menuButton",onClick:t[0]||(t[0]=(0,s.iM)(((...e)=>u.toggleMenu&&u.toggleMenu(...e)),["stop"]))},[(0,i.wy)((0,i._)("span",null,[(0,i.Wm)(d)],512),[[s.F8,!n.hideCheveron]]),(0,i.WI)(e.$slots,"label",{},(()=>[(0,i.Uk)((0,r.zw)(this.label),1)]))],512),((0,i.wg)(),(0,i.j4)(i.lR,{to:"body"},[(0,i.Wm)(s.uT,{name:"slide-fade-down"},{default:(0,i.w5)((()=>[(0,i.wy)(((0,i.wg)(),(0,i.iD)("div",{ref:"dropdownMenu",class:"dropdown-items-container z-50",style:(0,r.j5)({top:`${l.menuY}px`,left:`${this.menuX}px`})},[(0,i._)("ul",a,[(0,i.WI)(e.$slots,"default")])],4)),[[s.F8,l.menuOpen],[c,{exclude:["menuButton"],handler:this.handleOutsideClick}]])])),_:3})]))],2)])}var l={name:"DropdownMenu",components:{Teleport:i.lR,Transition:s.uT},props:{label:{type:String,required:!1,default:"..."},orientation:{type:String,required:!1,default:"right"},hideCheveron:{type:Boolean,required:!1,default:!1}},data(){return{menuOpen:!1,menuItems:[],menuX:0,menuY:0}},computed:{},watch:{menuOpen(){this.positionMenu()}},methods:{addItem(e){this.menuItems.push(e)},handleOutsideClick(){this.menuOpen=!1},toggleMenu(e){e.stopPropagation(),this.menuOpen=!this.menuOpen,this.menuOpen&&this.$refs.dropdownMenu.focus()},renderItems(){return this.menuItems.map((e=>e.render()))},positionMenu(){const e=window.pageXOffset||this.$refs.menuButton.scrollLeft,t=window.pageYOffset||this.$refs.menuButton.scrollTop,n=this.$refs.menuButton.offsetWidth,i=this.$refs.menuButton.offsetHeight,r=this.$el.getBoundingClientRect();this.menuX=r.left+e-12*parseFloat(getComputedStyle(document.documentElement).fontSize)+n,this.menuY=r.top+t+i-14}},mounted(){this.positionMenu(),Array.from(this.$refs.dropdownMenu.getElementsByClassName("menu-item")).forEach((e=>{e.addEventListener("click",(e=>{this.toggleMenu(e)}))}))}},u=n(3744);const d=(0,u.Z)(l,[["render",o]]);var c=d},5065:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return h}});var i=n(6252);const r={key:0},s=(0,i._)("div",{class:"whitespace-no-wrap w-28 text-xs"},"Read the GPM FAQ",-1),a={key:0};function o(e,t,n,o,l,u){const d=(0,i.up)("icon-question"),c=(0,i.up)("faq-link"),p=(0,i.up)("popover"),m=(0,i.up)("markdown-block"),h=(0,i.up)("modal-dialog");return e.$store.getters.isAuthed?((0,i.wg)(),(0,i.iD)("div",r,[(0,i.Wm)(p,{hover:"",arrow:"",placement:"left"},{content:(0,i.w5)((()=>[s])),default:(0,i.w5)((()=>[(0,i.Wm)(c,{class:"block custom-text text-white bg-blue-600 border border-blue-700 border-r-0 pl-3 pr-3 py-2 rounded-l-lg shadow-lg print:hidden"},{default:(0,i.w5)((()=>[(0,i.Wm)(d)])),_:1})])),_:1}),((0,i.wg)(),(0,i.j4)(i.lR,{to:"body"},[(0,i.Wm)(h,{title:"ClinGen GPM Frequently Asked Questions",modelValue:l.showFaq,"onUpdate:modelValue":t[0]||(t[0]=e=>l.showFaq=e)},{default:(0,i.w5)((()=>[l.faqMarkdown?(0,i.kq)("",!0):((0,i.wg)(),(0,i.iD)("div",a,"Loading FAQ...")),(0,i.Wm)(m,{markdown:l.faqMarkdown,class:"faq"},null,8,["markdown"])])),_:1},8,["modelValue"])]))])):(0,i.kq)("",!0)}var l=n(9028),u=n(3823);const d=u.feedback;var c={name:"ComponentName",props:{},data(){return{showFaq:!1,faqMarkdown:null,errors:{}}},computed:{severities(){return d.severities}},methods:{showTheFaq(){this.fetchFaq(),this.showFaq=!0},fetchFaq(){l.hi.get("/api/docs/faq").then((e=>this.faqMarkdown=e.data))}}},p=n(3744);const m=(0,p.Z)(c,[["render",o]]);var h=m},6058:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return S}});var i=n(6252),r=n(9183),s=n(3129),a=n.n(s),o=n(2262);const l={class:"flex justify-between w-3/4"},u=(0,i.Uk)("   "),d=(0,i._)("div",{class:"w-80"},null,-1),c=(0,i._)("h4",null,"Tips on cropping images:",-1),p={class:"list-disc pl-6 text-xs"},m=(0,i._)("li",null,"Drag within the cropper to move the cropped region.",-1),h=(0,i._)("li",null,"Resize the cropped region by clicking on the edges or corners of the cropper and dragging. ",-1),f=(0,i._)("li",null,"Drag the image outside of the cropper to move.",-1),g=(0,i.Uk)(" Use the "),v=(0,i.Uk)(" and "),w=(0,i.Uk)(" to zoom in and out. "),b=(0,i.Uk)("The cropper must be entirely on the image so you may need to reduce the cropped are or zoom out to move the image."),y={class:"flex space-x-4"},_={class:"border w-3/4",style:{"max-height":"400px"}},k=["src"],C=(0,i._)("h4",null,"Preview",-1),I=["src"];var x={__name:"ImageCropper",props:{imageSrc:String},emits:["cropped"],setup(e,{emit:t}){const n=e,s=(0,o.iH)(null),x=(0,o.iH)(null),D=(0,o.iH)(null),S=(0,r.Z)((()=>{D.value&&D.value.getCroppedCanvas()&&D.value.getCroppedCanvas().toBlob((e=>{e&&(x.value=URL.createObjectURL(e),t("cropped",e))}),"image/jpeg",.8)}),500),A=()=>{const e=D.value.getImageData();D.value.setCropBoxData({width:e.width,height:e.height})},$=()=>{D.value=new(a())(s.value,{viewMode:1,dragMode:"move",aspectRatio:1,backround:!1,zoomOnWheel:!1,ready(){A()},crop(){S()}})},V=()=>{D.value.zoom(.1)},U=()=>{D.value.zoom(-.1)};return(0,i.YP)((()=>n.imageSrc),(e=>{D.value.replace(e),A()})),(0,i.bv)((()=>{$()})),(0,i.Ah)((()=>{D.value.destroy(),URL.revokeObjectURL(x.value)})),(t,n)=>{const r=(0,i.up)("zoom-out-icon"),a=(0,i.up)("zoom-in-icon"),o=(0,i.up)("note"),D=(0,i.up)("icon-question"),S=(0,i.up)("popper");return(0,i.wg)(),(0,i.iD)("div",null,[(0,i._)("div",l,[(0,i._)("div",null,[(0,i._)("button",{class:"btn btn-xs",onClick:U},[(0,i.Wm)(r,{height:"12",width:"12"})]),u,(0,i._)("button",{class:"btn btn-xs",onClick:V},[(0,i.Wm)(a,{height:"12",width:"12"})])]),(0,i.Wm)(S,{arrow:"",hover:""},{content:(0,i.w5)((()=>[d,c,(0,i._)("ul",p,[m,h,f,(0,i._)("li",null,[g,(0,i.Wm)(a,{height:"12",width:"12",class:"inline-block"}),v,(0,i.Wm)(r,{height:"12",width:"12",class:"inline-block"}),w])]),(0,i.Wm)(o,{class:"pl-6 mt-3"},{default:(0,i.w5)((()=>[b])),_:1})])),default:(0,i.w5)((()=>[(0,i.Wm)(D,{height:"14",width:"14"})])),_:1})]),(0,i._)("div",y,[(0,i._)("div",_,[(0,i._)("img",{src:e.imageSrc,style:{"max-width":"100%"},ref_key:"imageEl",ref:s},null,8,k)]),(0,i._)("div",null,[C,(0,i._)("img",{class:"border border-gray-700 overflow-hidden drop-shadow",style:{width:"100px",height:"100px"},ref:"previewEl",src:x.value},null,8,I)])])])}}};const D=x;var S=D},43:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return x}});var i=n(6252),r=n(3577);const s={key:0},a=(0,i._)("hr",null,null,-1),o=(0,i.Uk)(" Note that only ClinGen members that have redeemed their invite will be users of the system. "),l=(0,i._)("br",null,null,-1),u=(0,i.Uk)(" If they have not redeemed their invite you cannot impersonate them. "),d=(0,i._)("br",null,null,-1),c=(0,i.Uk)(" Check the "),p=(0,i._)("a",{href:"/admin/invites",target:"invites-admin"},"Invites Admin",-1),m=(0,i.Uk)(". "),h={key:0,class:"text-center"},f=(0,i._)("p",{class:"text-center"}," The page will reload in a moment... ",-1);function g(e,t,n,g,v,w){const b=(0,i.up)("search-select"),y=(0,i.up)("button-row"),_=(0,i.up)("note"),k=(0,i.up)("modal-dialog");return(0,i.wg)(),(0,i.iD)("div",null,[w.canImpersonate||e.user.is_impersonating?((0,i.wg)(),(0,i.iD)("div",s,[e.user.is_impersonating?((0,i.wg)(),(0,i.iD)("a",{key:1,href:"/impersonate/leave",class:"btn btn-secondary btn-xs",onClick:t[1]||(t[1]=e=>v.clearingImpersonate=!0)}," Stop impersonating ")):((0,i.wg)(),(0,i.iD)("button",{key:0,onClick:t[0]||(t[0]=e=>v.showSelector=!v.showSelector),class:"btn btn-xs border"}," Impersonate a user ")),((0,i.wg)(),(0,i.j4)(i.lR,{to:"body"},[(0,i.Wm)(k,{title:"Impersonate another user",modelValue:v.showSelector,"onUpdate:modelValue":t[3]||(t[3]=e=>v.showSelector=e),onOk:w.impersonateSelected},{default:(0,i.w5)((()=>[(0,i.Wm)(b,{modelValue:v.selectedUser,"onUpdate:modelValue":t[2]||(t[2]=e=>v.selectedUser=e),"search-function":w.search,placeholder:"search by name, email, or numeric id"},{"selection-label":(0,i.w5)((({selection:e})=>[(0,i.Uk)((0,r.zw)(e.name)+" ("+(0,r.zw)(e.email)+") ",1)])),option:(0,i.w5)((({option:e})=>[(0,i.Uk)((0,r.zw)(e.name)+" ("+(0,r.zw)(e.email)+") ",1)])),_:1},8,["modelValue","search-function"]),(0,i.Wm)(y,{onSubmitText:w.search,onSubmitted:w.impersonateSelected,onCancel:w.cancelImpersonate},null,8,["onSubmitText","onSubmitted","onCancel"]),a,(0,i.Wm)(_,null,{default:(0,i.w5)((()=>[o,l,u,d,c,p,m])),_:1})])),_:1},8,["modelValue","onOk"]),(0,i.Wm)(k,{modelValue:v.showProgress,"onUpdate:modelValue":t[4]||(t[4]=e=>v.showProgress=e)},{default:(0,i.w5)((()=>[v.selectedUser?((0,i.wg)(),(0,i.iD)("h3",h,(0,r.zw)(w.progressMessage),1)):(0,i.kq)("",!0),f])),_:1},8,["modelValue"])]))])):(0,i.kq)("",!0)])}var v=n(3907),w=n(9028);const b=e=>{sessionStorage.clear(),window.location.href="/impersonate/take/"+e},y=e=>w.hi.get(`/api/impersonate/search?query_string=${e}`).then((e=>e.data.data));var _=n(8612),k={components:{SearchSelect:_["default"]},data(){return{selectedUser:null,showSelector:!1,showProgress:!1,clearingImpersonate:!1}},computed:{...(0,v.Se)({user:"currentUser"}),canImpersonate(){return this.$store.getters.currentUser.hasRole("super-user")||this.$store.getters.currentUser.hasRole("super-admin")||this.$store.getters.currentUser.hasRole("admin")},progressMessage(){return this.clearingImpersonate?"Clearing impersonation.":`Impersonating ${this.selectedUser.name}`}},methods:{impersonateSelected(){this.selectedUser&&(this.$emit("impersonated"),this.showProgress=!0,b(this.selectedUser.id))},async search(e){return await y(e)},cancelImpersonate(){this.selectedUser=null,this.showSelector=!this.showSelector}}},C=n(3744);const I=(0,C.Z)(k,[["render",g]]);var x=I},3296:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return y}});var i=n(6252),r=n(9963),s=n(3577);const a={key:0},o=(0,i._)("div",{class:"whitespace-no-wrap w-28 text-xs"},"Report a problem",-1),l=(0,i._)("option",{value:"Bug"},"Bug",-1),u=(0,i._)("option",{value:"Task"},"Enhancement",-1),d=[l,u],c=["value"],p={key:2,class:"pt-2 mt-2 border-t text-gray-500"};function m(e,t,n,l,u,m){const h=(0,i.up)("icon-bug"),f=(0,i.up)("popover"),g=(0,i.up)("input-row"),v=(0,i.up)("button-row"),w=(0,i.up)("modal-dialog");return e.$store.getters.isAuthed?((0,i.wg)(),(0,i.iD)("div",a,[(0,i.Wm)(f,{hover:"",arrow:"",placement:"left"},{content:(0,i.w5)((()=>[o])),default:(0,i.w5)((()=>[(0,i._)("button",{class:"text-white bg-red-600 border border-red-700 border-r-0 pl-3 pr-3 py-2 rounded-l-lg shadow-lg print:hidden",onClick:t[0]||(t[0]=(...e)=>m.initReportIssue&&m.initReportIssue(...e))},[(0,i.Wm)(h)])])),_:1}),((0,i.wg)(),(0,i.j4)(i.lR,{to:"body"},[(0,i.Wm)(w,{title:"Report a problem",modelValue:u.showReportIssue,"onUpdate:modelValue":t[6]||(t[6]=e=>u.showReportIssue=e)},{default:(0,i.w5)((()=>[(0,i.Wm)(g,{modelValue:u.url,"onUpdate:modelValue":t[1]||(t[1]=e=>u.url=e),label:"URL",errors:u.errors.url,"input-class":"w-full"},null,8,["modelValue","errors"]),(0,i.Wm)(g,{label:"Type"},{default:(0,i.w5)((()=>[(0,i.wy)((0,i._)("select",{"onUpdate:modelValue":t[2]||(t[2]=e=>u.type=e),class:"w-full"},d,512),[[r.bM,u.type]])])),_:1}),"Bug"==u.type?((0,i.wg)(),(0,i.j4)(g,{key:0,label:"Severity",errors:u.errors.severity},{default:(0,i.w5)((()=>[(0,i.wy)((0,i._)("select",{name:"",id:"","onUpdate:modelValue":t[3]||(t[3]=e=>u.severity=e)},[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(m.severities,(e=>((0,i.wg)(),(0,i.iD)("option",{value:e.id,key:e.id},(0,s.zw)(e.name),9,c)))),128))],512),[[r.bM,u.severity]])])),_:1},8,["errors"])):(0,i.kq)("",!0),(0,i.Wm)(g,{modelValue:u.summary,"onUpdate:modelValue":t[4]||(t[4]=e=>u.summary=e),label:"Summary",errors:u.errors.summary,"input-class":"w-full"},null,8,["modelValue","errors"]),(0,i.Wm)(g,{label:"Description",errors:u.errors.description},{default:(0,i.w5)((()=>[(0,i.wy)((0,i._)("textarea",{"onUpdate:modelValue":t[5]||(t[5]=e=>u.description=e),class:"w-full",rows:"10",placeholder:"Please tell us what you expected to happen, and what actually happened, and the steps we should take to reproduce the problem."},null,512),[[r.nr,u.description]])])),_:1},8,["errors"]),u.saving?(0,i.kq)("",!0):((0,i.wg)(),(0,i.j4)(v,{key:1,onSubmitted:m.submitIssue,onCanceled:m.cancelSubmission},null,8,["onSubmitted","onCanceled"])),u.saving?((0,i.wg)(),(0,i.iD)("div",p,"Saving…")):(0,i.kq)("",!0)])),_:1},8,["modelValue"])]))])):(0,i.kq)("",!0)}var h=n(9028),f=n(3823);const g=f.feedback;var v={name:"ComponentName",props:{},data(){return{showReportIssue:!1,errors:{},url:null,type:"Bug",severity:"15555",description:"What I expected:\n\nSteps to reproduce:\n",summary:null,saving:!1}},computed:{severities(){return g.severities}},methods:{initReportIssue(){this.showReportIssue=!0,this.initForm()},initForm(){this.severity=null,this.description="What I expected:\n\n\nSteps to reproduce:\n\n\nAdditional information:\n\n",this.summary=null,this.url=this.$route.path,this.errors={},this.saving=!1},async submitIssue(){try{this.saving=!0,await h.hi.post("/api/feedback",{url:this.url,type:this.type,severity:this.severity,description:this.description,summary:this.summary}),this.saving=!1,this.$store.commit("pushSuccess","Your problem has been reported."),this.showReportIssue=!1}catch(e){if((0,h.z1)(e))return this.errors=e.response.data.errors,void(this.saving=!1);throw e}},cancelSubmission(){this.initForm(),this.showReportIssue=!1}}},w=n(3744);const b=(0,w.Z)(v,[["render",m]]);var y=b},1411:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return f}});var i=n(6252),r=n(9963);const s={class:"mt-2"},a=(0,i.Uk)("Forgot your password?"),o=(0,i._)("br",null,null,-1),l=(0,i.Uk)("Redeem your invite");function u(e,t,n,u,d,c){const p=(0,i.up)("input-row"),m=(0,i.up)("router-link"),h=(0,i.up)("button-row"),f=(0,i.up)("form-container");return(0,i.wg)(),(0,i.j4)(f,{onKeyup:(0,r.D2)(c.authenticate,["enter"])},{default:(0,i.w5)((()=>[(0,i.Wm)(p,{modelValue:d.email,"onUpdate:modelValue":t[0]||(t[0]=e=>d.email=e),label:"Email",type:"text",errors:d.errors.email,name:"email",required:""},null,8,["modelValue","errors"]),(0,i.Wm)(p,{modelValue:d.password,"onUpdate:modelValue":t[1]||(t[1]=e=>d.password=e),label:"Password",type:"password",errors:d.errors.password,name:"password",required:""},null,8,["modelValue","errors"]),(0,i._)("div",s,[(0,i.Wm)(m,{class:"text-blue-500 underline",to:{name:"reset-password"}},{default:(0,i.w5)((()=>[a])),_:1}),o,(0,i.Wm)(m,{class:"text-blue-500 underline",to:{name:"RedeemInvite"}},{default:(0,i.w5)((()=>[l])),_:1})]),(0,i.Wm)(h,{class:"mt-4"},{default:(0,i.w5)((()=>[(0,i._)("button",{class:"btn blue w-auto px-4",onClick:t[2]||(t[2]=(...e)=>c.authenticate&&c.authenticate(...e)),name:"login-button"},"Log in")])),_:1})])),_:1},8,["onKeyup"])}var d=n(9700),c=n(6836),p={props:{},data(){return{email:null,password:null,errors:{}}},emits:["authenticated","authenticationFailed"],computed:{},methods:{async authenticate(){try{await this.$store.dispatch("login",{email:this.email,password:this.password})}catch(e){throw(0,d.Z)(e)&&(this.errors=e.response.data.errors,this.$emit("authenticationFailed")),e}try{await this.$store.dispatch("getCurrentUser")}catch(e){throw(0,c.Z)(e)&&this.$emit("authenticationFailed"),e}this.$emit("authenticated")}}},m=n(3744);const h=(0,m.Z)(p,[["render",u]]);var f=h},4332:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return p}});var i=n(6252);const r=["innerHTML"];function s(e,t,n,s,a,o){return(0,i.wg)(),(0,i.iD)("div",{class:"markdown",innerHTML:o.rendered},null,8,r)}var a=n(7441),o=n(7856),l=n.n(o),u={name:"MarkdownBlock",props:{markdown:{required:!0}},computed:{rendered(){return this.markdown?l().sanitize(a.TU.parse(this.markdown)):null}},methods:{}},d=n(3744);const c=(0,d.Z)(u,[["render",s]]);var p=c},807:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return f}});var i=n(6252),r=n(9963),s=n(3577);const a={class:"flex border-b pt-2 pb-2 justify-between items-center",ref:"header"},o={class:"px-4 pt-2"},l={key:0,class:""},u={class:"overflow-auto px-4 pb-2 pt-2",ref:"panelbody"},d={key:0,class:"footer px-4 py-2"};function c(e,t,n,c,p,m){return(0,i.wy)(((0,i.wg)(),(0,i.iD)("div",{class:"fixed top-0 left-0 right-0 bottom-0 flex justify-center content-center z-50",onKeyup:t[2]||(t[2]=(0,r.D2)(((...e)=>m.close&&m.close(...e)),["esc"]))},[(0,i._)("div",{id:"modal-backdrop",class:"fixed top-0 left-0 right-0 bottom-0 bg-black opacity-50",onClick:t[0]||(t[0]=(...e)=>m.close&&m.close(...e))}),(0,i._)("div",{class:(0,s.C_)(m.modalClass)},[(0,i._)("header",a,[(0,i._)("div",o,[(0,i.WI)(e.$slots,"header",{},(()=>[n.title?((0,i.wg)(),(0,i.iD)("h2",l,(0,s.zw)(n.title),1)):(0,i.kq)("",!0)]))]),n.hideClose?(0,i.kq)("",!0):((0,i.wg)(),(0,i.iD)("button",{key:0,onClick:t[1]||(t[1]=(...e)=>m.close&&m.close(...e)),class:"bock btn btn-xs gray mx-2"},"X"))],512),(0,i._)("section",u,[(0,i.WI)(e.$slots,"default")],512),this.$slots.footer?((0,i.wg)(),(0,i.iD)("div",d,[(0,i.WI)(e.$slots,"footer")])):(0,i.kq)("",!0)],2)],544)),[[r.F8,m.isVisible]])}var p={props:{title:{type:String,required:!1},modelValue:{type:Boolean,required:!1,default:!1},size:{type:String,required:!1,default:"md"},hideClose:{type:Boolean,required:!1,default:!1}},emits:["opened","closed","update:modelValue"],data(){return{}},computed:{panelStyle(){return{maxHeight:"500px"}},isVisible:{immediate:!0,get(){return this.modelValue},set(e){this.$emit("update:modelValue",e)}},width(){switch(this.size){case"xxs":return"lg:w-1/6";case"xs":return"lg:w-1/4";case"sm":return"lg:w-1/3";case"md":return"lg:w-1/2";case"lg":return"lg:w-2/3";case"xl":return"lg:w-3/4";case"xxl":return"lg:w-11/12";case"full":return"w-full";default:return"lg:w-1/2"}},hasHeader(){return this.$slots.header||this.title},modalClass(){const e=["bg-white","border","border-gray-500","opacity-100","relative","mt-16","mb-auto","rounded-lg","shadow-md",this.width];return e.join(" ")}},watch:{isVisible:async function(e){document.body.style.overflow="auto",e&&(await(0,i.Y3)(),this.setBodyMaxHeight(),document.body.style.overflow="hidden")}},methods:{open(){this.isVisible=!0,this.$emit("opened")},close(){this.isVisible=!1,this.$emit("closed")},setBodyMaxHeight(){const e=this.$refs.panelbody.getBoundingClientRect();this.$refs.panelbody.style.maxHeight=`calc(90vh - ${e.y}px)`}},mounted(){this.setBodyMaxHeight()}},m=n(3744);const h=(0,m.Z)(p,[["render",c]]);var f=h},3388:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return u}});var i=n(6252);const r={class:"note"};function s(e,t,n,s,a,o){return(0,i.wg)(),(0,i.iD)("div",r,[(0,i.WI)(e.$slots,"default")])}var a={props:{},data(){return{}},computed:{},methods:{}},o=n(3744);const l=(0,o.Z)(a,[["render",s]]);var u=l},6608:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return m}});var i=n(6252),r=n(3577);const s={class:"flex items-center justify-between px-4"},a={class:""},o={key:1,class:"font-bold"};function l(e,t,n,l,u,d){const c=(0,i.up)("markdown-block"),p=(0,i.up)("icon-close"),m=(0,i.up)("static-alert");return(0,i.wg)(),(0,i.j4)(m,{variant:d.variant},{default:(0,i.w5)((()=>[(0,i._)("div",s,[(0,i._)("div",a,[n.notification.data.markdown?((0,i.wg)(),(0,i.j4)(c,{key:0,markdown:n.notification.data.message},null,8,["markdown"])):((0,i.wg)(),(0,i.iD)("div",o,(0,r.zw)(n.notification.data.message),1))]),(0,i._)("button",{onClick:t[0]||(t[0]=(...e)=>d.markRead&&d.markRead(...e)),class:"block"},[(0,i.Wm)(p)])])])),_:1},8,["variant"])}var u=n(9028),d={name:"NotificationItem",emits:["removed"],props:{notification:{required:!0,type:Object}},data(){return{}},computed:{variant(){return this.notification.data.type||"info"}},methods:{async markRead(){this.notification.id&&(await u.hi.put(`/api/notifications/${this.notification.id}`),this.$emit("removed"))}}},c=n(3744);const p=(0,c.Z)(d,[["render",l]]);var m=p},6553:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return d}});var i=n(6252),r=n(9963),s=n(2262),a=n(6608),o=n(9028),l={__name:"NotificationList",props:{user:{type:Object,required:!0}},setup(e){const t=e,n=(0,s.iH)(!1),l=(0,s.iH)([]),u=async()=>{n.value=!0,t.user.person&&t.user.person.uuid&&(l.value=await o.hi.get(`/api/people/${t.user.person.uuid}/notifications/unread`).then((e=>e.data))),n.value=!1},d=e=>{const t=l.value.findIndex((t=>t.id==e.id));t>-1&&l.value.splice(t,1)};return(0,i.bv)((()=>{u()})),(e,t)=>((0,i.wg)(),(0,i.j4)(r.W3,{tag:"div",name:"slide-fade-down"},{default:(0,i.w5)((()=>[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(l.value,(e=>((0,i.wg)(),(0,i.j4)(a["default"],{key:e.id,notification:e,class:"mb-2",onRemoved:t=>d(e)},null,8,["notification","onRemoved"])))),128))])),_:1}))}};const u=l;var d=u},7372:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return c}});var i=n(6252),r=n(3577);const s={key:0};function a(e,t,n,a,o,l){const u=(0,i.up)("dictionary-row");return l.filteredObj?((0,i.wg)(),(0,i.iD)("div",s,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(l.filteredObj,((t,s)=>((0,i.wg)(),(0,i.j4)(u,{key:s,label:e.titleCase(s),"label-class":n.labelClass},{default:(0,i.w5)((()=>[(0,i.Uk)((0,r.zw)(t),1)])),_:2},1032,["label","label-class"])))),128))])):(0,i.kq)("",!0)}n(6699);var o=n(5699),l={name:"ObjectDictionary",props:{obj:{type:Object,required:!0},except:{type:Array,required:!1},only:{type:Array,required:!1},order:{type:Array,required:!1},show:{type:Array,required:!1},dates:{type:Array,required:!1,default:()=>[]},labelWidthClass:{type:String,required:!1,default:"w-36"},labelClass:{type:String,required:!1,default:"w-36"}},data(){return{}},computed:{filteredObj(){return this.obj?this.show?this.getShow():this.except?this.getExcept():this.only?this.getOnly(this.only):this.obj:{}}},methods:{getOnly(e){const t={};return e.forEach((e=>{const n=this.format(e,this.obj[e]);t[this.titleCase(e)]=n||"--"})),t},getShow(){return this.getOnly(this.show)},getExcept(){const e={};return Object.keys(this.obj).forEach((t=>{this.except.includes(t)||(e[t]=this.format(this.obj[t]))})),e},format(e,t){return t&&this.dates.includes(e)?(0,o.p6)(new Date(Date.parse(t))):t}}},u=n(3744);const d=(0,u.Z)(l,[["render",a]]);var c=d},3257:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return m}});var i=n(6252),r=n(3577);const s={class:"flex pagination-control"},a=["onClick"],o={key:1};function l(e,t,n,l,u,d){return(0,i.wg)(),(0,i.iD)("div",null,[(0,i._)("ul",s,[(0,i._)("li",null,[(0,i._)("button",{class:(0,r.C_)(["link",{active:1===n.currentPage}]),onClick:t[0]||(t[0]=(...e)=>d.goToPreviousPage&&d.goToPreviousPage(...e))},"<",2)]),((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(d.displayPages,((t,s)=>((0,i.wg)(),(0,i.iD)("li",{key:s},[null!==t.page?((0,i.wg)(),(0,i.iD)("button",{key:0,class:(0,r.C_)(["link px-2",{active:t.page===n.currentPage}]),onClick:n=>e.$emit("update:currentPage",t.page)},(0,r.zw)(t.label),11,a)):((0,i.wg)(),(0,i.iD)("span",o,"…"))])))),128)),(0,i._)("li",null,[(0,i._)("button",{class:(0,r.C_)(["link",{active:n.currentPage==d.pagesCount}]),onClick:t[1]||(t[1]=(...e)=>d.goToNextPage&&d.goToNextPage(...e))},">",2)])])])}var u=n(6486),d={name:"PaginationLinks",props:{currentPage:{type:Number,required:!0},pageSize:{type:Number,default:20},totalItems:{type:Number,required:!0}},emits:["update:currentPage"],data(){return{}},computed:{pagesCount(){return Math.ceil(this.totalItems/this.pageSize)},pages(){return(0,u.range)(0,this.pagesCount)},displayPages(){const e=[];return this.pages.forEach((t=>{if(0==t||t===this.pagesCount-1||Math.abs(t-this.currentPage)<2)e.push({page:t+1,label:t+1});else{if(null===e[e.length-1].page)return;e.push({page:null,label:"..."})}})),e}},methods:{goToPreviousPage(){1!==this.currentPage&&this.$emit("update:currentPage",this.currentPage-1)},goToNextPage(){this.currentPage!==this.pagesCount&&this.$emit("update:currentPage",this.currentPage+1)}}},c=n(3744);const p=(0,c.Z)(d,[["render",l]]);var m=p},4237:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return d}});var i=n(6252),r=n(3577);function s(e,t,n,s,a,o){const l=(0,i.up)("popper");return(0,i.wg)(),(0,i.j4)(l,(0,i.dG)(e.$attrs,{class:"popover"}),{content:(0,i.w5)((t=>[(0,i.WI)(e.$slots,"content",(0,r.vs)((0,i.F4)(t)))])),default:(0,i.w5)((()=>[(0,i.WI)(e.$slots,"default")])),_:3},16)}var a=n(1595),o={name:"PopOver",components:{Popper:a.Z}},l=n(3744);const u=(0,l.Z)(o,[["render",s]]);var d=u},2966:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return u}});var i=n(6252),r=n(3577),s=n(2262);const a={key:0};var o={__name:"PubmedCitation",props:{summary:{type:Object,required:!0}},setup(e){const t=e,n=(0,i.Fl)((()=>t.summary.authors?0==t.summary.authors.length?"":1==t.summary.authors.length?t.summary.authors[0].name+". ":t.summary.authors.map((e=>e.name))[0]+" et al. ":"")),o=(0,i.Fl)((()=>t.summary.title?t.summary.title.length>25?t.summary.title.substring(0,50)+"... ":t.summary.title+". ":"")),l=(0,i.Fl)((()=>t.summary.source+". "));return(t,u)=>e.summary?((0,i.wg)(),(0,i.iD)("span",a,[(0,i.Uk)((0,r.zw)((0,s.SU)(n))+(0,r.zw)((0,s.SU)(o)),1),(0,i._)("em",null,(0,r.zw)((0,s.SU)(l)),1),(0,i.Uk)((0,r.zw)(e.summary.pubdate),1)])):(0,i.kq)("",!0)}};const l=o;var u=l},7890:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return c}});var i=n(6252);const r={class:"my-4 p-4 text-sm flex items-start space-x-4 bg-gray-200 rounded-lg"},s=(0,i._)("h3",{style:{"line-height":"1"}},"Have Questions?",-1),a={style:{"font-size":"1rem","line-height":"2"}};function o(e,t){const n=(0,i.up)("icon-question");return(0,i.wg)(),(0,i.iD)("div",r,[(0,i.Wm)(n,{height:"48",width:"48",class:"text-blue-700"}),(0,i._)("div",null,[s,(0,i._)("div",a,[(0,i.WI)(e.$slots,"default")])])])}var l=n(3744);const u={},d=(0,l.Z)(u,[["render",o]]);var c=d},9592:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return p}});var i=n(6252),r=n(3577);const s={class:"screen -mt-6"},a={class:"screen-header bg-white pt-6"},o={class:"flex justify-between items-end border-b pb-2 px-4"},l={class:"bg-gray-100 pt-8 p-4 flex flex-col space-y-4 bg-gray-100"};var u={__name:"ScreenTemplate",props:{breadcrumbs:{type:Array,default:()=>[]},title:{type:String||null,default:null}},setup(e){return(t,n)=>{const u=(0,i.up)("breadcrumbs");return(0,i.wg)(),(0,i.iD)("div",s,[(0,i._)("header",a,[e.breadcrumbs.length>0?((0,i.wg)(),(0,i.j4)(u,{key:0,class:"mx-4",items:e.breadcrumbs},null,8,["items"])):(0,i.kq)("",!0),(0,i._)("div",o,[(0,i.WI)(t.$slots,"header",{},(()=>[(0,i._)("div",null,[(0,i._)("h1",null,(0,r.zw)(e.title),1),(0,i.WI)(t.$slots,"header-dev")])])),(0,i.WI)(t.$slots,"header-right")])]),(0,i._)("div",l,[(0,i.WI)(t.$slots,"default")])])}}},d=n(3744);const c=(0,d.Z)(u,[["__scopeId","data-v-8639bd32"]]);var p=c},4340:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return u}});var i=n(6252),r=n(3577);function s(e,t,n,s,a,o){return(0,i.wg)(),(0,i.iD)("table",null,[(0,i._)("thead",null,[(0,i._)("tr",null,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(o.headings,(t=>((0,i.wg)(),(0,i.iD)("th",{key:t},(0,r.zw)(e.titleCase(t)),1)))),128))])]),(0,i._)("tbody",null,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(n.data,(e=>((0,i.wg)(),(0,i.iD)("tr",{key:e[n.keyBy]},[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(o.headings,(t=>((0,i.wg)(),(0,i.iD)("td",{key:`${e[n.keyBy]}-${t}`},(0,r.zw)(e[t]),1)))),128))])))),128))])])}n(6699);var a={name:"SimpleTable",props:{data:{required:!0,type:Array},keyBy:{required:!0,type:String},hideColumns:{type:Array,default:()=>[]}},data(){return{}},computed:{headings(){return this.data[0]?Object.keys(this.data[0]).filter((e=>!this.hideColumns.includes(e))):[]}},methods:{}},o=n(3744);const l=(0,o.Z)(a,[["render",s]]);var u=l},688:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return u}});var i=n(6252);const r={key:0};function s(e,t,n,s,a,o){return(0,i.wg)(),(0,i.j4)(i.Ob,null,[this.active&&this.visible?((0,i.wg)(),(0,i.iD)("section",r,[(0,i.WI)(e.$slots,"default")])):(0,i.kq)("",!0)],1024)}var a={name:"TabItem",props:{label:{required:!0,type:String},visible:{type:Boolean,required:!1,default:!0}},data(){return{active:!1}},computed:{parentIsValid(){return"TabsContainer"==this.$parent.$options.name}},methods:{isActive(){return this.active}},mounted(){this.$parent.addTab(this)},unmounted(){this.$parent.removeTab(this)}},o=n(3744);const l=(0,o.Z)(a,[["render",s]]);var u=l},2640:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return o}});var i=n(6252),r=(n(6699),n(6486)),s={name:"TabsContainer",props:{tabLocation:{required:!1,type:String,default:"top"},modelValue:{required:!1,type:Number,default:0}},emits:["update:modelValue","tab-changed"],data(){return{tabs:[]}},computed:{activeTab(){return this.tabs.find((e=>!0===e.active))||{}}},watch:{modelValue:function(e){this.activateTab(e)},"$route.query":{immediate:!0,handler:function(e,t){(0,r.isEqual)(e,t)||this.activateTabFromRoute()}}},methods:{activateTab(e){this.tabs.forEach((e=>e.active=!1)),this.tabs[e].active=!0,this.$emit("update:modelValue",e),this.$emit("tab-changed",this.tabs[e].label),this.updateRouteQuery(this.tabs[e].label)},activateTabWithLabel(e){const t=e.toLowerCase(),n=this.tabs.map((e=>e.label.toLowerCase())).findIndex((e=>e==t));n>0&&this.activateTab(n)},activateTabFromRoute(){const e=this.activeTab.label?this.activeTab.label.toLowerCase():null;e!=this.$route.query.tab&&Object.keys(this.$route.query).includes("tab")&&this.activateTabWithLabel(this.$route.query.tab)},updateRouteQuery(e){const t={...this.$route.query,tab:e.toLowerCase()};this.$router.replace({path:this.$route.path,query:t})},setActiveIndex(){this.tabs.length>0&&!this.modelValue&&(this.tabs[0].active=!0),this.modelValue&&this.tabs.length>this.modelValue&&this.activateTab(this.modelValue),Object.keys(this.$route.query).includes("tab")&&this.activateTabFromRoute()},addTab(e){this.tabs.push(e),this.setActiveIndex()},removeTab(e){const t=this.tabs.findIndex((t=>e==t));t>-1&&this.tabs.splice(t,1)},renderTabs(){return this.tabs.map(((e,t)=>{if(!e||!e.visible)return;const n=["tab","cursor-pointer"];return e.active&&n.push("active"),(0,i.Wm)("li",{class:n.join(" "),onClick:()=>this.activateTab(t)},[e.label])}))}},mounted(){this.$emit("tab-changed",this.activeTab.label)},render(){const e=this.renderTabs(),t=[],n=["tabs"];return"top"==this.tabLocation&&t.push("horizontal"),"right"==this.tabLocation&&(t.push("vertical"),t.push("flex")),(0,i.Wm)("div",{class:t.join(" ")},[(0,i.Wm)("ul",{class:n.join(" ")},[e]),(0,i.Wm)("div",{class:"tab-content"},[this.$slots.default()])])}};const a=s;var o=a},6921:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return c}});var i=n(6252),r=n(3577),s=n(9963);const a={key:1};function o(e,t,n,o,l,u){return(0,i.wg)(),(0,i.iD)("div",null,[u.shouldBeTruncated?((0,i.wg)(),(0,i.iD)("div",{key:0,class:(0,r.C_)({"xl:flex justify-between":!l.showComplete})},[(0,i._)("div",null,[(0,i.Uk)((0,r.zw)(u.truncatedValue),1),(0,i.wy)((0,i._)("span",null,"...  ",512),[[s.F8,!l.showComplete]]),(0,i.wy)((0,i._)("span",null,(0,r.zw)(u.restOfValue),513),[[s.F8,l.showComplete]])]),(0,i._)("button",{class:"border-0 text-blue-500 underline text-xs",onClick:t[0]||(t[0]=e=>l.showComplete=!l.showComplete)},(0,r.zw)(u.buttonLabel),1)],2)):((0,i.wg)(),(0,i.iD)("div",a,(0,r.zw)(n.value),1))])}var l={name:"TruncateExpander",props:{value:{type:String,required:!0},truncateLength:{type:Number,default:150}},data(){return{showComplete:!1}},computed:{shouldBeTruncated(){return this.value.length>this.truncateLength},truncatedValue(){return this.value.substring(0,this.truncateLength-15)},restOfValue(){return this.value.substring(this.truncateLength-15+1)},buttonLabel(){return this.showComplete?"Less":"More"}},methods:{}},u=n(3744);const d=(0,u.Z)(l,[["render",o]]);var c=d},8081:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return L}});var i=n(6252),r=n(3577),s=n(9963);const a=e=>((0,i.dD)("data-v-143d4dcc"),e=e(),(0,i.Cn)(),e),o={class:"relative -top-3 right-0 text-right",style:{"z-index":"500"}},l={key:0},u={ref:"dropdownMenu",class:"absolute right-0 top-0 pt-11 bg-white border w-48 z-10 shadow"},d={class:"menu-item"},c=(0,i.Uk)("Dashboard"),p={class:"menu-item"},m={class:"menu-item"},h={class:"py-4 mx-2"},f={key:0,class:"menu-item"},g=(0,i.Uk)(" Invites "),v={key:1,class:"menu-item"},w=a((()=>(0,i._)("a",{href:"/admin/institutions"},"Institutions",-1))),b=[w],y={key:2,class:"menu-item"},_=a((()=>(0,i._)("a",{href:"/admin/credentials"},"Credentials",-1))),k=[_],C={key:3,class:"menu-item"},I=a((()=>(0,i._)("a",{href:"/admin/expertises"},"Expertises",-1))),x=[I],D={key:4,class:"menu-item"},S=(0,i.Uk)("Mail log"),A={key:5,class:"menu-item"},$={key:6,class:"menu-item"},V=a((()=>(0,i._)("a",{href:"/dev/logs",class:"p-3 block"},"System Log",-1))),U=[V],P={key:0,class:"border-t bg-yellow-300 text-center font-bold p-2"};function M(e,t,n,a,w,_){const I=(0,i.up)("icon-cheveron-down"),V=(0,i.up)("router-link"),M=(0,i.up)("impersonate-control"),q=(0,i.up)("announcement-control"),E=(0,i.Q2)("click-outside");return(0,i.wg)(),(0,i.iD)("div",o,[(0,i.wy)((0,i._)("div",null,[(0,i._)("div",{class:(0,r.C_)(["flex flex-row-reverse align-middle -mb-7 pt-3 pb-3 pr-2 relative z-20 cursor-pointer w-48",{"w-48":w.menuOpen,"bg-yellow-300":e.user.is_impersonating}]),ref:"menuButton",onClick:t[0]||(t[0]=(0,s.iM)(((...e)=>_.toggleMenu&&_.toggleMenu(...e)),["stop"]))},[(0,i.Wm)(I),(0,i.Uk)(" "+(0,r.zw)(e.user.name)+" ",1),e.user.is_impersonating?((0,i.wg)(),(0,i.iD)("span",l,"*")):(0,i.kq)("",!0)],2),(0,i.Wm)(s.uT,{name:"slide-fade-down"},{default:(0,i.w5)((()=>[(0,i.wy)(((0,i.wg)(),(0,i.iD)("div",u,[(0,i._)("ul",null,[(0,i._)("li",d,[(0,i.Wm)(V,{to:{name:"Dashboard"},onClick:t[1]||(t[1]=t=>e.showMenu=!1)},{default:(0,i.w5)((()=>[c])),_:1})]),(0,i._)("li",p,[e.user.is_impersonating?(0,i.kq)("",!0):((0,i.wg)(),(0,i.iD)("button",{key:0,onClick:t[2]||(t[2]=(...e)=>_.logout&&_.logout(...e))}," Log out "))]),(0,i._)("li",m,[(0,i._)("div",h,[(0,i.Wm)(M)])])]),(0,i._)("ul",null,[e.hasPermission("invites-view")?((0,i.wg)(),(0,i.iD)("li",f,[(0,i.Wm)(V,{to:{name:"InviteAdmin"}},{default:(0,i.w5)((()=>[g])),_:1})])):(0,i.kq)("",!0),e.hasPermission("people-manage")?((0,i.wg)(),(0,i.iD)("li",v,b)):(0,i.kq)("",!0),e.hasPermission("people-manage")?((0,i.wg)(),(0,i.iD)("li",y,k)):(0,i.kq)("",!0),e.hasPermission("people-manage")?((0,i.wg)(),(0,i.iD)("li",C,x)):(0,i.kq)("",!0),e.hasPermission("mail-log-view")?((0,i.wg)(),(0,i.iD)("li",D,[(0,i.Wm)(V,{to:{name:"mail-log"},onClick:t[3]||(t[3]=t=>e.showMenu=!1)},{default:(0,i.w5)((()=>[S])),_:1})])):(0,i.kq)("",!0),e.hasPermission("announcements-manage")?((0,i.wg)(),(0,i.iD)("li",A,[(0,i.Wm)(q)])):(0,i.kq)("",!0),e.hasPermission("logs-view")?((0,i.wg)(),(0,i.iD)("li",$,U)):(0,i.kq)("",!0)]),e.user.is_impersonating?((0,i.wg)(),(0,i.iD)("div",P,"You are impersonating this user.")):(0,i.kq)("",!0)])),[[s.F8,w.menuOpen],[E,{exclude:["menuButton"],handler:_.handleOutsideClick}]])])),_:1})],512),[[s.F8,e.isAuthed]])])}var q=n(3907),E=n(43),W={name:"UserMenu",components:{ImpersonateControl:E["default"]},data(){return{menuOpen:!1}},computed:{...(0,q.Se)({user:"currentUser",isAuthed:"isAuthed"})},methods:{handleOutsideClick(){this.menuOpen=!1},toggleMenu(){this.menuOpen=!this.menuOpen,this.menuOpen&&this.$refs.dropdownMenu.focus()},logout(){try{this.$store.dispatch("logout")}catch(e){alert(e)}}}},Z=n(3744);const R=(0,Z.Z)(W,[["render",M],["__scopeId","data-v-143d4dcc"]]);var L=R},1118:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return d}});var i=n(6252),r=n(3577);function s(e,t,n,s,a,o){return(0,i.wg)(),(0,i.iD)("div",{class:(0,r.C_)(["flex justify-between rounded px-3 py-2 my-2 alert-item shadow-lg",`alert-${n.alert.type}`])},[(0,i.Uk)((0,r.zw)(n.alert.message)+" ",1),(0,i._)("button",{onClick:t[0]||(t[0]=(...e)=>o.clearAlertAndTimer&&o.clearAlertAndTimer(...e)),class:"hover:underline"},"x")],2)}var a=n(3489),o={name:"Alert",props:{alert:{required:!0,type:a.b},timeout:{type:Number,required:!1,default:10}},data(){return{timer:null,countdown:0,interval:null}},computed:{},methods:{startTimer(){this.interval=setInterval((()=>this.countdown-=1),1e3),this.timer=setTimeout((()=>{this.clearAlert()}),1e3*this.timeout)},clearAlert(){this.$store.commit("removeAlert",this.alert.uuid),clearInterval(this.interval)},clearTimer(){this.timer&&(clearTimeout(this.timer),clearInterval(this.interval))},clearAlertAndTimer(){this.clearTimer(),this.clearAlert()}},mounted(){this.startTimer(),this.countdown=this.timeout}},l=n(3744);const u=(0,l.Z)(o,[["render",s]]);var d=u},5913:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return c}});var i=n(6252),r=n(9963);const s={class:"fixed right-4 top-8 w-64",style:{"z-index":"100"}};function a(e,t,n,a,o,l){const u=(0,i.up)("alert");return(0,i.wg)(),(0,i.iD)("div",s,[(0,i._)("ul",null,[(0,i.Wm)(r.W3,{name:"slide-fade",tag:"li"},{default:(0,i.w5)((()=>[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.$store.state.alerts.alerts,(e=>((0,i.wg)(),(0,i.j4)(u,{key:e.uuid,alert:e},null,8,["alert"])))),128))])),_:1})])])}var o=n(1118),l={name:"AlertViewer",components:{Alert:o["default"]}},u=n(3744);const d=(0,u.Z)(l,[["render",a]]);var c=d},7959:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return v}});var i=n(6252);const r=(0,i._)("h4",null,"Preview:",-1),s=(0,i.Uk)(" You are about to make the following announcement: ");function a(e,t,n,a,o,l){const u=(0,i.up)("data-form"),d=(0,i.up)("notification-item"),c=(0,i.up)("button-row"),p=(0,i.up)("modal-dialog");return(0,i.wg)(),(0,i.iD)("div",null,[(0,i._)("button",{onClick:t[0]||(t[0]=(...e)=>l.initAnnouncement&&l.initAnnouncement(...e)),class:"link"},"Make an announcement"),((0,i.wg)(),(0,i.j4)(i.lR,{to:"body"},[(0,i.Wm)(p,{title:"Make an announcement",modelValue:o.showForm,"onUpdate:modelValue":t[2]||(t[2]=e=>o.showForm=e)},{default:(0,i.w5)((()=>[(0,i.Wm)(u,{fields:a.formFields,modelValue:a.announcement,"onUpdate:modelValue":t[1]||(t[1]=e=>a.announcement=e),errors:a.errors},null,8,["fields","modelValue","errors"]),r,(0,i.Wm)(d,{notification:l.notification},null,8,["notification"]),(0,i.Wm)(c,{onSubmitted:l.confirmSubmission,"submit-text":"Save"},null,8,["onSubmitted"])])),_:1},8,["modelValue"]),(0,i.Wm)(p,{title:"Confirm Announcement",modelValue:o.showConfirmation,"onUpdate:modelValue":t[3]||(t[3]=e=>o.showConfirmation=e)},{default:(0,i.w5)((()=>[s,(0,i.Wm)(d,{notification:l.notification},null,8,["notification"]),(0,i.Wm)(c,{onSubmitted:l.saveConfirmed,"submit-text":"Confirm"},null,8,["onSubmitted"])])),_:1},8,["modelValue"])]))])}var o=n(2262),l=n(9028);const u=(0,o.iH)({type:"info",message:null}),d=(0,o.iH)({}),c=[{name:"roles",placeholder:"coordinator, admin"},{name:"type",label:"variant",type:"select",options:[{value:"info",label:"info (blue)"},{value:"success",label:"success (green)"},{value:"warning",label:"warning (yellow)"},{value:"danger",label:"danger (red)"},{value:"bland",label:"bland (gray)"}]},{name:"message",type:"large-text",placeholder:"You message text in **markdown**"}],p=()=>l.hi.post("/api/announcements",u.value).then((e=>e)).catch((e=>{if(!(0,l.z1)(e))throw e;d.value=e.response.data.errors})),m=()=>{u.value={}};var h={name:"AnnouncementControl",data(){return{showConfirmation:!1,showForm:!1}},computed:{notification(){return{data:{message:this.announcement.message||"NONE",type:this.announcement.type||"info",markdown:!0}}}},methods:{initAnnouncement(){this.showForm=!0},confirmSubmission(){this.showConfirmation=!0},async saveConfirmed(){this.showConfirmation=!1;try{this.saveAnnouncement(),this.showForm=!1}catch(e){alert(e.message)}}},setup(){return{announcement:u,errors:d,saveAnnouncement:p,cancelAnnouncement:m,formFields:c}}},f=n(3744);const g=(0,f.Z)(h,[["render",a]]);var v=g},7150:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return h}});var i=n(6252),r=n(3577);const s=(0,i.Uk)("You have a pending "),a=(0,i._)("strong",null,"COI",-1),o=(0,i.Uk)(" disclosure for "),l=(0,i.Uk)("."),u=(0,i.Uk)(" Complete this COI Disclosure ");function d(e,t,n,d,c,p){const m=(0,i.up)("icon-coi"),h=(0,i.up)("router-link"),f=(0,i.up)("static-alert");return(0,i.wg)(),(0,i.j4)(f,{class:"pb-3 flex space-x-2 items-center",variant:"warning"},{default:(0,i.w5)((()=>[(0,i.Wm)(m,{height:"30",width:"30"}),(0,i._)("div",null,[(0,i._)("p",null,[s,a,o,(0,i._)("strong",null,(0,r.zw)(p.groupName),1),l]),(0,i.Wm)(h,{to:{name:"alt-coi",params:{name:p.groupName,code:n.membership.group.coi_code}},class:"btn font-bold"},{default:(0,i.w5)((()=>[u])),_:1},8,["to"])])])),_:1})}var c={name:"CoiAlert",props:{membership:{type:Object,required:!0}},computed:{groupName(){return this.membership.group.display_name}}},p=n(3744);const m=(0,p.Z)(c,[["render",d]]);var h=m},9035:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return u}});var i=n(6252),r=n(3577);function s(e,t,n,s,a,o){return(0,i.wg)(),(0,i.iD)("div",{class:(0,r.C_)(["border p-2 rounded text-md-lg",n.variant])},[(0,i.WI)(e.$slots,"default",{},void 0,!0)],2)}var a={name:"StaticAlert",props:{variant:{type:String,required:!1,default:"info"}},data(){return{}},computed:{},methods:{}},o=n(3744);const l=(0,o.Z)(a,[["render",s],["__scopeId","data-v-40fe3afe"]]);var u=l},4344:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return d}});var i=n(6252);const r=(0,i._)("p",null,"Congratulations on your specifications pilot approval!",-1),s=(0,i.Uk)(" Review your sustained curation information to finish. ");function a(e,t,n,a,o,l){const u=(0,i.up)("icon-review"),d=(0,i.up)("router-link"),c=(0,i.up)("static-alert");return(0,i.wg)(),(0,i.j4)(c,{vartiant:"info",class:"flex space-x-2 items-center"},{default:(0,i.w5)((()=>[(0,i.Wm)(u,{width:"30",height:"30"}),(0,i._)("div",null,[r,(0,i.Wm)(d,{to:{name:"SustainedCurationReview",params:{uuid:n.group.uuid}},class:"btn font-bold"},{default:(0,i.w5)((()=>[s])),_:1},8,["to"])])])),_:1})}var o={name:"SustainedCurationReviewAlert",props:{group:{type:Object,required:!0}}},l=n(3744);const u=(0,l.Z)(o,[["render",a]]);var d=u},429:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return u}});var i=n(6252);const r={class:"btn btn-xs"};function s(e,t,n,s,a,o){const l=(0,i.up)("icon-checkmark");return(0,i.wg)(),(0,i.iD)("button",r,[(0,i.Wm)(l,{width:"12",height:"16"})])}var a={props:{},data(){return{}},computed:{},methods:{}},o=n(3744);const l=(0,o.Z)(a,[["render",s]]);var u=l},8938:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return u}});var i=n(6252);const r={class:"btn btn-xs"};function s(e,t,n,s,a,o){const l=(0,i.up)("icon-edit");return(0,i.wg)(),(0,i.iD)("button",r,[(0,i.Wm)(l,{width:"12",height:"16"})])}var a={props:{},data(){return{}},computed:{},methods:{}},o=n(3744);const l=(0,o.Z)(a,[["render",s]]);var u=l},9455:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return u}});var i=n(6252),r=n(3577);function s(e,t,n,s,a,o){const l=(0,i.up)("icon-refresh");return(0,i.wg)(),(0,i.iD)("button",{class:"btn btn-icon-sm",onClick:t[0]||(t[0]=t=>e.$emit("click"))},[(0,i.Wm)(l,{class:(0,r.C_)({rotate:n.loading}),width:"16",height:"16"},null,8,["class"])])}var a={name:"ComponentName",props:{loading:{type:Boolean,default:!1}},emits:["click"]},o=n(3744);const l=(0,o.Z)(a,[["render",s]]);var u=l},2691:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return l}});var i=n(6252);function r(e,t,n,r,s,a){const o=(0,i.up)("icon-close");return(0,i.wg)(),(0,i.iD)("button",{class:"btn-delete",onClick:t[0]||(t[0]=(...t)=>e.confirmRemove&&e.confirmRemove(...t))},[(0,i.Wm)(o,{height:a.dimension,width:a.dimension},null,8,["height","width"])])}var s={props:{size:{required:!1,default:"md"}},data(){return{}},computed:{dimension(){return"xs"==this.size?8:"sm"==this.size?10:"md"==this.size?12:"lg"==this.size?14:"xl"==this.size?18:10}},methods:{}},a=n(3744);const o=(0,a.Z)(s,[["render",r]]);var l=o},1682:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return u}});var i=n(6252);const r={class:"btn btn-xs"};function s(e,t,n,s,a,o){const l=(0,i.up)("icon-trash");return(0,i.wg)(),(0,i.iD)("button",r,[(0,i.Wm)(l,{width:"12",height:"16"})])}var a={props:{},data(){return{}},computed:{},methods:{}},o=n(3744);const l=(0,o.Z)(a,[["render",s]]);var u=l},5647:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return u}});var i=n(6252);const r={key:0,class:"bg-pink-100 text-pink-700 border border-pink-700 px-4 py-2"};function s(e,t,n,s,a,o){return o.showDev&&e.hasRole("super-user")?((0,i.wg)(),(0,i.iD)("div",r,[(0,i.WI)(e.$slots,"default")])):(0,i.kq)("",!0)}var a={name:"ComponentName",props:{},data(){return{}},computed:{showDev(){return!0}},methods:{}},o=n(3744);const l=(0,o.Z)(a,[["render",s]]);var u=l},7802:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return d}});var i=n(6252),r=n(3577);const s=(0,i._)("h4",null,"TODO",-1);function a(e,t,n,a,o,l){const u=(0,i.up)("dev-component");return(0,i.wg)(),(0,i.j4)(u,null,{default:(0,i.w5)((()=>[s,(0,i._)("ul",null,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(n.items,((e,t)=>((0,i.wg)(),(0,i.iD)("li",{key:t,class:"list-decimal ml-6"},(0,r.zw)(e),1)))),128))])])),_:1})}var o={name:"DevTodo",props:{items:{required:!0,type:Array}},data(){return{}},computed:{},methods:{}},l=n(3744);const u=(0,l.Z)(o,[["render",a]]);var d=u},2672:function(e,t,n){"use strict";n.d(t,{Z:function(){return h}});var i=n(6252),r=n(3577);const s=["id"],a={class:"application-section"},o={class:"mb-2 flex justify-between"};function l(e,t,n,l,u,d){const c=(0,i.up)("requirements-badge");return(0,i.wg)(),(0,i.iD)("div",{id:n.id,class:"section-wrapper"},[(0,i._)("div",a,[(0,i._)("header",o,[(0,i.WI)(e.$slots,"title",{},(()=>[(0,i._)("h2",null,(0,r.zw)(n.title),1)]),!0),n.id?((0,i.wg)(),(0,i.j4)(c,{key:0,section:d.section,group:d.group},null,8,["section","group"])):(0,i.kq)("",!0)]),(0,i._)("div",null,[(0,i.WI)(e.$slots,"default",{},void 0,!0)])])],8,s)}var u=n(9766),d=n(4981),c={name:"ApplicationSection",components:{RequirementsBadge:u.Z},props:{title:{type:String,required:!1},id:{type:String,required:!1}},computed:{group:{get(){return this.$store.getters["groups/currentItemOrNew"]}},application(){return(0,d.L)(this.group)},section(){return this.application.getSection(this.id)}}},p=n(3744);const m=(0,p.Z)(c,[["render",l],["__scopeId","data-v-c5d05ad8"]]);var h=m},9766:function(e,t,n){"use strict";n.d(t,{Z:function(){return c}});var i=n(6252),r=n(3577);const s={key:0};function a(e,t,n,a,o,l){const u=(0,i.up)("requirements-item"),d=(0,i.up)("badge"),c=(0,i.up)("popover");return l.hasRequirements?((0,i.wg)(),(0,i.iD)("div",s,[(0,i.Wm)(c,{arrow:"",hover:""},{content:(0,i.w5)((()=>[(0,i._)("div",null,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(l.evaledRequirements,((e,t)=>((0,i.wg)(),(0,i.j4)(u,{key:t,requirement:e},null,8,["requirement"])))),128))])])),default:(0,i.w5)((()=>[(0,i.Wm)(d,{color:l.badgeColor,class:"cursor-pointer"},{default:(0,i.w5)((()=>[(0,i.Uk)((0,r.zw)(l.badgeText),1)])),_:1},8,["color"])])),_:1})])):(0,i.kq)("",!0)}var o=n(3870),l={name:"RequirementsBadge",components:{RequirementsItem:o.Z},props:{section:{type:Object,required:!0}},data(){return{}},computed:{group(){return this.$store.getters["groups/currentItemOrNew"]},meetsRequirements(){return this.section.meetsRequirements(this.group)},badgeColor(){return this.meetsRequirements?"green":"yellow"},badgeText(){const e=this.section.metRequirements(this.group).length;return`Requirements: ${e} / ${this.section.requirements.length}`},evaledRequirements(){return this.section.evaluateRequirements(this.group)},hasRequirements(){return this.section.hasRequirements}},methods:{}},u=n(3744);const d=(0,u.Z)(l,[["render",a]]);var c=d},3870:function(e,t,n){"use strict";n.d(t,{Z:function(){return d}});var i=n(6252),r=n(3577);const s={class:"flex space-x-2"};function a(e,t,n,a,o,l){const u=(0,i.up)("icon-checkmark"),d=(0,i.up)("icon-exclamation");return(0,i.wg)(),(0,i.iD)("div",s,[n.requirement.isMet?((0,i.wg)(),(0,i.j4)(u,{key:0,class:"text-green-600"})):((0,i.wg)(),(0,i.j4)(d,{key:1,class:"text-yellow-400"})),(0,i._)("div",null,(0,r.zw)(n.requirement.label),1)])}var o={name:"RequirementsItem",props:{requirement:{type:Object,required:!0}}},l=n(3744);const u=(0,l.Z)(o,[["render",a]]);var d=u},1350:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return m}});var i=n(6252),r=n(9963);const s={class:"w-full space-y-1"},a={class:"flex space-x-1"};function o(e,t,n,o,l,u){const d=(0,i.up)("input-errors");return(0,i.wg)(),(0,i.iD)("div",s,[(0,i.wy)((0,i._)("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=e=>o.workingCopy.street1=e),placeholder:"street 1",class:"w-full"},null,512),[[r.nr,o.workingCopy.street1]]),(0,i.Wm)(d,{class:"text-xs",errors:n.errors.street1||[]},null,8,["errors"]),(0,i.wy)((0,i._)("input",{type:"text","onUpdate:modelValue":t[1]||(t[1]=e=>o.workingCopy.street2=e),placeholder:"street 2",class:"w-full"},null,512),[[r.nr,o.workingCopy.street2]]),(0,i.Wm)(d,{class:"text-xs",errors:n.errors.street2||[]},null,8,["errors"]),(0,i._)("div",a,[(0,i.wy)((0,i._)("input",{type:"text","onUpdate:modelValue":t[2]||(t[2]=e=>o.workingCopy.city=e),placeholder:"City",class:"w-1/3 shrink"},null,512),[[r.nr,o.workingCopy.city]]),(0,i.wy)((0,i._)("input",{type:"text","onUpdate:modelValue":t[3]||(t[3]=e=>o.workingCopy.state=e),placeholder:"State",class:"w-1/3 shrink"},null,512),[[r.nr,o.workingCopy.state]]),(0,i.wy)((0,i._)("input",{type:"text","onUpdate:modelValue":t[4]||(t[4]=e=>o.workingCopy.zip=e),placeholder:"Postal Code",class:"w-1/3 shrink"},null,512),[[r.nr,o.workingCopy.zip]])]),(0,i.Wm)(d,{class:"text-xs",errors:u.addressErrors},null,8,["errors"])])}var l=n(1076),u=n(9370),d={name:"AddressInput",components:{InputErrors:u["default"]},props:{...l.ZP.props,errors:{type:Object,required:!0}},emits:[...l.ZP.emits],computed:{addressErrors(){const e=[];return["city","state","zip"].forEach((t=>{this.errors[t]&&e.push(...this.errors[t])})),e}},setup(e,t){const{workingCopy:n}=l.ZP.setup(e,t);return{workingCopy:n}}},c=n(3744);const p=(0,c.Z)(d,[["render",o]]);var m=p},7287:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return p}});var i=n(6252),r=n(3577);const s={class:"border-t pt-3 mb-1 mt-3 flex space-x-3"},a=["disabled"],o=["disabled"];function l(e,t,n,l,u,d){return(0,i.wg)(),(0,i.iD)("div",s,[(0,i.WI)(e.$slots,"default",{},(()=>[n.showCancel?((0,i.wg)(),(0,i.iD)("button",{key:0,class:(0,r.C_)(["btn",["btn-"+n.size]]),onClick:t[0]||(t[0]=(...e)=>d.cancel&&d.cancel(...e)),disabled:e.$attrs.disabled},(0,r.zw)(n.cancelText),11,a)):(0,i.kq)("",!0),(0,i._)("button",{class:(0,r.C_)(["btn",[n.submitVariant,"btn-"+n.size]]),onClick:t[1]||(t[1]=(...e)=>d.submit&&d.submit(...e)),disabled:e.$attrs.disabled},(0,r.zw)(n.submitText),11,o),(0,i.WI)(e.$slots,"extra-buttons")]))])}var u={name:"ButtonRow",props:{showCancel:{type:Boolean,default:!0},cancelText:{type:String,default:"Cancel"},submitText:{type:String,default:"Submit"},submitVariant:{type:String,default:"blue"},size:{type:String,default:"md"}},emits:["cancelClicked","submitClicked","canceled","submitted","submit","cancel"],methods:{cancel(){this.$emit("cancelClicked"),this.$emit("canceled"),this.$emit("cancel")},submit(){this.$emit("submitClicked"),this.$emit("submitted"),this.$emit("submit")}}},d=n(3744);const c=(0,d.Z)(u,[["render",l]]);var p=c},6730:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return m}});var i=n(6252),r=n(9963),s=n(3577);const a={class:"mb-2 flex items-start cursor-pointer"},o={class:"mt-1"},l=["value","id"];function u(e,t,n,u,d,c){return(0,i.wg)(),(0,i.iD)("label",a,[(0,i._)("div",o,[(0,i.WI)(e.$slots,"input",{},(()=>[(0,i.wy)((0,i._)("input",(0,i.dG)({type:"checkbox","onUpdate:modelValue":t[0]||(t[0]=e=>c.val=e),value:n.value,id:c.checkboxId},e.$attrs,{onChange:t[1]||(t[1]=(...e)=>c.propagateChange&&c.propagateChange(...e))}),null,16,l),[[r.e8,c.val]])]))]),(0,i._)("div",null,[(0,i.WI)(e.$slots,"default",{},(()=>[(0,i.Uk)((0,s.zw)(n.label),1)]))])])}var d={name:"Checkbox",props:{modelValue:{required:!1,default:!1},label:{required:!1},value:{required:!1,default:()=>!0}},emits:["update:modelValue","change"],computed:{checkboxId(){return`checkbox-${this.uid}`},val:{get(){return this.modelValue},set(e){this.$emit("update:modelValue",e)}}},methods:{propagateChange(e){this.$emit("change",e)}}},c=n(3744);const p=(0,c.Z)(d,[["render",u]]);var m=p},6394:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return f}});var i=n(6252),r=n(2262),s=n(3907),a=n(1076),o=n(8612),l=n(9028),u={__name:"CredentialCreateForm",props:{starterString:{type:String,required:!1}},emits:["saved","canceled"],setup(e,{emit:t}){const n=e,a=(0,s.oR)(),o=(0,r.iH)({}),u=(0,r.iH)(null);(0,i.YP)((()=>n.starterString),(e=>{u.value=e}));const d=async()=>{try{const e=await a.dispatch("credentials/create",{name:u.value}).then((e=>e.data));u.value=null,t("saved",e)}catch(e){(0,l.z1)(e)&&(o.value=e.response.data.errors)}},c=()=>{u.value=null,t("canceled")};return(e,t)=>{const n=(0,i.up)("input-row"),r=(0,i.up)("button-row");return(0,i.wg)(),(0,i.iD)("div",null,[(0,i.Wm)(n,{label:"Name",modelValue:u.value,"onUpdate:modelValue":t[0]||(t[0]=e=>u.value=e),errors:o.value.name},null,8,["modelValue","errors"]),(0,i.Wm)(r,{onSubmitted:d,onCancel:c,"submit-text":"Create Credential"})])}}};const d=u;var c=d;const p=(0,i.Uk)(" Don't see your credential? ");var m={__name:"CredentialsInput",props:{...a.uU,multiple:{type:Boolean,default:!0}},emits:[...a.DK],setup(e,{emit:t}){const n=e,l=(0,s.oR)(),{workingCopy:u}=(0,a.kM)(n,{emit:t}),d=(0,i.Fl)((()=>l.getters["credentials/items"])),m=async(e,t)=>(w.value=e,t.filter((t=>{const n=/[.,-]/g,i=e.replace(n,"").toLowerCase();return t.name.toLowerCase().match(i)||t.synonyms.some((e=>e.name.toLowerCase().match(i)))})));(0,i.bv)((()=>{l.dispatch("credentials/getItems")}));const h=(0,r.iH)(!1),f=()=>{h.value=!0},g=async e=>{h.value=!1,d.value=[...d.value,e],u.value.push(d.value.find((t=>t.id==e.id)))},v=()=>{h.value=!1},w=(0,r.iH)("");return(t,n)=>{const s=(0,i.up)("modal-dialog");return(0,i.wg)(),(0,i.iD)(i.HY,null,[(0,i.Wm)(o["default"],{modelValue:(0,r.SU)(u),"onUpdate:modelValue":n[0]||(n[0]=e=>(0,r.dq)(u)?u.value=e:null),options:(0,r.SU)(d),multiple:e.multiple,showOptionsOnFocus:"",showOptionsWhenEmpty:"",searchFunction:m},{fixedBottomOption:(0,i.w5)((()=>[(0,i._)("div",{class:"text-sm"},[p,(0,i._)("button",{class:"link",onClick:f},"Create a new one.")])])),_:1},8,["modelValue","options","multiple"]),((0,i.wg)(),(0,i.j4)(i.lR,{to:"body"},[(0,i.Wm)(s,{modelValue:h.value,"onUpdate:modelValue":n[1]||(n[1]=e=>h.value=e),title:"Add a new credential"},{default:(0,i.w5)((()=>[(0,i.Wm)((0,r.SU)(c),{starterString:w.value,onSaved:g,onCanceled:v},null,8,["starterString"])])),_:1},8,["modelValue"])]))],64)}}};const h=m;var f=h},1327:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return p}});var i=n(6252),r=n(2262),s=n(3577),a=n(8204),o=n(1076),l=n(5934);const u=["id"];var d={__name:"DataForm",props:{...o.ZP.props,errors:{type:Object,required:!1,default:()=>({})},fields:{type:Array,required:!0},wrapperClass:{type:String||null,default:null}},emits:[...o.ZP.emits],setup(e,{emit:t}){const n=e,d=(0,l.Z)(),c=(0,r.iH)([]),p=e=>{c.value.push(e)},{workingCopy:m}=o.ZP.setup(n,{emit:t});(0,i.Xn)((()=>{c.value=[]}));const h=({field:e})=>"raw-component"==e.type?(0,i.h)(e.component.component,e.component.options,e.component.slots):(0,i.h)(a["default"],{field:e,modelValue:m.value,"onUpdate:modelValue":e=>{t("update:modelValue",e)},ref:p(),class:"flex-grow",errors:n.errors}),f=({field:e})=>{let n=null;return e.extraSlot&&(n=(0,i.h)(e.extraSlot,{field:e,modelValue:m.value,"onUpdate:modelValue":e=>{t("update:modelValue",e)}})),n};return(t,n)=>((0,i.wg)(),(0,i.iD)("div",{class:"data-form",id:(0,r.SU)(d)},[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.fields,(t=>((0,i.wg)(),(0,i.iD)("div",{key:t.name},[(0,i._)("div",{class:(0,s.C_)(e.wrapperClass)},[(0,i.Wm)(h,{field:t,modelValue:(0,r.SU)(m)},null,8,["field","modelValue"]),(0,i.Wm)(f,{field:t,modelValue:(0,r.SU)(m)},null,8,["field","modelValue"])],2)])))),128))],8,u))}};const c=d;var p=c},8204:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return c}});var i=n(6252),r=n(1076),s=n(4417),a=n(6486),o=n(125),l=n(7789),u={__name:"DataFormField",props:{...r.uU,field:{type:Object,required:!0},errors:{type:Object,required:!0}},emits:r.DK,setup(e,{emit:t}){const n=e,{workingCopy:u}=(0,r.kM)(n,{emit:t}),d=(0,i.Fl)({get(){if("*"===n.field.name)return u.value;const e=(0,a.get)(u.value,n.field.name);return e},set(e){"*"!==n.field.name?(0,a.get)(u.value,n.field.name)!==e&&(0,a.set)(u.value,n.field.name,e):u.value=e}}),c=e=>"undefined"===typeof e.label?(0,s.Qs)(e.name):e.label,p=e=>Array.isArray(e.options)?e.options:"function"==typeof e.options?e.options(u):[],m=e=>!e.show||e.show(u),h=()=>"dictionary-row"==n.field.type?[(0,i.h)(l["default"],{innerHTML:d.value,label:c(n.field),class:n.field.class})]:"component"==n.field.type?[g()]:[f()],f=(e=null)=>{const t={label:c(n.field),modelValue:d.value,"onUpdate:modelValue":e=>{d.value=e},type:n.field.type||"text",placeholder:n.field.placeholder||null,errors:n.errors[n.field.name],options:p(n.field),vertical:n.field.vertical,class:n.field.class,required:n.field.required};return(0,i.h)(o["default"],t,e)},g=()=>{const e=()=>{const e={...n.field.component.options,modelValue:d.value,"onUpdate:modelValue":e=>{d.value=e},errors:n.errors};return(0,i.h)(n.field.component.component,e,n.field.component.slots)};return f(e)},v=()=>{const e=h(),t=(0,i.h)("div",{class:""},m(n.field)?e:[]);return t};return(e,t)=>((0,i.wg)(),(0,i.j4)(v))}};const d=u;var c=d},6785:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return u}});var i=n(6252);const r=["value","disabled"];function s(e,t,n,s,a,o){return(0,i.wg)(),(0,i.iD)("div",null,[(0,i._)("input",{ref:"input",type:"date",class:"date-input",value:o.date,onInput:t[0]||(t[0]=(...e)=>o.handleInput&&o.handleInput(...e)),onChange:t[1]||(t[1]=t=>e.$emit("change")),disabled:n.disabled},null,40,r)])}var a={props:{modelValue:{required:!1,default:null},disabled:{required:!1,default:!1}},emits:["update:modelValue","change"],data(){return{}},computed:{date:{get(){let e=null;return e=this.modelValue?this.modelValue instanceof Date?new Date(this.modelValue.getTime()):new Date(Date.parse(this.modelValue)):null,e&&e.toISOString().split("T")[0]}}},methods:{handleInput(e){const t=e.target.valueAsDate;t?t.valueOf()>new Date(Date.parse("1900-01-01"))&&this.$emit("update:modelValue",this.accountForTimezone(t).toISOString()):this.$emit("update:modelValue",t)},accountForTimezone(e){if(null===e)return e;const t=new Date(Date.parse(e)),n=new Date(t.getTime()+60*t.getTimezoneOffset()*1e3);return n},formatDate(e){if(null===e)return null;let t=new Date(e),n=""+(t.getMonth()+1),i=""+t.getDate(),r=t.getFullYear();return n.length<2&&(n="0"+n),i.length<2&&(i="0"+i),[r,n,i].join("-")},focus(){this.$nextTick((()=>{this.$refs.input.focus()}))}},mounted(){this.accountForTimezone(this.formatDate(this.modelValue))}},o=n(3744);const l=(0,o.Z)(a,[["render",s]]);var u=l},42:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return f}});var i=n(6252),r=n(3577);const s={key:0},a={key:1},o={key:0},l={key:1};function u(e,t,n,u,d,c){const p=(0,i.up)("search-select");return(0,i.wg)(),(0,i.j4)(p,{modelValue:c.selectedDisease,"onUpdate:modelValue":t[0]||(t[0]=e=>c.selectedDisease=e),"search-function":c.search,style:{"z-index":"2"},placeholder:"MonDO ID or name"},{"selection-label":(0,i.w5)((({selection:e})=>["object"==typeof e?((0,i.wg)(),(0,i.iD)("div",s,(0,r.zw)(e.mondo_id)+" - "+(0,r.zw)(e.name),1)):((0,i.wg)(),(0,i.iD)("div",a,(0,r.zw)(e),1))])),option:(0,i.w5)((({option:e})=>["object"==typeof e?((0,i.wg)(),(0,i.iD)("div",o,(0,r.zw)(e.mondo_id)+" - "+(0,r.zw)(e.name),1)):((0,i.wg)(),(0,i.iD)("div",l,(0,r.zw)(e),1))])),_:1},8,["modelValue","search-function"])}var d=n(812),c=n(8612),p={name:"DiseaseSearchSelect",components:{SearchSelect:c["default"]},props:{modelValue:{required:!0}},data(){return{}},computed:{selectedDisease:{get(){return this.modelValue},set(e){this.$emit("update:modelValue",e)}}},methods:{async search(e){return await d.Z.get("/api/diseases/search?query_string="+e).then((e=>e.data))}}},m=n(3744);const h=(0,m.Z)(p,[["render",u]]);var f=h},4386:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return d}});var i=n(6252),r=n(2262),s=n(9028),a=n(1076),o=n(8612),l={__name:"ExpertisesInput",props:{...a.uU},emits:[...a.DK],setup(e,{emit:t}){const n=e,{workingCopy:l}=(0,a.kM)(n,{emit:t}),u=(0,r.iH)([]),d=async()=>{u.value=await s.hi.get("/api/expertises").then((e=>e.data))},c=async(e,t)=>(p.value=e,t.filter((t=>{const n=/[.,-]/g,i=e.replace(n,"").toLowerCase();return t.name.toLowerCase().match(i)||t.synonyms.some((e=>e.name.toLowerCase().match(i)))})));(0,i.bv)((()=>{d()}));const p=(0,r.iH)("");return(e,t)=>((0,i.wg)(),(0,i.j4)(o["default"],{modelValue:(0,r.SU)(l),"onUpdate:modelValue":t[0]||(t[0]=e=>(0,r.dq)(l)?l.value=e:null),options:u.value,multiple:"",showOptionsOnFocus:"",showOptionsWhenEmpty:"",searchFunction:c},null,8,["modelValue","options"]))}};const u=l;var d=u},3077:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return l}});var i=n(6252);function r(e,t,n,r,s,a){return(0,i.wg)(),(0,i.iD)("div",null,[(0,i.WI)(e.$slots,"default")])}var s={props:{},data(){return{visibility:!1,visibilityInterval:null}},watch:{visibility(e,t){e&&!t&&this.focusFirstInput()}},methods:{checkVisibility(){this.visibility=this.$el&&(this.$el.offsetWidth>0||this.$el.offsetHeight>0)},focusFirstInput(){this.$el.querySelectorAll("input, textarea, select")[0].focus()}},mounted(){this.visibilityInterval=setInterval(this.checkVisibility,100)},unmounted(){clearInterval(this.visibilityInterval)}},a=n(3744);const o=(0,a.Z)(s,[["render",r]]);var l=o},6009:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return f}});var i=n(6252),r=n(3577);const s={key:0},a={key:1},o={key:0},l={key:1};function u(e,t,n,u,d,c){const p=(0,i.up)("search-select");return(0,i.wg)(),(0,i.j4)(p,{modelValue:c.selectedGene,"onUpdate:modelValue":t[0]||(t[0]=e=>c.selectedGene=e),"search-function":c.search,style:{"z-index":"2"},placeholder:"HGNC ID or Gene Symbol",keyOptionsBy:"id"},{"selection-label":(0,i.w5)((({selection:e})=>["object"==typeof e?((0,i.wg)(),(0,i.iD)("div",s,(0,r.zw)(e.gene_symbol),1)):((0,i.wg)(),(0,i.iD)("div",a,(0,r.zw)(e),1))])),option:(0,i.w5)((({option:e})=>["object"==typeof e?((0,i.wg)(),(0,i.iD)("div",o,(0,r.zw)(e.gene_symbol),1)):((0,i.wg)(),(0,i.iD)("div",l,(0,r.zw)(e),1))])),_:1},8,["modelValue","search-function"])}var d=n(812),c=n(8612),p={name:"GeneSearchSelect",components:{SearchSelect:c["default"]},props:{modelValue:{required:!0}},computed:{selectedGene:{get(){return this.modelValue},set(e){this.$emit("update:modelValue",e)}}},methods:{async search(e){return await d.Z.get("/api/genes/search?query_string="+e).then((e=>e.data))}}},m=n(3744);const h=(0,m.Z)(p,[["render",u]]);var f=h},9370:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return d}});var i=n(6252),r=n(3577);const s={class:"text-red-800 m-0 p-0"};function a(e,t,n,a,o,l){return(0,i.wg)(),(0,i.iD)("ul",s,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(n.errors,(e=>((0,i.wg)(),(0,i.iD)("li",{key:e},(0,r.zw)(e),1)))),128))])}var o={props:{errors:{type:Array,required:!0}}},l=n(3744);const u=(0,l.Z)(o,[["render",a]]);var d=u},125:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return g}});var i=n(6252),r=n(3577),s=n(9963);const a={class:"flex-grow flex flex-col space-y-3"},o=["value","disabled","readonly","name","placeholder"],l=["value","disabled","readonly"],u=(0,i._)("option",{value:""},"Select…",-1),d=["value"],c=["type","value","placeholder","disabled","readonly","name"];function p(e,t,n,p,m,h){const f=(0,i.up)("date-input"),g=(0,i.up)("radio-button"),v=(0,i.up)("input-errors");return(0,i.wg)(),(0,i.iD)("div",{class:(0,r.C_)([{"border-l border-red-800 px-2":h.hasErrors},"input-row my-3"])},[(0,i._)("div",{class:(0,r.C_)({"sm:flex":!n.vertical})},[(0,i.wy)((0,i._)("div",{class:(0,r.C_)(["flex-none label-container flex-shrink",h.labelContainerClass])},[h.hasLabel?(0,i.WI)(e.$slots,"label",{key:0,class:(0,r.C_)(h.resolvedLabelClass)},(()=>[(0,i._)("label",null,(0,r.zw)(n.label)+(0,r.zw)(h.colon),1)])):(0,i.kq)("",!0)],2),[[s.F8,h.showLabel]]),(0,i._)("div",a,[(0,i.WI)(e.$slots,"default",{},(()=>["date"==n.type?((0,i.wg)(),(0,i.j4)(f,{key:0,modelValue:n.modelValue,"onUpdate:modelValue":h.emitValue,disabled:n.disabled,readonly:e.$attrs.readonly,onChange:t[0]||(t[0]=t=>e.$emit("change",n.modelValue)),ref:"input",name:n.name,class:(0,r.C_)(n.inputClass)},null,8,["modelValue","onUpdate:modelValue","disabled","readonly","name","class"])):"large-text"==n.type?((0,i.wg)(),(0,i.iD)("textarea",{key:1,value:n.modelValue,onInput:t[1]||(t[1]=t=>e.$emit("update:modelValue",t.target.value)),disabled:n.disabled,readonly:e.$attrs.readonly,onChange:t[2]||(t[2]=t=>e.$emit("change",n.modelValue)),ref:"input",name:n.name,class:(0,r.C_)([n.inputClass,"w-full"]),rows:"5",placeholder:n.placeholder},null,42,o)):"radio-group"==n.type?((0,i.wg)(),(0,i.iD)("div",{key:2,class:(0,r.C_)(["radio-group",{"ml-4":n.vertical}])},[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(n.options,(t=>((0,i.wg)(),(0,i.j4)(g,{key:t.value,modelValue:n.modelValue,"onUpdate:modelValue":h.emitValue,label:t.label||e.sentenceCase(t.value),value:t.value,disabled:n.disabled,readonly:e.$attrs.readonly},null,8,["modelValue","onUpdate:modelValue","label","value","disabled","readonly"])))),128))],2)):"select"==n.type?((0,i.wg)(),(0,i.iD)("select",(0,i.dG)({key:3,value:n.modelValue,onInput:t[3]||(t[3]=t=>e.$emit("update:modelValue",t.target.value))},e.$attrs.disabled,{disabled:n.disabled,readonly:e.$attrs.readonly}),[u,((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(n.options,(t=>(0,i.WI)(e.$slots,"option-label",(0,r.vs)((0,i.dG)({key:t.value},t)),(()=>[(0,i._)("option",{value:t.value},(0,r.zw)(t.label||e.sentenceCase(t.value)),9,d)])))),128))],16,l)):((0,i.wg)(),(0,i.iD)("input",{key:4,type:n.type,value:n.modelValue,onInput:t[4]||(t[4]=t=>e.$emit("update:modelValue",t.target.value)),placeholder:n.placeholder,disabled:n.disabled,readonly:e.$attrs.readonly,onChange:t[5]||(t[5]=t=>e.$emit("change",t.target.value)),ref:"input",class:(0,r.C_)(n.inputClass),name:n.name},null,42,c))])),(0,i.WI)(e.$slots,"after-input"),(0,i.Wm)(v,{class:"text-xs",errors:n.errors||[]},null,8,["errors"])])],2)],2)}n(6699);var m={props:{type:{type:String,required:!1,default:"text"},modelValue:{required:!1,default:null},errors:{type:Array,required:!1,default:()=>[]},options:{type:Array,required:!1},label:{type:String,required:!1},labelWidthClass:{type:String,required:!1,default:"w-36"},placeholder:{required:!1,value:null},disabled:{type:Boolean,default:!1},name:{required:!1,default:null,type:String},inputClass:{required:!1,default:null,type:String},hideLabel:{required:!1,default:!1,type:Boolean},labelClass:{required:!1,default:null,type:String},vertical:{type:Boolean,default:!1}},emits:["update:modelValue","change"],computed:{colon(){return this.label&&[":",";",".","?","!"].includes(this.label.substr(-1))?"":":"},hasErrors(){return this.errors.length>0},labelContainerClass(){const e=[];return this.vertical?e.push("my-1"):e.push(this.labelWidthClass),e.join(" ")},showLabel(){return!this.hideLabel},hasLabel(){return this.label||this.$slots.label},resolvedLabelClass(){const e=[];return this.hasErrors&&e.push("text-red-800"),this.labelClass&&e.push(this.labelClass),e.join(" ")}},methods:{emitValue(e){this.$emit("update:modelValue",e)},focus(){this.$refs.input.focus()}}},h=n(3744);const f=(0,h.Z)(m,[["render",p]]);var g=f},6645:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return y}});var i=n(6252),r=n(3577);const s={key:0},a={key:0},o={key:0},l={key:1};function u(e,t,n,u,d,c){const p=(0,i.up)("search-select"),m=(0,i.up)("institution-form"),h=(0,i.up)("modal-dialog");return(0,i.wg)(),(0,i.iD)("div",null,[(0,i.Wm)(p,{modelValue:c.selectedInstitution,"onUpdate:modelValue":[t[1]||(t[1]=e=>c.selectedInstitution=e),t[2]||(t[2]=t=>e.searchText=null)],"search-function":c.search,style:{"z-index":"2"},placeholder:"Institution name or abbreviation",keyOptionsBy:"id",showOptionsOnFocus:"",options:d.institutions,showOptionsWhenEmpty:""},(0,i.Nv)({"selection-label":(0,i.w5)((({selection:e})=>[(0,i._)("div",null,[(0,i.Uk)((0,r.zw)(e.name)+" ",1),e.abbreviation?((0,i.wg)(),(0,i.iD)("span",s,"("+(0,r.zw)(e.abbreviation)+")",1)):(0,i.kq)("",!0)])])),option:(0,i.w5)((({option:e})=>["object"==typeof e?((0,i.wg)(),(0,i.iD)("div",a,[(0,i.Uk)((0,r.zw)(e.name)+" ",1),e.abbreviation?((0,i.wg)(),(0,i.iD)("span",o,"("+(0,r.zw)(e.abbreviation)+")",1)):(0,i.kq)("",!0)])):((0,i.wg)(),(0,i.iD)("div",l,(0,r.zw)(e),1))])),_:2},[n.allowAdd?{name:"fixedBottomOption",fn:(0,i.w5)((()=>[(0,i._)("button",{class:"font-bold link cursor-pointer",onClick:t[0]||(t[0]=(...e)=>c.initAddNew&&c.initAddNew(...e))},"Add your institution")]))}:void 0]),1032,["modelValue","search-function","options"]),((0,i.wg)(),(0,i.j4)(i.lR,{to:"body"},[(0,i.Wm)(h,{title:"Add an institution",modelValue:d.showAddForm,"onUpdate:modelValue":t[3]||(t[3]=e=>d.showAddForm=e)},{default:(0,i.w5)((()=>[(0,i.Wm)(m,{name:d.formName,onSaved:c.useNewInstitution,onCanceled:c.cancelNewInstitution},null,8,["name","onSaved","onCanceled"])])),_:1},8,["modelValue"])]))])}var d=n(9028),c=n(8612);function p(e,t,n,r,s,a){const o=(0,i.up)("data-form"),l=(0,i.up)("button-row");return(0,i.wg)(),(0,i.iD)("div",null,[(0,i.Wm)(o,{fields:a.filteredFields,errors:s.errors,modelValue:s.inst,"onUpdate:modelValue":t[0]||(t[0]=e=>s.inst=e)},null,8,["fields","errors","modelValue"]),(0,i.Wm)(l,{"submit-text":"Save",onSubmitted:a.save,onCancel:a.cancel},null,8,["onSubmitted","onCancel"])])}var m=n(8171),h={name:"InstitutionCreateForm",props:{name:{type:String||null,default:null}},emits:["saved","canceled"],data(){return{inst:{},errors:{}}},watch:{name:{immediate:!0,handler(e){this.inst.name=e}}},computed:{filteredFields(){return this.fields.filter((e=>"reportable"!==e.name))}},methods:{async save(){try{const e=await this.createInstitution(this.inst);this.$emit("saved",e),this.initInstitution()}catch(e){(0,d.z1)(e)&&(this.errors=e.response.data.errors)}},cancel(){this.$emit("canceled"),this.initInstitution()},initInstitution(){this.inst={name:this.name}},initErrors(){this.errors={}}},setup(){return{fields:m.XU,getCountries:m.ox,countries:m.hW,createInstitution:m.Lt}},mounted(){this.getCountries()}},f=n(3744);const g=(0,f.Z)(h,[["render",p]]);var v=g,w={name:"InstitutionSearchSelect",components:{SearchSelect:c["default"],InstitutionForm:v},props:{modelValue:{required:!0},allowAdd:{type:Boolean,default:!0}},data(){return{institutions:[],showAddForm:!1,formName:null}},computed:{selectedInstitutionId:{get(){return this.modelValue},set(e){this.$emit("update:modelValue",e)}},selectedInstitution:{get(){return this.institutions.find((e=>e.id==this.modelValue))},set(e){this.selectedInstitutionId=e?e.id:null}}},methods:{search(e){this.formName=e;const t=new RegExp(`.*${e}.*`,"i");return this.institutions.filter((e=>e.name&&e.name.match(t)||e.abbreviation&&e.abbreviation.match(t)||e.url&&e.url.match(t)))},initAddNew(){this.showAddForm=!0},useNewInstitution(e){this.institutions.push(e),this.selectedInstitution=e,this.showAddForm=!1},cancelNewInstitution(){this.showAddForm=!1},getInstitutions(){const e={sort:{field:"name",dir:"asc"},select:["name","abbreviation","id","url"]};d.hi.get("/api/people/institutions"+(0,d.nZ)(e)).then((e=>{this.institutions=e.data}))}},mounted(){this.getInstitutions()}};const b=(0,f.Z)(w,[["render",u]]);var y=b},9641:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return m}});var i=n(6252),r=n(3577);const s={key:0},a={key:1};function o(e,t,n,o,l,u){const d=(0,i.up)("search-select");return(0,i.wg)(),(0,i.iD)("div",null,[(0,i.Wm)(d,{modelValue:u.selectedPerson,"onUpdate:modelValue":[t[0]||(t[0]=e=>u.selectedPerson=e),t[1]||(t[1]=t=>e.searchText=null)],multiple:n.multiple,disabled:n.disabled,"search-function":u.search,style:{"z-index":"2"},placeholder:"Person name or email"},{"selection-label":(0,i.w5)((({selection:e})=>[(0,i._)("div",null,(0,r.zw)(e.first_name)+" "+(0,r.zw)(e.last_name)+" <"+(0,r.zw)(e.email)+"> ",1)])),option:(0,i.w5)((({option:e})=>["object"==typeof e?((0,i.wg)(),(0,i.iD)("div",s,(0,r.zw)(e.name)+" <"+(0,r.zw)(e.email)+"> ",1)):((0,i.wg)(),(0,i.iD)("div",a,(0,r.zw)(e),1))])),_:1},8,["modelValue","multiple","disabled","search-function"])])}var l=n(9028),u=n(8612),d={name:"PersonSearchSelect",components:{SearchSelect:u["default"]},props:{modelValue:{required:!0},allowAdd:{type:Boolean,default:!0},multiple:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1}},data(){return{options:[],showAddForm:!1,formName:null}},computed:{selectedPerson:{get(){return this.modelValue},set(e){e?this.$emit("update:modelValue",e):this.$emit("update:modelValue",null)}}},methods:{async search(e){if(!e||e.length<2)return[];const t=`/api/people?where[filterString]=${e}`;return this.options=await l.hi.get(t).then((e=>e.data.data)),this.options}}},c=n(3744);const p=(0,c.Z)(d,[["render",o]]);var m=p},8956:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return p}});var i=n(6252),r=n(9963),s=n(3577);const a={class:"mb-2"},o=["id","disabled","value"];function l(e,t,n,l,u,d){return(0,i.wg)(),(0,i.iD)("label",a,[(0,i.WI)(e.$slots,"input",{},(()=>[(0,i.wy)((0,i._)("input",{type:"radio","onUpdate:modelValue":t[0]||(t[0]=e=>d.val=e),id:d.radioId,class:"mt-1",disabled:e.$attrs.disabled,value:n.value},null,8,o),[[r.G2,d.val]])])),(0,i._)("div",null,[(0,i.WI)(e.$slots,"default",{},(()=>[(0,i.Uk)((0,s.zw)(n.label),1)]))])])}var u={name:"Checkbox",props:{modelValue:{required:!1,default:!1},label:{required:!1},value:{required:!0}},emits:["update:modelValue","change"],computed:{radioId(){return`radiobutton-${this.uid}`},val:{get(){return this.modelValue},set(e){this.$emit("update:modelValue",e)}}}},d=n(3744);const c=(0,d.Z)(u,[["render",l]]);var p=c},7228:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return p}});var i=n(6252),r=n(3577),s=n(4417);const a=["onClick"],o={class:"inline-block"},l=["checked"],u=(0,i.Uk)("  ");var d={__name:"RadioButtonGroup",props:{modelValue:{required:!0},options:{type:Array,default:()=>[]},labelAttribute:{type:String,required:!1},vertical:{type:Boolean,default:!1},size:{type:String,default:"md"}},emits:["update:modelValue","change"],setup(e,{emit:t}){const n=e,d=e=>{t("update:modelValue",e),t("change",e)},c=e=>JSON.stringify(e)==JSON.stringify(n.modelValue),p=e=>"object"==typeof e?n.labelAttribute?e[n.labelAttribute]:e:"string"==typeof e?(0,s.G8)(e):e,m=e=>{const t=[n.size];return c(e)&&t.push("selected"),t.join(" ")};return(t,n)=>((0,i.wg)(),(0,i.iD)("div",{class:(0,r.C_)(["button-group",{vertical:e.vertical}])},[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.options,((e,n)=>((0,i.wg)(),(0,i.iD)("button",{key:n,class:(0,r.C_)(m(e)),onClick:t=>d(e)},[(0,i._)("div",o,[(0,i._)("input",{type:"radio",checked:c(e)},null,8,l)]),u,(0,i.WI)(t.$slots,"default",{option:e},(()=>[(0,i.Uk)((0,r.zw)(p(e)),1)]))],10,a)))),128))],2))}};const c=d;var p=c},2584:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return d}});var i=n(6252);function r(e,t,n,r,s,a){const o=(0,i.up)("ckeditor");return(0,i.wg)(),(0,i.iD)("div",null,[(0,i.Wm)(o,{editor:s.editor,"model-value":n.modelValue,config:s.editorConfig,onInput:a.emitValue},null,8,["editor","model-value","config","onInput"])])}var s=n(5234),a=n.n(s),o={name:"RichTextEditor",props:{modelValue:{type:String,required:!1,default:""}},data(){return{editor:a(),editorConfig:{toolbar:["bold","italic","|","link"],remove:["Heading","CKFinderUploadAdapter"],width:"100%",height:200,resize_maxWidth:"700px"}}},computed:{},methods:{emitValue(e){this.$emit("update:modelValue",e)}}},l=n(3744);const u=(0,l.Z)(o,[["render",r]]);var d=u},8612:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return _}});var i=n(6252),r=n(3577),s=n(9963);const a={class:"search-select-component"},o={class:"search-select-container bg-white"},l={key:0},u=["onClick","disabled"],d=["placeholder","disabled"],c={class:"result-container"},p=["id","onClick"],m={key:0,class:"filtered-option additional-option"},h={key:0,class:"bg-white p-2 border"};function f(e,t,n,f,g,v){return(0,i.wg)(),(0,i.iD)("div",a,[(0,i._)("div",o,[v.hasSelection?((0,i.wg)(),(0,i.iD)("div",l,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(g.selections,((t,s)=>((0,i.wg)(),(0,i.iD)("div",{key:s,class:(0,r.C_)(["selection",{disabled:n.disabled}])},[(0,i._)("label",null,[(0,i.WI)(e.$slots,"selection-label",{selection:t},(()=>[(0,i.Uk)((0,r.zw)(v.resolveDefaultOptionLabel(t)),1)]),!0)]),(0,i._)("div",{onClick:e=>v.removeSelection(s),disabled:n.disabled,class:"remove-btn"},"x",8,u)],2)))),128))])):(0,i.kq)("",!0),(0,i.wy)((0,i._)("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=e=>g.searchText=e),ref:"input",class:"input",onKeydown:t[1]||(t[1]=(...e)=>v.handleKeyDown&&v.handleKeyDown(...e)),onKeyup:t[2]||(t[2]=(...e)=>v.handleKeyEvent&&v.handleKeyEvent(...e)),onFocus:t[3]||(t[3]=(...e)=>v.handleInputFocus&&v.handleInputFocus(...e)),onBlur:t[4]||(t[4]=(...e)=>v.handleInputBlur&&v.handleInputBlur(...e)),placeholder:n.placeholder,disabled:n.disabled,id:"search-select-input"},null,40,d),[[s.F8,v.showInput],[s.nr,g.searchText]])]),(0,i.wy)((0,i._)("div",c,[(0,i._)("div",null,[(0,i._)("ul",{class:"option-list",style:(0,r.j5)(`max-height: ${v.optionsListHeight}px`)},[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(v.filteredUniqueOptions,((t,n)=>((0,i.wg)(),(0,i.iD)("li",{key:n,class:(0,r.C_)(["filtered-option",{highlighted:n===g.cursorPosition}]),id:`option-${n}`,onClick:e=>v.setSelection(t)},[(0,i.WI)(e.$slots,"option",{option:t,index:n},(()=>[(0,i.Uk)((0,r.zw)(v.resolveDefaultOptionLabel(t)),1)]),!0)],10,p)))),128)),e.$slots.additionalOption?((0,i.wg)(),(0,i.iD)("li",m,[(0,i.WI)(e.$slots,"additionalOption",{},void 0,!0)])):(0,i.kq)("",!0)],4),e.$slots.fixedBottomOption?((0,i.wg)(),(0,i.iD)("div",h,[(0,i.WI)(e.$slots,"fixedBottomOption",{},void 0,!0)])):(0,i.kq)("",!0)])],512),[[s.F8,v.showingOptions]])])}n(6699);var g=n(6486);function v(e){const t=e.getBoundingClientRect();document.getElementById("block")&&document.getElementById("block").remove();const n=e.parentNode.getBoundingClientRect();return t.top>=n.top&&t.bottom<=n.bottom}var w={name:"SearchSelect",props:{modelValue:{required:!0},searchFunction:{required:!1,type:Function,default:null},options:{required:!1,default:()=>[]},throttle:{required:!1,type:Number,default:250},optionsHeight:{required:!1,type:Number,default:200},placeholder:{required:!1,type:String,default:"type to search"},disabled:{required:!1,type:Boolean,default:!1},labelField:{type:String,default:"name"},showOptionsOnFocus:{type:Boolean,default:!1},showOptionsWhenEmpty:{type:Boolean,default:!1},multiple:{type:Boolean,default:!1},keyOptionsBy:{type:String,default:"id"}},emits:["update:modelValue","removed","added","searchTextUpdated"],data(){return{selections:[],searchText:null,cursorPosition:null,filteredOptions:[],clearInputTimeout:null,keydownTimer:null,currentKey:null,hasFocus:!1,debug:!1}},computed:{hasAdditionalOption(){return Boolean(this.$slots.additionalOption)},hasOptions(){return this.filteredOptions.length>0||this.hasAdditionalOption},optionsListHeight(){return this.showingOptions?this.optionsHeight:0},selection(){return this.modelValue},showInput(){return!this.hasSelection||this.multiple},showingOptions(){return!(!this.showOptionsWhenEmpty&&!this.hasAdditionalOption||!this.searchText&&!this.hasFocus)||this.filteredOptions.length>0&&this.hasFocus},highlightedOption(){return this.showingOptions?null:this.filteredOptions[this.cursorPosition]},hasSelection(){return this.selections.length>0},filteredUniqueOptions(){const e=this.selections.map((e=>e[this.keyOptionsBy]));return this.filteredOptions.filter((t=>!e.includes(t[this.keyOptionsBy])))}},watch:{searchText:function(){this.search(this.searchText,this.options),this.$emit("searchTextUpdated",this.searchText)},filteredOptions:function(){this.cursorPosition=0},modelValue:{handler(e){e&&(this.selections=Array.isArray(e)?e:[e]),this.clearInput(),this.resetCursor()},immediate:!0}},methods:{handleInputFocus(){this.hasFocus=!0,this.showOptionsOnFocus&&this.search(this.searchText,this.options)},handleInputBlur(){this.log("handleInputBlur"),setTimeout((()=>{this.log("timedout"),this.clearInput(),this.resetCursor(),this.hasFocus=!1}),200)},defaultSearchFunction(e,t){if(this.log("defaultSearchFunction"),!e)return[];const n=new RegExp(e,"gi");return t.filter((e=>{let t=null;return t="string"==typeof e?e.match(n):e[this.labelField].match(n),null!==t}))},removeSelection(e){if(this.disabled)return;this.log("removeSelection");const t=this.selections.splice(e,1);this.emitModelUpdate(),this.$emit("removed",t[0]),this.$nextTick((()=>{this.$refs.input.focus()}))},setSelection(e){this.selections.push(e),this.emitModelUpdate(),this.clearInput(),this.resetCursor(),this.$emit("added",e)},emitModelUpdate(){this.multiple?this.$emit("update:modelValue",this.selections):this.$emit("update:modelValue",this.selections[0]??null)},clearInput(){this.log("clearInput"),this.clearSearchText(),this.clearOptions()},clearOptions(){this.log("clearOptions"),this.filteredOptions=[]},clearSearchText(){this.log("clearSearchText"),this.searchText=null},resetCursor(){this.log("resetCursor"),this.cursorPosition=0},startKeydownTimer(e){this.log("startKeydwonTimer"),e.key!=this.currentKey&&(this.cancelKeydownTimer(e),"ArrowUp"==e.key&&(this.keydownTimer=setInterval((()=>{this.moveUp()}),100),this.currentKey="ArrowUp"),"ArrowDown"==e.key&&(this.keydownTimer=setInterval((()=>{this.moveDown()}),100),this.currentKey="ArrowDown"))},handleKeyDown(e){this.log("handleKeyDown"),"Tab"!=e.key?this.startKeydownTimer(e):this.handleKeyEvent(e)},cancelKeydownTimer(){this.log("cancelKeydwonTimer"),this.keydownTimer&&(clearInterval(this.keydownTimer),this.currentKey=null)},moveUp(){this.log("moveUp"),this.cursorPosition?this.cursorPosition-1<0||(this.cursorPosition--,this.scrollToHighlightedOption()):this.cursorPosition=0},moveDown(){this.log("moveDown"),null!==this.cursorPosition?this.cursorPosition+1>=this.filteredOptions.length||(this.cursorPosition++,this.scrollToHighlightedOption()):this.cursorPosition=0},handleKeyEvent(e){this.log("handleKeyEvent"),this.cancelKeydownTimer(e),this.showingOptions&&("ArrowDown"==e.key&&this.moveDown(),"ArrowUp"==e.key&&this.moveUp(),["Enter"].indexOf(e.key)>-1&&(e.preventDefault(),this.setSelection(this.filteredOptions[this.cursorPosition])),["Tab"].indexOf(e.key)>-1&&this.setSelection(this.filteredOptions[this.cursorPosition]),"Escape"==e.key&&this.clearOptions())},scrollToHighlightedOption(){this.log("scrollToHighlightedOption"),v(document.getElementById("option-"+this.cursorPosition))||document.getElementById("option-"+this.cursorPosition).scrollIntoView()},resolveDefaultOptionLabel(e){return"object"==typeof e?e[this.labelField]:e},resolveDefaultSelctionLabel(e){return this.resolveDefaultOptionLabel(e)},log(e){this.debug&&console.log(e)}},created(){this.search=(0,g.debounce)((async(e,t)=>{if(""==e||null===e||"undefined"==typeof e)return this.showOptionsOnFocus?void(this.filteredOptions=[...t]):[];this.searchFunction?this.filteredOptions=await this.searchFunction(e,t):this.filteredOptions=this.defaultSearchFunction(e,t)}),this.throttle)}},b=n(3744);const y=(0,b.Z)(w,[["render",f],["__scopeId","data-v-49943716"]]);var _=y},703:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return l}});var i=n(6252);function r(e,t,n,r,s,a){const o=(0,i.up)("input-row");return(0,i.wg)(),(0,i.j4)(o,{label:"Step",modelValue:n.modelValue,onInput:t[0]||(t[0]=t=>e.$emit("update:modelValue",t.target.value)),errors:n.errors.step,type:"select",options:s.stepOptions},null,8,["modelValue","errors","options"])}var s={props:{label:{required:!1,type:String,default:"Relevant Step"},modelValue:{required:!0},errors:{type:Array,required:!1,default:()=>[]}},emits:["update:modelValue"],data(){return{stepOptions:[{value:1,label:"Definition"},{value:2,label:"Draft Specifications"},{value:3,label:"Pilot Specifications"},{value:4,label:"Sustained Curation"}]}}},a=n(3744);const o=(0,a.Z)(s,[["render",r]]);var l=o},9298:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return C}});var i=n(6252),r=n(3577),s=n(9963);const a={class:"flex space-x-1 items-start"},o=(0,i._)("label",{for:"region-select",class:"block text-xs"},"Region:",-1),l=["value"],u=(0,i._)("label",{for:"city-search-select",class:"block text-xs"},"City:",-1),d=["disabled"],c=(0,i._)("option",{value:"null"},"Select...",-1),p=["value"],m=(0,i.Uk)("   "),h={class:"w-80"},f=(0,i._)("p",null,"The best way to get your timezone right is to tell us which city has the same “timezone” you do. For example, if you’re located in Atlanta, Georgia, USA you should choose, North America/New York as your “Timezone”.",-1),g=(0,i.Uk)("See the "),v=(0,i.Uk)(" for more details.");function w(e,t,n,w,b,y){const _=(0,i.up)("faq-link"),k=(0,i.up)("icon-question"),C=(0,i.up)("popover");return(0,i.wg)(),(0,i.iD)("div",a,[(0,i._)("div",null,[o,(0,i.wy)((0,i._)("select",{id:"region-select","onUpdate:modelValue":t[0]||(t[0]=e=>b.region=e),class:"input-cl"},[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(b.regions,(e=>((0,i.wg)(),(0,i.iD)("option",{value:e,key:e},(0,r.zw)(e),9,l)))),128))],512),[[s.bM,b.region]])]),(0,i._)("div",null,[u,(0,i.wy)((0,i._)("select",{id:"city-search-select","onUpdate:modelValue":t[1]||(t[1]=e=>b.city=e),disabled:!this.region},[c,((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(y.regionCities,(({name:e})=>((0,i.wg)(),(0,i.iD)("option",{key:e,value:e},(0,r.zw)(e),9,p)))),128))],8,d),[[s.bM,b.city]]),m,(0,i.Wm)(C,{arrow:"",trigger:"hover"},{content:(0,i.w5)((()=>[(0,i._)("div",h,[f,(0,i._)("p",null,[g,(0,i.Wm)(_,{hash:"#heading=h.9kox4w1eoeul"}),v])])])),default:(0,i.w5)((()=>[(0,i.Wm)(k,{class:"text-gray-500 cursor-pointer"})])),_:1})])])}var b=n(812),y={name:"DiseaseSearchSelect",props:{modelValue:{required:!0}},emits:["update:modelValue"],data(){return{timezones:[],regions:[],cities:[],region:null,city:null}},computed:{regionCities(){return this.cities.filter((e=>e.region==this.region))}},watch:{city(){this.emitUpdate()},region(){this.emitUpdate()},modelValue:{immediate:!0,handler(e){let t=null,n=[],i=null;if(!e)return;[t,...n]=e.split("/"),i=n.join("/").replace("_"," ");let r=!1;t!=this.region&&(this.region=t,r=!0),i!=this.city&&(this.city=i,r=!0),r&&this.emitUpdate()}}},methods:{search(e){if(!e||e.length<2)return[];const t=new RegExp(`.*${e}.*`,"i");return this.cities.filter((e=>!this.region||e.region==this.region)).filter((e=>e.name.match(t)))},setRegionsAndCities(e){e.forEach((e=>{const[t,...n]=e.split("/");this.regions.push(t),this.cities.push({region:t,name:n.join("/").replace("_"," ")})})),this.regions=[...new Set(this.regions)]},emitUpdate(){if("UTC"==this.region&&this.$emit("update:modelValue",this.region),!this.city||!this.region)return;const e=this.region+"/"+this.city.replace(" ","_");this.timezones.indexOf(e)&&this.$emit("update:modelValue",e)}},mounted(){b.Z.get("/api/people/lookups/timezones").then((e=>{this.timezones=e.data.data.filter((e=>"UTC"!=e)),this.setRegionsAndCities(this.timezones)}))}},_=n(3744);const k=(0,_.Z)(y,[["render",w]]);var C=k},9334:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return g}});var i=n(6252),r=n(3577),s=n(9963);const a=(0,i._)("h4",{class:"font-bold border-b"},"Email",-1),o=(0,i.Uk)(" There are no contacts to notify!! "),l={key:1},u={key:0},d={key:1,class:"text-gray-500"},c=(0,i.Uk)("ClinGen Services will be carbon copied on this email.");function p(e,t,n,p,m,h){const f=(0,i.up)("static-alert"),g=(0,i.up)("router-link"),v=(0,i.up)("dictionary-row"),w=(0,i.up)("truncate-expander"),b=(0,i.up)("input-row"),y=(0,i.up)("rich-text-editor"),_=(0,i.up)("note");return(0,i.wg)(),(0,i.iD)("div",null,[a,(0,i.Wm)(v,{label:"To","label-class":"w-36"},{default:(0,i.w5)((()=>[h.group.hasContacts?(0,i.kq)("",!0):((0,i.wg)(),(0,i.j4)(f,{key:0,class:"flex-1",variant:"danger"},{default:(0,i.w5)((()=>[o])),_:1})),h.group.hasContacts?((0,i.wg)(),(0,i.iD)("ul",l,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(h.workingEmail.to,(e=>((0,i.wg)(),(0,i.iD)("li",{key:e.email},[(0,i.Wm)(g,{to:{name:"PersonDetail",params:{uuid:e.uuid}},class:"text-blue-600 hover:underline",target:"person"},{default:(0,i.w5)((()=>[(0,i.Uk)((0,r.zw)(e.name)+" <"+(0,r.zw)(e.email)+">",1)])),_:2},1032,["to"])])))),128))])):(0,i.kq)("",!0)])),_:1}),(0,i.Wm)(v,{label:"Cc","label-class":"w-36"},{default:(0,i.w5)((()=>[h.workingEmail.cc.length>0?((0,i.wg)(),(0,i.iD)("div",u,[(0,i.Wm)(w,{value:h.ccAddresses,"truncate-length":100},null,8,["value"])])):((0,i.wg)(),(0,i.iD)("div",d,"None"))])),_:1}),(0,i.Wm)(b,{label:"Subject"},{default:(0,i.w5)((()=>[(0,i.wy)((0,i._)("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=e=>h.workingEmail.subject=e),class:"w-full"},null,512),[[s.nr,h.workingEmail.subject]])])),_:1}),(0,i.Wm)(b,{label:"Body"},{default:(0,i.w5)((()=>[(0,i.Wm)(y,{modelValue:h.workingEmail.body,"onUpdate:modelValue":t[1]||(t[1]=e=>h.workingEmail.body=e)},null,8,["modelValue"])])),_:1}),(0,i.Wm)(b,{label:"Attachments"},{default:(0,i.w5)((()=>[(0,i._)("input",{type:"file",multiple:"",ref:"attachmentsField",onChange:t[2]||(t[2]=(...e)=>h.handleAttachments&&h.handleAttachments(...e))},null,544)])),_:1}),h.emailCced?((0,i.wg)(),(0,i.j4)(_,{key:0},{default:(0,i.w5)((()=>[c])),_:1})):(0,i.kq)("",!0)])}var m={name:"ComponentName",props:{modelValue:{type:Object,default:()=>({})}},data(){return{}},computed:{group(){return this.$store.getters["groups/currentItemOrNew"]},workingEmail:{get(){return this.modelValue},set(e){this.emitEmailUpdate(e)}},application(){return this.group.expert_panel},emailCced(){return 1==this.application.current_step||4==this.application.current_step},ccAddresses(){return this.modelValue.cc.map((e=>e.address)).join(", ")}},methods:{handleAttachments(){this.emitEmailUpdate(this.workingEmail)},emitEmailUpdate(e){const t={...e};Array.from(this.$refs.attachmentsField.files).forEach((e=>{t.files.push(e)})),this.$emit("update:email",e)}}},h=n(3744);const f=(0,h.Z)(m,[["render",p]]);var g=f},7296:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return p}});var i=n(6252);const r=(0,i.Uk)(" Please review your ClinGen EP webpage, including description, membership, and relevant documentation, including publications. See the "),s=(0,i.Uk)(" for instructions on how to update web pages. ");function a(e,t,n,a,o,l){const u=(0,i.up)("coordinator-resource-link"),d=(0,i.up)("checkbox"),c=(0,i.up)("input-row"),p=(0,i.up)("application-section");return(0,i.wg)(),(0,i.j4)(p,{title:"Webpage Updates"},{default:(0,i.w5)((()=>[(0,i.Wm)(c,{errors:n.errors.website_attestation,vertical:""},{label:(0,i.w5)((()=>[(0,i._)("p",null,[r,(0,i.Wm)(u),s])])),default:(0,i.w5)((()=>[(0,i.Wm)(d,{label:"I attest that the information on the webpage is up-to-date and accurate.",modelValue:a.workingCopy.data.website_attestation,"onUpdate:modelValue":t[0]||(t[0]=e=>a.workingCopy.data.website_attestation=e),disabled:l.isComplete},null,8,["modelValue","disabled"])])),_:1},8,["errors"])])),_:1})}var o=n(1076),l=n(2672),u={name:"WebsiteAttestation",components:{ApplicationSection:l.Z},props:{...o.ZP.props,errors:{type:Object,required:!0}},emits:[...o.ZP.emits],computed:{isComplete(){return Boolean(this.modelValue.completed_at)}},setup(e,t){const{workingCopy:n}=o.ZP.setup(e,t);return{workingCopy:n}}},d=n(3744);const c=(0,d.Z)(u,[["render",a]]);var p=c},2462:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return re}});var i=n(6252),r=n(9963),s=n(3577);const a=e=>((0,i.dD)("data-v-6db45f9f"),e=e(),(0,i.Cn)(),e),o={class:"flex"},l={class:"flex-1"},u={key:0},d={class:"flex space-x-2"},c=["errors"],p={key:1},m=(0,i.Uk)(" You can edit the member's profile attributes from here once you've added them to your group. "),h={class:"border-t mt-4 pt-2"},f=a((()=>(0,i._)("h3",null,"Group Roles",-1))),g={class:"flex flex-col h-24 flex-wrap"},v={key:0,class:"border-t mt-2 pt-2 pl-2"},w=a((()=>(0,i._)("h4",null,"Training",-1))),b={class:"flex justify-between w-full items-center"},y=(0,i.Uk)(" Group Permissions "),_={class:"flex flex-col h-24 flex-wrap"},k={class:"px-2 py-1 bg-gray-100 border relative text-xs"},C={class:"flex space-x-2"},I=a((()=>(0,i._)("strong",null,"Legend: ",-1))),x=a((()=>(0,i._)("div",{class:"absolute top-0 left-0 w-full h-full bg-pink-500 opacity-0"}," ",-1))),D={key:0,class:"pt-2 border-l pl-2 ml-2 flex-1"},S=a((()=>(0,i._)("h5",{class:"font-bold border-b mb-1 pb-1"},"Matching people",-1))),A={key:0,class:"mb-2 p-2 alert alert-warning"},$=(0,i.Uk)(" We need updated "),V={key:0},U={key:1},P={key:2},M=(0,i.Uk)(" information for this member. "),q={key:3},E=a((()=>(0,i._)("strong",null,"Legacy Credentials Data:",-1))),W={key:4},Z=a((()=>(0,i._)("strong",null,"Legacy Expertise Data:",-1)));function R(e,t,n,a,R,L){const F=(0,i.up)("input-row"),j=(0,i.up)("dictionary-row"),O=(0,i.up)("credentials-view"),z=(0,i.up)("ExpertisesView"),T=(0,i.up)("static-alert"),B=(0,i.up)("popover"),N=(0,i.up)("note"),H=(0,i.up)("checkbox"),G=(0,i.up)("badge"),K=(0,i.up)("collapsible"),Y=(0,i.up)("member-suggestions"),Q=(0,i.up)("button-row"),X=(0,i.up)("ProfileForm"),J=(0,i.up)("modal-dialog");return(0,i.wg)(),(0,i.iD)(i.HY,null,[(0,i._)("div",null,[(0,i._)("div",o,[(0,i._)("div",l,[R.newMember.id||R.newMember.person_id?(0,i.kq)("",!0):((0,i.wg)(),(0,i.iD)("div",u,[(0,i.Wm)(F,{label:"Name",errors:L.nameErrors},{default:(0,i.w5)((()=>[(0,i._)("div",d,[(0,i.wy)((0,i._)("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=e=>R.newMember.person.first_name=e),placeholder:"First",class:"block w-1/2",onInput:t[1]||(t[1]=(...t)=>e.debounceSuggestions&&e.debounceSuggestions(...t))},null,544),[[r.nr,R.newMember.person.first_name]]),(0,i.wy)((0,i._)("input",{type:"text","onUpdate:modelValue":t[2]||(t[2]=e=>R.newMember.person.last_name=e),placeholder:"Last",class:"block w-1/2",onInput:t[3]||(t[3]=(...t)=>e.debounceSuggestions&&e.debounceSuggestions(...t)),errors:R.errors.last_name},null,40,c),[[r.nr,R.newMember.person.last_name]])])])),_:1},8,["errors"]),(0,i.Wm)(F,{label:"Email",modelValue:R.newMember.person.email,"onUpdate:modelValue":t[4]||(t[4]=e=>R.newMember.person.email=e),placeholder:"example@example.com","input-class":"w-full",onInput:e.debounceSuggestions,errors:R.errors.email},null,8,["modelValue","onInput","errors"])])),R.newMember.id||R.newMember.person_id?((0,i.wg)(),(0,i.iD)("div",p,[(0,i.Wm)(j,{label:"Name"},{default:(0,i.w5)((()=>[(0,i.Uk)((0,s.zw)(R.newMember.person.name),1)])),_:1}),(0,i.Wm)(j,{label:"Email"},{default:(0,i.w5)((()=>[(0,i.Uk)((0,s.zw)(R.newMember.person.email),1)])),_:1}),(0,i.Wm)(j,{label:"Institution"},{default:(0,i.w5)((()=>[(0,i.Uk)((0,s.zw)(R.newMember.person.institution?R.newMember.person.institution.name:"--"),1)])),_:1}),(0,i.Wm)(j,{label:"Credentials"},{default:(0,i.w5)((()=>[(0,i.Wm)(O,{person:R.newMember.person},null,8,["person"])])),_:1}),(0,i.Wm)(j,{label:"Expertise"},{default:(0,i.w5)((()=>[(0,i.Wm)(z,{person:R.newMember.person,"legacy-expertise":R.newMember.legacy_expertise},null,8,["person","legacy-expertise"])])),_:1}),R.newMember.id?(0,i.kq)("",!0):((0,i.wg)(),(0,i.j4)(T,{key:0},{default:(0,i.w5)((()=>[(0,i.Uk)(" Adding existing person, "+(0,s.zw)(R.newMember.person.name)+", as a group member. ",1)])),_:1})),R.newMember.id?((0,i.wg)(),(0,i.j4)(j,{key:1,label:"",class:"text-sm"},{default:(0,i.w5)((()=>[(0,i.Wm)(B,{content:"As a coordinator you can edit some attributes of a group member's profile including name, email, institution, and credentials.",hover:"",arrow:""},{default:(0,i.w5)((()=>[(0,i._)("button",{onClick:t[5]||(t[5]=e=>R.showProfileForm=!0),class:"link text-sm"}," Edit profile attributes ")])),_:1})])),_:1})):(0,i.kq)("",!0),R.newMember.id?(0,i.kq)("",!0):((0,i.wg)(),(0,i.j4)(N,{key:2},{default:(0,i.w5)((()=>[m])),_:1}))])):(0,i.kq)("",!0),(0,i.Wm)(F,{label:"Notes",errors:R.errors.notes},{default:(0,i.w5)((()=>[(0,i.wy)((0,i._)("textarea",{rows:"5","onUpdate:modelValue":t[6]||(t[6]=e=>R.newMember.notes=e),class:"w-full"},null,512),[[r.nr,R.newMember.notes]])])),_:1},8,["errors"]),(0,i.Wm)(j,{label:""},{default:(0,i.w5)((()=>[(0,i.Wm)(H,{"onUpdate:modelValue":t[7]||(t[7]=e=>R.newMember.is_contact=e),modelValue:L.roleRequiresNotification||R.newMember.is_contact,disabled:L.roleRequiresNotification,label:"Receives notifications about this group"},null,8,["modelValue","disabled"])])),_:1}),(0,i._)("div",h,[f,(0,i._)("div",g,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(a.roles,(n=>((0,i.wg)(),(0,i.j4)(H,{key:n.id,modelValue:R.newMember.roles,"onUpdate:modelValue":t[8]||(t[8]=e=>R.newMember.roles=e),value:n,label:e.titleCase(n.name),onInput:L.handleRoleChange},null,8,["modelValue","value","label","onInput"])))),128))]),(0,i.Wm)(r.uT,{name:"fade-down"},{default:(0,i.w5)((()=>[R.newMember.hasRole("biocurator")&&a.group.isVcep()?((0,i.wg)(),(0,i.iD)("div",v,[w,((0,i.wg)(),(0,i.iD)(i.HY,null,(0,i.Ko)([1,2],(e=>(0,i.Wm)(H,{key:e,modelValue:R.newMember[`training_level_${e}`],"onUpdate:modelValue":t=>R.newMember[`training_level_${e}`]=t,value:1,label:`Level ${e}`},null,8,["modelValue","onUpdate:modelValue","label"]))),64))])):(0,i.kq)("",!0)])),_:1})]),(0,i.Wm)(K,{class:"border-t mt-4 pt-2 mb-2"},{title:(0,i.w5)((()=>[(0,i._)("h3",b,[y,R.newMember.permissions.length>0?((0,i.wg)(),(0,i.j4)(G,{key:0,color:"gray"},{default:(0,i.w5)((()=>[(0,i.Uk)((0,s.zw)(R.newMember.permissions.length),1)])),_:1})):(0,i.kq)("",!0)])])),default:(0,i.w5)((()=>[(0,i._)("div",_,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(a.permissions,(e=>((0,i.wg)(),(0,i.j4)(H,{key:e.id,modelValue:R.newMember.permissions,"onUpdate:modelValue":t[9]||(t[9]=e=>R.newMember.permissions=e),value:e,disabled:R.newMember.hasPermissionThroughRole(e),checked:R.newMember.hasPermissionThroughRole(e),id:`permission-${e.id}`,title:R.newMember.hasPermissionThroughRole(e)?"granted with role":"grant permission",label:e.display_name},null,8,["modelValue","value","disabled","checked","id","title","label"])))),128))]),(0,i._)("div",k,[(0,i._)("div",C,[I,(0,i.Wm)(H,{label:"Not granted"}),(0,i.Wm)(H,{value:1,modelValue:R.legendValues,"onUpdate:modelValue":t[10]||(t[10]=e=>R.legendValues=e),label:"Granted"},null,8,["modelValue"]),(0,i.Wm)(H,{value:2,modelValue:R.legendValues,"onUpdate:modelValue":t[11]||(t[11]=e=>R.legendValues=e),disabled:"",label:"Granted w/ role"},null,8,["modelValue"])]),x])])),_:1})]),(0,i.Wm)(r.uT,{name:"slide-fade"},{default:(0,i.w5)((()=>[R.suggestedPeople.length>0&&null===R.newMember.person_id?((0,i.wg)(),(0,i.iD)("div",D,[S,(0,i.Wm)(Y,{suggestions:R.suggestedPeople,onSelected:L.useExistingPerson},null,8,["suggestions","onSelected"])])):(0,i.kq)("",!0)])),_:1})]),(0,i._)("div",null,[(0,i.Wm)(Q,{onSubmit:L.saveAndExit,onCancel:L.cancel,"submit-text":"Save",style:{"margin-top":"0"}},{"extra-buttons":(0,i.w5)((()=>[R.newMember.id?(0,i.kq)("",!0):((0,i.wg)(),(0,i.iD)("button",{key:0,class:"btn blue",onClick:t[12]||(t[12]=(...e)=>L.saveAndEditProfile&&L.saveAndEditProfile(...e))},"Save and edit profle"))])),_:1},8,["onSubmit","onCancel"])])]),((0,i.wg)(),(0,i.j4)(i.lR,{to:"body"},[(0,i.Wm)(J,{modelValue:R.showProfileForm,"onUpdate:modelValue":t[14]||(t[14]=e=>R.showProfileForm=e),title:"Edit Member Profile"},{default:(0,i.w5)((()=>[L.needsCredentials||L.needsExpertise?((0,i.wg)(),(0,i.iD)("div",A,[$,L.needsCredentials?((0,i.wg)(),(0,i.iD)("strong",V,"credentials")):(0,i.kq)("",!0),L.needsExpertise&&L.needsCredentials?((0,i.wg)(),(0,i.iD)("span",U,"and")):(0,i.kq)("",!0),L.needsExpertise?((0,i.wg)(),(0,i.iD)("strong",P,"expertise")):(0,i.kq)("",!0),M,L.needsCredentials&&R.newMember.person.legacy_credentials?((0,i.wg)(),(0,i.iD)("div",q,[E,(0,i.Uk)(" "+(0,s.zw)(R.newMember.person.legacy_credentials),1)])):(0,i.kq)("",!0),L.needsExpertise&&R.newMember.legacy_expertise?((0,i.wg)(),(0,i.iD)("div",W,[Z,(0,i.Uk)(" "+(0,s.zw)(R.newMember.legacy_expertise),1)])):(0,i.kq)("",!0)])):(0,i.kq)("",!0),R.newMember.person?((0,i.wg)(),(0,i.j4)(X,{key:1,person:R.newMember.person,onSaved:L.handleProfileUpdate,onCanceled:t[13]||(t[13]=e=>R.showProfileForm=!1)},null,8,["person","onSaved"])):(0,i.kq)("",!0)])),_:1},8,["modelValue"])]))],64)}n(6699);var L=n(9183),F=n(3907),j=n(9028),O=n(8979),z=n(1378);const T={key:0},B=["onClick"];function N(e,t,n,r,a,o){return(0,i.wg)(),(0,i.iD)("div",null,[(0,i._)("ul",null,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(n.suggestions,(t=>((0,i.wg)(),(0,i.iD)("li",{key:t.uuid,class:(0,s.C_)(["flex justify-between my-2",{"text-gray-500":t.alreadyMember}])},[(0,i.WI)(e.$slots,"default",{},(()=>[(0,i.Uk)((0,s.zw)(t.name)+" ",1),t.alreadyMember?((0,i.wg)(),(0,i.iD)("div",T,"Already a member")):((0,i.wg)(),(0,i.iD)("button",{key:1,class:"btn btn-xs",onClick:e=>o.useSuggestion(t)}," Add as member ",8,B))]))],2)))),128))])])}var H={name:"MemberSuggestions",props:{suggestions:{required:!0,type:Array}},emits:["selected"],methods:{useSuggestion(e){this.$emit("selected",e)}}},G=n(3744);const K=(0,G.Z)(H,[["render",N]]);var Y=K,Q=n(3823),X=n(6350),J=n(4643),ee=n(2349);const te=Q.groups;var ne={name:"AddMemberForm",components:{MemberSuggestions:Y,CredentialsView:X.Z,ExpertisesView:J.Z,ProfileForm:ee.Z},props:{uuid:{required:!0,type:String},memberId:{required:!1,default:null}},emits:["saved","canceled","closed"],data(){return{newMember:new z.Z,errors:{},suggestedPeople:[],legendValues:[1,2],showProfileForm:!1,addAnother:!1}},computed:{originalMember(){return this.group.findMember(this.memberId)},nameErrors(){return[this.errors.first_name,this.errors.last_name].flat().filter((e=>e))},needsCredentials(){return!this.newMember.person.credentials||0==this.newMember.person.credentials.length},needsExpertise(){return!this.newMember.person.expertises||0==this.newMember.person.expertises.length},roleRequiresNotification(){return this.newMember.hasRole("coordinator")||this.newMember.hasRole("grant-liaison")}},setup(){const e=(0,F.oR)();let t=(0,i.Fl)((()=>e.getters["groups/currentItemOrNew"]||{})),n=(0,i.Fl)((()=>e.getters["people/all"]||{}));const r=te.roles,s=te.permissions;return{group:t,people:n,roles:r,permissions:s}},watch:{group(){this.syncMember()}},methods:{async getSuggestedPeople(){if(!this.newMember.first_name&&!this.newMember.last_name&&!this.newMember.email)return void(this.suggestedPeople=[]);const e={page:1,"sort[field]":"name","sort[dir]":"ASC","where[first_name]":this.newMember.first_name,"where[last_name]":this.newMember.last_name,"where[email]":this.newMember.email,with:["memberships"]};this.suggestedPeople=await j.hi.get("/api/people",{params:e}).then((e=>e.data.data.map((e=>(e.alreadyMember=this.isAlreadyMember(e),new O.Fc(e))))))},initNewMember(){this.newMember=new z.Z},syncMember(){try{this.memberId&&(this.newMember=this.originalMember.clone())}catch(e){this.group.isPersisted()&&alert(e)}},clearForm(){this.initNewMember()},cancel(){this.clearForm(),this.$emit("canceled")},async saveAndExit(){this.roleRequiresNotification&&(this.newMember.is_contact=!0),await this.save(),this.clearForm(),this.suggestedPeople=[],this.addAnother||this.$emit("saved"),this.newMember.id&&this.$router.replace({name:"AddMember"})},async saveAndEditProfile(){const e=await this.save();this.newMember=new z.Z(e),this.showProfileForm=!0},async save(){try{if(!this.newMember.isPersisted()){if(!this.newMember.person.isPersisted()){const e=await this.inviteNewMember(this.group,this.newMember);return this.$store.commit("pushSuccess",`${e.person.name} invited to join ${e.group.name}`),e}if(this.newMember.person.isPersisted()){const e=await this.addPersonAsMember(this.group,this.newMember);return this.$store.commit("pushSuccess",`${e.person.name} added to ${e.group.name}`),e}}if(this.newMember.isPersisted()){const e=await this.updateExistingMember(this.group,this.newMember);return this.$store.commit("pushSuccess",`${e.person.name}'s membership was updated.`),e}}catch(e){if((0,j.z1)(e))return void(this.errors=e.response.data.errors);throw e}},async inviteNewMember(e,t){const n=await this.$store.dispatch("groups/memberInvite",{uuid:e.uuid,data:{firstName:t.person.first_name,lastName:t.person.last_name,email:t.person.email,roleIds:t.roles.map((e=>e.id)),isContact:t.is_contact,expertise:t.expertise,notes:t.notes,training_level_1:t.training_level_1,training_level_2:t.training_level_2}});return t.permissions.length>0&&await this.$store.dispatch("groups/memberGrantPermission",{uuid:e.uuid,memberId:n.data.id,permissionIds:t.permissions.map((e=>e.id))}),n.data},async addPersonAsMember(e,t){const n={uuid:e.uuid,personId:t.person_id,roleIds:t.roles.map((e=>e.id)),data:{is_contact:t.is_contact,expertise:t.expertise,notes:t.notes,training_level_1:t.training_level_1,training_level_2:t.training_level_2}},i=await this.$store.dispatch("groups/memberAdd",n);return t.permissions.length>0&&await this.$store.dispatch("groups/memberGrantPermission",{uuid:e.uuid,memberId:i.id,permissionIds:t.permissions.map((e=>e.id))}),i},async updateExistingMember(e,t){const n=await this.$store.dispatch("groups/memberUpdate",{groupUuid:e.uuid,memberId:t.id,data:{is_contact:this.newMember.is_contact,expertise:this.newMember.expertise,notes:this.newMember.notes,training_level_1:this.newMember.training_level_1,training_level_2:this.newMember.training_level_2}}).then((e=>e.data));return await this.$store.dispatch("groups/memberSyncRoles",{group:e,member:t}),await this.syncPermissions(e,t),n},async syncPermissions(e,t){const n=e.findMember(this.newMember.id),i=n.permissions.map((e=>e.id)),r=t.permissions.map((e=>e.id)),s=r.filter((e=>!i.includes(e))),a=i.filter((e=>!r.includes(e)));s.length>0&&this.$store.dispatch("groups/memberGrantPermission",{uuid:e.uuid,memberId:t.id,permissionIds:s}),a.forEach((n=>{this.$store.dispatch("groups/memberRevokePermission",{uuid:e.uuid,memberId:t.id,permissionId:n})}))},useExistingPerson(e){this.newMember.person_id=e.id,this.newMember.person=e.clone()},isAlreadyMember(e){return this.group.members.map((e=>e.person.id)).includes(e.id)},handleRoleChange(){},handleProfileUpdate(e){this.newMember.person=e,this.showProfileForm=!1,this.$store.dispatch("groups/getMembers",this.group)}},mounted(){this.initNewMember(),this.syncMember()},created(){this.debounceSuggestions=(0,L.Z)(this.getSuggestedPeople,500)}};const ie=(0,G.Z)(ne,[["render",R],["__scopeId","data-v-6db45f9f"]]);var re=ie},3117:function(e,t,n){"use strict";n.d(t,{Z:function(){return u}});var i=n(6252),r=n(9963);function s(e,t,n,s,a,o){const l=(0,i.up)("button-row");return(0,i.wg)(),(0,i.iD)("div",null,[(0,i.WI)(e.$slots,"default"),(0,i.Wm)(r.uT,{name:"fade-slide-down"},{default:(0,i.w5)((()=>[(0,i.wy)((0,i.Wm)(l,{onSubmitted:t[0]||(t[0]=t=>e.$emit("submitted")),onCanceled:t[1]||(t[1]=t=>e.$emit("canceled")),"submit-text":"Save"},null,512),[[r.F8,n.showControls]])])),_:1})])}var a={name:"SubmissionWrapper",props:{showControls:{type:Boolean,required:!1,default:!0}},emits:["submitted","canceled"],data(){return{}},computed:{},methods:{}},o=n(3744);const l=(0,o.Z)(a,[["render",s]]);var u=l},3318:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return u}});var i=n(6252);const r=(0,i._)("path",{d:"M11 9V5H9v4H5v2h4v4h2v-4h4V9h-4zm-1 11a10 10 0 1 1 0-20 10 10 0 0 1 0 20z"},null,-1);function s(e,t,n,s,a,o){const l=(0,i.up)("icon-base");return(0,i.wg)(),(0,i.j4)(l,null,{default:(0,i.w5)((()=>[r])),_:1})}var a={name:"IconBug",props:{},data(){return{}},computed:{},methods:{}},o=n(3744);const l=(0,o.Z)(a,[["render",s]]);var u=l},7926:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return u}});var i=n(6252);const r=(0,i._)("path",{d:"M7 10V2h6v8h5l-8 8-8-8h5z"},null,-1);function s(e,t,n,s,a,o){const l=(0,i.up)("icon-base");return(0,i.wg)(),(0,i.j4)(l,null,{default:(0,i.w5)((()=>[r])),_:1})}var a={name:"IconBug",props:{},data(){return{}},computed:{},methods:{}},o=n(3744);const l=(0,o.Z)(a,[["render",s]]);var u=l},9007:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return u}});var i=n(6252);const r=(0,i._)("path",{d:"M10 7H2v6h8v5l8-8-8-8v5z"},null,-1);function s(e,t,n,s,a,o){const l=(0,i.up)("icon-base");return(0,i.wg)(),(0,i.j4)(l,null,{default:(0,i.w5)((()=>[r])),_:1})}var a={name:"IconBug",props:{},data(){return{}},computed:{},methods:{}},o=n(3744);const l=(0,o.Z)(a,[["render",s]]);var u=l},48:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return m}});var i=n(6252),r=n(3577);const s=["width","height","aria-labelledby"],a=["id"],o=["fill"],l=(0,i._)("path",{d:"M11.5 11H10V7.5a.5.5 0 0 0-.5-.5h-3a.5.5 0 0 0-.5.5v1a.5.5 0 0 0 .5.5H8v2H6.5a.5.5 0 0 0-.5.5v1a.5.5 0 0 0 .5.5h5a.5.5 0 0 0 .5-.5v-1a.5.5 0 0 0-.5-.5zM16 1H2a1 1 0 0 0-1 1v14a1 1 0 0 0 1 1h14a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1zm-1 13.5a.5.5 0 0 1-.5.5h-11a.5.5 0 0 1-.5-.5v-9a.5.5 0 0 1 .5-.5h11a.5.5 0 0 1 .5.5v9z"},null,-1);function u(e,t,n,u,d,c){return(0,i.wg)(),(0,i.iD)("svg",{xmlns:"http://www.w3.org/2000/svg",width:c.calcWidth,height:c.calcHeight,viewBox:"0 0 20 20","aria-labelledby":n.iconName,role:"presentation"},[(0,i._)("title",{id:n.iconName,lang:"en"},(0,r.zw)(n.iconName),9,a),(0,i._)("g",{fill:n.iconColor},[(0,i.WI)(e.$slots,"default",{},(()=>[l]))],8,o)],8,s)}var d={props:{iconName:{type:String,default:"box"},width:{type:[Number,String],default:18},height:{type:[Number,String],default:18},iconColor:{type:String,default:"currentColor"}},computed:{calcHeight(){return this.height},calcWidth(){return this.width}}},c=n(3744);const p=(0,c.Z)(d,[["render",u]]);var m=p},5089:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return u}});var i=n(6252);const r=(0,i._)("path",{d:"M15.3 14.89l2.77 2.77a1 1 0 0 1 0 1.41 1 1 0 0 1-1.41 0l-2.59-2.58A5.99 5.99 0 0 1 11 18V9.04a1 1 0 0 0-2 0V18a5.98 5.98 0 0 1-3.07-1.51l-2.59 2.58a1 1 0 0 1-1.41 0 1 1 0 0 1 0-1.41l2.77-2.77A5.95 5.95 0 0 1 4.07 13H1a1 1 0 1 1 0-2h3V8.41L.93 5.34a1 1 0 0 1 0-1.41 1 1 0 0 1 1.41 0l2.1 2.1h11.12l2.1-2.1a1 1 0 0 1 1.41 0 1 1 0 0 1 0 1.41L16 8.41V11h3a1 1 0 1 1 0 2h-3.07c-.1.67-.32 1.31-.63 1.89zM15 5H5a5 5 0 1 1 10 0z"},null,-1);function s(e,t,n,s,a,o){const l=(0,i.up)("icon-base");return(0,i.wg)(),(0,i.j4)(l,null,{default:(0,i.w5)((()=>[r])),_:1})}var a={name:"IconBug",props:{},data(){return{}},computed:{},methods:{}},o=n(3744);const l=(0,o.Z)(a,[["render",s]]);var u=l},346:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return u}});var i=n(6252);const r=(0,i._)("path",{d:"M0 11l2-2 5 5L18 3l2 2L7 18z"},null,-1);function s(e,t,n,s,a,o){const l=(0,i.up)("icon-base");return(0,i.wg)(),(0,i.j4)(l,{"icon-name":n.title||"checkmark icon"},{default:(0,i.w5)((()=>[r])),_:1},8,["icon-name"])}var a={props:{title:{required:!1,type:String}}},o=n(3744);const l=(0,o.Z)(a,[["render",s]]);var u=l},6693:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return u}});var i=n(6252);const r=(0,i._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"},null,-1);function s(e,t,n,s,a,o){const l=(0,i.up)("icon-base");return(0,i.wg)(),(0,i.j4)(l,{name:"cheveron-down"},{default:(0,i.w5)((()=>[r])),_:1})}var a={},o=n(3744);const l=(0,o.Z)(a,[["render",s]]);var u=l},2231:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return u}});var i=n(6252);const r=(0,i._)("path",{d:"M7.05 9.293L6.343 10 12 15.657l1.414-1.414L9.172 10l4.242-4.243L12 4.343z"},null,-1);function s(e,t,n,s,a,o){const l=(0,i.up)("icon-base");return(0,i.wg)(),(0,i.j4)(l,{name:"cheveron-left"},{default:(0,i.w5)((()=>[r])),_:1})}var a={},o=n(3744);const l=(0,o.Z)(a,[["render",s]]);var u=l},1923:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return u}});var i=n(6252);const r=(0,i._)("path",{d:"M12.95 10.707l.707-.707L8 4.343 6.586 5.757 10.828 10l-4.242 4.243L8 15.657l4.95-4.95z"},null,-1);function s(e,t,n,s,a,o){const l=(0,i.up)("icon-base");return(0,i.wg)(),(0,i.j4)(l,{name:"cheveron-down"},{default:(0,i.w5)((()=>[r])),_:1})}var a={},o=n(3744);const l=(0,o.Z)(a,[["render",s]]);var u=l},7930:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return u}});var i=n(6252);const r=(0,i._)("path",{d:"M10.707 7.05L10 6.343 4.343 12l1.414 1.414L10 9.172l4.243 4.242L15.657 12z"},null,-1);function s(e,t,n,s,a,o){const l=(0,i.up)("icon-base");return(0,i.wg)(),(0,i.j4)(l,{name:"cheveron-down"},{default:(0,i.w5)((()=>[r])),_:1})}var a={},o=n(3744);const l=(0,o.Z)(a,[["render",s]]);var u=l},8351:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return u}});var i=n(6252);const r=(0,i._)("g",null,[(0,i._)("path",{d:"M10 8.586L2.929 1.515 1.515 2.929 8.586 10l-7.071 7.071 1.414 1.414L10 11.414l7.071 7.071 1.414-1.414L11.414 10l7.071-7.071-1.414-1.414L10 8.586z"})],-1);function s(e,t,n,s,a,o){const l=(0,i.up)("icon-base");return(0,i.wg)(),(0,i.j4)(l,null,{default:(0,i.w5)((()=>[r])),_:1})}var a={},o=n(3744);const l=(0,o.Z)(a,[["render",s]]);var u=l},9175:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return u}});var i=n(6252);const r=(0,i._)("g",null,[(0,i._)("g",{id:"Canvas_1_Layer_1"},[(0,i._)("g",{id:"bolt"},[(0,i._)("path",{d:"M 10.7 9 L 12.3 0.3 L 7.8 13.1 L 10.1 11.6 L 8.2 20.3 L 12.6 7.8 Z"})]),(0,i._)("g",{id:"left"},[(0,i._)("path",{d:"M 3 8.6 L -0.7 8.6 L -0.7 12.8 L 3 12.8 L 3 16.3 L 7.7 10.5 L 3 5.1 Z"})]),(0,i._)("g",{id:"right"},[(0,i._)("path",{d:"M 17.6 12.8 L 21.3 12.8 L 21.3 8.6 L 17.6 8.6 L 17.6 5.1 L 12.9 10.8 L 17.6 16.3 Z"})])])],-1);function s(e,t,n,s,a,o){const l=(0,i.up)("icon-base");return(0,i.wg)(),(0,i.j4)(l,null,{default:(0,i.w5)((()=>[r])),_:1})}var a={},o=n(3744);const l=(0,o.Z)(a,[["render",s]]);var u=l},3883:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return u}});var i=n(6252);const r=(0,i._)("g",null,[(0,i._)("path",{d:"M13 8V2H7v6H2l8 8 8-8h-5zM0 18h20v2H0v-2z"})],-1);function s(e,t,n,s,a,o){const l=(0,i.up)("icon-base");return(0,i.wg)(),(0,i.j4)(l,null,{default:(0,i.w5)((()=>[r])),_:1})}var a={},o=n(3744);const l=(0,o.Z)(a,[["render",s]]);var u=l},5275:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return u}});var i=n(6252);const r=(0,i._)("g",null,[(0,i._)("path",{d:"M12.3 3.7l4 4L4 20H0v-4L12.3 3.7zm1.4-1.4L16 0l4 4-2.3 2.3-4-4z"})],-1);function s(e,t,n,s,a,o){const l=(0,i.up)("icon-base");return(0,i.wg)(),(0,i.j4)(l,{"icon-name":"Edit"},{default:(0,i.w5)((()=>[r])),_:1})}var a={},o=n(3744);const l=(0,o.Z)(a,[["render",s]]);var u=l},9553:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return u}});var i=n(6252);const r=(0,i._)("g",null,[(0,i._)("path",{d:"M18 2a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V4c0-1.1.9-2 2-2h16zm-4.37 9.1L20 16v-2l-5.12-3.9L20 6V4l-10 8L0 4v2l5.12 4.1L0 14v2l6.37-4.9L10 14l3.63-2.9z"})],-1);function s(e,t,n,s,a,o){const l=(0,i.up)("icon-base");return(0,i.wg)(),(0,i.j4)(l,{"icon-name":"Envelope"},{default:(0,i.w5)((()=>[r])),_:1})}var a={name:"EnvelopeIcon"},o=n(3744);const l=(0,o.Z)(a,[["render",s]]);var u=l},9269:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return d}});var i=n(6252);const r={key:0,d:"M2.93 17.07A10 10 0 1 1 17.07 2.93 10 10 0 0 1 2.93 17.07zM9 5v6h2V5H9zm0 8v2h2v-2H9z"},s={key:1,d:"M2.93 17.07A10 10 0 1 1 17.07 2.93 10 10 0 0 1 2.93 17.07zm12.73-1.41A8 8 0 1 0 4.34 4.34a8 8 0 0 0 11.32 11.32zM9 5h2v6H9V5zm0 8h2v2H9v-2z"};function a(e,t,n,a,o,l){const u=(0,i.up)("icon-base");return(0,i.wg)(),(0,i.j4)(u,{"icon-name":n.title||"checkmark icon"},{default:(0,i.w5)((()=>[n.outline?((0,i.wg)(),(0,i.iD)("path",s)):((0,i.wg)(),(0,i.iD)("path",r))])),_:1},8,["icon-name"])}var o={props:{title:{required:!1,type:String},outline:{required:!1,type:Boolean,default:!1}}},l=n(3744);const u=(0,l.Z)(o,[["render",a]]);var d=u},6348:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return d}});var i=n(6252);const r=(0,i._)("path",{d:"M185.818,2.161h-57.04c-4.971,0-9,4.029-9,9s4.029,9,9,9h35.312l-86.3,86.3c-3.515,3.515-3.515,9.213,0,12.728\n\t\tc1.758,1.757,4.061,2.636,6.364,2.636s4.606-0.879,6.364-2.636l86.3-86.3v35.313c0,4.971,4.029,9,9,9s9-4.029,9-9v-57.04\n\t\tC194.818,6.19,190.789,2.161,185.818,2.161z"},null,-1),s=(0,i._)("path",{d:"M149,77.201c-4.971,0-9,4.029-9,9v88.456H18v-122h93.778c4.971,0,9-4.029,9-9s-4.029-9-9-9H9c-4.971,0-9,4.029-9,9v140\n\t\tc0,4.971,4.029,9,9,9h140c4.971,0,9-4.029,9-9V86.201C158,81.23,153.971,77.201,149,77.201z"},null,-1);function a(e,t,n,a,o,l){const u=(0,i.up)("icon-base");return(0,i.wg)(),(0,i.j4)(u,{"icon-name":"external-link"},{default:(0,i.w5)((()=>[r,s])),_:1})}var o={name:"IconExternalLink"},l=n(3744);const u=(0,l.Z)(o,[["render",a]]);var d=u},6211:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return u}});var i=n(6252);const r=(0,i._)("path",{d:"M12 12l8-8V0H0v4l8 8v8l4-4v-4z"},null,-1);function s(e,t,n,s,a,o){const l=(0,i.up)("icon-base");return(0,i.wg)(),(0,i.j4)(l,{"icon-name":n.title||"filter"},{default:(0,i.w5)((()=>[r])),_:1},8,["icon-name"])}var a={props:{title:{required:!1,type:String}}},o=n(3744);const l=(0,o.Z)(a,[["render",s]]);var u=l},8305:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return u}});var i=n(6252);const r=(0,i._)("path",{d:"M2.93 17.07A10 10 0 1 1 17.07 2.93 10 10 0 0 1 2.93 17.07zM9 11v4h2V9H9v2zm0-6v2h2V5H9z"},null,-1);function s(e,t,n,s,a,o){const l=(0,i.up)("icon-base");return(0,i.wg)(),(0,i.j4)(l,{"icon-name":"Info"},{default:(0,i.w5)((()=>[r])),_:1})}var a={name:"IconInfo"},o=n(3744);const l=(0,o.Z)(a,[["render",s]]);var u=l},7380:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return u}});var i=n(6252);const r=(0,i._)("path",{d:"M4 8V6a6 6 0 1 1 12 0v2h1a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2v-8c0-1.1.9-2 2-2h1zm5 6.73V17h2v-2.27a2 2 0 1 0-2 0zM7 6v2h6V6a3 3 0 0 0-6 0z"},null,-1);function s(e,t,n,s,a,o){const l=(0,i.up)("icon-base");return(0,i.wg)(),(0,i.j4)(l,{"icon-name":"iconName"},{default:(0,i.w5)((()=>[r])),_:1})}var a={name:"IconLock",props:{iconName:{required:!1,default:"lock"}},data(){return{}},computed:{},methods:{}},o=n(3744);const l=(0,o.Z)(a,[["render",s]]);var u=l},7877:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return u}});var i=n(6252);const r=(0,i._)("g",null,[(0,i._)("path",{d:"M0 3h20v2H0V3zm0 6h20v2H0V9zm0 6h20v2H0v-2z"})],-1);function s(e,t,n,s,a,o){const l=(0,i.up)("icon-base");return(0,i.wg)(),(0,i.j4)(l,null,{default:(0,i.w5)((()=>[r])),_:1})}var a={},o=n(3744);const l=(0,o.Z)(a,[["render",s]]);var u=l},766:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return u}});var i=n(6252);const r=(0,i._)("g",null,[(0,i._)("path",{d:"M4 8a6 6 0 0 1 4.03-5.67 2 2 0 1 1 3.95 0A6 6 0 0 1 16 8v6l3 2v1H1v-1l3-2V8zm8 10a2 2 0 1 1-4 0h4z"})],-1);function s(e,t,n,s,a,o){const l=(0,i.up)("icon-base");return(0,i.wg)(),(0,i.j4)(l,{"icon-name":n.iconName},{default:(0,i.w5)((()=>[r])),_:1},8,["icon-name"])}var a={props:{iconName:{type:String,required:!1,default:"Notification"}},name:"NotificationIcon"},o=n(3744);const l=(0,o.Z)(a,[["render",s]]);var u=l},8129:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return u}});var i=n(6252);const r=(0,i._)("path",{d:"M4 16H0V6h20v10h-4v4H4v-4zm2-4v6h8v-6H6zM4 0h12v5H4V0zM2 8v2h2V8H2zm4 0v2h2V8H6z"},null,-1);function s(e,t,n,s,a,o){const l=(0,i.up)("icon-base");return(0,i.wg)(),(0,i.j4)(l,null,{default:(0,i.w5)((()=>[r])),_:1})}var a={name:"IconBug",props:{},data(){return{}},computed:{},methods:{}},o=n(3744);const l=(0,o.Z)(a,[["render",s]]);var u=l},6234:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return u}});var i=n(6252);const r=(0,i._)("path",{d:"M10 20a10 10 0 1 1 0-20 10 10 0 0 1 0 20zm2-13c0 .28-.21.8-.42 1L10 9.58c-.57.58-1 1.6-1 2.42v1h2v-1c0-.29.21-.8.42-1L13 9.42c.57-.58 1-1.6 1-2.42a4 4 0 1 0-8 0h2a2 2 0 1 1 4 0zm-3 8v2h2v-2H9z"},null,-1);function s(e,t,n,s,a,o){const l=(0,i.up)("icon-base");return(0,i.wg)(),(0,i.j4)(l,null,{default:(0,i.w5)((()=>[r])),_:1})}var a={name:"IconBug",props:{},data(){return{}},computed:{},methods:{}},o=n(3744);const l=(0,o.Z)(a,[["render",s]]);var u=l},9459:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return u}});var i=n(6252);const r=(0,i._)("g",null,[(0,i._)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,i._)("path",{d:"M10 3v2a5 5 0 0 0-3.54 8.54l-1.41 1.41A7 7 0 0 1 10 3zm4.95 2.05A7 7 0 0 1 10 17v-2a5 5 0 0 0 3.54-8.54l1.41-1.41zM10 20l-4-4 4-4v8zm0-12V0l4 4-4 4z"})])],-1);function s(e,t,n,s,a,o){const l=(0,i.up)("icon-base");return(0,i.wg)(),(0,i.j4)(l,null,{default:(0,i.w5)((()=>[r])),_:1})}var a={props:{},data(){return{}},computed:{},methods:{}},o=n(3744);const l=(0,o.Z)(a,[["render",s]]);var u=l},7989:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return u}});var i=n(6252);const r=(0,i._)("path",{d:"M15 17v-2.99A4 4 0 0 0 11 10H8v5L2 9l6-6v5h3a6 6 0 0 1 6 6v3h-2z"},null,-1);function s(e,t,n,s,a,o){const l=(0,i.up)("icon-base");return(0,i.wg)(),(0,i.j4)(l,null,{default:(0,i.w5)((()=>[r])),_:1})}var a={name:"IconReply",props:{},data(){return{}},computed:{},methods:{}},o=n(3744);const l=(0,o.Z)(a,[["render",s]]);var u=l},7025:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return u}});var i=n(6252);const r=(0,i._)("g",null,[(0,i._)("g",{id:"document"},[(0,i._)("path",{d:"M 4 18 h 12 V 6 h -4 V 2 H 4 v 16 z m -2 1 V 0 h 12 l 4 4 v 16 H 2 v -1 z"})]),(0,i._)("g",{id:"magnifier"},[(0,i._)("path",{transform:"matrix(0.6,0,0,0.6,5.1,4.2)",d:"M 12.1 16.9 C 8.8 19.5 4 19.1 1.2 15.9 C -1.6 12.8 -1.5 8 1.5 5 C 4.5 2 9.3 1.8 12.5 4.6 C 15.7 7.4 16.1 12.2 13.5 15.5 l 5.3 5.3 l -1.4 1.4 l -5.3 -5.3 z M 7.2 16.6 C 10.5 16.6 13.2 14 13.2 10.6 C 13.2 7.3 10.5 4.6 7.2 4.6 C 3.9 4.6 1.2 7.3 1.2 10.6 C 1.2 14 3.9 16.6 7.2 16.6 z"})])],-1);function s(e,t,n,s,a,o){const l=(0,i.up)("icon-base");return(0,i.wg)(),(0,i.j4)(l,null,{default:(0,i.w5)((()=>[r])),_:1})}var a={},o=n(3744);const l=(0,o.Z)(a,[["render",s]]);var u=l},2294:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return u}});var i=n(6252);const r=(0,i._)("g",null,[(0,i._)("path",{d:"M12.9 14.32a8 8 0 1 1 1.41-1.41l5.35 5.33-1.42 1.42-5.33-5.34zM8 14A6 6 0 1 0 8 2a6 6 0 0 0 0 12z"})],-1);function s(e,t,n,s,a,o){const l=(0,i.up)("icon-base");return(0,i.wg)(),(0,i.j4)(l,null,{default:(0,i.w5)((()=>[r])),_:1})}var a={props:{},data(){return{}},computed:{},methods:{}},o=n(3744);const l=(0,o.Z)(a,[["render",s]]);var u=l},657:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return u}});var i=n(6252);const r=(0,i._)("g",null,[(0,i._)("path",{d:"M6 2l2-2h4l2 2h4v2H2V2h4zM3 6h14l-1 14H4L3 6zm5 2v10h1V8H8zm3 0v10h1V8h-1z"})],-1);function s(e,t,n,s,a,o){const l=(0,i.up)("icon-base");return(0,i.wg)(),(0,i.j4)(l,null,{default:(0,i.w5)((()=>[r])),_:1})}var a={},o=n(3744);const l=(0,o.Z)(a,[["render",s]]);var u=l},1425:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return u}});var i=n(6252);const r=(0,i._)("g",null,[(0,i._)("path",{d:"M5 5a5 5 0 0 1 10 0v2A5 5 0 0 1 5 7V5zM0 16.68A19.9 19.9 0 0 1 10 14c3.64 0 7.06.97 10 2.68V20H0v-3.32z"})],-1);function s(e,t,n,s,a,o){const l=(0,i.up)("icon-base");return(0,i.wg)(),(0,i.j4)(l,null,{default:(0,i.w5)((()=>[r])),_:1})}var a={name:"IconUser"},o=n(3744);const l=(0,o.Z)(a,[["render",s]]);var u=l},4964:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return u}});var i=n(6252);const r=(0,i._)("path",{d:"M.2 10a11 11 0 0 1 19.6 0A11 11 0 0 1 .2 10zm9.8 4a4 4 0 1 0 0-8 4 4 0 0 0 0 8zm0-2a2 2 0 1 1 0-4 2 2 0 0 1 0 4z"},null,-1);function s(e,t,n,s,a,o){const l=(0,i.up)("icon-base");return(0,i.wg)(),(0,i.j4)(l,null,{default:(0,i.w5)((()=>[r])),_:1})}var a={name:"IconView"},o=n(3744);const l=(0,o.Z)(a,[["render",s]]);var u=l},9359:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return u}});var i=n(6252);const r=(0,i._)("path",{d:"M12.81 4.36l-1.77 1.78a4 4 0 0 0-4.9 4.9l-2.76 2.75C2.06 12.79.96 11.49.2 10a11 11 0 0 1 12.6-5.64zm3.8 1.85c1.33 1 2.43 2.3 3.2 3.79a11 11 0 0 1-12.62 5.64l1.77-1.78a4 4 0 0 0 4.9-4.9l2.76-2.75zm-.25-3.99l1.42 1.42L3.64 17.78l-1.42-1.42L16.36 2.22z"},null,-1);function s(e,t,n,s,a,o){const l=(0,i.up)("icon-base");return(0,i.wg)(),(0,i.j4)(l,null,{default:(0,i.w5)((()=>[r])),_:1})}var a={name:"IconBug",props:{},data(){return{}},computed:{},methods:{}},o=n(3744);const l=(0,o.Z)(a,[["render",s]]);var u=l},3410:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return u}});var i=n(6252);const r=(0,i._)("path",{"fill-rule":"evenodd",d:"M12.9 14.32a8 8 0 1 1 1.41-1.41l5.35 5.33-1.42 1.42-5.33-5.34zM8 14A6 6 0 1 0 8 2a6 6 0 0 0 0 12zM7 7V5h2v2h2v2H9v2H7V9H5V7h2z"},null,-1);function s(e,t,n,s,a,o){const l=(0,i.up)("icon-base");return(0,i.wg)(),(0,i.j4)(l,null,{default:(0,i.w5)((()=>[r])),_:1})}var a={name:"IconBug",props:{},data(){return{}},computed:{},methods:{}},o=n(3744);const l=(0,o.Z)(a,[["render",s]]);var u=l},1313:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return u}});var i=n(6252);const r=(0,i._)("path",{"fill-rule":"evenodd",d:"M12.9 14.32a8 8 0 1 1 1.41-1.41l5.35 5.33-1.42 1.42-5.33-5.34zM8 14A6 6 0 1 0 8 2a6 6 0 0 0 0 12zM5 7h6v2H5V7z"},null,-1);function s(e,t,n,s,a,o){const l=(0,i.up)("icon-base");return(0,i.wg)(),(0,i.j4)(l,null,{default:(0,i.w5)((()=>[r])),_:1})}var a={name:"IconBug",props:{},data(){return{}},computed:{},methods:{}},o=n(3744);const l=(0,o.Z)(a,[["render",s]]);var u=l},9822:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return d}});var i=n(6252);const r={href:"https://www.clinicalgenome.org/docs/clingen-expert-panel-conflict-of-interest-policy/",target:"coi-policy"},s=(0,i.Uk)("Expert Panel Conflict of Interest Policy");function a(e,t,n,a,o,l){return(0,i.wg)(),(0,i.iD)("a",r,[(0,i.WI)(e.$slots,"default",{},(()=>[s]))])}var o={name:"CoiPolicyLink"},l=n(3744);const u=(0,l.Z)(o,[["render",a]]);var d=u},9126:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return d}});var i=n(6252);const r={href:"https://docs.google.com/document/d/1GeyR1CBqlzLHOdlPLJt0uA29Z-2ysmTX1dtH9PDmqRo/edit?usp=sharing",target:"coordinator-resource"},s=(0,i.Uk)("Coordinator Resource Document");function a(e,t,n,a,o,l){return(0,i.wg)(),(0,i.iD)("a",r,[(0,i.WI)(e.$slots,"default",{},(()=>[s]))])}var o={name:"CoordinatorResourceDocument"},l=n(3744);const u=(0,l.Z)(o,[["render",a]]);var d=u},2838:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return c}});var i=n(6252);const r=["href"],s=(0,i.Uk)("FAQ");function a(e,t,n,a,o,l){return(0,i.wg)(),(0,i.iD)("a",(0,i.dG)(e.$attrs,{href:l.url,target:"FAQ"}),[(0,i.WI)(e.$slots,"default",{},(()=>[s]))],16,r)}const o="https://docs.google.com/document/d/1adqRiW8UYTOKpIfBPWDcA-tO7I9Q5UGGYHVpTP9n-6E";var l={name:"FAQLink",props:{hash:{default:()=>null}},data(){return{}},computed:{url(){return this.hash?o+this.hash:o}},methods:{}},u=n(3744);const d=(0,u.Z)(l,[["render",a]]);var c=d},8817:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return d}});var i=n(6252);const r={href:"https://www.clinicalgenome.org/site/assets/files/3263/gcep_quick_guide_jan_2021.pdf",target:"gcep-quick-guide"},s=(0,i.Uk)("Gcep Quick Guide");function a(e,t,n,a,o,l){return(0,i.wg)(),(0,i.iD)("a",r,[(0,i.WI)(e.$slots,"default",{},(()=>[s]))])}var o={name:"GcepQuickGuideLink"},l=n(3744);const u=(0,l.Z)(o,[["render",a]]);var d=u},9025:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return d}});var i=n(6252);const r={target:"gcep-recuration-process",href:"https://clinicalgenome.org/site/assets/files/2164/clingen_standard_gene-disease_validity_recuration_procedures_v1.pdf"},s=(0,i.Uk)("Gene-Disease Validity Recuration Process document");function a(e,t,n,a,o,l){return(0,i.wg)(),(0,i.iD)("a",r,[(0,i.WI)(e.$slots,"default",{},(()=>[s]))])}var o={name:"GcepRecurationProcessLink",props:{},data(){return{}},computed:{},methods:{}},l=n(3744);const u=(0,l.Z)(o,[["render",a]]);var d=u},9417:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return d}});var i=n(6252);const r={target:"gci",href:"https://curation.clinicalgenome.org/dashboard"},s=(0,i.Uk)("Gene Curation Interface");function a(e,t,n,a,o,l){return(0,i.wg)(),(0,i.iD)("a",r,[(0,i.WI)(e.$slots,"default",{},(()=>[s]))])}var o={name:"GciLink"},l=n(3744);const u=(0,l.Z)(o,[["render",a]]);var d=u},1364:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return d}});var i=n(6252);const r={target:"gene-tracker",href:"https://gene-tracker.clinicalgenome.org"},s=(0,i.Uk)("Gene Tracker");function a(e,t,n,a,o,l){return(0,i.wg)(),(0,i.iD)("a",r,[(0,i.WI)(e.$slots,"default",{},(()=>[s]))])}var o={name:"GeneTrackerLink"},l=n(3744);const u=(0,l.Z)(o,[["render",a]]);var d=u},2947:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return d}});var i=n(6252);const r={target:"lumping-splitting-guidelines",href:"https://clinicalgenome.org/working-groups/lumping-and-splitting/"},s=(0,i.Uk)("ClinGen Lumping and Splitting guidance");function a(e,t,n,a,o,l){return(0,i.wg)(),(0,i.iD)("a",r,[(0,i.WI)(e.$slots,"default",{},(()=>[s]))])}var o={name:"LumpingAndSplittingLink"},l=n(3744);const u=(0,l.Z)(o,[["render",a]]);var d=u},9395:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return u}});var i=n(6252);const r={href:"https://www.clinicalgenome.org/docs/clingen-publication-policy-and-manuscript-concept-form/",target:"publication-policy"};function s(e,t,n,s,a,o){return(0,i.wg)(),(0,i.iD)("a",r,"ClinGen publication policy")}var a={name:"PublicationPolicy"},o=n(3744);const l=(0,o.Z)(a,[["render",s]]);var u=l},1088:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return d}});var i=n(6252);const r={href:"https://clinicalgenome.org/docs/?doc-type=training-materials#list_documentation_table",target:"clinicalgenome"},s=(0,i.Uk)(" training materials ");function a(e,t,n,a,o,l){return(0,i.wg)(),(0,i.iD)("a",r,[(0,i.WI)(e.$slots,"default",{},(()=>[s]))])}var o={name:"TrainingMaterialsLink"},l=n(3744);const u=(0,l.Z)(o,[["render",a]]);var d=u},7078:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return d}});var i=n(6252);const r={href:"https://www.clinicalgenome.org/docs/clingen-variant-curation-expert-panel-vcep-protocol/",target:"vcep-protocol"},s=(0,i.Uk)("VCEP Protocol");function a(e,t,n,a,o,l){return(0,i.wg)(),(0,i.iD)("a",r,[(0,i.WI)(e.$slots,"default",{},(()=>[s]))])}var o={name:"VcepProtocolLink"},l=n(3744);const u=(0,l.Z)(o,[["render",a]]);var d=u},3095:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return d}});var i=n(6252);const r={href:"https://clinicalgenome.org",target:"clinicalgenome.org"},s=(0,i.Uk)("ClinicalGenome.org");function a(e,t,n,a,o,l){return(0,i.wg)(),(0,i.iD)("a",r,[(0,i.WI)(e.$slots,"default",{},(()=>[s]))])}var o={name:"WebsiteLink"},l=n(3744);const u=(0,l.Z)(o,[["render",a]]);var d=u},7568:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return h}});var i=n(6252),r=n(9963),s=n(3577);const a={key:0},o={type:"file",multiple:"",ref:"attachmentsField"},l=(0,i.Uk)('Please note that if you are "Resending" an email, any attachments on the original email must be re-added.');function u(e,t,n,u,d,c){const p=(0,i.up)("recipient-input"),m=(0,i.up)("input-row"),h=(0,i.up)("truncate-expander"),f=(0,i.up)("rich-text-editor"),g=(0,i.up)("note"),v=(0,i.up)("button-row");return(0,i.wg)(),(0,i.iD)("div",null,[(0,i.Wm)(m,{label:"To",errors:c.toErrors},{default:(0,i.w5)((()=>[(0,i.Wm)(p,{modelValue:d.workingCopy.to,"onUpdate:modelValue":t[0]||(t[0]=e=>d.workingCopy.to=e)},null,8,["modelValue"])])),_:1},8,["errors"]),(0,i.Wm)(m,{label:"Cc",errors:d.errors.ccErrors},{default:(0,i.w5)((()=>[(0,i.wy)((0,i.Wm)(p,{modelValue:d.workingCopy.cc,"onUpdate:modelValue":t[1]||(t[1]=e=>d.workingCopy.cc=e)},null,8,["modelValue"]),[[r.F8,d.showCc]]),d.workingCopy.cc&&d.workingCopy.cc.length>0&&!d.showCc?((0,i.wg)(),(0,i.iD)("div",a,[(0,i.Wm)(h,{value:d.workingCopy.cc.map((e=>e.address)).join(", "),"truncate-length":100},null,8,["value"])])):(0,i.kq)("",!0),(0,i._)("button",{class:"btn btn-xs",onClick:t[2]||(t[2]=e=>d.showCc=!d.showCc)},(0,s.zw)(d.showCc?"Hide Cc":"Show Cc"),1)])),_:1},8,["errors"]),(0,i.Wm)(m,{label:"Bcc",errors:c.bccErrors},{default:(0,i.w5)((()=>[(0,i.wy)((0,i.Wm)(p,{modelValue:d.workingCopy.bcc,"onUpdate:modelValue":t[3]||(t[3]=e=>d.workingCopy.bcc=e)},null,8,["modelValue"]),[[r.F8,d.showBcc]]),(0,i._)("button",{class:"btn btn-xs",onClick:t[4]||(t[4]=e=>d.showBcc=!d.showBcc)},(0,s.zw)(d.showBcc?"Hide Bcc":"Show Bcc"),1)])),_:1},8,["errors"]),(0,i.Wm)(m,{label:"Subject",errors:d.errors.subject},{default:(0,i.w5)((()=>[(0,i.wy)((0,i._)("input",{type:"text","onUpdate:modelValue":t[5]||(t[5]=e=>d.workingCopy.subject=e),class:"w-full"},null,512),[[r.nr,d.workingCopy.subject]])])),_:1},8,["errors"]),(0,i.Wm)(m,{label:"Body",errors:d.errors.body},{default:(0,i.w5)((()=>[(0,i.Wm)(f,{modelValue:d.workingCopy.body,"onUpdate:modelValue":t[6]||(t[6]=e=>d.workingCopy.body=e)},null,8,["modelValue"])])),_:1},8,["errors"]),(0,i.Wm)(m,{label:"Attachments",errors:d.errors.attachments},{default:(0,i.w5)((()=>[(0,i._)("input",o,null,512),(0,i.Wm)(g,{class:"mt-2"},{default:(0,i.w5)((()=>[l])),_:1})])),_:1},8,["errors"]),(0,i.Wm)(v,{"submit-text":"Send",onSubmitted:c.sendMail,onCancel:t[7]||(t[7]=t=>e.$emit("canceled"))},null,8,["onSubmitted"])])}var d=n(9028),c={name:"CustomEmailForm",props:{mailData:{type:Object,required:!1}},data(){return{workingCopy:{},showBcc:!1,showCc:!1,errors:{}}},computed:{toErrors(){return this.assembleErrorsForAddressField("to")},ccErrors(){return this.assembleErrorsForAddressField("cc")},bccErrors(){return this.assembleErrorsForAddressField("bcc")}},watch:{mailData:{immediate:!0,handler(e){this.workingCopy=e||{},this.showCc=!1,null!==this.workingCopy.cc&&this.workingCopy.cc!==[]&&(this.showCc=!0),this.showBcc=!1,null!==this.workingCopy.bcc&&this.workingCopy.bcc!==[]&&(this.showBcc=!0)}}},methods:{async sendMail(){try{this.cleanData(),await d.hi.post("/api/mail",this.workingCopy),this.$emit("sent"),this.errors={}}catch(e){if((0,d.z1)(e))return void(this.errors=e.response.data.errors);throw e}},cleanData(){this.workingCopy.to=this.workingCopy.to?this.workingCopy.to.filter((e=>""!==e.address)):null,this.workingCopy.cc=this.workingCopy.cc?this.workingCopy.cc.filter((e=>""!==e.address)):null,this.workingCopy.bcc=this.workingCopy.bcc?this.workingCopy.bcc.filter((e=>""!==e.address)):null},assembleErrorsForAddressField(e){let t=[];const n=new RegExp(`${e}.\\d+.address`);Object.keys(this.errors).filter((e=>e.match(n))).forEach((e=>{t=[...t,...this.errors[e]]}));const i=new Set([...this.errors.to||[],...t]);return[...i]}}},p=n(3744);const m=(0,p.Z)(c,[["render",u]]);var h=m},737:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return g}});var i=n(6252),r=n(3577);const s={class:"flex-none"},a=(0,i.Uk)("--"),o={key:1},l=(0,i.Uk)("--"),u={key:1},d=["innerHTML"],c={class:"mt-2 border-t pt-2 text-right"};function p(e,t,n,p,m,h){const f=(0,i.up)("dictionary-row"),g=(0,i.up)("note");return(0,i.wg)(),(0,i.iD)("div",null,[(0,i.Wm)(f,{label:"To","label-class":"font-bold w-36",class:"mb-1 border-b"},{default:(0,i.w5)((()=>[(0,i._)("div",s,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(n.mail.to,(e=>((0,i.wg)(),(0,i.iD)("div",{key:e.address},(0,r.zw)(e.address),1)))),128))])])),_:1}),(0,i.Wm)(f,{label:"From","label-class":"font-bold w-36",class:"mb-1 border-b"},{default:(0,i.w5)((()=>[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(n.mail.from,(e=>((0,i.wg)(),(0,i.iD)("div",{key:e.address},(0,r.zw)(e.address),1)))),128))])),_:1}),(0,i.Wm)(f,{label:"Cc","label-class":"font-bold w-36",class:"mb-1 border-b"},{default:(0,i.w5)((()=>[n.mail.cc?((0,i.wg)(),(0,i.iD)("ul",o,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(n.mail.cc,(e=>((0,i.wg)(),(0,i.iD)("li",{key:e.address},(0,r.zw)(e.address),1)))),128))])):((0,i.wg)(),(0,i.j4)(g,{key:0},{default:(0,i.w5)((()=>[a])),_:1}))])),_:1}),(0,i.Wm)(f,{label:"Bcc","label-class":"font-bold w-36",class:"mb-1 border-b"},{default:(0,i.w5)((()=>[n.mail.bcc?((0,i.wg)(),(0,i.iD)("ul",u,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(n.mail.bcc,(e=>((0,i.wg)(),(0,i.iD)("li",{key:e.address},(0,r.zw)(e.address),1)))),128))])):((0,i.wg)(),(0,i.j4)(g,{key:0},{default:(0,i.w5)((()=>[l])),_:1}))])),_:1}),(0,i.Wm)(f,{label:"Subject","label-class":"font-bold w-36",class:"mb-1 border-b"},{default:(0,i.w5)((()=>[(0,i.Uk)((0,r.zw)(n.mail.subject),1)])),_:1}),(0,i.Wm)(f,{label:"Body","label-class":"font-bold w-36",class:"mb-1"},{default:(0,i.w5)((()=>[(0,i._)("div",{innerHTML:n.mail.body,class:"email-body w-3/4"},null,8,d)])),_:1}),(0,i._)("div",c,[(0,i._)("button",{class:"btn",onClick:t[0]||(t[0]=t=>e.$emit("resend"))},"Resend")])])}var m={name:"MailDetail",props:{mail:{type:Object,required:!0}},data(){return{}},computed:{},methods:{}},h=n(3744);const f=(0,h.Z)(m,[["render",p]]);var g=f},2634:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return d}});var i=n(6252),r=n(9963);function s(e,t,n,s,a,o){return(0,i.wg)(),(0,i.iD)("div",null,[(0,i.wy)((0,i._)("textarea",{rows:"5",class:"w-full","onUpdate:modelValue":t[0]||(t[0]=e=>o.recipientsString=e)},null,512),[[r.nr,o.recipientsString]])])}var a=n(6486),o={name:"RecipientInput",props:{modelValue:{type:Array,default:()=>[]}},data(){return{newRecipients:[]}},computed:{recipientsString:{get(){return this.modelValue?this.modelValue.map((e=>e.address)).join("\n"):""},set(e){this.debounceInput(e)}}},methods:{},created(){this.debounceInput=(0,a.debounce)((e=>{const t=new RegExp(/[\n,;]/),n=e.split(t).map((e=>({name:null,address:e.trim()}))).filter((e=>null!==e.address));this.$emit("update:modelValue",n)}),1e3)}},l=n(3744);const u=(0,l.Z)(o,[["render",s]]);var d=u},6350:function(e,t,n){"use strict";n.d(t,{Z:function(){return u}});var i=n(6252),r=n(3577),s=n(2262);const a=(0,i.Uk)("(Legacy data)");var o={__name:"CredentialsView",props:{person:{type:Object,default:()=>({credentials:[],legacy_credentials:null})}},setup(e){const t=e,n=(0,i.Fl)((()=>!!(t.person.credentials&&t.person.credentials.length>0))),o=(0,i.Fl)((()=>Boolean(t.person.legacy_credentials))),l=(0,i.Fl)((()=>n.value?t.person.credentials.map((e=>e.name)).join(", "):t.person.legacy_credentials||"--"));return(e,t)=>{const u=(0,i.up)("note");return(0,i.wg)(),(0,i.iD)("span",null,[(0,i.Uk)((0,r.zw)((0,s.SU)(l))+" ",1),!(0,s.SU)(n)&&(0,s.SU)(o)?((0,i.wg)(),(0,i.j4)(u,{key:0},{default:(0,i.w5)((()=>[a])),_:1})):(0,i.kq)("",!0)])}}};const l=o;var u=l},4643:function(e,t,n){"use strict";n.d(t,{Z:function(){return p}});var i=n(6252),r=n(2262),s=n(3577);const a={key:0},o={key:1},l=(0,i.Uk)("(Legacy data)"),u={key:2};var d={__name:"ExpertisesView",props:{person:{type:Object,default:()=>({credentials:[],legacy_credentials:null})},legacyExpertise:{required:!1}},setup(e){const t=e,n=(0,i.Fl)((()=>t.person.expertises&&t.person.expertises.length>0));return(e,d)=>{const c=(0,i.up)("note");return(0,i.wg)(),(0,i.iD)("span",null,[(0,r.SU)(n)?((0,i.wg)(),(0,i.iD)("span",a,(0,s.zw)(t.person.expertises.map((e=>e.name)).join(", ")),1)):t.legacyExpertise?((0,i.wg)(),(0,i.iD)("span",o,[(0,i.Uk)((0,s.zw)(t.legacyExpertise)+" ",1),(0,i.Wm)(c,{class:"inline"},{default:(0,i.w5)((()=>[l])),_:1})])):((0,i.wg)(),(0,i.iD)("span",u," -- "))])}}};const c=d;var p=c},2349:function(e,t,n){"use strict";n.d(t,{Z:function(){return S}});var i=n(6252),r=n(2262),s=n(3907),a=n(284),o=n(9700),l=n(377),u=n(865),d=n(6645),c=n(1350),p=n(9298),m=n(6394),h=n(4386);const f={key:0},g={key:1,class:"float-right"},v=(0,i.Uk)(" Credentials "),w=(0,i._)("div",{class:"text-xs cursor-pointer text-blue-600"},"What is this?",-1),b=(0,i._)("div",{style:{"max-width":"500px"}},[(0,i._)("h4",null,"What do you mean by credentials?"),(0,i._)("p",null," Credentials are any degrees or professional certifications you have earned. Typically, these will be the acronyms you list after your name on your CV. "),(0,i._)("p",null," We recommend choosing one or more options already in the list of credentials, but if you do not see yours feel free to add it. "),(0,i._)("p",null," Please do not include current job titles or specific. If you would like to add that information to your profile please do so in the biography field below. ")],-1),y=(0,i.Uk)(" Area of Expertise "),_=(0,i._)("div",{class:"text-xs cursor-pointer text-blue-600"},"What is this?",-1),k=(0,i._)("div",{style:{"max-width":"500px"}},[(0,i._)("h4",null,[(0,i.Uk)("What do you mean by "),(0,i._)("em",null,"Area of Expertise"),(0,i.Uk)("?")]),(0,i._)("p",null," We use this information to determine if the make up of gene and variant expert panels includes the breadth of expertise needed to do it's work. "),(0,i._)("p",null," Please choose the option from list that best describes your area of expertise. If you don't feel any of these options fit, select 'None'. ")],-1),C=(0,i._)("hr",{class:"my-4"},null,-1),I={key:7,class:"mb-2"};var x={__name:"ProfileForm",props:{person:{type:Object,required:!0},showTitle:{type:Boolean,default:!0},allowCancel:{type:Boolean,default:!0},saveButtonText:{type:String,default:"Save"}},emits:["saved","canceled"],setup(e,{emit:t}){const n=e,x=(0,s.oR)(),D=(0,r.iH)({}),S=(0,r.iH)({}),A=(0,r.iH)(!1),$=()=>{n.person.clone?S.value={...n.person.attributes}:S.value={...n.person},S.value.credential_ids=n.person.credentials?n.person.credentials.map((e=>e.id)):null},V=async()=>{try{S.value.credentials&&(S.value.credential_ids=S.value.credentials.map((e=>e.id))),S.value.expertises&&(S.value.expertise_ids=S.value.expertises.map((e=>e.id))),A.value=!0;const e=await x.dispatch("people/updateProfile",{uuid:n.person.uuid,attributes:S.value}).then((e=>(x.dispatch("getCurrentUser",{force:!0}),x.commit("pushSuccess","Your profile has been updated."),e.data)));A.value=!1,D.value={},t("saved",new a.Z(e))}catch(e){(0,o.Z)(e)&&(D.value=e.response.data.errors)}},U=()=>{$(),D.value={},t("canceled")},P=(0,i.Fl)((()=>(0,u.Fs)("people-manage")||(0,u.eS)(n.person)));(0,i.YP)((()=>n.person),(()=>{$()}),{immediate:!0});const M=(0,i.Fl)((()=>x.getters["countries/items"].map((e=>({value:e.id,label:e.name})))));return(0,i.bv)((()=>{x.dispatch("countries/getItems")})),(t,n)=>{const s=(0,i.up)("input-row"),a=(0,i.up)("popover"),o=(0,i.up)("button-row");return(0,i.wg)(),(0,i.iD)("div",null,[e.showTitle?((0,i.wg)(),(0,i.iD)("h3",f,"Profile")):(0,i.kq)("",!0),(0,r.SU)(u.Fs)("people-manage")||(0,r.SU)(u.eS)(e.person)?((0,i.wg)(),(0,i.iD)("div",g,[(0,i.Wm)(l.Z,{person:e.person,style:{width:"100px",height:"100px"}},null,8,["person"])])):(0,i.kq)("",!0),(0,i.Wm)(s,{label:"First Name",modelValue:S.value.first_name,"onUpdate:modelValue":n[0]||(n[0]=e=>S.value.first_name=e),errors:D.value.first_name},null,8,["modelValue","errors"]),(0,i.Wm)(s,{label:"Last Name",modelValue:S.value.last_name,"onUpdate:modelValue":n[1]||(n[1]=e=>S.value.last_name=e),errors:D.value.last_name},null,8,["modelValue","errors"]),(0,i.Wm)(s,{label:"Email",modelValue:S.value.email,"onUpdate:modelValue":n[2]||(n[2]=e=>S.value.email=e),errors:D.value.email},null,8,["modelValue","errors"]),(0,i.Wm)(s,{label:"Institution",errors:D.value.institution_id},{default:(0,i.w5)((()=>[(0,i.Wm)(d["default"],{modelValue:S.value.institution_id,"onUpdate:modelValue":n[3]||(n[3]=e=>S.value.institution_id=e)},null,8,["modelValue"])])),_:1},8,["errors"]),(0,i.Wm)(s,{errors:D.value.credential_ids},{label:(0,i.w5)((()=>[v,(0,i._)("div",null,[(0,i.Wm)(a,{hover:"",arrow:""},{content:(0,i.w5)((()=>[b])),default:(0,i.w5)((()=>[w])),_:1})])])),default:(0,i.w5)((()=>[(0,i.Wm)(m["default"],{modelValue:S.value.credentials,"onUpdate:modelValue":n[4]||(n[4]=e=>S.value.credentials=e)},null,8,["modelValue"])])),_:1},8,["errors"]),(0,i.Wm)(s,{errors:D.value.expertise_ids},{label:(0,i.w5)((()=>[y,(0,i._)("div",null,[(0,i.Wm)(a,{hover:"",arrow:""},{content:(0,i.w5)((()=>[k])),default:(0,i.w5)((()=>[_])),_:1})])])),default:(0,i.w5)((()=>[(0,i.Wm)(h["default"],{modelValue:S.value.expertises,"onUpdate:modelValue":n[5]||(n[5]=e=>S.value.expertises=e)},null,8,["modelValue"])])),_:1},8,["errors"]),(0,r.SU)(P)?((0,i.wg)(),(0,i.j4)(s,{key:2,label:"Biography",modelValue:S.value.biography,"onUpdate:modelValue":n[6]||(n[6]=e=>S.value.biography=e),errors:D.value.biography,type:"large-text"},null,8,["modelValue","errors"])):(0,i.kq)("",!0),(0,r.SU)(P)?((0,i.wg)(),(0,i.j4)(s,{key:3,label:"Address"},{default:(0,i.w5)((()=>[(0,i.Wm)(c["default"],{modelValue:S.value,"onUpdate:modelValue":n[7]||(n[7]=e=>S.value=e),errors:D.value},null,8,["modelValue","errors"])])),_:1})):(0,i.kq)("",!0),(0,r.SU)(P)?((0,i.wg)(),(0,i.j4)(s,{key:4,label:"Country",modelValue:S.value.country_id,"onUpdate:modelValue":n[8]||(n[8]=e=>S.value.country_id=e),type:"select",options:(0,r.SU)(M),errors:D.value.country_id},null,8,["modelValue","options","errors"])):(0,i.kq)("",!0),(0,r.SU)(P)?((0,i.wg)(),(0,i.j4)(s,{key:5,label:"Phone",modelValue:S.value.phone,"onUpdate:modelValue":n[9]||(n[9]=e=>S.value.phone=e),errors:D.value.phone},null,8,["modelValue","errors"])):(0,i.kq)("",!0),(0,r.SU)(P)?((0,i.wg)(),(0,i.j4)(s,{key:6,label:"Timezone",errors:D.value.timezone},{default:(0,i.w5)((()=>[(0,i.Wm)(p["default"],{modelValue:S.value.timezone,"onUpdate:modelValue":n[10]||(n[10]=e=>S.value.timezone=e)},null,8,["modelValue"])])),_:1},8,["errors"])):(0,i.kq)("",!0),C,A.value?((0,i.wg)(),(0,i.iD)("div",I,"Saving...")):(0,i.kq)("",!0),A.value?(0,i.kq)("",!0):((0,i.wg)(),(0,i.j4)(o,{key:8,onSubmitted:V,onCanceled:n[11]||(n[11]=e=>U()),"submit-text":e.saveButtonText,"show-cancel":e.allowCancel},null,8,["submit-text","show-cancel"]))])}}};const D=x;var S=D},377:function(e,t,n){"use strict";n.d(t,{Z:function(){return h}});var i=n(6252),r=n(3577);const s={class:"border border-gray-200 rounded-lg"},a=["src","alt"],o={key:1};function l(e,t,n,l,u,d){const c=(0,i.up)("ImageCropper"),p=(0,i.up)("input-row"),m=(0,i.up)("button-row"),h=(0,i.up)("modal-dialog");return(0,i.wg)(),(0,i.iD)("div",{class:(0,r.C_)({"cursor-wait":u.saving})},[(0,i._)("div",s,[(0,i._)("img",{src:d.srcPath,alt:d.altText,class:"rounded-t-lg w-full",onClick:t[0]||(t[0]=(...e)=>d.initUpload&&d.initUpload(...e))},null,8,a),(0,i._)("button",{onClick:t[1]||(t[1]=(...e)=>d.initUpload&&d.initUpload(...e)),class:"border border-t-0 bg-gray-200 block w-full"}," Edit ")]),((0,i.wg)(),(0,i.j4)(i.lR,{to:"body"},[(0,i.Wm)(h,{modelValue:u.showForm,"onUpdate:modelValue":t[3]||(t[3]=e=>u.showForm=e),title:"Upload a new profile photo"},{default:(0,i.w5)((()=>[(0,i.Wm)(c,{"image-src":d.srcPath,onCropped:d.setCroppedImageBlob},null,8,["image-src","onCropped"]),(0,i.Wm)(p,{hideLabel:"",errors:u.errors.profile_photo},{default:(0,i.w5)((()=>[(0,i._)("input",{type:"file",onChange:t[2]||(t[2]=(...e)=>d.setFile&&d.setFile(...e)),ref:"fileInput"},null,544)])),_:1},8,["errors"]),u.saving?((0,i.wg)(),(0,i.iD)("div",o,"Saving...")):((0,i.wg)(),(0,i.j4)(m,{key:0,"submit-text":"Save",onSubmitted:d.saveCropped,onCanceled:d.cancelCropped},null,8,["onSubmitted","onCanceled"]))])),_:1},8,["modelValue"])]))],2)}var u=n(6058),d=n(9028),c={name:"ProfilePhotoForm",components:{ImageCropper:u["default"]},props:{person:{type:Object,required:!0}},data(){return{showForm:!1,file:null,croppedImageBlob:null,errors:{},saving:!1}},watch:{person:{immediate:!0,deep:!0,handler(e){e.profile_photo&&this.fetchProfileImage()}}},computed:{srcPath(){return this.file?URL.createObjectURL(this.file):this.person.profile_photo?`/profile-photos/${this.person.profile_photo}`:"/images/default_profile.jpg"},profilePhoto(){return this.person.profile_photo?`/profile-photos/${this.person.profile_photo}`:"/images/default_profile.jpg"},altText(){return this.person.profile_photo_path?`${this.person.name} profile photo.`:"Default profile image"}},methods:{initUpload(){this.showForm=!0,this.$nextTick((()=>{window.dispatchEvent(new Event("resize"))}))},setFile(){this.file=this.$refs.fileInput.files[0]},setCroppedImageBlob(e){this.croppedImageBlob=e},async fetchProfileImage(){const e=`/api/people/${this.person.uuid}/profile-photo`,t={Accept:"application/octet-stream",timeout:3e4,responseType:"blob"};this.file=await d.hi.get(e,t).then((e=>{if(e.data instanceof Blob)return new Blob([e.data])}))},saveCropped(){if(this.croppedImageBlob.size>1e6){const e=400;createImageBitmap(this.croppedImageBlob).then((t=>{const n=document.createElement("canvas"),i=n.getContext("2d");n.width=e,n.height=e*t.height/t.width,i.drawImage(t,0,0,n.width,n.height),n.toBlob((e=>{e.size>1e6?this.errors.profile_photo=["The image is too large, even after resizing."]:(delete this.errors.profile_photo,this.storeImage(e))}),"image/jpeg",.5)}))}else delete this.errors.profile_photo,this.storeImage(this.croppedImageBlob)},storeImage(e){this.saving=!0;const t=new FormData;t.append("profile_photo",e),d.hi.post(`/api/people/${this.person.uuid}/profile-photo`,t).then((()=>{this.$store.dispatch("people/getPerson",{uuid:this.person.uuid}),this.showForm=!1,this.file=null,this.saving=!1})).catch((e=>{if(this.saving=!1,(0,d.z1)(e))this.errors=e.response.data.errors;else{if(413!==e.response.status)throw e;this.errors.profile_photo=["The image is too large."]}}))},cancelCropped(){this.showForm=!1,this.file=null}}},p=n(3744);const m=(0,p.Z)(c,[["render",l]]);var h=m},1501:function(e,t,n){var i={"./Alert":1118,"./Alert.vue":1118,"./AlertViewer":5913,"./AlertViewer.vue":5913,"./AnnouncementControl":7959,"./AnnouncementControl.vue":7959,"./CoiAlert":7150,"./CoiAlert.vue":7150,"./StaticAlert":9035,"./StaticAlert.vue":9035,"./SustainedCurationReviewAlert":4344,"./SustainedCurationReviewAlert.vue":4344};function r(e){var t=s(e);return n(t)}function s(e){if(!n.o(i,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return i[e]}r.keys=function(){return Object.keys(i)},r.resolve=s,e.exports=r,r.id=1501},765:function(e,t,n){var i={"./CheckmarkIconButton":429,"./CheckmarkIconButton.vue":429,"./EditIconButton":8938,"./EditIconButton.vue":8938,"./RefreshButton":9455,"./RefreshButton.vue":9455,"./RemoveButton":2691,"./RemoveButton.vue":2691,"./TrashIconButton":1682,"./TrashIconButton.vue":1682};function r(e){var t=s(e);return n(t)}function s(e){if(!n.o(i,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return i[e]}r.keys=function(){return Object.keys(i)},r.resolve=s,e.exports=r,r.id=765},7032:function(e,t,n){var i={"./DevComponent":5647,"./DevComponent.vue":5647,"./DevTodo":7802,"./DevTodo.vue":7802};function r(e){var t=s(e);return n(t)}function s(e){if(!n.o(i,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return i[e]}r.keys=function(){return Object.keys(i)},r.resolve=s,e.exports=r,r.id=7032},7563:function(e,t,n){var i={"./AddressInput":1350,"./AddressInput.vue":1350,"./ButtonRow":7287,"./ButtonRow.vue":7287,"./Checkbox":6730,"./Checkbox.vue":6730,"./CredentialsInput":6394,"./CredentialsInput.vue":6394,"./DataForm":1327,"./DataForm.vue":1327,"./DataFormField":8204,"./DataFormField.vue":8204,"./DateInput":6785,"./DateInput.vue":6785,"./DiseaseSearchSelect":42,"./DiseaseSearchSelect.vue":42,"./ExpertisesInput":4386,"./ExpertisesInput.vue":4386,"./FormContainer":3077,"./FormContainer.vue":3077,"./GeneSearchSelect":6009,"./GeneSearchSelect.vue":6009,"./InputErrors":9370,"./InputErrors.vue":9370,"./InputRow":125,"./InputRow.vue":125,"./InstitutionSearchSelect":6645,"./InstitutionSearchSelect.vue":6645,"./PersonSearchSelect":9641,"./PersonSearchSelect.vue":9641,"./RadioButton":8956,"./RadioButton.vue":8956,"./RadioButtonGroup":7228,"./RadioButtonGroup.vue":7228,"./RichTextEditor":2584,"./RichTextEditor.vue":2584,"./SearchSelect":8612,"./SearchSelect.vue":8612,"./StepInput":703,"./StepInput.vue":703,"./TimezoneSearchSelect":9298,"./TimezoneSearchSelect.vue":9298,"./UserDefinedMailForm":9334,"./UserDefinedMailForm.vue":9334,"./WebsiteAttestation":7296,"./WebsiteAttestation.vue":7296};function r(e){var t=s(e);return n(t)}function s(e){if(!n.o(i,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return i[e]}r.keys=function(){return Object.keys(i)},r.resolve=s,e.exports=r,r.id=7563},2716:function(e,t,n){var i={"./IconAdd":3318,"./IconAdd.vue":3318,"./IconArrowDown":7926,"./IconArrowDown.vue":7926,"./IconArrowRight":9007,"./IconArrowRight.vue":9007,"./IconBase":48,"./IconBase.vue":48,"./IconBug":5089,"./IconBug.vue":5089,"./IconCheckmark":346,"./IconCheckmark.vue":346,"./IconCheveronDown":6693,"./IconCheveronDown.vue":6693,"./IconCheveronLeft":2231,"./IconCheveronLeft.vue":2231,"./IconCheveronRight":1923,"./IconCheveronRight.vue":1923,"./IconCheveronUp":7930,"./IconCheveronUp.vue":7930,"./IconClose":8351,"./IconClose.vue":8351,"./IconCoi":9175,"./IconCoi.vue":9175,"./IconDownload":3883,"./IconDownload.vue":3883,"./IconEdit":5275,"./IconEdit.vue":5275,"./IconEnvelope":9553,"./IconEnvelope.vue":9553,"./IconExclamation":9269,"./IconExclamation.vue":9269,"./IconExternalLink":6348,"./IconExternalLink.vue":6348,"./IconFilter":6211,"./IconFilter.vue":6211,"./IconInfo":8305,"./IconInfo.vue":8305,"./IconLock":7380,"./IconLock.vue":7380,"./IconMenu":7877,"./IconMenu.vue":7877,"./IconNotification":766,"./IconNotification.vue":766,"./IconPrinter":8129,"./IconPrinter.vue":8129,"./IconQuestion":6234,"./IconQuestion.vue":6234,"./IconRefresh":9459,"./IconRefresh.vue":9459,"./IconReply":7989,"./IconReply.vue":7989,"./IconReview":7025,"./IconReview.vue":7025,"./IconSearch":2294,"./IconSearch.vue":2294,"./IconTrash":657,"./IconTrash.vue":657,"./IconUser":1425,"./IconUser.vue":1425,"./IconView":4964,"./IconView.vue":4964,"./IconViewHide":9359,"./IconViewHide.vue":9359,"./ZoomInIcon":3410,"./ZoomInIcon.vue":3410,"./ZoomOutIcon":1313,"./ZoomOutIcon.vue":1313};function r(e){var t=s(e);return n(t)}function s(e){if(!n.o(i,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return i[e]}r.keys=function(){return Object.keys(i)},r.resolve=s,e.exports=r,r.id=2716},9738:function(e,t,n){var i={"./CoiPolicyLink":9822,"./CoiPolicyLink.vue":9822,"./CoordinatorResourceLink":9126,"./CoordinatorResourceLink.vue":9126,"./FaqLink":2838,"./FaqLink.vue":2838,"./GcepQuickGuideLink":8817,"./GcepQuickGuideLink.vue":8817,"./GcepRecurationProcessLink":9025,"./GcepRecurationProcessLink.vue":9025,"./GciLink":9417,"./GciLink.vue":9417,"./GeneTrackerLink":1364,"./GeneTrackerLink.vue":1364,"./LumpingAndSplittingLink":2947,"./LumpingAndSplittingLink.vue":2947,"./PublicationPolicyLink":9395,"./PublicationPolicyLink.vue":9395,"./TrainingMaterialsLink":1088,"./TrainingMaterialsLink.vue":1088,"./VcepProtocolLink":7078,"./VcepProtocolLink.vue":7078,"./WebsiteLink":3095,"./WebsiteLink.vue":3095};function r(e){var t=s(e);return n(t)}function s(e){if(!n.o(i,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return i[e]}r.keys=function(){return Object.keys(i)},r.resolve=s,e.exports=r,r.id=9738},6698:function(e,t,n){var i={"./CustomEmailForm":7568,"./CustomEmailForm.vue":7568,"./MailDetail":737,"./MailDetail.vue":737,"./RecipientInput":2634,"./RecipientInput.vue":2634};function r(e){var t=s(e);return n(t)}function s(e){if(!n.o(i,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return i[e]}r.keys=function(){return Object.keys(i)},r.resolve=s,e.exports=r,r.id=6698},6660:function(e,t,n){var i={"./Badge.vue":39,"./Breadcrumbs.vue":5146,"./Card.vue":2192,"./Collapsible.vue":1299,"./DataTable.vue":1365,"./DictionaryRow.vue":7789,"./DownloadLink.vue":331,"./DropdownItem.vue":2839,"./DropdownMenu.vue":525,"./HelpButton.vue":5065,"./ImageCropper.vue":6058,"./ImpersonateControl.vue":43,"./IssueReportForm.vue":3296,"./LoginForm.vue":1411,"./MarkdownBlock.vue":4332,"./ModalDialog.vue":807,"./Note.vue":3388,"./NotificationItem.vue":6608,"./NotificationList.vue":6553,"./ObjectDictionary.vue":7372,"./PaginationLinks.vue":3257,"./PopOver.vue":4237,"./PubmedCitation.vue":2966,"./QuestionBlock.vue":7890,"./ScreenTemplate.vue":9592,"./SimpleTable.vue":4340,"./TabItem.vue":688,"./TabsContainer.vue":2640,"./TruncateExpander.vue":6921,"./UserMenu.vue":8081};function r(e){var t=s(e);return n(t)}function s(e){if(!n.o(i,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return i[e]}r.keys=function(){return Object.keys(i)},r.resolve=s,e.exports=r,r.id=6660},3823:function(e){"use strict";e.exports=JSON.parse('{"expertPanels":{"notifications":{"cc":{"steps":[1,4],"recipients":[["cdwg_oversightcommittee@clinicalgenome.org","CDWG Oversite Committee"],["clingentrackerhelp@unc.edu","Clingen Tracker Help"],["volunteer@clinicalgenome.org","CCDB Support"],["erepo@clinicalgenome.org","ERepo Support"],["clingen-helpdesk@lists.stanford.edu","GCI/VCI Support"]]}},"steps":{"1":"Group Definition","2":"Draft Specifications","3":"Pilot Specifications","4":"Sustained Curation"}},"nextActions":{"assignees":{"cdwg-oc":{"name":"CDWG OC","short_name":"CDWG","id":1},"expert-panel":{"name":"Expert Panel","short_name":"EP","id":2},"svi-vcep-review-committee":{"name":"SVI VCEP Review Committee","short_name":"SVI","id":3},"gene-curation-core-group":{"name":"Gene Curation Core Group","short_name":"GC","id":4},"chairs":{"name":"CDWG OC chairs","short_name":"Chairs","id":5}},"types":{"review-submission":{"id":1,"name":"review submission","description":"Admin group should review submission","default_entry":"Review application and respond to EP."},"make-revisions":{"id":2,"name":"make revisions","description":"The group has application revisions to complted","default_entry":"Update application and resubmit for approval."},"chair-review":{"id":3,"name":"chair review","description":"Chairs should review the application and provide feedback","default_entry":"Chairs review application and provide feedback."}}},"mailFrom":{"address":"gpm-test@test.com","name":"GPM"},"groups":{"types":{"wg":{"id":1,"name":"wg","fullname":"Working Group","display_name":"Working Group","description":"A working group that is not a Clinical Domain Working Group","can_be_parent":true,"curation_product":null},"cdwg":{"id":2,"name":"cdwg","fullname":"Clinical Domain Working Group","display_name":"Clinical Domain Working Group","description":"A Clinical Domain Working Group that oversees Expert Panels.","can_be_parent":true,"curation_product":null},"gcep":{"id":3,"name":"gcep","fullname":"Gene Curation Expert Panel","display_name":"GCEP","description":"A Gene curation expert panel","can_be_parent":false,"curation_product":"gene_disease_validity"},"vcep":{"id":4,"name":"vcep","display_name":"VCEP","fullname":"Variant Curation Expert Panel","description":"A Variant curation expert panel","can_be_parent":false,"curation_product":"variant_pathogenicity"},"scvcep":{"id":5,"name":"scvcep","fullname":"Somatic Cancer Variant Curation Expert Panel","display_name":"SCVCEP","description":"A Somatic cancer variant curation expert panel","can_be_parent":false,"curation_product":"variant_pathogenicity","is_somatic_cancer":true}},"statuses":{"applying":{"id":1,"name":"applying"},"active":{"id":2,"name":"active"},"retired":{"id":3,"name":"retired"},"removed":{"id":4,"name":"removed"},"inactive":{"id":5,"name":"inactive"}},"statusColors":{"1":"blue","2":"green","3":"gray","4":"black","5":"gray"},"roles":{"coordinator":{"id":101,"name":"coordinator","display_name":"Coordinator","description":"The coordinator of the group. Has all group permissions."},"chair":{"id":102,"name":"chair","display_name":"Chair","description":"A chair/co-chair of the group.  No default permissions."},"biocurator":{"id":103,"name":"biocurator","display_name":"Biocurator","description":"Biocurator designation.  No default permissions."},"expert":{"id":104,"name":"expert","display_name":"Expert","description":"Expert designation.  No default permissions."},"core-approval-member":{"id":105,"name":"core-approval-member","display_name":"Core Approval Member","description":"Core approval member designation.  No default permissions."},"biocurator-trainer":{"id":106,"name":"biocurator-trainer","display_name":"Biocurator trainer","description":"Biocurator trainer designation.  No default permissions."},"grant-liaison":{"id":107,"name":"grant-liaison","display_name":"Grant Liaison","description":"Grant liaison designation.  No default permissions."},"annotator":{"id":108,"name":"annotator","display_name":"Annotator","description":"Annotator designation.  No default permissions."},"civic-editor":{"id":109,"name":"civic-editor","display_name":"CIViC Editor","description":"Individual who approves the submission of edits to CIViC. Indicates a higher level of training.  No default permissions."}},"permissions":{"info-edit":{"id":1001,"name":"info-edit","display_name":"Edit Info","description":"Can edit group name."},"members-invite":{"id":1002,"name":"members-invite","display_name":"Invite Members","description":"Can invite people to join the group."},"members-retire":{"id":1003,"name":"members-retire","display_name":"Retire Members","description":"Can retire group members."},"members-remove":{"id":1004,"name":"members-remove","display_name":"Remove Members","description":"Can remove group members."},"members-update":{"id":1005,"name":"members-update","display_name":"Update Members","description":"Can update group member information."},"application-read":{"id":1006,"name":"application-read","display_name":"Read Application","description":"Can read the group\'s application (if applicable)."},"application-edit":{"id":1007,"name":"application-edit","display_name":"Edit Application","description":"Can update group\'s application (if applicable)."},"annual-update-manage":{"id":1008,"name":"annual-update-manage","display_name":"Manage Annual Update","description":"Can edit and submit an annual update."}},"rolePermissions":{"coordinator":[1001,1002,1003,1004,1005,1006,1007,1008],"grant-liaison":[1008]}},"system":{"roles":{"super-user":{"id":1,"name":"super-user","display_name":"SuperUser","description":"Full access user with ALL permissions.  Reserved for programmers and technically versed users charged with administering the application.","guard_name":"web","scope":"system"},"super-admin":{"id":2,"name":"super-admin","display_name":"SuperAdmin","description":"Administrator with full group, application, annual update, and person management permissions.  A super-admin should be able take any action that does not require technical expertise.","guard_name":"web","scope":"system"},"admin":{"id":3,"name":"admin","display_name":"Admin","description":"Has standard admin privileges and can manage invites, groups, and people.","guard_name":"web","scope":"system"}},"permissions":{"users-manage":{"id":1,"name":"users-manage","display_name":"Manage users","description":"Edit user roles and permissions (limited based on role).","guard_name":"web","scope":"system"},"logs-view":{"id":2,"name":"logs-view","display_name":"View System Logs","description":"View system logs.","guard_name":"web","scope":"system"},"mail-log-view":{"id":3,"name":"mail-log-view","display_name":"View Mail Logs","description":"View mail logs and resend email.","guard_name":"web","scope":"system"},"invites-view":{"id":4,"name":"invites-view","display_name":"View Invites","description":"Invite administration.","guard_name":"web","scope":"system"},"announcements-manage":{"id":5,"name":"announcements-manage","display_name":"Manage announcements","description":"Create announcements.","guard_name":"web","scope":"system"},"group-manage":{"id":10,"name":"groups-manage","display_name":"Manage groups","description":"Create, update, delete groups.","guard_name":"web","scope":"system"},"people-manage":{"id":20,"name":"people-manage","display_name":"Manage people","description":"Create, update, delete, merge people.","guard_name":"web","scope":"system"},"ep-applications-manage":{"id":30,"name":"ep-applications-manage","display_name":"Manage applications","description":"Create and update applications; mark aplications approved.","guard_name":"web","scope":"system"},"ep-applications-comment":{"id":31,"name":"ep-applications-comment","display_name":"Comment on applications","description":"Create and update comments on submitted EP applications","guard_name":"web","scope":"system"},"ep-applications-approve":{"id":32,"name":"ep-applications-approve","display_name":"Approve expert panel applications","description":"Approve a submitted application","guard_name":"web","scope":"system"},"annual-updates-manage":{"id":40,"name":"annual-updates-manage","display_name":"Manage Annual Updates","description":"Create and update applications; create a new annual update window.","guard_name":"web","scope":"system"},"comments-manage":{"id":50,"name":"comments-manage","display_name":"Manage comments","description":"Can edit/delete comments made by other users.","scope":"system","guard_name":"web"},"reports-pull":{"id":6,"name":"reports-pull","display_name":"Pull Reports","description":"Can pull predefined reports.","guard_name":"web","scope":"system"}},"rolePermissions":{"super-user":[1,2,3,4,5,6,10,20,30,31,40,50],"super-admin":[1,3,4,5,6,10,20,30,40,50],"admin":[3,4,6,10,20]}},"feedback":{"severities":{"blocking":{"name":"This bug is preventing me from completing my tasks.","id":"15555"},"incorrect":{"name":"This bug presents incorrect information and/or causes confusion.","id":"15558"},"inconvenient":{"name":"This bug is inconvenient but doesn\'t block my work.","id":"15556"},"unsightly":{"name":"This bug is unsightly.","id":"15557"}}},"submissions":{"types":{"application":{"definition":{"id":1,"name":"Definition","description":"VCEP step 1 and GCEP application"},"sustained-curation":{"id":2,"name":"Sustained Curation","description":"VCEP step 4"}}},"typesByStep":{"1":{"id":1,"name":"Definition","description":"VCEP step 1 and GCEP application"},"2":null,"3":null,"4":{"id":2,"name":"Sustained Curation","description":"VCEP step 4"}},"statuses":{"pending":{"id":1,"name":"Pending","description":"Submission does not have a response."},"revisions-requested":{"id":2,"name":"Revisions Requested","description":"Submitted item must be revised and resubmitted with no promise of approval."},"under-chair-review":{"id":3,"name":"Under Chair Review","description":"Submitted item has been sent to CDWG OC Chairs for review."},"approved":{"id":4,"name":"Approved","description":"Submitted item is unconditionally approved."}},"decisions":["request-revisions","approve-after-revisions","approve"]},"appFeatures":{"notifyScopeChange":true,"specificationUpload":true,"cspecSummary":true,"chairReview":true},"documentsTypes":{"scope":{"id":1,"name":"scope","long_name":"scope and membership application","is_versioned":true,"application_document":true},"draftSpecs":{"id":2,"name":"draft-specs","long_name":"draft specifications","is_versioned":true,"application_document":true},"finalSpecs":{"id":3,"name":"final-specs","long_name":"final specifications","is_versioned":true,"application_document":true},"pilotClass":{"id":4,"name":"pilot-class","long_name":"pilot classifications","is_versioned":true,"application_document":true},"finalApp":{"id":5,"name":"final-app","long_name":"final approved application","is_versioned":true,"application_document":true},"coi":{"id":6,"name":"coi","long_name":"Conflict of interest (legacy)","is_versioned":true,"application_document":true},"pilotAdditional":{"id":7,"name":"pilot-additional","long_name":"additional pilot","is_versioned":true,"application_document":true},"miscellaneous":{"id":100,"name":"miscellaneous","long_name":"miscellaneous","is_versioned":false,"application_document":false}}}')}},t={};function n(i){var r=t[i];if(void 0!==r)return r.exports;var s=t[i]={id:i,loaded:!1,exports:{}};return e[i].call(s.exports,s,s.exports,n),s.loaded=!0,s.exports}n.m=e,function(){var e=[];n.O=function(t,i,r,s){if(!i){var a=1/0;for(d=0;d<e.length;d++){i=e[d][0],r=e[d][1],s=e[d][2];for(var o=!0,l=0;l<i.length;l++)(!1&s||a>=s)&&Object.keys(n.O).every((function(e){return n.O[e](i[l])}))?i.splice(l--,1):(o=!1,s<a&&(a=s));if(o){e.splice(d--,1);var u=r();void 0!==u&&(t=u)}}return t}s=s||0;for(var d=e.length;d>0&&e[d-1][2]>s;d--)e[d]=e[d-1];e[d]=[i,r,s]}}(),function(){n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,{a:t}),t}}(),function(){n.d=function(e,t){for(var i in t)n.o(t,i)&&!n.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})}}(),function(){n.f={},n.e=function(e){return Promise.all(Object.keys(n.f).reduce((function(t,i){return n.f[i](e,t),t}),[]))}}(),function(){n.u=function(e){return"js/"+({23:"group-list",99:"group-application",140:"application-index",205:"group-detail",218:"user-management",250:"delete-application",300:"application-summary",352:"application-review",443:"about",471:"create-application-form",564:"reset-password",605:"confirm-delete-log-entry",647:"expertise-list",684:"next-action-form",700:"institution-list",715:"log-entry-form",720:"application-detail",782:"annual-update"}[e]||e)+"."+{23:"e66bc4e7",47:"7176a9bd",99:"51fe2002",105:"53091733",127:"7c60cbff",140:"788a57fa",181:"4cff7270",192:"34a090b3",205:"8b96d7b0",212:"91c9ca95",218:"3e835535",250:"ad9712bd",287:"7a0ac707",300:"5194a338",302:"ea482f7a",305:"9b13cfd2",318:"79d2cba9",329:"a5104834",352:"a5c603bd",368:"10c54a41",411:"b520918d",443:"43a2346f",449:"fee6db4f",471:"72f2dbe6",490:"14c35188",518:"8080afde",539:"9480c80b",564:"9a9054b3",575:"b3ef1034",605:"64b5fa6a",628:"ce7a1831",641:"4aa75a7d",647:"1104fdb9",678:"74a7559b",684:"ced57be8",686:"0cae77b0",700:"83a30972",715:"534383fd",720:"058f45d3",779:"e6a45a8a",782:"6ce20896",827:"515d2818",851:"29eb1a3c",886:"8ae1a7d5",889:"ad049dee",924:"037cdb83",936:"606f30d9",980:"02a1a03f"}[e]+".js"}}(),function(){n.miniCssF=function(e){return"css/"+({99:"group-application",140:"application-index",205:"group-detail",300:"application-summary",352:"application-review",605:"confirm-delete-log-entry",720:"application-detail",782:"annual-update"}[e]||e)+"."+{99:"ce6d6949",127:"21878e9f",140:"400ecefd",205:"8c9a26c8",287:"b1e42317",300:"73aa5e2a",302:"4f95016e",305:"c9d30e6d",318:"73aa5e2a",352:"71c9ffe3",368:"b8aca3da",539:"e34a28bf",605:"5f9a2e5a",628:"1f0def23",641:"73f3b6cd",686:"73aa5e2a",720:"698eab8a",782:"b1e42317",886:"58b34bc2",936:"106f9726"}[e]+".css"}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={},t="epam:";n.l=function(i,r,s,a){if(e[i])e[i].push(r);else{var o,l;if(void 0!==s)for(var u=document.getElementsByTagName("script"),d=0;d<u.length;d++){var c=u[d];if(c.getAttribute("src")==i||c.getAttribute("data-webpack")==t+s){o=c;break}}o||(l=!0,o=document.createElement("script"),o.charset="utf-8",o.timeout=120,n.nc&&o.setAttribute("nonce",n.nc),o.setAttribute("data-webpack",t+s),o.src=i),e[i]=[r];var p=function(t,n){o.onerror=o.onload=null,clearTimeout(m);var r=e[i];if(delete e[i],o.parentNode&&o.parentNode.removeChild(o),r&&r.forEach((function(e){return e(n)})),t)return t(n)},m=setTimeout(p.bind(null,void 0,{type:"timeout",target:o}),12e4);o.onerror=p.bind(null,o.onerror),o.onload=p.bind(null,o.onload),l&&document.head.appendChild(o)}}}(),function(){n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){n.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e}}(),function(){n.p="/"}(),function(){var e=function(e,t,n,i){var r=document.createElement("link");r.rel="stylesheet",r.type="text/css";var s=function(s){if(r.onerror=r.onload=null,"load"===s.type)n();else{var a=s&&("load"===s.type?"missing":s.type),o=s&&s.target&&s.target.href||t,l=new Error("Loading CSS chunk "+e+" failed.\n("+o+")");l.code="CSS_CHUNK_LOAD_FAILED",l.type=a,l.request=o,r.parentNode.removeChild(r),i(l)}};return r.onerror=r.onload=s,r.href=t,document.head.appendChild(r),r},t=function(e,t){for(var n=document.getElementsByTagName("link"),i=0;i<n.length;i++){var r=n[i],s=r.getAttribute("data-href")||r.getAttribute("href");if("stylesheet"===r.rel&&(s===e||s===t))return r}var a=document.getElementsByTagName("style");for(i=0;i<a.length;i++){r=a[i],s=r.getAttribute("data-href");if(s===e||s===t)return r}},i=function(i){return new Promise((function(r,s){var a=n.miniCssF(i),o=n.p+a;if(t(a,o))return r();e(i,o,r,s)}))},r={143:0};n.f.miniCss=function(e,t){var n={99:1,127:1,140:1,205:1,287:1,300:1,302:1,305:1,318:1,352:1,368:1,539:1,605:1,628:1,641:1,686:1,720:1,782:1,886:1,936:1};r[e]?t.push(r[e]):0!==r[e]&&n[e]&&t.push(r[e]=i(e).then((function(){r[e]=0}),(function(t){throw delete r[e],t})))}}(),function(){var e={143:0};n.f.j=function(t,i){var r=n.o(e,t)?e[t]:void 0;if(0!==r)if(r)i.push(r[2]);else if(/^(686|782)$/.test(t))e[t]=0;else{var s=new Promise((function(n,i){r=e[t]=[n,i]}));i.push(r[2]=s);var a=n.p+n.u(t),o=new Error,l=function(i){if(n.o(e,t)&&(r=e[t],0!==r&&(e[t]=void 0),r)){var s=i&&("load"===i.type?"missing":i.type),a=i&&i.target&&i.target.src;o.message="Loading chunk "+t+" failed.\n("+s+": "+a+")",o.name="ChunkLoadError",o.type=s,o.request=a,r[1](o)}};n.l(a,l,"chunk-"+t,t)}},n.O.j=function(t){return 0===e[t]};var t=function(t,i){var r,s,a=i[0],o=i[1],l=i[2],u=0;if(a.some((function(t){return 0!==e[t]}))){for(r in o)n.o(o,r)&&(n.m[r]=o[r]);if(l)var d=l(n)}for(t&&t(i);u<a.length;u++)s=a[u],n.o(e,s)&&e[s]&&e[s][0](),e[s]=0;return n.O(d)},i=self["webpackChunkepam"]=self["webpackChunkepam"]||[];i.forEach(t.bind(null,0)),i.push=t.bind(null,i.push.bind(i))}();var i=n.O(void 0,[998],(function(){return n(7458)}));i=n.O(i)})();
//# sourceMappingURL=app.7b45ddcb.js.map