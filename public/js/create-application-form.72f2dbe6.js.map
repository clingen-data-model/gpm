{"version":3,"file":"js/create-application-form.72f2dbe6.js","mappings":"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","sources":["webpack://epam/./src/components/applications/CreateApplicationForm.vue","webpack://epam/./src/components/applications/CreateApplicationForm.vue?5001"],"sourcesContent":["<template>\n    <form-container @keydown.enter=\"save\">\n        <h2 class=\"pb-2 border-b mb-4\">Initiate Application</h2>\n        <input-row\n            label=\"Working Name\"\n            :errors=\"errors.working_name\"\n            type=\"text\"\n            v-model=\"this.app.working_name\"\n            placeholder=\"A recognizable name\"\n        ></input-row>\n        \n        <input-row label=\"CDWG\" :errors=\"errors.cdwg_id\">\n            <select v-model=\"app.cdwg_id\">\n                <option :value=\"null\">Select...</option>\n                <option v-for=\"cdwg in cdwgs\" :key=\"cdwg.id\" :value=\"cdwg.id\">{{cdwg.name}}</option>\n            </select>\n        </input-row>\n        \n        <input-row label=\"EP Type\" :errors=\"errors.expert_panel_type_id\">\n            <div>\n                <label :for=\"`ep-${epType.id}-radio`\"\n                    v-for=\"epType in epTypes\" \n                    :key=\"epType.id\" \n                >\n                    <input \n                        type=\"radio\" \n                        :value=\"epType.id\" \n                        v-model=\"app.expert_panel_type_id\"\n                        :id=\"`ep-${epType.id}-radio`\"\n                    >\n                    <div>{{epType.name}}</div>\n                </label>\n            </div>\n        </input-row>\n        <input-row :errors=\"errors.date_initiated\">\n            <div>\n                <div>\n                    <checkbox \n                        v-model=\"showInitiationDate\" \n                        id=\"show-initiation-checkbox\"\n                        label=\"Backdate this initiation\"\n                    />\n                </div>\n                <input-row \n                    type=\"date\" \n                    label=\"Initiation Date\" \n                    v-show=\"showInitiationDate\" \n                    v-model=\"app.date_initiated\"\n                >\n                </input-row>\n            </div>\n        </input-row>\n\n        <button-row>\n            <button class=\"btn\" @click=\"cancel\">Cancel</button>\n            <button class=\"btn blue\" @click=\"save\">Initiate Application</button>\n        </button-row>\n    </form-container>\n</template>\n<script>\nimport { mapGetters } from 'vuex'\nimport { formatDate } from '@/date_utils'\n\nexport default {\n    name: 'CreateApplicationForm',\n    props: {\n        \n    },\n    emits: [\n        'canceled',\n        'saved',\n    ],\n    data() {\n        return {\n            visible: false,\n            showInitiationDate: false,\n            app: {\n                working_name: null,\n                cdwg_id: null,\n                expert_panel_type_id: null,\n                date_initiated: formatDate(new Date())\n            },\n            epTypes: [\n                {name: 'GCEP', id: 1},\n                {name: 'VCEP', id: 2}\n            ],\n            errors: {}\n        }\n    },\n    computed: {\n        ...mapGetters({\n            cdwgs: 'cdwgs/all'\n        }),\n        hasErrors() {\n            return Object.keys(this.errors).length > 0;\n        }\n    },\n    watch: {\n        'app.working_name': function () {\n            this.clearErrors('working_name')\n        },\n        'app.cdwg_id': function () {\n            this.clearErrors('cdwg_id')\n        },\n        'app.expert_panel_type_id': function () {\n            this.clearErrors('expert_panel_type_id')\n        }\n    },\n    methods: {\n        cancel() {\n            this.initForm();\n            this.$emit('canceled');\n        },\n        async save() {\n            try {\n                await this.$store.dispatch('applications/initiateApplication', this.app)\n                this.$emit('saved', this.app);\n            } catch (error) {\n                if (error.response && error.response.status == 422 && error.response.data.errors) {\n                    this.errors = error.response.data.errors\n                    return;\n                }\n                throw(error)\n            }\n        },\n        initForm() {\n            this.initErrors();\n            this.initAppData();\n        },\n        initAppData() {\n            this.app = {\n                working_name: null,\n                cdwg_id: null,\n                expert_panel_type_id: null,\n                date_initiated: formatDate(new Date())\n            };\n        },\n        clearErrors(fieldName) {\n            if (fieldName) {\n                delete this.errors[fieldName];\n                return;\n            }\n\n            this.initErrors();\n        },\n        initErrors() {\n            this.errors = {}\n        }\n    }\n}\n</script>   ","import { render } from \"./CreateApplicationForm.vue?vue&type=template&id=6389e1e0\"\nimport script from \"./CreateApplicationForm.vue?vue&type=script&lang=js\"\nexport * from \"./CreateApplicationForm.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/Users/bpow/src/clingen/gpm/resources/app/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["_createElementVNode","class","value","_createBlock","_component_form_container","onKeydown","$options","_hoisted_1","_createVNode","_component_input_row","label","errors","$data","working_name","type","app","$event","placeholder","cdwg_id","_hoisted_2","_createElementBlock","_Fragment","_renderList","_ctx","cdwg","key","id","name","_hoisted_3","expert_panel_type_id","epType","for","_toDisplayString","date_initiated","_component_checkbox","_component_button_row","onClick","props","emits","data","visible","showInitiationDate","formatDate","Date","epTypes","computed","mapGetters","cdwgs","hasErrors","Object","keys","this","length","watch","clearErrors","methods","cancel","initForm","$emit","async","$store","dispatch","error","response","status","initErrors","initAppData","fieldName","__exports__","render"],"sourceRoot":""}