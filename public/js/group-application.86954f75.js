(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["group-application"],{1339:function(e,t,n){},"16e8":function(e,t,n){"use strict";n("1339")},"268c":function(e,t,n){"use strict";n("b0c0");var o=n("7a23"),r={key:0},a={key:0},i=Object(o["createTextVNode"])(" Affiliation ID "),c=Object(o["createTextVNode"])("admin-only"),s={key:0},u={key:1,class:"text-gray-400"},l={key:1},p={key:2},d=Object(o["createTextVNode"])(" Status: "),b=Object(o["createTextVNode"])("admin-only"),m=Object(o["createTextVNode"])(" Parent group: "),h=Object(o["createTextVNode"])("admin-only");function f(e,t,n,f,O,g){var j=Object(o["resolveComponent"])("input-row"),v=Object(o["resolveComponent"])("dictionary-row"),y=Object(o["resolveComponent"])("note");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",null,[g.canSetType?(Object(o["openBlock"])(),Object(o["createBlock"])(j,{key:0,modelValue:g.group.group_type_id,"onUpdate:modelValue":t[0]||(t[0]=function(e){return g.group.group_type_id=e}),errors:f.errors.group_type_id,type:"select",options:g.typeOptions,label:"Type"},null,8,["modelValue","errors","options"])):(Object(o["openBlock"])(),Object(o["createBlock"])(v,{key:1,label:"Type"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(g.typeDisplayName),1)]})),_:1})),Object(o["createVNode"])(o["Transition"],{name:"slide-fade-down",mode:"out-in"},{default:Object(o["withCtx"])((function(){return[g.group.group_type_id>2&&g.group.expert_panel?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",r,[Object(o["createVNode"])(j,{label:"Long Base Name",modelValue:g.group.expert_panel.long_base_name,"onUpdate:modelValue":[t[1]||(t[1]=function(e){return g.group.expert_panel.long_base_name=e}),g.emitUpdate],placeholder:"Long base name",errors:f.errors.long_base_name,"input-class":"w-full"},null,8,["modelValue","onUpdate:modelValue","errors"]),Object(o["createVNode"])(j,{label:"Short Base Name",modelValue:g.group.expert_panel.short_base_name,"onUpdate:modelValue":[t[2]||(t[2]=function(e){return g.group.expert_panel.short_base_name=e}),g.emitUpdate],placeholder:"Short base name",errors:f.errors.short_base_name,"input-class":"w-full"},null,8,["modelValue","onUpdate:modelValue","errors"]),e.hasAnyPermission(["groups-manage"])?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",a,[Object(o["createVNode"])(j,{label:"Affiliation ID",modelValue:g.group.expert_panel.affiliation_id,"onUpdate:modelValue":[t[3]||(t[3]=function(e){return g.group.expert_panel.affiliation_id=e}),g.emitUpdate],placeholder:g.affiliationIdPlaceholder,errors:f.errors.affiliation_id,"input-class":"w-full"},{label:Object(o["withCtx"])((function(){return[i,Object(o["createVNode"])(y,null,{default:Object(o["withCtx"])((function(){return[c]})),_:1})]})),_:1},8,["modelValue","placeholder","errors","onUpdate:modelValue"])])):(Object(o["openBlock"])(),Object(o["createBlock"])(v,{key:1,label:"Affiliation ID"},{default:Object(o["withCtx"])((function(){return[g.group.expert_panel.affiliation_id?(Object(o["openBlock"])(),Object(o["createElementBlock"])("span",s,Object(o["toDisplayString"])(g.group.expert_panel.affiliation_id),1)):(Object(o["openBlock"])(),Object(o["createElementBlock"])("span",u,Object(o["toDisplayString"])("Not yet assigend")))]})),_:1}))])):(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",l,[Object(o["createVNode"])(j,{modelValue:g.group.name,"onUpdate:modelValue":[t[4]||(t[4]=function(e){return g.group.name=e}),g.emitUpdate],placeholder:"Name",label:"Name","input-class":"w-full",errors:f.errors.name},null,8,["modelValue","errors","onUpdate:modelValue"])]))]})),_:1}),e.hasPermission("groups-manage")?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",p,[Object(o["createVNode"])(j,{modelValue:g.group.group_status_id,"onUpdate:modelValue":[t[5]||(t[5]=function(e){return g.group.group_status_id=e}),g.emitUpdate],type:"select",options:g.statusOptions,errors:f.errors.group_status_id},{label:Object(o["withCtx"])((function(){return[d,Object(o["createVNode"])(y,null,{default:Object(o["withCtx"])((function(){return[b]})),_:1})]})),_:1},8,["modelValue","options","errors","onUpdate:modelValue"]),Object(o["createVNode"])(j,{modelValue:g.group.parent_id,"onUpdate:modelValue":[t[6]||(t[6]=function(e){return g.group.parent_id=e}),g.emitUpdate],type:"select",options:g.parentOptions,errors:f.errors.parent_id},{label:Object(o["withCtx"])((function(){return[m,Object(o["createVNode"])(y,null,{default:Object(o["withCtx"])((function(){return[h]})),_:1})]})),_:1},8,["modelValue","options","errors","onUpdate:modelValue"])])):Object(o["createCommentVNode"])("",!0)])}var O=n("1da1"),g=(n("96cf"),n("d81d"),n("07ac"),n("d3b7"),n("159b"),n("4de4"),n("3ca3"),n("ddb0"),n("2ef0")),j=n("db04"),v=n("ae23"),y=n("4a91"),V=n("a75a"),w={name:"GroupForm",emits:["canceled","saved","update"],data:function(){return{groupTypes:[{id:1,fullname:"Working Group"},{id:2,fullname:"Clinical Domain Working Group"},{id:3,fullname:"GCEP"},{id:4,fullname:"VCEP"}],groupStatuses:y.groups.statuses,newGroup:new v["a"],parents:[]}},computed:{group:{get:function(){var e=this.$store.getters["groups/currentItem"];return e||this.newGroup},set:function(e){try{this.$store.commit("groups/addItem",e)}catch(t){this.newGroup=e}}},statusOptions:function(){var e=this;return Object.values(this.groupStatuses).map((function(t){return{value:t.id,label:e.titleCase(t.name)}}))},typeOptions:function(){return this.groupTypes.map((function(e){return{value:e.id,label:e.fullname}}))},canSetType:function(){return this.hasPermission("groups-manage")&&!this.group.id},typeDisplayName:function(){return this.group.type?this.group.type.name?this.group.type.id<3?this.group.type.name.toUpperCase():this.group.expert_panel.type.name.toUpperCase():null:"ðŸ‡ðŸ¥š"},affiliationIdPlaceholder:function(){return 5e4},cdwgs:function(){return this.$store.getters["cdwgs/all"]},namesDirty:function(){return this.group.expert_panel.isDirty("long_base_name")||this.group.expert_panel.isDirty("short_base_name")},affiliationIdDirty:function(){return console.log({new:this.group.expert_panel.attributes.affiliation_id,original:this.group.expert_panel.original.affiliation_id}),this.group.expert_panel.isDirty("affiliation_id")},parentOptions:function(){var e=[{value:0,label:"None"}];return this.parents.filter((function(e){return e.type.can_be_parent})).forEach((function(t){e.push({value:t.id,label:t.displayName})})),Object(g["sortBy"])(e,"label")}},methods:{save:function(){var e=this;return Object(O["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.resetErrors(),t.prev=1,!e.group.id){t.next=7;break}return t.next=5,e.updateGroup();case 5:return e.$emit("saved"),t.abrupt("return");case 7:return t.next=9,e.createGroup().then((function(e){return e.data.data}));case 9:n=t.sent,e.$emit("saved"),e.$store.commit("pushSuccess","Group created."),e.$router.push({name:"AddMember",params:{uuid:n.uuid}}),t.next=19;break;case 15:throw t.prev=15,t.t0=t["catch"](1),Object(j["b"])(t.t0)&&(e.errors=t.t0.response.data.errors),t.t0;case 19:case"end":return t.stop()}}),t,null,[[1,15]])})))()},createGroup:function(){var e=this.group.attributes,t=e.name,n=e.parent_id,o=e.group_type_id,r=e.group_status_id,a=this.group.expert_panel.short_base_name;return null===t&&this.group.expert_panel&&(t=this.group.expert_panel.long_base_name),this.$store.dispatch("groups/create",{name:t,parent_id:n,group_type_id:o,group_status_id:r,short_base_name:a})},updateGroup:function(){var e=[];return e.push(this.saveGroupData()),this.group.expert_panel&&e.push(this.saveEpData()),Promise.all(e)},saveGroupData:function(){var e=[];return this.group.isDirty("parent_id")&&e.push(this.saveParent()),this.group.isDirty("name")&&e.push(this.saveName()),this.group.isDirty("group_status_id")&&e.push(this.saveStatus()),Promise.all(e)},saveEpData:function(){var e=this;return Object(O["a"])(regeneratorRuntime.mark((function t(){var n,o,r,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=[],e.namesDirty&&(o=e.group.expert_panel,r=o.long_base_name,a=o.short_base_name,n.push(e.submitFormData({method:"put",url:"/api/groups/".concat(e.group.uuid,"/expert-panel/name"),data:{long_base_name:r,short_base_name:a}}))),e.affiliationIdDirty&&n.push(e.submitFormData({method:"put",url:"/api/groups/".concat(e.group.uuid,"/expert-panel/affiliation-id"),data:{affiliation_id:e.group.expert_panel.affiliation_id}})),t.next=5,Promise.all(n);case 5:return t.abrupt("return",t.sent);case 6:case"end":return t.stop()}}),t)})))()},isDirty:function(e){return this.group[e]!=this.group[e]},saveParent:function(){return this.submitFormData({method:"put",url:"/api/groups/".concat(this.group.uuid,"/parent"),data:{parent_id:this.group.parent_id}})},saveName:function(){return this.submitFormData({method:"put",url:"/api/groups/".concat(this.group.uuid,"/name"),data:{name:this.group.name}})},saveStatus:function(){return this.submitFormData({method:"put",url:"/api/groups/".concat(this.group.uuid,"/status"),data:{status_id:this.group.group_status_id}})},resetData:function(){this.group.uuid&&this.$store.dispatch("groups/find",this.group.uuid)},cancel:function(){this.group.uuid&&this.resetData(),this.$emit("canceled")},getParentOptions:function(){var e=this;return Object(O["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n={"where[group_type_id]":[1,2],without:["coordinators","expertPanel"]},t.next=3,j["a"].get("/api/groups",{params:n}).then((function(t){return t.data.filter((function(t){return t.id!=e.group.id})).map((function(e){return new v["a"](e)}))}));case 3:e.parents=t.sent;case 4:case"end":return t.stop()}}),t)})))()},emitUpdate:function(){this.$emit("update")}},beforeMount:function(){this.getParentOptions(),this.$store.dispatch("cdwgs/getAll")},setup:function(e,t){var n=Object(V["a"])(e,t),o=n.errors,r=n.submitFormData,a=n.resetErrors;return{errors:o,submitFormData:r,resetErrors:a}}},C=n("6b0d"),k=n.n(C);const N=k()(w,[["render",f]]);t["a"]=N},"2a6f":function(e,t,n){},"4e39":function(e,t,n){"use strict";n("9584")},7332:function(e,t,n){"use strict";n.r(t);var o=n("7a23"),r=function(e){return Object(o["pushScopeId"])("data-v-62da1911"),e=e(),Object(o["popScopeId"])(),e},a={class:"flex items-center pb-2 border-b z-20"},i={class:"flex-1"},c={class:"border-b-0 flex justify-between items-start mb-0"},s={key:0},u=r((function(){return Object(o["createElementVNode"])("span",{class:"note"},"Â |Â ",-1)})),l={class:"md:flex"},p={class:"p-2 border-t text-sm text-center bottom-0"},d={key:0},b={key:1},m={class:"flex-1"},h={id:"body",class:"px-4"},f={class:"text-lg"},O=r((function(){return Object(o["createElementVNode"])("p",null,"You cannot update your application while waiting approval.",-1)})),g=r((function(){return Object(o["createElementVNode"])("p",null,"The approval committee will respond soon.",-1)})),j=r((function(){return Object(o["createElementVNode"])("p",null,[Object(o["createTextVNode"])(" Please contact "),Object(o["createElementVNode"])("a",{href:"mailto:cdwg_oversightcommittee@clinicalgenome.org"}," the ClinGen CDWG Oversight Committee "),Object(o["createTextVNode"])(" if you have any questions. ")],-1)}));function v(e,t,n,r,v,y){var V=Object(o["resolveComponent"])("group-breadcrumbs"),w=Object(o["resolveComponent"])("note"),C=Object(o["resolveComponent"])("application-menu"),k=Object(o["resolveComponent"])("static-alert"),N=Object(o["resolveComponent"])("router-view"),_=Object(o["resolveComponent"])("modal-dialog"),x=Object(o["resolveDirective"])("remaining-height");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",null,[Object(o["createElementVNode"])("header",a,[Object(o["createElementVNode"])("div",i,[Object(o["createVNode"])(V,{group:y.group},null,8,["group"]),Object(o["createElementVNode"])("h1",c,[Object(o["createElementVNode"])("div",null,[Object(o["createTextVNode"])(Object(o["toDisplayString"])(y.group.displayName)+" - Application ",1),e.hasPermission("groups-manage")?(Object(o["openBlock"])(),Object(o["createElementBlock"])("span",s,[Object(o["createVNode"])(w,{class:"inline"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])("group: "+Object(o["toDisplayString"])(y.group.id),1)]})),_:1}),u,Object(o["createVNode"])(w,{class:"inline"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])("expert_panel: "+Object(o["toDisplayString"])(y.group.expert_panel.id),1)]})),_:1})])):Object(o["createCommentVNode"])("",!0)]),y.group.expert_panel.hasPendingSubmission?Object(o["createCommentVNode"])("",!0):(Object(o["openBlock"])(),Object(o["createElementBlock"])("button",{key:0,onClick:t[0]||(t[0]=function(){var t;return e.$refs.application.save&&(t=e.$refs.application).save.apply(t,arguments)}),class:"btn btn-sm"},"Save"))])])]),Object(o["createElementVNode"])("div",l,[Object(o["createVNode"])(C,{class:"mt-4",application:y.application,"is-collapsed":!v.showApplicationToc},{footer:Object(o["withCtx"])((function(){return[Object(o["createElementVNode"])("div",p,[v.saving?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",d,"Saving...")):(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",b,"Last saved at "+Object(o["toDisplayString"])(e.formatTime(v.lastSavedAt)),1))])]})),_:1},8,["application","is-collapsed"]),Object(o["createElementVNode"])("div",m,[Object(o["withDirectives"])((Object(o["openBlock"])(),Object(o["createElementBlock"])("section",h,[y.group.expert_panel.hasPendingSubmission?(Object(o["openBlock"])(),Object(o["createBlock"])(k,{key:0,class:"relative mt-4 px-4 z-50",variant:"success"},{default:Object(o["withCtx"])((function(){return[Object(o["createElementVNode"])("p",f,"Your application was submitted on "+Object(o["toDisplayString"])(e.formatDate(y.group.expert_panel.pendingSubmission.created_at))+".",1),O,g,j]})),_:1})):Object(o["createCommentVNode"])("",!0),(Object(o["openBlock"])(),Object(o["createBlock"])(Object(o["resolveDynamicComponent"])(y.applicationComponent),{ref:"application",onSaved:y.updateLastSavedAt,onSaving:t[1]||(t[1]=function(e){return v.saving=!0})},null,8,["onSaved"]))])),[[x]])])]),(Object(o["openBlock"])(),Object(o["createBlock"])(o["Teleport"],{to:"body"},[Object(o["createVNode"])(_,{modelValue:v.showModal,"onUpdate:modelValue":t[2]||(t[2]=function(e){return v.showModal=e}),onClosed:y.handleModalClosed,title:this.$route.meta.title},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(N,{ref:"modalView",onSaved:y.hideModal,onCanceled:y.hideModal},null,8,["onSaved","onCanceled"])]})),_:1},8,["modelValue","onClosed","title"])]))])}var y=n("1da1"),V=(n("ac1f"),n("5319"),n("96cf"),{class:"relative"}),w=Object(o["createElementVNode"])("p",null," Expert Panels are expected to represent the diversity of expertise in the field, including all major areas of expertise (clinical, diagnostic laboratory, and basic research). Membership should include representation from three or more institutions and will encompass disease/gene expert members as well as biocurators. Biocurators do not have to be gene/disease experts and will be primarily responsible for assembling the available evidence for subsequent expert member review. For role, suggested examples include: primary biocurator, expert reviewer, etc. ",-1),C=Object(o["createTextVNode"])(" It is expected that the expert panel will utilize "),k=Object(o["createTextVNode"])(" during pre-curation and should use the "),N=Object(o["createTextVNode"])(" to enter their precuration information. Focus should be on the canonical disease, and splitting into multiple phenotypes should be avoided. The precurations will be published to "),_=Object(o["createTextVNode"])(". "),x=Object(o["createElementVNode"])("hr",null,null,-1);function E(e,t,n,r,a,i){var c=Object(o["resolveComponent"])("group-form"),s=Object(o["resolveComponent"])("app-section"),u=Object(o["resolveComponent"])("member-list"),l=Object(o["resolveComponent"])("lumping-and-splitting-link"),p=Object(o["resolveComponent"])("gene-tracker-link"),d=Object(o["resolveComponent"])("website-link"),b=Object(o["resolveComponent"])("gcep-gene-list"),m=Object(o["resolveComponent"])("scope-description-form"),h=Object(o["resolveComponent"])("attestation-gcep"),f=Object(o["resolveComponent"])("gcep-ongoing-plans-form"),O=Object(o["resolveComponent"])("attestation-nhgri"),g=Object(o["resolveComponent"])("application-step");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",V,[Object(o["createVNode"])(g,{id:"definition",disabled:i.group.expert_panel.hasPendingSubmission},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,{title:"Basic Information",id:"basicInfo"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(c,{group:i.group,ref:"groupForm",onUpdate:i.handleUpdate},null,8,["group","onUpdate"])]})),_:1}),i.group?(Object(o["openBlock"])(),Object(o["createBlock"])(s,{key:0,title:"Membership",id:"membership"},{default:Object(o["withCtx"])((function(){return[w,Object(o["createVNode"])(u,{group:i.group},null,8,["group"])]})),_:1})):Object(o["createCommentVNode"])("",!0),Object(o["createVNode"])(s,{title:"Scope of Work",id:"scope"},{default:Object(o["withCtx"])((function(){return[Object(o["createElementVNode"])("p",null,[C,Object(o["createVNode"])(l),k,Object(o["createVNode"])(p),N,Object(o["createVNode"])(d),_]),Object(o["createVNode"])(b,{group:i.group,ref:"geneList",onGeneschanged:t[0]||(t[0]=function(e){return a.genesChanged=!0}),onUpdate:i.handleUpdate},null,8,["group","onUpdate"]),x,Object(o["createVNode"])(m,{onUpdate:i.handleUpdate},null,8,["onUpdate"])]})),_:1}),Object(o["createVNode"])(s,{title:"Attestations",id:"attestations"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(h,{onUpdate:i.handleUpdate},null,8,["onUpdate"])]})),_:1}),Object(o["createVNode"])(s,{id:"curationReviewProcess",title:"Plans for Ongoing Gene Review and Reanalysis and Discrepancy Resolution"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(f,{onUpdate:i.handleUpdate},null,8,["onUpdate"])]})),_:1}),Object(o["createVNode"])(s,{title:"NHGRI Data Availability",id:"nhgri"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(O,{onUpdate:i.handleUpdate},null,8,["onUpdate"])]})),_:1})]})),_:1},8,["disabled"])])}n("d81d"),n("b64b"),n("d3b7"),n("3ca3"),n("ddb0");var S=n("2ef0"),B=n("a75a"),D=n("db04"),U=n("8ed1"),R=function(e){return Object(o["pushScopeId"])("data-v-16ea664a"),e=e(),Object(o["popScopeId"])(),e},$=["id"],I={key:0,class:"header flex justify-between items-center"},T={key:0,class:"inline"},A=["innerHTML"],M={key:0,class:"inline"},P=Object(o["createTextVNode"])(" Make changes from the the "),q=Object(o["createTextVNode"])("group's detail screen"),G=R((function(){return Object(o["createElementVNode"])("br",null,null,-1)})),F=R((function(){return Object(o["createElementVNode"])("small",null,"Changes may require re-approval.",-1)})),L=Object(o["createTextVNode"])("Approved"),W=Object(o["createTextVNode"])("Under Review"),z={class:"relative"},Y={class:"step-contents"},H={key:1,class:"z-20 absolute top-0 bottom-0 left-0 right-0 bg-white bg-opacity-50"};function J(e,t,n,r,a,i){var c=Object(o["resolveComponent"])("icon-lock"),s=Object(o["resolveComponent"])("popover"),u=Object(o["resolveComponent"])("router-link"),l=Object(o["resolveComponent"])("badge"),p=Object(o["resolveComponent"])("application-submit-button");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",{class:"application-step",id:n.id},[n.title?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",I,[Object(o["createElementVNode"])("h2",{class:Object(o["normalizeClass"])({"text-gray-400":n.disabled})},[Object(o["createTextVNode"])(Object(o["toDisplayString"])(n.title)+" ",1),n.disabled?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",T,[Object(o["createVNode"])(s,{arrow:"",hover:""},{content:Object(o["withCtx"])((function(){return[Object(o["createElementVNode"])("small",{class:"text-sm",innerHTML:i.lockedContent},null,8,A)]})),default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(c,{class:"inline"})]})),_:1})])):Object(o["createCommentVNode"])("",!0)],2),i.approved?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",M,[Object(o["createVNode"])(s,{hover:"",arrow:""},{content:Object(o["withCtx"])((function(){return[P,Object(o["createVNode"])(u,{to:{name:"GroupDetail",parmas:{uuid:i.group.uuid}}},{default:Object(o["withCtx"])((function(){return[q]})),_:1},8,["to"]),G,F]})),default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(l,{color:"green"},{default:Object(o["withCtx"])((function(){return[L]})),_:1})]})),_:1})])):Object(o["createCommentVNode"])("",!0),i.underReview?(Object(o["openBlock"])(),Object(o["createBlock"])(l,{key:1,color:"yellow"},{default:Object(o["withCtx"])((function(){return[W]})),_:1})):Object(o["createCommentVNode"])("",!0)])):Object(o["createCommentVNode"])("",!0),Object(o["createElementVNode"])("div",z,[Object(o["createElementVNode"])("div",Y,[Object(o["renderSlot"])(e.$slots,"default",{},void 0,!0)]),i.showSubmitButton?(Object(o["openBlock"])(),Object(o["createBlock"])(p,{key:0,class:"border-t",step:i.step},null,8,["step"])):Object(o["createCommentVNode"])("",!0),n.disabled||i.approved?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",H)):Object(o["createCommentVNode"])("",!0)])],8,$)}var Q={key:0,class:"p-4"},K={class:"relative"},X={key:0,class:"bg-white opacity-50 absolute top-0 bottom-0 left-0 right-0"},Z={class:"text-lg"},ee=Object(o["createTextVNode"])(" Before submitting, please note: "),te=Object(o["createElementVNode"])("ol",{class:"list-decimal pl-6"},[Object(o["createElementVNode"])("li",null," Typical response times are between one and two weeks. "),Object(o["createElementVNode"])("li",null," Questions, revisions, and other comments will be conveyed via email. "),Object(o["createElementVNode"])("li",null," Once submitted you will not be able to update your application until the submission has been processed. ")],-1),ne=Object(o["createElementVNode"])("div",{class:"mt-4 text-lg"},"Optional notes for reviewers:",-1);function oe(e,t,n,r,a,i){var c=Object(o["resolveComponent"])("requirements-item"),s=Object(o["resolveComponent"])("dev-component"),u=Object(o["resolveComponent"])("popover"),l=Object(o["resolveComponent"])("static-alert"),p=Object(o["resolveComponent"])("input-row"),d=Object(o["resolveComponent"])("button-row"),b=Object(o["resolveComponent"])("modal-dialog");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",null,[i.group.expert_panel.hasPendingSubmission?Object(o["createCommentVNode"])("",!0):(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",Q,[Object(o["createVNode"])(u,{hover:"",arrow:""},{content:Object(o["withCtx"])((function(){return[Object(o["createElementVNode"])("div",null,[(Object(o["openBlock"])(!0),Object(o["createElementBlock"])(o["Fragment"],null,Object(o["renderList"])(i.evaledRequirements,(function(e,t){return Object(o["openBlock"])(),Object(o["createBlock"])(c,{key:t,requirement:e},null,8,["requirement"])})),128))])]})),default:Object(o["withCtx"])((function(){return[Object(o["createElementVNode"])("div",null,[Object(o["createElementVNode"])("div",K,[Object(o["createElementVNode"])("button",{class:"btn btn-xl",onClick:t[0]||(t[0]=function(){return i.initSubmission&&i.initSubmission.apply(i,arguments)})}," Submit for Approval "),i.meetsRequirements?Object(o["createCommentVNode"])("",!0):(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",X))]),e.hasRole("super-user")?(Object(o["openBlock"])(),Object(o["createBlock"])(s,{key:0},{default:Object(o["withCtx"])((function(){return[Object(o["createElementVNode"])("button",{onClick:t[1]||(t[1]=function(){return i.bypassRequirements&&i.bypassRequirements.apply(i,arguments)})},"Bypass Requirements")]})),_:1})):Object(o["createCommentVNode"])("",!0)])]})),_:1})])),(Object(o["openBlock"])(),Object(o["createBlock"])(o["Teleport"],{to:"body"},[Object(o["createVNode"])(o["Transition"],{name:"fade"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(b,{modelValue:a.showSubmissionConfirmation,"onUpdate:modelValue":t[3]||(t[3]=function(e){return a.showSubmissionConfirmation=e}),title:"Submit your application"},{default:Object(o["withCtx"])((function(){return[Object(o["createElementVNode"])("p",Z," You are about to submit your "+Object(o["toDisplayString"])(i.submissionName)+" application. ",1),Object(o["createVNode"])(l,{class:"text-md",variant:"info"},{default:Object(o["withCtx"])((function(){return[ee,te]})),_:1}),ne,Object(o["createVNode"])(p,{label:"",errors:a.errors.notes,vertical:""},{default:Object(o["withCtx"])((function(){return[Object(o["withDirectives"])(Object(o["createElementVNode"])("textarea",{"onUpdate:modelValue":t[2]||(t[2]=function(e){return a.notes=e}),rows:"5",class:"w-full"},null,512),[[o["vModelText"],a.notes]])]})),_:1},8,["errors"]),Object(o["createVNode"])(d,{onSubmitted:i.confirmSubmission,onCancelled:i.cancelSubmission},null,8,["onSubmitted","onCancelled"])]})),_:1},8,["modelValue"])]})),_:1})]))])}n("b0c0"),n("a15b");var re=n("284a"),ae=n("4a91"),ie=ae.submissions,ce={name:"ApplicationSubmitButton",components:{RequirementsItem:re["a"]},props:{disabled:{type:Boolean,required:!1,default:!1},sections:{type:Array,required:!1,default:function(){return[]}},step:{type:Object,required:!0}},emits:["submitted","canceled"],data:function(){return{showSubmissionConfirmation:!1,notes:null,errors:{},bypassReqs:!1}},computed:{group:function(){return this.$store.getters["groups/currentItemOrNew"]},meetsRequirements:function(){return!!this.bypassReqs||this.step.meetsRequirements(this.group)},requirementsUnmet:function(){return!this.step.meetsRequirements(this.group)},evaledRequirements:function(){return this.step.evaluateRequirements(this.group)},submissionName:function(){if("gcep"==this.group.expert_panel.type.name)return"GCEP";switch(this.group.expert_panel.current_step){case 1:return"VCEP Group Definition";case 4:return"VCEP Sustained Curation Plans";default:break}return ie.types.applications}},methods:{bypassRequirements:function(){this.bypassReqs=!0},initSubmission:function(){this.showSubmissionConfirmation=!0,this.notes=null},confirmSubmission:function(){var e=this;return Object(y["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.$store.dispatch("groups/submitApplicationStep",{group:e.group,notes:e.notes});case 3:e.$store.commit("pushSuccess","Your application has been submitted for approval."),e.showSubmissionConfirmation=!1,e.$emit("submitted"),t.next=15;break;case 8:if(t.prev=8,t.t0=t["catch"](0),!Object(D["b"])(t.t0)){t.next=14;break}return n=t.t0.response.data.errors,e.$store.commit("pushError",n.group.join(",")),t.abrupt("return");case 14:throw t.t0;case 15:case"end":return t.stop()}}),t,null,[[0,8]])})))()},cancelSubmission:function(){this.showSubmissionConfirmation=!1,this.notes=null,this.$emit("cancelled")}}},se=n("6b0d"),ue=n.n(se);const le=ue()(ce,[["render",oe]]);var pe=le,de=n("5313"),be={name:"ApplicationStep",components:{ApplicationSubmitButton:pe},props:{title:{type:String,required:!1,default:null},disabled:{type:Boolean,required:!1,default:!1},id:{type:String,required:!0},noSubmit:{type:Boolean,required:!1,default:!1}},computed:{group:function(){return this.$store.getters["groups/currentItemOrNew"]},application:function(){return this.group.isVcep()?de["d"]:de["a"]},step:function(){return this.application.getStep(this.id)},showSubmitButton:function(){return!this.noSubmit},lockedContent:function(){return this.underReview?"Applications pending review cannot be upated.":this.step.isComplete(this.group)?'This step is approved.<br> Make changes from the the <a href="/groups/'.concat(this.group.uuid,"\">group's detail screen</a><br><small>Changes may require re-approval.</small>"):"This step is not yet available."},approved:function(){return this.step.isComplete(this.group)},underReview:function(){return this.group.expert_panel.hasPendingSubmissionForStep(this.titleCase(this.id))}}};n("bc02");const me=ue()(be,[["render",J],["__scopeId","data-v-16ea664a"]]);var he=me,fe=n("8fec"),Oe=n("3926"),ge=n("206f"),je=n("268c"),ve=n("0945"),ye=n("a8af"),Ve=n("6ca3"),we={name:"ApplicationGcep",components:{"app-section":U["a"],ApplicationStep:he,AttestationGcep:fe["a"],AttestationNhgri:Oe["a"],GcepGeneList:ge["a"],GroupForm:je["a"],GcepOngoingPlansForm:Ve["a"],MemberList:ve["a"],ScopeDescriptionForm:ye["a"]},emits:["autosaved","saved","saving"],data:function(){return{genesChanged:!1,saving:!1}},computed:{group:{get:function(){return this.$store.getters["groups/currentItemOrNew"]},set:function(e){this.$store.commit("groups/addItem",e)}}},methods:{save:function(){var e=this;return Object(y["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.$emit("saving"),n=Object.keys(e.$refs).map((function(t){if(e.$refs[t]&&e.$refs[t].save)return e.$refs[t].save()})),n.push(e.saveUpdates()),t.prev=3,t.next=6,Promise.all(n);case 6:e.$emit("saved"),e.genesChanged=!1,t.next=16;break;case 10:if(t.prev=10,t.t0=t["catch"](3),!Object(D["b"])(t.t0)){t.next=15;break}return e.errors=t.t0.response.data.errors,t.abrupt("return");case 15:throw t.t0;case 16:case"end":return t.stop()}}),t,null,[[3,10]])})))()},saveUpdates:function(){var e=this;if(this.applicationIsDirty())return this.$store.dispatch("groups/saveApplicationData",this.group).then((function(){e.$emit("saved")}))},autosave:function(){var e=this;return Object(y["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(console.log("autosave..."),!e.applicationIsDirty()){t.next=6;break}return t.next=4,e.save();case 4:return e.$emit("autosaved"),t.abrupt("return");case 6:case"end":return t.stop()}}),t)})))()},applicationIsDirty:function(){return this.group.expert_panel.isDirty()||this.group.isDirty()||this.genesChanged},handleUpdate:function(){this.debounceAutoSave()}},setup:function(){return{errors:B["b"]}},created:function(){this.debounceAutoSave=Object(S["debounce"])(this.autosave,2e3)}};const Ce=ue()(we,[["render",E]]);var ke=Ce,Ne=Object(o["createTextVNode"])(" Expert Panels are expected to represent the diversity of expertise and backgrounds in the field and should refer to "),_e=Object(o["createTextVNode"])("Section 2.1 of the VCEP Protocol"),xe=Object(o["createTextVNode"])(" and the "),Ee=Object(o["createTextVNode"])(" for guidance to complete the Member List below. Please list the VCEP Chair(s) and Coordinator(s) first. "),Se=Object(o["createElementVNode"])("hr",null,null,-1),Be=Object(o["createElementVNode"])("hr",null,null,-1);function De(e,t,n,r,a,i){var c=Object(o["resolveComponent"])("group-form"),s=Object(o["resolveComponent"])("app-section"),u=Object(o["resolveComponent"])("vcep-protocol-link"),l=Object(o["resolveComponent"])("nih-diversity-toolkit-link"),p=Object(o["resolveComponent"])("member-list"),d=Object(o["resolveComponent"])("membership-description-form"),b=Object(o["resolveComponent"])("vcep-gene-list"),m=Object(o["resolveComponent"])("scope-description-form"),h=Object(o["resolveComponent"])("attestation-reanalysis"),f=Object(o["resolveComponent"])("attestation-nhgri"),O=Object(o["resolveComponent"])("application-step"),g=Object(o["resolveComponent"])("specifications-section"),j=Object(o["resolveComponent"])("vcep-ongoing-plans-form"),v=Object(o["resolveComponent"])("evidence-summary-list"),y=Object(o["resolveComponent"])("member-designation-form");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",null,[Object(o["createVNode"])(O,{id:"definition",title:"Group Definition",disabled:i.group.expert_panel.hasPendingSubmission},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,{title:"Basic Information",id:"basicInfo"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(c,{group:i.group,ref:"groupForm",onUpdate:i.handleUpdate},null,8,["group","onUpdate"])]})),_:1}),i.group?(Object(o["openBlock"])(),Object(o["createBlock"])(s,{key:0,title:"Membership",id:"membership"},{default:Object(o["withCtx"])((function(){return[Object(o["createElementVNode"])("p",null,[Ne,Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])((function(){return[_e]})),_:1}),xe,Object(o["createVNode"])(l),Ee]),Object(o["createVNode"])(p,{group:i.group},null,8,["group"]),Se,Object(o["createVNode"])(d,{editing:!0,onUpdate:i.handleUpdate},null,8,["onUpdate"])]})),_:1})):Object(o["createCommentVNode"])("",!0),Object(o["createVNode"])(s,{title:"Scope of Work",id:"scope"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(b,{group:i.group,ref:"geneList",onUpdate:i.handleUpdate},null,8,["group","onUpdate"]),Be,Object(o["createVNode"])(m,{onUpdate:i.handleUpdate},null,8,["onUpdate"])]})),_:1}),Object(o["createVNode"])(s,{title:"Reanalysis & Discrepancy Resolution",id:"reanalysis"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(h,{onUpdate:i.handleUpdate},null,8,["onUpdate"])]})),_:1}),Object(o["createVNode"])(s,{title:"NHGRI Data Availability",id:"nhgri"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(f,{onUpdate:i.handleUpdate},null,8,["onUpdate"])]})),_:1})]})),_:1},8,["disabled"]),Object(o["createVNode"])(O,{id:"draft-specifications",title:"Draft Specifications",disabled:i.group.expert_panel.current_step<2||i.group.expert_panel.hasPendingSubmission,"no-submit":!0},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(g,{"doc-type-id":2,step:2})]})),_:1})]})),_:1},8,["disabled"]),Object(o["createVNode"])(O,{id:"pilot-specifications",title:"Pilot Specifications",disabled:i.group.expert_panel.current_step<3||i.group.expert_panel.hasPendingSubmission,"no-submit":!0},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(g,{"doc-type-id":[3,4,7],step:3})]})),_:1})]})),_:1},8,["disabled"]),Object(o["createVNode"])(O,{id:"sustained-curation",title:"Sustained Curation",disabled:i.group.expert_panel.current_step<4||i.group.expert_panel.hasPendingSubmission},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,{title:"Plans for Ongoing Review and Reanalysis and Discrepancy Resolution",id:"curationReviewProcess"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(j,{onUpdate:i.handleUpdate},null,8,["onUpdate"])]})),_:1}),Object(o["createVNode"])(s,{title:"Example Evidence Summaries",id:"evidenceSummaries"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(v)]})),_:1}),Object(o["createVNode"])(s,{title:"Member Designation",id:"designations"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(y,{ref:"designationForm"},null,512)]})),_:1})]})),_:1},8,["disabled"])])}var Ue=n("a266"),Re=n("fefd"),$e=n("324b"),Ie=n("ec0d"),Te=n("4d1a"),Ae=n("62a2"),Me=n("1d7f"),Pe={name:"ApplicationVcep",components:{"app-section":U["a"],ApplicationStep:he,AttestationNhgri:Oe["a"],AttestationReanalysis:Ue["a"],SpecificationsSection:Re["a"],EvidenceSummaryList:$e["a"],GroupForm:je["a"],MemberDesignationForm:Ie["a"],MemberList:ve["a"],MembershipDescriptionForm:Te["a"],ScopeDescriptionForm:ye["a"],VcepGeneList:Ae["a"],VcepOngoingPlansForm:Me["a"]},emits:["autosaved","saved","saving"],data:function(){return{genesChanged:!1,saving:!1}},computed:{group:{get:function(){return this.$store.getters["groups/currentItemOrNew"]},set:function(e){this.$store.commit("groups/addItem",e)}}},methods:{save:function(){var e=this;return Object(y["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.$emit("saving"),n=Object.keys(e.$refs).map((function(t){if(e.$refs[t]&&e.$refs[t].save)return e.$refs[t].save()})),n.push(e.saveUpdates()),t.prev=3,t.next=6,Promise.all(n);case 6:e.$emit("saved"),e.genesChanged=!1,t.next=16;break;case 10:if(t.prev=10,t.t0=t["catch"](3),!Object(D["b"])(t.t0)){t.next=15;break}return e.errors=t.t0.response.data.errors,t.abrupt("return");case 15:throw t.t0;case 16:case"end":return t.stop()}}),t,null,[[3,10]])})))()},saveUpdates:function(){var e=this;if(this.applicationIsDirty())return this.$store.dispatch("groups/saveApplicationData",this.group).then((function(){e.$emit("saved")}))},autosave:function(){var e=this;return Object(y["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(console.log("autosave..."),!e.applicationIsDirty()){t.next=6;break}return t.next=4,e.save();case 4:return e.$emit("autosaved"),t.abrupt("return");case 6:case"end":return t.stop()}}),t)})))()},applicationIsDirty:function(){return this.group.expert_panel.isDirty()||this.group.isDirty()||this.genesChanged},handleUpdate:function(){this.debounceAutoSave()}},setup:function(){return{errors:B["b"]}},created:function(){this.debounceAutoSave=Object(S["debounce"])(this.autosave,2e3)}};const qe=ue()(Pe,[["render",De]]);var Ge=qe,Fe={class:"menu-items"},Le={class:""};function We(e,t,n,r,a,i){var c=Object(o["resolveComponent"])("menu-item");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",{class:Object(o["normalizeClass"])([{collapsed:n.isCollapsed},"app-menu overflow-y-auto relative"])},[Object(o["createElementVNode"])("ul",Fe,[(Object(o["openBlock"])(!0),Object(o["createElementBlock"])(o["Fragment"],null,Object(o["renderList"])(n.application.steps,(function(e,t){return Object(o["openBlock"])(),Object(o["createElementBlock"])("li",{key:t},[Object(o["createVNode"])(c,{item:e,class:"block","is-current-step":i.isCurrentStep(e)},null,8,["item","is-current-step"])])})),128))]),Object(o["createElementVNode"])("div",Le,[Object(o["renderSlot"])(e.$slots,"footer",{},void 0,!0)])],2)}var ze={class:"item"},Ye={key:0},He={key:0,class:"ml-4 text-smaller"};function Je(e,t,n,r,a,i){var c=this,s=Object(o["resolveComponent"])("icon-cheveron-right"),u=Object(o["resolveComponent"])("icon-checkmark"),l=Object(o["resolveComponent"])("badge"),p=Object(o["resolveComponent"])("menu-item",!0);return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",ze,[i.isStep?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",Ye,[Object(o["createElementVNode"])("header",{class:Object(o["normalizeClass"])(["flex justify-between label",{open:!a.collapsed,"current-step":n.isCurrentStep}]),onClick:t[0]||(t[0]=function(){return i.toggleContents&&i.toggleContents.apply(i,arguments)})},[Object(o["createElementVNode"])("div",null,[Object(o["createTextVNode"])(Object(o["toDisplayString"])(n.item.title)+" ",1),i.hasManySections?(Object(o["openBlock"])(),Object(o["createBlock"])(s,{key:0,class:"cheveron inline -mt-1"})):Object(o["createCommentVNode"])("",!0)]),n.item.isComplete(i.group)?(Object(o["openBlock"])(),Object(o["createBlock"])(l,{key:0,color:"green"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{width:"12",height:"12"})]})),_:1})):Object(o["createCommentVNode"])("",!0)],2),Object(o["createVNode"])(o["Transition"],{name:"slide-fade-down"},{default:Object(o["withCtx"])((function(){return[c.item.sections&&i.hasManySections?Object(o["withDirectives"])((Object(o["openBlock"])(),Object(o["createElementBlock"])("ul",He,[(Object(o["openBlock"])(!0),Object(o["createElementBlock"])(o["Fragment"],null,Object(o["renderList"])(n.item.sections,(function(e,t){return Object(o["openBlock"])(),Object(o["createElementBlock"])("li",{key:t},[Object(o["createVNode"])(p,{item:e},null,8,["item"])])})),128))],512)),[[o["vShow"],!a.collapsed]]):Object(o["createCommentVNode"])("",!0)]})),_:1})])):(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",{key:1,class:"label",onClick:t[1]||(t[1]=function(e){return i.goToItem()})},Object(o["toDisplayString"])(n.item.title),1))])}var Qe={name:"MenuItem",props:{item:{required:!0,type:Object},collapsible:{type:Boolean,required:!1,default:!0},isCurrentStep:{type:Boolean,required:!1,default:!1}},data:function(){return{collapsed:!0}},computed:{label:function(){return this.item.label},contents:function(){return this.item.contents},route:function(){return this.item.route},group:function(){return this.$store.getters["groups/currentItemOrNew"]},isStep:function(){return this.item.sections},hasManySections:function(){return this.item.sections.length>0}},watch:{isCurrentStep:{immediate:!0,handler:function(e){this.collapsible&&(this.collapsed=!0),e&&(this.collapsed=!1)}}},methods:{collapse:function(){this.collapsed=!0},expand:function(){this.collapsed=!1},toggleContents:function(){this.collapsed=!this.collapsed,this.goToItem()},goToItem:function(){location.href="#",location.href="#".concat(this.item.name)}}};n("ed3e");const Ke=ue()(Qe,[["render",Je],["__scopeId","data-v-07b77618"]]);var Xe=Ke,Ze={components:{MenuItem:Xe},props:{application:{required:!0,type:Object},isCollapsed:{required:!1,type:Boolean,default:!1}},data:function(){return{}},computed:{group:function(){return this.$store.getters["groups/currentItemOrNew"]}},methods:{isCurrentStep:function(e){return e.name==this.application.getCurrentStep(this.group).name}}};n("4e39");const et=ue()(Ze,[["render",We],["__scopeId","data-v-4515a926"]]);var tt=et,nt=n("ae23"),ot={name:"GroupApplication",components:{ApplicationGcep:ke,ApplicationVcep:Ge,ApplicationMenu:tt},props:{uuid:{type:String,required:!0}},data:function(){return{showDocumentation:!1,showModal:!1,showApplicationToc:!0,lastSavedAt:new Date,saving:!1}},watch:{$route:function(){this.showModal=!!this.$route.meta.showModal&&Boolean(this.$route.meta.showModal)},uuid:{immediate:!0,handler:function(){var e=Object(y["a"])(regeneratorRuntime.mark((function e(t){var n=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$store.dispatch("groups/find",t).then((function(){n.$store.commit("groups/setCurrentItemIndexByUuid",n.uuid)}));case 2:return e.next=4,this.$store.dispatch("groups/getSubmissions",this.group);case 4:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()}},computed:{applicationComponent:function(){return this.group&&this.group.isVcep()?Ge:this.group&&this.group.isGcep()?ke:null},group:function(){var e=this.$store.getters["groups/currentItem"]||new nt["a"];return e||new nt["a"]},application:function(){return this.group.isVcep()?de["d"]:de["a"]}},methods:{hideModal:function(){this.$router.replace({name:"GroupApplication",params:{uuid:this.uuid}})},handleModalClosed:function(e){this.clearModalForm(e),this.$router.push({name:"GroupApplication",params:{uuid:this.uuid}})},clearModalForm:function(){"function"===typeof this.$refs.modalView.clearForm&&this.$refs.modalView.clearForm()},updateLastSavedAt:function(){this.saving=!1,this.lastSavedAt=new Date}},beforeUnmount:function(){this.$store.commit("groups/clearCurrentItem")},beforeRouteLeave:function(){if(this.$refs.application.applicationIsDirty()){var e=window.confirm("You have unsaved changes. If you continue your changes may be lost.");if(!e)return!1}}};n("16e8");const rt=ue()(ot,[["render",v],["__scopeId","data-v-62da1911"]]);t["default"]=rt},8972:function(e,t,n){},9235:function(e,t,n){},9584:function(e,t,n){},a75a:function(e,t,n){"use strict";n.d(t,"b",(function(){return s}));var o=n("5530"),r=n("1da1"),a=(n("96cf"),n("7a23")),i=n("033d"),c=n("f96b"),s=Object(a["ref"])({}),u=Object(a["ref"])(!1),l=function(){u.value=!1,s.value={}},p=function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){var n,r,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.method,r=t.url,a=t.data,e.prev=1,e.next=4,Object(c["a"])({method:n,url:r,data:a}).then((function(e){return e.data.data}));case 4:return e.abrupt("return",e.sent);case 7:e.prev=7,e.t0=e["catch"](1),Object(i["a"])(e.t0)&&(s.value=Object(o["a"])(Object(o["a"])({},s),e.t0.response.data.errors));case 10:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t){return e.apply(this,arguments)}}(),d=function(){s.value={}};t["a"]=function(){return{errors:s,editing:u,hideForm:l,submitFormData:p,resetErrors:d}}},b346:function(e,t,n){"use strict";n("9235")},bc02:function(e,t,n){"use strict";n("2a6f")},cd1c:function(e,t,n){"use strict";n("eb21")},eb21:function(e,t,n){},ec0d:function(e,t,n){"use strict";var o=n("7a23"),r=function(e){return Object(o["pushScopeId"])("data-v-16f93278"),e=e(),Object(o["popScopeId"])(),e},a={class:"text-sm"},i=r((function(){return Object(o["createElementVNode"])("tr",null,[Object(o["createElementVNode"])("th",{colspan:"2"},"Â "),Object(o["createElementVNode"])("th",{colspan:"1",colgroup:"biocurator"},"Â "),Object(o["createElementVNode"])("th",{colspan:"2",colgroup:"biocurator",class:"text-center"},"Training"),Object(o["createElementVNode"])("th",{colspan:"2"},"Â ")],-1)})),c=r((function(){return Object(o["createElementVNode"])("th",null,"First Name",-1)})),s=r((function(){return Object(o["createElementVNode"])("th",null,"Last Name",-1)})),u=r((function(){return Object(o["createElementVNode"])("th",{colgroup:"biocurator",class:"w-24"},"Biocurator",-1)})),l=r((function(){return Object(o["createElementVNode"])("th",{colgroup:"biocurator",class:"w-20"},"Level 1",-1)})),p=r((function(){return Object(o["createElementVNode"])("th",{colgroup:"biocurator",class:"w-20"},"Level 2",-1)})),d=r((function(){return Object(o["createElementVNode"])("th",null,"Biocurator Trainer",-1)})),b=Object(o["createTextVNode"])(" Core Approval Member ");function m(e,t,n,r,m,h){var f=Object(o["resolveComponent"])("icon-info"),O=Object(o["resolveComponent"])("popover"),g=Object(o["resolveComponent"])("member-designation-row");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",null,[Object(o["createElementVNode"])("table",a,[Object(o["createElementVNode"])("thead",null,[i,Object(o["createElementVNode"])("tr",null,[c,s,u,l,p,d,Object(o["createElementVNode"])("th",null,[b,Object(o["createVNode"])(O,{arrow:"",content:"Core approval members are responsible for ongoing final approval of variant classifications.",hover:""},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(f,{class:"inline-block cursor-pointer",width:16,height:16})]})),_:1})])])]),Object(o["createElementVNode"])("tbody",null,[(Object(o["openBlock"])(!0),Object(o["createElementBlock"])(o["Fragment"],null,Object(o["renderList"])(h.group.members,(function(e){return Object(o["openBlock"])(),Object(o["createBlock"])(g,{member:e,key:e.id,ref_for:!0,ref:"memberRow".concat(e.id),readonly:n.readonly,onUpdated:h.handleMemberUpdate},null,8,["member","readonly","onUpdated"])})),128))])])])}var h=n("1da1"),f=(n("96cf"),{colgroup:"biocurator"}),O=["disabled"],g={colgroup:"biocurator"},j=["disabled"],v={colgroup:"biocurator"},y=["disabled"],V=["disabled"],w=["disabled"];function C(e,t,n,r,a,i){return Object(o["openBlock"])(),Object(o["createElementBlock"])("tr",null,[Object(o["createElementVNode"])("td",null,Object(o["toDisplayString"])(a.workingCopy.person.first_name),1),Object(o["createElementVNode"])("td",null,Object(o["toDisplayString"])(a.workingCopy.person.last_name),1),Object(o["createElementVNode"])("td",f,[Object(o["withDirectives"])(Object(o["createElementVNode"])("input",{type:"checkbox","onUpdate:modelValue":t[0]||(t[0]=function(e){return i.biocurator=e}),disabled:!i.canEdit,onInput:t[1]||(t[1]=function(){return e.debounceSave&&e.debounceSave.apply(e,arguments)})},null,40,O),[[o["vModelCheckbox"],i.biocurator]])]),Object(o["createElementVNode"])("td",g,[Object(o["withDirectives"])(Object(o["createElementVNode"])("input",{type:"checkbox","onUpdate:modelValue":t[2]||(t[2]=function(e){return a.workingCopy.training_level_1=e}),disabled:!i.canEdit,onInput:t[3]||(t[3]=function(){return e.debounceSave&&e.debounceSave.apply(e,arguments)})},null,40,j),[[o["vModelCheckbox"],a.workingCopy.training_level_1]])]),Object(o["createElementVNode"])("td",v,[Object(o["withDirectives"])(Object(o["createElementVNode"])("input",{type:"checkbox","onUpdate:modelValue":t[4]||(t[4]=function(e){return a.workingCopy.training_level_2=e}),disabled:!i.canEdit,onInput:t[5]||(t[5]=function(){return e.debounceSave&&e.debounceSave.apply(e,arguments)})},null,40,y),[[o["vModelCheckbox"],a.workingCopy.training_level_2]])]),Object(o["createElementVNode"])("td",null,[Object(o["withDirectives"])(Object(o["createElementVNode"])("input",{type:"checkbox","onUpdate:modelValue":t[6]||(t[6]=function(e){return i.biocuratorTrainer=e}),disabled:!i.canEdit,onInput:t[7]||(t[7]=function(){return e.debounceSave&&e.debounceSave.apply(e,arguments)})},null,40,V),[[o["vModelCheckbox"],i.biocuratorTrainer]])]),Object(o["createElementVNode"])("td",null,[Object(o["withDirectives"])(Object(o["createElementVNode"])("input",{type:"checkbox","onUpdate:modelValue":t[8]||(t[8]=function(e){return i.coreApprovalMember=e}),disabled:!i.canEdit,onInput:t[9]||(t[9]=function(){return e.debounceSave&&e.debounceSave.apply(e,arguments)})},null,40,w),[[o["vModelCheckbox"],i.coreApprovalMember]])])])}var k=n("86ed"),N=n("2ef0"),_={name:"ComponentName",props:{member:{type:k["a"],required:!0},readonly:{type:Boolean,required:!1,default:!1}},emits:["updated"],data:function(){return{workingCopy:new k["a"]}},computed:{group:function(){return this.$store.getters["groups/currentItemOrNew"]},biocurator:{get:function(){return this.workingCopy.hasRole("biocurator")},set:function(e){this.toggleRole(e,"biocurator")}},biocuratorTrainer:{get:function(){return this.workingCopy.hasRole("biocurator-trainer")},set:function(e){this.toggleRole(e,"biocurator-trainer")}},coreApprovalMember:{get:function(){return this.workingCopy.hasRole("core-approval-member")},set:function(e){this.toggleRole(e,"core-approval-member")}},canEdit:function(){return this.hasAnyPermission(["ep-applications-manage",["application-edit",this.group]])&&!this.readonly}},watch:{member:{immediate:!0,handler:function(e){this.syncWorkingCopy(e)}}},methods:{initWorkingCopy:function(){this.workingCopy=new k["a"]},syncWorkingCopy:function(e){e.id&&(this.workingCopy=e.clone())},toggleRole:function(e,t){e?this.workingCopy.addRole(t):this.workingCopy.removeRole(t)},save:function(){var e=[];return e.push(this.updateTrainingInfo()),e.push(this.syncRoles()),e},updateTrainingInfo:function(){if(this.workingCopy.isDirty("training_level_1")||this.workingCopy.isDirty("training_level_2"))return this.$store.dispatch("groups/memberUpdate",{groupUuid:this.group.uuid,memberId:this.workingCopy.id,data:{training_level_1:this.workingCopy.training_level_1,training_level_2:this.workingCopy.training_level_2}})},syncRoles:function(){if(this.workingCopy.isDirty("roles"))return this.$store.dispatch("groups/memberSyncRoles",{group:this.group,member:this.workingCopy})},emitUpdated:function(){this.$emit("updated",this.workingCopy)}},created:function(){var e=this;this.debounceSave=Object(N["debounce"])((function(){e.save()}),1e3)}},x=(n("cd1c"),n("6b0d")),E=n.n(x);const S=E()(_,[["render",C],["__scopeId","data-v-42410892"]]);var B=S,D={name:"MemberDesignationForm",components:{MemberDesignationRow:B},props:{readonly:{type:Boolean,required:!1,default:!1}},computed:{group:{get:function(){return this.$store.getters["groups/currentItemOrNew"]}},canEdit:function(){return this.hasAnyPermission(["ep-applications-manage",["application-edit",this.group]])&&!this.readonly}},watch:{group:{immediate:!0,handler:function(e,t){var n=this;return Object(h["a"])(regeneratorRuntime.mark((function o(){return regeneratorRuntime.wrap((function(o){while(1)switch(o.prev=o.next){case 0:!e.id||t&&e.id==t.id||n.$store.dispatch("groups/getMembers",n.group);case 1:case"end":return o.stop()}}),o)})))()}}},methods:{getMembers:function(){this.$store.dispatch("groups/getMembers",{group:this.group})},handleMemberUpdate:function(){this.$emit("updated")}}};n("b346");const U=E()(D,[["render",m],["__scopeId","data-v-16f93278"]]);t["a"]=U},ed3e:function(e,t,n){"use strict";n("8972")}}]);
//# sourceMappingURL=group-application.86954f75.js.map