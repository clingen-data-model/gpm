{"version":3,"sources":["webpack:///./src/components/groups/MemberList.vue","webpack:///./src/components/groups/MemberPreview.vue","webpack:///./src/components/people/ProfilePicture.vue","webpack:///./src/components/people/ProfilePicture.vue?31da","webpack:///./src/components/groups/MemberPreview.vue?26f1","webpack:///./src/components/groups/MemberList.vue?8ccb","webpack:///./src/components/expert_panels/VcepOngoingPlansForm.vue","webpack:///./src/components/expert_panels/VcepOngoingPlansForm.vue?49a8","webpack:///./src/components/expert_panels/GcepGeneList.vue","webpack:///./node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js","webpack:///./node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js","webpack:///./node_modules/@babel/runtime/helpers/esm/nonIterableRest.js","webpack:///./node_modules/@babel/runtime/helpers/esm/slicedToArray.js","webpack:///./src/components/expert_panels/GcepGeneList.vue?6c8b","webpack:///./src/components/groups/MemberList.vue?0256","webpack:///./src/components/groups/GroupForm.vue","webpack:///./src/components/groups/GroupForm.vue?8a8f","webpack:///./src/components/expert_panels/RequirementsItem.vue","webpack:///./src/components/expert_panels/RequirementsItem.vue?5c96","webpack:///./src/components/expert_panels/EvidenceSummaryList.vue","webpack:///./src/components/expert_panels/EvidenceSummary.vue","webpack:///./src/components/expert_panels/EvidenceSummaryForm.vue","webpack:///./src/components/expert_panels/EvidenceSummaryForm.vue?d628","webpack:///./src/components/expert_panels/EvidenceSummary.vue?a704","webpack:///./src/components/expert_panels/EvidenceSummaryList.vue?9177","webpack:///./src/components/expert_panels/RequirementsBadge.vue","webpack:///./src/components/expert_panels/RequirementsBadge.vue?0a82","webpack:///./src/components/expert_panels/VcepGeneList.vue?d35e","webpack:///./src/composables/router_aware_sort_and_filter.js","webpack:///./src/components/expert_panels/VcepGeneList.vue","webpack:///./src/components/expert_panels/VcepGeneList.vue?32a1","webpack:///./src/components/expert_panels/GcepOngoingPlansForm.vue","webpack:///./src/components/expert_panels/GcepOngoingPlansForm.vue?b563","webpack:///./src/forms/form_factory.js","webpack:///./src/components/expert_panels/CspecSummary.vue","webpack:///./src/components/expert_panels/CspecSummary.vue?11da","webpack:///./src/components/expert_panels/RequirementsBadge.vue?0c85"],"names":["class","value","group","members","length","ref","showFilter","toggleFilter","hasAnyPermission","to","append","$route","path","name","label","type","filters","keyword","label-width","roleId","roles","role","key","id","needsCoi","hideAlumns","fields","fieldsForGroupType","data","filteredMembers","sort","detailRows","row-class","item","isRetired","goToMember","cell-id","toggleItemDetails","showDetails","cell-roles","titleCase","map","i","join","cell-coi_last_completed","coi_last_completed","formatDate","yearAgo","getCoiDateStyle","cell-actions","hasAnyMemberPermission","hide-cheveron","editMember","confirmRetireMember","confirmRemoveMember","is_contact","width","height","icon-name","detail","member","showConfirmRetire","size","title","selectedMemberName","retireMember","cancelRetire","submit-text","showConfirmRemove","removeMember","cancelRemove","variant","person","email","institution_id","institution","credentials","obj","only","start_date","end_date","hasRole","training_level_1","training_level_2","permissions","uuid","profile_photo_path","src","icon-color","props","required","computed","hasProfilePhoto","this","methods","render","components","ProfilePicture","emits","setup","MemberPreview","needsTraining","tableFields","Number","sortable","String","Date","Object","selectedMember","$store","getters","filter","m","matchesFilters","isEp","splice","findIndex","f","configs","groups","coiCuttoff","cuttoff","setFullYear","getFullYear","watch","immediate","handler","from","dispatch","field","desc","matchesKeyword","coiUpToDate","trainingComplete","string","date","$router","push","memberId","startDate","endDate","toISOString","console","error","params","hasPerm","expert_panel","meeting_frequency","errors","placeholder","disabled","canEdit","curation_review_protocol_id","vertical","label-class","curation_review_process_notes","default","editing","Boolean","readonly","get","set","commit","style","showForm","genes","rows","genesAsText","loading","_arrayWithHoles","arr","Array","isArray","_iterableToArrayLimit","_i","Symbol","iterator","_s","_e","_arr","_n","_d","call","next","done","err","_nonIterableRest","TypeError","_slicedToArray","arrayWithHoles","iterableToArrayLimit","unsupportedIterableToArray","nonIterableRest","resetErrors","$emit","context","store","hideForm","emit","cancel","getGenes","syncGenesAsText","expertPanel","g","gene_symbol","response","save","split","RegExp","api","post","is_validation_error","messages","forEach","pushError","geneMessages","keys","geneIdx","parseInt","canSetType","group_type_id","groupTypes","fullname","typeDisplayName","mode","long_base_name","input-class","short_base_name","affiliation_id","affiliationIdPlaceholder","hasPermission","group_status_id","groupStatuses","status","parent_id","parents","parent","displayName","statuses","newGroup","e","toUpperCase","cdwgs","namesDirty","isDirty","affiliationIdDirty","updateGroup","createGroup","then","attributes","promises","saveGroupData","saveEpData","Promise","all","saveParent","saveName","saveStatus","submitFormData","method","url","affiliationId","attribute","status_id","resetData","getParentOptions","beforeMount","requirement","isMet","summaries","evidence_summaries","summary","idx","handleSavedSummary","handleDeleted","startNewSummary","newSummaries","newSummary","cancelAdd","adding","handleSaved","cancelEdit","gene","edit","confirmDelete","vci_url","href","target","showDeleteConfirm","deleteSummary","cancelDelete","gene_id","summaryClone","groupGenes","getGroupGenes","initSummaryClone","EvidenceSummaryForm","delete","EvidenceSummary","selectedSummary","meetsRequirements","getEvidenceSummaries","log","clearNewSummaries","s","mergeSummary","hasRequirements","arrow","hover","content","evaledRequirements","req","color","badgeColor","badgeText","RequirementsItem","section","metCount","metRequirements","requirements","evaluateRequirements","defaultSort","router","useRouter","route","useRoute","query","includes","sortObj","newSortQuery","newQuery","replace","currentQuery","currentPath","updatedQuery","colspan","addNewGene","orderedGenes","hgnc_id","mondo_id","disease","updateCancel","updateGene","disease_name","date_approved","toDelete","remove","removeCountdown","cancelPendingRemove","newGenes","newGene","GeneSearchSelect","DiseaseSearchSelect","sortedGenes","a","b","clearNewGenes","clearRemoveCountdown","removeTimeout","clearTimeout","clearInterval","removeInterval","clearRemovalFlags","setTimeout","setInterval","filteredGenes","ng","scope","put","curation_review_protocol_other","hasSpecifications","specFields","specifications","cell-status_name","mounted"],"mappings":"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","file":"js/application-detail~group-application~group-detail.7f97c326.js","sourcesContent":["<script>\nimport configs from '@/configs.json'\nimport { formatDate, yearAgo } from '@/date_utils'\nimport sortAndFilter from '@/composables/router_aware_sort_and_filter'\nimport MemberPreview from '@/components/groups/MemberPreview'\nimport { titleCase } from '@/utils'\n\nexport default {\n    name: 'MemberList',\n    components: {\n        MemberPreview,\n    },\n    data() {\n        return {\n            showFilter: false,\n            showConfirmRetire: false,\n            showConfirmRemove: false,\n            filters: {\n                keyword: null,\n                roleId: null,\n                needsCoi: null,\n                needsTraining: null,\n                hideAlumns: true \n            },\n            tableFields: [\n                {\n                    name: 'id',\n                    label: '',\n                    type: Number,\n                    sortable: false,\n                },\n                {\n                    name: 'person.first_name',\n                    label: 'First',\n                    type: String,\n                    sortable: true,\n                },\n                {\n                    name: 'person.last_name',\n                    label: 'Last',\n                    type: String,\n                    sortable: true,\n                },\n                {\n                    name: 'person.timezone',\n                    label: 'Closest City (for timezone)',\n                    type: String,\n                    sortable: true,\n                },\n                {\n                    name: 'roles',\n                    label: 'Roles',\n                    sortable: false\n                },\n                {\n                    name: 'coi_last_completed',\n                    label: 'COI Completed',\n                    type: Date,\n                    sortable: true,\n                },\n                // {\n                //     name: 'training_completed_at',\n                //     label: 'Training Completed',\n                //     type: Date,\n                //     sortable: true\n                // },\n                {\n                    name: 'actions',\n                    label: '',\n                    type: Object,\n                    sortable: false\n                }\n\n            ],\n            selectedMember: null,\n            hideAlumns: true,\n            members: []\n        }\n    },\n    computed: {\n        group () {\n            return this.$store.getters['groups/currentItemOrNew'];\n        },\n        \n        filteredMembers () {\n            if (!this.group.members) {\n                return [];\n            }\n            return this.group.members\n                    .filter(m => this.matchesFilters(m))\n                    .filter(m => {\n                        if (this.filters.hideAlumns) {\n                            return m.end_date === null;\n                        }\n                        return m;\n                    });\n        },\n        fieldsForGroupType () {\n            const fields = [...this.tableFields];\n            if (!this.group.isEp()) {\n               delete fields.splice(fields.findIndex(f => f.name == 'coi_last_completed'), 1);\n            }\n            return fields;\n        },\n        roles () {\n            return configs.groups.roles;\n        },\n        coiCuttoff () {\n            const cuttoff = new Date();\n            cuttoff.setFullYear(cuttoff.getFullYear()-1);\n            return cuttoff;\n        },\n        selectedMemberName () {\n            return this.selectedMember ? this.selectedMember.person.name : null\n        }\n    },\n    watch: {\n        group: {\n            immediate: true,\n            handler (to, from) {\n                if ((to.id && (!from || to.id != from.id))) {\n                    this.$store.dispatch('groups/getMembers', this.group);\n                }\n            }\n        }\n    },\n    setup() {\n        const {sort, filter} = sortAndFilter({field: 'person.last_name', desc: false});\n\n        return {\n            sort,\n            filter,\n            yearAgo\n        }\n    },\n    methods: {\n        toggleFilter() {\n            this.showFilter = !this.showFilter;\n        },\n        matchesFilters(member) {\n            if (this.filters.keyword && !member.matchesKeyword(this.filters.keyword)) {\n                return false;\n            }\n            if (this.filters.roleId && !member.hasRole(this.filters.roleId)) {\n                return false;\n            }\n            if (this.filters.needsCoi && member.coiUpToDate()) {\n                return false;\n            }\n\n            if (this.filters.needsTraining && member.trainingComplete()) {\n                return false;\n            }\n\n            return true;\n        },\n        toggleItemDetails(item) {\n            item.showDetails = !item.showDetails;\n        },\n        titleCase (string) {\n            return titleCase(string);\n        },\n        formatDate (date) {\n            return formatDate(date)\n        },\n        editMember (member) {\n            this.$router.push(this.append(this.$route.path, `members/${member.id}`))\n        },\n        confirmRetireMember (member) {\n            this.showConfirmRetire = true;\n            this.selectedMember = member;\n        },\n        async retireMember (member) {\n            try {\n                await this.$store.dispatch('groups/memberRetire', {\n                    uuid: this.group.uuid,\n                    memberId: member.id,\n                    startDate: member.start_date, \n                    endDate: new Date().toISOString()\n                });\n                this.cancelRetire();\n            } catch (error) {\n                console.error(error);\n            }\n        },\n        cancelRetire () {\n            this.selectedMember = null;\n            this.showConfirmRetire = false;\n        },\n        confirmRemoveMember (member) {\n            this.showConfirmRemove = true;\n            this.selectedMember = member;\n        },\n        async removeMember () {\n            try {\n                await this.$store.dispatch('groups/memberRemove', {\n                    uuid: this.group.uuid,\n                    memberId: this.selectedMember.id,\n                    startDate: this.selectedMember.start_date, \n                    endDate: new Date().toISOString()\n                });\n                this.cancelRemove();\n            } catch (error) {\n                console.error(error);\n            }\n        },\n        cancelRemove () {\n            this.selectedMember = null;\n            this.showConfirmRemove = false;\n        },\n        goToMember (member) {\n            this.$router.push({name: 'PersonDetail', params: {uuid: member.person.uuid}})\n        },\n        hasAnyMemberPermission () {\n            const hasPerm = this.hasAnyPermission([\n                ['members-update', this.group],\n                ['members-retire', this.group],\n                ['members-remove', this.group],\n                'groups-manage'\n            ])\n\n            return hasPerm;\n        },\n        getCoiDateStyle (member) {\n            if (member.coi_last_completed === null) {\n                return 'text-red-700';\n            }\n            return 'text-yellow-500';\n        }    \n    }\n}\n</script>\n<template>\n    <div>\n        <head class=\"flex justify-between items-baseline\">\n            <div class=\"flex space-x-2 items-baseline\">\n                <h2>Members</h2>\n                <button \n                    ref=\"filterToggleButton\" \n                    class=\"px-3 py-2 rounded-t transition-color\" \n                    :class=\"{'rounded-b': !showFilter, 'bg-blue-200': showFilter}\" \n                    @click=\"toggleFilter\"\n                    v-if=\"group.members.length > 0\"\n                >\n                    <icon-filter></icon-filter>\n                </button>\n            </div>\n            <router-link \n                class=\"btn btn-xs\" \n                ref=\"addMemberButton\" \n                :to=\"append($route.path, 'members/add')\"\n                v-if=\"hasAnyPermission([['members-invite', group], 'groups-manage'])\"\n            >Add Member</router-link>\n        </head>\n        <transition name=\"slide-fade-down\">\n            <div v-show=\"showFilter\" class=\"flex justify-between px-2 space-x-2 bg-blue-200 rounded-lg\"                v-if=\"group.members.length > 0\">\n                <div class=\"flex-1\">\n                    <input-row label=\"Keyword\" type=\"text\" v-model=\"filters.keyword\" :label-width=\"20\"></input-row>\n                    <input-row label=\"Role\" :label-width=\"20\">\n                    <select v-model=\"filters.roleId\">\n                        <option :value=\"null\">Select&hellip;</option>\n                        <option \n                            v-for=\"role in roles\"\n                            :key=\"role.id\"\n                            :value=\"role.id\"\n                        >\n                            {{role.name}}\n                        </option>\n                    </select>\n                </input-row>\n                </div>\n                <div class=\"flex-1 py-2\">\n                    <checkbox class=\"block\" label=\"Needs COI\" v-model=\"filters.needsCoi\" />\n                    <!-- <checkbox class=\"block\" label=\"Needs Training\" v-model=\"filters.needsTraining\" /> -->\n                </div>\n                <div class=\"flex-1 py-2\">\n                    <checkbox class=\"block\" label=\"Hide Alumns\" v-model=\"filters.hideAlumns\" />\n                </div>\n            </div>\n        </transition>\n        \n        <div class=\"mt-3 py-2 w-full overflow-auto\">\n            <data-table \n                :fields=\"fieldsForGroupType\" \n                :data=\"filteredMembers\" \n                v-model:sort=\"sort\" \n                :detailRows=\"true\" \n                :row-class=\"(item) => 'cursor-pointer'+ (item.isRetired ? ' retired-member' : '')\"\n                @rowClick=\"goToMember\"\n                v-if=\"group.members.length > 0\"\n            >\n                <template v-slot:cell-id=\"{item}\">\n                    <button @click.stop=\"toggleItemDetails(item)\" class=\"w-9 align-center block -mx-3\">\n                        <icon-cheveron-right v-if=\"!item.showDetails\" class=\"m-auto cursor-pointer\" />\n                        <icon-cheveron-down v-if=\"item.showDetails\" class=\"m-auto cursor-pointer\" />\n                    </button>\n                </template>\n                <template v-slot:cell-roles=\"{value}\">\n                    {{titleCase(value.map(i => i.name).join(', '))}}\n                </template>\n                <template v-slot:cell-coi_last_completed=\"{item}\">\n                    <div class=\"flex space-x-2\">\n                        <span v-if=\"item.coi_last_completed\">{{formatDate(item.coi_last_completed)}}</span>\n                        <icon-exclamation\n                            v-if=\"!item.coi_last_completed === null || (item.coi_last_completed < yearAgo())\"\n                            :class=\"getCoiDateStyle(item)\"\n                        />\n                    </div>\n                </template>\n                <template v-slot:cell-actions=\"{item}\">\n                    <div class=\"flex space-x-2 items-center\">\n                        <dropdown-menu :hide-cheveron=\"true\" class=\"relative\" v-if=\"hasAnyMemberPermission()\">\n                            <template v-slot:label>\n                                <button class=\"btn btn-xs\">&hellip;</button>\n                            </template>\n                            <dropdown-item\n                                v-if=\"hasAnyPermission([['members-update', group], 'groups-manage'])\"\n                            >\n                                <div @click=\"editMember(item)\">Update membership</div>\n                            </dropdown-item>\n                            <dropdown-item\n                                v-if=\"hasAnyPermission([['members-retire', group], 'groups-manage'])\"\n                            >\n                                <div @click=\"confirmRetireMember(item)\">Retire from group</div>\n                            </dropdown-item>\n                            <dropdown-item\n                                v-if=\"hasAnyPermission([['members-remove', group], 'groups-manage'])\"\n                            >\n                                <div @click=\"confirmRemoveMember(item)\">Remove from group</div>\n                            </dropdown-item>\n                        </dropdown-menu>\n                        <icon-notification v-if=\"item.is_contact\" :width=\"12\" :height=\"12\" icon-name=\"Is a group contact\" @click.stop=\"\"/>\n                    </div>\n                </template>\n\n                <template v-slot:detail=\"{item}\">\n                    <member-preview :member=\"item\" :group=\"group\"></member-preview>\n                </template>\n            </data-table>\n            <div v-else class=\"well\">\n                This group does not yet have any members.\n            </div>\n        </div>\n        <teleport to='body'>\n            <modal-dialog v-model=\"showConfirmRetire\" size=\"xs\" :title=\"`Retire ${selectedMemberName}?`\">\n                <p class=\"text-lg\">\n                    Are you sure you want to retire {{selectedMemberName}} from this group?\n                </p>\n                <button-row @submit=\"retireMember\" @cancel=\"cancelRetire\" submit-text=\"Retire Member\"></button-row>\n            </modal-dialog>\n            <modal-dialog v-model=\"showConfirmRemove\" size=\"xs\" :title=\"`Remove ${selectedMemberName}?`\">\n                <p class=\"text-lg\"> Are you sure you want to remove {{selectedMemberName}} from this group?</p>\n                <p><strong>This cannot be undone.</strong></p>\n                <button-row @submit=\"removeMember\" @cancel=\"cancelRemove\" submit-text=\"Remove Member\"></button-row>\n            </modal-dialog>\n        </teleport>\n    </div>\n</template>\n<style>\n    .inset {\n        box-shadow: \n            inset 0px 11px 15px -10px #CCC,\n            inset 0px -11px 10px -10px #EEE; \n    }\n    .transition-color {\n        transition: background-color .3 linear;\n    }\n    .retired-member > td {\n        @apply text-gray-400;\n    }\n</style>","<template>\n    <div class=\"px-8 py-4 inset\">\n        <static-alert variant=\"warning\" v-if=\"member.isRetired\" class=\"mb-3 float-right\">\n            RETIRED\n        </static-alert>\n\n        <div class=\"md:flex flex-wrap space-x-4 text-sm\">\n            <div>\n                <profile-picture :person=\"member.person\"></profile-picture>\n                <note>member id: {{member.id}}</note>\n            </div>\n            <div class=\"flex-1 md:flex flex-wrap\">\n                <div class=\"flex-1 mr-8\">\n                    <dictionary-row label=\"Email\">{{member.person.email}}</dictionary-row>\n                    <dictionary-row label=\"Institution\">{{member.person.institution_id ? member.person.institution.name : '--'}}</dictionary-row>\n                    <dictionary-row label=\"Credentials\">{{member.person.credentials}}</dictionary-row>\n                    <object-dictionary\n                        :obj=\"member\"\n                        :only=\"['expertise', 'notes']\"\n                    ></object-dictionary>\n                        <dictionary-row label=\"Start - End\">\n                            {{formatDate(member.start_date)}} - {{formatDate(member.end_date) || 'present'}}\n                        </dictionary-row>\n                </div>\n                <div class=\"flex-1 mr-4\">\n                    <h4>Biocurator Training:</h4>\n                    <div v-if=\"member.hasRole('biocurator')\"  class=\"ml-2\">\n                        <dictionary-row label=\"Level 1 training\">\n                            <icon-checkmark class=\"text-green-700\" v-if=\"member.training_level_1\"/>\n                        </dictionary-row>\n                        <dictionary-row label=\"Level 2 training\">\n                            <icon-checkmark class=\"text-green-700\" v-if=\"member.training_level_2\"/>\n                        </dictionary-row>\n                    </div>\n                    <div class=\"mt-2\">\n                        <h4>Roles:</h4>\n                        <div class=\"ml-2\">\n                            {{member.roles.length > 0 ? member.roles.map(i => titleCase(i.name)).join(', ') : '--'}}\n                        </div>\n                    </div>\n                    <div class=\"mt-2\">\n                        <h4>Extra Permissions:</h4>\n                        <div class=\"ml-2\">\n                            {{member.permissions.length > 0 ? member.permissions.map(i => i.name).join(', ') : '--'}}\n                        </div>\n                    </div>\n                </div>\n            </div>\n            <div>\n            </div>\n        </div>\n        <router-link class=\"link\" \n            :to=\"{name: 'PersonDetail', params: {uuid: this.member.person.uuid}}\">\n            View profile\n        </router-link>\n    </div>\n</template>\n<script>\nimport GroupMember from '@/domain/group_member';\nimport Group from '@/domain/group';\nimport ProfilePicture from '@/components/people/ProfilePicture'\nimport {formatDate} from '@/date_utils'\n\n\n\nexport default {\n    name: 'MemberPreview',\n    components: {\n        ProfilePicture,\n    },\n    props: {\n        member: {\n            type: GroupMember,\n            required: true\n        },\n        group: {\n            type: Group,\n            required: true\n        }\n    },\n    emits: [\n        'edit',\n    ],\n    setup () {\n        return {\n            formatDate: formatDate\n        }\n    }\n}\n</script>","<template>\n    <div class=\"w-24 border border-gray-300 bg-white\">\n        <img v-if=\"person.profile_photo_path\" :src=\"person.profile_photo_path\">\n        <icon-user v-else height=\"96\" width=\"96\" icon-color=\"#888\" />\n    </div>\n</template>\n<script>\nimport Person from '@/domain/person'\n\n\nexport default {\n    name: 'ProfilePicture',\n    props: {\n        person: {\n            required: true,\n            type: Person\n        }\n    },\n    data() {\n        return {\n            \n        }\n    },\n    computed: {\n        hasProfilePhoto () {\n            return this.person.profile_photo_path !== null;\n        }\n    },\n    methods: {\n\n    }\n}\n</script>","import { render } from \"./ProfilePicture.vue?vue&type=template&id=02ff36a4\"\nimport script from \"./ProfilePicture.vue?vue&type=script&lang=js\"\nexport * from \"./ProfilePicture.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","import { render } from \"./MemberPreview.vue?vue&type=template&id=e808c0ea\"\nimport script from \"./MemberPreview.vue?vue&type=script&lang=js\"\nexport * from \"./MemberPreview.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","import { render } from \"./MemberList.vue?vue&type=template&id=2bb9c0d8\"\nimport script from \"./MemberList.vue?vue&type=script&lang=js\"\nexport * from \"./MemberList.vue?vue&type=script&lang=js\"\n\nimport \"./MemberList.vue?vue&type=style&index=0&id=2bb9c0d8&lang=css\"\nscript.render = render\n\nexport default script","<template>\n    <div>\n        <div class=\"mb-4\">\n            <input-row \n                v-model=\"group.expert_panel.meeting_frequency\" \n                label=\"Meeting/call frequency\" \n                :errors=\"errors.meeting_frequency\"\n                placeholder=\"Once per week\"\n                :label-width=\"44\"\n                :disabled=\"!canEdit\"\n            >\n            </input-row>\n            <input-row label=\"VCEP Standardized Review Process\" :errors=\"errors.curation_review_protocol_id\" vertical>\n                <div>\n                    <label class=\"mt-2\">\n                        <input type=\"radio\" \n                            v-model=\"group.expert_panel.curation_review_protocol_id\" \n                            value=\"1\" \n                            class=\"mt-1\"\n                            :disabled=\"!canEdit\"\n                        >\n                        <div>Process #1: Biocurator review followed by VCEP discussion</div>\n                    </label>\n                    <label class=\"mt-2\">\n                        <input type=\"radio\" \n                            v-model=\"group.expert_panel.curation_review_protocol_id\" \n                            value=\"2\" \n                            class=\"mt-1\"\n                            :disabled=\"!canEdit\"\n                        >\n                       <div>Process #2: Paired biocurator/expert review followed by expedited VCEP approval</div>\n                    </label>\n                </div>\n            </input-row>\n        </div>\n        <p class=\"text-sm mb-0\">For all variants approved by either of the processes described above, a summary of approved variants should be sent to ensure that any members absent from a call have an opportunity to review each variant. The summary should be emailed to the full VCEP after the call and should summarize decisions that were made and invite feedback within a week.</p>\n\n        <input-row label=\"Curation and Review Process Notes\" :vertical=\"true\" label-class=\"font-bold\">\n            <textarea \n                v-if=\"canEdit\"\n                class=\"w-full h-20\" \n                v-model=\"group.expert_panel.curation_review_process_notes\" \n            />\n            <blockquote v-else>\n                {{group.expert_panel.curation_review_process_notes}}\n            </blockquote>\n        </input-row>\n    </div>\n</template>\n<script>\n\nexport default {\n    name: 'VcepOngoingPlansForm',\n    props: {\n        errors: {\n            type: Object,\n            required: false,\n            default: () => ({})\n        },\n        editing: {\n            type: Boolean,\n            required: false,\n            default: true\n        },\n        readonly: {\n            type: Boolean,\n            required: false,\n            default: false\n        },\n    },\n    computed: {\n        group: {\n            get () {\n                return this.$store.getters['groups/currentItemOrNew'];\n            }, \n            set (value) {\n                this.$store.commit('groups/addItem', value)\n            }\n        },\n        canEdit () {\n            return this.hasAnyPermission([\n                'ep-applications-manage',\n                ['application-edit', this.group]\n            ])\n            && !this.readonly;\n        }\n    }\n}\n\n</script> ","import { render } from \"./VcepOngoingPlansForm.vue?vue&type=template&id=b2a9b062\"\nimport script from \"./VcepOngoingPlansForm.vue?vue&type=script&lang=js\"\nexport * from \"./VcepOngoingPlansForm.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","<template>\n    <div>\n        <h4 class=\"flex justify-between mb-2\">\n            Gene List\n            <edit-icon-button \n                v-if=\"hasAnyPermission(['groups-manage', ['application-edit', group]]) && !editing && !readonly\"\n                @click=\"showForm\"\n            ></edit-icon-button>\n        </h4>\n        <div v-if=\"editing\">\n            <input-row \n                :vertical=\"true\"\n                label=\"List the gene symbols for the genes the Expert Panel plans to curate.  Separate genes by commas, spaces, or new lines.\"\n                :errors=\"errors.genes\"\n            >\n                <textarea id=\"\" class=\"w-full\" rows=\"5\" v-model=\"genesAsText\" placeholder=\"ABC, DEF1, BEAN\"></textarea>\n            </input-row>\n        </div>\n        <div v-else>\n            <p v-if=\"genesAsText\" style=\"text-indent: 1rem;\">{{genesAsText}}</p>\n            <div class=\"well cursor-pointer\" v-else @click=\"showForm\">\n                {{ loading ? `Loading...` : `No genes have been added to the gene list.`}}\n            </div>\n        </div>\n    </div>\n</template>\n<script>\nimport {ref, watch, computed, onMounted} from 'vue';\nimport {useStore} from 'vuex';\nimport formFactory from '@/forms/form_factory'\nimport is_validation_error from '@/http/is_validation_error'\nimport api from '@/http/api'\nimport Group from '@/domain/group'\n\nexport default {\n    name: 'GcepGeneList',\n    components: {\n    },\n    props: {\n        editing: {\n            type: Boolean,\n            required: false,\n            default: true\n        },\n        readonly: {\n            type: Boolean,\n            required: false,\n            default: false\n        }\n    },\n    computed: {\n        canEdit () {\n            return this.hasAnyPermission(['groups-manage', ['application-edit', this.group]]);\n        }\n    },\n    emits: [\n        'saved',\n        'canceled',\n        'update:editing'\n    ],\n    methods: {\n        showForm () {\n            if (this.canEdit) {\n                this.resetErrors();\n                this.$emit('update:editing', true);\n            }\n        }\n\n    },\n    setup(props, context) {\n        const store = useStore();\n\n        const loading = ref(false);\n        const genesAsText = ref(null);\n\n        const {errors, resetErrors} = formFactory(props, context)\n\n        const group = computed({\n            get() {\n                return store.getters['groups/currentItemOrNew'];\n            },\n            set (value) {\n                store.commit('groups/addItem', value)\n            }\n        });\n\n        const hideForm = () => {\n            context.emit('update:editing', false);\n            errors.value = {};\n        }\n        const cancel = () => {\n            resetErrors();\n            getGenes();\n            hideForm();\n            context.emit('canceled');\n        }\n\n        const syncGenesAsText = () => {\n            if (!group.value.expert_panel) {\n                return;\n            }\n            genesAsText.value = group.value.expert_panel.genes\n                ? group.value.expertPanel.genes.join(', ')\n                : null\n        };\n        const getGenes = async () => {\n            if (!group.value.uuid) {\n                return;\n            }\n            loading.value = true;\n            try {\n                await store.dispatch('groups/getGenes', group.value);\n                genesAsText.value = group.value.expert_panel.genes.map(g => g.gene_symbol).join(\", \");\n            } catch (error) {\n                store.commit('pushError', error.response.data);\n            }\n            loading.value = false;\n            \n        }\n        const save = async () => {\n            const genes = genesAsText.value \n                            ? genesAsText.value\n                                .split(new RegExp(/[, \\n]/))\n                                .filter(i => i !== '')\n                            : [];\n\n            try {\n                await api.post(`/api/groups/${group.value.uuid}/expert-panel/genes`, {genes});\n                hideForm();\n                context.emit('saved')\n                getGenes();\n            } catch (error) {\n                if (is_validation_error(error)) {\n                    const messages = error.response.data.errors\n                    if (messages.group) {\n                        messages.group\n                            .forEach(m => {\n                                store.pushError(m)\n                            })\n                    }\n                    const geneMessages = Object.keys(messages).map(key => {\n                        const [g, geneIdx] = key.split('.')\n                        if (g == 'genes') {\n                            if (geneIdx) {\n                                return `Gene #${(parseInt(geneIdx)+1)}, \"${genes[geneIdx]}\" wasn't found in our records.  Please confirm it is currently an approved HGNC gene symbol.`\n                            }\n                            return messages[key];\n                        }\n                    });\n                    errors.value = {\n                        genes: geneMessages\n                    }\n                }\n            }\n        };\n\n\n        watch(() => store.getters['groups/currentItem'], (to, from) => {\n            if (to.id && (!from || to.id != from.id)) {\n                // syncGenesAsText();\n                getGenes();\n            }\n        })\n\n        onMounted(() => {\n            getGenes();\n        })\n\n        watch(() => group.value.expert_panel.genes, () => {\n            // syncGenesAsText();\n        })\n\n        return {\n            group,\n            genesAsText,\n            loading,\n            errors,\n            resetErrors,\n            hideForm,\n            cancel,\n            syncGenesAsText,\n            save,\n        }\n    }\n}\n</script>","export default function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}","export default function _iterableToArrayLimit(arr, i) {\n  var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"];\n\n  if (_i == null) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n\n  var _s, _e;\n\n  try {\n    for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}","export default function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","import arrayWithHoles from \"./arrayWithHoles.js\";\nimport iterableToArrayLimit from \"./iterableToArrayLimit.js\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray.js\";\nimport nonIterableRest from \"./nonIterableRest.js\";\nexport default function _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}","import { render } from \"./GcepGeneList.vue?vue&type=template&id=37f74c71\"\nimport script from \"./GcepGeneList.vue?vue&type=script&lang=js\"\nexport * from \"./GcepGeneList.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./MemberList.vue?vue&type=style&index=0&id=2bb9c0d8&lang=css\"","<template>\n    <div>\n        <input-row label=\"Type\" v-if=\"canSetType\">\n            <select v-model=\"group.group_type_id\" class=\"w-full\">\n                <option :value=\"null\">Select&hellip;</option>\n                <option v-for=\"type in groupTypes\" :key=\"type.id\" :value=\"type.id\">\n                    {{type.fullname}}\n                </option>\n            </select>\n        </input-row>\n        <dictionary-row label=\"Type\" v-else>\n            {{typeDisplayName}}\n        </dictionary-row>\n        \n        <transition name=\"slide-fade-down\" mode=\"out-in\">\n            <div v-if=\"group.group_type_id > 2 && group.expert_panel\">\n                <input-row \n                    label=\"Long Base Name\" \n                    v-model=\"group.expert_panel.long_base_name\" \n                    placeholder=\"Long base name\"\n                    :errors=\"errors.long_base_name\"\n                    input-class=\"w-full\"\n                ></input-row>\n                <input-row \n                    label=\"Short Base Name\" \n                    v-model=\"group.expert_panel.short_base_name\" \n                    placeholder=\"Short base name\"\n                    :errors=\"errors.short_base_name\"\n                    input-class=\"w-full\"\n                ></input-row>\n                <div v-if=\"hasAnyPermission(['groups-manage'])\">\n                    <input-row \n                        label=\"Affiliation ID\" \n                        v-model=\"group.expert_panel.affiliation_id\" \n                        :placeholder=\"affiliationIdPlaceholder\"\n                        :errors=\"errors.affiliation_id\"  \n                        input-class=\"w-full\"\n                    >\n                        <template v-slot:label>\n                            Affiliation ID\n                            <note>admin-only</note>\n                        </template>\n                    </input-row>\n                </div>\n                <dictionary-row label=\"Affiliation ID\" v-else>\n                    <span v-if=\"group.expert_panel.affiliation_id\">{{group.expert_panel.affiliation_id}}</span>\n                    <span v-else class=\"text-gray-400\">{{'Not yet assigend'}}</span>\n                </dictionary-row>\n            </div>\n            <div v-else>\n                <input-row \n                    v-model=\"group.name\" \n                    placeholder=\"Name\" \n                    label=\"Name\" \n                    input-class=\"w-full\"\n                    :errors=\"errors.name\"\n                />\n            </div>\n        </transition>\n        <div v-if=\"hasPermission('groups-manage')\">\n            <input-row :errors=\"errors.group_status_id\">\n                <template v-slot:label>\n                    Status:\n                    <note>admin-only</note>\n                </template>\n                <select v-model=\"group.group_status_id\" class=\"w-full\"\n                    \n                >\n                    <option :value=\"null\"></option>\n                    <option v-for=\"status in groupStatuses\" :key=\"status.id\" :value=\"status.id\">\n                        {{titleCase(status.name)}}\n                    </option>\n                </select>\n            </input-row>\n\n            <input-row :errors=\"errors.parent_id\"  >\n                <template v-slot:label>\n                    Parent group:\n                    <note>admin-only</note>\n                </template>\n                <select v-model=\"group.parent_id\" class=\"w-full\">\n                    <option :value=\"null\">Select...</option>\n                    <option :value=\"0\">None</option>\n                    <option v-for=\"parent in parents\" :key=\"parent.id\" :value=\"parent.id\">\n                        {{parent.displayName}}\n                    </option>\n                </select>\n            </input-row>\n        </div>\n    </div>\n</template>\n<script>\nimport {isValidationError} from '@/http'\nimport {api} from '@/http'\nimport Group from '@/domain/group'\nimport configs from '@/configs'\nimport formFactory from '@/forms/form_factory'\n\nexport default {\n    name: 'GroupForm',\n    emits: [\n        'canceled',\n        'saved'\n    ],\n    data() {\n        return {\n            groupTypes: [\n                {id: 1, fullname: 'Working Group'},\n                {id: 2, fullname: 'Clinical Domain Working Group'},\n                {id: 3, fullname: 'GCEP'},\n                {id: 4, fullname: 'VCEP'},\n            ],\n            groupStatuses: configs.groups.statuses,\n            newGroup: new Group(),\n            parents: []\n        }\n    },\n    computed: {\n        group: {\n            get() {\n                const group = this.$store.getters['groups/currentItem'];\n                if (group) {\n                    return group;\n                }\n                return this.newGroup;\n            },\n            set (value) {\n                try {\n                    this.$store.commit('groups/addItem', value);\n                } catch (e) {\n                    this.newGroup = value;\n                }\n            }\n        },\n        canSetType() {\n            return this.hasPermission('groups-manage') && !this.group.id \n        },\n        typeDisplayName () {\n            if (!this.group.type) {\n                return \"\";\n            }\n            if (this.group.type.name) {\n                return (this.group.type.id < 3) \n                    ? this.group.type.name.toUpperCase() \n                    : this.group.expert_panel.type.name.toUpperCase();\n            }\n            return null;\n        },\n        affiliationIdPlaceholder () {\n            return 50000\n        },\n        cdwgs () {\n            return this.$store.getters['cdwgs/all']\n        },\n        namesDirty () {\n            return this.group.expert_panel.isDirty('long_base_name')\n                || this.group.expert_panel.isDirty('short_base_name');\n        },\n        affiliationIdDirty () {\n            return this.group.expert_panel.isDirty('affiliation_id');\n        }\n    },\n    methods: {\n        async save() {\n            try {\n                this.resetErrors();\n                if (this.group.id) {\n                    await this.updateGroup();\n                    this.$emit('saved');\n\n                    this.$store.dispatch('groups/find', this.group.uuid);\n                    this.$store.commit('pushSuccess', 'Group info updated.');\n                    return;\n                } \n\n                const newGroup = await this.createGroup()\n                                    .then(response => response.data.data);\n                this.$emit('saved');\n                this.$store.commit('pushSuccess', 'Group created.');\n                this.$router.push({name: 'AddMember', params: {uuid: newGroup.uuid}});\n            } catch (error) {\n                if (isValidationError(error)) {\n                    this.errors = error.response.data.errors;\n                }\n            }\n        },\n        createGroup () {\n            let {name, parent_id, group_type_id, group_status_id} = this.group.attributes;\n            if (name === null && this.group.expert_panel) {\n                name = this.group.expert_panel.long_base_name;\n            }\n            return this.$store.dispatch('groups/create', {name, parent_id, group_type_id, group_status_id});\n        },\n        updateGroup () {\n            const promises = [];\n            promises.push(this.saveGroupData());\n            if (this.group.expert_panel) {\n                promises.push(this.saveEpData());\n            }\n            \n            return Promise.all(promises);\n        },\n        saveGroupData () {\n            const promises = [];\n            if (this.group.isDirty('parent_id')) {\n                promises.push(this.saveParent());\n            }\n\n            if (this.group.isDirty('name')) {\n                promises.push(this.saveName())\n            }\n\n            if (this.group.isDirty('group_status_id')) {\n                promises.push(this.saveStatus())\n            }\n\n            return Promise.all(promises);\n        },\n        async saveEpData() {\n            const promises = []\n            if (this.namesDirty) {\n                const {long_base_name, short_base_name} = this.group.expert_panel;\n                promises.push(this.submitFormData({\n                    method: 'put',\n                    url: `/api/groups/${this.group.uuid}/expert-panel/name`, \n                    data: { long_base_name, short_base_name }\n                }));\n            }\n\n            if (this.affiliationIdDirty) {\n                promises.push(this.submitFormData({\n                    method: 'put',\n                    url: `/api/groups/${this.group.uuid}/expert-panel/affiliation-id`, \n                    data: { affiliation_id: this.affiliationId }\n                }));\n            }\n\n            return await Promise.all(promises);\n        },\n\n        isDirty (attribute) {\n            return this.group[attribute] != this.group[attribute]\n        },\n        \n        saveParent () {\n            return this.submitFormData({\n                method: 'put',\n                url: `/api/groups/${this.group.uuid}/parent`, \n                data: { parent_id: this.group.parent_id }\n            })\n        },\n        saveName () {\n            return this.submitFormData({\n                method: 'put',\n                url: `/api/groups/${this.group.uuid}/name`,\n                data: {name: this.group.name}\n            })\n        },\n        saveStatus () {\n            return this.submitFormData({\n                method: 'put',\n                url: `/api/groups/${this.group.uuid}/status`,\n                data: {status_id: this.group.group_status_id}\n            })\n        },\n        resetData () {\n            if (this.group.uuid) {\n                this.$store.dispatch('groups/find', this.group.uuid);\n            }\n        },\n        cancel() {\n            if (this.group.uuid) {\n                this.resetData();\n            }\n            this.$emit('canceled');\n        },\n        async getParentOptions () {\n            this.parents = await api.get(`/api/groups`)\n                        .then(response => {\n                            return response.data\n                                .filter(group => group.id != this.group.id)\n                                .map(g => new Group(g))\n                        });\n        }\n    },\n    beforeMount() {\n        this.getParentOptions();\n        this.$store.dispatch('cdwgs/getAll');\n    },\n    setup (props, context) {\n        const {errors, submitFormData, resetErrors} = formFactory(props, context)\n\n        return {\n            errors,\n            submitFormData,\n            resetErrors\n        }\n    }\n}\n</script>","import { render } from \"./GroupForm.vue?vue&type=template&id=9d140480\"\nimport script from \"./GroupForm.vue?vue&type=script&lang=js\"\nexport * from \"./GroupForm.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","<template>\n    <div class=\"flex space-x-2\">\n        <icon-checkmark class=\"text-green-600\" v-if=\"requirement.isMet\"></icon-checkmark>\n        <icon-exclamation class=\"text-yellow-400\" v-else></icon-exclamation>\n        <div>{{requirement.label}}</div>\n    </div>\n</template>\n<script>\nexport default {\n    name: 'RequirementsItem',\n    props: {\n        requirement: {\n            type: Object,\n            required: true\n        }\n    },\n}\n</script>","import { render } from \"./RequirementsItem.vue?vue&type=template&id=456071fe\"\nimport script from \"./RequirementsItem.vue?vue&type=script&lang=js\"\nexport * from \"./RequirementsItem.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","<template>\n    <div>\n        <!-- <pre>{{group.expert_panel.evidence_summaries}}</pre> -->\n        <ul v-if=\"summaries.length > 0\">\n            <transition-group name=\"slide-fade-down\">            \n                <li class=\"my-4 flex\" v-for=\"(summary, idx) in group.expert_panel.evidence_summaries\" :key=\"idx\">\n                    <div class=\"text-lg pr-4\">{{idx+1}}</div>\n                    <evidence-summary \n                        :summary=\"summary\" \n                        :group=\"group\"\n                        @saved=\"handleSavedSummary\" \n                        @deleted=\"handleDeleted\"\n                        class=\"flex-1\"\n                        :readonly=\"readonly\"\n                    ></evidence-summary>\n                </li>\n            </transition-group>\n        </ul>\n        <div class=\"well text-center\" v-else-if=\"loading\">Loading...</div>\n        <div class=\"well text-center cursor-pointer\" v-else @click=\"startNewSummary\">No example evidence summaries have been added.</div>\n        <ul v-show=\"adding\">\n            <li class=\"my-4 flex\" v-for=\"(newSummary, idx) in newSummaries\" :key=\"idx\">\n                <div class=\"text-lg pr-4\">{{(idx+1+summaries.length)}}</div>\n                <evidence-summary-form \n                    class=\"flex-1\" \n                    :group=\"group\" \n                    :summary=\"newSummary\" \n                    @saved=\"handleSavedSummary\" \n                    @canceled=\"cancelAdd\"\n                ></evidence-summary-form>\n            </li>\n        </ul>\n        <div v-show=\"!adding && canEdit\">\n            <button class=\"btn btn-xs\" @click=\"startNewSummary\" v-show=\"!adding\">Add Summary</button>\n        </div>\n    </div>\n</template>\n<script>\nimport api from '@/http/api'\nimport EvidenceSummary from '@/components/expert_panels/EvidenceSummary'\nimport EvidenceSummaryForm from '@/components/expert_panels/EvidenceSummaryForm'\n\nexport default {\n    name: 'EvidenceSummaryList',\n    components: {\n        EvidenceSummary,\n        EvidenceSummaryForm\n    },\n    emits: [\n        'summaries-added'\n    ],\n    props: {\n        readonly: {\n            type: Boolean,\n            required: false,\n            default: false\n        }\n    },\n    data() {\n        return {\n            newSummaries: [],\n            errors: {},\n            summaries: [],\n            showDeleteConfirm: false,\n            selectedSummary: {gene: {}},\n            loading: false\n        }\n    },\n    computed: {\n        group: {\n            get () {\n                return this.$store.getters['groups/currentItemOrNew'];\n            }, \n            set (value) {\n                this.$store.commit('groups/addItem', value)\n            }\n        },\n        meetsRequirements() {\n            return this.summaries.length > 4;\n        },\n        adding () {\n            return this.newSummaries.length > 0;\n        },\n        canEdit () {\n            return this.hasAnyPermission(['ep-applications-manage', ['application-edit', this.group]])\n                && !this.readonly\n        }\n    },\n    watch: {\n        group: {\n            immediate: true,\n            handler: function () {\n                if (this.group && this.group.id) {\n                    this.getEvidenceSummaries();\n                }\n            }\n        }\n    },\n    methods: {\n        async getEvidenceSummaries () {\n            this.loading = true;\n            try {\n                this.summaries = await this.$store.dispatch('groups/getEvidenceSummaries', this.group)\n            } catch (error) {\n                console.log(error);\n            }\n            this.loading = false;\n            \n        },\n        startNewSummary() {\n            this.newSummaries.push({\n                gene: null,\n                variant: null,\n                summary: null\n            });\n        },\n        clearNewSummaries() {\n            this.newSummaries = [];\n        },\n        handleSavedSummary(newSummary) {\n            // this.mergeSummary(newSummary);\n            this.getEvidenceSummaries();\n            this.clearNewSummaries();\n            this.$emit('summaries-added');\n        },\n        handleDeleted (summary) {\n            const idx = this.summaries.findIndex(s => s.id == summary.id);\n            if (idx > -1) {\n                this.summaries.splice(idx, 1);\n            }\n            this.getEvidenceSummaries();\n        },\n        cancelAdd () {\n            this.clearNewSummaries();\n        },\n        mergeSummary(summary) {\n            const idx = this.summaries.findIndex(s => s.id == summary.id);\n            if (idx > -1) {\n                this.summaries.splice(idx, 1, summary);\n                return;\n            }\n\n            this.summaries.push(summary);\n        }\n    },\n}\n</script>","<template>\n    <div>\n        <transition mode=\"out-in\" name=\"fade\">\n            <div v-if=\"!editing\"\n                class=\"p-2 border rounded\"\n            >\n                <header class=\"flex justify-between\">\n                    <h4>{{summary.gene.gene_symbol}} - {{summary.variant}}</h4>\n                    <dropdown-menu :hide-cheveron=\"true\" class=\"relative\" v-if=\"canEdit\">\n                        <template v-slot:label>\n                            <button class=\"btn btn-xs\">&hellip;</button>\n                        </template>\n                        <dropdown-item @click=\"edit()\">Edit</dropdown-item>\n                        <dropdown-item @click=\"confirmDelete()\">Delete</dropdown-item>\n                    </dropdown-menu>\n                </header>\n                <p>{{summary.summary}}</p>\n                <a class=\"link\" :href=\"summary.vci_url\" v-if=\"summary.vci_url\" target=\"_blank\">\n                    View in the VCI\n                </a>\n            </div>\n            <evidence-summary-form \n                v-else \n                :summary=\"summary\" \n                :group=\"group\"\n                @saved=\"handleSaved\"\n                @canceled=\"cancelEdit\"\n            ></evidence-summary-form>\n        </transition>\n        <teleport to=\"body\">\n            <modal-dialog v-model=\"showDeleteConfirm\" title=\"You are about to delete an example evidence summary.\">\n                You are about to delete an evidence summary for {{summary.gene.gene_symbol}} - {{summary.variant}}.  Are you sure you want to continue?\n                <button-row @submit=\"deleteSummary\" @cancel=\"cancelDelete\" submit-text=\"Delete Summary\"></button-row>\n            </modal-dialog>\n        </teleport>\n    </div>\n</template>\n<script>\nimport api from '@/http/api';\nimport EvidenceSummaryForm from '@/components/expert_panels/EvidenceSummaryForm.vue';\nexport default {\n  components: { EvidenceSummaryForm },\n    name: 'EvidenceSummary',\n    props: {\n        summary: {\n            required: true,\n            type: Object\n        },\n        group: {\n            required: true,\n            type: Object\n        },\n        readonly: {\n            type: Boolean,\n            required: false,\n            default: false\n        }\n    },\n    emits: [\n        'edit',\n        'saved',\n        'deleted',\n    ],\n    data() {\n        return {\n            editing: false,\n            showDeleteConfirm: false\n        }\n    },\n    computed: {\n        canEdit () {\n            return this.hasAnyPermission(['ep-applications-manage', ['application-edit', this.group]]) \n                && !this.readonly\n        }\n    },\n    methods: {\n        handleSaved(newSummary) {\n            this.$emit('saved', newSummary);\n            this.editing = false;\n        },\n        edit () {\n            this.editing = true;\n        },\n        cancelEdit () {\n            this.editing = false;\n        },\n        confirmDelete () {\n            this.showDeleteConfirm = true;\n        },\n        async deleteSummary () {\n            try {\n                await api.delete(`/api/groups/${this.group.uuid}/application/evidence-summaries/${this.summary.id}`);\n                this.$emit('deleted', this.summary)\n            } catch (error) {\n                console.error(error);\n            }\n            this.showDeleteConfirm = false;\n        },\n        cancelDelete() {\n            this.showDeleteConfirm = false;\n        },\n    }\n}\n</script>","<template>\n    <div>\n        <div class=\"flex space-x-2\">\n            <input-row class=\"mt-0 mb-0\" :vertical=\"true\" label=\"Gene\" :errors=\"errors.gene_id\">\n                <select v-model=\"summaryClone.gene_id\">\n                    <option :value=\"null\">Select...</option>\n                    <option v-for=\"gene in groupGenes\" \n                        :value=\"gene.id\"\n                        :key=\"gene.id\"\n                    >{{gene.gene.gene_symbol}}</option>\n                </select>\n            </input-row>\n            <input-row \n                class=\"mt-0 mb-0\" \n                v-model=\"summaryClone.variant\" \n                :vertical=\"true\" \n                label=\"Variant\" \n                :errors=\"errors.variant\"\n            />\n        </div>\n        <input-row class=\"mt-0 mb-0\" label=\"Summary\" :vertical=\"true\" :errors=\"errors.summary\">\n            <textarea rows=\"5\" class=\"w-full\" v-model=\"summaryClone.summary\"></textarea>\n        </input-row>\n        <input-row \n            class=\"mt-0\" \n            v-model=\"summaryClone.vci_url\" \n            label=\"VCI URL\" \n            :vertical=\"true\" \n            input-class=\"w-full\" \n            :errors=\"errors.vci_url\"\n        />\n        <button-row submit-text=\"save\" @submit=\"save\" @cancel=\"cancel\"></button-row>\n    </div>\n</template>\n<script>\nimport api from '@/http/api'\nimport is_validation_error from '@/http/is_validation_error';\n\n\nexport default {\n    name: 'EvidenceSummaryForm',\n    props: {\n        group: {\n            required: true,\n            type: Object,\n        },\n        summary: {\n            required: true,\n            type: Object\n        }\n    },\n    emits: [\n        'saved',\n        'canceled'\n    ],\n    data() {\n        return {\n            groupGenes: [],\n            summaryClone: {gene: {}},\n            errors: {}\n        }\n    },\n    computed: {\n\n    },\n    watch: {\n        group: {\n            immediate: true,\n            handler: function () {\n                if (this.group && this.group.id) {\n                    this.getGroupGenes();\n                }\n            }\n        },\n        summary: {\n            immediate: true,\n            handler: function () {\n                this.summaryClone = {...this.summary}\n            }\n        }\n    },\n    methods: {\n        async save () {\n            try {\n                let url = `/api/groups/${this.group.uuid}/expert-panel/evidence-summaries`;\n                let method = 'post';\n                if (this.summaryClone.id) {\n                    url += `/${this.summaryClone.id}`\n                    method = 'put';\n                }\n                const newSummary = await api({method, url, data: this.summaryClone})\n                                            .then (response => response.data.data);\n\n                this.$emit('saved', newSummary);\n                this.$store.commit('pushSuccess', 'Saved example evidence summary');\n                this.editing = false;\n            } catch (error) {\n                if (is_validation_error(error)) {\n                    this.errors = error.response.data.errors\n                }\n            }\n        },\n        cancel () {\n            this.initSummaryClone();\n            this.$emit('canceled')\n        },\n        edit (summary) {\n            summary.editing = true;\n        },\n        async getGroupGenes () {\n            this.groupGenes = await api.get(`/api/groups/${this.group.uuid}/expert-panel/genes`)\n                                .then(response => response.data);\n        },\n        initSummaryClone () {\n            this.summaryClone = {gene: {}};\n        }\n    },\n}\n</script>","import { render } from \"./EvidenceSummaryForm.vue?vue&type=template&id=89fc7c22\"\nimport script from \"./EvidenceSummaryForm.vue?vue&type=script&lang=js\"\nexport * from \"./EvidenceSummaryForm.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","import { render } from \"./EvidenceSummary.vue?vue&type=template&id=0bb86197\"\nimport script from \"./EvidenceSummary.vue?vue&type=script&lang=js\"\nexport * from \"./EvidenceSummary.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","import { render } from \"./EvidenceSummaryList.vue?vue&type=template&id=e84fb6c4\"\nimport script from \"./EvidenceSummaryList.vue?vue&type=script&lang=js\"\nexport * from \"./EvidenceSummaryList.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","<template>\n    <div v-if=\"hasRequirements\">\n        <popper arrow hover>\n            <template v-slot:content>\n                <div>\n                    <requirements-item  v-for=\"(req, idx) in evaledRequirements\" :key=\"idx\" :requirement=\"req\" />\n                </div>\n            </template>\n            <badge :color=\"badgeColor\" class=\"cursor-pointer\">\n                {{badgeText}}\n            </badge>\n        </popper>\n    </div>\n</template>\n<script>\nimport RequirementsItem from './RequirementsItem'\n\nexport default {\n    name: 'RequirementsBadge',\n    components: {\n        RequirementsItem\n    },\n    props: {\n        section: {\n            type: Object,\n            required: true\n        }\n    },\n    data () {\n        return {\n        }\n    },\n    computed: {\n        group() {\n            return this.$store.getters['groups/currentItemOrNew']\n        },\n        meetsRequirements () {\n            return this.section.meetsRequirements(this.group);\n        },\n        badgeColor () {\n            if (this.meetsRequirements) {\n                return 'green';\n            }\n            return 'yellow'\n        },\n        badgeText () {\n            const metCount = this.section.metRequirements(this.group).length;\n            return `Requirements: ${metCount} / ${this.section.requirements.length}`;\n        },\n        evaledRequirements() {\n            return this.section.evaluateRequirements(this.group);\n        },\n        hasRequirements () {\n            return this.section.hasRequirements;\n        }\n    },\n    methods: {\n\n    }\n}\n</script>\n\n<style>\n  :root {\n    --popper-theme-background-color: #ffffff;\n    --popper-theme-background-color-hover: #fff;\n    --popper-theme-text-color: #333;\n    --popper-theme-border-width: 0px;\n    --popper-theme-border-style: solid;\n    --popper-theme-border-radius: 6px;\n    --popper-theme-padding: 1rem;\n    --popper-theme-box-shadow: 0 6px 30px -6px rgba(0, 0, 0, 0.5);\n  }\n</style>","import { render } from \"./RequirementsBadge.vue?vue&type=template&id=4f0660ee\"\nimport script from \"./RequirementsBadge.vue?vue&type=script&lang=js\"\nexport * from \"./RequirementsBadge.vue?vue&type=script&lang=js\"\n\nimport \"./RequirementsBadge.vue?vue&type=style&index=0&id=4f0660ee&lang=css\"\nscript.render = render\n\nexport default script","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./VcepGeneList.vue?vue&type=style&index=0&id=90d6678a&lang=postcss&scope=true\"","import { useRouter, useRoute } from 'vue-router'\nimport {computed} from 'vue'\n\nexport default function (defaultSort = null) {\n    const router = useRouter()\n    const route = useRoute()\n    if (!defaultSort){\n        console.log('Warning: defaultSort is deprecated.  Please provide a sort object: {field: \"fieldname\", desc: boolean}')\n        defaultSort = (defaultSort) ? defaultSort : {field: 'name', desc: false}\n    }\n    \n    const sort = computed({\n        immediate: true,\n        get() {\n            if (Object.keys(route.query).includes('sort-field')) {\n                return {\n                    field: route.query['sort-field'],\n                    desc: Boolean(parseInt(route.query['sort-desc']))\n                }\n            }\n            return defaultSort;\n        },\n        set(sortObj) {\n            const newSortQuery = {'sort-field': sortObj.field, 'sort-desc': sortObj.desc ? 1 : 0}\n    \n            const newQuery = {\n                ...route.query, \n                ...newSortQuery\n            };\n    \n            router.replace({path: route.path, query: newQuery})\n        }\n    });\n    \n    const filter = computed({\n        set(value) {\n            let currentQuery = route.query;\n            let currentPath = route.path;\n    \n            let updatedQuery = {...currentQuery};\n    \n            if (!value) {\n                delete updatedQuery.filter;\n            } else {\n                updatedQuery = {...currentQuery, ...{'filter': value} };\n            }\n    \n            router.replace({path: currentPath, query: updatedQuery})\n        },\n        get() {\n            return route.query.filter\n        },\n        immediate: true\n    });\n\n    return {\n        sort,\n        filter\n    }\n}\n","<template>\n    <div>\n        <header class=\"flex justify-between items-center\">\n            <h4>Gene/Disease List</h4>\n        </header>\n        <div class=\"my-2\">\n            <table class=\"border-none\" v-if=\"genes\">\n                <thead>\n                    <tr>\n                        <th style=\"min-width: 10rem\">HGNC Symbol</th>\n                        <th style=\"min-width: 15rem\">Disease</th>\n                        <th style=\"max-width: 9rem\">Date Approved</th>\n                        <th\n                            v-if=\"canEdit\"\n                            style=\"width: 5rem\"\n                        ></th>\n                    </tr>\n                </thead>\n                <transition-group name=\"fade\" mode=\"out-in\">                \n                    <tbody v-if=\"genes.length == 0\">\n                        <tr>\n                            <td colspan=\"4\">\n                                <div class=\"p-2 text-center font-bold\">\n                                    <span v-if=\"loading\">Loading...</span>\n                                    <div v-else>\n                                        <p>There are no gene/disease pairs in the gene list.</p>\n                                        <button class=\"btn blue btn-sm\" @click=\"addNewGene\" v-if=\"canEdit\">Add a gene/disease pair</button>\n                                    </div>\n                                </div>\n                            </td>\n                        </tr>\n                    </tbody>\n                    <tbody v-else>\n                        <transition-group name=\"slide-fade-down\">\n                            <tr v-for=\"gene in orderedGenes\" :key=\"gene.id\">                            \n                                <template v-if=\"!gene.edit\">\n                                    <td>{{gene.gene_symbol}}</td>\n                                    <td>{{gene.disease_name}}</td>\n                                    <td>{{formatDate(gene.date_approved)}}</td>\n                                    <td\n                                        v-if=\"canEdit\"\n                                    >\n                                        <div v-if=\"!gene.edit\">\n                                            <dropdown-menu \n                                                :hide-cheveron=\"true\" \n                                                class=\"relative\"\n                                                v-if=\"!gene.toDelete\"\n                                            >\n                                                <template v-slot:label>\n                                                    <button class=\"btn btn-xs\">&hellip;</button>\n                                                </template>\n                                                <dropdown-item @click=\"edit(gene)\">Edit</dropdown-item>\n                                                <dropdown-item @click=\"remove(gene)\">Remove</dropdown-item>\n                                            </dropdown-menu>\n\n                                            <div v-if=\"gene.toDelete\">\n                                                <note>set for deletion in {{gene.removeCountdown}} seconds.</note>\n                                                <button @click=\"cancelPendingRemove(gene)\" class=\"btn btn-xs\">Cancel</button>\n                                            </div>\n                                        </div>\n                                    </td>\n                                </template>\n                                <template v-else>\n                                    <td>\n                                        <input-row label=\"\" :errors=\"errors.hgnc_id\" :vertical=\"true\">\n                                            <gene-search-select v-model=\"gene.gene\"></gene-search-select>\n                                        </input-row>\n                                    </td>\n                                    <td colspan=\"2\">\n                                        <input-row label=\"\" :errors=\"errors.mondo_id\" :vertical=\"true\">\n                                            <disease-search-select v-model=\"gene.disease\"></disease-search-select>\n                                        </input-row>\n                                    </td>\n                                    <td>\n                                        <button class=\"btn btn-xs\" @click=\"updateCancel(gene)\">Cancel</button>\n                                        <button class=\"btn blue btn-xs\" @click=\"updateGene(gene)\">Save</button>\n                                    </td>\n                                </template>\n                            </tr>\n                        </transition-group>\n                    </tbody>\n                </transition-group>\n                <transition name=\"slide-fade-down\">\n                    <thead v-if=\"newGenes.length > 0\">\n                        <tr>\n                            <td colspan=\"5\" class=\"bg-white border-white h-4\"></td>\n                        </tr>\n                        <tr>\n                            <td>HGNC Symbol</td>\n                            <td colspan=\"4\">Disesase</td>\n                        </tr>\n                    </thead>\n                </transition>\n\n                <tbody>\n                    <transition-group name=\"slide-fade-down\">                \n                        <tr v-for=\"(newGene, idx) in newGenes\" :key=\"idx\">\n                            <td>\n                                <input-row label=\"\" :errors=\"errors[`genes.${idx}.hgnc_id`]\" :vertical=\"true\">\n                                    <gene-search-select v-model=\"newGene.gene\"></gene-search-select>\n                                </input-row>\n                            </td>\n                            <td colspan=\"4\">\n                                <input-row label=\"\" :errors=\"errors[`diseases.${idx}.hgnc_id`]\" :vertical=\"true\">\n                                    <disease-search-select v-model=\"newGene.disease\"></disease-search-select>\n                                </input-row>\n                            </td>\n                        </tr>\n                    </transition-group>\n                </tbody>\n                <tr v-if=\"canEdit\">\n                    <td colspan=\"5\" class=\"border-white\">\n                        <div class=\"-mx-2 my-2 flex space-x-2\">\n                            <button @click=\"addNewGene\" class=\"btn btn-xs\">Add Gene/Disease Pair</button>\n                            <transition name=\"fade\">\n                                <div class=\"flex space-x-2\">\n                                    <button class=\"btn btn-xs\" @click=\"cancel\"  v-if=\"newGenes.length > 0\">Cancel</button>\n                                    <button class=\"btn btn-xs blue\" @click=\"save\"  v-if=\"newGenes.length > 0\">Save</button>\n                                </div>\n                            </transition>\n                        </div>\n                    </td>\n                </tr>\n            </table>\n        </div>\n    </div>\n</template>\n<script>\nimport api from '@/http/api'\nimport {ref, computed, onMounted} from 'vue';\nimport {useStore} from 'vuex';\nimport GeneSearchSelect from '@/components/forms/GeneSearchSelect'\nimport DiseaseSearchSelect from '@/components/forms/DiseaseSearchSelect'\nimport is_validation_error from '@/http/is_validation_error'\nimport {isEqual} from 'lodash'\nimport {hasAnyPermission} from '@/auth_utils'\n\n\nexport default {\n    name: 'VcepGeneList',\n    components: {\n        GeneSearchSelect,\n        DiseaseSearchSelect,\n    },\n    props: {\n        readonly: {\n            type: Boolean,\n            required: false,\n            default: false\n        }\n    },\n    emits: [\n        'saved',\n        'canceled',\n        'editing'\n    ],\n    setup(props, context) {\n        const store = useStore();\n\n        const group = computed(() => {\n            return store.getters['groups/currentItemOrNew'];\n        });\n\n\n        const newGenes = ref([]);\n        const addNewGene = () => {\n            newGenes.value.push({gene: null, disease: null});\n        }\n\n        const loading = ref(false);\n        const errors = ref({});\n        const genes = ref([]);\n        const orderedGenes = computed(() => {\n            const sortedGenes = [...genes.value];\n            sortedGenes.sort((a,b) => {\n                if (a.gene_symbol == b.gene_symbol) {\n                    return 0;\n                }\n                return (a.gene_symbol > b.gene_symbol) ? 1 : -1;\n            });\n            return sortedGenes;\n        })\n\n        const clearNewGenes = () => {\n            newGenes.value = [];\n            errors.value = {};\n        }\n\n        const edit = (gene) => {\n            gene.edit = true;\n        }\n\n        const clearRemoveCountdown = (gene) => {\n            if (gene.removeTimeout) {\n                clearTimeout(gene.removeTimeout);\n                clearInterval(gene.removeInterval);\n                gene.removeCountdown = 10;\n            }\n        }\n\n        const clearRemovalFlags = (gene) => {\n            delete(gene.toDelete);\n            delete(gene.removeInterval);\n            delete(gene.removeTimeout);\n        }\n\n        const cancelPendingRemove = (gene) => {\n            clearRemoveCountdown(gene);\n            clearRemovalFlags(gene);\n        }\n\n        const remove = (gene) => {\n            clearRemoveCountdown(gene);\n            gene.toDelete = true;\n            gene.removeTimeout = setTimeout(async () => {\n                for (let idx = 0; idx < genes.value.length; idx++) {\n                    if (genes.value[idx].toDelete) {\n                        try {\n                            await api.delete(`/api/groups/${group.value.uuid}/expert-panel/genes/${gene.id}`)\n                            await getGenes();\n                        } catch (error) {\n                            store.commit('pushError', error.response.data);\n                        }\n                    }\n                }\n                clearRemoveCountdown(gene)\n            }, 10000);\n\n            gene.removeCountdown = 10;\n            gene.removeInterval = setInterval(() => {\n                gene.removeCountdown -= 1;\n            }, 1000);\n            \n        }\n        \n        const getGenes = async () => {\n            if (!group.value.uuid)  {\n                return;\n            }\n            loading.value = true;\n            try {\n                genes.value = await store.dispatch('groups/getGenes', group.value);\n            } catch (error) {\n                console.log(error);\n                store.commit('pushError', error.response.data);\n            }\n            loading.value = false;\n        }\n\n        const save = async () => {\n            try {\n                if (newGenes.value.length > 0) {\n                    const filteredGenes = newGenes.value\n                                            .filter(ng => !isEqual(ng, {gene: null, disease: null}))\n                                            .map(scope => ({ hgnc_id: scope.gene.hgnc_id, mondo_id: scope.disease.mondo_id}));\n\n                await api.post(`/api/groups/${group.value.uuid}/expert-panel/genes`, {genes: filteredGenes});\n                    await getGenes();\n                }\n                clearNewGenes();\n                errors.value = {};\n                context.emit('saved')\n            } catch (error) {\n                if (is_validation_error(error)) {\n                    errors.value = error.response.data.errors\n                }\n            }\n        };\n\n        const updateGene = async (gene) => {\n            try {\n                gene.hgnc_id = gene.gene.hgnc_id;\n                gene.mondo_id = gene.disease.mondo_id;\n                await api.put(`/api/groups/${group.value.uuid}/expert-panel/genes/${gene.id}`, gene);\n                await getGenes();\n                delete(gene.edit);\n            } catch (error) {\n                if (is_validation_error(error)) {\n                    errors.value = error.response.data.errors\n                }\n            }\n        }\n        const updateCancel = gene => {\n            delete(gene.edit);\n        }\n\n        const cancel = () => {\n            clearNewGenes();\n        }\n\n        const canEdit = computed(() => {\n            return hasAnyPermission(['ep-applications-manage', ['application-edit', group]])\n                && !props.readonly\n        })\n\n        onMounted(() => {\n            getGenes();\n        });\n\n        return {\n            group,\n            genes,\n            newGenes,\n            orderedGenes,\n            errors,\n            loading,\n            addNewGene,\n            updateGene,\n            updateCancel,\n            save,\n            cancel,\n            edit, \n            remove,\n            cancelPendingRemove,\n            canEdit\n        }        \n    }\n}\n</script>\n<style lang=\"postcss\" scope>\n    table {\n        @apply w-full;\n    }\n    thead > tr {\n         @apply bg-gray-200;\n    }\n    tbody > tr {\n        @apply bg-white odd:bg-gray-100 border-0 hover:border-blue-300 hover:bg-blue-100\n    }\n    tr > th {\n        @apply text-left border border-gray-300 px-3\n    }\n    tr > td {\n        @apply text-left p-1 px-3 border align-top;\n    }\n    th.sorted, td.sorted  {\n        @apply bg-blue-100 hover:bg-blue-100\n    }\n</style>\n","import { render } from \"./VcepGeneList.vue?vue&type=template&id=90d6678a\"\nimport script from \"./VcepGeneList.vue?vue&type=script&lang=js\"\nexport * from \"./VcepGeneList.vue?vue&type=script&lang=js\"\n\nimport \"./VcepGeneList.vue?vue&type=style&index=0&id=90d6678a&lang=postcss&scope=true\"\nscript.render = render\n\nexport default script","<template>\n    <div>\n        <p>Three examples of ClinGen-approved curation and review protocols are below (additional details may be requested from the CDWG Oversight Committee).  Check or describe the curation and review protocol that this Expert Panel will use.</p>\n        <div class=\"mb-4\">\n            <input-row label=\"\" :errors=\"errors.curation_review_protocol_id\" vertical>\n                <div>\n                    <label class=\"mt-2\">\n                        <input type=\"radio\" \n                            v-model=\"group.expert_panel.curation_review_protocol_id\" \n                            value=\"1\" \n                            :disabled=\"!canEdit\"\n                        >\n                        <div>Single biocurator curation with comprehensive GCEP review (presentation of all data on calls with GCEP votes). Note: definitive genes may be expedited with brief summaries.</div>\n                    </label>\n                    <label class=\"mt-2 items-top\">\n                        <input type=\"radio\" \n                            v-model=\"group.expert_panel.curation_review_protocol_id\" \n                            value=\"2\" \n                            :disabled=\"!canEdit\"\n                        >\n                        <p>Paired review (biocurator &amp; domain expert) with expedited GCEP review. Expert works closely with a curator on the initial summation of the information for expedited GCEP review (brief summary on a call with GCEP voting and/or electronic voting by GCEP). Definitive genes can move directly from biocurator to expedited GCEP review.</p>\n                    </label>\n                    <label class=\"mt-2\">\n                        <input type=\"radio\" \n                            v-model=\"group.expert_panel.curation_review_protocol_id\" \n                            value=\"3\" \n                            :disabled=\"!canEdit\"\n                        >\n                        <p>Dual biocurator review with expedited GCEP review for concordant genes and full review for discordant genes.</p>\n                    </label>\n                    <div class=\"flex space-x-2 items-start mt-3\">\n                        <label>\n                            <input type=\"radio\" \n                                v-model=\"group.expert_panel.curation_review_protocol_id\" \n                                value=\"100\" \n                                    :disabled=\"!canEdit\"\n                            >\n                            <p>Other</p>\n                        </label>\n                        <transition name=\"slide-fade-down\">\n                            <input-row class=\"flex-1 mt-0\" v-if=\"group.expert_panel.curation_review_protocol_id == 100\" label=\"Details\" :label-width=\"0\" v-model=\"group.expert_panel.curation_review_protocol_other\" :errors=\"errors.curation_review_protocol_other\">\n                                <textarea rows=\"2\" v-model=\"group.expert_panel.curation_review_protocol_other\" class=\"w-full\"></textarea>\n                            </input-row>\n                        </transition>\n                    </div>\n                </div>\n            </input-row>\n        </div>\n    </div>\n</template>\n<script>\nimport Group from '@/domain/group'\n\nconst attributes = [\n    'curation_review_protocol_id',\n    'curation_review_protocol_other',\n    'meeting_frequency',\n    'expert_panel_type_id'\n];\n\nexport default {\n    name: 'GcepOngoingPlansForm',\n    props: {\n        errors: {\n            type: Object,\n            required: false,\n            default: () => ({})\n        },\n        readonly: {\n            type: Boolean,\n            required: false,\n            default: false\n        }\n    },\n    computed: {\n        group: {\n            get () {\n                return this.$store.getters['groups/currentItemOrNew'];\n            },\n            set (value) {\n                this.$store.commit('groups/addItem', value);\n            }\n        },\n        canEdit () {\n            return this.hasAnyPermission([\n                        'ep-applications-manage',\n                        ['application-edit', this.group]\n                    ]) \n                    && !this.readonly;\n        }\n    }\n    \n}\n</script> ","import { render } from \"./GcepOngoingPlansForm.vue?vue&type=template&id=3ed32a41\"\nimport script from \"./GcepOngoingPlansForm.vue?vue&type=script&lang=js\"\nexport * from \"./GcepOngoingPlansForm.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","import {ref} from 'vue'\nimport is_validation_error from '@/http/is_validation_error'\nimport api from '@/http/api'\n\nexport const errors = ref({});\nconst editing = ref(false);\nconst hideForm = () => {\n    editing.value = false;\n    errors.value = {};\n}\nexport const submitFormData = async ({method, url, data}) => {\n    try {\n        // return await api.put(\n        return await api({\n            method,\n            url, \n            data\n        }).then(response => response.data.data)\n    } catch (error) {\n        if (is_validation_error(error)) {\n            errors.value = {...errors, ...error.response.data.errors}\n        }\n    }\n}\n\nexport const resetErrors = () => {\n    errors.value = {};\n}\n\nexport default () => {\n    return {\n        errors,\n        editing,\n        hideForm,\n        submitFormData,\n        resetErrors,\n    }\n}","<template>\n    <div>\n        <!-- <pre>{{ {specifications: group.expert_panel.specifications} }}</pre> -->\n        <div class=\"well\" v-if=\"!hasSpecifications\">\n            No specifications on record.\n        </div>\n        <div v-else>\n            <data-table \n                :fields=\"specFields\" \n                :data=\"group.expert_panel.specifications\" \n                v-model:sort=\"sort\"\n                class=\"mb-6\"\n            >\n                <template v-slot:cell-id=\"{item}\">\n                    <a :href=\"`https://cspec.genome.network/cspec/ui/svi/ruleset/${item.id}`\" class=\"btn btn-xs\">\n                        Go to rules\n                    </a>\n                </template>\n                <template v-slot:cell-status_name=\"{item}\">\n                    <badge :color=\"item.status.color\">{{item.status.name}}</badge>\n                </template>\n            </data-table>\n            <a \n                href=\"https://cspec.genome.network/\"\n                class=\"btn btn-xl blue\"\n                target=\"cspec\"\n            >\n                Go to the CSpec Registry\n                <icon-external-link class=\"inline\"></icon-external-link>\n            </a>\n        </div>\n    </div>\n</template>\n<script>\nexport default {\n    name: 'Cspec Summary',\n    data() {\n        return {\n            sort: {\n                field: 'id',\n                desc: false,\n            },\n            specFields: [\n                {\n                    name: 'gene_symbol',\n                    type: String,\n                    sortable: true,\n                },\n                {\n                    name: 'disease_name',\n                    type: String,\n                    sortable: true,\n                },\n                {\n                    name: 'status.name',\n                    label: 'Status',\n                    type: String,\n                    sortable: true,\n                },\n                {\n                    name: 'updated_at',\n                    label: 'Last Updated',\n                    type: Date,\n                    sortable: true,\n                },\n                {\n                    name: 'id',\n                    label: '',\n                    type: Number,\n                    sortable: false,\n                }\n            ]\n        }\n    },\n    computed: {\n        group () {\n            return this.$store.getters['groups/currentItemOrNew'];\n        },\n        hasSpecifications () {\n            return true;\n        },\n        specifications () {\n            return this.group.expert_panel.specifications;\n        }\n    },\n    watch: {\n        group (to, from) {\n            // if (!from || to.id != from.id) {\n                this.$store.dispatch('groups/getSpecifications', to)\n            // }\n        }\n    },\n    mounted() {\n        this.$store.dispatch('groups/getSpecifications', this.group)\n    }\n}\n</script>","import { render } from \"./CspecSummary.vue?vue&type=template&id=571cbf9f\"\nimport script from \"./CspecSummary.vue?vue&type=script&lang=js\"\nexport * from \"./CspecSummary.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./RequirementsBadge.vue?vue&type=style&index=0&id=4f0660ee&lang=css\""],"sourceRoot":""}