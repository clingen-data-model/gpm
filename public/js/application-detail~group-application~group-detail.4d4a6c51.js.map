{"version":3,"sources":["webpack:///./src/components/groups/MemberList.vue","webpack:///./src/components/groups/MemberPreview.vue","webpack:///./src/components/people/ProfilePicture.vue","webpack:///./src/components/people/ProfilePicture.vue?31da","webpack:///./src/components/groups/MemberPreview.vue?26f1","webpack:///./src/components/groups/MemberList.vue?8ccb","webpack:///./src/components/expert_panels/VcepOngoingPlansForm.vue","webpack:///./src/components/expert_panels/VcepOngoingPlansForm.vue?49a8","webpack:///./src/components/expert_panels/GcepGeneList.vue","webpack:///./node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js","webpack:///./node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js","webpack:///./node_modules/@babel/runtime/helpers/esm/nonIterableRest.js","webpack:///./node_modules/@babel/runtime/helpers/esm/slicedToArray.js","webpack:///./src/components/expert_panels/GcepGeneList.vue?6c8b","webpack:///./src/components/groups/GroupForm.vue","webpack:///./src/components/groups/GroupForm.vue?8a8f","webpack:///./src/components/expert_panels/RequirementsItem.vue","webpack:///./src/components/expert_panels/RequirementsItem.vue?5c96","webpack:///./src/components/expert_panels/EvidenceSummaryList.vue","webpack:///./src/components/expert_panels/EvidenceSummary.vue","webpack:///./src/components/expert_panels/EvidenceSummaryForm.vue","webpack:///./src/components/expert_panels/EvidenceSummaryForm.vue?d628","webpack:///./src/components/expert_panels/EvidenceSummary.vue?a704","webpack:///./src/components/expert_panels/EvidenceSummaryList.vue?9177","webpack:///./src/components/expert_panels/RequirementsBadge.vue","webpack:///./src/components/expert_panels/RequirementsBadge.vue?0a82","webpack:///./src/components/expert_panels/VcepGeneList.vue?d35e","webpack:///./src/composables/router_aware_sort_and_filter.js","webpack:///./src/components/expert_panels/VcepGeneList.vue","webpack:///./src/components/expert_panels/VcepGeneList.vue?32a1","webpack:///./src/components/groups/MemberList.vue?7710","webpack:///./src/components/expert_panels/GcepOngoingPlansForm.vue","webpack:///./src/components/expert_panels/GcepOngoingPlansForm.vue?b563","webpack:///./src/forms/form_factory.js","webpack:///./src/components/expert_panels/CspecSummary.vue","webpack:///./src/components/expert_panels/CspecSummary.vue?11da"],"names":["class","value","group","members","length","ref","showFilter","toggleFilter","hasAnyPermission","to","append","$route","path","name","label","type","filters","keyword","label-width-class","roleId","roles","role","key","id","needsCoi","hideAlumns","fields","fieldsForGroupType","data","filteredMembers","sort","detailRows","row-class","item","isRetired","goToMember","cell-id","toggleItemDetails","showDetails","cell-roles","titleCase","map","i","join","cell-coi_last_completed","coi_last_completed","formatDate","yearAgo","getCoiDateStyle","cell-actions","hasAnyMemberPermission","hide-cheveron","editMember","confirmRetireMember","confirmRemoveMember","hover","arrow","content","placement","is_contact","width","height","icon-name","detail","member","showConfirmRetire","size","title","selectedMemberName","retireMember","cancelRetire","submit-text","showConfirmRemove","removeMember","cancelRemove","variant","person","email","institution_id","institution","credentials","obj","only","start_date","end_date","hasRole","training_level_1","training_level_2","permissions","uuid","profile_photo_path","src","icon-color","props","required","computed","hasProfilePhoto","this","methods","render","components","ProfilePicture","emits","setup","MemberPreview","needsTraining","tableFields","Number","sortable","String","Date","Object","selectedMember","$store","getters","filter","m","matchesFilters","isEp","splice","findIndex","f","configs","groups","coiCuttoff","cuttoff","setFullYear","getFullYear","watch","immediate","handler","from","dispatch","field","desc","matchesKeyword","coiUpToDate","trainingComplete","string","date","$router","push","memberId","startDate","endDate","toISOString","console","error","params","hasPerm","expert_panel","meeting_frequency","errors","placeholder","disabled","canEdit","curation_review_protocol_id","vertical","label-class","curation_review_process_notes","default","editing","Boolean","readonly","get","set","commit","style","showForm","genes","genesAsText","rows","$emit","loading","_arrayWithHoles","arr","Array","isArray","_iterableToArrayLimit","_i","Symbol","iterator","_s","_e","_arr","_n","_d","call","next","done","err","_nonIterableRest","TypeError","_slicedToArray","arrayWithHoles","iterableToArrayLimit","unsupportedIterableToArray","nonIterableRest","resetErrors","context","store","hideForm","emit","cancel","getGenes","syncGenesAsText","expertPanel","g","gene_symbol","response","save","split","RegExp","api","post","is_validation_error","messages","forEach","pushError","geneMessages","keys","geneIdx","parseInt","canSetType","group_type_id","groupTypes","fullname","typeDisplayName","mode","long_base_name","input-class","short_base_name","affiliation_id","affiliationIdPlaceholder","hasPermission","group_status_id","groupStatuses","status","parent_id","parents","parent","displayName","statuses","newGroup","e","toUpperCase","cdwgs","namesDirty","isDirty","affiliationIdDirty","updateGroup","createGroup","then","attributes","promises","saveGroupData","saveEpData","Promise","all","saveParent","saveName","saveStatus","submitFormData","method","url","affiliationId","attribute","status_id","resetData","getParentOptions","beforeMount","requirement","isMet","summaries","evidence_summaries","summary","idx","handleSavedSummary","handleDeleted","startNewSummary","newSummaries","newSummary","cancelAdd","adding","handleSaved","cancelEdit","gene","edit","confirmDelete","vci_url","href","target","showDeleteConfirm","deleteSummary","cancelDelete","gene_id","summaryClone","groupGenes","getGroupGenes","initSummaryClone","EvidenceSummaryForm","delete","EvidenceSummary","selectedSummary","meetsRequirements","getEvidenceSummaries","log","clearNewSummaries","s","mergeSummary","hasRequirements","evaledRequirements","req","color","badgeColor","badgeText","RequirementsItem","section","metCount","metRequirements","requirements","evaluateRequirements","defaultSort","router","useRouter","route","useRoute","query","includes","sortObj","newSortQuery","newQuery","replace","currentQuery","currentPath","updatedQuery","colspan","addNewGene","orderedGenes","hgnc_id","mondo_id","disease","updateCancel","updateGene","disease_name","date_approved","toDelete","remove","removeCountdown","cancelPendingRemove","newGenes","newGene","GeneSearchSelect","DiseaseSearchSelect","sortedGenes","a","b","clearNewGenes","clearRemoveCountdown","removeTimeout","clearTimeout","clearInterval","removeInterval","clearRemovalFlags","setTimeout","setInterval","filteredGenes","ng","scope","put","curation_review_protocol_other","hasSpecifications","specFields","specifications","cell-status_name","mounted"],"mappings":"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","file":"js/application-detail~group-application~group-detail.4d4a6c51.js","sourcesContent":["<script>\nimport configs from '@/configs.json'\nimport { formatDate, yearAgo } from '@/date_utils'\nimport sortAndFilter from '@/composables/router_aware_sort_and_filter'\nimport MemberPreview from '@/components/groups/MemberPreview'\nimport { titleCase } from '@/utils'\n\nexport default {\n    name: 'MemberList',\n    components: {\n        MemberPreview,\n    },\n    data() {\n        return {\n            showFilter: false,\n            showConfirmRetire: false,\n            showConfirmRemove: false,\n            filters: {\n                keyword: null,\n                roleId: null,\n                needsCoi: null,\n                needsTraining: null,\n                hideAlumns: true \n            },\n            tableFields: [\n                {\n                    name: 'id',\n                    label: '',\n                    type: Number,\n                    sortable: false,\n                },\n                {\n                    name: 'person.first_name',\n                    label: 'First',\n                    type: String,\n                    sortable: true,\n                },\n                {\n                    name: 'person.last_name',\n                    label: 'Last',\n                    type: String,\n                    sortable: true,\n                },\n                {\n                    name: 'person.timezone',\n                    label: 'Closest City (for timezone)',\n                    type: String,\n                    sortable: true,\n                },\n                {\n                    name: 'roles',\n                    label: 'Roles',\n                    sortable: false\n                },\n                {\n                    name: 'coi_last_completed',\n                    label: 'COI Completed',\n                    type: Date,\n                    sortable: true,\n                },\n                // {\n                //     name: 'training_completed_at',\n                //     label: 'Training Completed',\n                //     type: Date,\n                //     sortable: true\n                // },\n                {\n                    name: 'actions',\n                    label: '',\n                    type: Object,\n                    sortable: false\n                }\n\n            ],\n            selectedMember: null,\n            hideAlumns: true,\n            members: []\n        }\n    },\n    computed: {\n        group () {\n            return this.$store.getters['groups/currentItemOrNew'];\n        },\n        \n        filteredMembers () {\n            if (!this.group.members) {\n                return [];\n            }\n            return this.group.members\n                    .filter(m => this.matchesFilters(m))\n                    .filter(m => {\n                        if (this.filters.hideAlumns) {\n                            return m.end_date === null;\n                        }\n                        return m;\n                    });\n        },\n        fieldsForGroupType () {\n            const fields = [...this.tableFields];\n            if (!this.group.isEp()) {\n               delete fields.splice(fields.findIndex(f => f.name == 'coi_last_completed'), 1);\n            }\n            return fields;\n        },\n        roles () {\n            return configs.groups.roles;\n        },\n        coiCuttoff () {\n            const cuttoff = new Date();\n            cuttoff.setFullYear(cuttoff.getFullYear()-1);\n            return cuttoff;\n        },\n        selectedMemberName () {\n            return this.selectedMember ? this.selectedMember.person.name : null\n        }\n    },\n    watch: {\n        group: {\n            immediate: true,\n            handler (to, from) {\n                if ((to.id && (!from || to.id != from.id))) {\n                    this.$store.dispatch('groups/getMembers', this.group);\n                }\n            }\n        }\n    },\n    setup() {\n        const {sort, filter} = sortAndFilter({field: 'person.last_name', desc: false});\n\n        return {\n            sort,\n            filter,\n            yearAgo\n        }\n    },\n    methods: {\n        toggleFilter() {\n            this.showFilter = !this.showFilter;\n        },\n        matchesFilters(member) {\n            if (this.filters.keyword && !member.matchesKeyword(this.filters.keyword)) {\n                return false;\n            }\n            if (this.filters.roleId && !member.hasRole(this.filters.roleId)) {\n                return false;\n            }\n            if (this.filters.needsCoi && member.coiUpToDate()) {\n                return false;\n            }\n\n            if (this.filters.needsTraining && member.trainingComplete()) {\n                return false;\n            }\n\n            return true;\n        },\n        toggleItemDetails(item) {\n            item.showDetails = !item.showDetails;\n        },\n        titleCase (string) {\n            return titleCase(string);\n        },\n        formatDate (date) {\n            return formatDate(date)\n        },\n        editMember (member) {\n            this.$router.push(this.append(this.$route.path, `members/${member.id}`))\n        },\n        confirmRetireMember (member) {\n            this.showConfirmRetire = true;\n            this.selectedMember = member;\n        },\n        async retireMember (member) {\n            try {\n                await this.$store.dispatch('groups/memberRetire', {\n                    uuid: this.group.uuid,\n                    memberId: member.id,\n                    startDate: member.start_date, \n                    endDate: new Date().toISOString()\n                });\n                this.cancelRetire();\n            } catch (error) {\n                console.error(error);\n            }\n        },\n        cancelRetire () {\n            this.selectedMember = null;\n            this.showConfirmRetire = false;\n        },\n        confirmRemoveMember (member) {\n            this.showConfirmRemove = true;\n            this.selectedMember = member;\n        },\n        async removeMember () {\n            try {\n                await this.$store.dispatch('groups/memberRemove', {\n                    uuid: this.group.uuid,\n                    memberId: this.selectedMember.id,\n                    startDate: this.selectedMember.start_date, \n                    endDate: new Date().toISOString()\n                });\n                this.cancelRemove();\n            } catch (error) {\n                console.error(error);\n            }\n        },\n        cancelRemove () {\n            this.selectedMember = null;\n            this.showConfirmRemove = false;\n        },\n        goToMember (member) {\n            this.$router.push({name: 'PersonDetail', params: {uuid: member.person.uuid}})\n        },\n        hasAnyMemberPermission () {\n            const hasPerm = this.hasAnyPermission([\n                ['members-update', this.group],\n                ['members-retire', this.group],\n                ['members-remove', this.group],\n                'groups-manage'\n            ])\n\n            return hasPerm;\n        },\n        getCoiDateStyle (member) {\n            if (member.coi_last_completed === null) {\n                return 'text-red-700';\n            }\n            return 'text-yellow-500';\n        }    \n    }\n}\n</script>\n<template>\n    <div>\n        <head class=\"flex justify-between items-baseline\">\n            <div class=\"flex space-x-2 items-baseline\">\n                <h2>Members</h2>\n                <button \n                    ref=\"filterToggleButton\" \n                    class=\"px-3 py-2 rounded-t transition-color\" \n                    :class=\"{'rounded-b': !showFilter, 'bg-blue-200': showFilter}\" \n                    @click=\"toggleFilter\"\n                    v-if=\"group.members.length > 0\"\n                >\n                    <icon-filter></icon-filter>\n                </button>\n            </div>\n            <router-link \n                class=\"btn btn-xs\" \n                ref=\"addMemberButton\" \n                :to=\"append($route.path, 'members/add')\"\n                v-if=\"hasAnyPermission([['members-invite', group], 'groups-manage'])\"\n            >Add Member</router-link>\n        </head>\n        <transition name=\"slide-fade-down\">\n            <div v-show=\"showFilter\" class=\"flex justify-between px-2 space-x-2 bg-blue-200 rounded-lg\"                v-if=\"group.members.length > 0\">\n                <div class=\"flex-1\">\n                    <input-row label=\"Keyword\" type=\"text\" v-model=\"filters.keyword\" label-width-class=\"w-20\"></input-row>\n                    <input-row label=\"Role\" label-width-class=\"w-20\">\n                    <select v-model=\"filters.roleId\">\n                        <option :value=\"null\">Select&hellip;</option>\n                        <option \n                            v-for=\"role in roles\"\n                            :key=\"role.id\"\n                            :value=\"role.id\"\n                        >\n                            {{role.name}}\n                        </option>\n                    </select>\n                </input-row>\n                </div>\n                <div class=\"flex-1 py-2\">\n                    <checkbox class=\"block\" label=\"Needs COI\" v-model=\"filters.needsCoi\" />\n                    <!-- <checkbox class=\"block\" label=\"Needs Training\" v-model=\"filters.needsTraining\" /> -->\n                </div>\n                <div class=\"flex-1 py-2\">\n                    <checkbox class=\"block\" label=\"Hide Alumns\" v-model=\"filters.hideAlumns\" />\n                </div>\n            </div>\n        </transition>\n        \n        <div class=\"mt-3 py-2 w-full overflow-auto\">\n            <data-table \n                :fields=\"fieldsForGroupType\" \n                :data=\"filteredMembers\" \n                v-model:sort=\"sort\" \n                :detailRows=\"true\" \n                :row-class=\"(item) => 'cursor-pointer'+ (item.isRetired ? ' retired-member' : '')\"\n                @rowClick=\"goToMember\"\n                v-if=\"group.members.length > 0\"\n            >\n                <template v-slot:cell-id=\"{item}\">\n                    <button @click.stop=\"toggleItemDetails(item)\" class=\"w-9 align-center block -mx-3\">\n                        <icon-cheveron-right v-if=\"!item.showDetails\" class=\"m-auto cursor-pointer\" />\n                        <icon-cheveron-down v-if=\"item.showDetails\" class=\"m-auto cursor-pointer\" />\n                    </button>\n                </template>\n                <template v-slot:cell-roles=\"{value}\">\n                    {{titleCase(value.map(i => i.name).join(', '))}}\n                </template>\n                <template v-slot:cell-coi_last_completed=\"{item}\">\n                    <div class=\"flex space-x-2\">\n                        <span v-if=\"item.coi_last_completed\">{{formatDate(item.coi_last_completed)}}</span>\n                        <icon-exclamation\n                            v-if=\"!item.coi_last_completed === null || (item.coi_last_completed < yearAgo())\"\n                            :class=\"getCoiDateStyle(item)\"\n                        />\n                    </div>\n                </template>\n                <template v-slot:cell-actions=\"{item}\">\n                    <div class=\"flex space-x-2 items-center\">\n                        <dropdown-menu :hide-cheveron=\"true\" class=\"relative\" v-if=\"hasAnyMemberPermission()\">\n                            <template v-slot:label>\n                                <button class=\"btn btn-xs\">&hellip;</button>\n                            </template>\n                            <dropdown-item\n                                v-if=\"hasAnyPermission([['members-update', group], 'groups-manage'])\"\n                            >\n                                <div @click=\"editMember(item)\">Update membership</div>\n                            </dropdown-item>\n                            <dropdown-item\n                                v-if=\"hasAnyPermission([['members-retire', group], 'groups-manage'])\"\n                            >\n                                <div @click=\"confirmRetireMember(item)\">Retire from group</div>\n                            </dropdown-item>\n                            <dropdown-item\n                                v-if=\"hasAnyPermission([['members-remove', group], 'groups-manage'])\"\n                            >\n                                <div @click=\"confirmRemoveMember(item)\">Remove from group</div>\n                            </dropdown-item>\n                        </dropdown-menu>\n                        <popover hover arrow content=\"Receives notifications about this group.\" placement=\"top\">\n                            <icon-notification v-if=\"item.is_contact\" :width=\"12\" :height=\"12\" icon-name=\"Is a group contact\" @click.stop=\"\"/>\n                        </popover>\n                    </div>\n                </template>\n\n                <template v-slot:detail=\"{item}\">\n                    <member-preview :member=\"item\" :group=\"group\"></member-preview>\n                </template>\n            </data-table>\n            <div v-else class=\"well\">\n                This group does not yet have any members.\n            </div>\n        </div>\n        <teleport to='body'>\n            <modal-dialog v-model=\"showConfirmRetire\" size=\"xs\" :title=\"`Retire ${selectedMemberName}?`\">\n                <p class=\"text-lg\">\n                    Are you sure you want to retire {{selectedMemberName}} from this group?\n                </p>\n                <button-row @submit=\"retireMember\" @cancel=\"cancelRetire\" submit-text=\"Retire Member\"></button-row>\n            </modal-dialog>\n            <modal-dialog v-model=\"showConfirmRemove\" size=\"xs\" :title=\"`Remove ${selectedMemberName}?`\">\n                <p class=\"text-lg\"> Are you sure you want to remove {{selectedMemberName}} from this group?</p>\n                <p><strong>This cannot be undone.</strong></p>\n                <button-row @submit=\"removeMember\" @cancel=\"cancelRemove\" submit-text=\"Remove Member\"></button-row>\n            </modal-dialog>\n        </teleport>\n    </div>\n</template>\n<style>\n    .inset {\n        box-shadow: \n            inset 0px 11px 15px -10px #CCC,\n            inset 0px -11px 10px -10px #EEE; \n    }\n    .transition-color {\n        transition: background-color .3 linear;\n    }\n    .retired-member > td {\n        @apply text-gray-400;\n    }\n</style>","<template>\n    <div class=\"px-8 py-4 inset\">\n        <static-alert variant=\"warning\" v-if=\"member.isRetired\" class=\"mb-3 float-right\">\n            RETIRED\n        </static-alert>\n\n        <div class=\"md:flex flex-wrap space-x-4 text-sm\">\n            <div>\n                <profile-picture :person=\"member.person\"></profile-picture>\n                <note>member id: {{member.id}}</note>\n            </div>\n            <div class=\"flex-1 md:flex flex-wrap\">\n                <div class=\"flex-1 mr-8\">\n                    <dictionary-row label=\"Email\">{{member.person.email}}</dictionary-row>\n                    <dictionary-row label=\"Institution\">{{member.person.institution_id ? member.person.institution.name : '--'}}</dictionary-row>\n                    <dictionary-row label=\"Credentials\">{{member.person.credentials}}</dictionary-row>\n                    <object-dictionary\n                        :obj=\"member\"\n                        :only=\"['expertise', 'notes']\"\n                    ></object-dictionary>\n                        <dictionary-row label=\"Start - End\">\n                            {{formatDate(member.start_date)}} - {{formatDate(member.end_date) || 'present'}}\n                        </dictionary-row>\n                </div>\n                <div class=\"flex-1 mr-4\">\n                    <h4>Biocurator Training:</h4>\n                    <div v-if=\"member.hasRole('biocurator')\"  class=\"ml-2\">\n                        <dictionary-row label=\"Level 1 training\">\n                            <icon-checkmark class=\"text-green-700\" v-if=\"member.training_level_1\"/>\n                        </dictionary-row>\n                        <dictionary-row label=\"Level 2 training\">\n                            <icon-checkmark class=\"text-green-700\" v-if=\"member.training_level_2\"/>\n                        </dictionary-row>\n                    </div>\n                    <div class=\"mt-2\">\n                        <h4>Roles:</h4>\n                        <div class=\"ml-2\">\n                            {{member.roles.length > 0 ? member.roles.map(i => titleCase(i.name)).join(', ') : '--'}}\n                        </div>\n                    </div>\n                    <div class=\"mt-2\">\n                        <h4>Extra Permissions:</h4>\n                        <div class=\"ml-2\">\n                            {{member.permissions.length > 0 ? member.permissions.map(i => i.name).join(', ') : '--'}}\n                        </div>\n                    </div>\n                </div>\n            </div>\n            <div>\n            </div>\n        </div>\n        <router-link class=\"link\" \n            :to=\"{name: 'PersonDetail', params: {uuid: this.member.person.uuid}}\">\n            View profile\n        </router-link>\n    </div>\n</template>\n<script>\nimport GroupMember from '@/domain/group_member';\nimport Group from '@/domain/group';\nimport ProfilePicture from '@/components/people/ProfilePicture'\nimport {formatDate} from '@/date_utils'\n\n\n\nexport default {\n    name: 'MemberPreview',\n    components: {\n        ProfilePicture,\n    },\n    props: {\n        member: {\n            type: GroupMember,\n            required: true\n        },\n        group: {\n            type: Group,\n            required: true\n        }\n    },\n    emits: [\n        'edit',\n    ],\n    setup () {\n        return {\n            formatDate: formatDate\n        }\n    }\n}\n</script>","<template>\n    <div class=\"w-24 border border-gray-300 bg-white\">\n        <img v-if=\"person.profile_photo_path\" :src=\"person.profile_photo_path\">\n        <icon-user v-else height=\"96\" width=\"96\" icon-color=\"#888\" />\n    </div>\n</template>\n<script>\nimport Person from '@/domain/person'\n\n\nexport default {\n    name: 'ProfilePicture',\n    props: {\n        person: {\n            required: true,\n            type: Person\n        }\n    },\n    data() {\n        return {\n            \n        }\n    },\n    computed: {\n        hasProfilePhoto () {\n            return this.person.profile_photo_path !== null;\n        }\n    },\n    methods: {\n\n    }\n}\n</script>","import { render } from \"./ProfilePicture.vue?vue&type=template&id=02ff36a4\"\nimport script from \"./ProfilePicture.vue?vue&type=script&lang=js\"\nexport * from \"./ProfilePicture.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","import { render } from \"./MemberPreview.vue?vue&type=template&id=e808c0ea\"\nimport script from \"./MemberPreview.vue?vue&type=script&lang=js\"\nexport * from \"./MemberPreview.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","import { render } from \"./MemberList.vue?vue&type=template&id=080f00eb\"\nimport script from \"./MemberList.vue?vue&type=script&lang=js\"\nexport * from \"./MemberList.vue?vue&type=script&lang=js\"\n\nimport \"./MemberList.vue?vue&type=style&index=0&id=080f00eb&lang=css\"\nscript.render = render\n\nexport default script","<template>\n    <div>\n        <div class=\"mb-4\">\n            <input-row \n                v-model=\"group.expert_panel.meeting_frequency\" \n                label=\"Meeting/call frequency\" \n                :errors=\"errors.meeting_frequency\"\n                placeholder=\"Once per week\"\n                label-width-class=\"w-44\"\n                :disabled=\"!canEdit\"\n            >\n            </input-row>\n            <input-row label=\"VCEP Standardized Review Process\" :errors=\"errors.curation_review_protocol_id\" vertical>\n                <div>\n                    <label class=\"mt-2\">\n                        <input type=\"radio\" \n                            v-model=\"group.expert_panel.curation_review_protocol_id\" \n                            value=\"1\" \n                            class=\"mt-1\"\n                            :disabled=\"!canEdit\"\n                        >\n                        <div>Process #1: Biocurator review followed by VCEP discussion</div>\n                    </label>\n                    <label class=\"mt-2\">\n                        <input type=\"radio\" \n                            v-model=\"group.expert_panel.curation_review_protocol_id\" \n                            value=\"2\" \n                            class=\"mt-1\"\n                            :disabled=\"!canEdit\"\n                        >\n                       <div>Process #2: Paired biocurator/expert review followed by expedited VCEP approval</div>\n                    </label>\n                </div>\n            </input-row>\n        </div>\n        <p class=\"text-sm mb-0\">For all variants approved by either of the processes described above, a summary of approved variants should be sent to ensure that any members absent from a call have an opportunity to review each variant. The summary should be emailed to the full VCEP after the call and should summarize decisions that were made and invite feedback within a week.</p>\n\n        <input-row label=\"Curation and Review Process Notes\" :vertical=\"true\" label-class=\"font-bold\">\n            <textarea \n                v-if=\"canEdit\"\n                class=\"w-full h-20\" \n                v-model=\"group.expert_panel.curation_review_process_notes\" \n            />\n            <blockquote v-else>\n                {{group.expert_panel.curation_review_process_notes}}\n            </blockquote>\n        </input-row>\n    </div>\n</template>\n<script>\n\nexport default {\n    name: 'VcepOngoingPlansForm',\n    props: {\n        errors: {\n            type: Object,\n            required: false,\n            default: () => ({})\n        },\n        editing: {\n            type: Boolean,\n            required: false,\n            default: true\n        },\n        readonly: {\n            type: Boolean,\n            required: false,\n            default: false\n        },\n    },\n    computed: {\n        group: {\n            get () {\n                return this.$store.getters['groups/currentItemOrNew'];\n            }, \n            set (value) {\n                this.$store.commit('groups/addItem', value)\n            }\n        },\n        canEdit () {\n            return this.hasAnyPermission([\n                'ep-applications-manage',\n                ['application-edit', this.group]\n            ])\n            && !this.readonly;\n        }\n    }\n}\n\n</script> ","import { render } from \"./VcepOngoingPlansForm.vue?vue&type=template&id=7e0d6880\"\nimport script from \"./VcepOngoingPlansForm.vue?vue&type=script&lang=js\"\nexport * from \"./VcepOngoingPlansForm.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","<template>\n    <div>\n        <h4 class=\"flex justify-between mb-2\">\n            Gene List\n            <edit-icon-button \n                v-if=\"hasAnyPermission(['groups-manage', ['application-edit', group]]) && !editing && !readonly\"\n                @click=\"showForm\"\n            ></edit-icon-button>\n        </h4>\n        <div v-if=\"editing\">\n            <input-row \n                :vertical=\"true\"\n                label=\"List the gene symbols for the genes the Expert Panel plans to curate.  Separate genes by commas, spaces, or new lines.\"\n                :errors=\"errors.genes\"\n            >\n                <textarea \n                    v-model=\"genesAsText\"\n                    class=\"w-full\" \n                    rows=\"5\" \n                    placeholder=\"ABC, DEF1, BEAN\"\n                    @input=\"$emit('geneschanged')\"\n                ></textarea>\n            </input-row>\n        </div>\n        <div v-else>\n            <p v-if=\"genesAsText\" style=\"text-indent: 1rem;\">{{genesAsText}}</p>\n            <div class=\"well cursor-pointer\" v-else @click=\"showForm\">\n                {{ loading ? `Loading...` : `No genes have been added to the gene list.`}}\n            </div>\n        </div>\n    </div>\n</template>\n<script>\nimport {ref, watch, computed, onMounted} from 'vue';\nimport {useStore} from 'vuex';\nimport formFactory from '@/forms/form_factory'\nimport is_validation_error from '@/http/is_validation_error'\nimport api from '@/http/api'\n\nexport default {\n    name: 'GcepGeneList',\n    components: {\n    },\n    props: {\n        editing: {\n            type: Boolean,\n            required: false,\n            default: true\n        },\n        readonly: {\n            type: Boolean,\n            required: false,\n            default: false\n        }\n    },\n    computed: {\n        canEdit () {\n            return this.hasAnyPermission(['groups-manage', ['application-edit', this.group]]);\n        }\n    },\n    emits: [\n        'saved',\n        'canceled',\n        'update:editing',\n        'geneschanged'\n    ],\n    methods: {\n        showForm () {\n            if (this.canEdit) {\n                this.resetErrors();\n                this.$emit('update:editing', true);\n            }\n        }\n\n    },\n    setup(props, context) {\n        const store = useStore();\n\n        const loading = ref(false);\n        const genesAsText = ref(null);\n\n        const {errors, resetErrors} = formFactory(props, context)\n\n        const group = computed({\n            get() {\n                return store.getters['groups/currentItemOrNew'];\n            },\n            set (value) {\n                store.commit('groups/addItem', value)\n            }\n        });\n\n        const hideForm = () => {\n            context.emit('update:editing', false);\n            errors.value = {};\n        }\n        const cancel = () => {\n            resetErrors();\n            getGenes();\n            hideForm();\n            context.emit('canceled');\n        }\n\n        const syncGenesAsText = () => {\n            if (!group.value.expert_panel) {\n                return;\n            }\n            genesAsText.value = group.value.expert_panel.genes\n                ? group.value.expertPanel.genes.join(', ')\n                : null\n        };\n        const getGenes = async () => {\n            if (!group.value.uuid) {\n                return;\n            }\n            loading.value = true;\n            try {\n                await store.dispatch('groups/getGenes', group.value);\n                genesAsText.value = group.value.expert_panel.genes.map(g => g.gene_symbol).join(\", \");\n            } catch (error) {\n                store.commit('pushError', error.response.data);\n            }\n            loading.value = false;\n            \n        }\n        const save = async () => {\n            const genes = genesAsText.value \n                            ? genesAsText.value\n                                .split(new RegExp(/[, \\n]/))\n                                .filter(i => i !== '')\n                            : [];\n\n            try {\n                await api.post(`/api/groups/${group.value.uuid}/expert-panel/genes`, {genes});\n                hideForm();\n                context.emit('saved')\n                getGenes();\n            } catch (error) {\n                if (is_validation_error(error)) {\n                    const messages = error.response.data.errors\n                    if (messages.group) {\n                        messages.group\n                            .forEach(m => {\n                                store.pushError(m)\n                            })\n                    }\n                    const geneMessages = Object.keys(messages).map(key => {\n                        const [g, geneIdx] = key.split('.')\n                        if (g == 'genes') {\n                            if (geneIdx) {\n                                return `Gene #${(parseInt(geneIdx)+1)}, \"${genes[geneIdx]}\" wasn't found in our records.  Please confirm it is currently an approved HGNC gene symbol.`\n                            }\n                            return messages[key];\n                        }\n                    });\n                    errors.value = {\n                        genes: geneMessages\n                    }\n                }\n            }\n        };\n\n\n        watch(() => store.getters['groups/currentItem'], (to, from) => {\n            if (to.id && (!from || to.id != from.id)) {\n                // syncGenesAsText();\n                getGenes();\n            }\n        })\n\n        onMounted(() => {\n            getGenes();\n        })\n\n        watch(() => group.value.expert_panel.genes, () => {\n            // syncGenesAsText();\n        })\n\n        return {\n            group,\n            genesAsText,\n            loading,\n            errors,\n            resetErrors,\n            hideForm,\n            cancel,\n            syncGenesAsText,\n            save,\n        }\n    }\n}\n</script>","export default function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}","export default function _iterableToArrayLimit(arr, i) {\n  var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"];\n\n  if (_i == null) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n\n  var _s, _e;\n\n  try {\n    for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}","export default function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","import arrayWithHoles from \"./arrayWithHoles.js\";\nimport iterableToArrayLimit from \"./iterableToArrayLimit.js\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray.js\";\nimport nonIterableRest from \"./nonIterableRest.js\";\nexport default function _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}","import { render } from \"./GcepGeneList.vue?vue&type=template&id=248ad7ed\"\nimport script from \"./GcepGeneList.vue?vue&type=script&lang=js\"\nexport * from \"./GcepGeneList.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","<template>\n    <div>\n        <input-row label=\"Type\" v-if=\"canSetType\">\n            <select v-model=\"group.group_type_id\" class=\"w-full\">\n                <option :value=\"null\">Select&hellip;</option>\n                <option v-for=\"type in groupTypes\" :key=\"type.id\" :value=\"type.id\">\n                    {{type.fullname}}\n                </option>\n            </select>\n        </input-row>\n        <dictionary-row label=\"Type\" v-else>\n            {{typeDisplayName}}\n        </dictionary-row>\n        \n        <transition name=\"slide-fade-down\" mode=\"out-in\">\n            <div v-if=\"group.group_type_id > 2 && group.expert_panel\">\n                <input-row \n                    label=\"Long Base Name\" \n                    v-model=\"group.expert_panel.long_base_name\" \n                    placeholder=\"Long base name\"\n                    :errors=\"errors.long_base_name\"\n                    input-class=\"w-full\"\n                ></input-row>\n                <input-row \n                    label=\"Short Base Name\" \n                    v-model=\"group.expert_panel.short_base_name\" \n                    placeholder=\"Short base name\"\n                    :errors=\"errors.short_base_name\"\n                    input-class=\"w-full\"\n                ></input-row>\n                <div v-if=\"hasAnyPermission(['groups-manage'])\">\n                    <input-row \n                        label=\"Affiliation ID\" \n                        v-model=\"group.expert_panel.affiliation_id\" \n                        :placeholder=\"affiliationIdPlaceholder\"\n                        :errors=\"errors.affiliation_id\"  \n                        input-class=\"w-full\"\n                    >\n                        <template v-slot:label>\n                            Affiliation ID\n                            <note>admin-only</note>\n                        </template>\n                    </input-row>\n                </div>\n                <dictionary-row label=\"Affiliation ID\" v-else>\n                    <span v-if=\"group.expert_panel.affiliation_id\">{{group.expert_panel.affiliation_id}}</span>\n                    <span v-else class=\"text-gray-400\">{{'Not yet assigend'}}</span>\n                </dictionary-row>\n            </div>\n            <div v-else>\n                <input-row \n                    v-model=\"group.name\" \n                    placeholder=\"Name\" \n                    label=\"Name\" \n                    input-class=\"w-full\"\n                    :errors=\"errors.name\"\n                />\n            </div>\n        </transition>\n        <div v-if=\"hasPermission('groups-manage')\">\n            <input-row :errors=\"errors.group_status_id\">\n                <template v-slot:label>\n                    Status:\n                    <note>admin-only</note>\n                </template>\n                <select v-model=\"group.group_status_id\" class=\"w-full\"\n                    \n                >\n                    <option :value=\"null\"></option>\n                    <option v-for=\"status in groupStatuses\" :key=\"status.id\" :value=\"status.id\">\n                        {{titleCase(status.name)}}\n                    </option>\n                </select>\n            </input-row>\n\n            <input-row :errors=\"errors.parent_id\"  >\n                <template v-slot:label>\n                    Parent group:\n                    <note>admin-only</note>\n                </template>\n                <select v-model=\"group.parent_id\" class=\"w-full\">\n                    <option :value=\"null\">Select...</option>\n                    <option :value=\"0\">None</option>\n                    <option v-for=\"parent in parents\" :key=\"parent.id\" :value=\"parent.id\">\n                        {{parent.displayName}}\n                    </option>\n                </select>\n            </input-row>\n        </div>\n    </div>\n</template>\n<script>\nimport {isValidationError} from '@/http'\nimport {api} from '@/http'\nimport Group from '@/domain/group'\nimport configs from '@/configs'\nimport formFactory from '@/forms/form_factory'\n\nexport default {\n    name: 'GroupForm',\n    emits: [\n        'canceled',\n        'saved'\n    ],\n    data() {\n        return {\n            groupTypes: [\n                {id: 1, fullname: 'Working Group'},\n                {id: 2, fullname: 'Clinical Domain Working Group'},\n                {id: 3, fullname: 'GCEP'},\n                {id: 4, fullname: 'VCEP'},\n            ],\n            groupStatuses: configs.groups.statuses,\n            newGroup: new Group(),\n            parents: []\n        }\n    },\n    computed: {\n        group: {\n            get() {\n                const group = this.$store.getters['groups/currentItem'];\n                if (group) {\n                    return group;\n                }\n                return this.newGroup;\n            },\n            set (value) {\n                try {\n                    this.$store.commit('groups/addItem', value);\n                } catch (e) {\n                    this.newGroup = value;\n                }\n            }\n        },\n        canSetType() {\n            return this.hasPermission('groups-manage') && !this.group.id \n        },\n        typeDisplayName () {\n            if (!this.group.type) {\n                return \"\";\n            }\n            if (this.group.type.name) {\n                return (this.group.type.id < 3) \n                    ? this.group.type.name.toUpperCase() \n                    : this.group.expert_panel.type.name.toUpperCase();\n            }\n            return null;\n        },\n        affiliationIdPlaceholder () {\n            return 50000\n        },\n        cdwgs () {\n            return this.$store.getters['cdwgs/all']\n        },\n        namesDirty () {\n            return this.group.expert_panel.isDirty('long_base_name')\n                || this.group.expert_panel.isDirty('short_base_name');\n        },\n        affiliationIdDirty () {\n            return this.group.expert_panel.isDirty('affiliation_id');\n        }\n    },\n    methods: {\n        async save() {\n            try {\n                this.resetErrors();\n                if (this.group.id) {\n                    await this.updateGroup();\n                    this.$emit('saved');\n\n                    this.$store.dispatch('groups/find', this.group.uuid);\n                    // this.$store.commit('pushSuccess', 'Group info updated.');\n                    return;\n                } \n\n                const newGroup = await this.createGroup()\n                                    .then(response => response.data.data);\n                this.$emit('saved');\n                this.$store.commit('pushSuccess', 'Group created.');\n                this.$router.push({name: 'AddMember', params: {uuid: newGroup.uuid}});\n            } catch (error) {\n                if (isValidationError(error)) {\n                    this.errors = error.response.data.errors;\n                }\n            }\n        },\n        createGroup () {\n            let {name, parent_id, group_type_id, group_status_id} = this.group.attributes;\n            if (name === null && this.group.expert_panel) {\n                name = this.group.expert_panel.long_base_name;\n            }\n            return this.$store.dispatch('groups/create', {name, parent_id, group_type_id, group_status_id});\n        },\n        updateGroup () {\n            const promises = [];\n            promises.push(this.saveGroupData());\n            if (this.group.expert_panel) {\n                promises.push(this.saveEpData());\n            }\n            \n            return Promise.all(promises);\n        },\n        saveGroupData () {\n            const promises = [];\n            if (this.group.isDirty('parent_id')) {\n                promises.push(this.saveParent());\n            }\n\n            if (this.group.isDirty('name')) {\n                promises.push(this.saveName())\n            }\n\n            if (this.group.isDirty('group_status_id')) {\n                promises.push(this.saveStatus())\n            }\n\n            return Promise.all(promises);\n        },\n        async saveEpData() {\n            const promises = []\n            if (this.namesDirty) {\n                const {long_base_name, short_base_name} = this.group.expert_panel;\n                promises.push(this.submitFormData({\n                    method: 'put',\n                    url: `/api/groups/${this.group.uuid}/expert-panel/name`, \n                    data: { long_base_name, short_base_name }\n                }));\n            }\n\n            if (this.affiliationIdDirty) {\n                promises.push(this.submitFormData({\n                    method: 'put',\n                    url: `/api/groups/${this.group.uuid}/expert-panel/affiliation-id`, \n                    data: { affiliation_id: this.affiliationId }\n                }));\n            }\n\n            return await Promise.all(promises);\n        },\n\n        isDirty (attribute) {\n            return this.group[attribute] != this.group[attribute]\n        },\n        \n        saveParent () {\n            return this.submitFormData({\n                method: 'put',\n                url: `/api/groups/${this.group.uuid}/parent`, \n                data: { parent_id: this.group.parent_id }\n            })\n        },\n        saveName () {\n            return this.submitFormData({\n                method: 'put',\n                url: `/api/groups/${this.group.uuid}/name`,\n                data: {name: this.group.name}\n            })\n        },\n        saveStatus () {\n            return this.submitFormData({\n                method: 'put',\n                url: `/api/groups/${this.group.uuid}/status`,\n                data: {status_id: this.group.group_status_id}\n            })\n        },\n        resetData () {\n            if (this.group.uuid) {\n                this.$store.dispatch('groups/find', this.group.uuid);\n            }\n        },\n        cancel() {\n            if (this.group.uuid) {\n                this.resetData();\n            }\n            this.$emit('canceled');\n        },\n        async getParentOptions () {\n            this.parents = await api.get(`/api/groups`)\n                        .then(response => {\n                            return response.data\n                                .filter(group => group.id != this.group.id)\n                                .map(g => new Group(g))\n                        });\n        }\n    },\n    beforeMount() {\n        this.getParentOptions();\n        this.$store.dispatch('cdwgs/getAll');\n    },\n    setup (props, context) {\n        const {errors, submitFormData, resetErrors} = formFactory(props, context)\n\n        return {\n            errors,\n            submitFormData,\n            resetErrors\n        }\n    }\n}\n</script>","import { render } from \"./GroupForm.vue?vue&type=template&id=bff79b68\"\nimport script from \"./GroupForm.vue?vue&type=script&lang=js\"\nexport * from \"./GroupForm.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","<template>\n    <div class=\"flex space-x-2\">\n        <icon-checkmark class=\"text-green-600\" v-if=\"requirement.isMet\"></icon-checkmark>\n        <icon-exclamation class=\"text-yellow-400\" v-else></icon-exclamation>\n        <div>{{requirement.label}}</div>\n    </div>\n</template>\n<script>\nexport default {\n    name: 'RequirementsItem',\n    props: {\n        requirement: {\n            type: Object,\n            required: true\n        }\n    },\n}\n</script>","import { render } from \"./RequirementsItem.vue?vue&type=template&id=456071fe\"\nimport script from \"./RequirementsItem.vue?vue&type=script&lang=js\"\nexport * from \"./RequirementsItem.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","<template>\n    <div>\n        <!-- <pre>{{group.expert_panel.evidence_summaries}}</pre> -->\n        <ul v-if=\"summaries.length > 0\">\n            <transition-group name=\"slide-fade-down\">            \n                <li class=\"my-4 flex\" v-for=\"(summary, idx) in group.expert_panel.evidence_summaries\" :key=\"idx\">\n                    <div class=\"text-lg pr-4\">{{idx+1}}</div>\n                    <evidence-summary \n                        :summary=\"summary\" \n                        :group=\"group\"\n                        @saved=\"handleSavedSummary\" \n                        @deleted=\"handleDeleted\"\n                        class=\"flex-1\"\n                        :readonly=\"readonly\"\n                    ></evidence-summary>\n                </li>\n            </transition-group>\n        </ul>\n        <div class=\"well text-center\" v-else-if=\"loading\">Loading...</div>\n        <div class=\"well text-center cursor-pointer\" v-else @click=\"startNewSummary\">No example evidence summaries have been added.</div>\n        <ul v-show=\"adding\">\n            <li class=\"my-4 flex\" v-for=\"(newSummary, idx) in newSummaries\" :key=\"idx\">\n                <div class=\"text-lg pr-4\">{{(idx+1+summaries.length)}}</div>\n                <evidence-summary-form \n                    class=\"flex-1\" \n                    :group=\"group\" \n                    :summary=\"newSummary\" \n                    @saved=\"handleSavedSummary\" \n                    @canceled=\"cancelAdd\"\n                ></evidence-summary-form>\n            </li>\n        </ul>\n        <div v-show=\"!adding && canEdit\">\n            <button class=\"btn btn-xs\" @click=\"startNewSummary\" v-show=\"!adding\">Add Summary</button>\n        </div>\n    </div>\n</template>\n<script>\nimport api from '@/http/api'\nimport EvidenceSummary from '@/components/expert_panels/EvidenceSummary'\nimport EvidenceSummaryForm from '@/components/expert_panels/EvidenceSummaryForm'\n\nexport default {\n    name: 'EvidenceSummaryList',\n    components: {\n        EvidenceSummary,\n        EvidenceSummaryForm\n    },\n    emits: [\n        'summaries-added'\n    ],\n    props: {\n        readonly: {\n            type: Boolean,\n            required: false,\n            default: false\n        }\n    },\n    data() {\n        return {\n            newSummaries: [],\n            errors: {},\n            summaries: [],\n            showDeleteConfirm: false,\n            selectedSummary: {gene: {}},\n            loading: false\n        }\n    },\n    computed: {\n        group: {\n            get () {\n                return this.$store.getters['groups/currentItemOrNew'];\n            }, \n            set (value) {\n                this.$store.commit('groups/addItem', value)\n            }\n        },\n        meetsRequirements() {\n            return this.summaries.length > 4;\n        },\n        adding () {\n            return this.newSummaries.length > 0;\n        },\n        canEdit () {\n            return this.hasAnyPermission(['ep-applications-manage', ['application-edit', this.group]])\n                && !this.readonly\n        }\n    },\n    watch: {\n        group: {\n            immediate: true,\n            handler: function () {\n                if (this.group && this.group.id) {\n                    this.getEvidenceSummaries();\n                }\n            }\n        }\n    },\n    methods: {\n        async getEvidenceSummaries () {\n            this.loading = true;\n            try {\n                this.summaries = await this.$store.dispatch('groups/getEvidenceSummaries', this.group)\n            } catch (error) {\n                console.log(error);\n            }\n            this.loading = false;\n            \n        },\n        startNewSummary() {\n            this.newSummaries.push({\n                gene: null,\n                variant: null,\n                summary: null\n            });\n        },\n        clearNewSummaries() {\n            this.newSummaries = [];\n        },\n        handleSavedSummary(newSummary) {\n            // this.mergeSummary(newSummary);\n            this.getEvidenceSummaries();\n            this.clearNewSummaries();\n            this.$emit('summaries-added');\n        },\n        handleDeleted (summary) {\n            const idx = this.summaries.findIndex(s => s.id == summary.id);\n            if (idx > -1) {\n                this.summaries.splice(idx, 1);\n            }\n            this.getEvidenceSummaries();\n        },\n        cancelAdd () {\n            this.clearNewSummaries();\n        },\n        mergeSummary(summary) {\n            const idx = this.summaries.findIndex(s => s.id == summary.id);\n            if (idx > -1) {\n                this.summaries.splice(idx, 1, summary);\n                return;\n            }\n\n            this.summaries.push(summary);\n        }\n    },\n}\n</script>","<template>\n    <div>\n        <transition mode=\"out-in\" name=\"fade\">\n            <div v-if=\"!editing\"\n                class=\"p-2 border rounded\"\n            >\n                <header class=\"flex justify-between\">\n                    <h4>{{summary.gene.gene_symbol}} - {{summary.variant}}</h4>\n                    <dropdown-menu :hide-cheveron=\"true\" class=\"relative\" v-if=\"canEdit\">\n                        <template v-slot:label>\n                            <button class=\"btn btn-xs\">&hellip;</button>\n                        </template>\n                        <dropdown-item @click=\"edit()\">Edit</dropdown-item>\n                        <dropdown-item @click=\"confirmDelete()\">Delete</dropdown-item>\n                    </dropdown-menu>\n                </header>\n                <p>{{summary.summary}}</p>\n                <a class=\"link\" :href=\"summary.vci_url\" v-if=\"summary.vci_url\" target=\"_blank\">\n                    View in the VCI\n                </a>\n            </div>\n            <evidence-summary-form \n                v-else \n                :summary=\"summary\" \n                :group=\"group\"\n                @saved=\"handleSaved\"\n                @canceled=\"cancelEdit\"\n            ></evidence-summary-form>\n        </transition>\n        <teleport to=\"body\">\n            <modal-dialog v-model=\"showDeleteConfirm\" title=\"You are about to delete an example evidence summary.\">\n                You are about to delete an evidence summary for {{summary.gene.gene_symbol}} - {{summary.variant}}.  Are you sure you want to continue?\n                <button-row @submit=\"deleteSummary\" @cancel=\"cancelDelete\" submit-text=\"Delete Summary\"></button-row>\n            </modal-dialog>\n        </teleport>\n    </div>\n</template>\n<script>\nimport api from '@/http/api';\nimport EvidenceSummaryForm from '@/components/expert_panels/EvidenceSummaryForm.vue';\nexport default {\n  components: { EvidenceSummaryForm },\n    name: 'EvidenceSummary',\n    props: {\n        summary: {\n            required: true,\n            type: Object\n        },\n        group: {\n            required: true,\n            type: Object\n        },\n        readonly: {\n            type: Boolean,\n            required: false,\n            default: false\n        }\n    },\n    emits: [\n        'edit',\n        'saved',\n        'deleted',\n    ],\n    data() {\n        return {\n            editing: false,\n            showDeleteConfirm: false\n        }\n    },\n    computed: {\n        canEdit () {\n            return this.hasAnyPermission(['ep-applications-manage', ['application-edit', this.group]]) \n                && !this.readonly\n        }\n    },\n    methods: {\n        handleSaved(newSummary) {\n            this.$emit('saved', newSummary);\n            this.editing = false;\n        },\n        edit () {\n            this.editing = true;\n        },\n        cancelEdit () {\n            this.editing = false;\n        },\n        confirmDelete () {\n            this.showDeleteConfirm = true;\n        },\n        async deleteSummary () {\n            try {\n                await api.delete(`/api/groups/${this.group.uuid}/application/evidence-summaries/${this.summary.id}`);\n                this.$emit('deleted', this.summary)\n            } catch (error) {\n                console.error(error);\n            }\n            this.showDeleteConfirm = false;\n        },\n        cancelDelete() {\n            this.showDeleteConfirm = false;\n        },\n    }\n}\n</script>","<template>\n    <div>\n        <div class=\"flex space-x-2\">\n            <input-row class=\"mt-0 mb-0\" :vertical=\"true\" label=\"Gene\" :errors=\"errors.gene_id\">\n                <select v-model=\"summaryClone.gene_id\">\n                    <option :value=\"null\">Select...</option>\n                    <option v-for=\"gene in groupGenes\" \n                        :value=\"gene.id\"\n                        :key=\"gene.id\"\n                    >{{gene.gene.gene_symbol}}</option>\n                </select>\n            </input-row>\n            <input-row \n                class=\"mt-0 mb-0\" \n                v-model=\"summaryClone.variant\" \n                :vertical=\"true\" \n                label=\"Variant\" \n                :errors=\"errors.variant\"\n            />\n        </div>\n        <input-row class=\"mt-0 mb-0\" label=\"Summary\" :vertical=\"true\" :errors=\"errors.summary\">\n            <textarea rows=\"5\" class=\"w-full\" v-model=\"summaryClone.summary\"></textarea>\n        </input-row>\n        <input-row \n            class=\"mt-0\" \n            v-model=\"summaryClone.vci_url\" \n            label=\"VCI URL\" \n            :vertical=\"true\" \n            input-class=\"w-full\" \n            :errors=\"errors.vci_url\"\n        />\n        <button-row submit-text=\"save\" @submit=\"save\" @cancel=\"cancel\"></button-row>\n    </div>\n</template>\n<script>\nimport api from '@/http/api'\nimport is_validation_error from '@/http/is_validation_error';\n\n\nexport default {\n    name: 'EvidenceSummaryForm',\n    props: {\n        group: {\n            required: true,\n            type: Object,\n        },\n        summary: {\n            required: true,\n            type: Object\n        }\n    },\n    emits: [\n        'saved',\n        'canceled'\n    ],\n    data() {\n        return {\n            groupGenes: [],\n            summaryClone: {gene: {}},\n            errors: {}\n        }\n    },\n    computed: {\n\n    },\n    watch: {\n        group: {\n            immediate: true,\n            handler: function () {\n                if (this.group && this.group.id) {\n                    this.getGroupGenes();\n                }\n            }\n        },\n        summary: {\n            immediate: true,\n            handler: function () {\n                this.summaryClone = {...this.summary}\n            }\n        }\n    },\n    methods: {\n        async save () {\n            try {\n                let url = `/api/groups/${this.group.uuid}/expert-panel/evidence-summaries`;\n                let method = 'post';\n                if (this.summaryClone.id) {\n                    url += `/${this.summaryClone.id}`\n                    method = 'put';\n                }\n                const newSummary = await api({method, url, data: this.summaryClone})\n                                            .then (response => response.data.data);\n\n                this.$emit('saved', newSummary);\n                this.$store.commit('pushSuccess', 'Saved example evidence summary');\n                this.editing = false;\n            } catch (error) {\n                if (is_validation_error(error)) {\n                    this.errors = error.response.data.errors\n                }\n            }\n        },\n        cancel () {\n            this.initSummaryClone();\n            this.$emit('canceled')\n        },\n        edit (summary) {\n            summary.editing = true;\n        },\n        async getGroupGenes () {\n            this.groupGenes = await api.get(`/api/groups/${this.group.uuid}/expert-panel/genes`)\n                                .then(response => response.data);\n        },\n        initSummaryClone () {\n            this.summaryClone = {gene: {}};\n        }\n    },\n}\n</script>","import { render } from \"./EvidenceSummaryForm.vue?vue&type=template&id=89fc7c22\"\nimport script from \"./EvidenceSummaryForm.vue?vue&type=script&lang=js\"\nexport * from \"./EvidenceSummaryForm.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","import { render } from \"./EvidenceSummary.vue?vue&type=template&id=0bb86197\"\nimport script from \"./EvidenceSummary.vue?vue&type=script&lang=js\"\nexport * from \"./EvidenceSummary.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","import { render } from \"./EvidenceSummaryList.vue?vue&type=template&id=e84fb6c4\"\nimport script from \"./EvidenceSummaryList.vue?vue&type=script&lang=js\"\nexport * from \"./EvidenceSummaryList.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","<template>\n    <div v-if=\"hasRequirements\">\n        <popover arrow hover>\n            <template v-slot:content>\n                <div>\n                    <requirements-item  v-for=\"(req, idx) in evaledRequirements\" :key=\"idx\" :requirement=\"req\" />\n                </div>\n            </template>\n            <badge :color=\"badgeColor\" class=\"cursor-pointer\">\n                {{badgeText}}\n            </badge>\n        </popover>\n    </div>\n</template>\n<script>\nimport RequirementsItem from './RequirementsItem'\n\nexport default {\n    name: 'RequirementsBadge',\n    components: {\n        RequirementsItem\n    },\n    props: {\n        section: {\n            type: Object,\n            required: true\n        }\n    },\n    data () {\n        return {\n        }\n    },\n    computed: {\n        group() {\n            return this.$store.getters['groups/currentItemOrNew']\n        },\n        meetsRequirements () {\n            return this.section.meetsRequirements(this.group);\n        },\n        badgeColor () {\n            if (this.meetsRequirements) {\n                return 'green';\n            }\n            return 'yellow'\n        },\n        badgeText () {\n            const metCount = this.section.metRequirements(this.group).length;\n            return `Requirements: ${metCount} / ${this.section.requirements.length}`;\n        },\n        evaledRequirements() {\n            return this.section.evaluateRequirements(this.group);\n        },\n        hasRequirements () {\n            return this.section.hasRequirements;\n        }\n    },\n    methods: {\n\n    }\n}\n</script>","import { render } from \"./RequirementsBadge.vue?vue&type=template&id=271f3c36\"\nimport script from \"./RequirementsBadge.vue?vue&type=script&lang=js\"\nexport * from \"./RequirementsBadge.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./VcepGeneList.vue?vue&type=style&index=0&id=90d6678a&lang=postcss&scope=true\"","import { useRouter, useRoute } from 'vue-router'\nimport {computed} from 'vue'\n\nexport default function (defaultSort = null) {\n    const router = useRouter()\n    const route = useRoute()\n    if (!defaultSort){\n        console.log('Warning: defaultSort is deprecated.  Please provide a sort object: {field: \"fieldname\", desc: boolean}')\n        defaultSort = (defaultSort) ? defaultSort : {field: 'name', desc: false}\n    }\n    \n    const sort = computed({\n        immediate: true,\n        get() {\n            if (Object.keys(route.query).includes('sort-field')) {\n                return {\n                    field: route.query['sort-field'],\n                    desc: Boolean(parseInt(route.query['sort-desc']))\n                }\n            }\n            return defaultSort;\n        },\n        set(sortObj) {\n            const newSortQuery = {'sort-field': sortObj.field, 'sort-desc': sortObj.desc ? 1 : 0}\n    \n            const newQuery = {\n                ...route.query, \n                ...newSortQuery\n            };\n    \n            router.replace({path: route.path, query: newQuery})\n        }\n    });\n    \n    const filter = computed({\n        set(value) {\n            let currentQuery = route.query;\n            let currentPath = route.path;\n    \n            let updatedQuery = {...currentQuery};\n    \n            if (!value) {\n                delete updatedQuery.filter;\n            } else {\n                updatedQuery = {...currentQuery, ...{'filter': value} };\n            }\n    \n            router.replace({path: currentPath, query: updatedQuery})\n        },\n        get() {\n            return route.query.filter\n        },\n        immediate: true\n    });\n\n    return {\n        sort,\n        filter\n    }\n}\n","<template>\n    <div>\n        <header class=\"flex justify-between items-center\">\n            <h4>Gene/Disease List</h4>\n        </header>\n        <div class=\"my-2\">\n            <table class=\"border-none\" v-if=\"genes\">\n                <thead>\n                    <tr>\n                        <th style=\"min-width: 10rem\">HGNC Symbol</th>\n                        <th style=\"min-width: 15rem\">Disease</th>\n                        <th style=\"max-width: 9rem\">Date Approved</th>\n                        <th\n                            v-if=\"canEdit\"\n                            style=\"width: 5rem\"\n                        ></th>\n                    </tr>\n                </thead>\n                <transition-group name=\"fade\" mode=\"out-in\">                \n                    <tbody v-if=\"genes.length == 0\">\n                        <tr>\n                            <td colspan=\"4\">\n                                <div class=\"p-2 text-center font-bold\">\n                                    <span v-if=\"loading\">Loading...</span>\n                                    <div v-else>\n                                        <p>There are no gene/disease pairs in the gene list.</p>\n                                        <button class=\"btn blue btn-sm\" @click=\"addNewGene\" v-if=\"canEdit\">Add a gene/disease pair</button>\n                                    </div>\n                                </div>\n                            </td>\n                        </tr>\n                    </tbody>\n                    <tbody v-else>\n                        <transition-group name=\"slide-fade-down\">\n                            <tr v-for=\"gene in orderedGenes\" :key=\"gene.id\">                            \n                                <template v-if=\"!gene.edit\">\n                                    <td>{{gene.gene_symbol}}</td>\n                                    <td>{{gene.disease_name}}</td>\n                                    <td>{{formatDate(gene.date_approved)}}</td>\n                                    <td\n                                        v-if=\"canEdit\"\n                                    >\n                                        <div v-if=\"!gene.edit\">\n                                            <dropdown-menu \n                                                :hide-cheveron=\"true\" \n                                                class=\"relative\"\n                                                v-if=\"!gene.toDelete\"\n                                            >\n                                                <template v-slot:label>\n                                                    <button class=\"btn btn-xs\">&hellip;</button>\n                                                </template>\n                                                <dropdown-item @click=\"edit(gene)\">Edit</dropdown-item>\n                                                <dropdown-item @click=\"remove(gene)\">Remove</dropdown-item>\n                                            </dropdown-menu>\n\n                                            <div v-if=\"gene.toDelete\">\n                                                <note>set for deletion in {{gene.removeCountdown}} seconds.</note>\n                                                <button @click=\"cancelPendingRemove(gene)\" class=\"btn btn-xs\">Cancel</button>\n                                            </div>\n                                        </div>\n                                    </td>\n                                </template>\n                                <template v-else>\n                                    <td>\n                                        <input-row label=\"\" :errors=\"errors.hgnc_id\" :vertical=\"true\">\n                                            <gene-search-select v-model=\"gene.gene\"></gene-search-select>\n                                        </input-row>\n                                    </td>\n                                    <td colspan=\"2\">\n                                        <input-row label=\"\" :errors=\"errors.mondo_id\" :vertical=\"true\">\n                                            <disease-search-select v-model=\"gene.disease\"></disease-search-select>\n                                        </input-row>\n                                    </td>\n                                    <td>\n                                        <button class=\"btn btn-xs\" @click=\"updateCancel(gene)\">Cancel</button>\n                                        <button class=\"btn blue btn-xs\" @click=\"updateGene(gene)\">Save</button>\n                                    </td>\n                                </template>\n                            </tr>\n                        </transition-group>\n                    </tbody>\n                </transition-group>\n                <transition name=\"slide-fade-down\">\n                    <thead v-if=\"newGenes.length > 0\">\n                        <tr>\n                            <td colspan=\"5\" class=\"bg-white border-white h-4\"></td>\n                        </tr>\n                        <tr>\n                            <td>HGNC Symbol</td>\n                            <td colspan=\"4\">Disesase</td>\n                        </tr>\n                    </thead>\n                </transition>\n\n                <tbody>\n                    <transition-group name=\"slide-fade-down\">                \n                        <tr v-for=\"(newGene, idx) in newGenes\" :key=\"idx\">\n                            <td>\n                                <input-row label=\"\" :errors=\"errors[`genes.${idx}.hgnc_id`]\" :vertical=\"true\">\n                                    <gene-search-select v-model=\"newGene.gene\"></gene-search-select>\n                                </input-row>\n                            </td>\n                            <td colspan=\"4\">\n                                <input-row label=\"\" :errors=\"errors[`diseases.${idx}.hgnc_id`]\" :vertical=\"true\">\n                                    <disease-search-select v-model=\"newGene.disease\"></disease-search-select>\n                                </input-row>\n                            </td>\n                        </tr>\n                    </transition-group>\n                </tbody>\n                <tr v-if=\"canEdit\">\n                    <td colspan=\"5\" class=\"border-white\">\n                        <div class=\"-mx-2 my-2 flex space-x-2\">\n                            <button @click=\"addNewGene\" class=\"btn btn-xs\">Add Gene/Disease Pair</button>\n                            <transition name=\"fade\">\n                                <div class=\"flex space-x-2\">\n                                    <button class=\"btn btn-xs\" @click=\"cancel\"  v-if=\"newGenes.length > 0\">Cancel</button>\n                                    <button class=\"btn btn-xs blue\" @click=\"save\"  v-if=\"newGenes.length > 0\">Save</button>\n                                </div>\n                            </transition>\n                        </div>\n                    </td>\n                </tr>\n            </table>\n        </div>\n    </div>\n</template>\n<script>\nimport api from '@/http/api'\nimport {ref, computed, onMounted} from 'vue';\nimport {useStore} from 'vuex';\nimport GeneSearchSelect from '@/components/forms/GeneSearchSelect'\nimport DiseaseSearchSelect from '@/components/forms/DiseaseSearchSelect'\nimport is_validation_error from '@/http/is_validation_error'\nimport {isEqual} from 'lodash'\nimport {hasAnyPermission} from '@/auth_utils'\n\n\nexport default {\n    name: 'VcepGeneList',\n    components: {\n        GeneSearchSelect,\n        DiseaseSearchSelect,\n    },\n    props: {\n        readonly: {\n            type: Boolean,\n            required: false,\n            default: false\n        }\n    },\n    emits: [\n        'saved',\n        'canceled',\n        'editing'\n    ],\n    setup(props, context) {\n        const store = useStore();\n\n        const group = computed(() => {\n            return store.getters['groups/currentItemOrNew'];\n        });\n\n\n        const newGenes = ref([]);\n        const addNewGene = () => {\n            newGenes.value.push({gene: null, disease: null});\n        }\n\n        const loading = ref(false);\n        const errors = ref({});\n        const genes = ref([]);\n        const orderedGenes = computed(() => {\n            const sortedGenes = [...genes.value];\n            sortedGenes.sort((a,b) => {\n                if (a.gene_symbol == b.gene_symbol) {\n                    return 0;\n                }\n                return (a.gene_symbol > b.gene_symbol) ? 1 : -1;\n            });\n            return sortedGenes;\n        })\n\n        const clearNewGenes = () => {\n            newGenes.value = [];\n            errors.value = {};\n        }\n\n        const edit = (gene) => {\n            gene.edit = true;\n        }\n\n        const clearRemoveCountdown = (gene) => {\n            if (gene.removeTimeout) {\n                clearTimeout(gene.removeTimeout);\n                clearInterval(gene.removeInterval);\n                gene.removeCountdown = 10;\n            }\n        }\n\n        const clearRemovalFlags = (gene) => {\n            delete(gene.toDelete);\n            delete(gene.removeInterval);\n            delete(gene.removeTimeout);\n        }\n\n        const cancelPendingRemove = (gene) => {\n            clearRemoveCountdown(gene);\n            clearRemovalFlags(gene);\n        }\n\n        const remove = (gene) => {\n            clearRemoveCountdown(gene);\n            gene.toDelete = true;\n            gene.removeTimeout = setTimeout(async () => {\n                for (let idx = 0; idx < genes.value.length; idx++) {\n                    if (genes.value[idx].toDelete) {\n                        try {\n                            await api.delete(`/api/groups/${group.value.uuid}/expert-panel/genes/${gene.id}`)\n                            await getGenes();\n                        } catch (error) {\n                            store.commit('pushError', error.response.data);\n                        }\n                    }\n                }\n                clearRemoveCountdown(gene)\n            }, 10000);\n\n            gene.removeCountdown = 10;\n            gene.removeInterval = setInterval(() => {\n                gene.removeCountdown -= 1;\n            }, 1000);\n            \n        }\n        \n        const getGenes = async () => {\n            if (!group.value.uuid)  {\n                return;\n            }\n            loading.value = true;\n            try {\n                genes.value = await store.dispatch('groups/getGenes', group.value);\n            } catch (error) {\n                console.log(error);\n                store.commit('pushError', error.response.data);\n            }\n            loading.value = false;\n        }\n\n        const save = async () => {\n            try {\n                if (newGenes.value.length > 0) {\n                    const filteredGenes = newGenes.value\n                                            .filter(ng => !isEqual(ng, {gene: null, disease: null}))\n                                            .map(scope => ({ hgnc_id: scope.gene.hgnc_id, mondo_id: scope.disease.mondo_id}));\n\n                await api.post(`/api/groups/${group.value.uuid}/expert-panel/genes`, {genes: filteredGenes});\n                    await getGenes();\n                }\n                clearNewGenes();\n                errors.value = {};\n                context.emit('saved')\n            } catch (error) {\n                if (is_validation_error(error)) {\n                    errors.value = error.response.data.errors\n                }\n            }\n        };\n\n        const updateGene = async (gene) => {\n            try {\n                gene.hgnc_id = gene.gene.hgnc_id;\n                gene.mondo_id = gene.disease.mondo_id;\n                await api.put(`/api/groups/${group.value.uuid}/expert-panel/genes/${gene.id}`, gene);\n                await getGenes();\n                delete(gene.edit);\n            } catch (error) {\n                if (is_validation_error(error)) {\n                    errors.value = error.response.data.errors\n                }\n            }\n        }\n        const updateCancel = gene => {\n            delete(gene.edit);\n        }\n\n        const cancel = () => {\n            clearNewGenes();\n        }\n\n        const canEdit = computed(() => {\n            return hasAnyPermission(['ep-applications-manage', ['application-edit', group]])\n                && !props.readonly\n        })\n\n        onMounted(() => {\n            getGenes();\n        });\n\n        return {\n            group,\n            genes,\n            newGenes,\n            orderedGenes,\n            errors,\n            loading,\n            addNewGene,\n            updateGene,\n            updateCancel,\n            save,\n            cancel,\n            edit, \n            remove,\n            cancelPendingRemove,\n            canEdit\n        }        \n    }\n}\n</script>\n<style lang=\"postcss\" scope>\n    table {\n        @apply w-full;\n    }\n    thead > tr {\n         @apply bg-gray-200;\n    }\n    tbody > tr {\n        @apply bg-white odd:bg-gray-100 border-0 hover:border-blue-300 hover:bg-blue-100\n    }\n    tr > th {\n        @apply text-left border border-gray-300 px-3\n    }\n    tr > td {\n        @apply text-left p-1 px-3 border align-top;\n    }\n    th.sorted, td.sorted  {\n        @apply bg-blue-100 hover:bg-blue-100\n    }\n</style>\n","import { render } from \"./VcepGeneList.vue?vue&type=template&id=90d6678a\"\nimport script from \"./VcepGeneList.vue?vue&type=script&lang=js\"\nexport * from \"./VcepGeneList.vue?vue&type=script&lang=js\"\n\nimport \"./VcepGeneList.vue?vue&type=style&index=0&id=90d6678a&lang=postcss&scope=true\"\nscript.render = render\n\nexport default script","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./MemberList.vue?vue&type=style&index=0&id=080f00eb&lang=css\"","<template>\n    <div>\n        <p>Three examples of ClinGen-approved curation and review protocols are below (additional details may be requested from the CDWG Oversight Committee).  Check or describe the curation and review protocol that this Expert Panel will use.</p>\n        <div class=\"mb-4\">\n            <input-row label=\"\" :errors=\"errors.curation_review_protocol_id\" vertical>\n                <div>\n                    <label class=\"mt-2\">\n                        <input type=\"radio\" \n                            v-model=\"group.expert_panel.curation_review_protocol_id\" \n                            value=\"1\" \n                            :disabled=\"!canEdit\"\n                        >\n                        <div>Single biocurator curation with comprehensive GCEP review (presentation of all data on calls with GCEP votes). Note: definitive genes may be expedited with brief summaries.</div>\n                    </label>\n                    <label class=\"mt-2 items-top\">\n                        <input type=\"radio\" \n                            v-model=\"group.expert_panel.curation_review_protocol_id\" \n                            value=\"2\" \n                            :disabled=\"!canEdit\"\n                        >\n                        <p>Paired review (biocurator &amp; domain expert) with expedited GCEP review. Expert works closely with a curator on the initial summation of the information for expedited GCEP review (brief summary on a call with GCEP voting and/or electronic voting by GCEP). Definitive genes can move directly from biocurator to expedited GCEP review.</p>\n                    </label>\n                    <label class=\"mt-2\">\n                        <input type=\"radio\" \n                            v-model=\"group.expert_panel.curation_review_protocol_id\" \n                            value=\"3\" \n                            :disabled=\"!canEdit\"\n                        >\n                        <p>Dual biocurator review with expedited GCEP review for concordant genes and full review for discordant genes.</p>\n                    </label>\n                    <div class=\"flex space-x-2 items-start mt-3\">\n                        <label>\n                            <input type=\"radio\" \n                                v-model=\"group.expert_panel.curation_review_protocol_id\" \n                                value=\"100\" \n                                    :disabled=\"!canEdit\"\n                            >\n                            <p>Other</p>\n                        </label>\n                        <transition name=\"slide-fade-down\">\n                            <input-row \n                                class=\"flex-1 mt-0\"\n                                v-if=\"group.expert_panel.curation_review_protocol_id == 100\"\n                                label-width-class=\"w-0\"\n                                v-model=\"group.expert_panel.curation_review_protocol_other\"\n                                :errors=\"errors.curation_review_protocol_other\"\n                            >\n                                <textarea \n                                    rows=\"2\" \n                                    v-model=\"group.expert_panel.curation_review_protocol_other\" \n                                    class=\"w-full\"\n                                />\n                            </input-row>\n                        </transition>\n                    </div>\n                </div>\n            </input-row>\n        </div>\n    </div>\n</template>\n<script>\nexport default {\n    name: 'GcepOngoingPlansForm',\n    props: {\n        errors: {\n            type: Object,\n            required: false,\n            default: () => ({})\n        },\n        readonly: {\n            type: Boolean,\n            required: false,\n            default: false\n        }\n    },\n    computed: {\n        group: {\n            get () {\n                return this.$store.getters['groups/currentItemOrNew'];\n            },\n            set (value) {\n                this.$store.commit('groups/addItem', value);\n            }\n        },\n        canEdit () {\n            return this.hasAnyPermission([\n                        'ep-applications-manage',\n                        ['application-edit', this.group]\n                    ]) \n                    && !this.readonly;\n        }\n    }\n    \n}\n</script> ","import { render } from \"./GcepOngoingPlansForm.vue?vue&type=template&id=c405c6f2\"\nimport script from \"./GcepOngoingPlansForm.vue?vue&type=script&lang=js\"\nexport * from \"./GcepOngoingPlansForm.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","import {ref} from 'vue'\nimport is_validation_error from '@/http/is_validation_error'\nimport api from '@/http/api'\n\nexport const errors = ref({});\nconst editing = ref(false);\nconst hideForm = () => {\n    editing.value = false;\n    errors.value = {};\n}\nexport const submitFormData = async ({method, url, data}) => {\n    try {\n        // return await api.put(\n        return await api({\n            method,\n            url, \n            data\n        }).then(response => response.data.data)\n    } catch (error) {\n        if (is_validation_error(error)) {\n            errors.value = {...errors, ...error.response.data.errors}\n        }\n    }\n}\n\nexport const resetErrors = () => {\n    errors.value = {};\n}\n\nexport default () => {\n    return {\n        errors,\n        editing,\n        hideForm,\n        submitFormData,\n        resetErrors,\n    }\n}","<template>\n    <div>\n        <!-- <pre>{{ {specifications: group.expert_panel.specifications} }}</pre> -->\n        <div class=\"well\" v-if=\"!hasSpecifications\">\n            No specifications on record.\n        </div>\n        <div v-else>\n            <data-table \n                :fields=\"specFields\" \n                :data=\"group.expert_panel.specifications\" \n                v-model:sort=\"sort\"\n                class=\"mb-6\"\n            >\n                <template v-slot:cell-id=\"{item}\">\n                    <a :href=\"`https://cspec.genome.network/cspec/ui/svi/ruleset/${item.id}`\" class=\"btn btn-xs\">\n                        Go to rules\n                    </a>\n                </template>\n                <template v-slot:cell-status_name=\"{item}\">\n                    <badge :color=\"item.status.color\">{{item.status.name}}</badge>\n                </template>\n            </data-table>\n            <a \n                href=\"https://cspec.genome.network/\"\n                class=\"btn btn-xl blue\"\n                target=\"cspec\"\n            >\n                Go to the CSpec Registry\n                <icon-external-link class=\"inline\"></icon-external-link>\n            </a>\n        </div>\n    </div>\n</template>\n<script>\nexport default {\n    name: 'Cspec Summary',\n    data() {\n        return {\n            sort: {\n                field: 'id',\n                desc: false,\n            },\n            specFields: [\n                {\n                    name: 'gene_symbol',\n                    type: String,\n                    sortable: true,\n                },\n                {\n                    name: 'disease_name',\n                    type: String,\n                    sortable: true,\n                },\n                {\n                    name: 'status.name',\n                    label: 'Status',\n                    type: String,\n                    sortable: true,\n                },\n                {\n                    name: 'updated_at',\n                    label: 'Last Updated',\n                    type: Date,\n                    sortable: true,\n                },\n                {\n                    name: 'id',\n                    label: '',\n                    type: Number,\n                    sortable: false,\n                }\n            ]\n        }\n    },\n    computed: {\n        group () {\n            return this.$store.getters['groups/currentItemOrNew'];\n        },\n        hasSpecifications () {\n            return true;\n        },\n        specifications () {\n            return this.group.expert_panel.specifications;\n        }\n    },\n    watch: {\n        group (to, from) {\n            // if (!from || to.id != from.id) {\n                this.$store.dispatch('groups/getSpecifications', to)\n            // }\n        }\n    },\n    mounted() {\n        this.$store.dispatch('groups/getSpecifications', this.group)\n    }\n}\n</script>","import { render } from \"./CspecSummary.vue?vue&type=template&id=571cbf9f\"\nimport script from \"./CspecSummary.vue?vue&type=script&lang=js\"\nexport * from \"./CspecSummary.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script"],"sourceRoot":""}