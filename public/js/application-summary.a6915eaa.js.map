{"version":3,"file":"js/application-summary.a6915eaa.js","mappings":"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","sources":["webpack://epam/./src/composables/router_aware_sort_and_filter.js","webpack://epam/./src/components/applications/ApplicationsSummaryTable.vue","webpack://epam/./src/components/applications/ApplicationsSummaryTable.vue?8d7d","webpack://epam/./src/views/SummaryGcep.vue","webpack://epam/./src/views/SummaryGcep.vue?5143","webpack://epam/./src/views/SummaryVcep.vue","webpack://epam/./src/views/SummaryVcep.vue?ca56"],"sourcesContent":["import { useRouter, useRoute } from 'vue-router'\nimport {computed} from 'vue'\n\nexport default function (defaultSort = null) {\n    const router = useRouter()\n    const route = useRoute()\n    if (!defaultSort){\n        console.log('Warning: defaultSort is deprecated.  Please provide a sort object: {field: \"fieldname\", desc: boolean}')\n        defaultSort = (defaultSort) ? defaultSort : {field: 'name', desc: false}\n    }\n    \n    const sort = computed({\n        immediate: true,\n        get() {\n            if (Object.keys(route.query).includes('sort-field')) {\n                return {\n                    field: route.query['sort-field'],\n                    desc: Boolean(parseInt(route.query['sort-desc']))\n                }\n            }\n            return defaultSort;\n        },\n        set(sortObj) {\n            const newSortQuery = {'sort-field': sortObj.field, 'sort-desc': sortObj.desc ? 1 : 0}\n    \n            const newQuery = {\n                ...route.query, \n                ...newSortQuery\n            };\n    \n            router.replace({path: route.path, query: newQuery})\n        }\n    });\n    \n    const filter = computed({\n        set(value) {\n            let currentQuery = route.query;\n            let currentPath = route.path;\n    \n            let updatedQuery = {...currentQuery};\n    \n            if (!value) {\n                delete updatedQuery.filter;\n            } else {\n                updatedQuery = {...currentQuery, ...{'filter': value} };\n            }\n    \n            router.replace({path: currentPath, query: updatedQuery})\n        },\n        get() {\n            return route.query.filter\n        },\n        immediate: true\n    });\n\n    return {\n        sort,\n        filter\n    }\n}\n","<template>\n    <div>\n        <div class=\"flex justify-between\">\n            <div class=\"mb-1 flex space-x-2\">\n                <label>Filter: <input type=\"text\" class=\"sm\" v-model=\"filter\" placeholder=\"filter\"></label>\n                <checkbox \n                    v-model=\"showCompleted\"\n                    label=\"Show completed\"\n                />\n            </div>\n        </div>\n        <data-table \n            :data=\"filteredData\" \n            :fields=\"selectedFields\" \n            :filter-term=\"filter\" \n            :row-click-handler=\"goToApplication\"\n            row-class=\"cursor-pointer\"\n            v-model:sort=\"sort\"\n            :style=\"remainingHeight\"\n            class=\"overflow-auto text-xs\"\n            ref=\"table\"\n        >\n            <template v-slot:cell-contacts=\"{item}\">\n                <ul>\n                    <li v-for=\"member in item.group.contacts\" :key=\"member.id\">\n                        <small><a :href=\"`mailto:${member.person.email}`\" class=\"text-blue-500\">{{member.person.name}}</a></small>\n                    </li>\n                </ul>\n            </template>\n            <template v-slot:cell-latest_log_entry_description=\"{value}\">\n                <div v-html=\"value\"></div>\n            </template>\n            <template v-slot:cell-latest_pending_next_action_entry=\"{value}\">\n                <div v-html=\"value\"></div>\n            </template>\n        </data-table>\n    </div>\n</template>\n<script>\nimport { mapGetters } from 'vuex'\nimport sortAndFilter from '@/composables/router_aware_sort_and_filter'\n\nexport default {\n    name: 'SummaryVceps',\n    components: {\n    },\n    props: {\n        expert_panel_type_id: {\n            type: Number,\n            default: null\n        }\n    },\n    data() {\n        return {\n            fields: [\n                {\n                    name: 'name',\n                    label: 'Name',\n                    type: String,\n                    sortable: true\n                },\n                {\n                    name: 'group.parent.name',\n                    label: 'CDWG',\n                    type: String,\n                    sortable: true,\n                    resolveValue (item) {\n                        if (item.group && item.group.parent) {\n                            return item.group.parent.name\n                        }\n                        return '';\n                    }\n                },\n                {\n                    name: 'current_step',\n                    label: 'Step',\n                    type: Number,\n                    sortable: true,\n                    resolveValue (item) {\n                        return item.isCompleted ? 'Completed' : item.current_step\n                    },\n                    resolveSort (item) {\n                        return item.isCompleted ? 5 : item.current_step\n                    }\n                },\n                {\n                    name: 'contacts',\n                    label: 'Contacts',\n                    type: Array,\n                    sortable: false,\n                    class: ['min-w-40'],\n                    step: 1\n                },\n                {\n                    name: 'step_1_received_date',\n                    label: this.expert_panel_type_id == 2 ? 'Step 1 Received' : 'Application Received',\n                    type: Date,\n                    sortable: true,\n                    class: ['min-w-28'],\n                    step: 1\n\n                },\n                {\n                    name: 'step_1_approval_date',\n                    label: this.expert_panel_type_id == 2 ? 'Step 1 Approved' : 'Application Approved',\n                    type: Date,\n                    sortable: true,\n                    class: ['min-w-28'],\n                    step: 1\n                },\n                {\n                    name: 'step_2_approval_date',\n                    label: 'Step 2 Approved',\n                    type: Date,\n                    sortable: true,\n                    class: ['min-w-28'],\n                    step: 2\n                },\n                {\n                    name: 'step_3_approval_date',\n                    label: 'Step 3 Approved',\n                    type: Date,\n                    sortable: true,\n                    class: ['min-w-28'],\n                    step: 3\n                },\n                {\n                    name: 'step_4_received_date',\n                    label: 'Step 4 Received',\n                    type: Date,\n                    sortable: true,\n                    class: ['min-w-28'],\n                    step: 4\n                },\n                {\n                    name: 'step_4_approval_date',\n                    label: 'Step 4 Approved',\n                    type: Date,\n                    sortable: true,\n                    class: ['min-w-28'],\n                    step: 4\n                }\n            ]\n        }\n    },\n    computed: {\n        ...mapGetters({\n            applications: 'applications/all'\n        }),\n        filteredData() {\n            return this.applications\n                .filter(item => !this.expert_panel_type_id || item.expert_panel_type_id == this.expert_panel_type_id)\n                .filter(item => {\n                    if (!this.showCompleted) {\n                        return item.date_completed == null;\n                    }\n                    return true;\n                })\n        },\n        showCompleted: {\n            set(value) {\n                let currentQuery = this.$route.query;\n                let currentPath = this.$route.path;\n                \n                let updatedQuery = {...currentQuery};\n\n                if (!value) {\n                    delete updatedQuery['show-completed'];\n                } else {\n                    updatedQuery = {...currentQuery, ...{'show-completed': 1} };\n                }\n\n                this.$router.replace({path: currentPath, query: updatedQuery})\n            },\n            get() {\n                return Boolean(parseInt(this.$route.query['show-completed']))\n            },\n            immediate: true\n        },\n        selectedFields() {\n            const stepsToShow = this.expert_panel_type_id == 2 ? [1,2,3,4] : [1]\n            return this.fields.filter(field => !field.step || stepsToShow.includes(field.step))\n        },\n        showAllInfo: {\n            immediate: true,\n                get() {\n                    if (Object.keys(this.$route.query).includes('showAllInfo')) {\n                        return this.$route.query.showAllInfo\n                    }\n                    return 0\n                },\n                set(newValue) {\n                    const newQuery = {...this.$route.query};\n                    newQuery.showAllInfo = newValue\n\n                    this.$router.replace({path: this.$route.path, query: newQuery})\n                }            \n        },\n        remainingHeight () {\n            return {height: 'calc(100vh - 220px)'}\n        }\n    },\n    methods: {\n\n        getApplications () {\n            const params = {\n                with: [\n                    'group',\n                    'group.parent',\n                    'group.latestLogEntry',\n                    'latestPendingNextAction',\n                    'type',\n                    'group.contacts',\n                    'group.contacts.person',\n                ],\n            }\n\n            const where = {};\n\n            if (Object.keys(where).length > 0) {\n                params.where = where;\n            }\n\n            this.$store.dispatch('applications/getApplications', params);\n        },\n        goToApplication (item) {\n            this.$router.push({name: 'ApplicationDetail', params: {uuid: item.uuid}})\n        },\n    },\n    mounted () {\n        this.getApplications()\n    },\n    setup() {\n        const {sort, filter} = sortAndFilter();\n        // const showAllInfo = computedQueryParam('showAllInfo');\n\n        return {\n            sort,\n            filter,\n            // showAllInfo\n        }\n    }\n}\n</script>","import { render } from \"./ApplicationsSummaryTable.vue?vue&type=template&id=53f89991\"\nimport script from \"./ApplicationsSummaryTable.vue?vue&type=script&lang=js\"\nexport * from \"./ApplicationsSummaryTable.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/home/bpow/src/clingen/gpm/resources/app/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\n    <div>\n        <applications-summary-table :ep-type-id=\"1\"></applications-summary-table>\n    </div>\n</template>\n<script>\nimport ApplicationsSummaryTable from '@/components/applications/ApplicationsSummaryTable.vue'\n\nexport default {\n    name: 'GcepsSummary',\n    components: {\n        ApplicationsSummaryTable\n    },\n}\n</script>","import { render } from \"./SummaryGcep.vue?vue&type=template&id=e3b0923a\"\nimport script from \"./SummaryGcep.vue?vue&type=script&lang=js\"\nexport * from \"./SummaryGcep.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/home/bpow/src/clingen/gpm/resources/app/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\n    <div>\n        <applications-summary-table :ep-type-id=\"2\"></applications-summary-table>\n    </div>\n</template>\n<script>\nimport ApplicationsSummaryTable from '@/components/applications/ApplicationsSummaryTable.vue'\n\nexport default {\n    name: 'GcepsSummary',\n    components: {\n        ApplicationsSummaryTable\n    },\n}\n</script>","import { render } from \"./SummaryVcep.vue?vue&type=template&id=1b459891\"\nimport script from \"./SummaryVcep.vue?vue&type=script&lang=js\"\nexport * from \"./SummaryVcep.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/home/bpow/src/clingen/gpm/resources/app/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["defaultSort","router","useRouter","route","useRoute","console","log","field","desc","sort","computed","immediate","get","Object","keys","query","includes","Boolean","parseInt","set","sortObj","newSortQuery","newQuery","replace","path","filter","value","currentQuery","currentPath","updatedQuery","class","_createElementBlock","_createElementVNode","type","$setup","$event","placeholder","_createVNode","_component_checkbox","$options","label","_component_data_table","data","fields","style","ref","_withCtx","item","_Fragment","_renderList","group","contacts","member","key","id","href","person","email","name","_hoisted_4","innerHTML","_hoisted_5","_hoisted_6","components","props","expert_panel_type_id","Number","default","String","sortable","resolveValue","parent","isCompleted","current_step","resolveSort","Array","step","this","Date","mapGetters","applications","filteredData","showCompleted","date_completed","$route","$router","selectedFields","stepsToShow","showAllInfo","newValue","remainingHeight","height","methods","getApplications","params","with","where","length","$store","dispatch","goToApplication","push","uuid","mounted","setup","sortAndFilter","__exports__","render","_component_applications_summary_table","ApplicationsSummaryTable"],"sourceRoot":""}