{"version":3,"file":"js/886.8ae1a7d5.js","mappings":"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","sources":["webpack://epam/./src/views/OnboardingWizard.vue","webpack://epam/./src/components/onboarding/OnboardingSteps.vue","webpack://epam/./src/components/onboarding/OnboardingSteps.vue?c2d2","webpack://epam/./src/components/onboarding/InviteRedemptionForm.vue","webpack://epam/./src/domain/onboarding_service.js","webpack://epam/./src/components/onboarding/InviteRedemptionForm.vue?2e64","webpack://epam/./src/components/onboarding/AccountCreationForm.vue","webpack://epam/./src/components/onboarding/AccountCreationForm.vue?2be0","webpack://epam/./src/views/OnboardingWizard.vue?7af2"],"sourcesContent":["<template>\n    <div>\n        <div class=\"flex justify-center\">\n            <div class=\"onboarding-container\" :style=\"`width: ${currentStepWidth}`\">\n                <keep-alive>\n                    <transition :name=\"animationDirection\" mode=\"out-in\">\n                        <component\n                            :is=\"currentStepComponent\"\n                            v-bind:invite=\"invite\"\n                            v-bind:person=\"invite.person\"\n                            v-bind:code=\"invite.coi_code\"\n                            ref=\"stepForm\"\n                            @codeverified=\"handleCodeVerified\"\n                            @ok=\"goForward\"\n                            @saved=\"goForward\"\n                            @back=\"goBack\"\n                        ></component>\n                    </transition>\n                </keep-alive>\n            </div>\n            <p>\n                <router-link class=\"block link pt-2\" :to=\"{name: 'login'}\" v-if=\"!this.$store.getters.isAuthed\">&lt; Log In</router-link>\n            </p>\n        </div>\n    </div>\n</template>\n<script>\nimport OnboardingSteps from '@/components/onboarding/OnboardingSteps.vue'\nimport InviteRedemptionForm from '@/components/onboarding/InviteRedemptionForm.vue'\nimport AccountCreationForm from '@/components/onboarding/AccountCreationForm.vue'\nimport Person from '@/domain/person'\n\nconst stepComponents = [\n    InviteRedemptionForm,\n    OnboardingSteps,\n    AccountCreationForm,\n];\n\nconst stepWidths = [\n    '20rem',\n    '20rem',\n    '20rem',\n    '40rem',\n    '40rem'\n];\n\nexport default {\n    name: 'OverviewWizard',\n    components: {\n        InviteRedemptionForm,\n        OnboardingSteps,\n        AccountCreationForm,\n    },\n    props: {\n        code: {\n            required: false,\n        }\n    },\n    data() {\n        return {\n            animationDirection: 'forward',\n            currentStepIdx: 0,\n            invite: {\n                person: new Person({})\n            },\n        }\n    },\n    computed: {\n        currentStepComponent () {\n            return stepComponents[this.currentStepIdx]\n        },\n        currentStepWidth () {\n            return stepWidths[this.currentStepIdx]\n        },\n        canContinue () {\n            return !this.$store.getters.isAuthed\n                || (\n                    this.$store.getters.isAuthed &&\n                    !this.$store.getters.currentUser.person.timezone\n                );\n        }\n\n    },\n    watch: {\n        code: {\n            immediate: true,\n            handler: function (to) {\n                this.invite.code = to\n            }\n        },\n    },\n    methods: {\n        handleCodeVerified (invite) {\n            this.invite = invite;\n            this.goForward();\n        },\n        goBack () {\n            this.animationDirection = 'fade';\n            if (this.currentStepIdx == 0) {\n                return;\n            }\n            this.currentStepIdx -= 1;\n        },\n        goForward() {\n            this.animationDirection = 'fade';\n            if (this.currentStepIdx == stepComponents.length-1) {\n                this.$router.push({name: 'Dashboard'})\n                return;\n            }\n            this.currentStepIdx += 1;\n        },\n        selectStep() {\n            if (!this.invite.id) {\n                this.currentStepIdx = 0;\n                if (this.$route.query.code) {\n                    this.invite.code = this.$route.query.code;\n                }\n                return;\n            }\n            if (this.invite.id) {\n                if (this.$store.state.user.id) {\n                    this.currentStepIndex = 3\n                    return\n                }\n            }\n        }\n    }\n}\n</script>\n<style scoped>\n    .onboarding-container {\n        @apply shadow-lg border px-4 py-8 mx-auto mt-12 border-gray-300;\n        transition: all .3s;\n        overflow: hidden;\n    }\n    .dev-nav-button {\n        @apply mt-12 p-2 bg-pink-100 mb-8 border border-pink-300;\n    }\n    .forwards-enter-active,\n    .forwards-leave-active,\n    .backwards-enter-active,\n    .backwards-leave-active {\n        transition: all 0.3s ease-out;\n    }\n\n    .forwards-enter-from{\n        transform: translateX(20rem);\n        /* opacity: 0; */\n    }\n    .forwards-leave-to\n    {\n        transform: translateX(-20rem);\n        /* opacity: 0; */\n    }\n\n    .backwards-enter-from {\n        transform: translateX(-40rem)\n        /* opacity: 0; */\n    }\n    .backwards-leave-to {\n        transform: translateX(40rem)\n        /* opacity: 0; */\n    }\n</style>\n","<template>\n  <div>\n    <p class=\"text-lg text-center font-bold\">\n        Hi {{invite.first_name}}.\n        <br>\n        You've been invited to join ClinGen\n        <span v-if=\"invite.inviter\">\n            as part of the {{ invite.inviter.name }}\n            {{ invite.inviter.type.name.toUpperCase() }}.\n        </span\n        ><span v-else>.</span>\n    </p>\n\n    <p>There are just a few steps to get you set up:</p>\n    <ol class=\"list-decimal pl-8\">\n      <li>Create an account.</li>\n      <li>Fill out your profile.</li>\n      <li>Share some demographic information.</li>\n      <li v-if=\"invite.inviter\">Complete a Conflict of Interest Survey.</li>\n    </ol>\n    <p>\n      <button class=\"btn btn-lg blue w-full mt-4\" @click=\"$emit('ok')\">\n        Get Started\n      </button>\n    </p>\n  </div>\n</template>\n<script>\nexport default {\n  name: \"OnboardingSteps\",\n  props: {\n      invite: {\n          type: Object,\n          required: true\n      }\n  },\n  emits: ['ok'],\n  data() {\n    return {};\n  },\n  computed: {},\n  methods: {},\n};\n</script>\n","import { render } from \"./OnboardingSteps.vue?vue&type=template&id=2b6324b2\"\nimport script from \"./OnboardingSteps.vue?vue&type=script&lang=js\"\nexport * from \"./OnboardingSteps.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/Users/bpow/src/clingen/gpm/resources/app/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\n    <div class=\"w-64 mx-auto\">\n        <label for=\"invite-code-input\" class=\"text-lg block\">\n            Enter your registration code:\n        </label>\n        <input type=\"text\"\n            id=\"invite-code-input\"\n            v-model=\"inviteCode\" \n            placeholder=\"XXXXXXXXXX\" \n            class=\"w-full\"\n        >\n        <input-errors :errors=\"errors\"></input-errors>\n        <button \n            class=\"btn blue btn-lg block mt-2 w-full\" \n            @click=\"checkInvite\"\n        >\n            Submit\n        </button>\n    </div>\n</template>\n<script>\nimport { ref, toRefs, watch } from 'vue'\nimport {fetchInvite} from '@/domain/onboarding_service'\nimport InputErrors from '@/components/forms/InputErrors.vue'\nimport isValidationError from '@/http/is_validation_error'\n\nexport default {\n    name: 'InviteRedemptionCode',\n    components: {\n        InputErrors\n    },\n    props: {\n        code: {\n            required: false\n        },\n        invite: {\n            type: Object,\n            required: false,\n            default: () => ({})\n        }\n    },\n    data() {\n        return {\n\n        }\n    },\n    setup(props, context) {\n\n        const {invite} = toRefs(props);\n        let inviteCode = ref(null);\n        let errors = ref([]);\n\n        const syncCode = () => {\n            inviteCode.value = props.invite.code\n        }\n\n        watch(invite, () => {\n            syncCode()\n        }, {\n            deep: true\n        })\n\n        watch(inviteCode, () => {\n            errors.value = [];\n        });\n\n        const checkInvite = async () => {\n            try {\n                const invite = await fetchInvite(inviteCode.value);\n                context.emit('codeverified', invite);\n            } catch (error) {\n                if (error.response.status == 404) {\n                    errors.value = ['The code you entered is not valid'];\n                    return;\n                }\n                if (isValidationError(error)) {\n                    errors.value = error.response.data.errors.code\n                }\n            }\n        }\n\n        return {\n            inviteCode,\n            errors,\n            checkInvite,\n            syncCode,\n        }\n   \n    },\n    computed: {\n\n    },\n    methods: {\n    },\n    mounted() {\n        this.syncCode();\n    },\n    beforeMount () {\n        if (this.$store.getters.currentUser.id !== null) {\n            this.$store.commit('pushError', 'You can\\'t redeem an invite b/c you\\'re already logged in.');\n            this.$router.replace({name: 'Dashboard'})\n        }\n    }\n}\n</script>","import api from '@/http/api'\n\nexport const validateCode = async (code) => {\n    try {\n        await api.get(`/api/people/invites/${code}`)\n        return true;\n    } catch(error) {\n        return false;\n    }\n}\n\nexport const fetchInvite = async (code) => {\n    return await api.get(`/api/people/invites/${code}`)\n        .then(response => {\n            return response.data.data;\n        })\n}\n\nexport const redeemInvite = async (invite, email, password, password_confirmation) => {\n    return api.put(`/api/people/invites/${invite.code}`, {email, password, password_confirmation})\n}\n\nexport const redeemInviteForExistingUser = async (invite) => {\n    return api.put(`/api/people/existing-user/invites/${invite.code}`);\n}\nexport default {\n    fetchInvite\n}\n","import { render } from \"./InviteRedemptionForm.vue?vue&type=template&id=36941534\"\nimport script from \"./InviteRedemptionForm.vue?vue&type=script&lang=js\"\nexport * from \"./InviteRedemptionForm.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/Users/bpow/src/clingen/gpm/resources/app/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\n    <div>\n        <pre></pre>\n        <div v-if=\"invite.person.user_id\">\n            <static-alert>\n                It looks like you've already activated you account.  Please login to continue.\n            </static-alert>\n            <login-form @authenticated=\"redeemForExistingUser\"></login-form>\n        </div>\n        <div v-else>\n            <p class=\"text-lg\">Create your account</p>\n            <input-row label=\"Email\" \n                v-model=\"email\" \n                :errors=\"errors.email\" \n                label-width-class=\"w-24\"\n            ></input-row>\n            <input-row label=\"Password\" \n                v-model=\"password\" type=\"password\" \n                :errors=\"errors.password\" \n                label-width-class=\"w-24\"\n            ></input-row>\n            <input-row label=\"Confirm Password\" \n                v-model=\"password_confirmation\" type=\"password\" \n                :errors=\"errors.password\" \n                label-width-class=\"w-24\"\n            ></input-row>\n            <div class=\"flex flex-row-reverse\">\n                <button class=\"btn blue\" @click=\"createAccount\">Next</button>\n            </div>\n        </div>\n    </div>\n</template>\n<script>\nimport {ref, onMounted} from 'vue'\nimport {redeemInvite, redeemInviteForExistingUser} from '@/domain/onboarding_service'\nimport isValidationError from '@/http/is_validation_error'\nimport { useStore } from 'vuex'\nimport LoginForm from '@/components/LoginForm.vue'\n\nexport default {\n    name: 'AccountCreationForm',\n    components: {\n        LoginForm\n    },\n    props: {\n        invite: {\n            type: Object,\n            required: true\n        }\n    },\n    setup (props, context) {\n        const store = useStore();\n        let errors = ref({});\n        let email = ref(null);\n        let password = ref(null);\n        let password_confirmation = ref(null);\n\n        const createAccount = async () => {\n            try {\n                await redeemInvite(props.invite, email.value, password.value, password_confirmation.value);\n                await store.dispatch('login', {email: email.value, password: password.value})\n                context.emit('saved')\n            } catch (error) {\n                if (isValidationError(error)) {\n                    errors.value = error.response.data.errors;\n                }\n            }\n        }\n\n        const redeemForExistingUser = async () => {\n            try {\n                await redeemInviteForExistingUser(props.invite);\n                context.emit('saved')\n            } catch (error) {\n                if (isValidationError(error)) {\n                    errors.value = error.response.data\n                }\n            }\n        }\n\n        const syncEmail = () => {\n            email.value = props.invite.person.email\n        }\n\n        onMounted(() => syncEmail());\n\n        return {\n            errors,\n            email,\n            password,\n            password_confirmation,\n            createAccount,\n            redeemForExistingUser,\n        }\n    }\n}\n</script>","import { render } from \"./AccountCreationForm.vue?vue&type=template&id=6ed5f7a2\"\nimport script from \"./AccountCreationForm.vue?vue&type=script&lang=js\"\nexport * from \"./AccountCreationForm.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/Users/bpow/src/clingen/gpm/resources/app/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./OnboardingWizard.vue?vue&type=template&id=0e76671e&scoped=true\"\nimport script from \"./OnboardingWizard.vue?vue&type=script&lang=js\"\nexport * from \"./OnboardingWizard.vue?vue&type=script&lang=js\"\n\nimport \"./OnboardingWizard.vue?vue&type=style&index=0&id=0e76671e&scoped=true&lang=css\"\n\nimport exportComponent from \"/Users/bpow/src/clingen/gpm/resources/app/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-0e76671e\"]])\n\nexport default __exports__"],"names":["class","_createElementBlock","_createElementVNode","style","$options","_createBlock","_KeepAlive","_createVNode","_Transition","name","$data","mode","_resolveDynamicComponent","invite","person","code","coi_code","ref","onCodeverified","onOk","onSaved","onBack","$store","getters","isAuthed","_component_router_link","to","_toDisplayString","$props","first_name","_hoisted_2","inviter","_hoisted_4","type","toUpperCase","_hoisted_5","_hoisted_6","_hoisted_8","_hoisted_9","_hoisted_10","_hoisted_11","onClick","_ctx","props","Object","required","emits","data","computed","methods","__exports__","for","id","$setup","$event","placeholder","_component_input_errors","errors","fetchInvite","async","api","then","response","redeemInvite","email","password","password_confirmation","redeemInviteForExistingUser","components","InputErrors","default","setup","context","toRefs","inviteCode","syncCode","value","watch","deep","checkInvite","emit","error","status","isValidationError","mounted","this","beforeMount","currentUser","commit","$router","replace","_hoisted_1","user_id","_component_static_alert","_component_login_form","onAuthenticated","_component_input_row","label","LoginForm","store","useStore","createAccount","dispatch","redeemForExistingUser","syncEmail","onMounted","stepComponents","InviteRedemptionForm","OnboardingSteps","AccountCreationForm","stepWidths","animationDirection","currentStepIdx","Person","currentStepComponent","currentStepWidth","canContinue","timezone","immediate","handler","handleCodeVerified","goForward","goBack","length","push","selectStep","$route","query","state","user","currentStepIndex","render"],"sourceRoot":""}