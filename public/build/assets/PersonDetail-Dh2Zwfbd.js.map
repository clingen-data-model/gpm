{"version":3,"file":"PersonDetail-Dh2Zwfbd.js","sources":["../../../resources/js/components/people/MembershipList.vue","../../../resources/js/components/people/PersonMergeForm.vue","../../../resources/js/components/people/PersonMailLog.vue","../../../resources/js/components/people/PersonDetail.vue"],"sourcesContent":["<script>\nimport {Group} from '@/domain'\n\nexport default {\n    name: 'MembershipList',\n    props: {\n        person: {\n            type: Object,\n            required: true\n        }\n    },\n    data() {\n        return {\n            sort: {\n                field: 'group.displayName',\n                desc: false\n            },\n            fields: [\n                {\n                    name: 'group.displayName',\n                    type: String,\n                    sortable: true,\n                    label: 'Name'\n                },\n                {\n                    name: 'group.type.name',\n                    type: String,\n                    sortable: true,\n                    label: 'Type'\n                },\n                {\n                    name: 'roles',\n                    type: String,\n                    sortable: false,\n                    label: 'Roles',\n                    resolveValue (item) {\n                        return item.roles.map(r => r.name).join(', ');\n                    }\n                },\n                {\n                    name: 'permissions',\n                    type: String,\n                    sortable: false,\n                    label: 'Permissions',\n                    resolveValue (item) {\n                        return item.permissions.map(p => p.name).join(', ');\n                    }\n                },\n                {\n                    name: 'start_date',\n                    type: Date,\n                    sortable: true,\n                    label: 'Started'\n                },\n                {\n                    name: 'end_date',\n                    type: Date,\n                    sortable: true,\n                    label: 'Ended'\n                }\n\n\n            ]\n        }\n    },\n    computed: {\n        memberships () {\n            if (this.person.memberships) {\n                return this.person.memberships.map(m => {\n                    if (m.group) {\n                        m.group = new Group(m.group);\n                    }\n                    return m;\n                })\n            }\n\n            return [];\n        }\n    },\n    methods: {\n        goToGroup(item) {\n            this.$router.push({name: 'GroupDetail', params: {uuid: item.group.uuid}})\n        }\n\n    }\n}\n</script>\n<template>\n  <div>\n    <data-table \n      v-model:sort=\"sort\" \n      :fields=\"fields\" \n      :data=\"memberships\"\n      :row-click-handler=\"goToGroup\"\n      :row-class=\"() => 'cursor-pointer'\"\n    />\n  </div>\n</template>","<script>\nimport { isValidationError } from '@/http';\n\nexport default {\n    name: 'PersonMergeForm',\n    props: {\n        authority: {\n            type: Object,\n            required: false\n        },\n        obsolete: {\n            type: Object,\n            default: () => ({})\n        }\n    },\n    emits: [\n        'saved',\n        'canceled'\n    ],\n    data() {\n        return {\n            authorityCopy: null,\n            obsoleteCopy: null,\n            errors: {}\n        }\n    },\n    watch: {\n        authority: {\n            immediate: true,\n            handler (to) {\n                if (!to) {\n                    return;\n                }\n                this.authorityCopy = {...to.attributes}\n            }\n        },\n        obsolete: {\n            immediate: true,\n            handler (to) {\n                if (!to) {\n                    return;\n                }\n                this.obsoleteCopy = {...to.attributes};\n            }\n        }\n    },\n    methods: {\n        async commitMerge () {\n            try {\n                this.errors = {};\n                await this.$store.dispatch(\n                    'people/mergePeople', \n                    {\n                        authority: this.authorityCopy, \n                        obsolete: this.obsoleteCopy\n                    }\n                );\n                this.authorityId = null;\n                this.obsoleteIds = null;\n                this.$emit('saved');\n            } catch (error) {\n                if (isValidationError(error)) {\n                    this.errors = error.response.data.errors;\n                }\n            }\n        },\n        cancelMerge () {\n            this.authorityId = null;\n            this.obsoleteId = null;\n            this.$emit('canceled');\n        }\n    }\n}\n</script>\n<template>\n  <div>\n    <p class=\"mb-8\">\n      Merging peple will do the following:\n      <ol class=\"list-decimal ml-6\">\n        <li>Add the authoritative person to all groups of which the obsolete person is a member.</li>\n        <li>Delete the obsolete person, their memberships, their invite, and their user account (if activated).</li>\n      </ol>\n    </p>\n    <input-row label=\"Merge\" vertical>\n      <template #label>\n        Merge <note class=\"inline-block\">\n          (Obsolete person that will be deleted)\n        </note>\n      </template>\n      <person-search-select v-model=\"obsoleteCopy\" :allow-add=\"false\" />\n    </input-row>\n    <input-row label=\"Into\" :errors=\"errors.authority_id\" vertical>\n      <template #label>\n        Into <note class=\"inline\">\n          (Authoritative person)\n        </note>\n      </template>\n      <person-search-select v-model=\"authorityCopy\" :allow-add=\"false\" />\n    </input-row>\n    <button-row submit-text=\"Merge\" @submitted=\"commitMerge\" @canceled=\"cancelMerge\" />\n  </div>\n</template>","<script>\nimport CustomEmailForm from '@/components/mail/CustomEmailForm.vue';\nexport default {\n    name: 'PersonMailLog',\n    components: {\n      CustomEmailForm,\n    },\n    props: {\n        person: {\n            type: Object,\n            required: true\n        },\n        mail: {\n            type: Array,\n            required: true\n        }\n    },\n    data() {\n        return {\n            currentEmail: {},\n            showResendDialog: null,\n        }\n    },\n    computed: {\n\n    },\n    methods: {\n        initResend (email) {\n            this.currentEmail = {...email};\n            this.showResendDialog = true;\n        },\n        cleanupResend () {\n            this.currentEmail = {}\n            this.showResendDialog = false;\n            this.$store.dispatch('people/getMail', this.person);\n        },\n    }\n}\n</script>\n<template>\n  <div>\n    <div v-if=\"mail.length == 0\" class=\"well\">\n      {{ person.first_name }} has not received any mail via the GPM.\n    </div>\n    <div v-for=\"email in mail\" :key=\"email.id\" class=\"w-3/4 my-4 p-4 border\">\n      <span class=\"text-gray-600\">Sent at</span> {{ formatDate(email.created_at) }}\n      <div><span class=\"text-gray-600\">To:</span> {{ email.to.map(i => i.address).join(', ') }}</div>\n      <div v-if=\"email.cc\">\n        <span class=\"text-gray-600\">CC:</span> {{ email.cc.map(i => i.address).join(', ') }}\n      </div>\n      <div v-if=\"email.bcc\">\n        <span class=\"text-gray-600\">BCC:</span> {{ email.bcc.map(i => i.address).join(', ') }}\n      </div>\n      <div class=\"mt-1\">\n        <span class=\"text-gray-600\">Subject:</span> {{ email.subject }}\n      </div>\n      <hr>\n      <div v-html=\"email.body\" />\n      <hr>\n      <button\n        v-if=\"hasPermission('people-manage') || coordinatesPerson(person)\"\n        class=\"btn btn-xs\"\n        @click.stop=\"initResend(email)\" \n      >\n        Resend\n      </button>\n    </div>\n    <teleport to=\"body\">\n      <modal-dialog v-model=\"showResendDialog\" title=\"Resend Email\">\n        <CustomEmailForm :mail-data=\"currentEmail\" @sent=\"cleanupResend\" @canceled=\"cleanupResend\" />\n      </modal-dialog>\n    </teleport>\n  </div>\n</template>","<script>\nimport { mapGetters } from 'vuex'\nimport { formatDateTime as formatDate } from '@/date_utils'\nimport { logEntries, fetchEntries } from \"@/adapters/log_entry_repository\";\n\nimport TabsContainer from '../TabsContainer.vue'\nimport MembershipList from './MembershipList.vue'\nimport PersonProfile from '@/components/people/PersonProfile.vue'\nimport PersonMergeForm from '@/components/people/PersonMergeForm.vue'\nimport CoiList from '@/components/people/CoiList.vue'\nimport ActivityLog from \"@/components/log_entries/ActivityLog.vue\";\nimport PersonMailLog from \"@/components/people/PersonMailLog.vue\";\nimport ProfilePicture from \"@/components/people/ProfilePicture.vue\";\nimport DemographicsForm from '@/components/people/DemographicsForm.vue';\n\n\nexport default {\n    name: 'PersonDetail',\n    components: {\n        TabsContainer,\n        MembershipList,\n        PersonProfile,\n        DemographicsForm,\n        PersonMergeForm,\n        CoiList,\n        ActivityLog,\n        PersonMailLog,\n        ProfilePicture,\n    },\n    props: {\n        uuid: {\n            required: true,\n            type: String\n        }\n    },\n    data() {\n        return {\n            showDeleteConfirmation: false,\n            showMergeForm: false,\n            mailLoading: false,\n            logsLoading: false,\n        }\n    },\n    watch: {\n        uuid: {\n            immediate: true,\n            async handler () {\n                await this.$store.dispatch('people/getPerson', { uuid: this.uuid });\n                if (this.coordinatesPerson(this.person)) {\n                    this.getLogEntries();\n                    this.getMailLog();\n                }\n            }\n        },\n        'person.memberships': function (to) {\n            if (to.length > 0) {\n                this.getLogEntries();\n                this.getMailLog();\n            }\n        }\n    },\n    computed: {\n        ...mapGetters({\n            person: 'people/currentItem'\n        }),\n        showModal: {\n            get() {\n                return this.$route.meta.showModal\n            },\n            set(value) {\n                if (value) {\n                    this.$router.push({ name: 'PersonEdit', params: { uuid: this.person.uuid } })\n                }\n                this.$router.push({ name: 'PersonDetail', params: { uuid: this.person.uuid } })\n            }\n        },\n        sortedMailLog() {\n            return [...this.person.mailLog].sort((a, b) => {\n                if (a.created_at === b.created_at) {\n                    return 0;\n                }\n                return (Date.parse(a.created_at) > Date.parse(b.created_at))\n                    ? -1 : 1;\n            })\n        },\n    },\n    methods: {\n        initDelete() {\n            this.showDeleteConfirmation = true;\n        },\n        async commitDelete() {\n            await this.$store.dispatch('people/deletePerson', this.person);\n            this.showDeleteConfirmation = false;\n            this.$router.go(-1);\n        },\n        cancelDelete() {\n            this.showDeleteConfirmation = false;\n        },\n        initMerge() {\n            this.showMergeForm = true;\n        },\n        handleMerged() {\n            this.showMergeForm = false;\n            this.$router.go(-1);\n        },\n        handleMergeCanceled() {\n            this.showMergeForm = false;\n        },\n        async getMailLog() {\n            this.mailLoading = true;\n            await this.$store.dispatch('people/getMail', this.person);\n            this.mailLoading = false;\n        },\n        async getLogEntries() {\n            this.logsLoading = true;\n            await this.fetchEntries(`/api/people/${this.uuid}/activity-logs`);\n            this.logsLoading = false;\n        }\n    },\n    setup() {\n        return {\n            formatDate,\n            logEntries,\n            fetchEntries\n        }\n    },\n    onmounted() {\n        this.$store.dispatch('people/clearCurrentItem');\n    }\n}\n</script>\n<template>\n  <div>\n    <header class=\"pb-4\">\n      <div class=\"flex space-x-4\">\n        <ProfilePicture :person=\"person\" style=\"width: 155px\" class=\"rounded-lg\" />\n\n        <div class=\"flex-1\">\n          <router-link class=\"note\" to=\"/people\">\n            People\n          </router-link>\n          <h1 class=\"flex justify-between items-center\">\n            <div>\n              {{ person.name }}\n              <note>ID: {{ person.id }}</note>\n            </div>\n            <router-link\n              v-if=\"(hasPermission('people-manage') || userIsPerson(person)) || coordinatesPerson(person)\" :to=\"`/people/${uuid}/edit`\"\n              class=\"btn btn-xs flex-grow-0\"\n            >\n              <icon-edit width=\"16\" heigh=\"16\" />\n            </router-link>\n          </h1>\n          <dictionary-row label=\"Email\" label-class=\"w-24 font-bold\">\n            {{ person.email }}\n          </dictionary-row>\n          <dictionary-row label=\"Institution\" label-class=\"w-24 font-bold\">\n            {{ person.institution ? person.institution.name : null }}\n          </dictionary-row>\n        </div>\n      </div>\n    </header>\n    <TabsContainer>\n      <tab-item label=\"groups\">\n        <h2>Groups</h2>\n        <MembershipList :person=\"person\" />\n      </tab-item>\n      <tab-item label=\"Info\">\n        <h2>Profile</h2>\n        <PersonProfile :person=\"person\" />\n      </tab-item>\n\n      <tab-item label=\"Demographics\" :visible=\"(hasRole('super-admin') || userIsPerson(person))\">\n        <DemographicsForm :person=\"person\" />\n      </tab-item>\n\n      <tab-item label=\"Conflict of Interest\">\n        <CoiList :person=\"person\" />\n      </tab-item>\n      <!-- <tab-item label=\"Documents\">\n                docs\n            </tab-item> -->\n      <!-- <tab-item label=\"Training &amp; Attestations\">\n            </tab-item> -->\n\n      <tab-item\n        label=\"Email Log\"\n        :visible=\"hasPermission('people-manage') || userIsPerson(person) || coordinatesPerson(person)\"\n      >\n        <header class=\"flex space-x-4 items-center\">\n          <h2>Mail sent to {{ person.first_name }}</h2>\n          <refresh-button :loading=\"mailLoading\" @click=\"getMailLog\" />\n        </header>\n        <PersonMailLog :person=\"person\" :mail=\"sortedMailLog\" />\n      </tab-item>\n\n      <tab-item label=\"Log\" :visible=\"hasPermission('people-manage') || coordinatesPerson(person)\">\n        <div class=\"flex space-x-4 items-center\">\n          <h2>Log Entries</h2>\n          <refresh-button :loading=\"logsLoading\" @click=\"getLogEntries\" />\n        </div>\n        <ActivityLog\n          :log-entries=\"logEntries\" :api-url=\"`/api/people/${person.uuid}/activity-logs`\"\n          :log-updated=\"getLogEntries\"\n        />\n      </tab-item>\n\n      <tab-item label=\"Admin\" :visible=\"hasPermission('people-manage')\">\n        <section class=\"border my-4 p-4 bg-red-100 border-red-200 rounded\">\n          <h2 class=\"mb-4 text-red-800\">\n            Here be dragons. Proceed with caution.\n          </h2>\n          <p>\n            <button class=\"btn btn red\" @click=\"initMerge\">\n              Merge Person into another\n            </button>\n          </p>\n          <p>\n            <button class=\"btn btn red\" @click=\"initDelete\">\n              Delete Person\n            </button>\n          </p>\n        </section>\n      </tab-item>\n    </TabsContainer>\n\n    <teleport to=\"body\">\n      <modal-dialog v-model=\"showModal\" :title=\"$route.meta.title\">\n        <router-view name=\"modal\" />\n      </modal-dialog>\n      <modal-dialog v-model=\"showDeleteConfirmation\" :title=\"`You are about to delete ${person.name}`\">\n        <p>You are about to delete this person. All related data will also be deleted including:</p>\n        <ul class=\"list-disc pl-6\">\n          <li>User record, system roles, and system permissions (if account is activated)</li>\n          <li>Invite</li>\n          <li>Group Memberships and group roles (if any)</li>\n        </ul>\n        <div class=\"border my-4 px-2 py-1 font-bold bg-red-100 border-red-200 rounded text-red-800\">\n          This cannot be undone.\n        </div>\n        <button-row\n          :submit-text=\"`Delete ${person.name}`\" submit-variant=\"red\" @submitted=\"commitDelete\"\n          @canceled=\"cancelDelete\"\n        />\n      </modal-dialog>\n      <modal-dialog v-model=\"showMergeForm\" :title=\"`Merge ${person.name} into another person`\">\n        <PersonMergeForm\n          :obsolete=\"person\" @saved=\"handleMerged\"\n          @canceled=\"handleMergeCanceled\"\n        />\n      </modal-dialog>\n    </teleport>\n  </div>\n</template>"],"names":["_sfc_main","item","r","p","m","Group","_createElementBlock","_createVNode","_component_data_table","$data","_cache","$event","$options","to","error","isValidationError","_createElementVNode","_createTextVNode","_component_input_row","_component_note","_withCtx","_component_person_search_select","_component_button_row","CustomEmailForm","email","_hoisted_4","_hoisted_5","_hoisted_6","$props","_openBlock","_hoisted_1","_toDisplayString","_createCommentVNode","_Fragment","_renderList","_ctx","i","_hoisted_2","_hoisted_3","_withModifiers","_createBlock","_Teleport","_component_modal_dialog","_component_CustomEmailForm","TabsContainer","MembershipList","PersonProfile","DemographicsForm","PersonMergeForm","CoiList","ActivityLog","PersonMailLog","ProfilePicture","mapGetters","value","a","b","formatDate","logEntries","fetchEntries","_hoisted_7","_component_ProfilePicture","_component_router_link","_component_icon_edit","_component_dictionary_row","_component_TabsContainer","_component_tab_item","_component_MembershipList","_component_PersonProfile","_component_DemographicsForm","_component_CoiList","_component_refresh_button","_component_PersonMailLog","_component_ActivityLog","$setup","args","_component_router_view","_component_PersonMergeForm"],"mappings":"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"}