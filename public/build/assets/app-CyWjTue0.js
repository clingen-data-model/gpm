const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/ApplicationsIndex-Dppwh3ck.js","assets/CreateApplicationForm-BalXQv_h.js","assets/ApplicationsIndex-h4WF41Bu.css","assets/ApplicationDetail-BsJkR7nG.js","assets/StepTabs-y_WNOMkL.js","assets/LogEntryForm-DRtzJoOd.js","assets/log_entry_repository-LT2rn0vA.js","assets/judgement_utils-CQeBr_sj.js","assets/SustainedCurationReview-B3uVanF2.js","assets/ExpertisesView-DwvoOHE_.js","assets/SpecificationsSection-DKDqX5cz.js","assets/SpecificationsSection-DWnzTxxm.css","assets/EvidenceSummaryList-D_1u4gqS.js","assets/StepTabs-BcP1obkj.css","assets/GroupForm-MYSgVy5v.js","assets/ApplicationDetail-CIfU6vjc.css","assets/MemberForm-ltUlfvyV.js","assets/ProfileForm-DHLL3xaI.js","assets/MemberForm-BBMVMUWs.css","assets/ConfirmDeleteLogEntry-Bw1iCnct.js","assets/ConfirmDeleteLogEntry-DWb-y-B4.css","assets/ConfirmDeleteNextAction-BqmJNs-R.js","assets/GcepsList-Vag_6MBi.js","assets/ApplicationsTable-CWVXUE52.js","assets/router_aware_sort_and_filter-C3m9xnyu.js","assets/VcepsList-BfSIiXKD.js","assets/PersonDetail-BzCeGMJe.js","assets/CoiList-BT0OgGHU.js","assets/CoiDetail-BCv_ayXr.js","assets/CoiDetail-BMP6cGIg.css","assets/ActivityLog-Crt123Mh.js","assets/ActivityLog-B3k6ysgp.css","assets/CustomEmailForm-hMizycXy.js","assets/DemographicsForm-DKIcq2zL.js","assets/DemographicsForm-BowW9UQB.css","assets/PersonEdit-yAof-sd_.js","assets/PeopleList-DqueJB0V.js","assets/OnboardingWizard-DF1-YYa3.js","assets/OnboardingWizard-DqGVtz5g.css","assets/RequiredProfileUpdate-D1G_-ieS.js","assets/OnboardingProfileForm-Ci_T_mg4.js","assets/RequiredDemographicsUpdateForm-CbDV-Q84.js","assets/GroupList-OaIOHlP5.js","assets/GroupDetail-qD8W7Yc0.js","assets/ScopeDescriptionForm-DkZSwGj9.js","assets/MemberList-b7uYmEmm.js","assets/MemberList-00nml9fr.css","assets/VcepOngoingPlansForm-9SpoC5SO.js","assets/SustainedCurationReviewAlert-DnG4ne1s.js","assets/GroupDetail-B8L6HxLt.css","assets/GroupApplication-CCEe05G4.js","assets/MemberDesignationForm-COrEDszX.js","assets/MemberDesignationForm-D4Bi1Xlw.css","assets/GroupApplication-Dilfo8eF.css","assets/ApplicationResponse-CGztnqqG.js","assets/ApplicationResponse-BQHibsK3.css","assets/AnnualUpdateForm-C_p4eyuy.js","assets/AnnualUpdateForm-CUzY73DR.css","assets/SustainedCurationReview-1wD2qo59.js","assets/SustainedCurationReview-DmWouxLo.css","assets/InstitutionList-4ja1IraC.js","assets/CredentialsList-DJ9-AsSf.js","assets/ExpertiseList-DFqDulUQ.js","assets/UserList-DB9TbwkB.js","assets/Dashboard-B5sgyiq-.js","assets/Dashboard-CoPqE3sX.css","assets/ApplicationSummary-CUpOgBRG.js","assets/ApplicationSummary-B6csAuh8.css","assets/SummaryGcep-B9cViT9J.js","assets/ApplicationsSummaryTable-DKmgy7e3.js","assets/SummaryVcep-CjtcEeSQ.js","assets/AnnualUpdatesList-9_iepuDS.js","assets/AnnualUpdatesList-CYY7b7Aq.css","assets/AnnualUpdateDetail-BvPN9TYg.js","assets/Coi-bUdlNcu9.js","assets/Coi-DQZ_i_cR.css","assets/MailLog-9jZUAH3O.js","assets/MailLog-jv627Wk8.css","assets/Reports-BWw9Fw3H.js","assets/Reports-Bh5Mskmt.css"])))=>i.map(i=>d[i]);
var C6=Object.defineProperty;var S6=(e,t,n)=>t in e?C6(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var Ln=(e,t,n)=>S6(e,typeof t!="symbol"?t+"":t,n);/**
* @vue/shared v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function by(e){const t=Object.create(null);for(const n of e.split(","))t[n]=1;return n=>n in t}const gt={},Pa=[],Jr=()=>{},A6=()=>!1,pp=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),yy=e=>e.startsWith("onUpdate:"),Zt=Object.assign,_y=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},O6=Object.prototype.hasOwnProperty,dt=(e,t)=>O6.call(e,t),Re=Array.isArray,La=e=>_l(e)==="[object Map]",yl=e=>_l(e)==="[object Set]",yv=e=>_l(e)==="[object Date]",k6=e=>_l(e)==="[object RegExp]",We=e=>typeof e=="function",It=e=>typeof e=="string",ei=e=>typeof e=="symbol",_t=e=>e!==null&&typeof e=="object",Ak=e=>(_t(e)||We(e))&&We(e.then)&&We(e.catch),Ok=Object.prototype.toString,_l=e=>Ok.call(e),I6=e=>_l(e).slice(8,-1),kk=e=>_l(e)==="[object Object]",Ey=e=>It(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,Tu=by(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),hp=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},N6=/-(\w)/g,Fr=hp(e=>e.replace(N6,(t,n)=>n?n.toUpperCase():"")),R6=/\B([A-Z])/g,go=hp(e=>e.replace(R6,"-$1").toLowerCase()),mp=hp(e=>e.charAt(0).toUpperCase()+e.slice(1)),Rh=hp(e=>e?`on${mp(e)}`:""),Js=(e,t)=>!Object.is(e,t),Ba=(e,...t)=>{for(let n=0;n<e.length;n++)e[n](...t)},Ik=(e,t,n,r=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:r,value:n})},bf=e=>{const t=parseFloat(e);return isNaN(t)?e:t},D6=e=>{const t=It(e)?Number(e):NaN;return isNaN(t)?e:t};let _v;const gp=()=>_v||(_v=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function ia(e){if(Re(e)){const t={};for(let n=0;n<e.length;n++){const r=e[n],i=It(r)?B6(r):ia(r);if(i)for(const s in i)t[s]=i[s]}return t}else if(It(e)||_t(e))return e}const M6=/;(?![^(]*\))/g,P6=/:([^]+)/,L6=/\/\*[^]*?\*\//g;function B6(e){const t={};return e.replace(L6,"").split(M6).forEach(n=>{if(n){const r=n.split(P6);r.length>1&&(t[r[0].trim()]=r[1].trim())}}),t}function nt(e){let t="";if(It(e))t=e;else if(Re(e))for(let n=0;n<e.length;n++){const r=nt(e[n]);r&&(t+=r+" ")}else if(_t(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}function F6(e){if(!e)return null;let{class:t,style:n}=e;return t&&!It(t)&&(e.class=nt(t)),n&&(e.style=ia(n)),e}const $6="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",U6=by($6);function Nk(e){return!!e||e===""}function H6(e,t){if(e.length!==t.length)return!1;let n=!0;for(let r=0;n&&r<e.length;r++)n=Go(e[r],t[r]);return n}function Go(e,t){if(e===t)return!0;let n=yv(e),r=yv(t);if(n||r)return n&&r?e.getTime()===t.getTime():!1;if(n=ei(e),r=ei(t),n||r)return e===t;if(n=Re(e),r=Re(t),n||r)return n&&r?H6(e,t):!1;if(n=_t(e),r=_t(t),n||r){if(!n||!r)return!1;const i=Object.keys(e).length,s=Object.keys(t).length;if(i!==s)return!1;for(const o in e){const a=e.hasOwnProperty(o),l=t.hasOwnProperty(o);if(a&&!l||!a&&l||!Go(e[o],t[o]))return!1}}return String(e)===String(t)}function vy(e,t){return e.findIndex(n=>Go(n,t))}const Rk=e=>!!(e&&e.__v_isRef===!0),le=e=>It(e)?e:e==null?"":Re(e)||_t(e)&&(e.toString===Ok||!We(e.toString))?Rk(e)?le(e.value):JSON.stringify(e,Dk,2):String(e),Dk=(e,t)=>Rk(t)?Dk(e,t.value):La(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((n,[r,i],s)=>(n[Dh(r,s)+" =>"]=i,n),{})}:yl(t)?{[`Set(${t.size})`]:[...t.values()].map(n=>Dh(n))}:ei(t)?Dh(t):_t(t)&&!Re(t)&&!kk(t)?String(t):t,Dh=(e,t="")=>{var n;return ei(e)?`Symbol(${(n=e.description)!=null?n:t})`:e};/**
* @vue/reactivity v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let cr;class Mk{constructor(t=!1){this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=cr,!t&&cr&&(this.index=(cr.scopes||(cr.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let t,n;if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].pause();for(t=0,n=this.effects.length;t<n;t++)this.effects[t].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let t,n;if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].resume();for(t=0,n=this.effects.length;t<n;t++)this.effects[t].resume()}}run(t){if(this._active){const n=cr;try{return cr=this,t()}finally{cr=n}}}on(){cr=this}off(){cr=this.parent}stop(t){if(this._active){this._active=!1;let n,r;for(n=0,r=this.effects.length;n<r;n++)this.effects[n].stop();for(this.effects.length=0,n=0,r=this.cleanups.length;n<r;n++)this.cleanups[n]();if(this.cleanups.length=0,this.scopes){for(n=0,r=this.scopes.length;n<r;n++)this.scopes[n].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!t){const i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.parent=void 0}}}function z6(e){return new Mk(e)}function j6(){return cr}let xt;const Mh=new WeakSet;class Pk{constructor(t){this.fn=t,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,cr&&cr.active&&cr.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,Mh.has(this)&&(Mh.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||Bk(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,Ev(this),Fk(this);const t=xt,n=Zr;xt=this,Zr=!0;try{return this.fn()}finally{$k(this),xt=t,Zr=n,this.flags&=-3}}stop(){if(this.flags&1){for(let t=this.deps;t;t=t.nextDep)xy(t);this.deps=this.depsTail=void 0,Ev(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?Mh.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){vb(this)&&this.run()}get dirty(){return vb(this)}}let Lk=0,wu,xu;function Bk(e,t=!1){if(e.flags|=8,t){e.next=xu,xu=e;return}e.next=wu,wu=e}function Ty(){Lk++}function wy(){if(--Lk>0)return;if(xu){let t=xu;for(xu=void 0;t;){const n=t.next;t.next=void 0,t.flags&=-9,t=n}}let e;for(;wu;){let t=wu;for(wu=void 0;t;){const n=t.next;if(t.next=void 0,t.flags&=-9,t.flags&1)try{t.trigger()}catch(r){e||(e=r)}t=n}}if(e)throw e}function Fk(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function $k(e){let t,n=e.depsTail,r=n;for(;r;){const i=r.prevDep;r.version===-1?(r===n&&(n=i),xy(r),q6(r)):t=r,r.dep.activeLink=r.prevActiveLink,r.prevActiveLink=void 0,r=i}e.deps=t,e.depsTail=n}function vb(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(Uk(t.dep.computed)||t.dep.version!==t.version))return!0;return!!e._dirty}function Uk(e){if(e.flags&4&&!(e.flags&16)||(e.flags&=-17,e.globalVersion===Ju))return;e.globalVersion=Ju;const t=e.dep;if(e.flags|=2,t.version>0&&!e.isSSR&&e.deps&&!vb(e)){e.flags&=-3;return}const n=xt,r=Zr;xt=e,Zr=!0;try{Fk(e);const i=e.fn(e._value);(t.version===0||Js(i,e._value))&&(e._value=i,t.version++)}catch(i){throw t.version++,i}finally{xt=n,Zr=r,$k(e),e.flags&=-3}}function xy(e,t=!1){const{dep:n,prevSub:r,nextSub:i}=e;if(r&&(r.nextSub=i,e.prevSub=void 0),i&&(i.prevSub=r,e.nextSub=void 0),n.subs===e&&(n.subs=r,!r&&n.computed)){n.computed.flags&=-5;for(let s=n.computed.deps;s;s=s.nextDep)xy(s,!0)}!t&&!--n.sc&&n.map&&n.map.delete(n.key)}function q6(e){const{prevDep:t,nextDep:n}=e;t&&(t.nextDep=n,e.prevDep=void 0),n&&(n.prevDep=t,e.nextDep=void 0)}let Zr=!0;const Hk=[];function bo(){Hk.push(Zr),Zr=!1}function yo(){const e=Hk.pop();Zr=e===void 0?!0:e}function Ev(e){const{cleanup:t}=e;if(e.cleanup=void 0,t){const n=xt;xt=void 0;try{t()}finally{xt=n}}}let Ju=0;class V6{constructor(t,n){this.sub=t,this.dep=n,this.version=n.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class Cy{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(t){if(!xt||!Zr||xt===this.computed)return;let n=this.activeLink;if(n===void 0||n.sub!==xt)n=this.activeLink=new V6(xt,this),xt.deps?(n.prevDep=xt.depsTail,xt.depsTail.nextDep=n,xt.depsTail=n):xt.deps=xt.depsTail=n,zk(n);else if(n.version===-1&&(n.version=this.version,n.nextDep)){const r=n.nextDep;r.prevDep=n.prevDep,n.prevDep&&(n.prevDep.nextDep=r),n.prevDep=xt.depsTail,n.nextDep=void 0,xt.depsTail.nextDep=n,xt.depsTail=n,xt.deps===n&&(xt.deps=r)}return n}trigger(t){this.version++,Ju++,this.notify(t)}notify(t){Ty();try{for(let n=this.subs;n;n=n.prevSub)n.sub.notify()&&n.sub.dep.notify()}finally{wy()}}}function zk(e){if(e.dep.sc++,e.sub.flags&4){const t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let r=t.deps;r;r=r.nextDep)zk(r)}const n=e.dep.subs;n!==e&&(e.prevSub=n,n&&(n.nextSub=e)),e.dep.subs=e}}const yf=new WeakMap,Fo=Symbol(""),Tb=Symbol(""),Zu=Symbol("");function xn(e,t,n){if(Zr&&xt){let r=yf.get(e);r||yf.set(e,r=new Map);let i=r.get(n);i||(r.set(n,i=new Cy),i.map=r,i.key=n),i.track()}}function ts(e,t,n,r,i,s){const o=yf.get(e);if(!o){Ju++;return}const a=l=>{l&&l.trigger()};if(Ty(),t==="clear")o.forEach(a);else{const l=Re(e),u=l&&Ey(n);if(l&&n==="length"){const c=Number(r);o.forEach((d,f)=>{(f==="length"||f===Zu||!ei(f)&&f>=c)&&a(d)})}else switch((n!==void 0||o.has(void 0))&&a(o.get(n)),u&&a(o.get(Zu)),t){case"add":l?u&&a(o.get("length")):(a(o.get(Fo)),La(e)&&a(o.get(Tb)));break;case"delete":l||(a(o.get(Fo)),La(e)&&a(o.get(Tb)));break;case"set":La(e)&&a(o.get(Fo));break}}wy()}function W6(e,t){const n=yf.get(e);return n&&n.get(t)}function ba(e){const t=it(e);return t===e?t:(xn(t,"iterate",Zu),Rr(e)?t:t.map(Cn))}function bp(e){return xn(e=it(e),"iterate",Zu),e}const G6={__proto__:null,[Symbol.iterator](){return Ph(this,Symbol.iterator,Cn)},concat(...e){return ba(this).concat(...e.map(t=>Re(t)?ba(t):t))},entries(){return Ph(this,"entries",e=>(e[1]=Cn(e[1]),e))},every(e,t){return Gi(this,"every",e,t,void 0,arguments)},filter(e,t){return Gi(this,"filter",e,t,n=>n.map(Cn),arguments)},find(e,t){return Gi(this,"find",e,t,Cn,arguments)},findIndex(e,t){return Gi(this,"findIndex",e,t,void 0,arguments)},findLast(e,t){return Gi(this,"findLast",e,t,Cn,arguments)},findLastIndex(e,t){return Gi(this,"findLastIndex",e,t,void 0,arguments)},forEach(e,t){return Gi(this,"forEach",e,t,void 0,arguments)},includes(...e){return Lh(this,"includes",e)},indexOf(...e){return Lh(this,"indexOf",e)},join(e){return ba(this).join(e)},lastIndexOf(...e){return Lh(this,"lastIndexOf",e)},map(e,t){return Gi(this,"map",e,t,void 0,arguments)},pop(){return $l(this,"pop")},push(...e){return $l(this,"push",e)},reduce(e,...t){return vv(this,"reduce",e,t)},reduceRight(e,...t){return vv(this,"reduceRight",e,t)},shift(){return $l(this,"shift")},some(e,t){return Gi(this,"some",e,t,void 0,arguments)},splice(...e){return $l(this,"splice",e)},toReversed(){return ba(this).toReversed()},toSorted(e){return ba(this).toSorted(e)},toSpliced(...e){return ba(this).toSpliced(...e)},unshift(...e){return $l(this,"unshift",e)},values(){return Ph(this,"values",Cn)}};function Ph(e,t,n){const r=bp(e),i=r[t]();return r!==e&&!Rr(e)&&(i._next=i.next,i.next=()=>{const s=i._next();return s.value&&(s.value=n(s.value)),s}),i}const Y6=Array.prototype;function Gi(e,t,n,r,i,s){const o=bp(e),a=o!==e&&!Rr(e),l=o[t];if(l!==Y6[t]){const d=l.apply(e,s);return a?Cn(d):d}let u=n;o!==e&&(a?u=function(d,f){return n.call(this,Cn(d),f,e)}:n.length>2&&(u=function(d,f){return n.call(this,d,f,e)}));const c=l.call(o,u,r);return a&&i?i(c):c}function vv(e,t,n,r){const i=bp(e);let s=n;return i!==e&&(Rr(e)?n.length>3&&(s=function(o,a,l){return n.call(this,o,a,l,e)}):s=function(o,a,l){return n.call(this,o,Cn(a),l,e)}),i[t](s,...r)}function Lh(e,t,n){const r=it(e);xn(r,"iterate",Zu);const i=r[t](...n);return(i===-1||i===!1)&&Oy(n[0])?(n[0]=it(n[0]),r[t](...n)):i}function $l(e,t,n=[]){bo(),Ty();const r=it(e)[t].apply(e,n);return wy(),yo(),r}const K6=by("__proto__,__v_isRef,__isVue"),jk=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(ei));function X6(e){ei(e)||(e=String(e));const t=it(this);return xn(t,"has",e),t.hasOwnProperty(e)}class qk{constructor(t=!1,n=!1){this._isReadonly=t,this._isShallow=n}get(t,n,r){if(n==="__v_skip")return t.__v_skip;const i=this._isReadonly,s=this._isShallow;if(n==="__v_isReactive")return!i;if(n==="__v_isReadonly")return i;if(n==="__v_isShallow")return s;if(n==="__v_raw")return r===(i?s?o4:Yk:s?Gk:Wk).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(r)?t:void 0;const o=Re(t);if(!i){let l;if(o&&(l=G6[n]))return l;if(n==="hasOwnProperty")return X6}const a=Reflect.get(t,n,Yt(t)?t:r);return(ei(n)?jk.has(n):K6(n))||(i||xn(t,"get",n),s)?a:Yt(a)?o&&Ey(n)?a:a.value:_t(a)?i?Xk(a):El(a):a}}class Vk extends qk{constructor(t=!1){super(!1,t)}set(t,n,r,i){let s=t[n];if(!this._isShallow){const l=Yo(s);if(!Rr(r)&&!Yo(r)&&(s=it(s),r=it(r)),!Re(t)&&Yt(s)&&!Yt(r))return l?!1:(s.value=r,!0)}const o=Re(t)&&Ey(n)?Number(n)<t.length:dt(t,n),a=Reflect.set(t,n,r,Yt(t)?t:i);return t===it(i)&&(o?Js(r,s)&&ts(t,"set",n,r):ts(t,"add",n,r)),a}deleteProperty(t,n){const r=dt(t,n);t[n];const i=Reflect.deleteProperty(t,n);return i&&r&&ts(t,"delete",n,void 0),i}has(t,n){const r=Reflect.has(t,n);return(!ei(n)||!jk.has(n))&&xn(t,"has",n),r}ownKeys(t){return xn(t,"iterate",Re(t)?"length":Fo),Reflect.ownKeys(t)}}class Q6 extends qk{constructor(t=!1){super(!0,t)}set(t,n){return!0}deleteProperty(t,n){return!0}}const J6=new Vk,Z6=new Q6,e4=new Vk(!0);const wb=e=>e,fd=e=>Reflect.getPrototypeOf(e);function t4(e,t,n){return function(...r){const i=this.__v_raw,s=it(i),o=La(s),a=e==="entries"||e===Symbol.iterator&&o,l=e==="keys"&&o,u=i[e](...r),c=n?wb:t?xb:Cn;return!t&&xn(s,"iterate",l?Tb:Fo),{next(){const{value:d,done:f}=u.next();return f?{value:d,done:f}:{value:a?[c(d[0]),c(d[1])]:c(d),done:f}},[Symbol.iterator](){return this}}}}function pd(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function n4(e,t){const n={get(i){const s=this.__v_raw,o=it(s),a=it(i);e||(Js(i,a)&&xn(o,"get",i),xn(o,"get",a));const{has:l}=fd(o),u=t?wb:e?xb:Cn;if(l.call(o,i))return u(s.get(i));if(l.call(o,a))return u(s.get(a));s!==o&&s.get(i)},get size(){const i=this.__v_raw;return!e&&xn(it(i),"iterate",Fo),Reflect.get(i,"size",i)},has(i){const s=this.__v_raw,o=it(s),a=it(i);return e||(Js(i,a)&&xn(o,"has",i),xn(o,"has",a)),i===a?s.has(i):s.has(i)||s.has(a)},forEach(i,s){const o=this,a=o.__v_raw,l=it(a),u=t?wb:e?xb:Cn;return!e&&xn(l,"iterate",Fo),a.forEach((c,d)=>i.call(s,u(c),u(d),o))}};return Zt(n,e?{add:pd("add"),set:pd("set"),delete:pd("delete"),clear:pd("clear")}:{add(i){!t&&!Rr(i)&&!Yo(i)&&(i=it(i));const s=it(this);return fd(s).has.call(s,i)||(s.add(i),ts(s,"add",i,i)),this},set(i,s){!t&&!Rr(s)&&!Yo(s)&&(s=it(s));const o=it(this),{has:a,get:l}=fd(o);let u=a.call(o,i);u||(i=it(i),u=a.call(o,i));const c=l.call(o,i);return o.set(i,s),u?Js(s,c)&&ts(o,"set",i,s):ts(o,"add",i,s),this},delete(i){const s=it(this),{has:o,get:a}=fd(s);let l=o.call(s,i);l||(i=it(i),l=o.call(s,i)),a&&a.call(s,i);const u=s.delete(i);return l&&ts(s,"delete",i,void 0),u},clear(){const i=it(this),s=i.size!==0,o=i.clear();return s&&ts(i,"clear",void 0,void 0),o}}),["keys","values","entries",Symbol.iterator].forEach(i=>{n[i]=t4(i,e,t)}),n}function Sy(e,t){const n=n4(e,t);return(r,i,s)=>i==="__v_isReactive"?!e:i==="__v_isReadonly"?e:i==="__v_raw"?r:Reflect.get(dt(n,i)&&i in r?n:r,i,s)}const r4={get:Sy(!1,!1)},i4={get:Sy(!1,!0)},s4={get:Sy(!0,!1)};const Wk=new WeakMap,Gk=new WeakMap,Yk=new WeakMap,o4=new WeakMap;function a4(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function l4(e){return e.__v_skip||!Object.isExtensible(e)?0:a4(I6(e))}function El(e){return Yo(e)?e:Ay(e,!1,J6,r4,Wk)}function Kk(e){return Ay(e,!1,e4,i4,Gk)}function Xk(e){return Ay(e,!0,Z6,s4,Yk)}function Ay(e,t,n,r,i){if(!_t(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const s=i.get(e);if(s)return s;const o=l4(e);if(o===0)return e;const a=new Proxy(e,o===2?r:n);return i.set(e,a),a}function Fa(e){return Yo(e)?Fa(e.__v_raw):!!(e&&e.__v_isReactive)}function Yo(e){return!!(e&&e.__v_isReadonly)}function Rr(e){return!!(e&&e.__v_isShallow)}function Oy(e){return e?!!e.__v_raw:!1}function it(e){const t=e&&e.__v_raw;return t?it(t):e}function vl(e){return!dt(e,"__v_skip")&&Object.isExtensible(e)&&Ik(e,"__v_skip",!0),e}const Cn=e=>_t(e)?El(e):e,xb=e=>_t(e)?Xk(e):e;function Yt(e){return e?e.__v_isRef===!0:!1}function yt(e){return Qk(e,!1)}function ss(e){return Qk(e,!0)}function Qk(e,t){return Yt(e)?e:new u4(e,t)}class u4{constructor(t,n){this.dep=new Cy,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=n?t:it(t),this._value=n?t:Cn(t),this.__v_isShallow=n}get value(){return this.dep.track(),this._value}set value(t){const n=this._rawValue,r=this.__v_isShallow||Rr(t)||Yo(t);t=r?t:it(t),Js(t,n)&&(this._rawValue=t,this._value=r?t:Cn(t),this.dep.trigger())}}function c4(e){e.dep&&e.dep.trigger()}function _e(e){return Yt(e)?e.value:e}function Gd(e){return We(e)?e():_e(e)}const d4={get:(e,t,n)=>t==="__v_raw"?e:_e(Reflect.get(e,t,n)),set:(e,t,n,r)=>{const i=e[t];return Yt(i)&&!Yt(n)?(i.value=n,!0):Reflect.set(e,t,n,r)}};function Jk(e){return Fa(e)?e:new Proxy(e,d4)}function Zk(e){const t=Re(e)?new Array(e.length):{};for(const n in e)t[n]=p4(e,n);return t}class f4{constructor(t,n,r){this._object=t,this._key=n,this._defaultValue=r,this.__v_isRef=!0,this._value=void 0}get value(){const t=this._object[this._key];return this._value=t===void 0?this._defaultValue:t}set value(t){this._object[this._key]=t}get dep(){return W6(it(this._object),this._key)}}function p4(e,t,n){const r=e[t];return Yt(r)?r:new f4(e,t,n)}class h4{constructor(t,n,r){this.fn=t,this.setter=n,this._value=void 0,this.dep=new Cy(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Ju-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!n,this.isSSR=r}notify(){if(this.flags|=16,!(this.flags&8)&&xt!==this)return Bk(this,!0),!0}get value(){const t=this.dep.track();return Uk(this),t&&(t.version=this.dep.version),this._value}set value(t){this.setter&&this.setter(t)}}function m4(e,t,n=!1){let r,i;return We(e)?r=e:(r=e.get,i=e.set),new h4(r,i,n)}const hd={},_f=new WeakMap;let ko;function g4(e,t=!1,n=ko){if(n){let r=_f.get(n);r||_f.set(n,r=[]),r.push(e)}}function b4(e,t,n=gt){const{immediate:r,deep:i,once:s,scheduler:o,augmentJob:a,call:l}=n,u=w=>i?w:Rr(w)||i===!1||i===0?ns(w,1):ns(w);let c,d,f,p,m=!1,g=!1;if(Yt(e)?(d=()=>e.value,m=Rr(e)):Fa(e)?(d=()=>u(e),m=!0):Re(e)?(g=!0,m=e.some(w=>Fa(w)||Rr(w)),d=()=>e.map(w=>{if(Yt(w))return w.value;if(Fa(w))return u(w);if(We(w))return l?l(w,2):w()})):We(e)?t?d=l?()=>l(e,2):e:d=()=>{if(f){bo();try{f()}finally{yo()}}const w=ko;ko=c;try{return l?l(e,3,[p]):e(p)}finally{ko=w}}:d=Jr,t&&i){const w=d,R=i===!0?1/0:i;d=()=>ns(w(),R)}const b=j6(),y=()=>{c.stop(),b&&b.active&&_y(b.effects,c)};if(s&&t){const w=t;t=(...R)=>{w(...R),y()}}let E=g?new Array(e.length).fill(hd):hd;const v=w=>{if(!(!(c.flags&1)||!c.dirty&&!w))if(t){const R=c.run();if(i||m||(g?R.some((_,D)=>Js(_,E[D])):Js(R,E))){f&&f();const _=ko;ko=c;try{const D=[R,E===hd?void 0:g&&E[0]===hd?[]:E,p];l?l(t,3,D):t(...D),E=R}finally{ko=_}}}else c.run()};return a&&a(v),c=new Pk(d),c.scheduler=o?()=>o(v,!1):v,p=w=>g4(w,!1,c),f=c.onStop=()=>{const w=_f.get(c);if(w){if(l)l(w,4);else for(const R of w)R();_f.delete(c)}},t?r?v(!0):E=c.run():o?o(v.bind(null,!0),!0):c.run(),y.pause=c.pause.bind(c),y.resume=c.resume.bind(c),y.stop=y,y}function ns(e,t=1/0,n){if(t<=0||!_t(e)||e.__v_skip||(n=n||new Set,n.has(e)))return e;if(n.add(e),t--,Yt(e))ns(e.value,t,n);else if(Re(e))for(let r=0;r<e.length;r++)ns(e[r],t,n);else if(yl(e)||La(e))e.forEach(r=>{ns(r,t,n)});else if(kk(e)){for(const r in e)ns(e[r],t,n);for(const r of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,r)&&ns(e[r],t,n)}return e}/**
* @vue/runtime-core v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Dc(e,t,n,r){try{return r?e(...r):e()}catch(i){yp(i,t,n)}}function ti(e,t,n,r){if(We(e)){const i=Dc(e,t,n,r);return i&&Ak(i)&&i.catch(s=>{yp(s,t,n)}),i}if(Re(e)){const i=[];for(let s=0;s<e.length;s++)i.push(ti(e[s],t,n,r));return i}}function yp(e,t,n,r=!0){const i=t?t.vnode:null,{errorHandler:s,throwUnhandledErrorInProduction:o}=t&&t.appContext.config||gt;if(t){let a=t.parent;const l=t.proxy,u=`https://vuejs.org/error-reference/#runtime-${n}`;for(;a;){const c=a.ec;if(c){for(let d=0;d<c.length;d++)if(c[d](e,l,u)===!1)return}a=a.parent}if(s){bo(),Dc(s,null,10,[e,l,u]),yo();return}}y4(e,n,i,r,o)}function y4(e,t,n,r=!0,i=!1){if(i)throw e;console.error(e)}const $n=[];let wi=-1;const $a=[];let Ps=null,Oa=0;const eI=Promise.resolve();let Ef=null;function Mc(e){const t=Ef||eI;return e?t.then(this?e.bind(this):e):t}function _4(e){let t=wi+1,n=$n.length;for(;t<n;){const r=t+n>>>1,i=$n[r],s=ec(i);s<e||s===e&&i.flags&2?t=r+1:n=r}return t}function ky(e){if(!(e.flags&1)){const t=ec(e),n=$n[$n.length-1];!n||!(e.flags&2)&&t>=ec(n)?$n.push(e):$n.splice(_4(t),0,e),e.flags|=1,tI()}}function tI(){Ef||(Ef=eI.then(iI))}function nI(e){Re(e)?$a.push(...e):Ps&&e.id===-1?Ps.splice(Oa+1,0,e):e.flags&1||($a.push(e),e.flags|=1),tI()}function Tv(e,t,n=wi+1){for(;n<$n.length;n++){const r=$n[n];if(r&&r.flags&2){if(e&&r.id!==e.uid)continue;$n.splice(n,1),n--,r.flags&4&&(r.flags&=-2),r(),r.flags&4||(r.flags&=-2)}}}function rI(e){if($a.length){const t=[...new Set($a)].sort((n,r)=>ec(n)-ec(r));if($a.length=0,Ps){Ps.push(...t);return}for(Ps=t,Oa=0;Oa<Ps.length;Oa++){const n=Ps[Oa];n.flags&4&&(n.flags&=-2),n.flags&8||n(),n.flags&=-2}Ps=null,Oa=0}}const ec=e=>e.id==null?e.flags&2?-1:1/0:e.id;function iI(e){try{for(wi=0;wi<$n.length;wi++){const t=$n[wi];t&&!(t.flags&8)&&(t.flags&4&&(t.flags&=-2),Dc(t,t.i,t.i?15:14),t.flags&4||(t.flags&=-2))}}finally{for(;wi<$n.length;wi++){const t=$n[wi];t&&(t.flags&=-2)}wi=-1,$n.length=0,rI(),Ef=null,($n.length||$a.length)&&iI()}}let cn=null,sI=null;function vf(e){const t=cn;return cn=e,sI=e&&e.type.__scopeId||null,t}function V(e,t=cn,n){if(!t||e._n)return e;const r=(...i)=>{r._d&&Pv(-1);const s=vf(t);let o;try{o=e(...i)}finally{vf(s),r._d&&Pv(1)}return o};return r._n=!0,r._c=!0,r._d=!0,r}function Ct(e,t){if(cn===null)return e;const n=xp(cn),r=e.dirs||(e.dirs=[]);for(let i=0;i<t.length;i++){let[s,o,a,l=gt]=t[i];s&&(We(s)&&(s={mounted:s,updated:s}),s.deep&&ns(o),r.push({dir:s,instance:n,value:o,oldValue:void 0,arg:a,modifiers:l}))}return e}function To(e,t,n,r){const i=e.dirs,s=t&&t.dirs;for(let o=0;o<i.length;o++){const a=i[o];s&&(a.oldValue=s[o].value);let l=a.dir[r];l&&(bo(),ti(l,n,8,[e.el,a,e,t]),yo())}}const oI=Symbol("_vte"),aI=e=>e.__isTeleport,Cu=e=>e&&(e.disabled||e.disabled===""),wv=e=>e&&(e.defer||e.defer===""),xv=e=>typeof SVGElement<"u"&&e instanceof SVGElement,Cv=e=>typeof MathMLElement=="function"&&e instanceof MathMLElement,Cb=(e,t)=>{const n=e&&e.to;return It(n)?t?t(n):null:n},lI={name:"Teleport",__isTeleport:!0,process(e,t,n,r,i,s,o,a,l,u){const{mc:c,pc:d,pbc:f,o:{insert:p,querySelector:m,createText:g,createComment:b}}=u,y=Cu(t.props);let{shapeFlag:E,children:v,dynamicChildren:w}=t;if(e==null){const R=t.el=g(""),_=t.anchor=g("");p(R,n,r),p(_,n,r);const D=(P,q)=>{E&16&&(i&&i.isCE&&(i.ce._teleportTarget=P),c(v,P,q,i,s,o,a,l))},j=()=>{const P=t.target=Cb(t.props,m),q=uI(P,t,g,p);P&&(o!=="svg"&&xv(P)?o="svg":o!=="mathml"&&Cv(P)&&(o="mathml"),y||(D(P,q),Yd(t,!1)))};y&&(D(n,_),Yd(t,!0)),wv(t.props)?Xt(()=>{j(),t.el.__isMounted=!0},s):j()}else{if(wv(t.props)&&!e.el.__isMounted){Xt(()=>{lI.process(e,t,n,r,i,s,o,a,l,u),delete e.el.__isMounted},s);return}t.el=e.el,t.targetStart=e.targetStart;const R=t.anchor=e.anchor,_=t.target=e.target,D=t.targetAnchor=e.targetAnchor,j=Cu(e.props),P=j?n:_,q=j?R:D;if(o==="svg"||xv(_)?o="svg":(o==="mathml"||Cv(_))&&(o="mathml"),w?(f(e.dynamicChildren,w,P,i,s,o,a),Ly(e,t,!0)):l||d(e,t,P,q,i,s,o,a,!1),y)j?t.props&&e.props&&t.props.to!==e.props.to&&(t.props.to=e.props.to):md(t,n,R,u,1);else if((t.props&&t.props.to)!==(e.props&&e.props.to)){const B=t.target=Cb(t.props,m);B&&md(t,B,null,u,0)}else j&&md(t,_,D,u,1);Yd(t,y)}},remove(e,t,n,{um:r,o:{remove:i}},s){const{shapeFlag:o,children:a,anchor:l,targetStart:u,targetAnchor:c,target:d,props:f}=e;if(d&&(i(u),i(c)),s&&i(l),o&16){const p=s||!Cu(f);for(let m=0;m<a.length;m++){const g=a[m];r(g,t,n,p,!!g.dynamicChildren)}}},move:md,hydrate:E4};function md(e,t,n,{o:{insert:r},m:i},s=2){s===0&&r(e.targetAnchor,t,n);const{el:o,anchor:a,shapeFlag:l,children:u,props:c}=e,d=s===2;if(d&&r(o,t,n),(!d||Cu(c))&&l&16)for(let f=0;f<u.length;f++)i(u[f],t,n,2);d&&r(a,t,n)}function E4(e,t,n,r,i,s,{o:{nextSibling:o,parentNode:a,querySelector:l,insert:u,createText:c}},d){const f=t.target=Cb(t.props,l);if(f){const p=Cu(t.props),m=f._lpa||f.firstChild;if(t.shapeFlag&16)if(p)t.anchor=d(o(e),t,a(e),n,r,i,s),t.targetStart=m,t.targetAnchor=m&&o(m);else{t.anchor=o(e);let g=m;for(;g;){if(g&&g.nodeType===8){if(g.data==="teleport start anchor")t.targetStart=g;else if(g.data==="teleport anchor"){t.targetAnchor=g,f._lpa=t.targetAnchor&&o(t.targetAnchor);break}}g=o(g)}t.targetAnchor||uI(f,t,c,u),d(m&&o(m),t,f,n,r,i,s)}Yd(t,p)}return t.anchor&&o(t.anchor)}const Er=lI;function Yd(e,t){const n=e.ctx;if(n&&n.ut){let r,i;for(t?(r=e.el,i=e.anchor):(r=e.targetStart,i=e.targetAnchor);r&&r!==i;)r.nodeType===1&&r.setAttribute("data-v-owner",n.uid),r=r.nextSibling;n.ut()}}function uI(e,t,n,r){const i=t.targetStart=n(""),s=t.targetAnchor=n("");return i[oI]=s,e&&(r(i,e),r(s,e)),s}const Ls=Symbol("_leaveCb"),gd=Symbol("_enterCb");function cI(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return vr(()=>{e.isMounted=!0}),Tl(()=>{e.isUnmounting=!0}),e}const xr=[Function,Array],dI={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:xr,onEnter:xr,onAfterEnter:xr,onEnterCancelled:xr,onBeforeLeave:xr,onLeave:xr,onAfterLeave:xr,onLeaveCancelled:xr,onBeforeAppear:xr,onAppear:xr,onAfterAppear:xr,onAppearCancelled:xr},fI=e=>{const t=e.subTree;return t.component?fI(t.component):t},v4={name:"BaseTransition",props:dI,setup(e,{slots:t}){const n=xl(),r=cI();return()=>{const i=t.default&&Iy(t.default(),!0);if(!i||!i.length)return;const s=pI(i),o=it(e),{mode:a}=o;if(r.isLeaving)return Bh(s);const l=Sv(s);if(!l)return Bh(s);let u=tc(l,o,r,n,d=>u=d);l.type!==An&&so(l,u);let c=n.subTree&&Sv(n.subTree);if(c&&c.type!==An&&!zs(l,c)&&fI(n).type!==An){let d=tc(c,o,r,n);if(so(c,d),a==="out-in"&&l.type!==An)return r.isLeaving=!0,d.afterLeave=()=>{r.isLeaving=!1,n.job.flags&8||n.update(),delete d.afterLeave,c=void 0},Bh(s);a==="in-out"&&l.type!==An?d.delayLeave=(f,p,m)=>{const g=hI(r,c);g[String(c.key)]=c,f[Ls]=()=>{p(),f[Ls]=void 0,delete u.delayedLeave,c=void 0},u.delayedLeave=()=>{m(),delete u.delayedLeave,c=void 0}}:c=void 0}else c&&(c=void 0);return s}}};function pI(e){let t=e[0];if(e.length>1){for(const n of e)if(n.type!==An){t=n;break}}return t}const T4=v4;function hI(e,t){const{leavingVNodes:n}=e;let r=n.get(t.type);return r||(r=Object.create(null),n.set(t.type,r)),r}function tc(e,t,n,r,i){const{appear:s,mode:o,persisted:a=!1,onBeforeEnter:l,onEnter:u,onAfterEnter:c,onEnterCancelled:d,onBeforeLeave:f,onLeave:p,onAfterLeave:m,onLeaveCancelled:g,onBeforeAppear:b,onAppear:y,onAfterAppear:E,onAppearCancelled:v}=t,w=String(e.key),R=hI(n,e),_=(P,q)=>{P&&ti(P,r,9,q)},D=(P,q)=>{const B=q[1];_(P,q),Re(P)?P.every(H=>H.length<=1)&&B():P.length<=1&&B()},j={mode:o,persisted:a,beforeEnter(P){let q=l;if(!n.isMounted)if(s)q=b||l;else return;P[Ls]&&P[Ls](!0);const B=R[w];B&&zs(e,B)&&B.el[Ls]&&B.el[Ls](),_(q,[P])},enter(P){let q=u,B=c,H=d;if(!n.isMounted)if(s)q=y||u,B=E||c,H=v||d;else return;let ee=!1;const ye=P[gd]=pe=>{ee||(ee=!0,pe?_(H,[P]):_(B,[P]),j.delayedLeave&&j.delayedLeave(),P[gd]=void 0)};q?D(q,[P,ye]):ye()},leave(P,q){const B=String(e.key);if(P[gd]&&P[gd](!0),n.isUnmounting)return q();_(f,[P]);let H=!1;const ee=P[Ls]=ye=>{H||(H=!0,q(),ye?_(g,[P]):_(m,[P]),P[Ls]=void 0,R[B]===e&&delete R[B])};R[B]=e,p?D(p,[P,ee]):ee()},clone(P){const q=tc(P,t,n,r,i);return i&&i(q),q}};return j}function Bh(e){if(_p(e))return e=ps(e),e.children=null,e}function Sv(e){if(!_p(e))return aI(e.type)&&e.children?pI(e.children):e;const{shapeFlag:t,children:n}=e;if(n){if(t&16)return n[0];if(t&32&&We(n.default))return n.default()}}function so(e,t){e.shapeFlag&6&&e.component?(e.transition=t,so(e.component.subTree,t)):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function Iy(e,t=!1,n){let r=[],i=0;for(let s=0;s<e.length;s++){let o=e[s];const a=n==null?o.key:String(n)+String(o.key!=null?o.key:s);o.type===Xe?(o.patchFlag&128&&i++,r=r.concat(Iy(o.children,t,a))):(t||o.type!==An)&&r.push(a!=null?ps(o,{key:a}):o)}if(i>1)for(let s=0;s<r.length;s++)r[s].patchFlag=-2;return r}/*! #__NO_SIDE_EFFECTS__ */function ir(e,t){return We(e)?Zt({name:e.name},t,{setup:e}):e}function mI(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}function Tf(e,t,n,r,i=!1){if(Re(e)){e.forEach((m,g)=>Tf(m,t&&(Re(t)?t[g]:t),n,r,i));return}if($o(r)&&!i){r.shapeFlag&512&&r.type.__asyncResolved&&r.component.subTree.component&&Tf(e,t,n,r.component.subTree);return}const s=r.shapeFlag&4?xp(r.component):r.el,o=i?null:s,{i:a,r:l}=e,u=t&&t.r,c=a.refs===gt?a.refs={}:a.refs,d=a.setupState,f=it(d),p=d===gt?()=>!1:m=>dt(f,m);if(u!=null&&u!==l&&(It(u)?(c[u]=null,p(u)&&(d[u]=null)):Yt(u)&&(u.value=null)),We(l))Dc(l,a,12,[o,c]);else{const m=It(l),g=Yt(l);if(m||g){const b=()=>{if(e.f){const y=m?p(l)?d[l]:c[l]:l.value;i?Re(y)&&_y(y,s):Re(y)?y.includes(s)||y.push(s):m?(c[l]=[s],p(l)&&(d[l]=c[l])):(l.value=[s],e.k&&(c[e.k]=l.value))}else m?(c[l]=o,p(l)&&(d[l]=o)):g&&(l.value=o,e.k&&(c[e.k]=o))};o?(b.id=-1,Xt(b,n)):b()}}}gp().requestIdleCallback;gp().cancelIdleCallback;const $o=e=>!!e.type.__asyncLoader,_p=e=>e.type.__isKeepAlive,w4={name:"KeepAlive",__isKeepAlive:!0,props:{include:[String,RegExp,Array],exclude:[String,RegExp,Array],max:[String,Number]},setup(e,{slots:t}){const n=xl(),r=n.ctx;if(!r.renderer)return()=>{const E=t.default&&t.default();return E&&E.length===1?E[0]:E};const i=new Map,s=new Set;let o=null;const a=n.suspense,{renderer:{p:l,m:u,um:c,o:{createElement:d}}}=r,f=d("div");r.activate=(E,v,w,R,_)=>{const D=E.component;u(E,v,w,0,a),l(D.vnode,E,v,w,D,a,R,E.slotScopeIds,_),Xt(()=>{D.isDeactivated=!1,D.a&&Ba(D.a);const j=E.props&&E.props.onVnodeMounted;j&&Sr(j,D.parent,E)},a)},r.deactivate=E=>{const v=E.component;xf(v.m),xf(v.a),u(E,f,null,1,a),Xt(()=>{v.da&&Ba(v.da);const w=E.props&&E.props.onVnodeUnmounted;w&&Sr(w,v.parent,E),v.isDeactivated=!0},a)};function p(E){Fh(E),c(E,n,a,!0)}function m(E){i.forEach((v,w)=>{const R=Db(v.type);R&&!E(R)&&g(w)})}function g(E){const v=i.get(E);v&&(!o||!zs(v,o))?p(v):o&&Fh(o),i.delete(E),s.delete(E)}vn(()=>[e.include,e.exclude],([E,v])=>{E&&m(w=>fu(E,w)),v&&m(w=>!fu(v,w))},{flush:"post",deep:!0});let b=null;const y=()=>{b!=null&&(Cf(n.subTree.type)?Xt(()=>{i.set(b,bd(n.subTree))},n.subTree.suspense):i.set(b,bd(n.subTree)))};return vr(y),Ry(y),Tl(()=>{i.forEach(E=>{const{subTree:v,suspense:w}=n,R=bd(v);if(E.type===R.type&&E.key===R.key){Fh(R);const _=R.component.da;_&&Xt(_,w);return}p(E)})}),()=>{if(b=null,!t.default)return o=null;const E=t.default(),v=E[0];if(E.length>1)return o=null,E;if(!Qa(v)||!(v.shapeFlag&4)&&!(v.shapeFlag&128))return o=null,v;let w=bd(v);if(w.type===An)return o=null,w;const R=w.type,_=Db($o(w)?w.type.__asyncResolved||{}:R),{include:D,exclude:j,max:P}=e;if(D&&(!_||!fu(D,_))||j&&_&&fu(j,_))return w.shapeFlag&=-257,o=w,v;const q=w.key==null?R:w.key,B=i.get(q);return w.el&&(w=ps(w),v.shapeFlag&128&&(v.ssContent=w)),b=q,B?(w.el=B.el,w.component=B.component,w.transition&&so(w,w.transition),w.shapeFlag|=512,s.delete(q),s.add(q)):(s.add(q),P&&s.size>parseInt(P,10)&&g(s.values().next().value)),w.shapeFlag|=256,o=w,Cf(v.type)?v:w}}},x4=w4;function fu(e,t){return Re(e)?e.some(n=>fu(n,t)):It(e)?e.split(",").includes(t):k6(e)?(e.lastIndex=0,e.test(t)):!1}function C4(e,t){gI(e,"a",t)}function S4(e,t){gI(e,"da",t)}function gI(e,t,n=En){const r=e.__wdc||(e.__wdc=()=>{let i=n;for(;i;){if(i.isDeactivated)return;i=i.parent}return e()});if(Ep(t,r,n),n){let i=n.parent;for(;i&&i.parent;)_p(i.parent.vnode)&&A4(r,t,n,i),i=i.parent}}function A4(e,t,n,r){const i=Ep(t,e,r,!0);wl(()=>{_y(r[t],i)},n)}function Fh(e){e.shapeFlag&=-257,e.shapeFlag&=-513}function bd(e){return e.shapeFlag&128?e.ssContent:e}function Ep(e,t,n=En,r=!1){if(n){const i=n[e]||(n[e]=[]),s=t.__weh||(t.__weh=(...o)=>{bo();const a=Pc(n),l=ti(t,n,e,o);return a(),yo(),l});return r?i.unshift(s):i.push(s),s}}const ys=e=>(t,n=En)=>{(!rc||e==="sp")&&Ep(e,(...r)=>t(...r),n)},bI=ys("bm"),vr=ys("m"),Ny=ys("bu"),Ry=ys("u"),Tl=ys("bum"),wl=ys("um"),O4=ys("sp"),k4=ys("rtg"),I4=ys("rtc");function N4(e,t=En){Ep("ec",e,t)}const Dy="components",R4="directives";function Y(e,t){return My(Dy,e,!0,t)||e}const yI=Symbol.for("v-ndc");function oCe(e){return It(e)?My(Dy,e,!1)||e:e||yI}function _I(e){return My(R4,e)}function My(e,t,n=!0,r=!1){const i=cn||En;if(i){const s=i.type;if(e===Dy){const a=Db(s,!1);if(a&&(a===t||a===Fr(t)||a===mp(Fr(t))))return s}const o=Av(i[e]||s[e],t)||Av(i.appContext[e],t);return!o&&r?s:o}}function Av(e,t){return e&&(e[t]||e[Fr(t)]||e[mp(Fr(t))])}function $t(e,t,n,r){let i;const s=n,o=Re(e);if(o||It(e)){const a=o&&Fa(e);let l=!1;a&&(l=!Rr(e),e=bp(e)),i=new Array(e.length);for(let u=0,c=e.length;u<c;u++)i[u]=t(l?Cn(e[u]):e[u],u,void 0,s)}else if(typeof e=="number"){i=new Array(e);for(let a=0;a<e;a++)i[a]=t(a+1,a,void 0,s)}else if(_t(e))if(e[Symbol.iterator])i=Array.from(e,(a,l)=>t(a,l,void 0,s));else{const a=Object.keys(e);i=new Array(a.length);for(let l=0,u=a.length;l<u;l++){const c=a[l];i[l]=t(e[c],c,l,s)}}else i=[];return i}function D4(e,t){for(let n=0;n<t.length;n++){const r=t[n];if(Re(r))for(let i=0;i<r.length;i++)e[r[i].name]=r[i].fn;else r&&(e[r.name]=r.key?(...i)=>{const s=r.fn(...i);return s&&(s.key=r.key),s}:r.fn)}return e}function Ae(e,t,n={},r,i){if(cn.ce||cn.parent&&$o(cn.parent)&&cn.parent.ce)return t!=="default"&&(n.name=t),x(),fe(Xe,null,[z("slot",n,r&&r())],64);let s=e[t];s&&s._c&&(s._d=!1),x();const o=s&&EI(s(n)),a=n.key||o&&o.key,l=fe(Xe,{key:(a&&!ei(a)?a:`_${t}`)+(!o&&r?"_fb":"")},o||(r?r():[]),o&&e._===1?64:-2);return!i&&l.scopeId&&(l.slotScopeIds=[l.scopeId+"-s"]),s&&s._c&&(s._d=!0),l}function EI(e){return e.some(t=>Qa(t)?!(t.type===An||t.type===Xe&&!EI(t.children)):!0)?e:null}const Sb=e=>e?UI(e)?xp(e):Sb(e.parent):null,Su=Zt(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>Sb(e.parent),$root:e=>Sb(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>wI(e),$forceUpdate:e=>e.f||(e.f=()=>{ky(e.update)}),$nextTick:e=>e.n||(e.n=Mc.bind(e.proxy)),$watch:e=>tB.bind(e)}),$h=(e,t)=>e!==gt&&!e.__isScriptSetup&&dt(e,t),M4={get({_:e},t){if(t==="__v_skip")return!0;const{ctx:n,setupState:r,data:i,props:s,accessCache:o,type:a,appContext:l}=e;let u;if(t[0]!=="$"){const p=o[t];if(p!==void 0)switch(p){case 1:return r[t];case 2:return i[t];case 4:return n[t];case 3:return s[t]}else{if($h(r,t))return o[t]=1,r[t];if(i!==gt&&dt(i,t))return o[t]=2,i[t];if((u=e.propsOptions[0])&&dt(u,t))return o[t]=3,s[t];if(n!==gt&&dt(n,t))return o[t]=4,n[t];Ab&&(o[t]=0)}}const c=Su[t];let d,f;if(c)return t==="$attrs"&&xn(e.attrs,"get",""),c(e);if((d=a.__cssModules)&&(d=d[t]))return d;if(n!==gt&&dt(n,t))return o[t]=4,n[t];if(f=l.config.globalProperties,dt(f,t))return f[t]},set({_:e},t,n){const{data:r,setupState:i,ctx:s}=e;return $h(i,t)?(i[t]=n,!0):r!==gt&&dt(r,t)?(r[t]=n,!0):dt(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(s[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:r,appContext:i,propsOptions:s}},o){let a;return!!n[o]||e!==gt&&dt(e,o)||$h(t,o)||(a=s[0])&&dt(a,o)||dt(r,o)||dt(Su,o)||dt(i.config.globalProperties,o)},defineProperty(e,t,n){return n.get!=null?e._.accessCache[t]=0:dt(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};function P4(){return vI().slots}function aCe(){return vI().attrs}function vI(){const e=xl();return e.setupContext||(e.setupContext=zI(e))}function Ov(e){return Re(e)?e.reduce((t,n)=>(t[n]=null,t),{}):e}let Ab=!0;function L4(e){const t=wI(e),n=e.proxy,r=e.ctx;Ab=!1,t.beforeCreate&&kv(t.beforeCreate,e,"bc");const{data:i,computed:s,methods:o,watch:a,provide:l,inject:u,created:c,beforeMount:d,mounted:f,beforeUpdate:p,updated:m,activated:g,deactivated:b,beforeDestroy:y,beforeUnmount:E,destroyed:v,unmounted:w,render:R,renderTracked:_,renderTriggered:D,errorCaptured:j,serverPrefetch:P,expose:q,inheritAttrs:B,components:H,directives:ee,filters:ye}=t;if(u&&B4(u,r,null),o)for(const Ce in o){const Ee=o[Ce];We(Ee)&&(r[Ce]=Ee.bind(n))}if(i){const Ce=i.call(n,n);_t(Ce)&&(e.data=El(Ce))}if(Ab=!0,s)for(const Ce in s){const Ee=s[Ce],$e=We(Ee)?Ee.bind(n,n):We(Ee.get)?Ee.get.bind(n,n):Jr,O=!We(Ee)&&We(Ee.set)?Ee.set.bind(n):Jr,Me=bt({get:$e,set:O});Object.defineProperty(r,Ce,{enumerable:!0,configurable:!0,get:()=>Me.value,set:et=>Me.value=et})}if(a)for(const Ce in a)TI(a[Ce],r,n,Ce);if(l){const Ce=We(l)?l.call(n):l;Reflect.ownKeys(Ce).forEach(Ee=>{pr(Ee,Ce[Ee])})}c&&kv(c,e,"c");function xe(Ce,Ee){Re(Ee)?Ee.forEach($e=>Ce($e.bind(n))):Ee&&Ce(Ee.bind(n))}if(xe(bI,d),xe(vr,f),xe(Ny,p),xe(Ry,m),xe(C4,g),xe(S4,b),xe(N4,j),xe(I4,_),xe(k4,D),xe(Tl,E),xe(wl,w),xe(O4,P),Re(q))if(q.length){const Ce=e.exposed||(e.exposed={});q.forEach(Ee=>{Object.defineProperty(Ce,Ee,{get:()=>n[Ee],set:$e=>n[Ee]=$e})})}else e.exposed||(e.exposed={});R&&e.render===Jr&&(e.render=R),B!=null&&(e.inheritAttrs=B),H&&(e.components=H),ee&&(e.directives=ee),P&&mI(e)}function B4(e,t,n=Jr){Re(e)&&(e=Ob(e));for(const r in e){const i=e[r];let s;_t(i)?"default"in i?s=Un(i.from||r,i.default,!0):s=Un(i.from||r):s=Un(i),Yt(s)?Object.defineProperty(t,r,{enumerable:!0,configurable:!0,get:()=>s.value,set:o=>s.value=o}):t[r]=s}}function kv(e,t,n){ti(Re(e)?e.map(r=>r.bind(t.proxy)):e.bind(t.proxy),t,n)}function TI(e,t,n,r){let i=r.includes(".")?PI(n,r):()=>n[r];if(It(e)){const s=t[e];We(s)&&vn(i,s)}else if(We(e))vn(i,e.bind(n));else if(_t(e))if(Re(e))e.forEach(s=>TI(s,t,n,r));else{const s=We(e.handler)?e.handler.bind(n):t[e.handler];We(s)&&vn(i,s,e)}}function wI(e){const t=e.type,{mixins:n,extends:r}=t,{mixins:i,optionsCache:s,config:{optionMergeStrategies:o}}=e.appContext,a=s.get(t);let l;return a?l=a:!i.length&&!n&&!r?l=t:(l={},i.length&&i.forEach(u=>wf(l,u,o,!0)),wf(l,t,o)),_t(t)&&s.set(t,l),l}function wf(e,t,n,r=!1){const{mixins:i,extends:s}=t;s&&wf(e,s,n,!0),i&&i.forEach(o=>wf(e,o,n,!0));for(const o in t)if(!(r&&o==="expose")){const a=F4[o]||n&&n[o];e[o]=a?a(e[o],t[o]):t[o]}return e}const F4={data:Iv,props:Nv,emits:Nv,methods:pu,computed:pu,beforeCreate:Fn,created:Fn,beforeMount:Fn,mounted:Fn,beforeUpdate:Fn,updated:Fn,beforeDestroy:Fn,beforeUnmount:Fn,destroyed:Fn,unmounted:Fn,activated:Fn,deactivated:Fn,errorCaptured:Fn,serverPrefetch:Fn,components:pu,directives:pu,watch:U4,provide:Iv,inject:$4};function Iv(e,t){return t?e?function(){return Zt(We(e)?e.call(this,this):e,We(t)?t.call(this,this):t)}:t:e}function $4(e,t){return pu(Ob(e),Ob(t))}function Ob(e){if(Re(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function Fn(e,t){return e?[...new Set([].concat(e,t))]:t}function pu(e,t){return e?Zt(Object.create(null),e,t):t}function Nv(e,t){return e?Re(e)&&Re(t)?[...new Set([...e,...t])]:Zt(Object.create(null),Ov(e),Ov(t??{})):t}function U4(e,t){if(!e)return t;if(!t)return e;const n=Zt(Object.create(null),e);for(const r in t)n[r]=Fn(e[r],t[r]);return n}function xI(){return{app:null,config:{isNativeTag:A6,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let H4=0;function z4(e,t){return function(r,i=null){We(r)||(r=Zt({},r)),i!=null&&!_t(i)&&(i=null);const s=xI(),o=new WeakSet,a=[];let l=!1;const u=s.app={_uid:H4++,_component:r,_props:i,_container:null,_context:s,_instance:null,version:yB,get config(){return s.config},set config(c){},use(c,...d){return o.has(c)||(c&&We(c.install)?(o.add(c),c.install(u,...d)):We(c)&&(o.add(c),c(u,...d))),u},mixin(c){return s.mixins.includes(c)||s.mixins.push(c),u},component(c,d){return d?(s.components[c]=d,u):s.components[c]},directive(c,d){return d?(s.directives[c]=d,u):s.directives[c]},mount(c,d,f){if(!l){const p=u._ceVNode||z(r,i);return p.appContext=s,f===!0?f="svg":f===!1&&(f=void 0),e(p,c,f),l=!0,u._container=c,c.__vue_app__=u,xp(p.component)}},onUnmount(c){a.push(c)},unmount(){l&&(ti(a,u._instance,16),e(null,u._container),delete u._container.__vue_app__)},provide(c,d){return s.provides[c]=d,u},runWithContext(c){const d=Ua;Ua=u;try{return c()}finally{Ua=d}}};return u}}let Ua=null;function pr(e,t){if(En){let n=En.provides;const r=En.parent&&En.parent.provides;r===n&&(n=En.provides=Object.create(r)),n[e]=t}}function Un(e,t,n=!1){const r=En||cn;if(r||Ua){const i=Ua?Ua._context.provides:r?r.parent==null?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:void 0;if(i&&e in i)return i[e];if(arguments.length>1)return n&&We(t)?t.call(r&&r.proxy):t}}const CI={},SI=()=>Object.create(CI),AI=e=>Object.getPrototypeOf(e)===CI;function j4(e,t,n,r=!1){const i={},s=SI();e.propsDefaults=Object.create(null),OI(e,t,i,s);for(const o in e.propsOptions[0])o in i||(i[o]=void 0);n?e.props=r?i:Kk(i):e.type.props?e.props=i:e.props=s,e.attrs=s}function q4(e,t,n,r){const{props:i,attrs:s,vnode:{patchFlag:o}}=e,a=it(i),[l]=e.propsOptions;let u=!1;if((r||o>0)&&!(o&16)){if(o&8){const c=e.vnode.dynamicProps;for(let d=0;d<c.length;d++){let f=c[d];if(Tp(e.emitsOptions,f))continue;const p=t[f];if(l)if(dt(s,f))p!==s[f]&&(s[f]=p,u=!0);else{const m=Fr(f);i[m]=kb(l,a,m,p,e,!1)}else p!==s[f]&&(s[f]=p,u=!0)}}}else{OI(e,t,i,s)&&(u=!0);let c;for(const d in a)(!t||!dt(t,d)&&((c=go(d))===d||!dt(t,c)))&&(l?n&&(n[d]!==void 0||n[c]!==void 0)&&(i[d]=kb(l,a,d,void 0,e,!0)):delete i[d]);if(s!==a)for(const d in s)(!t||!dt(t,d))&&(delete s[d],u=!0)}u&&ts(e.attrs,"set","")}function OI(e,t,n,r){const[i,s]=e.propsOptions;let o=!1,a;if(t)for(let l in t){if(Tu(l))continue;const u=t[l];let c;i&&dt(i,c=Fr(l))?!s||!s.includes(c)?n[c]=u:(a||(a={}))[c]=u:Tp(e.emitsOptions,l)||(!(l in r)||u!==r[l])&&(r[l]=u,o=!0)}if(s){const l=it(n),u=a||gt;for(let c=0;c<s.length;c++){const d=s[c];n[d]=kb(i,l,d,u[d],e,!dt(u,d))}}return o}function kb(e,t,n,r,i,s){const o=e[n];if(o!=null){const a=dt(o,"default");if(a&&r===void 0){const l=o.default;if(o.type!==Function&&!o.skipFactory&&We(l)){const{propsDefaults:u}=i;if(n in u)r=u[n];else{const c=Pc(i);r=u[n]=l.call(null,t),c()}}else r=l;i.ce&&i.ce._setProp(n,r)}o[0]&&(s&&!a?r=!1:o[1]&&(r===""||r===go(n))&&(r=!0))}return r}const V4=new WeakMap;function kI(e,t,n=!1){const r=n?V4:t.propsCache,i=r.get(e);if(i)return i;const s=e.props,o={},a=[];let l=!1;if(!We(e)){const c=d=>{l=!0;const[f,p]=kI(d,t,!0);Zt(o,f),p&&a.push(...p)};!n&&t.mixins.length&&t.mixins.forEach(c),e.extends&&c(e.extends),e.mixins&&e.mixins.forEach(c)}if(!s&&!l)return _t(e)&&r.set(e,Pa),Pa;if(Re(s))for(let c=0;c<s.length;c++){const d=Fr(s[c]);Rv(d)&&(o[d]=gt)}else if(s)for(const c in s){const d=Fr(c);if(Rv(d)){const f=s[c],p=o[d]=Re(f)||We(f)?{type:f}:Zt({},f),m=p.type;let g=!1,b=!0;if(Re(m))for(let y=0;y<m.length;++y){const E=m[y],v=We(E)&&E.name;if(v==="Boolean"){g=!0;break}else v==="String"&&(b=!1)}else g=We(m)&&m.name==="Boolean";p[0]=g,p[1]=b,(g||dt(p,"default"))&&a.push(d)}}const u=[o,a];return _t(e)&&r.set(e,u),u}function Rv(e){return e[0]!=="$"&&!Tu(e)}const II=e=>e[0]==="_"||e==="$stable",Py=e=>Re(e)?e.map(Si):[Si(e)],W4=(e,t,n)=>{if(t._n)return t;const r=V((...i)=>Py(t(...i)),n);return r._c=!1,r},NI=(e,t,n)=>{const r=e._ctx;for(const i in e){if(II(i))continue;const s=e[i];if(We(s))t[i]=W4(i,s,r);else if(s!=null){const o=Py(s);t[i]=()=>o}}},RI=(e,t)=>{const n=Py(t);e.slots.default=()=>n},DI=(e,t,n)=>{for(const r in t)(n||r!=="_")&&(e[r]=t[r])},G4=(e,t,n)=>{const r=e.slots=SI();if(e.vnode.shapeFlag&32){const i=t._;i?(DI(r,t,n),n&&Ik(r,"_",i,!0)):NI(t,r)}else t&&RI(e,t)},Y4=(e,t,n)=>{const{vnode:r,slots:i}=e;let s=!0,o=gt;if(r.shapeFlag&32){const a=t._;a?n&&a===1?s=!1:DI(i,t,n):(s=!t.$stable,NI(t,i)),o=t}else t&&(RI(e,t),o={default:1});if(s)for(const a in i)!II(a)&&o[a]==null&&delete i[a]},Xt=lB;function K4(e){return X4(e)}function X4(e,t){const n=gp();n.__VUE__=!0;const{insert:r,remove:i,patchProp:s,createElement:o,createText:a,createComment:l,setText:u,setElementText:c,parentNode:d,nextSibling:f,setScopeId:p=Jr,insertStaticContent:m}=e,g=(A,N,F,Q=null,J=null,X=null,be=void 0,ue=null,he=!!N.dynamicChildren)=>{if(A===N)return;A&&!zs(A,N)&&(Q=K(A),et(A,J,X,!0),A=null),N.patchFlag===-2&&(he=!1,N.dynamicChildren=null);const{type:ie,ref:Le,shapeFlag:Te}=N;switch(ie){case wp:b(A,N,F,Q);break;case An:y(A,N,F,Q);break;case Au:A==null&&E(N,F,Q,be);break;case Xe:H(A,N,F,Q,J,X,be,ue,he);break;default:Te&1?R(A,N,F,Q,J,X,be,ue,he):Te&6?ee(A,N,F,Q,J,X,be,ue,he):(Te&64||Te&128)&&ie.process(A,N,F,Q,J,X,be,ue,he,Se)}Le!=null&&J&&Tf(Le,A&&A.ref,X,N||A,!N)},b=(A,N,F,Q)=>{if(A==null)r(N.el=a(N.children),F,Q);else{const J=N.el=A.el;N.children!==A.children&&u(J,N.children)}},y=(A,N,F,Q)=>{A==null?r(N.el=l(N.children||""),F,Q):N.el=A.el},E=(A,N,F,Q)=>{[A.el,A.anchor]=m(A.children,N,F,Q,A.el,A.anchor)},v=({el:A,anchor:N},F,Q)=>{let J;for(;A&&A!==N;)J=f(A),r(A,F,Q),A=J;r(N,F,Q)},w=({el:A,anchor:N})=>{let F;for(;A&&A!==N;)F=f(A),i(A),A=F;i(N)},R=(A,N,F,Q,J,X,be,ue,he)=>{N.type==="svg"?be="svg":N.type==="math"&&(be="mathml"),A==null?_(N,F,Q,J,X,be,ue,he):P(A,N,J,X,be,ue,he)},_=(A,N,F,Q,J,X,be,ue)=>{let he,ie;const{props:Le,shapeFlag:Te,transition:ke,dirs:Pe}=A;if(he=A.el=o(A.type,X,Le&&Le.is,Le),Te&8?c(he,A.children):Te&16&&j(A.children,he,null,Q,J,Uh(A,X),be,ue),Pe&&To(A,null,Q,"created"),D(he,A,A.scopeId,be,Q),Le){for(const te in Le)te!=="value"&&!Tu(te)&&s(he,te,null,Le[te],X,Q);"value"in Le&&s(he,"value",null,Le.value,X),(ie=Le.onVnodeBeforeMount)&&Sr(ie,Q,A)}Pe&&To(A,null,Q,"beforeMount");const U=Q4(J,ke);U&&ke.beforeEnter(he),r(he,N,F),((ie=Le&&Le.onVnodeMounted)||U||Pe)&&Xt(()=>{ie&&Sr(ie,Q,A),U&&ke.enter(he),Pe&&To(A,null,Q,"mounted")},J)},D=(A,N,F,Q,J)=>{if(F&&p(A,F),Q)for(let X=0;X<Q.length;X++)p(A,Q[X]);if(J){let X=J.subTree;if(N===X||Cf(X.type)&&(X.ssContent===N||X.ssFallback===N)){const be=J.vnode;D(A,be,be.scopeId,be.slotScopeIds,J.parent)}}},j=(A,N,F,Q,J,X,be,ue,he=0)=>{for(let ie=he;ie<A.length;ie++){const Le=A[ie]=ue?Bs(A[ie]):Si(A[ie]);g(null,Le,N,F,Q,J,X,be,ue)}},P=(A,N,F,Q,J,X,be)=>{const ue=N.el=A.el;let{patchFlag:he,dynamicChildren:ie,dirs:Le}=N;he|=A.patchFlag&16;const Te=A.props||gt,ke=N.props||gt;let Pe;if(F&&wo(F,!1),(Pe=ke.onVnodeBeforeUpdate)&&Sr(Pe,F,N,A),Le&&To(N,A,F,"beforeUpdate"),F&&wo(F,!0),(Te.innerHTML&&ke.innerHTML==null||Te.textContent&&ke.textContent==null)&&c(ue,""),ie?q(A.dynamicChildren,ie,ue,F,Q,Uh(N,J),X):be||Ee(A,N,ue,null,F,Q,Uh(N,J),X,!1),he>0){if(he&16)B(ue,Te,ke,F,J);else if(he&2&&Te.class!==ke.class&&s(ue,"class",null,ke.class,J),he&4&&s(ue,"style",Te.style,ke.style,J),he&8){const U=N.dynamicProps;for(let te=0;te<U.length;te++){const ve=U[te],Be=Te[ve],Ve=ke[ve];(Ve!==Be||ve==="value")&&s(ue,ve,Be,Ve,J,F)}}he&1&&A.children!==N.children&&c(ue,N.children)}else!be&&ie==null&&B(ue,Te,ke,F,J);((Pe=ke.onVnodeUpdated)||Le)&&Xt(()=>{Pe&&Sr(Pe,F,N,A),Le&&To(N,A,F,"updated")},Q)},q=(A,N,F,Q,J,X,be)=>{for(let ue=0;ue<N.length;ue++){const he=A[ue],ie=N[ue],Le=he.el&&(he.type===Xe||!zs(he,ie)||he.shapeFlag&70)?d(he.el):F;g(he,ie,Le,null,Q,J,X,be,!0)}},B=(A,N,F,Q,J)=>{if(N!==F){if(N!==gt)for(const X in N)!Tu(X)&&!(X in F)&&s(A,X,N[X],null,J,Q);for(const X in F){if(Tu(X))continue;const be=F[X],ue=N[X];be!==ue&&X!=="value"&&s(A,X,ue,be,J,Q)}"value"in F&&s(A,"value",N.value,F.value,J)}},H=(A,N,F,Q,J,X,be,ue,he)=>{const ie=N.el=A?A.el:a(""),Le=N.anchor=A?A.anchor:a("");let{patchFlag:Te,dynamicChildren:ke,slotScopeIds:Pe}=N;Pe&&(ue=ue?ue.concat(Pe):Pe),A==null?(r(ie,F,Q),r(Le,F,Q),j(N.children||[],F,Le,J,X,be,ue,he)):Te>0&&Te&64&&ke&&A.dynamicChildren?(q(A.dynamicChildren,ke,F,J,X,be,ue),(N.key!=null||J&&N===J.subTree)&&Ly(A,N,!0)):Ee(A,N,F,Le,J,X,be,ue,he)},ee=(A,N,F,Q,J,X,be,ue,he)=>{N.slotScopeIds=ue,A==null?N.shapeFlag&512?J.ctx.activate(N,F,Q,be,he):ye(N,F,Q,J,X,be,he):pe(A,N,he)},ye=(A,N,F,Q,J,X,be)=>{const ue=A.component=pB(A,Q,J);if(_p(A)&&(ue.ctx.renderer=Se),hB(ue,!1,be),ue.asyncDep){if(J&&J.registerDep(ue,xe,be),!A.el){const he=ue.subTree=z(An);y(null,he,N,F)}}else xe(ue,A,N,F,J,X,be)},pe=(A,N,F)=>{const Q=N.component=A.component;if(oB(A,N,F))if(Q.asyncDep&&!Q.asyncResolved){Ce(Q,N,F);return}else Q.next=N,Q.update();else N.el=A.el,Q.vnode=N},xe=(A,N,F,Q,J,X,be)=>{const ue=()=>{if(A.isMounted){let{next:Te,bu:ke,u:Pe,parent:U,vnode:te}=A;{const Lt=MI(A);if(Lt){Te&&(Te.el=te.el,Ce(A,Te,be)),Lt.asyncDep.then(()=>{A.isUnmounted||ue()});return}}let ve=Te,Be;wo(A,!1),Te?(Te.el=te.el,Ce(A,Te,be)):Te=te,ke&&Ba(ke),(Be=Te.props&&Te.props.onVnodeBeforeUpdate)&&Sr(Be,U,Te,te),wo(A,!0);const Ve=Dv(A),Ot=A.subTree;A.subTree=Ve,g(Ot,Ve,d(Ot.el),K(Ot),A,J,X),Te.el=Ve.el,ve===null&&aB(A,Ve.el),Pe&&Xt(Pe,J),(Be=Te.props&&Te.props.onVnodeUpdated)&&Xt(()=>Sr(Be,U,Te,te),J)}else{let Te;const{el:ke,props:Pe}=N,{bm:U,m:te,parent:ve,root:Be,type:Ve}=A,Ot=$o(N);wo(A,!1),U&&Ba(U),!Ot&&(Te=Pe&&Pe.onVnodeBeforeMount)&&Sr(Te,ve,N),wo(A,!0);{Be.ce&&Be.ce._injectChildStyle(Ve);const Lt=A.subTree=Dv(A);g(null,Lt,F,Q,A,J,X),N.el=Lt.el}if(te&&Xt(te,J),!Ot&&(Te=Pe&&Pe.onVnodeMounted)){const Lt=N;Xt(()=>Sr(Te,ve,Lt),J)}(N.shapeFlag&256||ve&&$o(ve.vnode)&&ve.vnode.shapeFlag&256)&&A.a&&Xt(A.a,J),A.isMounted=!0,N=F=Q=null}};A.scope.on();const he=A.effect=new Pk(ue);A.scope.off();const ie=A.update=he.run.bind(he),Le=A.job=he.runIfDirty.bind(he);Le.i=A,Le.id=A.uid,he.scheduler=()=>ky(Le),wo(A,!0),ie()},Ce=(A,N,F)=>{N.component=A;const Q=A.vnode.props;A.vnode=N,A.next=null,q4(A,N.props,Q,F),Y4(A,N.children,F),bo(),Tv(A),yo()},Ee=(A,N,F,Q,J,X,be,ue,he=!1)=>{const ie=A&&A.children,Le=A?A.shapeFlag:0,Te=N.children,{patchFlag:ke,shapeFlag:Pe}=N;if(ke>0){if(ke&128){O(ie,Te,F,Q,J,X,be,ue,he);return}else if(ke&256){$e(ie,Te,F,Q,J,X,be,ue,he);return}}Pe&8?(Le&16&&Ke(ie,J,X),Te!==ie&&c(F,Te)):Le&16?Pe&16?O(ie,Te,F,Q,J,X,be,ue,he):Ke(ie,J,X,!0):(Le&8&&c(F,""),Pe&16&&j(Te,F,Q,J,X,be,ue,he))},$e=(A,N,F,Q,J,X,be,ue,he)=>{A=A||Pa,N=N||Pa;const ie=A.length,Le=N.length,Te=Math.min(ie,Le);let ke;for(ke=0;ke<Te;ke++){const Pe=N[ke]=he?Bs(N[ke]):Si(N[ke]);g(A[ke],Pe,F,null,J,X,be,ue,he)}ie>Le?Ke(A,J,X,!0,!1,Te):j(N,F,Q,J,X,be,ue,he,Te)},O=(A,N,F,Q,J,X,be,ue,he)=>{let ie=0;const Le=N.length;let Te=A.length-1,ke=Le-1;for(;ie<=Te&&ie<=ke;){const Pe=A[ie],U=N[ie]=he?Bs(N[ie]):Si(N[ie]);if(zs(Pe,U))g(Pe,U,F,null,J,X,be,ue,he);else break;ie++}for(;ie<=Te&&ie<=ke;){const Pe=A[Te],U=N[ke]=he?Bs(N[ke]):Si(N[ke]);if(zs(Pe,U))g(Pe,U,F,null,J,X,be,ue,he);else break;Te--,ke--}if(ie>Te){if(ie<=ke){const Pe=ke+1,U=Pe<Le?N[Pe].el:Q;for(;ie<=ke;)g(null,N[ie]=he?Bs(N[ie]):Si(N[ie]),F,U,J,X,be,ue,he),ie++}}else if(ie>ke)for(;ie<=Te;)et(A[ie],J,X,!0),ie++;else{const Pe=ie,U=ie,te=new Map;for(ie=U;ie<=ke;ie++){const Et=N[ie]=he?Bs(N[ie]):Si(N[ie]);Et.key!=null&&te.set(Et.key,ie)}let ve,Be=0;const Ve=ke-U+1;let Ot=!1,Lt=0;const jt=new Array(Ve);for(ie=0;ie<Ve;ie++)jt[ie]=0;for(ie=Pe;ie<=Te;ie++){const Et=A[ie];if(Be>=Ve){et(Et,J,X,!0);continue}let pt;if(Et.key!=null)pt=te.get(Et.key);else for(ve=U;ve<=ke;ve++)if(jt[ve-U]===0&&zs(Et,N[ve])){pt=ve;break}pt===void 0?et(Et,J,X,!0):(jt[pt-U]=ie+1,pt>=Lt?Lt=pt:Ot=!0,g(Et,N[pt],F,null,J,X,be,ue,he),Be++)}const tn=Ot?J4(jt):Pa;for(ve=tn.length-1,ie=Ve-1;ie>=0;ie--){const Et=U+ie,pt=N[Et],ar=Et+1<Le?N[Et+1].el:Q;jt[ie]===0?g(null,pt,F,ar,J,X,be,ue,he):Ot&&(ve<0||ie!==tn[ve]?Me(pt,F,ar,2):ve--)}}},Me=(A,N,F,Q,J=null)=>{const{el:X,type:be,transition:ue,children:he,shapeFlag:ie}=A;if(ie&6){Me(A.component.subTree,N,F,Q);return}if(ie&128){A.suspense.move(N,F,Q);return}if(ie&64){be.move(A,N,F,Se);return}if(be===Xe){r(X,N,F);for(let Te=0;Te<he.length;Te++)Me(he[Te],N,F,Q);r(A.anchor,N,F);return}if(be===Au){v(A,N,F);return}if(Q!==2&&ie&1&&ue)if(Q===0)ue.beforeEnter(X),r(X,N,F),Xt(()=>ue.enter(X),J);else{const{leave:Te,delayLeave:ke,afterLeave:Pe}=ue,U=()=>r(X,N,F),te=()=>{Te(X,()=>{U(),Pe&&Pe()})};ke?ke(X,U,te):te()}else r(X,N,F)},et=(A,N,F,Q=!1,J=!1)=>{const{type:X,props:be,ref:ue,children:he,dynamicChildren:ie,shapeFlag:Le,patchFlag:Te,dirs:ke,cacheIndex:Pe}=A;if(Te===-2&&(J=!1),ue!=null&&Tf(ue,null,F,A,!0),Pe!=null&&(N.renderCache[Pe]=void 0),Le&256){N.ctx.deactivate(A);return}const U=Le&1&&ke,te=!$o(A);let ve;if(te&&(ve=be&&be.onVnodeBeforeUnmount)&&Sr(ve,N,A),Le&6)ze(A.component,F,Q);else{if(Le&128){A.suspense.unmount(F,Q);return}U&&To(A,null,N,"beforeUnmount"),Le&64?A.type.remove(A,N,F,Se,Q):ie&&!ie.hasOnce&&(X!==Xe||Te>0&&Te&64)?Ke(ie,N,F,!1,!0):(X===Xe&&Te&384||!J&&Le&16)&&Ke(he,N,F),Q&&I(A)}(te&&(ve=be&&be.onVnodeUnmounted)||U)&&Xt(()=>{ve&&Sr(ve,N,A),U&&To(A,null,N,"unmounted")},F)},I=A=>{const{type:N,el:F,anchor:Q,transition:J}=A;if(N===Xe){at(F,Q);return}if(N===Au){w(A);return}const X=()=>{i(F),J&&!J.persisted&&J.afterLeave&&J.afterLeave()};if(A.shapeFlag&1&&J&&!J.persisted){const{leave:be,delayLeave:ue}=J,he=()=>be(F,X);ue?ue(A.el,X,he):he()}else X()},at=(A,N)=>{let F;for(;A!==N;)F=f(A),i(A),A=F;i(N)},ze=(A,N,F)=>{const{bum:Q,scope:J,job:X,subTree:be,um:ue,m:he,a:ie}=A;xf(he),xf(ie),Q&&Ba(Q),J.stop(),X&&(X.flags|=8,et(be,A,N,F)),ue&&Xt(ue,N),Xt(()=>{A.isUnmounted=!0},N),N&&N.pendingBranch&&!N.isUnmounted&&A.asyncDep&&!A.asyncResolved&&A.suspenseId===N.pendingId&&(N.deps--,N.deps===0&&N.resolve())},Ke=(A,N,F,Q=!1,J=!1,X=0)=>{for(let be=X;be<A.length;be++)et(A[be],N,F,Q,J)},K=A=>{if(A.shapeFlag&6)return K(A.component.subTree);if(A.shapeFlag&128)return A.suspense.next();const N=f(A.anchor||A.el),F=N&&N[oI];return F?f(F):N};let me=!1;const de=(A,N,F)=>{A==null?N._vnode&&et(N._vnode,null,null,!0):g(N._vnode||null,A,N,null,null,null,F),N._vnode=A,me||(me=!0,Tv(),rI(),me=!1)},Se={p:g,um:et,m:Me,r:I,mt:ye,mc:j,pc:Ee,pbc:q,n:K,o:e};return{render:de,hydrate:void 0,createApp:z4(de)}}function Uh({type:e,props:t},n){return n==="svg"&&e==="foreignObject"||n==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:n}function wo({effect:e,job:t},n){n?(e.flags|=32,t.flags|=4):(e.flags&=-33,t.flags&=-5)}function Q4(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function Ly(e,t,n=!1){const r=e.children,i=t.children;if(Re(r)&&Re(i))for(let s=0;s<r.length;s++){const o=r[s];let a=i[s];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=i[s]=Bs(i[s]),a.el=o.el),!n&&a.patchFlag!==-2&&Ly(o,a)),a.type===wp&&(a.el=o.el)}}function J4(e){const t=e.slice(),n=[0];let r,i,s,o,a;const l=e.length;for(r=0;r<l;r++){const u=e[r];if(u!==0){if(i=n[n.length-1],e[i]<u){t[r]=i,n.push(r);continue}for(s=0,o=n.length-1;s<o;)a=s+o>>1,e[n[a]]<u?s=a+1:o=a;u<e[n[s]]&&(s>0&&(t[r]=n[s-1]),n[s]=r)}}for(s=n.length,o=n[s-1];s-- >0;)n[s]=o,o=t[o];return n}function MI(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:MI(t)}function xf(e){if(e)for(let t=0;t<e.length;t++)e[t].flags|=8}const Z4=Symbol.for("v-scx"),eB=()=>Un(Z4);function Ib(e,t){return vp(e,null,t)}function Nb(e,t){return vp(e,null,{flush:"post"})}function vn(e,t,n){return vp(e,t,n)}function vp(e,t,n=gt){const{immediate:r,deep:i,flush:s,once:o}=n,a=Zt({},n),l=t&&r||!t&&s!=="post";let u;if(rc){if(s==="sync"){const p=eB();u=p.__watcherHandles||(p.__watcherHandles=[])}else if(!l){const p=()=>{};return p.stop=Jr,p.resume=Jr,p.pause=Jr,p}}const c=En;a.call=(p,m,g)=>ti(p,c,m,g);let d=!1;s==="post"?a.scheduler=p=>{Xt(p,c&&c.suspense)}:s!=="sync"&&(d=!0,a.scheduler=(p,m)=>{m?p():ky(p)}),a.augmentJob=p=>{t&&(p.flags|=4),d&&(p.flags|=2,c&&(p.id=c.uid,p.i=c))};const f=b4(e,t,a);return rc&&(u?u.push(f):l&&f()),f}function tB(e,t,n){const r=this.proxy,i=It(e)?e.includes(".")?PI(r,e):()=>r[e]:e.bind(r,r);let s;We(t)?s=t:(s=t.handler,n=t);const o=Pc(this),a=vp(i,s.bind(r),n);return o(),a}function PI(e,t){const n=t.split(".");return()=>{let r=e;for(let i=0;i<n.length&&r;i++)r=r[n[i]];return r}}const nB=(e,t)=>t==="modelValue"||t==="model-value"?e.modelModifiers:e[`${t}Modifiers`]||e[`${Fr(t)}Modifiers`]||e[`${go(t)}Modifiers`];function rB(e,t,...n){if(e.isUnmounted)return;const r=e.vnode.props||gt;let i=n;const s=t.startsWith("update:"),o=s&&nB(r,t.slice(7));o&&(o.trim&&(i=n.map(c=>It(c)?c.trim():c)),o.number&&(i=n.map(bf)));let a,l=r[a=Rh(t)]||r[a=Rh(Fr(t))];!l&&s&&(l=r[a=Rh(go(t))]),l&&ti(l,e,6,i);const u=r[a+"Once"];if(u){if(!e.emitted)e.emitted={};else if(e.emitted[a])return;e.emitted[a]=!0,ti(u,e,6,i)}}function LI(e,t,n=!1){const r=t.emitsCache,i=r.get(e);if(i!==void 0)return i;const s=e.emits;let o={},a=!1;if(!We(e)){const l=u=>{const c=LI(u,t,!0);c&&(a=!0,Zt(o,c))};!n&&t.mixins.length&&t.mixins.forEach(l),e.extends&&l(e.extends),e.mixins&&e.mixins.forEach(l)}return!s&&!a?(_t(e)&&r.set(e,null),null):(Re(s)?s.forEach(l=>o[l]=null):Zt(o,s),_t(e)&&r.set(e,o),o)}function Tp(e,t){return!e||!pp(t)?!1:(t=t.slice(2).replace(/Once$/,""),dt(e,t[0].toLowerCase()+t.slice(1))||dt(e,go(t))||dt(e,t))}function Dv(e){const{type:t,vnode:n,proxy:r,withProxy:i,propsOptions:[s],slots:o,attrs:a,emit:l,render:u,renderCache:c,props:d,data:f,setupState:p,ctx:m,inheritAttrs:g}=e,b=vf(e);let y,E;try{if(n.shapeFlag&4){const w=i||r,R=w;y=Si(u.call(R,w,c,d,p,f,m)),E=a}else{const w=t;y=Si(w.length>1?w(d,{attrs:a,slots:o,emit:l}):w(d,null)),E=t.props?a:iB(a)}}catch(w){Ou.length=0,yp(w,e,1),y=z(An)}let v=y;if(E&&g!==!1){const w=Object.keys(E),{shapeFlag:R}=v;w.length&&R&7&&(s&&w.some(yy)&&(E=sB(E,s)),v=ps(v,E,!1,!0))}return n.dirs&&(v=ps(v,null,!1,!0),v.dirs=v.dirs?v.dirs.concat(n.dirs):n.dirs),n.transition&&so(v,n.transition),y=v,vf(b),y}const iB=e=>{let t;for(const n in e)(n==="class"||n==="style"||pp(n))&&((t||(t={}))[n]=e[n]);return t},sB=(e,t)=>{const n={};for(const r in e)(!yy(r)||!(r.slice(9)in t))&&(n[r]=e[r]);return n};function oB(e,t,n){const{props:r,children:i,component:s}=e,{props:o,children:a,patchFlag:l}=t,u=s.emitsOptions;if(t.dirs||t.transition)return!0;if(n&&l>=0){if(l&1024)return!0;if(l&16)return r?Mv(r,o,u):!!o;if(l&8){const c=t.dynamicProps;for(let d=0;d<c.length;d++){const f=c[d];if(o[f]!==r[f]&&!Tp(u,f))return!0}}}else return(i||a)&&(!a||!a.$stable)?!0:r===o?!1:r?o?Mv(r,o,u):!0:!!o;return!1}function Mv(e,t,n){const r=Object.keys(t);if(r.length!==Object.keys(e).length)return!0;for(let i=0;i<r.length;i++){const s=r[i];if(t[s]!==e[s]&&!Tp(n,s))return!0}return!1}function aB({vnode:e,parent:t},n){for(;t;){const r=t.subTree;if(r.suspense&&r.suspense.activeBranch===e&&(r.el=e.el),r===e)(e=t.vnode).el=n,t=t.parent;else break}}const Cf=e=>e.__isSuspense;function lB(e,t){t&&t.pendingBranch?Re(e)?t.effects.push(...e):t.effects.push(e):nI(e)}const Xe=Symbol.for("v-fgt"),wp=Symbol.for("v-txt"),An=Symbol.for("v-cmt"),Au=Symbol.for("v-stc"),Ou=[];let hr=null;function x(e=!1){Ou.push(hr=e?null:[])}function uB(){Ou.pop(),hr=Ou[Ou.length-1]||null}let nc=1;function Pv(e,t=!1){nc+=e,e<0&&hr&&t&&(hr.hasOnce=!0)}function BI(e){return e.dynamicChildren=nc>0?hr||Pa:null,uB(),nc>0&&hr&&hr.push(e),e}function L(e,t,n,r,i,s){return BI(S(e,t,n,r,i,s,!0))}function fe(e,t,n,r,i){return BI(z(e,t,n,r,i,!0))}function Qa(e){return e?e.__v_isVNode===!0:!1}function zs(e,t){return e.type===t.type&&e.key===t.key}const FI=({key:e})=>e??null,Kd=({ref:e,ref_key:t,ref_for:n})=>(typeof e=="number"&&(e=""+e),e!=null?It(e)||Yt(e)||We(e)?{i:cn,r:e,k:t,f:!!n}:e:null);function S(e,t=null,n=null,r=0,i=null,s=e===Xe?0:1,o=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&FI(t),ref:t&&Kd(t),scopeId:sI,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:s,patchFlag:r,dynamicProps:i,dynamicChildren:null,appContext:null,ctx:cn};return a?(By(l,n),s&128&&e.normalize(l)):n&&(l.shapeFlag|=It(n)?8:16),nc>0&&!o&&hr&&(l.patchFlag>0||s&6)&&l.patchFlag!==32&&hr.push(l),l}const z=cB;function cB(e,t=null,n=null,r=0,i=null,s=!1){if((!e||e===yI)&&(e=An),Qa(e)){const a=ps(e,t,!0);return n&&By(a,n),nc>0&&!s&&hr&&(a.shapeFlag&6?hr[hr.indexOf(e)]=a:hr.push(a)),a.patchFlag=-2,a}if(bB(e)&&(e=e.__vccOpts),t){t=$I(t);let{class:a,style:l}=t;a&&!It(a)&&(t.class=nt(a)),_t(l)&&(Oy(l)&&!Re(l)&&(l=Zt({},l)),t.style=ia(l))}const o=It(e)?1:Cf(e)?128:aI(e)?64:_t(e)?4:We(e)?2:0;return S(e,t,n,r,i,o,s,!0)}function $I(e){return e?Oy(e)||AI(e)?Zt({},e):e:null}function ps(e,t,n=!1,r=!1){const{props:i,ref:s,patchFlag:o,children:a,transition:l}=e,u=t?Ja(i||{},t):i,c={__v_isVNode:!0,__v_skip:!0,type:e.type,props:u,key:u&&FI(u),ref:t&&t.ref?n&&s?Re(s)?s.concat(Kd(t)):[s,Kd(t)]:Kd(t):s,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:a,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==Xe?o===-1?16:o|16:o,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:l,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&ps(e.ssContent),ssFallback:e.ssFallback&&ps(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return l&&r&&so(c,l.clone(c)),c}function we(e=" ",t=0){return z(wp,null,e,t)}function lCe(e,t){const n=z(Au,null,e);return n.staticCount=t,n}function Oe(e="",t=!1){return t?(x(),fe(An,null,e)):z(An,null,e)}function Si(e){return e==null||typeof e=="boolean"?z(An):Re(e)?z(Xe,null,e.slice()):Qa(e)?Bs(e):z(wp,null,String(e))}function Bs(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:ps(e)}function By(e,t){let n=0;const{shapeFlag:r}=e;if(t==null)t=null;else if(Re(t))n=16;else if(typeof t=="object")if(r&65){const i=t.default;i&&(i._c&&(i._d=!1),By(e,i()),i._c&&(i._d=!0));return}else{n=32;const i=t._;!i&&!AI(t)?t._ctx=cn:i===3&&cn&&(cn.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else We(t)?(t={default:t,_ctx:cn},n=32):(t=String(t),r&64?(n=16,t=[we(t)]):n=8);e.children=t,e.shapeFlag|=n}function Ja(...e){const t={};for(let n=0;n<e.length;n++){const r=e[n];for(const i in r)if(i==="class")t.class!==r.class&&(t.class=nt([t.class,r.class]));else if(i==="style")t.style=ia([t.style,r.style]);else if(pp(i)){const s=t[i],o=r[i];o&&s!==o&&!(Re(s)&&s.includes(o))&&(t[i]=s?[].concat(s,o):o)}else i!==""&&(t[i]=r[i])}return t}function Sr(e,t,n,r=null){ti(e,t,7,[n,r])}const dB=xI();let fB=0;function pB(e,t,n){const r=e.type,i=(t?t.appContext:e.appContext)||dB,s={uid:fB++,vnode:e,type:r,parent:t,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new Mk(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(i.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:kI(r,i),emitsOptions:LI(r,i),emit:null,emitted:null,propsDefaults:gt,inheritAttrs:r.inheritAttrs,ctx:gt,data:gt,props:gt,attrs:gt,slots:gt,refs:gt,setupState:gt,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return s.ctx={_:s},s.root=t?t.root:s,s.emit=rB.bind(null,s),e.ce&&e.ce(s),s}let En=null;const xl=()=>En||cn;let Sf,Rb;{const e=gp(),t=(n,r)=>{let i;return(i=e[n])||(i=e[n]=[]),i.push(r),s=>{i.length>1?i.forEach(o=>o(s)):i[0](s)}};Sf=t("__VUE_INSTANCE_SETTERS__",n=>En=n),Rb=t("__VUE_SSR_SETTERS__",n=>rc=n)}const Pc=e=>{const t=En;return Sf(e),e.scope.on(),()=>{e.scope.off(),Sf(t)}},Lv=()=>{En&&En.scope.off(),Sf(null)};function UI(e){return e.vnode.shapeFlag&4}let rc=!1;function hB(e,t=!1,n=!1){t&&Rb(t);const{props:r,children:i}=e.vnode,s=UI(e);j4(e,r,s,t),G4(e,i,n);const o=s?mB(e,t):void 0;return t&&Rb(!1),o}function mB(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,M4);const{setup:r}=n;if(r){bo();const i=e.setupContext=r.length>1?zI(e):null,s=Pc(e),o=Dc(r,e,0,[e.props,i]),a=Ak(o);if(yo(),s(),(a||e.sp)&&!$o(e)&&mI(e),a){if(o.then(Lv,Lv),t)return o.then(l=>{Bv(e,l)}).catch(l=>{yp(l,e,0)});e.asyncDep=o}else Bv(e,o)}else HI(e)}function Bv(e,t,n){We(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:_t(t)&&(e.setupState=Jk(t)),HI(e)}function HI(e,t,n){const r=e.type;e.render||(e.render=r.render||Jr);{const i=Pc(e);bo();try{L4(e)}finally{yo(),i()}}}const gB={get(e,t){return xn(e,"get",""),e[t]}};function zI(e){const t=n=>{e.exposed=n||{}};return{attrs:new Proxy(e.attrs,gB),slots:e.slots,emit:e.emit,expose:t}}function xp(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(Jk(vl(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in Su)return Su[n](e)},has(t,n){return n in t||n in Su}})):e.proxy}function Db(e,t=!0){return We(e)?e.displayName||e.name:e.name||t&&e.__name}function bB(e){return We(e)&&"__vccOpts"in e}const bt=(e,t)=>m4(e,t,rc);function Qt(e,t,n){const r=arguments.length;return r===2?_t(t)&&!Re(t)?Qa(t)?z(e,null,[t]):z(e,t):z(e,null,t):(r>3?n=Array.prototype.slice.call(arguments,2):r===3&&Qa(n)&&(n=[n]),z(e,t,n))}const yB="3.5.13";/**
* @vue/runtime-dom v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Mb;const Fv=typeof window<"u"&&window.trustedTypes;if(Fv)try{Mb=Fv.createPolicy("vue",{createHTML:e=>e})}catch{}const jI=Mb?e=>Mb.createHTML(e):e=>e,_B="http://www.w3.org/2000/svg",EB="http://www.w3.org/1998/Math/MathML",Ji=typeof document<"u"?document:null,$v=Ji&&Ji.createElement("template"),vB={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,r)=>{const i=t==="svg"?Ji.createElementNS(_B,e):t==="mathml"?Ji.createElementNS(EB,e):n?Ji.createElement(e,{is:n}):Ji.createElement(e);return e==="select"&&r&&r.multiple!=null&&i.setAttribute("multiple",r.multiple),i},createText:e=>Ji.createTextNode(e),createComment:e=>Ji.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>Ji.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,r,i,s){const o=n?n.previousSibling:t.lastChild;if(i&&(i===s||i.nextSibling))for(;t.insertBefore(i.cloneNode(!0),n),!(i===s||!(i=i.nextSibling)););else{$v.innerHTML=jI(r==="svg"?`<svg>${e}</svg>`:r==="mathml"?`<math>${e}</math>`:e);const a=$v.content;if(r==="svg"||r==="mathml"){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}t.insertBefore(a,n)}return[o?o.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}},Ss="transition",Ul="animation",Za=Symbol("_vtc"),qI={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},VI=Zt({},dI,qI),TB=e=>(e.displayName="Transition",e.props=VI,e),sa=TB((e,{slots:t})=>Qt(T4,WI(e),t)),xo=(e,t=[])=>{Re(e)?e.forEach(n=>n(...t)):e&&e(...t)},Uv=e=>e?Re(e)?e.some(t=>t.length>1):e.length>1:!1;function WI(e){const t={};for(const H in e)H in qI||(t[H]=e[H]);if(e.css===!1)return t;const{name:n="v",type:r,duration:i,enterFromClass:s=`${n}-enter-from`,enterActiveClass:o=`${n}-enter-active`,enterToClass:a=`${n}-enter-to`,appearFromClass:l=s,appearActiveClass:u=o,appearToClass:c=a,leaveFromClass:d=`${n}-leave-from`,leaveActiveClass:f=`${n}-leave-active`,leaveToClass:p=`${n}-leave-to`}=e,m=wB(i),g=m&&m[0],b=m&&m[1],{onBeforeEnter:y,onEnter:E,onEnterCancelled:v,onLeave:w,onLeaveCancelled:R,onBeforeAppear:_=y,onAppear:D=E,onAppearCancelled:j=v}=t,P=(H,ee,ye,pe)=>{H._enterCancelled=pe,Is(H,ee?c:a),Is(H,ee?u:o),ye&&ye()},q=(H,ee)=>{H._isLeaving=!1,Is(H,d),Is(H,p),Is(H,f),ee&&ee()},B=H=>(ee,ye)=>{const pe=H?D:E,xe=()=>P(ee,H,ye);xo(pe,[ee,xe]),Hv(()=>{Is(ee,H?l:s),Ti(ee,H?c:a),Uv(pe)||zv(ee,r,g,xe)})};return Zt(t,{onBeforeEnter(H){xo(y,[H]),Ti(H,s),Ti(H,o)},onBeforeAppear(H){xo(_,[H]),Ti(H,l),Ti(H,u)},onEnter:B(!1),onAppear:B(!0),onLeave(H,ee){H._isLeaving=!0;const ye=()=>q(H,ee);Ti(H,d),H._enterCancelled?(Ti(H,f),Pb()):(Pb(),Ti(H,f)),Hv(()=>{H._isLeaving&&(Is(H,d),Ti(H,p),Uv(w)||zv(H,r,b,ye))}),xo(w,[H,ye])},onEnterCancelled(H){P(H,!1,void 0,!0),xo(v,[H])},onAppearCancelled(H){P(H,!0,void 0,!0),xo(j,[H])},onLeaveCancelled(H){q(H),xo(R,[H])}})}function wB(e){if(e==null)return null;if(_t(e))return[Hh(e.enter),Hh(e.leave)];{const t=Hh(e);return[t,t]}}function Hh(e){return D6(e)}function Ti(e,t){t.split(/\s+/).forEach(n=>n&&e.classList.add(n)),(e[Za]||(e[Za]=new Set)).add(t)}function Is(e,t){t.split(/\s+/).forEach(r=>r&&e.classList.remove(r));const n=e[Za];n&&(n.delete(t),n.size||(e[Za]=void 0))}function Hv(e){requestAnimationFrame(()=>{requestAnimationFrame(e)})}let xB=0;function zv(e,t,n,r){const i=e._endId=++xB,s=()=>{i===e._endId&&r()};if(n!=null)return setTimeout(s,n);const{type:o,timeout:a,propCount:l}=GI(e,t);if(!o)return r();const u=o+"end";let c=0;const d=()=>{e.removeEventListener(u,f),s()},f=p=>{p.target===e&&++c>=l&&d()};setTimeout(()=>{c<l&&d()},a+1),e.addEventListener(u,f)}function GI(e,t){const n=window.getComputedStyle(e),r=m=>(n[m]||"").split(", "),i=r(`${Ss}Delay`),s=r(`${Ss}Duration`),o=jv(i,s),a=r(`${Ul}Delay`),l=r(`${Ul}Duration`),u=jv(a,l);let c=null,d=0,f=0;t===Ss?o>0&&(c=Ss,d=o,f=s.length):t===Ul?u>0&&(c=Ul,d=u,f=l.length):(d=Math.max(o,u),c=d>0?o>u?Ss:Ul:null,f=c?c===Ss?s.length:l.length:0);const p=c===Ss&&/\b(transform|all)(,|$)/.test(r(`${Ss}Property`).toString());return{type:c,timeout:d,propCount:f,hasTransform:p}}function jv(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max(...t.map((n,r)=>qv(n)+qv(e[r])))}function qv(e){return e==="auto"?0:Number(e.slice(0,-1).replace(",","."))*1e3}function Pb(){return document.body.offsetHeight}function CB(e,t,n){const r=e[Za];r&&(t=(t?[t,...r]:[...r]).join(" ")),t==null?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}const Af=Symbol("_vod"),YI=Symbol("_vsh"),yr={beforeMount(e,{value:t},{transition:n}){e[Af]=e.style.display==="none"?"":e.style.display,n&&t?n.beforeEnter(e):Hl(e,t)},mounted(e,{value:t},{transition:n}){n&&t&&n.enter(e)},updated(e,{value:t,oldValue:n},{transition:r}){!t!=!n&&(r?t?(r.beforeEnter(e),Hl(e,!0),r.enter(e)):r.leave(e,()=>{Hl(e,!1)}):Hl(e,t))},beforeUnmount(e,{value:t}){Hl(e,t)}};function Hl(e,t){e.style.display=t?e[Af]:"none",e[YI]=!t}const KI=Symbol("");function SB(e){const t=xl();if(!t)return;const n=t.ut=(i=e(t.proxy))=>{Array.from(document.querySelectorAll(`[data-v-owner="${t.uid}"]`)).forEach(s=>Of(s,i))},r=()=>{const i=e(t.proxy);t.ce?Of(t.ce,i):Lb(t.subTree,i),n(i)};Ny(()=>{nI(r)}),vr(()=>{vn(r,Jr,{flush:"post"});const i=new MutationObserver(r);i.observe(t.subTree.el.parentNode,{childList:!0}),wl(()=>i.disconnect())})}function Lb(e,t){if(e.shapeFlag&128){const n=e.suspense;e=n.activeBranch,n.pendingBranch&&!n.isHydrating&&n.effects.push(()=>{Lb(n.activeBranch,t)})}for(;e.component;)e=e.component.subTree;if(e.shapeFlag&1&&e.el)Of(e.el,t);else if(e.type===Xe)e.children.forEach(n=>Lb(n,t));else if(e.type===Au){let{el:n,anchor:r}=e;for(;n&&(Of(n,t),n!==r);)n=n.nextSibling}}function Of(e,t){if(e.nodeType===1){const n=e.style;let r="";for(const i in t)n.setProperty(`--${i}`,t[i]),r+=`--${i}: ${t[i]};`;n[KI]=r}}const AB=/(^|;)\s*display\s*:/;function OB(e,t,n){const r=e.style,i=It(n);let s=!1;if(n&&!i){if(t)if(It(t))for(const o of t.split(";")){const a=o.slice(0,o.indexOf(":")).trim();n[a]==null&&Xd(r,a,"")}else for(const o in t)n[o]==null&&Xd(r,o,"");for(const o in n)o==="display"&&(s=!0),Xd(r,o,n[o])}else if(i){if(t!==n){const o=r[KI];o&&(n+=";"+o),r.cssText=n,s=AB.test(n)}}else t&&e.removeAttribute("style");Af in e&&(e[Af]=s?r.display:"",e[YI]&&(r.display="none"))}const Vv=/\s*!important$/;function Xd(e,t,n){if(Re(n))n.forEach(r=>Xd(e,t,r));else if(n==null&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const r=kB(e,t);Vv.test(n)?e.setProperty(go(r),n.replace(Vv,""),"important"):e[r]=n}}const Wv=["Webkit","Moz","ms"],zh={};function kB(e,t){const n=zh[t];if(n)return n;let r=Fr(t);if(r!=="filter"&&r in e)return zh[t]=r;r=mp(r);for(let i=0;i<Wv.length;i++){const s=Wv[i]+r;if(s in e)return zh[t]=s}return t}const Gv="http://www.w3.org/1999/xlink";function Yv(e,t,n,r,i,s=U6(t)){r&&t.startsWith("xlink:")?n==null?e.removeAttributeNS(Gv,t.slice(6,t.length)):e.setAttributeNS(Gv,t,n):n==null||s&&!Nk(n)?e.removeAttribute(t):e.setAttribute(t,s?"":ei(n)?String(n):n)}function Kv(e,t,n,r,i){if(t==="innerHTML"||t==="textContent"){n!=null&&(e[t]=t==="innerHTML"?jI(n):n);return}const s=e.tagName;if(t==="value"&&s!=="PROGRESS"&&!s.includes("-")){const a=s==="OPTION"?e.getAttribute("value")||"":e.value,l=n==null?e.type==="checkbox"?"on":"":String(n);(a!==l||!("_value"in e))&&(e.value=l),n==null&&e.removeAttribute(t),e._value=n;return}let o=!1;if(n===""||n==null){const a=typeof e[t];a==="boolean"?n=Nk(n):n==null&&a==="string"?(n="",o=!0):a==="number"&&(n=0,o=!0)}try{e[t]=n}catch{}o&&e.removeAttribute(i||t)}function rs(e,t,n,r){e.addEventListener(t,n,r)}function IB(e,t,n,r){e.removeEventListener(t,n,r)}const Xv=Symbol("_vei");function NB(e,t,n,r,i=null){const s=e[Xv]||(e[Xv]={}),o=s[t];if(r&&o)o.value=r;else{const[a,l]=RB(t);if(r){const u=s[t]=PB(r,i);rs(e,a,u,l)}else o&&(IB(e,a,o,l),s[t]=void 0)}}const Qv=/(?:Once|Passive|Capture)$/;function RB(e){let t;if(Qv.test(e)){t={};let r;for(;r=e.match(Qv);)e=e.slice(0,e.length-r[0].length),t[r[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):go(e.slice(2)),t]}let jh=0;const DB=Promise.resolve(),MB=()=>jh||(DB.then(()=>jh=0),jh=Date.now());function PB(e,t){const n=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=n.attached)return;ti(LB(r,n.value),t,5,[r])};return n.value=e,n.attached=MB(),n}function LB(e,t){if(Re(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(r=>i=>!i._stopped&&r&&r(i))}else return t}const Jv=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,BB=(e,t,n,r,i,s)=>{const o=i==="svg";t==="class"?CB(e,r,o):t==="style"?OB(e,n,r):pp(t)?yy(t)||NB(e,t,n,r,s):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):FB(e,t,r,o))?(Kv(e,t,r),!e.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&Yv(e,t,r,o,s,t!=="value")):e._isVueCE&&(/[A-Z]/.test(t)||!It(r))?Kv(e,Fr(t),r,s,t):(t==="true-value"?e._trueValue=r:t==="false-value"&&(e._falseValue=r),Yv(e,t,r,o))};function FB(e,t,n,r){if(r)return!!(t==="innerHTML"||t==="textContent"||t in e&&Jv(t)&&We(n));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const i=e.tagName;if(i==="IMG"||i==="VIDEO"||i==="CANVAS"||i==="SOURCE")return!1}return Jv(t)&&It(n)?!1:t in e}const XI=new WeakMap,QI=new WeakMap,kf=Symbol("_moveCb"),Zv=Symbol("_enterCb"),$B=e=>(delete e.props.mode,e),UB=$B({name:"TransitionGroup",props:Zt({},VI,{tag:String,moveClass:String}),setup(e,{slots:t}){const n=xl(),r=cI();let i,s;return Ry(()=>{if(!i.length)return;const o=e.moveClass||`${e.name||"v"}-move`;if(!qB(i[0].el,n.vnode.el,o))return;i.forEach(HB),i.forEach(zB);const a=i.filter(jB);Pb(),a.forEach(l=>{const u=l.el,c=u.style;Ti(u,o),c.transform=c.webkitTransform=c.transitionDuration="";const d=u[kf]=f=>{f&&f.target!==u||(!f||/transform$/.test(f.propertyName))&&(u.removeEventListener("transitionend",d),u[kf]=null,Is(u,o))};u.addEventListener("transitionend",d)})}),()=>{const o=it(e),a=WI(o);let l=o.tag||Xe;if(i=[],s)for(let u=0;u<s.length;u++){const c=s[u];c.el&&c.el instanceof Element&&(i.push(c),so(c,tc(c,a,r,n)),XI.set(c,c.el.getBoundingClientRect()))}s=t.default?Iy(t.default()):[];for(let u=0;u<s.length;u++){const c=s[u];c.key!=null&&so(c,tc(c,a,r,n))}return z(l,null,s)}}}),JI=UB;function HB(e){const t=e.el;t[kf]&&t[kf](),t[Zv]&&t[Zv]()}function zB(e){QI.set(e,e.el.getBoundingClientRect())}function jB(e){const t=XI.get(e),n=QI.get(e),r=t.left-n.left,i=t.top-n.top;if(r||i){const s=e.el.style;return s.transform=s.webkitTransform=`translate(${r}px,${i}px)`,s.transitionDuration="0s",e}}function qB(e,t,n){const r=e.cloneNode(),i=e[Za];i&&i.forEach(a=>{a.split(/\s+/).forEach(l=>l&&r.classList.remove(l))}),n.split(/\s+/).forEach(a=>a&&r.classList.add(a)),r.style.display="none";const s=t.nodeType===1?t:t.parentNode;s.appendChild(r);const{hasTransform:o}=GI(r);return s.removeChild(r),o}const oo=e=>{const t=e.props["onUpdate:modelValue"]||!1;return Re(t)?n=>Ba(t,n):t};function VB(e){e.target.composing=!0}function eT(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const Dr=Symbol("_assign"),js={created(e,{modifiers:{lazy:t,trim:n,number:r}},i){e[Dr]=oo(i);const s=r||i.props&&i.props.type==="number";rs(e,t?"change":"input",o=>{if(o.target.composing)return;let a=e.value;n&&(a=a.trim()),s&&(a=bf(a)),e[Dr](a)}),n&&rs(e,"change",()=>{e.value=e.value.trim()}),t||(rs(e,"compositionstart",VB),rs(e,"compositionend",eT),rs(e,"change",eT))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,oldValue:n,modifiers:{lazy:r,trim:i,number:s}},o){if(e[Dr]=oo(o),e.composing)return;const a=(s||e.type==="number")&&!/^0\d/.test(e.value)?bf(e.value):e.value,l=t??"";a!==l&&(document.activeElement===e&&e.type!=="range"&&(r&&t===n||i&&e.value.trim()===l)||(e.value=l))}},WB={deep:!0,created(e,t,n){e[Dr]=oo(n),rs(e,"change",()=>{const r=e._modelValue,i=el(e),s=e.checked,o=e[Dr];if(Re(r)){const a=vy(r,i),l=a!==-1;if(s&&!l)o(r.concat(i));else if(!s&&l){const u=[...r];u.splice(a,1),o(u)}}else if(yl(r)){const a=new Set(r);s?a.add(i):a.delete(i),o(a)}else o(ZI(e,s))})},mounted:tT,beforeUpdate(e,t,n){e[Dr]=oo(n),tT(e,t,n)}};function tT(e,{value:t,oldValue:n},r){e._modelValue=t;let i;if(Re(t))i=vy(t,r.props.value)>-1;else if(yl(t))i=t.has(r.props.value);else{if(t===n)return;i=Go(t,ZI(e,!0))}e.checked!==i&&(e.checked=i)}const GB={created(e,{value:t},n){e.checked=Go(t,n.props.value),e[Dr]=oo(n),rs(e,"change",()=>{e[Dr](el(e))})},beforeUpdate(e,{value:t,oldValue:n},r){e[Dr]=oo(r),t!==n&&(e.checked=Go(t,r.props.value))}},If={deep:!0,created(e,{value:t,modifiers:{number:n}},r){const i=yl(t);rs(e,"change",()=>{const s=Array.prototype.filter.call(e.options,o=>o.selected).map(o=>n?bf(el(o)):el(o));e[Dr](e.multiple?i?new Set(s):s:s[0]),e._assigning=!0,Mc(()=>{e._assigning=!1})}),e[Dr]=oo(r)},mounted(e,{value:t}){nT(e,t)},beforeUpdate(e,t,n){e[Dr]=oo(n)},updated(e,{value:t}){e._assigning||nT(e,t)}};function nT(e,t){const n=e.multiple,r=Re(t);if(!(n&&!r&&!yl(t))){for(let i=0,s=e.options.length;i<s;i++){const o=e.options[i],a=el(o);if(n)if(r){const l=typeof a;l==="string"||l==="number"?o.selected=t.some(u=>String(u)===String(a)):o.selected=vy(t,a)>-1}else o.selected=t.has(a);else if(Go(el(o),t)){e.selectedIndex!==i&&(e.selectedIndex=i);return}}!n&&e.selectedIndex!==-1&&(e.selectedIndex=-1)}}function el(e){return"_value"in e?e._value:e.value}function ZI(e,t){const n=t?"_trueValue":"_falseValue";return n in e?e[n]:t}const YB=["ctrl","shift","alt","meta"],KB={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>YB.some(n=>e[`${n}Key`]&&!t.includes(n))},ic=(e,t)=>{const n=e._withMods||(e._withMods={}),r=t.join(".");return n[r]||(n[r]=(i,...s)=>{for(let o=0;o<t.length;o++){const a=KB[t[o]];if(a&&a(i,t))return}return e(i,...s)})},XB={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},Fy=(e,t)=>{const n=e._withKeys||(e._withKeys={}),r=t.join(".");return n[r]||(n[r]=i=>{if(!("key"in i))return;const s=go(i.key);if(t.some(o=>o===s||XB[o]===s))return e(i)})},QB=Zt({patchProp:BB},vB);let rT;function JB(){return rT||(rT=K4(QB))}const ZB=(...e)=>{const t=JB().createApp(...e),{mount:n}=t;return t.mount=r=>{const i=t8(r);if(!i)return;const s=t._component;!We(s)&&!s.render&&!s.template&&(s.template=i.innerHTML),i.nodeType===1&&(i.textContent="");const o=n(i,!1,e8(i));return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),o},t};function e8(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function t8(e){return It(e)?document.querySelector(e):e}const ne=(e,t)=>{const n=e.__vccOpts||e;for(const[r,i]of t)n[r]=i;return n},n8={name:"ComponentName",props:{color:{type:String,required:!1,default:"gray"},size:{type:String,default:"xs"}},computed:{textSize(){return`text-${this.size}`},padding(){const e="px-2",t="py-1";return this.size==="xxs"?`${e} py-0.5`:`${e} ${t}`}}};function r8(e,t,n,r,i,s){return x(),L("span",{class:nt(["rounded-xl text-white font-bold",`${n.color} ${s.textSize} ${s.padding}`])},[Ae(e.$slots,"default",{},void 0,!0)],2)}const i8=ne(n8,[["render",r8],["__scopeId","data-v-15fef4a5"]]),s8=Object.freeze(Object.defineProperty({__proto__:null,default:i8},Symbol.toStringTag,{value:"Module"})),o8={name:"Breadcrumps",props:{items:{type:Array,required:!0}}},a8={key:0,class:"note"};function l8(e,t,n,r,i,s){const o=Y("router-link");return x(),L("ul",null,[(x(!0),L(Xe,null,$t(n.items,(a,l)=>(x(),L("li",{key:l,class:"inline"},[z(o,{to:a.route,class:"note"},{default:V(()=>[we(le(a.label),1)]),_:2},1032,["to"]),l!==n.items.length-1?(x(),L("span",a8," > ")):Oe("",!0)]))),128))])}const e2=ne(o8,[["render",l8]]),u8=Object.freeze(Object.defineProperty({__proto__:null,default:e2},Symbol.toStringTag,{value:"Module"})),c8={props:{title:{type:String,required:!1}},data(){return{}},computed:{},methods:{}},d8={key:0,class:"bg-gray-200 px-4 py-2 sm:flex justify-between border border-gray-300 rounded-t"},f8={class:"bg-white border border-t-0 border-gray-300 rounded-b px-4 py-3 overflow-x-auto"};function p8(e,t,n,r,i,s){return x(),L("div",null,[Ae(e.$slots,"header",{},()=>[n.title||e.$slots.title?(x(),L("div",d8,[Ae(e.$slots,"title",{},()=>[S("h2",null,le(n.title),1)]),Ae(e.$slots,"header-right")])):Oe("",!0)]),S("div",f8,[Ae(e.$slots,"default")])])}const h8=ne(c8,[["render",p8]]),m8=Object.freeze(Object.defineProperty({__proto__:null,default:h8},Symbol.toStringTag,{value:"Module"})),g8={name:"Collapsible",props:{modelValue:{type:Boolean,required:!1,default:null},title:{type:String,required:!1,default:null},showCheveron:{type:Boolean,default:!0}},emits:["expanded","collapsed","update:modelUpdate"],data(){return{opened:!1}},computed:{valueSet(){return this.modelValue!==null},expanded:{get(){return this.valueSet?this.modelValue:this.opened},set(e){this.opened=e,this.$emit("update:modelUpdate",e),this.opened?this.$emit("expanded"):this.$emit("collapsed")}}},methods:{}},b8={class:"collapsible-container"},y8={class:"flex items-start"},_8={key:0};function E8(e,t,n,r,i,s){const o=Y("icon-cheveron-right"),a=Y("icon-cheveron-down");return x(),L("div",b8,[S("div",{class:"collapsible-header",onClick:t[0]||(t[0]=l=>s.expanded=!s.expanded)},[S("div",y8,[n.showCheveron?(x(),L("div",_8,[s.expanded?Oe("",!0):(x(),fe(o,{key:0,class:"-ml-1 mt-1"})),s.expanded?(x(),fe(a,{key:1,class:"-ml-1 mt-1"})):Oe("",!0)])):Oe("",!0),Ae(e.$slots,"title",{},()=>[S("strong",null,le(n.title),1)])])]),z(sa,{name:"slide-fade-down"},{default:V(()=>[Ct(S("div",null,[Ae(e.$slots,"default")],512),[[yr,s.expanded]])]),_:3})])}const v8=ne(g8,[["render",E8]]),T8=Object.freeze(Object.defineProperty({__proto__:null,default:v8},Symbol.toStringTag,{value:"Module"})),$y=function(e){return e===null||typeof e>"u"?null:new Date(e).toLocaleDateString()},w8=function(e){const t=new Date(e);return`${t.toLocaleDateString()} ${t.toLocaleTimeString([],{timeStyle:"medium"})}`},x8=function(e){return`${new Date(e).toLocaleTimeString([],{timeStyle:"medium"})}`},C8=()=>{const e=new Date;return e.setFullYear(e.getFullYear()-1)},S8=(e,t)=>{const n=new Date(e);return n.setDate(n.getDate()+t),n},Lc=e=>e&&e.replace(/[A-Z]/g,n=>` ${n.toLowerCase()}`).split(/[\s_-]/).filter(n=>n!==" "&&n!=="").map(n=>n.trim()).join(" ").trim(),Uy=e=>e&&Lc(e).split(" ").map(n=>n.charAt(0).toUpperCase()+n.slice(1)).join(" "),t2=e=>e&&Lc(e).split(" ").join("-"),A8=e=>e&&Lc(e).split(" ").join("_"),O8=e=>e&&Lc(e).split(" ").map(n=>n.charAt(0).toUpperCase()+n.slice(1)).join(""),n2=e=>{const t=O8(e);return t.charAt(0).toLowerCase()+t.slice(1)},r2=e=>{if(e===null)return e;const t=Lc(e).split(" ");return t.join(" ").charAt(0).toUpperCase()+t.join(" ").slice(1)},k8={name:"DataTable",props:{data:{required:!1},fields:{required:!0,type:Array},paginated:{type:Boolean,default:!1},filterTerm:{required:!1,type:String},filter:{required:!1,type:Function},rowClickHandler:{required:!1,type:Function},rowClass:{required:!1,type:[String,Function,null],default:null},sort:{required:!1,type:Object,default:()=>({field:"id",desc:!1})},detailRows:{type:Boolean,required:!1,default:!1},pageSize:{type:[Number,null],default:20},resetPageOnDataChange:{type:Boolean,default:!0}},emits:["rowClick","update:sort","sort","sorted"],data(){return{realSort:{field:{},desc:!1},resolvedItems:[],currentPage:1,totalItems:0}},computed:{shouldPaginate(){return this.paginated},dataIsFunction(){return typeof this.data=="function"},filterFunction(){return this.filter?this.filter:this.defaultFilter},sortField(){return this.realSort.field},sortFieldName(){return this.realSort.field.sortName?this.realSort.field.sortName:this.realSort.field.Name}},watch:{sort:{immediate:!0,handler(){if(!this.sort){this.realSort={field:this.fields[0],desc:!1},this.getItems();return}this.realSort={field:this.fields.find(e=>e.name===this.sort.field),desc:this.sort.desc},this.resetCurrentPage(),this.getItems()}},filterTerm(){this.getItems()},data:{immediate:!0,deep:!0,handler(){this.resetPageOnDataChange&&this.resetCurrentPage(),this.getItems()}},currentPage:{immedate:!0,handler(){this.getItems()}}},methods:{async getItems(){if(this.dataIsFunction){this.resolvedItems=await this.data(this.currentPage,this.pageSize,this.realSort,this.setTotalItems);return}const e=this.sortData(this.filterData([...this.data]));this.resolvedItems=this.paginated?this.paginate(e):e,this.setTotalItems(e.length)},setTotalItems(e){this.totalItems=e},setCurrentPage(e){this.currentPage=e},paginate(e){if(this.dataIsFunction){this.getItems();return}const t=(this.currentPage-1)*this.pageSize,n=t+this.pageSize-1;return e.slice(t,n)},sortData(e){const t=this.realSort.field.type;if(this.dataIsFunction){this.getItems();return}if(this.realSort.field.sortFunction){const n=e.sort(this.realSort.field.sortFunction);return this.realSort.desc?n.reverse():n}return t===Date?e.sort(this.dateSort):e.sort(this.textAndNumberSort)},filterData(e){if(this.dataIsFunction){this.getItems();return}return this.filterTerm?e.filter(t=>t!==null).filter(t=>this.filterFunction(t,this.filterTerm.trim())):e},findFieldByName(e){return this.fields.find(t=>t.name===e)},getAttributeValue(e,t){if(t&&typeof t<"u"&&t.includes(".")){const n=t.split(".");let r=e;for(const i in n)if(r=r[n[i]],!r)return null;return r}return e[t]},resolveDisplayAttribute(e,t){if(t.resolveValue)return t.resolveValue(e);const n=this.getAttributeValue(e,t.name);return t.type===Date?n?$y(n):null:n},resolveSortAttribute(e,t){return t.resolveSort?t.resolveSort(e):t.sortName?this.getAttributeValue(e,t.sortName):this.resolveDisplayAttribute(e,t)},updateSort(e){const t=this.realSort.field,n={field:e.name,desc:!this.realSort.desc};t.name!==e.name&&(n.desc=!1),this.$emit("update:sort",n),this.$emit("sorted",n),this.$nextTick(()=>{this.getItems()})},textAndNumberSort(e,t){const n=this.realSort.desc?-1:1;let r=this.resolveSortAttribute(e,this.sortField),i=this.resolveSortAttribute(t,this.sortField);return r&&!i?-1*n:i&&!r?1*n:((this.realSort.field.type===String||typeof r=="string"&&typeof i=="string")&&(r=r&&r.toLowerCase(),i=i&&i.toLowerCase()),r===i?e.id>t.id?1*n:-1*n:n*(r>i?1:-1))},dateSort(e,t){const n=this.realSort.desc?-1:1;let r=Date.parse(this.resolveSortAttribute(e,this.sortField));Number.isNaN(Number.parseFloat(r))&&(r=0);let i=Date.parse(this.resolveSortAttribute(t,this.sortField));return Number.isNaN(Number.parseFloat(i))&&(i=0),r===i?0:n*(r>i?1:-1)},defaultFilter(e,t){const n=t.toLowerCase();for(const r in this.fields){let i=this.resolveDisplayAttribute(e,this.fields[r]);if(!(i===null||typeof i>"u")&&(i=i.toString().toLowerCase(),i&&i.includes(n)))return!0}return!1},handleRowClick(e){this.$emit("rowClick",e),this.rowClickHandler&&this.rowClickHandler(e)},getFieldLabel(e){return typeof e.label>"u"||e.label===null?Uy(e.name):e.label},getHeaderClass(e){const t=e.class?[...e.class]:[];return e.sortable&&t.push("cursor-pointer underline hover:bg-gray-300"),Number.parseInt(e.colspan)===1&&this.realSort.field===e&&t.push(e),e.headerClass&&t.push(...e.headerClass),t.join(" ")},getCellClass(e){return e.class},getSlotName(e){return`cell-${e.name.replace(" ","_").replace(".","_")}`},resolveRowClass(e){return typeof this.rowClass=="function"?this.rowClass(e):this.rowClass},resetCurrentPage(){this.currentPage=1},updateCurrentPage(e){this.currentPage=e}}},I8={class:"flex justify-between mb-2 items-center"},N8={class:"shadow-inner bg-gray-50"},R8={class:"border-none"},D8={class:"bg-gray-200"},M8=["title","colspan","onClick"],P8={class:"py-1 flex justify-between place-items-center"},L8={key:0},B8=["onClick"],F8=["colspan"];function $8(e,t,n,r,i,s){const o=Y("pagination-links"),a=Y("icon-cheveron-up"),l=Y("icon-cheveron-down"),u=Y("object-dictionary");return x(),L("div",null,[S("header",I8,[Ae(e.$slots,"header",{},void 0,!0),s.shouldPaginate?(x(),fe(o,{key:0,"current-page":i.currentPage,"total-items":i.totalItems,"page-size":n.pageSize,"onUpdate:currentPage":s.updateCurrentPage},null,8,["current-page","total-items","page-size","onUpdate:currentPage"])):Oe("",!0)]),S("div",N8,[S("table",R8,[S("thead",null,[Ae(e.$slots,"thead",{},()=>[S("tr",D8,[(x(!0),L(Xe,null,$t(n.fields.filter(c=>!c.hideHeader),c=>(x(),L("th",{key:c.name,title:c.sortable?"Click to sort":"",class:nt(s.getHeaderClass(c)),colspan:c.colspan?c.colspan:1,onClick:d=>c.sortable&&s.updateSort(c)},[S("div",P8,[S("div",null,[Ae(e.$slots,`header-${c.name}`,{item:{field:c}},()=>[we(le(s.getFieldLabel(c)),1)],!0)]),S("div",null,[c.sortable?(x(),L("div",L8,[i.realSort.field.name!=c.name?(x(),fe(a,{key:0,"icon-color":"#ccc"})):Oe("",!0),i.realSort.field.name==c.name&&!i.realSort.desc?(x(),fe(a,{key:1,"icon-color":"#333"})):Oe("",!0),i.realSort.field.name==c.name&&i.realSort.desc?(x(),fe(l,{key:2,"icon-color":"#333"})):Oe("",!0)])):Oe("",!0)])])],10,M8))),128))])],!0)]),(x(!0),L(Xe,null,$t(i.resolvedItems,c=>(x(),L("tbody",{key:c.uuid},[S("tr",{class:nt(s.resolveRowClass(c)),onClick:d=>s.handleRowClick(c)},[(x(!0),L(Xe,null,$t(n.fields,d=>(x(),L("td",{key:d.name,class:nt(s.getCellClass(d))},[Ae(e.$slots,s.getSlotName(d),{item:c,field:d,value:s.resolveDisplayAttribute(c,d)},()=>[we(le(s.resolveDisplayAttribute(c,d)),1)],!0)],2))),128))],10,B8),z(sa,{name:"fade-slide-down"},{default:V(()=>[n.detailRows&&c.showDetails?(x(),L("tr",{key:0,class:nt(["details",s.resolveRowClass(c)])},[S("td",{colspan:n.fields.length},[Ae(e.$slots,"detail",{item:c},()=>[z(u,{obj:c},null,8,["obj"])],!0)],8,F8)],2)):Oe("",!0)]),_:2},1024)]))),128))])])])}const U8=ne(k8,[["render",$8],["__scopeId","data-v-5f4b321c"]]),H8=Object.freeze(Object.defineProperty({__proto__:null,default:U8},Symbol.toStringTag,{value:"Module"})),z8={name:"DictionaryRow",props:{label:{type:String,required:!1},vertical:{type:Boolean,required:!1,default:!1},labelWidthClass:{type:String,default:"w-36"},labelClass:{type:String,required:!1}},data(){return{}},computed:{colon(){return this.label&&[":",";",".","?","!"].includes(this.label.substr(-1))?"":":"},fullLabelClass(){const e=[];return this.vertical&&e.push("mb-1"),this.labelClass&&e.push(this.labelClass.split(" ")),this.vertical||e.push(this.labelWidthClass||"w-36"),e}},methods:{}};function j8(e,t,n,r,i,s){return x(),L("div",{class:nt(["dictionary-row",{flex:!n.vertical}])},[S("div",{class:nt([s.fullLabelClass,"flex-shrink-0"])},[n.label?Ae(e.$slots,"label",{key:0},()=>[S("label",{class:nt(s.fullLabelClass)},le(n.label)+le(s.colon),3)],!0):Oe("",!0)],2),S("div",null,[Ae(e.$slots,"default",{},void 0,!0)]),t[0]||(t[0]=S("div",{class:"hidden w-36"},"   ",-1))],2)}const i2=ne(z8,[["render",j8],["__scopeId","data-v-0d4f92d3"]]),q8=Object.freeze(Object.defineProperty({__proto__:null,default:i2},Symbol.toStringTag,{value:"Module"})),V8=["href","title"],W8={__name:"DownloadLink",props:{url:{type:String,required:!0},title:{type:String,default:"download"}},setup(e){return(t,n)=>{const r=Y("icon-download");return x(),L("a",{href:e.url,title:e.title},[z(r,{class:"inline"}),n[0]||(n[0]=we("  ")),Ae(t.$slots,"default")],8,V8)}}},G8=Object.freeze(Object.defineProperty({__proto__:null,default:W8},Symbol.toStringTag,{value:"Module"})),Y8={name:"DropdownItem",data(){return{active:!1}},computed:{parentIsValid(){return this.$parent.$options.name==="DropdownMenu"}},mounted(){}},K8={class:"menu-item hover:bg-blue-100 cursor-pointer"};function X8(e,t,n,r,i,s){return x(),L("li",K8,[Ae(e.$slots,"default")])}const Q8=ne(Y8,[["render",X8]]),J8=Object.freeze(Object.defineProperty({__proto__:null,default:Q8},Symbol.toStringTag,{value:"Module"})),Z8={name:"DropdownMenu",components:{Teleport:Er,Transition:sa},props:{label:{type:String,required:!1,default:"..."},orientation:{type:String,required:!1,default:"right"},hideCheveron:{type:Boolean,required:!1,default:!1}},data(){return{menuOpen:!1,menuItems:[],menuX:0,menuY:0}},computed:{},watch:{menuOpen(){this.positionMenu()}},mounted(){this.positionMenu(),Array.from(this.$refs.dropdownMenu.getElementsByClassName("menu-item")).forEach(e=>{e.addEventListener("click",t=>{this.toggleMenu(t)})})},methods:{addItem(e){this.menuItems.push(e)},handleOutsideClick(){this.menuOpen=!1},toggleMenu(e){e.stopPropagation(),this.menuOpen=!this.menuOpen,this.menuOpen&&this.$refs.dropdownMenu.focus()},renderItems(){return this.menuItems.map(e=>e.render())},positionMenu(){const e=window.pageXOffset||this.$refs.menuButton.scrollLeft,t=window.pageYOffset||this.$refs.menuButton.scrollTop,n=this.$refs.menuButton.offsetWidth,r=this.$refs.menuButton.offsetHeight,i=this.$el.getBoundingClientRect();this.menuX=i.left+e-Number.parseFloat(getComputedStyle(document.documentElement).fontSize)*12+n,this.menuY=i.top+t+r-14}}};function eF(e,t,n,r,i,s){const o=Y("icon-cheveron-down"),a=_I("click-outside");return x(),L("div",null,[S("div",{class:nt(["dropdown",n.orientation])},[S("div",{ref:"menuButton",class:"dropdown-label",onClick:t[0]||(t[0]=ic((...l)=>s.toggleMenu&&s.toggleMenu(...l),["stop"]))},[Ct(S("span",null,[z(o)],512),[[yr,!n.hideCheveron]]),Ae(e.$slots,"label",{},()=>[we(le(n.label),1)])],512),(x(),fe(Er,{to:"body"},[z(sa,{name:"slide-fade-down"},{default:V(()=>[Ct((x(),L("div",{ref:"dropdownMenu",class:"dropdown-items-container z-50",style:ia({top:`${i.menuY}px`,left:`${i.menuX}px`})},[S("ul",{class:"dropdown-items",onClick:t[1]||(t[1]=(...l)=>s.toggleMenu&&s.toggleMenu(...l))},[Ae(e.$slots,"default")])],4)),[[yr,i.menuOpen],[a,{exclude:["menuButton"],handler:s.handleOutsideClick}]])]),_:3})]))],2)])}const tF=ne(Z8,[["render",eF]]),nF=Object.freeze(Object.defineProperty({__proto__:null,default:tF},Symbol.toStringTag,{value:"Module"}));function s2(e,t){return function(){return e.apply(t,arguments)}}const{toString:rF}=Object.prototype,{getPrototypeOf:Hy}=Object,Cp=(e=>t=>{const n=rF.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),ci=e=>(e=e.toLowerCase(),t=>Cp(t)===e),Sp=e=>t=>typeof t===e,{isArray:Cl}=Array,sc=Sp("undefined");function iF(e){return e!==null&&!sc(e)&&e.constructor!==null&&!sc(e.constructor)&&gr(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const o2=ci("ArrayBuffer");function sF(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&o2(e.buffer),t}const oF=Sp("string"),gr=Sp("function"),a2=Sp("number"),Ap=e=>e!==null&&typeof e=="object",aF=e=>e===!0||e===!1,Qd=e=>{if(Cp(e)!=="object")return!1;const t=Hy(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},lF=ci("Date"),uF=ci("File"),cF=ci("Blob"),dF=ci("FileList"),fF=e=>Ap(e)&&gr(e.pipe),pF=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||gr(e.append)&&((t=Cp(e))==="formdata"||t==="object"&&gr(e.toString)&&e.toString()==="[object FormData]"))},hF=ci("URLSearchParams"),[mF,gF,bF,yF]=["ReadableStream","Request","Response","Headers"].map(ci),_F=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Bc(e,t,{allOwnKeys:n=!1}={}){if(e===null||typeof e>"u")return;let r,i;if(typeof e!="object"&&(e=[e]),Cl(e))for(r=0,i=e.length;r<i;r++)t.call(null,e[r],r,e);else{const s=n?Object.getOwnPropertyNames(e):Object.keys(e),o=s.length;let a;for(r=0;r<o;r++)a=s[r],t.call(null,e[a],a,e)}}function l2(e,t){t=t.toLowerCase();const n=Object.keys(e);let r=n.length,i;for(;r-- >0;)if(i=n[r],t===i.toLowerCase())return i;return null}const Do=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,u2=e=>!sc(e)&&e!==Do;function Bb(){const{caseless:e}=u2(this)&&this||{},t={},n=(r,i)=>{const s=e&&l2(t,i)||i;Qd(t[s])&&Qd(r)?t[s]=Bb(t[s],r):Qd(r)?t[s]=Bb({},r):Cl(r)?t[s]=r.slice():t[s]=r};for(let r=0,i=arguments.length;r<i;r++)arguments[r]&&Bc(arguments[r],n);return t}const EF=(e,t,n,{allOwnKeys:r}={})=>(Bc(t,(i,s)=>{n&&gr(i)?e[s]=s2(i,n):e[s]=i},{allOwnKeys:r}),e),vF=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),TF=(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},wF=(e,t,n,r)=>{let i,s,o;const a={};if(t=t||{},e==null)return t;do{for(i=Object.getOwnPropertyNames(e),s=i.length;s-- >0;)o=i[s],(!r||r(o,e,t))&&!a[o]&&(t[o]=e[o],a[o]=!0);e=n!==!1&&Hy(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},xF=(e,t,n)=>{e=String(e),(n===void 0||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return r!==-1&&r===n},CF=e=>{if(!e)return null;if(Cl(e))return e;let t=e.length;if(!a2(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},SF=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&Hy(Uint8Array)),AF=(e,t)=>{const r=(e&&e[Symbol.iterator]).call(e);let i;for(;(i=r.next())&&!i.done;){const s=i.value;t.call(e,s[0],s[1])}},OF=(e,t)=>{let n;const r=[];for(;(n=e.exec(t))!==null;)r.push(n);return r},kF=ci("HTMLFormElement"),IF=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,i){return r.toUpperCase()+i}),iT=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),NF=ci("RegExp"),c2=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};Bc(n,(i,s)=>{let o;(o=t(i,s,e))!==!1&&(r[s]=o||i)}),Object.defineProperties(e,r)},RF=e=>{c2(e,(t,n)=>{if(gr(e)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=e[n];if(gr(r)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},DF=(e,t)=>{const n={},r=i=>{i.forEach(s=>{n[s]=!0})};return Cl(e)?r(e):r(String(e).split(t)),n},MF=()=>{},PF=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t,qh="abcdefghijklmnopqrstuvwxyz",sT="0123456789",d2={DIGIT:sT,ALPHA:qh,ALPHA_DIGIT:qh+qh.toUpperCase()+sT},LF=(e=16,t=d2.ALPHA_DIGIT)=>{let n="";const{length:r}=t;for(;e--;)n+=t[Math.random()*r|0];return n};function BF(e){return!!(e&&gr(e.append)&&e[Symbol.toStringTag]==="FormData"&&e[Symbol.iterator])}const FF=e=>{const t=new Array(10),n=(r,i)=>{if(Ap(r)){if(t.indexOf(r)>=0)return;if(!("toJSON"in r)){t[i]=r;const s=Cl(r)?[]:{};return Bc(r,(o,a)=>{const l=n(o,i+1);!sc(l)&&(s[a]=l)}),t[i]=void 0,s}}return r};return n(e,0)},$F=ci("AsyncFunction"),UF=e=>e&&(Ap(e)||gr(e))&&gr(e.then)&&gr(e.catch),f2=((e,t)=>e?setImmediate:t?((n,r)=>(Do.addEventListener("message",({source:i,data:s})=>{i===Do&&s===n&&r.length&&r.shift()()},!1),i=>{r.push(i),Do.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",gr(Do.postMessage)),HF=typeof queueMicrotask<"u"?queueMicrotask.bind(Do):typeof process<"u"&&process.nextTick||f2,G={isArray:Cl,isArrayBuffer:o2,isBuffer:iF,isFormData:pF,isArrayBufferView:sF,isString:oF,isNumber:a2,isBoolean:aF,isObject:Ap,isPlainObject:Qd,isReadableStream:mF,isRequest:gF,isResponse:bF,isHeaders:yF,isUndefined:sc,isDate:lF,isFile:uF,isBlob:cF,isRegExp:NF,isFunction:gr,isStream:fF,isURLSearchParams:hF,isTypedArray:SF,isFileList:dF,forEach:Bc,merge:Bb,extend:EF,trim:_F,stripBOM:vF,inherits:TF,toFlatObject:wF,kindOf:Cp,kindOfTest:ci,endsWith:xF,toArray:CF,forEachEntry:AF,matchAll:OF,isHTMLForm:kF,hasOwnProperty:iT,hasOwnProp:iT,reduceDescriptors:c2,freezeMethods:RF,toObjectSet:DF,toCamelCase:IF,noop:MF,toFiniteNumber:PF,findKey:l2,global:Do,isContextDefined:u2,ALPHABET:d2,generateString:LF,isSpecCompliantForm:BF,toJSONObject:FF,isAsyncFn:$F,isThenable:UF,setImmediate:f2,asap:HF};function Ye(e,t,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i,this.status=i.status?i.status:null)}G.inherits(Ye,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:G.toJSONObject(this.config),code:this.code,status:this.status}}});const p2=Ye.prototype,h2={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{h2[e]={value:e}});Object.defineProperties(Ye,h2);Object.defineProperty(p2,"isAxiosError",{value:!0});Ye.from=(e,t,n,r,i,s)=>{const o=Object.create(p2);return G.toFlatObject(e,o,function(l){return l!==Error.prototype},a=>a!=="isAxiosError"),Ye.call(o,e.message,t,n,r,i),o.cause=e,o.name=e.name,s&&Object.assign(o,s),o};const zF=null;function Fb(e){return G.isPlainObject(e)||G.isArray(e)}function m2(e){return G.endsWith(e,"[]")?e.slice(0,-2):e}function oT(e,t,n){return e?e.concat(t).map(function(i,s){return i=m2(i),!n&&s?"["+i+"]":i}).join(n?".":""):t}function jF(e){return G.isArray(e)&&!e.some(Fb)}const qF=G.toFlatObject(G,{},null,function(t){return/^is[A-Z]/.test(t)});function Op(e,t,n){if(!G.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,n=G.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(g,b){return!G.isUndefined(b[g])});const r=n.metaTokens,i=n.visitor||c,s=n.dots,o=n.indexes,l=(n.Blob||typeof Blob<"u"&&Blob)&&G.isSpecCompliantForm(t);if(!G.isFunction(i))throw new TypeError("visitor must be a function");function u(m){if(m===null)return"";if(G.isDate(m))return m.toISOString();if(!l&&G.isBlob(m))throw new Ye("Blob is not supported. Use a Buffer instead.");return G.isArrayBuffer(m)||G.isTypedArray(m)?l&&typeof Blob=="function"?new Blob([m]):Buffer.from(m):m}function c(m,g,b){let y=m;if(m&&!b&&typeof m=="object"){if(G.endsWith(g,"{}"))g=r?g:g.slice(0,-2),m=JSON.stringify(m);else if(G.isArray(m)&&jF(m)||(G.isFileList(m)||G.endsWith(g,"[]"))&&(y=G.toArray(m)))return g=m2(g),y.forEach(function(v,w){!(G.isUndefined(v)||v===null)&&t.append(o===!0?oT([g],w,s):o===null?g:g+"[]",u(v))}),!1}return Fb(m)?!0:(t.append(oT(b,g,s),u(m)),!1)}const d=[],f=Object.assign(qF,{defaultVisitor:c,convertValue:u,isVisitable:Fb});function p(m,g){if(!G.isUndefined(m)){if(d.indexOf(m)!==-1)throw Error("Circular reference detected in "+g.join("."));d.push(m),G.forEach(m,function(y,E){(!(G.isUndefined(y)||y===null)&&i.call(t,y,G.isString(E)?E.trim():E,g,f))===!0&&p(y,g?g.concat(E):[E])}),d.pop()}}if(!G.isObject(e))throw new TypeError("data must be an object");return p(e),t}function aT(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(r){return t[r]})}function zy(e,t){this._pairs=[],e&&Op(e,this,t)}const g2=zy.prototype;g2.append=function(t,n){this._pairs.push([t,n])};g2.toString=function(t){const n=t?function(r){return t.call(this,r,aT)}:aT;return this._pairs.map(function(i){return n(i[0])+"="+n(i[1])},"").join("&")};function VF(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function b2(e,t,n){if(!t)return e;const r=n&&n.encode||VF;G.isFunction(n)&&(n={serialize:n});const i=n&&n.serialize;let s;if(i?s=i(t,n):s=G.isURLSearchParams(t)?t.toString():new zy(t,n).toString(r),s){const o=e.indexOf("#");o!==-1&&(e=e.slice(0,o)),e+=(e.indexOf("?")===-1?"?":"&")+s}return e}class lT{constructor(){this.handlers=[]}use(t,n,r){return this.handlers.push({fulfilled:t,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){G.forEach(this.handlers,function(r){r!==null&&t(r)})}}const y2={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},WF=typeof URLSearchParams<"u"?URLSearchParams:zy,GF=typeof FormData<"u"?FormData:null,YF=typeof Blob<"u"?Blob:null,KF={isBrowser:!0,classes:{URLSearchParams:WF,FormData:GF,Blob:YF},protocols:["http","https","file","blob","url","data"]},jy=typeof window<"u"&&typeof document<"u",$b=typeof navigator=="object"&&navigator||void 0,XF=jy&&(!$b||["ReactNative","NativeScript","NS"].indexOf($b.product)<0),QF=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",JF=jy&&window.location.href||"http://localhost",ZF=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:jy,hasStandardBrowserEnv:XF,hasStandardBrowserWebWorkerEnv:QF,navigator:$b,origin:JF},Symbol.toStringTag,{value:"Module"})),On={...ZF,...KF};function e$(e,t){return Op(e,new On.classes.URLSearchParams,Object.assign({visitor:function(n,r,i,s){return On.isNode&&G.isBuffer(n)?(this.append(r,n.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)}},t))}function t$(e){return G.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function n$(e){const t={},n=Object.keys(e);let r;const i=n.length;let s;for(r=0;r<i;r++)s=n[r],t[s]=e[s];return t}function _2(e){function t(n,r,i,s){let o=n[s++];if(o==="__proto__")return!0;const a=Number.isFinite(+o),l=s>=n.length;return o=!o&&G.isArray(i)?i.length:o,l?(G.hasOwnProp(i,o)?i[o]=[i[o],r]:i[o]=r,!a):((!i[o]||!G.isObject(i[o]))&&(i[o]=[]),t(n,r,i[o],s)&&G.isArray(i[o])&&(i[o]=n$(i[o])),!a)}if(G.isFormData(e)&&G.isFunction(e.entries)){const n={};return G.forEachEntry(e,(r,i)=>{t(t$(r),i,n,0)}),n}return null}function r$(e,t,n){if(G.isString(e))try{return(t||JSON.parse)(e),G.trim(e)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(e)}const Fc={transitional:y2,adapter:["xhr","http","fetch"],transformRequest:[function(t,n){const r=n.getContentType()||"",i=r.indexOf("application/json")>-1,s=G.isObject(t);if(s&&G.isHTMLForm(t)&&(t=new FormData(t)),G.isFormData(t))return i?JSON.stringify(_2(t)):t;if(G.isArrayBuffer(t)||G.isBuffer(t)||G.isStream(t)||G.isFile(t)||G.isBlob(t)||G.isReadableStream(t))return t;if(G.isArrayBufferView(t))return t.buffer;if(G.isURLSearchParams(t))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let a;if(s){if(r.indexOf("application/x-www-form-urlencoded")>-1)return e$(t,this.formSerializer).toString();if((a=G.isFileList(t))||r.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return Op(a?{"files[]":t}:t,l&&new l,this.formSerializer)}}return s||i?(n.setContentType("application/json",!1),r$(t)):t}],transformResponse:[function(t){const n=this.transitional||Fc.transitional,r=n&&n.forcedJSONParsing,i=this.responseType==="json";if(G.isResponse(t)||G.isReadableStream(t))return t;if(t&&G.isString(t)&&(r&&!this.responseType||i)){const o=!(n&&n.silentJSONParsing)&&i;try{return JSON.parse(t)}catch(a){if(o)throw a.name==="SyntaxError"?Ye.from(a,Ye.ERR_BAD_RESPONSE,this,null,this.response):a}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:On.classes.FormData,Blob:On.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};G.forEach(["delete","get","head","post","put","patch"],e=>{Fc.headers[e]={}});const i$=G.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),s$=e=>{const t={};let n,r,i;return e&&e.split(`
`).forEach(function(o){i=o.indexOf(":"),n=o.substring(0,i).trim().toLowerCase(),r=o.substring(i+1).trim(),!(!n||t[n]&&i$[n])&&(n==="set-cookie"?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)}),t},uT=Symbol("internals");function zl(e){return e&&String(e).trim().toLowerCase()}function Jd(e){return e===!1||e==null?e:G.isArray(e)?e.map(Jd):String(e)}function o$(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}const a$=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function Vh(e,t,n,r,i){if(G.isFunction(r))return r.call(this,t,n);if(i&&(t=n),!!G.isString(t)){if(G.isString(r))return t.indexOf(r)!==-1;if(G.isRegExp(r))return r.test(t)}}function l$(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,n,r)=>n.toUpperCase()+r)}function u$(e,t){const n=G.toCamelCase(" "+t);["get","set","has"].forEach(r=>{Object.defineProperty(e,r+n,{value:function(i,s,o){return this[r].call(this,t,i,s,o)},configurable:!0})})}let tr=class{constructor(t){t&&this.set(t)}set(t,n,r){const i=this;function s(a,l,u){const c=zl(l);if(!c)throw new Error("header name must be a non-empty string");const d=G.findKey(i,c);(!d||i[d]===void 0||u===!0||u===void 0&&i[d]!==!1)&&(i[d||l]=Jd(a))}const o=(a,l)=>G.forEach(a,(u,c)=>s(u,c,l));if(G.isPlainObject(t)||t instanceof this.constructor)o(t,n);else if(G.isString(t)&&(t=t.trim())&&!a$(t))o(s$(t),n);else if(G.isHeaders(t))for(const[a,l]of t.entries())s(l,a,r);else t!=null&&s(n,t,r);return this}get(t,n){if(t=zl(t),t){const r=G.findKey(this,t);if(r){const i=this[r];if(!n)return i;if(n===!0)return o$(i);if(G.isFunction(n))return n.call(this,i,r);if(G.isRegExp(n))return n.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,n){if(t=zl(t),t){const r=G.findKey(this,t);return!!(r&&this[r]!==void 0&&(!n||Vh(this,this[r],r,n)))}return!1}delete(t,n){const r=this;let i=!1;function s(o){if(o=zl(o),o){const a=G.findKey(r,o);a&&(!n||Vh(r,r[a],a,n))&&(delete r[a],i=!0)}}return G.isArray(t)?t.forEach(s):s(t),i}clear(t){const n=Object.keys(this);let r=n.length,i=!1;for(;r--;){const s=n[r];(!t||Vh(this,this[s],s,t,!0))&&(delete this[s],i=!0)}return i}normalize(t){const n=this,r={};return G.forEach(this,(i,s)=>{const o=G.findKey(r,s);if(o){n[o]=Jd(i),delete n[s];return}const a=t?l$(s):String(s).trim();a!==s&&delete n[s],n[a]=Jd(i),r[a]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const n=Object.create(null);return G.forEach(this,(r,i)=>{r!=null&&r!==!1&&(n[i]=t&&G.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,n])=>t+": "+n).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...n){const r=new this(t);return n.forEach(i=>r.set(i)),r}static accessor(t){const r=(this[uT]=this[uT]={accessors:{}}).accessors,i=this.prototype;function s(o){const a=zl(o);r[a]||(u$(i,o),r[a]=!0)}return G.isArray(t)?t.forEach(s):s(t),this}};tr.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);G.reduceDescriptors(tr.prototype,({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(r){this[n]=r}}});G.freezeMethods(tr);function Wh(e,t){const n=this||Fc,r=t||n,i=tr.from(r.headers);let s=r.data;return G.forEach(e,function(a){s=a.call(n,s,i.normalize(),t?t.status:void 0)}),i.normalize(),s}function E2(e){return!!(e&&e.__CANCEL__)}function Sl(e,t,n){Ye.call(this,e??"canceled",Ye.ERR_CANCELED,t,n),this.name="CanceledError"}G.inherits(Sl,Ye,{__CANCEL__:!0});function v2(e,t,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?e(n):t(new Ye("Request failed with status code "+n.status,[Ye.ERR_BAD_REQUEST,Ye.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function c$(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function d$(e,t){e=e||10;const n=new Array(e),r=new Array(e);let i=0,s=0,o;return t=t!==void 0?t:1e3,function(l){const u=Date.now(),c=r[s];o||(o=u),n[i]=l,r[i]=u;let d=s,f=0;for(;d!==i;)f+=n[d++],d=d%e;if(i=(i+1)%e,i===s&&(s=(s+1)%e),u-o<t)return;const p=c&&u-c;return p?Math.round(f*1e3/p):void 0}}function f$(e,t){let n=0,r=1e3/t,i,s;const o=(u,c=Date.now())=>{n=c,i=null,s&&(clearTimeout(s),s=null),e.apply(null,u)};return[(...u)=>{const c=Date.now(),d=c-n;d>=r?o(u,c):(i=u,s||(s=setTimeout(()=>{s=null,o(i)},r-d)))},()=>i&&o(i)]}const Nf=(e,t,n=3)=>{let r=0;const i=d$(50,250);return f$(s=>{const o=s.loaded,a=s.lengthComputable?s.total:void 0,l=o-r,u=i(l),c=o<=a;r=o;const d={loaded:o,total:a,progress:a?o/a:void 0,bytes:l,rate:u||void 0,estimated:u&&a&&c?(a-o)/u:void 0,event:s,lengthComputable:a!=null,[t?"download":"upload"]:!0};e(d)},n)},cT=(e,t)=>{const n=e!=null;return[r=>t[0]({lengthComputable:n,total:e,loaded:r}),t[1]]},dT=e=>(...t)=>G.asap(()=>e(...t)),p$=On.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,On.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL(On.origin),On.navigator&&/(msie|trident)/i.test(On.navigator.userAgent)):()=>!0,h$=On.hasStandardBrowserEnv?{write(e,t,n,r,i,s){const o=[e+"="+encodeURIComponent(t)];G.isNumber(n)&&o.push("expires="+new Date(n).toGMTString()),G.isString(r)&&o.push("path="+r),G.isString(i)&&o.push("domain="+i),s===!0&&o.push("secure"),document.cookie=o.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function m$(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function g$(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function T2(e,t){return e&&!m$(t)?g$(e,t):t}const fT=e=>e instanceof tr?{...e}:e;function Ko(e,t){t=t||{};const n={};function r(u,c,d,f){return G.isPlainObject(u)&&G.isPlainObject(c)?G.merge.call({caseless:f},u,c):G.isPlainObject(c)?G.merge({},c):G.isArray(c)?c.slice():c}function i(u,c,d,f){if(G.isUndefined(c)){if(!G.isUndefined(u))return r(void 0,u,d,f)}else return r(u,c,d,f)}function s(u,c){if(!G.isUndefined(c))return r(void 0,c)}function o(u,c){if(G.isUndefined(c)){if(!G.isUndefined(u))return r(void 0,u)}else return r(void 0,c)}function a(u,c,d){if(d in t)return r(u,c);if(d in e)return r(void 0,u)}const l={url:s,method:s,data:s,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:a,headers:(u,c,d)=>i(fT(u),fT(c),d,!0)};return G.forEach(Object.keys(Object.assign({},e,t)),function(c){const d=l[c]||i,f=d(e[c],t[c],c);G.isUndefined(f)&&d!==a||(n[c]=f)}),n}const w2=e=>{const t=Ko({},e);let{data:n,withXSRFToken:r,xsrfHeaderName:i,xsrfCookieName:s,headers:o,auth:a}=t;t.headers=o=tr.from(o),t.url=b2(T2(t.baseURL,t.url),e.params,e.paramsSerializer),a&&o.set("Authorization","Basic "+btoa((a.username||"")+":"+(a.password?unescape(encodeURIComponent(a.password)):"")));let l;if(G.isFormData(n)){if(On.hasStandardBrowserEnv||On.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if((l=o.getContentType())!==!1){const[u,...c]=l?l.split(";").map(d=>d.trim()).filter(Boolean):[];o.setContentType([u||"multipart/form-data",...c].join("; "))}}if(On.hasStandardBrowserEnv&&(r&&G.isFunction(r)&&(r=r(t)),r||r!==!1&&p$(t.url))){const u=i&&s&&h$.read(s);u&&o.set(i,u)}return t},b$=typeof XMLHttpRequest<"u",y$=b$&&function(e){return new Promise(function(n,r){const i=w2(e);let s=i.data;const o=tr.from(i.headers).normalize();let{responseType:a,onUploadProgress:l,onDownloadProgress:u}=i,c,d,f,p,m;function g(){p&&p(),m&&m(),i.cancelToken&&i.cancelToken.unsubscribe(c),i.signal&&i.signal.removeEventListener("abort",c)}let b=new XMLHttpRequest;b.open(i.method.toUpperCase(),i.url,!0),b.timeout=i.timeout;function y(){if(!b)return;const v=tr.from("getAllResponseHeaders"in b&&b.getAllResponseHeaders()),R={data:!a||a==="text"||a==="json"?b.responseText:b.response,status:b.status,statusText:b.statusText,headers:v,config:e,request:b};v2(function(D){n(D),g()},function(D){r(D),g()},R),b=null}"onloadend"in b?b.onloadend=y:b.onreadystatechange=function(){!b||b.readyState!==4||b.status===0&&!(b.responseURL&&b.responseURL.indexOf("file:")===0)||setTimeout(y)},b.onabort=function(){b&&(r(new Ye("Request aborted",Ye.ECONNABORTED,e,b)),b=null)},b.onerror=function(){r(new Ye("Network Error",Ye.ERR_NETWORK,e,b)),b=null},b.ontimeout=function(){let w=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const R=i.transitional||y2;i.timeoutErrorMessage&&(w=i.timeoutErrorMessage),r(new Ye(w,R.clarifyTimeoutError?Ye.ETIMEDOUT:Ye.ECONNABORTED,e,b)),b=null},s===void 0&&o.setContentType(null),"setRequestHeader"in b&&G.forEach(o.toJSON(),function(w,R){b.setRequestHeader(R,w)}),G.isUndefined(i.withCredentials)||(b.withCredentials=!!i.withCredentials),a&&a!=="json"&&(b.responseType=i.responseType),u&&([f,m]=Nf(u,!0),b.addEventListener("progress",f)),l&&b.upload&&([d,p]=Nf(l),b.upload.addEventListener("progress",d),b.upload.addEventListener("loadend",p)),(i.cancelToken||i.signal)&&(c=v=>{b&&(r(!v||v.type?new Sl(null,e,b):v),b.abort(),b=null)},i.cancelToken&&i.cancelToken.subscribe(c),i.signal&&(i.signal.aborted?c():i.signal.addEventListener("abort",c)));const E=c$(i.url);if(E&&On.protocols.indexOf(E)===-1){r(new Ye("Unsupported protocol "+E+":",Ye.ERR_BAD_REQUEST,e));return}b.send(s||null)})},_$=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let r=new AbortController,i;const s=function(u){if(!i){i=!0,a();const c=u instanceof Error?u:this.reason;r.abort(c instanceof Ye?c:new Sl(c instanceof Error?c.message:c))}};let o=t&&setTimeout(()=>{o=null,s(new Ye(`timeout ${t} of ms exceeded`,Ye.ETIMEDOUT))},t);const a=()=>{e&&(o&&clearTimeout(o),o=null,e.forEach(u=>{u.unsubscribe?u.unsubscribe(s):u.removeEventListener("abort",s)}),e=null)};e.forEach(u=>u.addEventListener("abort",s));const{signal:l}=r;return l.unsubscribe=()=>G.asap(a),l}},E$=function*(e,t){let n=e.byteLength;if(n<t){yield e;return}let r=0,i;for(;r<n;)i=r+t,yield e.slice(r,i),r=i},v$=async function*(e,t){for await(const n of T$(e))yield*E$(n,t)},T$=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:n,value:r}=await t.read();if(n)break;yield r}}finally{await t.cancel()}},pT=(e,t,n,r)=>{const i=v$(e,t);let s=0,o,a=l=>{o||(o=!0,r&&r(l))};return new ReadableStream({async pull(l){try{const{done:u,value:c}=await i.next();if(u){a(),l.close();return}let d=c.byteLength;if(n){let f=s+=d;n(f)}l.enqueue(new Uint8Array(c))}catch(u){throw a(u),u}},cancel(l){return a(l),i.return()}},{highWaterMark:2})},kp=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",x2=kp&&typeof ReadableStream=="function",w$=kp&&(typeof TextEncoder=="function"?(e=>t=>e.encode(t))(new TextEncoder):async e=>new Uint8Array(await new Response(e).arrayBuffer())),C2=(e,...t)=>{try{return!!e(...t)}catch{return!1}},x$=x2&&C2(()=>{let e=!1;const t=new Request(On.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),hT=64*1024,Ub=x2&&C2(()=>G.isReadableStream(new Response("").body)),Rf={stream:Ub&&(e=>e.body)};kp&&(e=>{["text","arrayBuffer","blob","formData","stream"].forEach(t=>{!Rf[t]&&(Rf[t]=G.isFunction(e[t])?n=>n[t]():(n,r)=>{throw new Ye(`Response type '${t}' is not supported`,Ye.ERR_NOT_SUPPORT,r)})})})(new Response);const C$=async e=>{if(e==null)return 0;if(G.isBlob(e))return e.size;if(G.isSpecCompliantForm(e))return(await new Request(On.origin,{method:"POST",body:e}).arrayBuffer()).byteLength;if(G.isArrayBufferView(e)||G.isArrayBuffer(e))return e.byteLength;if(G.isURLSearchParams(e)&&(e=e+""),G.isString(e))return(await w$(e)).byteLength},S$=async(e,t)=>{const n=G.toFiniteNumber(e.getContentLength());return n??C$(t)},A$=kp&&(async e=>{let{url:t,method:n,data:r,signal:i,cancelToken:s,timeout:o,onDownloadProgress:a,onUploadProgress:l,responseType:u,headers:c,withCredentials:d="same-origin",fetchOptions:f}=w2(e);u=u?(u+"").toLowerCase():"text";let p=_$([i,s&&s.toAbortSignal()],o),m;const g=p&&p.unsubscribe&&(()=>{p.unsubscribe()});let b;try{if(l&&x$&&n!=="get"&&n!=="head"&&(b=await S$(c,r))!==0){let R=new Request(t,{method:"POST",body:r,duplex:"half"}),_;if(G.isFormData(r)&&(_=R.headers.get("content-type"))&&c.setContentType(_),R.body){const[D,j]=cT(b,Nf(dT(l)));r=pT(R.body,hT,D,j)}}G.isString(d)||(d=d?"include":"omit");const y="credentials"in Request.prototype;m=new Request(t,{...f,signal:p,method:n.toUpperCase(),headers:c.normalize().toJSON(),body:r,duplex:"half",credentials:y?d:void 0});let E=await fetch(m);const v=Ub&&(u==="stream"||u==="response");if(Ub&&(a||v&&g)){const R={};["status","statusText","headers"].forEach(P=>{R[P]=E[P]});const _=G.toFiniteNumber(E.headers.get("content-length")),[D,j]=a&&cT(_,Nf(dT(a),!0))||[];E=new Response(pT(E.body,hT,D,()=>{j&&j(),g&&g()}),R)}u=u||"text";let w=await Rf[G.findKey(Rf,u)||"text"](E,e);return!v&&g&&g(),await new Promise((R,_)=>{v2(R,_,{data:w,headers:tr.from(E.headers),status:E.status,statusText:E.statusText,config:e,request:m})})}catch(y){throw g&&g(),y&&y.name==="TypeError"&&/fetch/i.test(y.message)?Object.assign(new Ye("Network Error",Ye.ERR_NETWORK,e,m),{cause:y.cause||y}):Ye.from(y,y&&y.code,e,m)}}),Hb={http:zF,xhr:y$,fetch:A$};G.forEach(Hb,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const mT=e=>`- ${e}`,O$=e=>G.isFunction(e)||e===null||e===!1,S2={getAdapter:e=>{e=G.isArray(e)?e:[e];const{length:t}=e;let n,r;const i={};for(let s=0;s<t;s++){n=e[s];let o;if(r=n,!O$(n)&&(r=Hb[(o=String(n)).toLowerCase()],r===void 0))throw new Ye(`Unknown adapter '${o}'`);if(r)break;i[o||"#"+s]=r}if(!r){const s=Object.entries(i).map(([a,l])=>`adapter ${a} `+(l===!1?"is not supported by the environment":"is not available in the build"));let o=t?s.length>1?`since :
`+s.map(mT).join(`
`):" "+mT(s[0]):"as no adapter specified";throw new Ye("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return r},adapters:Hb};function Gh(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Sl(null,e)}function gT(e){return Gh(e),e.headers=tr.from(e.headers),e.data=Wh.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),S2.getAdapter(e.adapter||Fc.adapter)(e).then(function(r){return Gh(e),r.data=Wh.call(e,e.transformResponse,r),r.headers=tr.from(r.headers),r},function(r){return E2(r)||(Gh(e),r&&r.response&&(r.response.data=Wh.call(e,e.transformResponse,r.response),r.response.headers=tr.from(r.response.headers))),Promise.reject(r)})}const A2="1.7.9",Ip={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{Ip[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}});const bT={};Ip.transitional=function(t,n,r){function i(s,o){return"[Axios v"+A2+"] Transitional option '"+s+"'"+o+(r?". "+r:"")}return(s,o,a)=>{if(t===!1)throw new Ye(i(o," has been removed"+(n?" in "+n:"")),Ye.ERR_DEPRECATED);return n&&!bT[o]&&(bT[o]=!0,console.warn(i(o," has been deprecated since v"+n+" and will be removed in the near future"))),t?t(s,o,a):!0}};Ip.spelling=function(t){return(n,r)=>(console.warn(`${r} is likely a misspelling of ${t}`),!0)};function k$(e,t,n){if(typeof e!="object")throw new Ye("options must be an object",Ye.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let i=r.length;for(;i-- >0;){const s=r[i],o=t[s];if(o){const a=e[s],l=a===void 0||o(a,s,e);if(l!==!0)throw new Ye("option "+s+" must be "+l,Ye.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new Ye("Unknown option "+s,Ye.ERR_BAD_OPTION)}}const Zd={assertOptions:k$,validators:Ip},vi=Zd.validators;let Uo=class{constructor(t){this.defaults=t,this.interceptors={request:new lT,response:new lT}}async request(t,n){try{return await this._request(t,n)}catch(r){if(r instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const s=i.stack?i.stack.replace(/^.+\n/,""):"";try{r.stack?s&&!String(r.stack).endsWith(s.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+s):r.stack=s}catch{}}throw r}}_request(t,n){typeof t=="string"?(n=n||{},n.url=t):n=t||{},n=Ko(this.defaults,n);const{transitional:r,paramsSerializer:i,headers:s}=n;r!==void 0&&Zd.assertOptions(r,{silentJSONParsing:vi.transitional(vi.boolean),forcedJSONParsing:vi.transitional(vi.boolean),clarifyTimeoutError:vi.transitional(vi.boolean)},!1),i!=null&&(G.isFunction(i)?n.paramsSerializer={serialize:i}:Zd.assertOptions(i,{encode:vi.function,serialize:vi.function},!0)),Zd.assertOptions(n,{baseUrl:vi.spelling("baseURL"),withXsrfToken:vi.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let o=s&&G.merge(s.common,s[n.method]);s&&G.forEach(["delete","get","head","post","put","patch","common"],m=>{delete s[m]}),n.headers=tr.concat(o,s);const a=[];let l=!0;this.interceptors.request.forEach(function(g){typeof g.runWhen=="function"&&g.runWhen(n)===!1||(l=l&&g.synchronous,a.unshift(g.fulfilled,g.rejected))});const u=[];this.interceptors.response.forEach(function(g){u.push(g.fulfilled,g.rejected)});let c,d=0,f;if(!l){const m=[gT.bind(this),void 0];for(m.unshift.apply(m,a),m.push.apply(m,u),f=m.length,c=Promise.resolve(n);d<f;)c=c.then(m[d++],m[d++]);return c}f=a.length;let p=n;for(d=0;d<f;){const m=a[d++],g=a[d++];try{p=m(p)}catch(b){g.call(this,b);break}}try{c=gT.call(this,p)}catch(m){return Promise.reject(m)}for(d=0,f=u.length;d<f;)c=c.then(u[d++],u[d++]);return c}getUri(t){t=Ko(this.defaults,t);const n=T2(t.baseURL,t.url);return b2(n,t.params,t.paramsSerializer)}};G.forEach(["delete","get","head","options"],function(t){Uo.prototype[t]=function(n,r){return this.request(Ko(r||{},{method:t,url:n,data:(r||{}).data}))}});G.forEach(["post","put","patch"],function(t){function n(r){return function(s,o,a){return this.request(Ko(a||{},{method:t,headers:r?{"Content-Type":"multipart/form-data"}:{},url:s,data:o}))}}Uo.prototype[t]=n(),Uo.prototype[t+"Form"]=n(!0)});let I$=class O2{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(s){n=s});const r=this;this.promise.then(i=>{if(!r._listeners)return;let s=r._listeners.length;for(;s-- >0;)r._listeners[s](i);r._listeners=null}),this.promise.then=i=>{let s;const o=new Promise(a=>{r.subscribe(a),s=a}).then(i);return o.cancel=function(){r.unsubscribe(s)},o},t(function(s,o,a){r.reason||(r.reason=new Sl(s,o,a),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const n=this._listeners.indexOf(t);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const t=new AbortController,n=r=>{t.abort(r)};return this.subscribe(n),t.signal.unsubscribe=()=>this.unsubscribe(n),t.signal}static source(){let t;return{token:new O2(function(i){t=i}),cancel:t}}};function N$(e){return function(n){return e.apply(null,n)}}function R$(e){return G.isObject(e)&&e.isAxiosError===!0}const zb={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(zb).forEach(([e,t])=>{zb[t]=e});function k2(e){const t=new Uo(e),n=s2(Uo.prototype.request,t);return G.extend(n,Uo.prototype,t,{allOwnKeys:!0}),G.extend(n,t,null,{allOwnKeys:!0}),n.create=function(i){return k2(Ko(e,i))},n}const Ht=k2(Fc);Ht.Axios=Uo;Ht.CanceledError=Sl;Ht.CancelToken=I$;Ht.isCancel=E2;Ht.VERSION=A2;Ht.toFormData=Op;Ht.AxiosError=Ye;Ht.Cancel=Ht.CanceledError;Ht.all=function(t){return Promise.all(t)};Ht.spread=N$;Ht.isAxiosError=R$;Ht.mergeConfig=Ko;Ht.AxiosHeaders=tr;Ht.formToJSON=e=>_2(G.isHTMLForm(e)?new FormData(e):e);Ht.getAdapter=S2.getAdapter;Ht.HttpStatusCode=zb;Ht.default=Ht;const{Axios:dCe,AxiosError:fCe,CanceledError:pCe,isCancel:hCe,CancelToken:mCe,VERSION:gCe,all:bCe,Cancel:yCe,isAxiosError:_Ce,spread:ECe,toFormData:vCe,AxiosHeaders:TCe,HttpStatusCode:wCe,formToJSON:xCe,getAdapter:CCe,mergeConfig:SCe}=Ht,Z=Ht.create({baseURL:"",withCredentials:!0,headers:{Accept:"application/json","Content-Type":"application/json",common:{"X-Requested-With":"XMLHttpRequest"}}});function $c(e){return e.response&&e.response.status===422&&e.response.data.errors}function I2(e){return e.response&&[401,402,403].includes(e.response.status)}const ls=function(e={},t){let n=e;if(Object.keys(e).includes("filter")){const{filter:i,...s}=e;n={...i,...s}}const r=[];delete n.currentPage;for(const i in n)n[i]===null||n[i]===void 0||(Array.isArray(n[i])?n[i].forEach(s=>{r.push(`${encodeURIComponent(i)}[]=${encodeURIComponent(s)}`)}):typeof n[i]=="object"&&n!==null?Object.keys(n[i]).forEach(s=>{const o=n[i][s];Array.isArray(o)?o.forEach((a,l)=>{r.push(`${encodeURIComponent(i)}[${s}][${l}]=${a}`)}):r.push(`${encodeURIComponent(i)}[${s}]=${o}`)}):r.push(`${encodeURIComponent(i)}=${encodeURIComponent(n[i])}`));return r.length>0?`?${r.join("&")}`:""},D$={notifications:{cc:{steps:[1,4],recipients:[["cdwg_oversightcommittee@clinicalgenome.org","CDWG Oversite Committee"],["clingentrackerhelp@unc.edu","Clingen Tracker Help"],["volunteer@clinicalgenome.org","CCDB Support"],["erepo@clinicalgenome.org","ERepo Support"],["clingen-helpdesk@lists.stanford.edu","GCI/VCI Support"]]}},steps:{1:"Group Definition",2:"Draft Specifications",3:"Pilot Specifications",4:"Sustained Curation"}},M$={assignees:{"cdwg-oc":{name:"CDWG OC",short_name:"CDWG",id:1},"expert-panel":{name:"Expert Panel",short_name:"EP",id:2},"svi-vcep-review-committee":{name:"SVI VCEP Review Committee",short_name:"SVI",id:3},"gene-curation-core-group":{name:"Gene Curation Core Group",short_name:"GC",id:4},chairs:{name:"CDWG OC chairs",short_name:"Chairs",id:5}},types:{"review-submission":{id:1,name:"review submission",description:"Admin group should review submission",default_entry:"Review application and respond to EP."},"make-revisions":{id:2,name:"make revisions",description:"The group has application revisions to complted",default_entry:"Update application and resubmit for approval."},"chair-review":{id:3,name:"chair review",description:"Chairs should review the application and provide feedback",default_entry:"Chairs review application and provide feedback."}}},P$={address:"gpm-test@test.com",name:"GPM"},L$={types:{wg:{id:1,name:"wg",fullname:"Working Group",display_name:"Working Group",description:"A working group that is not a Clinical Domain Working Group",can_be_parent:!0,curation_product:null},cdwg:{id:2,name:"cdwg",fullname:"Clinical Domain Working Group",display_name:"Clinical Domain Working Group",description:"A Clinical Domain Working Group that oversees Expert Panels.",can_be_parent:!0,curation_product:null},gcep:{id:3,name:"gcep",fullname:"Gene Curation Expert Panel",display_name:"GCEP",description:"A Gene curation expert panel",can_be_parent:!1,curation_product:"gene_disease_validity"},vcep:{id:4,name:"vcep",display_name:"VCEP",fullname:"Variant Curation Expert Panel",description:"A Variant curation expert panel",can_be_parent:!1,curation_product:"variant_pathogenicity"},scvcep:{id:5,name:"scvcep",fullname:"Somatic Cancer Variant Curation Expert Panel",display_name:"SCVCEP",description:"A Somatic cancer variant curation expert panel",can_be_parent:!1,curation_product:"variant_pathogenicity",is_somatic_cancer:!0}},statuses:{applying:{id:1,name:"applying"},active:{id:2,name:"active"},retired:{id:3,name:"retired"},removed:{id:4,name:"removed"},inactive:{id:5,name:"inactive"}},statusColors:{1:"blue",2:"green",3:"gray",4:"black",5:"gray"},roles:{coordinator:{id:101,name:"coordinator",display_name:"Coordinator",description:"The coordinator of the group. Has all group permissions."},chair:{id:102,name:"chair",display_name:"Chair",description:"A chair/co-chair of the group.  No default permissions."},biocurator:{id:103,name:"biocurator",display_name:"Biocurator",description:"Biocurator designation.  No default permissions."},expert:{id:104,name:"expert",display_name:"Expert",description:"Expert designation.  No default permissions."},"core-approval-member":{id:105,name:"core-approval-member",display_name:"Core Approval Member",description:"Core approval member designation.  No default permissions."},"biocurator-trainer":{id:106,name:"biocurator-trainer",display_name:"Biocurator trainer",description:"Biocurator trainer designation.  No default permissions."},"grant-liaison":{id:107,name:"grant-liaison",display_name:"Grant Liaison",description:"Grant liaison designation.  No default permissions."},annotator:{id:108,name:"annotator",display_name:"Annotator",description:"Annotator designation.  No default permissions."},"civic-editor":{id:109,name:"civic-editor",display_name:"CIViC Editor",description:"Individual who approves the submission of edits to CIViC. Indicates a higher level of training.  No default permissions."}},permissions:{"info-edit":{id:1001,name:"info-edit",display_name:"Edit Info",description:"Can edit group name."},"members-invite":{id:1002,name:"members-invite",display_name:"Invite Members",description:"Can invite people to join the group."},"members-retire":{id:1003,name:"members-retire",display_name:"Retire Members",description:"Can retire group members."},"members-remove":{id:1004,name:"members-remove",display_name:"Remove Members",description:"Can remove group members."},"members-update":{id:1005,name:"members-update",display_name:"Update Members",description:"Can update group member information."},"application-read":{id:1006,name:"application-read",display_name:"Read Application",description:"Can read the group's application (if applicable)."},"application-edit":{id:1007,name:"application-edit",display_name:"Edit Application",description:"Can update group's application (if applicable)."},"annual-update-manage":{id:1008,name:"annual-update-manage",display_name:"Manage Annual Update",description:"Can edit and submit an annual update."}},rolePermissions:{coordinator:[1001,1002,1003,1004,1005,1006,1007,1008],"grant-liaison":[1008]}},B$={roles:{"super-user":{id:1,name:"super-user",display_name:"SuperUser",description:"Full access user with ALL permissions.  Reserved for programmers and technically versed users charged with administering the application.",guard_name:"web",scope:"system"},"super-admin":{id:2,name:"super-admin",display_name:"SuperAdmin",description:"Administrator with full group, application, annual update, and person management permissions.  A super-admin should be able take any action that does not require technical expertise.",guard_name:"web",scope:"system"},admin:{id:3,name:"admin",display_name:"Admin",description:"Has standard admin privileges and can manage invites, groups, and people.",guard_name:"web",scope:"system"}},permissions:{"users-manage":{id:1,name:"users-manage",display_name:"Manage users",description:"Edit user roles and permissions (limited based on role).",guard_name:"web",scope:"system"},"logs-view":{id:2,name:"logs-view",display_name:"View System Logs",description:"View system logs.",guard_name:"web",scope:"system"},"mail-log-view":{id:3,name:"mail-log-view",display_name:"View Mail Logs",description:"View mail logs and resend email.",guard_name:"web",scope:"system"},"invites-view":{id:4,name:"invites-view",display_name:"View Invites",description:"Invite administration.",guard_name:"web",scope:"system"},"announcements-manage":{id:5,name:"announcements-manage",display_name:"Manage announcements",description:"Create announcements.",guard_name:"web",scope:"system"},"group-manage":{id:10,name:"groups-manage",display_name:"Manage groups",description:"Create, update, delete groups.",guard_name:"web",scope:"system"},"people-manage":{id:20,name:"people-manage",display_name:"Manage people",description:"Create, update, delete, merge people.",guard_name:"web",scope:"system"},"ep-applications-manage":{id:30,name:"ep-applications-manage",display_name:"Manage applications",description:"Create and update applications; mark aplications approved.",guard_name:"web",scope:"system"},"ep-applications-comment":{id:31,name:"ep-applications-comment",display_name:"Comment on applications",description:"Create and update comments on submitted EP applications",guard_name:"web",scope:"system"},"ep-applications-approve":{id:32,name:"ep-applications-approve",display_name:"Approve expert panel applications",description:"Approve a submitted application",guard_name:"web",scope:"system"},"annual-updates-manage":{id:40,name:"annual-updates-manage",display_name:"Manage Annual Updates",description:"Create and update applications; create a new annual update window.",guard_name:"web",scope:"system"},"comments-manage":{id:50,name:"comments-manage",display_name:"Manage comments",description:"Can edit/delete comments made by other users.",scope:"system",guard_name:"web"},"reports-pull":{id:6,name:"reports-pull",display_name:"Pull Reports",description:"Can pull predefined reports.",guard_name:"web",scope:"system"}},rolePermissions:{"super-user":[1,2,3,4,5,6,10,20,30,31,40,50],"super-admin":[1,3,4,5,6,10,20,30,40,50],admin:[3,4,6,10,20]}},F$={severities:{blocking:{name:"This bug is preventing me from completing my tasks.",id:"15555"},incorrect:{name:"This bug presents incorrect information and/or causes confusion.",id:"15558"},inconvenient:{name:"This bug is inconvenient but doesn't block my work.",id:"15556"},unsightly:{name:"This bug is unsightly.",id:"15557"}}},$$={types:{application:{definition:{id:1,name:"Definition",description:"VCEP step 1 and GCEP application"},"sustained-curation":{id:2,name:"Sustained Curation",description:"VCEP step 4"}}},typesByStep:{1:{id:1,name:"Definition",description:"VCEP step 1 and GCEP application"},2:null,3:null,4:{id:2,name:"Sustained Curation",description:"VCEP step 4"}},statuses:{pending:{id:1,name:"Pending",description:"Submission does not have a response."},"revisions-requested":{id:2,name:"Revisions Requested",description:"Submitted item must be revised and resubmitted with no promise of approval."},"under-chair-review":{id:3,name:"Under Chair Review",description:"Submitted item has been sent to CDWG OC Chairs for review."},approved:{id:4,name:"Approved",description:"Submitted item is unconditionally approved."}},decisions:["request-revisions","approve-after-revisions","approve"]},U$={notifyScopeChange:!0,specificationUpload:!0,cspecSummary:!0,chairReview:!0},H$={scope:{id:1,name:"scope",long_name:"scope and membership application",is_versioned:!0,application_document:!0},draftSpecs:{id:2,name:"draft-specs",long_name:"draft specifications",is_versioned:!0,application_document:!0},finalSpecs:{id:3,name:"final-specs",long_name:"final specifications",is_versioned:!0,application_document:!0},pilotClass:{id:4,name:"pilot-class",long_name:"pilot classifications",is_versioned:!0,application_document:!0},finalApp:{id:5,name:"final-app",long_name:"final approved application",is_versioned:!0,application_document:!0},coi:{id:6,name:"coi",long_name:"Conflict of interest (legacy)",is_versioned:!0,application_document:!0},pilotAdditional:{id:7,name:"pilot-additional",long_name:"additional pilot",is_versioned:!0,application_document:!0},miscellaneous:{id:100,name:"miscellaneous",long_name:"miscellaneous",is_versioned:!1,application_document:!1}},an={expertPanels:D$,nextActions:M$,mailFrom:P$,groups:L$,system:B$,feedback:F$,submissions:$$,appFeatures:U$,documentsTypes:H$},z$=an.feedback,j$={name:"ComponentName",props:{},data(){return{showFaq:!1,faqMarkdown:null,errors:{}}},computed:{severities(){return z$.severities}},methods:{showTheFaq(){this.fetchFaq(),this.showFaq=!0},fetchFaq(){Z.get("/api/docs/faq").then(e=>this.faqMarkdown=e.data)}}},q$={key:0},V$={key:0};function W$(e,t,n,r,i,s){const o=Y("icon-question"),a=Y("faq-link"),l=Y("popover"),u=Y("markdown-block"),c=Y("modal-dialog");return e.$store.getters.isAuthed?(x(),L("div",q$,[z(l,{hover:"",arrow:"",placement:"left"},{content:V(()=>t[1]||(t[1]=[S("div",{class:"whitespace-no-wrap w-28 text-xs"}," Read the GPM FAQ ",-1)])),default:V(()=>[z(a,{class:"block custom-text text-white bg-blue-600 border border-blue-700 border-r-0 pl-3 pr-3 py-2 rounded-l-lg shadow-lg print:hidden"},{default:V(()=>[z(o)]),_:1})]),_:1}),(x(),fe(Er,{to:"body"},[z(c,{modelValue:i.showFaq,"onUpdate:modelValue":t[0]||(t[0]=d=>i.showFaq=d),title:"ClinGen GPM Frequently Asked Questions"},{default:V(()=>[i.faqMarkdown?Oe("",!0):(x(),L("div",V$," Loading FAQ... ")),z(u,{markdown:i.faqMarkdown,class:"faq"},null,8,["markdown"])]),_:1},8,["modelValue"])]))])):Oe("",!0)}const G$=ne(j$,[["render",W$]]),Y$=Object.freeze(Object.defineProperty({__proto__:null,default:G$},Symbol.toStringTag,{value:"Module"}));var N2=typeof global=="object"&&global&&global.Object===Object&&global,K$=typeof self=="object"&&self&&self.Object===Object&&self,di=N2||K$||Function("return this")(),Pi=di.Symbol,R2=Object.prototype,X$=R2.hasOwnProperty,Q$=R2.toString,jl=Pi?Pi.toStringTag:void 0;function J$(e){var t=X$.call(e,jl),n=e[jl];try{e[jl]=void 0;var r=!0}catch{}var i=Q$.call(e);return r&&(t?e[jl]=n:delete e[jl]),i}var Z$=Object.prototype,e5=Z$.toString;function t5(e){return e5.call(e)}var n5="[object Null]",r5="[object Undefined]",yT=Pi?Pi.toStringTag:void 0;function Al(e){return e==null?e===void 0?r5:n5:yT&&yT in Object(e)?J$(e):t5(e)}function ao(e){return e!=null&&typeof e=="object"}var i5="[object Symbol]";function Np(e){return typeof e=="symbol"||ao(e)&&Al(e)==i5}function s5(e,t){for(var n=-1,r=e==null?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}var lo=Array.isArray,_T=Pi?Pi.prototype:void 0,ET=_T?_T.toString:void 0;function D2(e){if(typeof e=="string")return e;if(lo(e))return s5(e,D2)+"";if(Np(e))return ET?ET.call(e):"";var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}var o5=/\s/;function a5(e){for(var t=e.length;t--&&o5.test(e.charAt(t)););return t}var l5=/^\s+/;function u5(e){return e&&e.slice(0,a5(e)+1).replace(l5,"")}function ni(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var vT=NaN,c5=/^[-+]0x[0-9a-f]+$/i,d5=/^0b[01]+$/i,f5=/^0o[0-7]+$/i,p5=parseInt;function jb(e){if(typeof e=="number")return e;if(Np(e))return vT;if(ni(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=ni(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=u5(e);var n=d5.test(e);return n||f5.test(e)?p5(e.slice(2),n?2:8):c5.test(e)?vT:+e}var h5=1/0,m5=17976931348623157e292;function Yh(e){if(!e)return e===0?e:0;if(e=jb(e),e===h5||e===-1/0){var t=e<0?-1:1;return t*m5}return e===e?e:0}var g5="[object AsyncFunction]",b5="[object Function]",y5="[object GeneratorFunction]",_5="[object Proxy]";function M2(e){if(!ni(e))return!1;var t=Al(e);return t==b5||t==y5||t==g5||t==_5}var Kh=di["__core-js_shared__"],TT=function(){var e=/[^.]+$/.exec(Kh&&Kh.keys&&Kh.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function E5(e){return!!TT&&TT in e}var v5=Function.prototype,T5=v5.toString;function oa(e){if(e!=null){try{return T5.call(e)}catch{}try{return e+""}catch{}}return""}var w5=/[\\^$.*+?()[\]{}|]/g,x5=/^\[object .+?Constructor\]$/,C5=Function.prototype,S5=Object.prototype,A5=C5.toString,O5=S5.hasOwnProperty,k5=RegExp("^"+A5.call(O5).replace(w5,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function I5(e){if(!ni(e)||E5(e))return!1;var t=M2(e)?k5:x5;return t.test(oa(e))}function N5(e,t){return e==null?void 0:e[t]}function aa(e,t){var n=N5(e,t);return I5(n)?n:void 0}var qb=aa(di,"WeakMap"),wT=Object.create,R5=function(){function e(){}return function(t){if(!ni(t))return{};if(wT)return wT(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();function D5(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}var xT=function(){try{var e=aa(Object,"defineProperty");return e({},"",{}),e}catch{}}();function M5(e,t){for(var n=-1,r=e==null?0:e.length;++n<r&&t(e[n],n,e)!==!1;);return e}var P5=9007199254740991,L5=/^(?:0|[1-9]\d*)$/;function qy(e,t){var n=typeof e;return t=t??P5,!!t&&(n=="number"||n!="symbol"&&L5.test(e))&&e>-1&&e%1==0&&e<t}function P2(e,t,n){t=="__proto__"&&xT?xT(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function Rp(e,t){return e===t||e!==e&&t!==t}var B5=Object.prototype,F5=B5.hasOwnProperty;function Vy(e,t,n){var r=e[t];(!(F5.call(e,t)&&Rp(r,n))||n===void 0&&!(t in e))&&P2(e,t,n)}function Dp(e,t,n,r){var i=!n;n||(n={});for(var s=-1,o=t.length;++s<o;){var a=t[s],l=void 0;l===void 0&&(l=e[a]),i?P2(n,a,l):Vy(n,a,l)}return n}var $5=9007199254740991;function L2(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=$5}function Wy(e){return e!=null&&L2(e.length)&&!M2(e)}function U5(e,t,n){if(!ni(n))return!1;var r=typeof t;return(r=="number"?Wy(n)&&qy(t,n.length):r=="string"&&t in n)?Rp(n[t],e):!1}var H5=Object.prototype;function Gy(e){var t=e&&e.constructor,n=typeof t=="function"&&t.prototype||H5;return e===n}function z5(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}var j5="[object Arguments]";function CT(e){return ao(e)&&Al(e)==j5}var B2=Object.prototype,q5=B2.hasOwnProperty,V5=B2.propertyIsEnumerable,W5=CT(function(){return arguments}())?CT:function(e){return ao(e)&&q5.call(e,"callee")&&!V5.call(e,"callee")};function G5(){return!1}var F2=typeof exports=="object"&&exports&&!exports.nodeType&&exports,ST=F2&&typeof module=="object"&&module&&!module.nodeType&&module,Y5=ST&&ST.exports===F2,AT=Y5?di.Buffer:void 0,K5=AT?AT.isBuffer:void 0,Df=K5||G5,X5="[object Arguments]",Q5="[object Array]",J5="[object Boolean]",Z5="[object Date]",eU="[object Error]",tU="[object Function]",nU="[object Map]",rU="[object Number]",iU="[object Object]",sU="[object RegExp]",oU="[object Set]",aU="[object String]",lU="[object WeakMap]",uU="[object ArrayBuffer]",cU="[object DataView]",dU="[object Float32Array]",fU="[object Float64Array]",pU="[object Int8Array]",hU="[object Int16Array]",mU="[object Int32Array]",gU="[object Uint8Array]",bU="[object Uint8ClampedArray]",yU="[object Uint16Array]",_U="[object Uint32Array]",kt={};kt[dU]=kt[fU]=kt[pU]=kt[hU]=kt[mU]=kt[gU]=kt[bU]=kt[yU]=kt[_U]=!0;kt[X5]=kt[Q5]=kt[uU]=kt[J5]=kt[cU]=kt[Z5]=kt[eU]=kt[tU]=kt[nU]=kt[rU]=kt[iU]=kt[sU]=kt[oU]=kt[aU]=kt[lU]=!1;function EU(e){return ao(e)&&L2(e.length)&&!!kt[Al(e)]}function Yy(e){return function(t){return e(t)}}var $2=typeof exports=="object"&&exports&&!exports.nodeType&&exports,ku=$2&&typeof module=="object"&&module&&!module.nodeType&&module,vU=ku&&ku.exports===$2,Xh=vU&&N2.process,tl=function(){try{var e=ku&&ku.require&&ku.require("util").types;return e||Xh&&Xh.binding&&Xh.binding("util")}catch{}}(),OT=tl&&tl.isTypedArray,U2=OT?Yy(OT):EU,TU=Object.prototype,wU=TU.hasOwnProperty;function H2(e,t){var n=lo(e),r=!n&&W5(e),i=!n&&!r&&Df(e),s=!n&&!r&&!i&&U2(e),o=n||r||i||s,a=o?z5(e.length,String):[],l=a.length;for(var u in e)(t||wU.call(e,u))&&!(o&&(u=="length"||i&&(u=="offset"||u=="parent")||s&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||qy(u,l)))&&a.push(u);return a}function z2(e,t){return function(n){return e(t(n))}}var xU=z2(Object.keys,Object),CU=Object.prototype,SU=CU.hasOwnProperty;function AU(e){if(!Gy(e))return xU(e);var t=[];for(var n in Object(e))SU.call(e,n)&&n!="constructor"&&t.push(n);return t}function Ky(e){return Wy(e)?H2(e):AU(e)}function OU(e){var t=[];if(e!=null)for(var n in Object(e))t.push(n);return t}var kU=Object.prototype,IU=kU.hasOwnProperty;function NU(e){if(!ni(e))return OU(e);var t=Gy(e),n=[];for(var r in e)r=="constructor"&&(t||!IU.call(e,r))||n.push(r);return n}function Xy(e){return Wy(e)?H2(e,!0):NU(e)}var RU=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,DU=/^\w*$/;function MU(e,t){if(lo(e))return!1;var n=typeof e;return n=="number"||n=="symbol"||n=="boolean"||e==null||Np(e)?!0:DU.test(e)||!RU.test(e)||t!=null&&e in Object(t)}var oc=aa(Object,"create");function PU(){this.__data__=oc?oc(null):{},this.size=0}function LU(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var BU="__lodash_hash_undefined__",FU=Object.prototype,$U=FU.hasOwnProperty;function UU(e){var t=this.__data__;if(oc){var n=t[e];return n===BU?void 0:n}return $U.call(t,e)?t[e]:void 0}var HU=Object.prototype,zU=HU.hasOwnProperty;function jU(e){var t=this.__data__;return oc?t[e]!==void 0:zU.call(t,e)}var qU="__lodash_hash_undefined__";function VU(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=oc&&t===void 0?qU:t,this}function Xo(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Xo.prototype.clear=PU;Xo.prototype.delete=LU;Xo.prototype.get=UU;Xo.prototype.has=jU;Xo.prototype.set=VU;function WU(){this.__data__=[],this.size=0}function Mp(e,t){for(var n=e.length;n--;)if(Rp(e[n][0],t))return n;return-1}var GU=Array.prototype,YU=GU.splice;function KU(e){var t=this.__data__,n=Mp(t,e);if(n<0)return!1;var r=t.length-1;return n==r?t.pop():YU.call(t,n,1),--this.size,!0}function XU(e){var t=this.__data__,n=Mp(t,e);return n<0?void 0:t[n][1]}function QU(e){return Mp(this.__data__,e)>-1}function JU(e,t){var n=this.__data__,r=Mp(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this}function _s(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}_s.prototype.clear=WU;_s.prototype.delete=KU;_s.prototype.get=XU;_s.prototype.has=QU;_s.prototype.set=JU;var ac=aa(di,"Map");function ZU(){this.size=0,this.__data__={hash:new Xo,map:new(ac||_s),string:new Xo}}function e9(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}function Pp(e,t){var n=e.__data__;return e9(t)?n[typeof t=="string"?"string":"hash"]:n.map}function t9(e){var t=Pp(this,e).delete(e);return this.size-=t?1:0,t}function n9(e){return Pp(this,e).get(e)}function r9(e){return Pp(this,e).has(e)}function i9(e,t){var n=Pp(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this}function Es(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Es.prototype.clear=ZU;Es.prototype.delete=t9;Es.prototype.get=n9;Es.prototype.has=r9;Es.prototype.set=i9;var s9="Expected a function";function Qy(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(s9);var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],s=n.cache;if(s.has(i))return s.get(i);var o=e.apply(this,r);return n.cache=s.set(i,o)||s,o};return n.cache=new(Qy.Cache||Es),n}Qy.Cache=Es;var o9=500;function a9(e){var t=Qy(e,function(r){return n.size===o9&&n.clear(),r}),n=t.cache;return t}var l9=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,u9=/\\(\\)?/g,c9=a9(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(l9,function(n,r,i,s){t.push(i?s.replace(u9,"$1"):r||n)}),t});function d9(e){return e==null?"":D2(e)}function j2(e,t){return lo(e)?e:MU(e,t)?[e]:c9(d9(e))}function q2(e){if(typeof e=="string"||Np(e))return e;var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}function f9(e,t){t=j2(t,e);for(var n=0,r=t.length;e!=null&&n<r;)e=e[q2(t[n++])];return n&&n==r?e:void 0}function kT(e,t,n){var r=e==null?void 0:f9(e,t);return r===void 0?n:r}function V2(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}var W2=z2(Object.getPrototypeOf,Object);function p9(){this.__data__=new _s,this.size=0}function h9(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}function m9(e){return this.__data__.get(e)}function g9(e){return this.__data__.has(e)}var b9=200;function y9(e,t){var n=this.__data__;if(n instanceof _s){var r=n.__data__;if(!ac||r.length<b9-1)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new Es(r)}return n.set(e,t),this.size=n.size,this}function us(e){var t=this.__data__=new _s(e);this.size=t.size}us.prototype.clear=p9;us.prototype.delete=h9;us.prototype.get=m9;us.prototype.has=g9;us.prototype.set=y9;function _9(e,t){return e&&Dp(t,Ky(t),e)}function E9(e,t){return e&&Dp(t,Xy(t),e)}var G2=typeof exports=="object"&&exports&&!exports.nodeType&&exports,IT=G2&&typeof module=="object"&&module&&!module.nodeType&&module,v9=IT&&IT.exports===G2,NT=v9?di.Buffer:void 0,RT=NT?NT.allocUnsafe:void 0;function T9(e,t){if(t)return e.slice();var n=e.length,r=RT?RT(n):new e.constructor(n);return e.copy(r),r}function w9(e,t){for(var n=-1,r=e==null?0:e.length,i=0,s=[];++n<r;){var o=e[n];t(o,n,e)&&(s[i++]=o)}return s}function Y2(){return[]}var x9=Object.prototype,C9=x9.propertyIsEnumerable,DT=Object.getOwnPropertySymbols,Jy=DT?function(e){return e==null?[]:(e=Object(e),w9(DT(e),function(t){return C9.call(e,t)}))}:Y2;function S9(e,t){return Dp(e,Jy(e),t)}var A9=Object.getOwnPropertySymbols,K2=A9?function(e){for(var t=[];e;)V2(t,Jy(e)),e=W2(e);return t}:Y2;function O9(e,t){return Dp(e,K2(e),t)}function X2(e,t,n){var r=t(e);return lo(e)?r:V2(r,n(e))}function Vb(e){return X2(e,Ky,Jy)}function k9(e){return X2(e,Xy,K2)}var Wb=aa(di,"DataView"),Gb=aa(di,"Promise"),Yb=aa(di,"Set"),MT="[object Map]",I9="[object Object]",PT="[object Promise]",LT="[object Set]",BT="[object WeakMap]",FT="[object DataView]",N9=oa(Wb),R9=oa(ac),D9=oa(Gb),M9=oa(Yb),P9=oa(qb),Xr=Al;(Wb&&Xr(new Wb(new ArrayBuffer(1)))!=FT||ac&&Xr(new ac)!=MT||Gb&&Xr(Gb.resolve())!=PT||Yb&&Xr(new Yb)!=LT||qb&&Xr(new qb)!=BT)&&(Xr=function(e){var t=Al(e),n=t==I9?e.constructor:void 0,r=n?oa(n):"";if(r)switch(r){case N9:return FT;case R9:return MT;case D9:return PT;case M9:return LT;case P9:return BT}return t});var L9=Object.prototype,B9=L9.hasOwnProperty;function F9(e){var t=e.length,n=new e.constructor(t);return t&&typeof e[0]=="string"&&B9.call(e,"index")&&(n.index=e.index,n.input=e.input),n}var Mf=di.Uint8Array;function Zy(e){var t=new e.constructor(e.byteLength);return new Mf(t).set(new Mf(e)),t}function $9(e,t){var n=t?Zy(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}var U9=/\w*$/;function H9(e){var t=new e.constructor(e.source,U9.exec(e));return t.lastIndex=e.lastIndex,t}var $T=Pi?Pi.prototype:void 0,UT=$T?$T.valueOf:void 0;function z9(e){return UT?Object(UT.call(e)):{}}function j9(e,t){var n=t?Zy(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}var q9="[object Boolean]",V9="[object Date]",W9="[object Map]",G9="[object Number]",Y9="[object RegExp]",K9="[object Set]",X9="[object String]",Q9="[object Symbol]",J9="[object ArrayBuffer]",Z9="[object DataView]",eH="[object Float32Array]",tH="[object Float64Array]",nH="[object Int8Array]",rH="[object Int16Array]",iH="[object Int32Array]",sH="[object Uint8Array]",oH="[object Uint8ClampedArray]",aH="[object Uint16Array]",lH="[object Uint32Array]";function uH(e,t,n){var r=e.constructor;switch(t){case J9:return Zy(e);case q9:case V9:return new r(+e);case Z9:return $9(e,n);case eH:case tH:case nH:case rH:case iH:case sH:case oH:case aH:case lH:return j9(e,n);case W9:return new r;case G9:case X9:return new r(e);case Y9:return H9(e);case K9:return new r;case Q9:return z9(e)}}function cH(e){return typeof e.constructor=="function"&&!Gy(e)?R5(W2(e)):{}}var dH="[object Map]";function fH(e){return ao(e)&&Xr(e)==dH}var HT=tl&&tl.isMap,pH=HT?Yy(HT):fH,hH="[object Set]";function mH(e){return ao(e)&&Xr(e)==hH}var zT=tl&&tl.isSet,gH=zT?Yy(zT):mH,bH=1,yH=2,_H=4,Q2="[object Arguments]",EH="[object Array]",vH="[object Boolean]",TH="[object Date]",wH="[object Error]",J2="[object Function]",xH="[object GeneratorFunction]",CH="[object Map]",SH="[object Number]",Z2="[object Object]",AH="[object RegExp]",OH="[object Set]",kH="[object String]",IH="[object Symbol]",NH="[object WeakMap]",RH="[object ArrayBuffer]",DH="[object DataView]",MH="[object Float32Array]",PH="[object Float64Array]",LH="[object Int8Array]",BH="[object Int16Array]",FH="[object Int32Array]",$H="[object Uint8Array]",UH="[object Uint8ClampedArray]",HH="[object Uint16Array]",zH="[object Uint32Array]",Tt={};Tt[Q2]=Tt[EH]=Tt[RH]=Tt[DH]=Tt[vH]=Tt[TH]=Tt[MH]=Tt[PH]=Tt[LH]=Tt[BH]=Tt[FH]=Tt[CH]=Tt[SH]=Tt[Z2]=Tt[AH]=Tt[OH]=Tt[kH]=Tt[IH]=Tt[$H]=Tt[UH]=Tt[HH]=Tt[zH]=!0;Tt[wH]=Tt[J2]=Tt[NH]=!1;function Iu(e,t,n,r,i,s){var o,a=t&bH,l=t&yH,u=t&_H;if(o!==void 0)return o;if(!ni(e))return e;var c=lo(e);if(c){if(o=F9(e),!a)return D5(e,o)}else{var d=Xr(e),f=d==J2||d==xH;if(Df(e))return T9(e,a);if(d==Z2||d==Q2||f&&!i){if(o=l||f?{}:cH(e),!a)return l?O9(e,E9(o,e)):S9(e,_9(o,e))}else{if(!Tt[d])return i?e:{};o=uH(e,d,a)}}s||(s=new us);var p=s.get(e);if(p)return p;s.set(e,o),gH(e)?e.forEach(function(b){o.add(Iu(b,t,n,b,e,s))}):pH(e)&&e.forEach(function(b,y){o.set(y,Iu(b,t,n,y,e,s))});var m=u?l?k9:Vb:l?Xy:Ky,g=c?void 0:m(e);return M5(g||e,function(b,y){g&&(y=b,b=e[y]),Vy(o,y,Iu(b,t,n,y,e,s))}),o}var jH=4;function qH(e){return Iu(e,jH)}var VH=1,WH=4;function Kb(e){return Iu(e,VH|WH)}var GH="__lodash_hash_undefined__";function YH(e){return this.__data__.set(e,GH),this}function KH(e){return this.__data__.has(e)}function Pf(e){var t=-1,n=e==null?0:e.length;for(this.__data__=new Es;++t<n;)this.add(e[t])}Pf.prototype.add=Pf.prototype.push=YH;Pf.prototype.has=KH;function XH(e,t){for(var n=-1,r=e==null?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}function QH(e,t){return e.has(t)}var JH=1,ZH=2;function eN(e,t,n,r,i,s){var o=n&JH,a=e.length,l=t.length;if(a!=l&&!(o&&l>a))return!1;var u=s.get(e),c=s.get(t);if(u&&c)return u==t&&c==e;var d=-1,f=!0,p=n&ZH?new Pf:void 0;for(s.set(e,t),s.set(t,e);++d<a;){var m=e[d],g=t[d];if(r)var b=o?r(g,m,d,t,e,s):r(m,g,d,e,t,s);if(b!==void 0){if(b)continue;f=!1;break}if(p){if(!XH(t,function(y,E){if(!QH(p,E)&&(m===y||i(m,y,n,r,s)))return p.push(E)})){f=!1;break}}else if(!(m===g||i(m,g,n,r,s))){f=!1;break}}return s.delete(e),s.delete(t),f}function e7(e){var t=-1,n=Array(e.size);return e.forEach(function(r,i){n[++t]=[i,r]}),n}function t7(e){var t=-1,n=Array(e.size);return e.forEach(function(r){n[++t]=r}),n}var n7=1,r7=2,i7="[object Boolean]",s7="[object Date]",o7="[object Error]",a7="[object Map]",l7="[object Number]",u7="[object RegExp]",c7="[object Set]",d7="[object String]",f7="[object Symbol]",p7="[object ArrayBuffer]",h7="[object DataView]",jT=Pi?Pi.prototype:void 0,Qh=jT?jT.valueOf:void 0;function m7(e,t,n,r,i,s,o){switch(n){case h7:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case p7:return!(e.byteLength!=t.byteLength||!s(new Mf(e),new Mf(t)));case i7:case s7:case l7:return Rp(+e,+t);case o7:return e.name==t.name&&e.message==t.message;case u7:case d7:return e==t+"";case a7:var a=e7;case c7:var l=r&n7;if(a||(a=t7),e.size!=t.size&&!l)return!1;var u=o.get(e);if(u)return u==t;r|=r7,o.set(e,t);var c=eN(a(e),a(t),r,i,s,o);return o.delete(e),c;case f7:if(Qh)return Qh.call(e)==Qh.call(t)}return!1}var g7=1,b7=Object.prototype,y7=b7.hasOwnProperty;function _7(e,t,n,r,i,s){var o=n&g7,a=Vb(e),l=a.length,u=Vb(t),c=u.length;if(l!=c&&!o)return!1;for(var d=l;d--;){var f=a[d];if(!(o?f in t:y7.call(t,f)))return!1}var p=s.get(e),m=s.get(t);if(p&&m)return p==t&&m==e;var g=!0;s.set(e,t),s.set(t,e);for(var b=o;++d<l;){f=a[d];var y=e[f],E=t[f];if(r)var v=o?r(E,y,f,t,e,s):r(y,E,f,e,t,s);if(!(v===void 0?y===E||i(y,E,n,r,s):v)){g=!1;break}b||(b=f=="constructor")}if(g&&!b){var w=e.constructor,R=t.constructor;w!=R&&"constructor"in e&&"constructor"in t&&!(typeof w=="function"&&w instanceof w&&typeof R=="function"&&R instanceof R)&&(g=!1)}return s.delete(e),s.delete(t),g}var E7=1,qT="[object Arguments]",VT="[object Array]",yd="[object Object]",v7=Object.prototype,WT=v7.hasOwnProperty;function T7(e,t,n,r,i,s){var o=lo(e),a=lo(t),l=o?VT:Xr(e),u=a?VT:Xr(t);l=l==qT?yd:l,u=u==qT?yd:u;var c=l==yd,d=u==yd,f=l==u;if(f&&Df(e)){if(!Df(t))return!1;o=!0,c=!1}if(f&&!c)return s||(s=new us),o||U2(e)?eN(e,t,n,r,i,s):m7(e,t,l,n,r,i,s);if(!(n&E7)){var p=c&&WT.call(e,"__wrapped__"),m=d&&WT.call(t,"__wrapped__");if(p||m){var g=p?e.value():e,b=m?t.value():t;return s||(s=new us),i(g,b,n,r,s)}}return f?(s||(s=new us),_7(e,t,n,r,i,s)):!1}function tN(e,t,n,r,i){return e===t?!0:e==null||t==null||!ao(e)&&!ao(t)?e!==e&&t!==t:T7(e,t,n,r,tN,i)}var Jh=function(){return di.Date.now()},w7="Expected a function",x7=Math.max,C7=Math.min;function nN(e,t,n){var r,i,s,o,a,l,u=0,c=!1,d=!1,f=!0;if(typeof e!="function")throw new TypeError(w7);t=jb(t)||0,ni(n)&&(c=!!n.leading,d="maxWait"in n,s=d?x7(jb(n.maxWait)||0,t):s,f="trailing"in n?!!n.trailing:f);function p(_){var D=r,j=i;return r=i=void 0,u=_,o=e.apply(j,D),o}function m(_){return u=_,a=setTimeout(y,t),c?p(_):o}function g(_){var D=_-l,j=_-u,P=t-D;return d?C7(P,s-j):P}function b(_){var D=_-l,j=_-u;return l===void 0||D>=t||D<0||d&&j>=s}function y(){var _=Jh();if(b(_))return E(_);a=setTimeout(y,g(_))}function E(_){return a=void 0,f&&r?p(_):(r=i=void 0,o)}function v(){a!==void 0&&clearTimeout(a),u=0,r=l=i=a=void 0}function w(){return a===void 0?o:E(Jh())}function R(){var _=Jh(),D=b(_);if(r=arguments,i=this,l=_,D){if(a===void 0)return m(l);if(d)return clearTimeout(a),a=setTimeout(y,t),p(l)}return a===void 0&&(a=setTimeout(y,t)),o}return R.cancel=v,R.flush=w,R}function Lf(e,t){return tN(e,t)}function S7(e,t,n,r){if(!ni(e))return e;t=j2(t,e);for(var i=-1,s=t.length,o=s-1,a=e;a!=null&&++i<s;){var l=q2(t[i]),u=n;if(l==="__proto__"||l==="constructor"||l==="prototype")return e;if(i!=o){var c=a[l];u=void 0,u===void 0&&(u=ni(c)?c:qy(t[i+1])?[]:{})}Vy(a,l,u),a=a[l]}return e}var A7=Math.ceil,O7=Math.max;function k7(e,t,n,r){for(var i=-1,s=O7(A7((t-e)/(n||1)),0),o=Array(s);s--;)o[++i]=e,e+=n;return o}function I7(e){return function(t,n,r){return r&&typeof r!="number"&&U5(t,n,r)&&(n=r=void 0),t=Yh(t),n===void 0?(n=t,t=0):n=Yh(n),r=r===void 0?t<n?1:-1:Yh(r),k7(t,n,r)}}var N7=I7();function R7(e,t,n){return e==null?e:S7(e,t,n)}/*!
 * Cropper.js v1.6.2
 * https://fengyuanchen.github.io/cropperjs
 *
 * Copyright 2015-present Chen Fengyuan
 * Released under the MIT license
 *
 * Date: 2024-04-21T07:43:05.335Z
 */function GT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function rN(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?GT(Object(n),!0).forEach(function(r){L7(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):GT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function D7(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function iN(e){var t=D7(e,"string");return typeof t=="symbol"?t:t+""}function Xb(e){"@babel/helpers - typeof";return Xb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xb(e)}function M7(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function YT(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,iN(r.key),r)}}function P7(e,t,n){return t&&YT(e.prototype,t),n&&YT(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function L7(e,t,n){return t=iN(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function sN(e){return B7(e)||F7(e)||$7(e)||U7()}function B7(e){if(Array.isArray(e))return Qb(e)}function F7(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function $7(e,t){if(e){if(typeof e=="string")return Qb(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Qb(e,t)}}function Qb(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function U7(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Lp=typeof window<"u"&&typeof window.document<"u",Li=Lp?window:{},e_=Lp&&Li.document.documentElement?"ontouchstart"in Li.document.documentElement:!1,t_=Lp?"PointerEvent"in Li:!1,Dt="cropper",n_="all",oN="crop",aN="move",lN="zoom",Co="e",So="w",ya="s",As="n",ql="ne",Vl="nw",Wl="se",Gl="sw",Jb="".concat(Dt,"-crop"),KT="".concat(Dt,"-disabled"),Zn="".concat(Dt,"-hidden"),XT="".concat(Dt,"-hide"),H7="".concat(Dt,"-invisible"),Bf="".concat(Dt,"-modal"),Zb="".concat(Dt,"-move"),lc="".concat(Dt,"Action"),_d="".concat(Dt,"Preview"),r_="crop",uN="move",cN="none",e1="crop",t1="cropend",n1="cropmove",r1="cropstart",QT="dblclick",z7=e_?"touchstart":"mousedown",j7=e_?"touchmove":"mousemove",q7=e_?"touchend touchcancel":"mouseup",JT=t_?"pointerdown":z7,ZT=t_?"pointermove":j7,ew=t_?"pointerup pointercancel":q7,tw="ready",nw="resize",rw="wheel",i1="zoom",iw="image/jpeg",V7=/^e|w|s|n|se|sw|ne|nw|all|crop|move|zoom$/,W7=/^data:/,G7=/^data:image\/jpeg;base64,/,Y7=/^img|canvas$/i,dN=200,fN=100,sw={viewMode:0,dragMode:r_,initialAspectRatio:NaN,aspectRatio:NaN,data:null,preview:"",responsive:!0,restore:!0,checkCrossOrigin:!0,checkOrientation:!0,modal:!0,guides:!0,center:!0,highlight:!0,background:!0,autoCrop:!0,autoCropArea:.8,movable:!0,rotatable:!0,scalable:!0,zoomable:!0,zoomOnTouch:!0,zoomOnWheel:!0,wheelZoomRatio:.1,cropBoxMovable:!0,cropBoxResizable:!0,toggleDragModeOnDblclick:!0,minCanvasWidth:0,minCanvasHeight:0,minCropBoxWidth:0,minCropBoxHeight:0,minContainerWidth:dN,minContainerHeight:fN,ready:null,cropstart:null,cropmove:null,cropend:null,crop:null,zoom:null},K7='<div class="cropper-container" touch-action="none"><div class="cropper-wrap-box"><div class="cropper-canvas"></div></div><div class="cropper-drag-box"></div><div class="cropper-crop-box"><span class="cropper-view-box"></span><span class="cropper-dashed dashed-h"></span><span class="cropper-dashed dashed-v"></span><span class="cropper-center"></span><span class="cropper-face"></span><span class="cropper-line line-e" data-cropper-action="e"></span><span class="cropper-line line-n" data-cropper-action="n"></span><span class="cropper-line line-w" data-cropper-action="w"></span><span class="cropper-line line-s" data-cropper-action="s"></span><span class="cropper-point point-e" data-cropper-action="e"></span><span class="cropper-point point-n" data-cropper-action="n"></span><span class="cropper-point point-w" data-cropper-action="w"></span><span class="cropper-point point-s" data-cropper-action="s"></span><span class="cropper-point point-ne" data-cropper-action="ne"></span><span class="cropper-point point-nw" data-cropper-action="nw"></span><span class="cropper-point point-sw" data-cropper-action="sw"></span><span class="cropper-point point-se" data-cropper-action="se"></span></div></div>',X7=Number.isNaN||Li.isNaN;function rt(e){return typeof e=="number"&&!X7(e)}var ow=function(t){return t>0&&t<1/0};function Zh(e){return typeof e>"u"}function Qo(e){return Xb(e)==="object"&&e!==null}var Q7=Object.prototype.hasOwnProperty;function Ra(e){if(!Qo(e))return!1;try{var t=e.constructor,n=t.prototype;return t&&n&&Q7.call(n,"isPrototypeOf")}catch{return!1}}function Jn(e){return typeof e=="function"}var J7=Array.prototype.slice;function pN(e){return Array.from?Array.from(e):J7.call(e)}function Wt(e,t){return e&&Jn(t)&&(Array.isArray(e)||rt(e.length)?pN(e).forEach(function(n,r){t.call(e,n,r,e)}):Qo(e)&&Object.keys(e).forEach(function(n){t.call(e,e[n],n,e)})),e}var Mt=Object.assign||function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return Qo(t)&&r.length>0&&r.forEach(function(s){Qo(s)&&Object.keys(s).forEach(function(o){t[o]=s[o]})}),t},Z7=/\.\d*(?:0|9){12}\d*$/;function Ha(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1e11;return Z7.test(e)?Math.round(e*t)/t:e}var ez=/^width|height|left|top|marginLeft|marginTop$/;function Ws(e,t){var n=e.style;Wt(t,function(r,i){ez.test(i)&&rt(r)&&(r="".concat(r,"px")),n[i]=r})}function tz(e,t){return e.classList?e.classList.contains(t):e.className.indexOf(t)>-1}function on(e,t){if(t){if(rt(e.length)){Wt(e,function(r){on(r,t)});return}if(e.classList){e.classList.add(t);return}var n=e.className.trim();n?n.indexOf(t)<0&&(e.className="".concat(n," ").concat(t)):e.className=t}}function Ri(e,t){if(t){if(rt(e.length)){Wt(e,function(n){Ri(n,t)});return}if(e.classList){e.classList.remove(t);return}e.className.indexOf(t)>=0&&(e.className=e.className.replace(t,""))}}function Da(e,t,n){if(t){if(rt(e.length)){Wt(e,function(r){Da(r,t,n)});return}n?on(e,t):Ri(e,t)}}var nz=/([a-z\d])([A-Z])/g;function i_(e){return e.replace(nz,"$1-$2").toLowerCase()}function s1(e,t){return Qo(e[t])?e[t]:e.dataset?e.dataset[t]:e.getAttribute("data-".concat(i_(t)))}function uc(e,t,n){Qo(n)?e[t]=n:e.dataset?e.dataset[t]=n:e.setAttribute("data-".concat(i_(t)),n)}function rz(e,t){if(Qo(e[t]))try{delete e[t]}catch{e[t]=void 0}else if(e.dataset)try{delete e.dataset[t]}catch{e.dataset[t]=void 0}else e.removeAttribute("data-".concat(i_(t)))}var hN=/\s\s*/,mN=function(){var e=!1;if(Lp){var t=!1,n=function(){},r=Object.defineProperty({},"once",{get:function(){return e=!0,t},set:function(s){t=s}});Li.addEventListener("test",n,r),Li.removeEventListener("test",n,r)}return e}();function Yr(e,t,n){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},i=n;t.trim().split(hN).forEach(function(s){if(!mN){var o=e.listeners;o&&o[s]&&o[s][n]&&(i=o[s][n],delete o[s][n],Object.keys(o[s]).length===0&&delete o[s],Object.keys(o).length===0&&delete e.listeners)}e.removeEventListener(s,i,r)})}function Cr(e,t,n){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},i=n;t.trim().split(hN).forEach(function(s){if(r.once&&!mN){var o=e.listeners,a=o===void 0?{}:o;i=function(){delete a[s][n],e.removeEventListener(s,i,r);for(var u=arguments.length,c=new Array(u),d=0;d<u;d++)c[d]=arguments[d];n.apply(e,c)},a[s]||(a[s]={}),a[s][n]&&e.removeEventListener(s,a[s][n],r),a[s][n]=i,e.listeners=a}e.addEventListener(s,i,r)})}function za(e,t,n){var r;return Jn(Event)&&Jn(CustomEvent)?r=new CustomEvent(t,{detail:n,bubbles:!0,cancelable:!0}):(r=document.createEvent("CustomEvent"),r.initCustomEvent(t,!0,!0,n)),e.dispatchEvent(r)}function gN(e){var t=e.getBoundingClientRect();return{left:t.left+(window.pageXOffset-document.documentElement.clientLeft),top:t.top+(window.pageYOffset-document.documentElement.clientTop)}}var em=Li.location,iz=/^(\w+:)\/\/([^:/?#]*):?(\d*)/i;function aw(e){var t=e.match(iz);return t!==null&&(t[1]!==em.protocol||t[2]!==em.hostname||t[3]!==em.port)}function lw(e){var t="timestamp=".concat(new Date().getTime());return e+(e.indexOf("?")===-1?"?":"&")+t}function Nu(e){var t=e.rotate,n=e.scaleX,r=e.scaleY,i=e.translateX,s=e.translateY,o=[];rt(i)&&i!==0&&o.push("translateX(".concat(i,"px)")),rt(s)&&s!==0&&o.push("translateY(".concat(s,"px)")),rt(t)&&t!==0&&o.push("rotate(".concat(t,"deg)")),rt(n)&&n!==1&&o.push("scaleX(".concat(n,")")),rt(r)&&r!==1&&o.push("scaleY(".concat(r,")"));var a=o.length?o.join(" "):"none";return{WebkitTransform:a,msTransform:a,transform:a}}function sz(e){var t=rN({},e),n=0;return Wt(e,function(r,i){delete t[i],Wt(t,function(s){var o=Math.abs(r.startX-s.startX),a=Math.abs(r.startY-s.startY),l=Math.abs(r.endX-s.endX),u=Math.abs(r.endY-s.endY),c=Math.sqrt(o*o+a*a),d=Math.sqrt(l*l+u*u),f=(d-c)/c;Math.abs(f)>Math.abs(n)&&(n=f)})}),n}function Ed(e,t){var n=e.pageX,r=e.pageY,i={endX:n,endY:r};return t?i:rN({startX:n,startY:r},i)}function oz(e){var t=0,n=0,r=0;return Wt(e,function(i){var s=i.startX,o=i.startY;t+=s,n+=o,r+=1}),t/=r,n/=r,{pageX:t,pageY:n}}function Gs(e){var t=e.aspectRatio,n=e.height,r=e.width,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"contain",s=ow(r),o=ow(n);if(s&&o){var a=n*t;i==="contain"&&a>r||i==="cover"&&a<r?n=r/t:r=n*t}else s?n=r/t:o&&(r=n*t);return{width:r,height:n}}function az(e){var t=e.width,n=e.height,r=e.degree;if(r=Math.abs(r)%180,r===90)return{width:n,height:t};var i=r%90*Math.PI/180,s=Math.sin(i),o=Math.cos(i),a=t*o+n*s,l=t*s+n*o;return r>90?{width:l,height:a}:{width:a,height:l}}function lz(e,t,n,r){var i=t.aspectRatio,s=t.naturalWidth,o=t.naturalHeight,a=t.rotate,l=a===void 0?0:a,u=t.scaleX,c=u===void 0?1:u,d=t.scaleY,f=d===void 0?1:d,p=n.aspectRatio,m=n.naturalWidth,g=n.naturalHeight,b=r.fillColor,y=b===void 0?"transparent":b,E=r.imageSmoothingEnabled,v=E===void 0?!0:E,w=r.imageSmoothingQuality,R=w===void 0?"low":w,_=r.maxWidth,D=_===void 0?1/0:_,j=r.maxHeight,P=j===void 0?1/0:j,q=r.minWidth,B=q===void 0?0:q,H=r.minHeight,ee=H===void 0?0:H,ye=document.createElement("canvas"),pe=ye.getContext("2d"),xe=Gs({aspectRatio:p,width:D,height:P}),Ce=Gs({aspectRatio:p,width:B,height:ee},"cover"),Ee=Math.min(xe.width,Math.max(Ce.width,m)),$e=Math.min(xe.height,Math.max(Ce.height,g)),O=Gs({aspectRatio:i,width:D,height:P}),Me=Gs({aspectRatio:i,width:B,height:ee},"cover"),et=Math.min(O.width,Math.max(Me.width,s)),I=Math.min(O.height,Math.max(Me.height,o)),at=[-et/2,-I/2,et,I];return ye.width=Ha(Ee),ye.height=Ha($e),pe.fillStyle=y,pe.fillRect(0,0,Ee,$e),pe.save(),pe.translate(Ee/2,$e/2),pe.rotate(l*Math.PI/180),pe.scale(c,f),pe.imageSmoothingEnabled=v,pe.imageSmoothingQuality=R,pe.drawImage.apply(pe,[e].concat(sN(at.map(function(ze){return Math.floor(Ha(ze))})))),pe.restore(),ye}var bN=String.fromCharCode;function uz(e,t,n){var r="";n+=t;for(var i=t;i<n;i+=1)r+=bN(e.getUint8(i));return r}var cz=/^data:.*,/;function dz(e){var t=e.replace(cz,""),n=atob(t),r=new ArrayBuffer(n.length),i=new Uint8Array(r);return Wt(i,function(s,o){i[o]=n.charCodeAt(o)}),r}function fz(e,t){for(var n=[],r=8192,i=new Uint8Array(e);i.length>0;)n.push(bN.apply(null,pN(i.subarray(0,r)))),i=i.subarray(r);return"data:".concat(t,";base64,").concat(btoa(n.join("")))}function pz(e){var t=new DataView(e),n;try{var r,i,s;if(t.getUint8(0)===255&&t.getUint8(1)===216)for(var o=t.byteLength,a=2;a+1<o;){if(t.getUint8(a)===255&&t.getUint8(a+1)===225){i=a;break}a+=1}if(i){var l=i+4,u=i+10;if(uz(t,l,4)==="Exif"){var c=t.getUint16(u);if(r=c===18761,(r||c===19789)&&t.getUint16(u+2,r)===42){var d=t.getUint32(u+4,r);d>=8&&(s=u+d)}}}if(s){var f=t.getUint16(s,r),p,m;for(m=0;m<f;m+=1)if(p=s+m*12+2,t.getUint16(p,r)===274){p+=8,n=t.getUint16(p,r),t.setUint16(p,1,r);break}}}catch{n=1}return n}function hz(e){var t=0,n=1,r=1;switch(e){case 2:n=-1;break;case 3:t=-180;break;case 4:r=-1;break;case 5:t=90,r=-1;break;case 6:t=90;break;case 7:t=90,n=-1;break;case 8:t=-90;break}return{rotate:t,scaleX:n,scaleY:r}}var mz={render:function(){this.initContainer(),this.initCanvas(),this.initCropBox(),this.renderCanvas(),this.cropped&&this.renderCropBox()},initContainer:function(){var t=this.element,n=this.options,r=this.container,i=this.cropper,s=Number(n.minContainerWidth),o=Number(n.minContainerHeight);on(i,Zn),Ri(t,Zn);var a={width:Math.max(r.offsetWidth,s>=0?s:dN),height:Math.max(r.offsetHeight,o>=0?o:fN)};this.containerData=a,Ws(i,{width:a.width,height:a.height}),on(t,Zn),Ri(i,Zn)},initCanvas:function(){var t=this.containerData,n=this.imageData,r=this.options.viewMode,i=Math.abs(n.rotate)%180===90,s=i?n.naturalHeight:n.naturalWidth,o=i?n.naturalWidth:n.naturalHeight,a=s/o,l=t.width,u=t.height;t.height*a>t.width?r===3?l=t.height*a:u=t.width/a:r===3?u=t.width/a:l=t.height*a;var c={aspectRatio:a,naturalWidth:s,naturalHeight:o,width:l,height:u};this.canvasData=c,this.limited=r===1||r===2,this.limitCanvas(!0,!0),c.width=Math.min(Math.max(c.width,c.minWidth),c.maxWidth),c.height=Math.min(Math.max(c.height,c.minHeight),c.maxHeight),c.left=(t.width-c.width)/2,c.top=(t.height-c.height)/2,c.oldLeft=c.left,c.oldTop=c.top,this.initialCanvasData=Mt({},c)},limitCanvas:function(t,n){var r=this.options,i=this.containerData,s=this.canvasData,o=this.cropBoxData,a=r.viewMode,l=s.aspectRatio,u=this.cropped&&o;if(t){var c=Number(r.minCanvasWidth)||0,d=Number(r.minCanvasHeight)||0;a>1?(c=Math.max(c,i.width),d=Math.max(d,i.height),a===3&&(d*l>c?c=d*l:d=c/l)):a>0&&(c?c=Math.max(c,u?o.width:0):d?d=Math.max(d,u?o.height:0):u&&(c=o.width,d=o.height,d*l>c?c=d*l:d=c/l));var f=Gs({aspectRatio:l,width:c,height:d});c=f.width,d=f.height,s.minWidth=c,s.minHeight=d,s.maxWidth=1/0,s.maxHeight=1/0}if(n)if(a>(u?0:1)){var p=i.width-s.width,m=i.height-s.height;s.minLeft=Math.min(0,p),s.minTop=Math.min(0,m),s.maxLeft=Math.max(0,p),s.maxTop=Math.max(0,m),u&&this.limited&&(s.minLeft=Math.min(o.left,o.left+(o.width-s.width)),s.minTop=Math.min(o.top,o.top+(o.height-s.height)),s.maxLeft=o.left,s.maxTop=o.top,a===2&&(s.width>=i.width&&(s.minLeft=Math.min(0,p),s.maxLeft=Math.max(0,p)),s.height>=i.height&&(s.minTop=Math.min(0,m),s.maxTop=Math.max(0,m))))}else s.minLeft=-s.width,s.minTop=-s.height,s.maxLeft=i.width,s.maxTop=i.height},renderCanvas:function(t,n){var r=this.canvasData,i=this.imageData;if(n){var s=az({width:i.naturalWidth*Math.abs(i.scaleX||1),height:i.naturalHeight*Math.abs(i.scaleY||1),degree:i.rotate||0}),o=s.width,a=s.height,l=r.width*(o/r.naturalWidth),u=r.height*(a/r.naturalHeight);r.left-=(l-r.width)/2,r.top-=(u-r.height)/2,r.width=l,r.height=u,r.aspectRatio=o/a,r.naturalWidth=o,r.naturalHeight=a,this.limitCanvas(!0,!1)}(r.width>r.maxWidth||r.width<r.minWidth)&&(r.left=r.oldLeft),(r.height>r.maxHeight||r.height<r.minHeight)&&(r.top=r.oldTop),r.width=Math.min(Math.max(r.width,r.minWidth),r.maxWidth),r.height=Math.min(Math.max(r.height,r.minHeight),r.maxHeight),this.limitCanvas(!1,!0),r.left=Math.min(Math.max(r.left,r.minLeft),r.maxLeft),r.top=Math.min(Math.max(r.top,r.minTop),r.maxTop),r.oldLeft=r.left,r.oldTop=r.top,Ws(this.canvas,Mt({width:r.width,height:r.height},Nu({translateX:r.left,translateY:r.top}))),this.renderImage(t),this.cropped&&this.limited&&this.limitCropBox(!0,!0)},renderImage:function(t){var n=this.canvasData,r=this.imageData,i=r.naturalWidth*(n.width/n.naturalWidth),s=r.naturalHeight*(n.height/n.naturalHeight);Mt(r,{width:i,height:s,left:(n.width-i)/2,top:(n.height-s)/2}),Ws(this.image,Mt({width:r.width,height:r.height},Nu(Mt({translateX:r.left,translateY:r.top},r)))),t&&this.output()},initCropBox:function(){var t=this.options,n=this.canvasData,r=t.aspectRatio||t.initialAspectRatio,i=Number(t.autoCropArea)||.8,s={width:n.width,height:n.height};r&&(n.height*r>n.width?s.height=s.width/r:s.width=s.height*r),this.cropBoxData=s,this.limitCropBox(!0,!0),s.width=Math.min(Math.max(s.width,s.minWidth),s.maxWidth),s.height=Math.min(Math.max(s.height,s.minHeight),s.maxHeight),s.width=Math.max(s.minWidth,s.width*i),s.height=Math.max(s.minHeight,s.height*i),s.left=n.left+(n.width-s.width)/2,s.top=n.top+(n.height-s.height)/2,s.oldLeft=s.left,s.oldTop=s.top,this.initialCropBoxData=Mt({},s)},limitCropBox:function(t,n){var r=this.options,i=this.containerData,s=this.canvasData,o=this.cropBoxData,a=this.limited,l=r.aspectRatio;if(t){var u=Number(r.minCropBoxWidth)||0,c=Number(r.minCropBoxHeight)||0,d=a?Math.min(i.width,s.width,s.width+s.left,i.width-s.left):i.width,f=a?Math.min(i.height,s.height,s.height+s.top,i.height-s.top):i.height;u=Math.min(u,i.width),c=Math.min(c,i.height),l&&(u&&c?c*l>u?c=u/l:u=c*l:u?c=u/l:c&&(u=c*l),f*l>d?f=d/l:d=f*l),o.minWidth=Math.min(u,d),o.minHeight=Math.min(c,f),o.maxWidth=d,o.maxHeight=f}n&&(a?(o.minLeft=Math.max(0,s.left),o.minTop=Math.max(0,s.top),o.maxLeft=Math.min(i.width,s.left+s.width)-o.width,o.maxTop=Math.min(i.height,s.top+s.height)-o.height):(o.minLeft=0,o.minTop=0,o.maxLeft=i.width-o.width,o.maxTop=i.height-o.height))},renderCropBox:function(){var t=this.options,n=this.containerData,r=this.cropBoxData;(r.width>r.maxWidth||r.width<r.minWidth)&&(r.left=r.oldLeft),(r.height>r.maxHeight||r.height<r.minHeight)&&(r.top=r.oldTop),r.width=Math.min(Math.max(r.width,r.minWidth),r.maxWidth),r.height=Math.min(Math.max(r.height,r.minHeight),r.maxHeight),this.limitCropBox(!1,!0),r.left=Math.min(Math.max(r.left,r.minLeft),r.maxLeft),r.top=Math.min(Math.max(r.top,r.minTop),r.maxTop),r.oldLeft=r.left,r.oldTop=r.top,t.movable&&t.cropBoxMovable&&uc(this.face,lc,r.width>=n.width&&r.height>=n.height?aN:n_),Ws(this.cropBox,Mt({width:r.width,height:r.height},Nu({translateX:r.left,translateY:r.top}))),this.cropped&&this.limited&&this.limitCanvas(!0,!0),this.disabled||this.output()},output:function(){this.preview(),za(this.element,e1,this.getData())}},gz={initPreview:function(){var t=this.element,n=this.crossOrigin,r=this.options.preview,i=n?this.crossOriginUrl:this.url,s=t.alt||"The image to preview",o=document.createElement("img");if(n&&(o.crossOrigin=n),o.src=i,o.alt=s,this.viewBox.appendChild(o),this.viewBoxImage=o,!!r){var a=r;typeof r=="string"?a=t.ownerDocument.querySelectorAll(r):r.querySelector&&(a=[r]),this.previews=a,Wt(a,function(l){var u=document.createElement("img");uc(l,_d,{width:l.offsetWidth,height:l.offsetHeight,html:l.innerHTML}),n&&(u.crossOrigin=n),u.src=i,u.alt=s,u.style.cssText='display:block;width:100%;height:auto;min-width:0!important;min-height:0!important;max-width:none!important;max-height:none!important;image-orientation:0deg!important;"',l.innerHTML="",l.appendChild(u)})}},resetPreview:function(){Wt(this.previews,function(t){var n=s1(t,_d);Ws(t,{width:n.width,height:n.height}),t.innerHTML=n.html,rz(t,_d)})},preview:function(){var t=this.imageData,n=this.canvasData,r=this.cropBoxData,i=r.width,s=r.height,o=t.width,a=t.height,l=r.left-n.left-t.left,u=r.top-n.top-t.top;!this.cropped||this.disabled||(Ws(this.viewBoxImage,Mt({width:o,height:a},Nu(Mt({translateX:-l,translateY:-u},t)))),Wt(this.previews,function(c){var d=s1(c,_d),f=d.width,p=d.height,m=f,g=p,b=1;i&&(b=f/i,g=s*b),s&&g>p&&(b=p/s,m=i*b,g=p),Ws(c,{width:m,height:g}),Ws(c.getElementsByTagName("img")[0],Mt({width:o*b,height:a*b},Nu(Mt({translateX:-l*b,translateY:-u*b},t))))}))}},bz={bind:function(){var t=this.element,n=this.options,r=this.cropper;Jn(n.cropstart)&&Cr(t,r1,n.cropstart),Jn(n.cropmove)&&Cr(t,n1,n.cropmove),Jn(n.cropend)&&Cr(t,t1,n.cropend),Jn(n.crop)&&Cr(t,e1,n.crop),Jn(n.zoom)&&Cr(t,i1,n.zoom),Cr(r,JT,this.onCropStart=this.cropStart.bind(this)),n.zoomable&&n.zoomOnWheel&&Cr(r,rw,this.onWheel=this.wheel.bind(this),{passive:!1,capture:!0}),n.toggleDragModeOnDblclick&&Cr(r,QT,this.onDblclick=this.dblclick.bind(this)),Cr(t.ownerDocument,ZT,this.onCropMove=this.cropMove.bind(this)),Cr(t.ownerDocument,ew,this.onCropEnd=this.cropEnd.bind(this)),n.responsive&&Cr(window,nw,this.onResize=this.resize.bind(this))},unbind:function(){var t=this.element,n=this.options,r=this.cropper;Jn(n.cropstart)&&Yr(t,r1,n.cropstart),Jn(n.cropmove)&&Yr(t,n1,n.cropmove),Jn(n.cropend)&&Yr(t,t1,n.cropend),Jn(n.crop)&&Yr(t,e1,n.crop),Jn(n.zoom)&&Yr(t,i1,n.zoom),Yr(r,JT,this.onCropStart),n.zoomable&&n.zoomOnWheel&&Yr(r,rw,this.onWheel,{passive:!1,capture:!0}),n.toggleDragModeOnDblclick&&Yr(r,QT,this.onDblclick),Yr(t.ownerDocument,ZT,this.onCropMove),Yr(t.ownerDocument,ew,this.onCropEnd),n.responsive&&Yr(window,nw,this.onResize)}},yz={resize:function(){if(!this.disabled){var t=this.options,n=this.container,r=this.containerData,i=n.offsetWidth/r.width,s=n.offsetHeight/r.height,o=Math.abs(i-1)>Math.abs(s-1)?i:s;if(o!==1){var a,l;t.restore&&(a=this.getCanvasData(),l=this.getCropBoxData()),this.render(),t.restore&&(this.setCanvasData(Wt(a,function(u,c){a[c]=u*o})),this.setCropBoxData(Wt(l,function(u,c){l[c]=u*o})))}}},dblclick:function(){this.disabled||this.options.dragMode===cN||this.setDragMode(tz(this.dragBox,Jb)?uN:r_)},wheel:function(t){var n=this,r=Number(this.options.wheelZoomRatio)||.1,i=1;this.disabled||(t.preventDefault(),!this.wheeling&&(this.wheeling=!0,setTimeout(function(){n.wheeling=!1},50),t.deltaY?i=t.deltaY>0?1:-1:t.wheelDelta?i=-t.wheelDelta/120:t.detail&&(i=t.detail>0?1:-1),this.zoom(-i*r,t)))},cropStart:function(t){var n=t.buttons,r=t.button;if(!(this.disabled||(t.type==="mousedown"||t.type==="pointerdown"&&t.pointerType==="mouse")&&(rt(n)&&n!==1||rt(r)&&r!==0||t.ctrlKey))){var i=this.options,s=this.pointers,o;t.changedTouches?Wt(t.changedTouches,function(a){s[a.identifier]=Ed(a)}):s[t.pointerId||0]=Ed(t),Object.keys(s).length>1&&i.zoomable&&i.zoomOnTouch?o=lN:o=s1(t.target,lc),V7.test(o)&&za(this.element,r1,{originalEvent:t,action:o})!==!1&&(t.preventDefault(),this.action=o,this.cropping=!1,o===oN&&(this.cropping=!0,on(this.dragBox,Bf)))}},cropMove:function(t){var n=this.action;if(!(this.disabled||!n)){var r=this.pointers;t.preventDefault(),za(this.element,n1,{originalEvent:t,action:n})!==!1&&(t.changedTouches?Wt(t.changedTouches,function(i){Mt(r[i.identifier]||{},Ed(i,!0))}):Mt(r[t.pointerId||0]||{},Ed(t,!0)),this.change(t))}},cropEnd:function(t){if(!this.disabled){var n=this.action,r=this.pointers;t.changedTouches?Wt(t.changedTouches,function(i){delete r[i.identifier]}):delete r[t.pointerId||0],n&&(t.preventDefault(),Object.keys(r).length||(this.action=""),this.cropping&&(this.cropping=!1,Da(this.dragBox,Bf,this.cropped&&this.options.modal)),za(this.element,t1,{originalEvent:t,action:n}))}}},_z={change:function(t){var n=this.options,r=this.canvasData,i=this.containerData,s=this.cropBoxData,o=this.pointers,a=this.action,l=n.aspectRatio,u=s.left,c=s.top,d=s.width,f=s.height,p=u+d,m=c+f,g=0,b=0,y=i.width,E=i.height,v=!0,w;!l&&t.shiftKey&&(l=d&&f?d/f:1),this.limited&&(g=s.minLeft,b=s.minTop,y=g+Math.min(i.width,r.width,r.left+r.width),E=b+Math.min(i.height,r.height,r.top+r.height));var R=o[Object.keys(o)[0]],_={x:R.endX-R.startX,y:R.endY-R.startY},D=function(P){switch(P){case Co:p+_.x>y&&(_.x=y-p);break;case So:u+_.x<g&&(_.x=g-u);break;case As:c+_.y<b&&(_.y=b-c);break;case ya:m+_.y>E&&(_.y=E-m);break}};switch(a){case n_:u+=_.x,c+=_.y;break;case Co:if(_.x>=0&&(p>=y||l&&(c<=b||m>=E))){v=!1;break}D(Co),d+=_.x,d<0&&(a=So,d=-d,u-=d),l&&(f=d/l,c+=(s.height-f)/2);break;case As:if(_.y<=0&&(c<=b||l&&(u<=g||p>=y))){v=!1;break}D(As),f-=_.y,c+=_.y,f<0&&(a=ya,f=-f,c-=f),l&&(d=f*l,u+=(s.width-d)/2);break;case So:if(_.x<=0&&(u<=g||l&&(c<=b||m>=E))){v=!1;break}D(So),d-=_.x,u+=_.x,d<0&&(a=Co,d=-d,u-=d),l&&(f=d/l,c+=(s.height-f)/2);break;case ya:if(_.y>=0&&(m>=E||l&&(u<=g||p>=y))){v=!1;break}D(ya),f+=_.y,f<0&&(a=As,f=-f,c-=f),l&&(d=f*l,u+=(s.width-d)/2);break;case ql:if(l){if(_.y<=0&&(c<=b||p>=y)){v=!1;break}D(As),f-=_.y,c+=_.y,d=f*l}else D(As),D(Co),_.x>=0?p<y?d+=_.x:_.y<=0&&c<=b&&(v=!1):d+=_.x,_.y<=0?c>b&&(f-=_.y,c+=_.y):(f-=_.y,c+=_.y);d<0&&f<0?(a=Gl,f=-f,d=-d,c-=f,u-=d):d<0?(a=Vl,d=-d,u-=d):f<0&&(a=Wl,f=-f,c-=f);break;case Vl:if(l){if(_.y<=0&&(c<=b||u<=g)){v=!1;break}D(As),f-=_.y,c+=_.y,d=f*l,u+=s.width-d}else D(As),D(So),_.x<=0?u>g?(d-=_.x,u+=_.x):_.y<=0&&c<=b&&(v=!1):(d-=_.x,u+=_.x),_.y<=0?c>b&&(f-=_.y,c+=_.y):(f-=_.y,c+=_.y);d<0&&f<0?(a=Wl,f=-f,d=-d,c-=f,u-=d):d<0?(a=ql,d=-d,u-=d):f<0&&(a=Gl,f=-f,c-=f);break;case Gl:if(l){if(_.x<=0&&(u<=g||m>=E)){v=!1;break}D(So),d-=_.x,u+=_.x,f=d/l}else D(ya),D(So),_.x<=0?u>g?(d-=_.x,u+=_.x):_.y>=0&&m>=E&&(v=!1):(d-=_.x,u+=_.x),_.y>=0?m<E&&(f+=_.y):f+=_.y;d<0&&f<0?(a=ql,f=-f,d=-d,c-=f,u-=d):d<0?(a=Wl,d=-d,u-=d):f<0&&(a=Vl,f=-f,c-=f);break;case Wl:if(l){if(_.x>=0&&(p>=y||m>=E)){v=!1;break}D(Co),d+=_.x,f=d/l}else D(ya),D(Co),_.x>=0?p<y?d+=_.x:_.y>=0&&m>=E&&(v=!1):d+=_.x,_.y>=0?m<E&&(f+=_.y):f+=_.y;d<0&&f<0?(a=Vl,f=-f,d=-d,c-=f,u-=d):d<0?(a=Gl,d=-d,u-=d):f<0&&(a=ql,f=-f,c-=f);break;case aN:this.move(_.x,_.y),v=!1;break;case lN:this.zoom(sz(o),t),v=!1;break;case oN:if(!_.x||!_.y){v=!1;break}w=gN(this.cropper),u=R.startX-w.left,c=R.startY-w.top,d=s.minWidth,f=s.minHeight,_.x>0?a=_.y>0?Wl:ql:_.x<0&&(u-=d,a=_.y>0?Gl:Vl),_.y<0&&(c-=f),this.cropped||(Ri(this.cropBox,Zn),this.cropped=!0,this.limited&&this.limitCropBox(!0,!0));break}v&&(s.width=d,s.height=f,s.left=u,s.top=c,this.action=a,this.renderCropBox()),Wt(o,function(j){j.startX=j.endX,j.startY=j.endY})}},Ez={crop:function(){return this.ready&&!this.cropped&&!this.disabled&&(this.cropped=!0,this.limitCropBox(!0,!0),this.options.modal&&on(this.dragBox,Bf),Ri(this.cropBox,Zn),this.setCropBoxData(this.initialCropBoxData)),this},reset:function(){return this.ready&&!this.disabled&&(this.imageData=Mt({},this.initialImageData),this.canvasData=Mt({},this.initialCanvasData),this.cropBoxData=Mt({},this.initialCropBoxData),this.renderCanvas(),this.cropped&&this.renderCropBox()),this},clear:function(){return this.cropped&&!this.disabled&&(Mt(this.cropBoxData,{left:0,top:0,width:0,height:0}),this.cropped=!1,this.renderCropBox(),this.limitCanvas(!0,!0),this.renderCanvas(),Ri(this.dragBox,Bf),on(this.cropBox,Zn)),this},replace:function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return!this.disabled&&t&&(this.isImg&&(this.element.src=t),n?(this.url=t,this.image.src=t,this.ready&&(this.viewBoxImage.src=t,Wt(this.previews,function(r){r.getElementsByTagName("img")[0].src=t}))):(this.isImg&&(this.replaced=!0),this.options.data=null,this.uncreate(),this.load(t))),this},enable:function(){return this.ready&&this.disabled&&(this.disabled=!1,Ri(this.cropper,KT)),this},disable:function(){return this.ready&&!this.disabled&&(this.disabled=!0,on(this.cropper,KT)),this},destroy:function(){var t=this.element;return t[Dt]?(t[Dt]=void 0,this.isImg&&this.replaced&&(t.src=this.originalUrl),this.uncreate(),this):this},move:function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:t,r=this.canvasData,i=r.left,s=r.top;return this.moveTo(Zh(t)?t:i+Number(t),Zh(n)?n:s+Number(n))},moveTo:function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:t,r=this.canvasData,i=!1;return t=Number(t),n=Number(n),this.ready&&!this.disabled&&this.options.movable&&(rt(t)&&(r.left=t,i=!0),rt(n)&&(r.top=n,i=!0),i&&this.renderCanvas(!0)),this},zoom:function(t,n){var r=this.canvasData;return t=Number(t),t<0?t=1/(1-t):t=1+t,this.zoomTo(r.width*t/r.naturalWidth,null,n)},zoomTo:function(t,n,r){var i=this.options,s=this.canvasData,o=s.width,a=s.height,l=s.naturalWidth,u=s.naturalHeight;if(t=Number(t),t>=0&&this.ready&&!this.disabled&&i.zoomable){var c=l*t,d=u*t;if(za(this.element,i1,{ratio:t,oldRatio:o/l,originalEvent:r})===!1)return this;if(r){var f=this.pointers,p=gN(this.cropper),m=f&&Object.keys(f).length?oz(f):{pageX:r.pageX,pageY:r.pageY};s.left-=(c-o)*((m.pageX-p.left-s.left)/o),s.top-=(d-a)*((m.pageY-p.top-s.top)/a)}else Ra(n)&&rt(n.x)&&rt(n.y)?(s.left-=(c-o)*((n.x-s.left)/o),s.top-=(d-a)*((n.y-s.top)/a)):(s.left-=(c-o)/2,s.top-=(d-a)/2);s.width=c,s.height=d,this.renderCanvas(!0)}return this},rotate:function(t){return this.rotateTo((this.imageData.rotate||0)+Number(t))},rotateTo:function(t){return t=Number(t),rt(t)&&this.ready&&!this.disabled&&this.options.rotatable&&(this.imageData.rotate=t%360,this.renderCanvas(!0,!0)),this},scaleX:function(t){var n=this.imageData.scaleY;return this.scale(t,rt(n)?n:1)},scaleY:function(t){var n=this.imageData.scaleX;return this.scale(rt(n)?n:1,t)},scale:function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:t,r=this.imageData,i=!1;return t=Number(t),n=Number(n),this.ready&&!this.disabled&&this.options.scalable&&(rt(t)&&(r.scaleX=t,i=!0),rt(n)&&(r.scaleY=n,i=!0),i&&this.renderCanvas(!0,!0)),this},getData:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,n=this.options,r=this.imageData,i=this.canvasData,s=this.cropBoxData,o;if(this.ready&&this.cropped){o={x:s.left-i.left,y:s.top-i.top,width:s.width,height:s.height};var a=r.width/r.naturalWidth;if(Wt(o,function(c,d){o[d]=c/a}),t){var l=Math.round(o.y+o.height),u=Math.round(o.x+o.width);o.x=Math.round(o.x),o.y=Math.round(o.y),o.width=u-o.x,o.height=l-o.y}}else o={x:0,y:0,width:0,height:0};return n.rotatable&&(o.rotate=r.rotate||0),n.scalable&&(o.scaleX=r.scaleX||1,o.scaleY=r.scaleY||1),o},setData:function(t){var n=this.options,r=this.imageData,i=this.canvasData,s={};if(this.ready&&!this.disabled&&Ra(t)){var o=!1;n.rotatable&&rt(t.rotate)&&t.rotate!==r.rotate&&(r.rotate=t.rotate,o=!0),n.scalable&&(rt(t.scaleX)&&t.scaleX!==r.scaleX&&(r.scaleX=t.scaleX,o=!0),rt(t.scaleY)&&t.scaleY!==r.scaleY&&(r.scaleY=t.scaleY,o=!0)),o&&this.renderCanvas(!0,!0);var a=r.width/r.naturalWidth;rt(t.x)&&(s.left=t.x*a+i.left),rt(t.y)&&(s.top=t.y*a+i.top),rt(t.width)&&(s.width=t.width*a),rt(t.height)&&(s.height=t.height*a),this.setCropBoxData(s)}return this},getContainerData:function(){return this.ready?Mt({},this.containerData):{}},getImageData:function(){return this.sized?Mt({},this.imageData):{}},getCanvasData:function(){var t=this.canvasData,n={};return this.ready&&Wt(["left","top","width","height","naturalWidth","naturalHeight"],function(r){n[r]=t[r]}),n},setCanvasData:function(t){var n=this.canvasData,r=n.aspectRatio;return this.ready&&!this.disabled&&Ra(t)&&(rt(t.left)&&(n.left=t.left),rt(t.top)&&(n.top=t.top),rt(t.width)?(n.width=t.width,n.height=t.width/r):rt(t.height)&&(n.height=t.height,n.width=t.height*r),this.renderCanvas(!0)),this},getCropBoxData:function(){var t=this.cropBoxData,n;return this.ready&&this.cropped&&(n={left:t.left,top:t.top,width:t.width,height:t.height}),n||{}},setCropBoxData:function(t){var n=this.cropBoxData,r=this.options.aspectRatio,i,s;return this.ready&&this.cropped&&!this.disabled&&Ra(t)&&(rt(t.left)&&(n.left=t.left),rt(t.top)&&(n.top=t.top),rt(t.width)&&t.width!==n.width&&(i=!0,n.width=t.width),rt(t.height)&&t.height!==n.height&&(s=!0,n.height=t.height),r&&(i?n.height=n.width/r:s&&(n.width=n.height*r)),this.renderCropBox()),this},getCroppedCanvas:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!this.ready||!window.HTMLCanvasElement)return null;var n=this.canvasData,r=lz(this.image,this.imageData,n,t);if(!this.cropped)return r;var i=this.getData(t.rounded),s=i.x,o=i.y,a=i.width,l=i.height,u=r.width/Math.floor(n.naturalWidth);u!==1&&(s*=u,o*=u,a*=u,l*=u);var c=a/l,d=Gs({aspectRatio:c,width:t.maxWidth||1/0,height:t.maxHeight||1/0}),f=Gs({aspectRatio:c,width:t.minWidth||0,height:t.minHeight||0},"cover"),p=Gs({aspectRatio:c,width:t.width||(u!==1?r.width:a),height:t.height||(u!==1?r.height:l)}),m=p.width,g=p.height;m=Math.min(d.width,Math.max(f.width,m)),g=Math.min(d.height,Math.max(f.height,g));var b=document.createElement("canvas"),y=b.getContext("2d");b.width=Ha(m),b.height=Ha(g),y.fillStyle=t.fillColor||"transparent",y.fillRect(0,0,m,g);var E=t.imageSmoothingEnabled,v=E===void 0?!0:E,w=t.imageSmoothingQuality;y.imageSmoothingEnabled=v,w&&(y.imageSmoothingQuality=w);var R=r.width,_=r.height,D=s,j=o,P,q,B,H,ee,ye;D<=-a||D>R?(D=0,P=0,B=0,ee=0):D<=0?(B=-D,D=0,P=Math.min(R,a+D),ee=P):D<=R&&(B=0,P=Math.min(a,R-D),ee=P),P<=0||j<=-l||j>_?(j=0,q=0,H=0,ye=0):j<=0?(H=-j,j=0,q=Math.min(_,l+j),ye=q):j<=_&&(H=0,q=Math.min(l,_-j),ye=q);var pe=[D,j,P,q];if(ee>0&&ye>0){var xe=m/a;pe.push(B*xe,H*xe,ee*xe,ye*xe)}return y.drawImage.apply(y,[r].concat(sN(pe.map(function(Ce){return Math.floor(Ha(Ce))})))),b},setAspectRatio:function(t){var n=this.options;return!this.disabled&&!Zh(t)&&(n.aspectRatio=Math.max(0,t)||NaN,this.ready&&(this.initCropBox(),this.cropped&&this.renderCropBox())),this},setDragMode:function(t){var n=this.options,r=this.dragBox,i=this.face;if(this.ready&&!this.disabled){var s=t===r_,o=n.movable&&t===uN;t=s||o?t:cN,n.dragMode=t,uc(r,lc,t),Da(r,Jb,s),Da(r,Zb,o),n.cropBoxMovable||(uc(i,lc,t),Da(i,Jb,s),Da(i,Zb,o))}return this}},vz=Li.Cropper,yN=function(){function e(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(M7(this,e),!t||!Y7.test(t.tagName))throw new Error("The first argument is required and must be an <img> or <canvas> element.");this.element=t,this.options=Mt({},sw,Ra(n)&&n),this.cropped=!1,this.disabled=!1,this.pointers={},this.ready=!1,this.reloading=!1,this.replaced=!1,this.sized=!1,this.sizing=!1,this.init()}return P7(e,[{key:"init",value:function(){var n=this.element,r=n.tagName.toLowerCase(),i;if(!n[Dt]){if(n[Dt]=this,r==="img"){if(this.isImg=!0,i=n.getAttribute("src")||"",this.originalUrl=i,!i)return;i=n.src}else r==="canvas"&&window.HTMLCanvasElement&&(i=n.toDataURL());this.load(i)}}},{key:"load",value:function(n){var r=this;if(n){this.url=n,this.imageData={};var i=this.element,s=this.options;if(!s.rotatable&&!s.scalable&&(s.checkOrientation=!1),!s.checkOrientation||!window.ArrayBuffer){this.clone();return}if(W7.test(n)){G7.test(n)?this.read(dz(n)):this.clone();return}var o=new XMLHttpRequest,a=this.clone.bind(this);this.reloading=!0,this.xhr=o,o.onabort=a,o.onerror=a,o.ontimeout=a,o.onprogress=function(){o.getResponseHeader("content-type")!==iw&&o.abort()},o.onload=function(){r.read(o.response)},o.onloadend=function(){r.reloading=!1,r.xhr=null},s.checkCrossOrigin&&aw(n)&&i.crossOrigin&&(n=lw(n)),o.open("GET",n,!0),o.responseType="arraybuffer",o.withCredentials=i.crossOrigin==="use-credentials",o.send()}}},{key:"read",value:function(n){var r=this.options,i=this.imageData,s=pz(n),o=0,a=1,l=1;if(s>1){this.url=fz(n,iw);var u=hz(s);o=u.rotate,a=u.scaleX,l=u.scaleY}r.rotatable&&(i.rotate=o),r.scalable&&(i.scaleX=a,i.scaleY=l),this.clone()}},{key:"clone",value:function(){var n=this.element,r=this.url,i=n.crossOrigin,s=r;this.options.checkCrossOrigin&&aw(r)&&(i||(i="anonymous"),s=lw(r)),this.crossOrigin=i,this.crossOriginUrl=s;var o=document.createElement("img");i&&(o.crossOrigin=i),o.src=s||r,o.alt=n.alt||"The image to crop",this.image=o,o.onload=this.start.bind(this),o.onerror=this.stop.bind(this),on(o,XT),n.parentNode.insertBefore(o,n.nextSibling)}},{key:"start",value:function(){var n=this,r=this.image;r.onload=null,r.onerror=null,this.sizing=!0;var i=Li.navigator&&/(?:iPad|iPhone|iPod).*?AppleWebKit/i.test(Li.navigator.userAgent),s=function(u,c){Mt(n.imageData,{naturalWidth:u,naturalHeight:c,aspectRatio:u/c}),n.initialImageData=Mt({},n.imageData),n.sizing=!1,n.sized=!0,n.build()};if(r.naturalWidth&&!i){s(r.naturalWidth,r.naturalHeight);return}var o=document.createElement("img"),a=document.body||document.documentElement;this.sizingImage=o,o.onload=function(){s(o.width,o.height),i||a.removeChild(o)},o.src=r.src,i||(o.style.cssText="left:0;max-height:none!important;max-width:none!important;min-height:0!important;min-width:0!important;opacity:0;position:absolute;top:0;z-index:-1;",a.appendChild(o))}},{key:"stop",value:function(){var n=this.image;n.onload=null,n.onerror=null,n.parentNode.removeChild(n),this.image=null}},{key:"build",value:function(){if(!(!this.sized||this.ready)){var n=this.element,r=this.options,i=this.image,s=n.parentNode,o=document.createElement("div");o.innerHTML=K7;var a=o.querySelector(".".concat(Dt,"-container")),l=a.querySelector(".".concat(Dt,"-canvas")),u=a.querySelector(".".concat(Dt,"-drag-box")),c=a.querySelector(".".concat(Dt,"-crop-box")),d=c.querySelector(".".concat(Dt,"-face"));this.container=s,this.cropper=a,this.canvas=l,this.dragBox=u,this.cropBox=c,this.viewBox=a.querySelector(".".concat(Dt,"-view-box")),this.face=d,l.appendChild(i),on(n,Zn),s.insertBefore(a,n.nextSibling),Ri(i,XT),this.initPreview(),this.bind(),r.initialAspectRatio=Math.max(0,r.initialAspectRatio)||NaN,r.aspectRatio=Math.max(0,r.aspectRatio)||NaN,r.viewMode=Math.max(0,Math.min(3,Math.round(r.viewMode)))||0,on(c,Zn),r.guides||on(c.getElementsByClassName("".concat(Dt,"-dashed")),Zn),r.center||on(c.getElementsByClassName("".concat(Dt,"-center")),Zn),r.background&&on(a,"".concat(Dt,"-bg")),r.highlight||on(d,H7),r.cropBoxMovable&&(on(d,Zb),uc(d,lc,n_)),r.cropBoxResizable||(on(c.getElementsByClassName("".concat(Dt,"-line")),Zn),on(c.getElementsByClassName("".concat(Dt,"-point")),Zn)),this.render(),this.ready=!0,this.setDragMode(r.dragMode),r.autoCrop&&this.crop(),this.setData(r.data),Jn(r.ready)&&Cr(n,tw,r.ready,{once:!0}),za(n,tw)}}},{key:"unbuild",value:function(){if(this.ready){this.ready=!1,this.unbind(),this.resetPreview();var n=this.cropper.parentNode;n&&n.removeChild(this.cropper),Ri(this.element,Zn)}}},{key:"uncreate",value:function(){this.ready?(this.unbuild(),this.ready=!1,this.cropped=!1):this.sizing?(this.sizingImage.onload=null,this.sizing=!1,this.sized=!1):this.reloading?(this.xhr.onabort=null,this.xhr.abort()):this.image&&this.stop()}}],[{key:"noConflict",value:function(){return window.Cropper=vz,e}},{key:"setDefaults",value:function(n){Mt(sw,Ra(n)&&n)}}])}();Mt(yN.prototype,mz,gz,bz,yz,_z,Ez);const Tz={class:"flex justify-between w-3/4"},wz={class:"list-disc pl-6 text-xs"},xz={class:"flex space-x-4"},Cz={class:"border w-3/4",style:{"max-height":"400px"}},Sz=["src"],Az=["src"],Oz={__name:"ImageCropper",props:{imageSrc:String},emits:["cropped"],setup(e,{emit:t}){const n=e,r=t,i=yt(null),s=yt(null),o=yt(null),a=nN(()=>{o.value&&o.value.getCroppedCanvas()&&o.value.getCroppedCanvas().toBlob(f=>{f&&(s.value=URL.createObjectURL(f),r("cropped",f))},"image/jpeg",.8)},500),l=()=>{const f=o.value.getImageData();o.value.setCropBoxData({width:f.width,height:f.height})},u=()=>{o.value=new yN(i.value,{viewMode:1,dragMode:"move",aspectRatio:1/1,backround:!1,zoomOnWheel:!1,ready(){l()},crop(){a()}})},c=()=>{o.value.zoom(.1)},d=()=>{o.value.zoom(-.1)};return vn(()=>n.imageSrc,f=>{o.value.replace(f),l()}),vr(()=>{u()}),wl(()=>{o.value.destroy(),URL.revokeObjectURL(s.value)}),(f,p)=>{const m=Y("zoom-out-icon"),g=Y("zoom-in-icon"),b=Y("note"),y=Y("icon-question"),E=Y("popper");return x(),L("div",null,[S("div",Tz,[S("div",null,[S("button",{class:"btn btn-xs",onClick:d},[z(m,{height:"12",width:"12"})]),p[0]||(p[0]=we("   ")),S("button",{class:"btn btn-xs",onClick:c},[z(g,{height:"12",width:"12"})])]),z(E,{arrow:"",hover:""},{content:V(()=>[p[8]||(p[8]=S("div",{class:"w-80"},null,-1)),p[9]||(p[9]=S("h4",null,"Tips on cropping images:",-1)),S("ul",wz,[p[4]||(p[4]=S("li",null,"Drag within the cropper to move the cropped region.",-1)),p[5]||(p[5]=S("li",null," Resize the cropped region by clicking on the edges or corners of the cropper and dragging. ",-1)),p[6]||(p[6]=S("li",null,"Drag the image outside of the cropper to move.",-1)),S("li",null,[p[1]||(p[1]=we(" Use the ")),z(g,{height:"12",width:"12",class:"inline-block"}),p[2]||(p[2]=we(" and ")),z(m,{height:"12",width:"12",class:"inline-block"}),p[3]||(p[3]=we(" to zoom in and out. "))])]),z(b,{class:"pl-6 mt-3"},{default:V(()=>p[7]||(p[7]=[we(" The cropper must be entirely on the image so you may need to reduce the cropped are or zoom out to move the image. ")])),_:1})]),default:V(()=>[z(y,{height:"14",width:"14"})]),_:1})]),S("div",xz,[S("div",Cz,[S("img",{ref_key:"imageEl",ref:i,src:e.imageSrc,style:{"max-width":"100%"}},null,8,Sz)]),S("div",null,[p[10]||(p[10]=S("h4",null,"Preview",-1)),S("img",{class:"border border-gray-700 overflow-hidden drop-shadow",style:{width:"100px",height:"100px"},src:s.value},null,8,Az)])])])}}},kz=Object.freeze(Object.defineProperty({__proto__:null,default:Oz},Symbol.toStringTag,{value:"Module"}));function Iz(){return _N().__VUE_DEVTOOLS_GLOBAL_HOOK__}function _N(){return typeof navigator<"u"&&typeof window<"u"?window:typeof globalThis<"u"?globalThis:{}}const Nz=typeof Proxy=="function",Rz="devtools-plugin:setup",Dz="plugin:settings:set";let _a,o1;function Mz(){var e;return _a!==void 0||(typeof window<"u"&&window.performance?(_a=!0,o1=window.performance):typeof globalThis<"u"&&(!((e=globalThis.perf_hooks)===null||e===void 0)&&e.performance)?(_a=!0,o1=globalThis.perf_hooks.performance):_a=!1),_a}function Pz(){return Mz()?o1.now():Date.now()}class Lz{constructor(t,n){this.target=null,this.targetQueue=[],this.onQueue=[],this.plugin=t,this.hook=n;const r={};if(t.settings)for(const o in t.settings){const a=t.settings[o];r[o]=a.defaultValue}const i=`__vue-devtools-plugin-settings__${t.id}`;let s=Object.assign({},r);try{const o=localStorage.getItem(i),a=JSON.parse(o);Object.assign(s,a)}catch{}this.fallbacks={getSettings(){return s},setSettings(o){try{localStorage.setItem(i,JSON.stringify(o))}catch{}s=o},now(){return Pz()}},n&&n.on(Dz,(o,a)=>{o===this.plugin.id&&this.fallbacks.setSettings(a)}),this.proxiedOn=new Proxy({},{get:(o,a)=>this.target?this.target.on[a]:(...l)=>{this.onQueue.push({method:a,args:l})}}),this.proxiedTarget=new Proxy({},{get:(o,a)=>this.target?this.target[a]:a==="on"?this.proxiedOn:Object.keys(this.fallbacks).includes(a)?(...l)=>(this.targetQueue.push({method:a,args:l,resolve:()=>{}}),this.fallbacks[a](...l)):(...l)=>new Promise(u=>{this.targetQueue.push({method:a,args:l,resolve:u})})})}async setRealTarget(t){this.target=t;for(const n of this.onQueue)this.target.on[n.method](...n.args);for(const n of this.targetQueue)n.resolve(await this.target[n.method](...n.args))}}function Bz(e,t){const n=e,r=_N(),i=Iz(),s=Nz&&n.enableEarlyProxy;if(i&&(r.__VUE_DEVTOOLS_PLUGIN_API_AVAILABLE__||!s))i.emit(Rz,e,t);else{const o=s?new Lz(n,i):null;(r.__VUE_DEVTOOLS_PLUGINS__=r.__VUE_DEVTOOLS_PLUGINS__||[]).push({pluginDescriptor:n,setupFn:t,proxy:o}),o&&t(o.proxiedTarget)}}/*!
 * vuex v4.1.0
 * (c) 2022 Evan You
 * @license MIT
 */var EN="store";function vN(e){return e===void 0&&(e=null),Un(e!==null?e:EN)}function Ol(e,t){Object.keys(e).forEach(function(n){return t(e[n],n)})}function TN(e){return e!==null&&typeof e=="object"}function Fz(e){return e&&typeof e.then=="function"}function $z(e,t){return function(){return e(t)}}function wN(e,t,n){return t.indexOf(e)<0&&(n&&n.prepend?t.unshift(e):t.push(e)),function(){var r=t.indexOf(e);r>-1&&t.splice(r,1)}}function xN(e,t){e._actions=Object.create(null),e._mutations=Object.create(null),e._wrappedGetters=Object.create(null),e._modulesNamespaceMap=Object.create(null);var n=e.state;Bp(e,n,[],e._modules.root,!0),s_(e,n,t)}function s_(e,t,n){var r=e._state,i=e._scope;e.getters={},e._makeLocalGettersCache=Object.create(null);var s=e._wrappedGetters,o={},a={},l=z6(!0);l.run(function(){Ol(s,function(u,c){o[c]=$z(u,e),a[c]=bt(function(){return o[c]()}),Object.defineProperty(e.getters,c,{get:function(){return a[c].value},enumerable:!0})})}),e._state=El({data:t}),e._scope=l,e.strict&&qz(e),r&&n&&e._withCommit(function(){r.data=null}),i&&i.stop()}function Bp(e,t,n,r,i){var s=!n.length,o=e._modules.getNamespace(n);if(r.namespaced&&(e._modulesNamespaceMap[o],e._modulesNamespaceMap[o]=r),!s&&!i){var a=o_(t,n.slice(0,-1)),l=n[n.length-1];e._withCommit(function(){a[l]=r.state})}var u=r.context=Uz(e,o,n);r.forEachMutation(function(c,d){var f=o+d;Hz(e,f,c,u)}),r.forEachAction(function(c,d){var f=c.root?d:o+d,p=c.handler||c;zz(e,f,p,u)}),r.forEachGetter(function(c,d){var f=o+d;jz(e,f,c,u)}),r.forEachChild(function(c,d){Bp(e,t,n.concat(d),c,i)})}function Uz(e,t,n){var r=t==="",i={dispatch:r?e.dispatch:function(s,o,a){var l=Ff(s,o,a),u=l.payload,c=l.options,d=l.type;return(!c||!c.root)&&(d=t+d),e.dispatch(d,u)},commit:r?e.commit:function(s,o,a){var l=Ff(s,o,a),u=l.payload,c=l.options,d=l.type;(!c||!c.root)&&(d=t+d),e.commit(d,u,c)}};return Object.defineProperties(i,{getters:{get:r?function(){return e.getters}:function(){return CN(e,t)}},state:{get:function(){return o_(e.state,n)}}}),i}function CN(e,t){if(!e._makeLocalGettersCache[t]){var n={},r=t.length;Object.keys(e.getters).forEach(function(i){if(i.slice(0,r)===t){var s=i.slice(r);Object.defineProperty(n,s,{get:function(){return e.getters[i]},enumerable:!0})}}),e._makeLocalGettersCache[t]=n}return e._makeLocalGettersCache[t]}function Hz(e,t,n,r){var i=e._mutations[t]||(e._mutations[t]=[]);i.push(function(o){n.call(e,r.state,o)})}function zz(e,t,n,r){var i=e._actions[t]||(e._actions[t]=[]);i.push(function(o){var a=n.call(e,{dispatch:r.dispatch,commit:r.commit,getters:r.getters,state:r.state,rootGetters:e.getters,rootState:e.state},o);return Fz(a)||(a=Promise.resolve(a)),e._devtoolHook?a.catch(function(l){throw e._devtoolHook.emit("vuex:error",l),l}):a})}function jz(e,t,n,r){e._wrappedGetters[t]||(e._wrappedGetters[t]=function(s){return n(r.state,r.getters,s.state,s.getters)})}function qz(e){vn(function(){return e._state.data},function(){},{deep:!0,flush:"sync"})}function o_(e,t){return t.reduce(function(n,r){return n[r]},e)}function Ff(e,t,n){return TN(e)&&e.type&&(n=t,t=e,e=e.type),{type:e,payload:t,options:n}}var Vz="vuex bindings",uw="vuex:mutations",tm="vuex:actions",Ea="vuex",Wz=0;function Gz(e,t){Bz({id:"org.vuejs.vuex",app:e,label:"Vuex",homepage:"https://next.vuex.vuejs.org/",logo:"https://vuejs.org/images/icons/favicon-96x96.png",packageName:"vuex",componentStateTypes:[Vz]},function(n){n.addTimelineLayer({id:uw,label:"Vuex Mutations",color:cw}),n.addTimelineLayer({id:tm,label:"Vuex Actions",color:cw}),n.addInspector({id:Ea,label:"Vuex",icon:"storage",treeFilterPlaceholder:"Filter stores..."}),n.on.getInspectorTree(function(r){if(r.app===e&&r.inspectorId===Ea)if(r.filter){var i=[];kN(i,t._modules.root,r.filter,""),r.rootNodes=i}else r.rootNodes=[ON(t._modules.root,"")]}),n.on.getInspectorState(function(r){if(r.app===e&&r.inspectorId===Ea){var i=r.nodeId;CN(t,i),r.state=Xz(Jz(t._modules,i),i==="root"?t.getters:t._makeLocalGettersCache,i)}}),n.on.editInspectorState(function(r){if(r.app===e&&r.inspectorId===Ea){var i=r.nodeId,s=r.path;i!=="root"&&(s=i.split("/").filter(Boolean).concat(s)),t._withCommit(function(){r.set(t._state.data,s,r.state.value)})}}),t.subscribe(function(r,i){var s={};r.payload&&(s.payload=r.payload),s.state=i,n.notifyComponentUpdate(),n.sendInspectorTree(Ea),n.sendInspectorState(Ea),n.addTimelineEvent({layerId:uw,event:{time:Date.now(),title:r.type,data:s}})}),t.subscribeAction({before:function(r,i){var s={};r.payload&&(s.payload=r.payload),r._id=Wz++,r._time=Date.now(),s.state=i,n.addTimelineEvent({layerId:tm,event:{time:r._time,title:r.type,groupId:r._id,subtitle:"start",data:s}})},after:function(r,i){var s={},o=Date.now()-r._time;s.duration={_custom:{type:"duration",display:o+"ms",tooltip:"Action duration",value:o}},r.payload&&(s.payload=r.payload),s.state=i,n.addTimelineEvent({layerId:tm,event:{time:Date.now(),title:r.type,groupId:r._id,subtitle:"end",data:s}})}})})}var cw=8702998,Yz=6710886,Kz=16777215,SN={label:"namespaced",textColor:Kz,backgroundColor:Yz};function AN(e){return e&&e!=="root"?e.split("/").slice(-2,-1)[0]:"Root"}function ON(e,t){return{id:t||"root",label:AN(t),tags:e.namespaced?[SN]:[],children:Object.keys(e._children).map(function(n){return ON(e._children[n],t+n+"/")})}}function kN(e,t,n,r){r.includes(n)&&e.push({id:r||"root",label:r.endsWith("/")?r.slice(0,r.length-1):r||"Root",tags:t.namespaced?[SN]:[]}),Object.keys(t._children).forEach(function(i){kN(e,t._children[i],n,r+i+"/")})}function Xz(e,t,n){t=n==="root"?t:t[n];var r=Object.keys(t),i={state:Object.keys(e.state).map(function(o){return{key:o,editable:!0,value:e.state[o]}})};if(r.length){var s=Qz(t);i.getters=Object.keys(s).map(function(o){return{key:o.endsWith("/")?AN(o):o,editable:!1,value:a1(function(){return s[o]})}})}return i}function Qz(e){var t={};return Object.keys(e).forEach(function(n){var r=n.split("/");if(r.length>1){var i=t,s=r.pop();r.forEach(function(o){i[o]||(i[o]={_custom:{value:{},display:o,tooltip:"Module",abstract:!0}}),i=i[o]._custom.value}),i[s]=a1(function(){return e[n]})}else t[n]=a1(function(){return e[n]})}),t}function Jz(e,t){var n=t.split("/").filter(function(r){return r});return n.reduce(function(r,i,s){var o=r[i];if(!o)throw new Error('Missing module "'+i+'" for path "'+t+'".');return s===n.length-1?o:o._children},t==="root"?e:e.root._children)}function a1(e){try{return e()}catch(t){return t}}var fi=function(t,n){this.runtime=n,this._children=Object.create(null),this._rawModule=t;var r=t.state;this.state=(typeof r=="function"?r():r)||{}},IN={namespaced:{configurable:!0}};IN.namespaced.get=function(){return!!this._rawModule.namespaced};fi.prototype.addChild=function(t,n){this._children[t]=n};fi.prototype.removeChild=function(t){delete this._children[t]};fi.prototype.getChild=function(t){return this._children[t]};fi.prototype.hasChild=function(t){return t in this._children};fi.prototype.update=function(t){this._rawModule.namespaced=t.namespaced,t.actions&&(this._rawModule.actions=t.actions),t.mutations&&(this._rawModule.mutations=t.mutations),t.getters&&(this._rawModule.getters=t.getters)};fi.prototype.forEachChild=function(t){Ol(this._children,t)};fi.prototype.forEachGetter=function(t){this._rawModule.getters&&Ol(this._rawModule.getters,t)};fi.prototype.forEachAction=function(t){this._rawModule.actions&&Ol(this._rawModule.actions,t)};fi.prototype.forEachMutation=function(t){this._rawModule.mutations&&Ol(this._rawModule.mutations,t)};Object.defineProperties(fi.prototype,IN);var la=function(t){this.register([],t,!1)};la.prototype.get=function(t){return t.reduce(function(n,r){return n.getChild(r)},this.root)};la.prototype.getNamespace=function(t){var n=this.root;return t.reduce(function(r,i){return n=n.getChild(i),r+(n.namespaced?i+"/":"")},"")};la.prototype.update=function(t){NN([],this.root,t)};la.prototype.register=function(t,n,r){var i=this;r===void 0&&(r=!0);var s=new fi(n,r);if(t.length===0)this.root=s;else{var o=this.get(t.slice(0,-1));o.addChild(t[t.length-1],s)}n.modules&&Ol(n.modules,function(a,l){i.register(t.concat(l),a,r)})};la.prototype.unregister=function(t){var n=this.get(t.slice(0,-1)),r=t[t.length-1],i=n.getChild(r);i&&i.runtime&&n.removeChild(r)};la.prototype.isRegistered=function(t){var n=this.get(t.slice(0,-1)),r=t[t.length-1];return n?n.hasChild(r):!1};function NN(e,t,n){if(t.update(n),n.modules)for(var r in n.modules){if(!t.getChild(r))return;NN(e.concat(r),t.getChild(r),n.modules[r])}}function Zz(e){return new sr(e)}var sr=function(t){var n=this;t===void 0&&(t={});var r=t.plugins;r===void 0&&(r=[]);var i=t.strict;i===void 0&&(i=!1);var s=t.devtools;this._committing=!1,this._actions=Object.create(null),this._actionSubscribers=[],this._mutations=Object.create(null),this._wrappedGetters=Object.create(null),this._modules=new la(t),this._modulesNamespaceMap=Object.create(null),this._subscribers=[],this._makeLocalGettersCache=Object.create(null),this._scope=null,this._devtools=s;var o=this,a=this,l=a.dispatch,u=a.commit;this.dispatch=function(f,p){return l.call(o,f,p)},this.commit=function(f,p,m){return u.call(o,f,p,m)},this.strict=i;var c=this._modules.root.state;Bp(this,c,[],this._modules.root),s_(this,c),r.forEach(function(d){return d(n)})},a_={state:{configurable:!0}};sr.prototype.install=function(t,n){t.provide(n||EN,this),t.config.globalProperties.$store=this;var r=this._devtools!==void 0?this._devtools:!1;r&&Gz(t,this)};a_.state.get=function(){return this._state.data};a_.state.set=function(e){};sr.prototype.commit=function(t,n,r){var i=this,s=Ff(t,n,r),o=s.type,a=s.payload,l={type:o,payload:a},u=this._mutations[o];u&&(this._withCommit(function(){u.forEach(function(d){d(a)})}),this._subscribers.slice().forEach(function(c){return c(l,i.state)}))};sr.prototype.dispatch=function(t,n){var r=this,i=Ff(t,n),s=i.type,o=i.payload,a={type:s,payload:o},l=this._actions[s];if(l){try{this._actionSubscribers.slice().filter(function(c){return c.before}).forEach(function(c){return c.before(a,r.state)})}catch{}var u=l.length>1?Promise.all(l.map(function(c){return c(o)})):l[0](o);return new Promise(function(c,d){u.then(function(f){try{r._actionSubscribers.filter(function(p){return p.after}).forEach(function(p){return p.after(a,r.state)})}catch{}c(f)},function(f){try{r._actionSubscribers.filter(function(p){return p.error}).forEach(function(p){return p.error(a,r.state,f)})}catch{}d(f)})})}};sr.prototype.subscribe=function(t,n){return wN(t,this._subscribers,n)};sr.prototype.subscribeAction=function(t,n){var r=typeof t=="function"?{before:t}:t;return wN(r,this._actionSubscribers,n)};sr.prototype.watch=function(t,n,r){var i=this;return vn(function(){return t(i.state,i.getters)},n,Object.assign({},r))};sr.prototype.replaceState=function(t){var n=this;this._withCommit(function(){n._state.data=t})};sr.prototype.registerModule=function(t,n,r){r===void 0&&(r={}),typeof t=="string"&&(t=[t]),this._modules.register(t,n),Bp(this,this.state,t,this._modules.get(t),r.preserveState),s_(this,this.state)};sr.prototype.unregisterModule=function(t){var n=this;typeof t=="string"&&(t=[t]),this._modules.unregister(t),this._withCommit(function(){var r=o_(n.state,t.slice(0,-1));delete r[t[t.length-1]]}),xN(this)};sr.prototype.hasModule=function(t){return typeof t=="string"&&(t=[t]),this._modules.isRegistered(t)};sr.prototype.hotUpdate=function(t){this._modules.update(t),xN(this,!0)};sr.prototype._withCommit=function(t){var n=this._committing;this._committing=!0,t(),this._committing=n};Object.defineProperties(sr.prototype,a_);var ACe=DN(function(e,t){var n={};return RN(t).forEach(function(r){var i=r.key,s=r.val;n[i]=function(){var a=this.$store.state,l=this.$store.getters;if(e){var u=MN(this.$store,"mapState",e);if(!u)return;a=u.context.state,l=u.context.getters}return typeof s=="function"?s.call(this,a,l):a[s]},n[i].vuex=!0}),n}),l_=DN(function(e,t){var n={};return RN(t).forEach(function(r){var i=r.key,s=r.val;s=e+s,n[i]=function(){if(!(e&&!MN(this.$store,"mapGetters",e)))return this.$store.getters[s]},n[i].vuex=!0}),n});function RN(e){return ej(e)?Array.isArray(e)?e.map(function(t){return{key:t,val:t}}):Object.keys(e).map(function(t){return{key:t,val:e[t]}}):[]}function ej(e){return Array.isArray(e)||TN(e)}function DN(e){return function(t,n){return typeof t!="string"?(n=t,t=""):t.charAt(t.length-1)!=="/"&&(t+="/"),e(t,n)}}function MN(e,t,n){var r=e._modulesNamespaceMap[n];return r}const tj=e=>{sessionStorage.clear(),window.location.href=`/impersonate/take/${e}`},nj=e=>Z.get(`/api/impersonate/search?query_string=${e}`).then(t=>t.data.data);function rj(e){const t=e.getBoundingClientRect();document.getElementById("block")&&document.getElementById("block").remove();const n=e.parentNode.getBoundingClientRect();return t.top>=n.top&&t.bottom<=n.bottom}const ij={name:"SearchSelect",props:{modelValue:{required:!0},searchFunction:{required:!1,type:Function,default:null},options:{required:!1,default:()=>[]},throttle:{required:!1,type:Number,default:250},optionsHeight:{required:!1,type:Number,default:200},placeholder:{required:!1,type:String,default:"type to search"},disabled:{required:!1,type:Boolean,default:!1},labelField:{type:String,default:"name"},showOptionsOnFocus:{type:Boolean,default:!1},showOptionsWhenEmpty:{type:Boolean,default:!1},multiple:{type:Boolean,default:!1},keyOptionsBy:{type:String,default:"id"}},emits:["update:modelValue","removed","added","searchTextUpdated"],data(){return{selections:[],searchText:null,cursorPosition:null,filteredOptions:[],clearInputTimeout:null,keydownTimer:null,currentKey:null,hasFocus:!1,debug:!1}},computed:{hasAdditionalOption(){return!!this.$slots.additionalOption},hasOptions(){return this.filteredOptions.length>0||this.hasAdditionalOption},optionsListHeight(){return this.showingOptions?this.optionsHeight:0},selection(){return this.modelValue},showInput(){return!this.hasSelection||this.multiple},showingOptions(){return(this.showOptionsWhenEmpty||this.hasAdditionalOption)&&(this.searchText||this.hasFocus)?!0:this.filteredOptions.length>0&&this.hasFocus},highlightedOption(){return this.showingOptions?null:this.filteredOptions[this.cursorPosition]},hasSelection(){return this.selections.length>0},filteredUniqueOptions(){const e=this.selections.map(t=>t[this.keyOptionsBy]);return this.filteredOptions.filter(t=>!e.includes(t[this.keyOptionsBy]))}},watch:{searchText(){this.search(this.searchText,this.options),this.$emit("searchTextUpdated",this.searchText)},filteredOptions(){this.cursorPosition=0},modelValue:{handler(e){e&&(this.selections=Array.isArray(e)?e:[e]),this.clearInput(),this.resetCursor()},immediate:!0}},created(){this.search=nN(async(e,t)=>{if(e===""||e===null||typeof e>"u"){if(this.showOptionsOnFocus){this.filteredOptions=[...t];return}return[]}if(!this.searchFunction){this.filteredOptions=this.defaultSearchFunction(e,t);return}this.filteredOptions=await this.searchFunction(e,t)},this.throttle)},methods:{handleInputFocus(){this.hasFocus=!0,this.showOptionsOnFocus&&this.search(this.searchText,this.options)},handleInputBlur(){this.log("handleInputBlur"),setTimeout(()=>{this.log("timedout"),this.clearInput(),this.resetCursor(),this.hasFocus=!1},200)},defaultSearchFunction(e,t){if(this.log("defaultSearchFunction"),!e)return[];const n=new RegExp(e,"gi");return t.filter(r=>{let i=null;return typeof r=="string"?i=r.match(n):i=r[this.labelField].match(n),i!==null})},removeSelection(e){if(this.disabled)return;this.log("removeSelection");const t=this.selections.splice(e,1);this.emitModelUpdate(),this.$emit("removed",t[0]),this.$nextTick(()=>{this.$refs.input.focus()})},setSelection(e){this.selections.push(e),this.emitModelUpdate(),this.clearInput(),this.resetCursor(),this.$emit("added",e)},emitModelUpdate(){this.multiple?this.$emit("update:modelValue",this.selections):this.$emit("update:modelValue",this.selections[0]??null)},clearInput(){this.log("clearInput"),this.clearSearchText(),this.clearOptions()},clearOptions(){this.log("clearOptions"),this.filteredOptions=[]},clearSearchText(){this.log("clearSearchText"),this.searchText=null},resetCursor(){this.log("resetCursor"),this.cursorPosition=0},startKeydownTimer(e){this.log("startKeydwonTimer"),e.key!==this.currentKey&&(this.cancelKeydownTimer(e),e.key==="ArrowUp"&&(this.keydownTimer=setInterval(()=>{this.moveUp()},100),this.currentKey="ArrowUp"),e.key==="ArrowDown"&&(this.keydownTimer=setInterval(()=>{this.moveDown()},100),this.currentKey="ArrowDown"))},handleKeyDown(e){if(this.log("handleKeyDown"),e.key==="Tab"){this.handleKeyEvent(e);return}this.startKeydownTimer(e)},cancelKeydownTimer(){this.log("cancelKeydwonTimer"),this.keydownTimer&&(clearInterval(this.keydownTimer),this.currentKey=null)},moveUp(){if(this.log("moveUp"),!this.cursorPosition){this.cursorPosition=0;return}this.cursorPosition-1<0||(this.cursorPosition--,this.scrollToHighlightedOption())},moveDown(){if(this.log("moveDown"),this.cursorPosition===null){this.cursorPosition=0;return}this.cursorPosition+1>=this.filteredOptions.length||(this.cursorPosition++,this.scrollToHighlightedOption())},handleKeyEvent(e){this.log("handleKeyEvent"),this.cancelKeydownTimer(e),this.showingOptions&&(e.key==="ArrowDown"&&this.moveDown(),e.key==="ArrowUp"&&this.moveUp(),["Enter"].includes(e.key)&&(e.preventDefault(),this.setSelection(this.filteredOptions[this.cursorPosition])),["Tab"].includes(e.key)&&this.setSelection(this.filteredOptions[this.cursorPosition]),e.key==="Escape"&&this.clearOptions())},scrollToHighlightedOption(){this.log("scrollToHighlightedOption"),rj(document.getElementById(`option-${this.cursorPosition}`))||document.getElementById(`option-${this.cursorPosition}`).scrollIntoView()},resolveDefaultOptionLabel(e){return typeof e=="object"?e[this.labelField]:e},log(e){this.debug&&console.log(e)}}},sj={class:"search-select-component"},oj={class:"search-select-container bg-white"},aj={key:0},lj=["disabled","onClick"],uj=["placeholder","disabled"],cj={class:"result-container"},dj=["id","onClick"],fj={key:0,class:"filtered-option additional-option"},pj={key:0,class:"bg-white p-2 border"};function hj(e,t,n,r,i,s){return x(),L("div",sj,[S("div",oj,[s.hasSelection?(x(),L("div",aj,[(x(!0),L(Xe,null,$t(i.selections,(o,a)=>(x(),L("div",{key:a,class:nt(["selection",{disabled:n.disabled}])},[S("label",null,[Ae(e.$slots,"selection-label",{selection:o},()=>[we(le(s.resolveDefaultOptionLabel(o)),1)],!0)]),S("div",{disabled:n.disabled,class:"remove-btn",onClick:l=>s.removeSelection(a)}," x ",8,lj)],2))),128))])):Oe("",!0),Ct(S("input",{id:"search-select-input",ref:"input","onUpdate:modelValue":t[0]||(t[0]=o=>i.searchText=o),type:"text",class:"input",placeholder:n.placeholder,disabled:n.disabled,onKeydown:t[1]||(t[1]=(...o)=>s.handleKeyDown&&s.handleKeyDown(...o)),onKeyup:t[2]||(t[2]=(...o)=>s.handleKeyEvent&&s.handleKeyEvent(...o)),onFocus:t[3]||(t[3]=(...o)=>s.handleInputFocus&&s.handleInputFocus(...o)),onBlur:t[4]||(t[4]=(...o)=>s.handleInputBlur&&s.handleInputBlur(...o))},null,40,uj),[[yr,s.showInput],[js,i.searchText]])]),Ct(S("div",cj,[S("div",null,[S("ul",{class:"option-list",style:ia(`max-height: ${s.optionsListHeight}px`)},[(x(!0),L(Xe,null,$t(s.filteredUniqueOptions,(o,a)=>(x(),L("li",{id:`option-${a}`,key:a,class:nt(["filtered-option",{highlighted:a===i.cursorPosition}]),onClick:l=>s.setSelection(o)},[Ae(e.$slots,"option",{option:o,index:a},()=>[we(le(s.resolveDefaultOptionLabel(o)),1)],!0)],10,dj))),128)),e.$slots.additionalOption?(x(),L("li",fj,[Ae(e.$slots,"additionalOption",{},void 0,!0)])):Oe("",!0)],4),e.$slots.fixedBottomOption?(x(),L("div",pj,[Ae(e.$slots,"fixedBottomOption",{},void 0,!0)])):Oe("",!0)])],512),[[yr,s.showingOptions]])])}const vs=ne(ij,[["render",hj],["__scopeId","data-v-b2dc013c"]]),mj=Object.freeze(Object.defineProperty({__proto__:null,default:vs},Symbol.toStringTag,{value:"Module"})),gj={components:{SearchSelect:vs},emits:["impersonated"],data(){return{selectedUser:null,showSelector:!1,showProgress:!1,clearingImpersonate:!1}},computed:{...l_({user:"currentUser"}),canImpersonate(){return this.$store.getters.currentUser.hasRole("super-user")||this.$store.getters.currentUser.hasRole("super-admin")||this.$store.getters.currentUser.hasRole("admin")},progressMessage(){return this.clearingImpersonate?"Clearing impersonation.":`Impersonating ${this.selectedUser.name}`}},methods:{impersonateSelected(){this.selectedUser&&(this.$emit("impersonated"),this.showProgress=!0,tj(this.selectedUser.id))},async search(e){return await nj(e)},cancelImpersonate(){this.selectedUser=null,this.showSelector=!this.showSelector}}},bj={key:0},yj={key:0,class:"text-center"};function _j(e,t,n,r,i,s){const o=Y("SearchSelect"),a=Y("button-row"),l=Y("note"),u=Y("modal-dialog");return x(),L("div",null,[s.canImpersonate||e.user.is_impersonating?(x(),L("div",bj,[e.user.is_impersonating?(x(),L("a",{key:1,href:"/impersonate/leave",class:"btn btn-secondary btn-xs",onClick:t[1]||(t[1]=c=>i.clearingImpersonate=!0)}," Stop impersonating ")):(x(),L("button",{key:0,class:"btn btn-xs border",onClick:t[0]||(t[0]=c=>i.showSelector=!i.showSelector)}," Impersonate a user ")),(x(),fe(Er,{to:"body"},[z(u,{modelValue:i.showSelector,"onUpdate:modelValue":t[3]||(t[3]=c=>i.showSelector=c),title:"Impersonate another user",onOk:s.impersonateSelected},{default:V(()=>[z(o,{modelValue:i.selectedUser,"onUpdate:modelValue":t[2]||(t[2]=c=>i.selectedUser=c),"search-function":s.search,placeholder:"search by name, email, or numeric id"},{"selection-label":V(({selection:c})=>[we(le(c.name)+" ("+le(c.email)+") ",1)]),option:V(({option:c})=>[we(le(c.name)+" ("+le(c.email)+") ",1)]),_:1},8,["modelValue","search-function"]),z(a,{onSubmitText:s.search,onSubmitted:s.impersonateSelected,onCancel:s.cancelImpersonate},null,8,["onSubmitText","onSubmitted","onCancel"]),t[6]||(t[6]=S("hr",null,null,-1)),z(l,null,{default:V(()=>t[5]||(t[5]=[we(" Note that only ClinGen members that have redeemed their invite will be users of the system. "),S("br",null,null,-1),we(" If they have not redeemed their invite you cannot impersonate them. "),S("br",null,null,-1),we(" Check the "),S("a",{href:"/admin/invites",target:"invites-admin"},"Invites Admin",-1),we(". ")])),_:1})]),_:1},8,["modelValue","onOk"]),z(u,{modelValue:i.showProgress,"onUpdate:modelValue":t[4]||(t[4]=c=>i.showProgress=c)},{default:V(()=>[i.selectedUser?(x(),L("h3",yj,le(s.progressMessage),1)):Oe("",!0),t[7]||(t[7]=S("p",{class:"text-center"}," The page will reload in a moment... ",-1))]),_:1},8,["modelValue"])]))])):Oe("",!0)])}const PN=ne(gj,[["render",_j]]),Ej=Object.freeze(Object.defineProperty({__proto__:null,default:PN},Symbol.toStringTag,{value:"Module"})),vj=an.feedback,Tj={name:"ComponentName",props:{},data(){return{showReportIssue:!1,errors:{},url:null,type:"Bug",severity:"15555",description:`What I expected:

Steps to reproduce:
`,summary:null,saving:!1}},computed:{severities(){return vj.severities}},methods:{initReportIssue(){this.showReportIssue=!0,this.initForm()},initForm(){this.severity=null,this.description=`What I expected:


Steps to reproduce:


Additional information:

`,this.summary=null,this.url=this.$route.path,this.errors={},this.saving=!1},async submitIssue(){try{this.saving=!0,await Z.post("/api/feedback",{url:this.url,type:this.type,severity:this.severity,description:this.description,summary:this.summary}),this.saving=!1,this.$store.commit("pushSuccess","Your problem has been reported."),this.showReportIssue=!1}catch(e){if($c(e)){this.errors=e.response.data.errors,this.saving=!1;return}throw e}},cancelSubmission(){this.initForm(),this.showReportIssue=!1}}},wj={key:0},xj=["value"],Cj={key:2,class:"pt-2 mt-2 border-t text-gray-500"};function Sj(e,t,n,r,i,s){const o=Y("icon-bug"),a=Y("popover"),l=Y("input-row"),u=Y("button-row"),c=Y("modal-dialog");return e.$store.getters.isAuthed?(x(),L("div",wj,[z(a,{hover:"",arrow:"",placement:"left"},{content:V(()=>t[7]||(t[7]=[S("div",{class:"whitespace-no-wrap w-28 text-xs"}," Report a problem ",-1)])),default:V(()=>[S("button",{class:"text-white bg-red-600 border border-red-700 border-r-0 pl-3 pr-3 py-2 rounded-l-lg shadow-lg print:hidden",onClick:t[0]||(t[0]=(...d)=>s.initReportIssue&&s.initReportIssue(...d))},[z(o)])]),_:1}),(x(),fe(Er,{to:"body"},[z(c,{modelValue:i.showReportIssue,"onUpdate:modelValue":t[6]||(t[6]=d=>i.showReportIssue=d),title:"Report a problem"},{default:V(()=>[z(l,{modelValue:i.url,"onUpdate:modelValue":t[1]||(t[1]=d=>i.url=d),label:"URL",errors:i.errors.url,"input-class":"w-full"},null,8,["modelValue","errors"]),z(l,{label:"Type"},{default:V(()=>[Ct(S("select",{"onUpdate:modelValue":t[2]||(t[2]=d=>i.type=d),class:"w-full"},t[8]||(t[8]=[S("option",{value:"Bug"}," Bug ",-1),S("option",{value:"Task"}," Enhancement ",-1)]),512),[[If,i.type]])]),_:1}),i.type=="Bug"?(x(),fe(l,{key:0,label:"Severity",errors:i.errors.severity},{default:V(()=>[Ct(S("select",{id:"","onUpdate:modelValue":t[3]||(t[3]=d=>i.severity=d),name:""},[(x(!0),L(Xe,null,$t(s.severities,d=>(x(),L("option",{key:d.id,value:d.id},le(d.name),9,xj))),128))],512),[[If,i.severity]])]),_:1},8,["errors"])):Oe("",!0),z(l,{modelValue:i.summary,"onUpdate:modelValue":t[4]||(t[4]=d=>i.summary=d),label:"Summary",errors:i.errors.summary,"input-class":"w-full"},null,8,["modelValue","errors"]),z(l,{label:"Description",errors:i.errors.description},{default:V(()=>[Ct(S("textarea",{"onUpdate:modelValue":t[5]||(t[5]=d=>i.description=d),class:"w-full",rows:"10",placeholder:"Please tell us what you expected to happen, and what actually happened, and the steps we should take to reproduce the problem."},null,512),[[js,i.description]])]),_:1},8,["errors"]),i.saving?Oe("",!0):(x(),fe(u,{key:1,onSubmitted:s.submitIssue,onCanceled:s.cancelSubmission},null,8,["onSubmitted","onCanceled"])),i.saving?(x(),L("div",Cj," Saving… ")):Oe("",!0)]),_:1},8,["modelValue"])]))])):Oe("",!0)}const LN=ne(Tj,[["render",Sj]]),Aj=Object.freeze(Object.defineProperty({__proto__:null,default:LN},Symbol.toStringTag,{value:"Module"})),Oj={props:{},emits:["authenticated","authenticationFailed"],data(){return{email:null,password:null,errors:{}}},computed:{},methods:{async authenticate(){try{await this.$store.dispatch("login",{email:this.email,password:this.password})}catch(e){throw $c(e)&&(this.errors=e.response.data.errors,this.$emit("authenticationFailed")),e}try{await this.$store.dispatch("getCurrentUser")}catch(e){throw I2(e)&&this.$emit("authenticationFailed"),e}this.$emit("authenticated")}}},kj={class:"mt-2"};function Ij(e,t,n,r,i,s){const o=Y("input-row"),a=Y("router-link"),l=Y("button-row"),u=Y("form-container");return x(),fe(u,{onKeyup:Fy(s.authenticate,["enter"])},{default:V(()=>[z(o,{modelValue:i.email,"onUpdate:modelValue":t[0]||(t[0]=c=>i.email=c),label:"Email",type:"text",errors:i.errors.email,name:"email",required:""},null,8,["modelValue","errors"]),z(o,{modelValue:i.password,"onUpdate:modelValue":t[1]||(t[1]=c=>i.password=c),label:"Password",type:"password",errors:i.errors.password,name:"password",required:""},null,8,["modelValue","errors"]),S("div",kj,[z(a,{class:"text-blue-500 underline",to:{name:"reset-password"}},{default:V(()=>t[3]||(t[3]=[we(" Forgot your password? ")])),_:1}),t[5]||(t[5]=S("br",null,null,-1)),z(a,{class:"text-blue-500 underline",to:{name:"RedeemInvite"}},{default:V(()=>t[4]||(t[4]=[we(" Redeem your invite ")])),_:1})]),z(l,{class:"mt-4"},{default:V(()=>[S("button",{class:"btn blue w-auto px-4",name:"login-button",onClick:t[2]||(t[2]=(...c)=>s.authenticate&&s.authenticate(...c))}," Log in ")]),_:1})]),_:1},8,["onKeyup"])}const Nj=ne(Oj,[["render",Ij]]),Rj=Object.freeze(Object.defineProperty({__proto__:null,default:Nj},Symbol.toStringTag,{value:"Module"}));let Uc=class{constructor(t,n,r){this.property=t,this.normal=n,r&&(this.space=r)}};Uc.prototype.property={};Uc.prototype.normal={};Uc.prototype.space=null;function BN(e,t){const n={},r={};let i=-1;for(;++i<e.length;)Object.assign(n,e[i].property),Object.assign(r,e[i].normal);return new Uc(n,r,t)}function cc(e){return e.toLowerCase()}class jr{constructor(t,n){this.property=t,this.attribute=n}}jr.prototype.space=null;jr.prototype.boolean=!1;jr.prototype.booleanish=!1;jr.prototype.overloadedBoolean=!1;jr.prototype.number=!1;jr.prototype.commaSeparated=!1;jr.prototype.spaceSeparated=!1;jr.prototype.commaOrSpaceSeparated=!1;jr.prototype.mustUseProperty=!1;jr.prototype.defined=!1;let Dj=0;const Ge=ua(),Vt=ua(),FN=ua(),ae=ua(),wt=ua(),ja=ua(),lr=ua();function ua(){return 2**++Dj}const l1=Object.freeze(Object.defineProperty({__proto__:null,boolean:Ge,booleanish:Vt,commaOrSpaceSeparated:lr,commaSeparated:ja,number:ae,overloadedBoolean:FN,spaceSeparated:wt},Symbol.toStringTag,{value:"Module"})),nm=Object.keys(l1);class u_ extends jr{constructor(t,n,r,i){let s=-1;if(super(t,n),dw(this,"space",i),typeof r=="number")for(;++s<nm.length;){const o=nm[s];dw(this,nm[s],(r&l1[o])===l1[o])}}}u_.prototype.defined=!0;function dw(e,t,n){n&&(e[t]=n)}const Mj={}.hasOwnProperty;function kl(e){const t={},n={};let r;for(r in e.properties)if(Mj.call(e.properties,r)){const i=e.properties[r],s=new u_(r,e.transform(e.attributes||{},r),i,e.space);e.mustUseProperty&&e.mustUseProperty.includes(r)&&(s.mustUseProperty=!0),t[r]=s,n[cc(r)]=r,n[cc(s.attribute)]=r}return new Uc(t,n,e.space)}const $N=kl({space:"xlink",transform(e,t){return"xlink:"+t.slice(5).toLowerCase()},properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null}}),UN=kl({space:"xml",transform(e,t){return"xml:"+t.slice(3).toLowerCase()},properties:{xmlLang:null,xmlBase:null,xmlSpace:null}});function HN(e,t){return t in e?e[t]:t}function zN(e,t){return HN(e,t.toLowerCase())}const jN=kl({space:"xmlns",attributes:{xmlnsxlink:"xmlns:xlink"},transform:zN,properties:{xmlns:null,xmlnsXLink:null}}),qN=kl({transform(e,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()},properties:{ariaActiveDescendant:null,ariaAtomic:Vt,ariaAutoComplete:null,ariaBusy:Vt,ariaChecked:Vt,ariaColCount:ae,ariaColIndex:ae,ariaColSpan:ae,ariaControls:wt,ariaCurrent:null,ariaDescribedBy:wt,ariaDetails:null,ariaDisabled:Vt,ariaDropEffect:wt,ariaErrorMessage:null,ariaExpanded:Vt,ariaFlowTo:wt,ariaGrabbed:Vt,ariaHasPopup:null,ariaHidden:Vt,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:wt,ariaLevel:ae,ariaLive:null,ariaModal:Vt,ariaMultiLine:Vt,ariaMultiSelectable:Vt,ariaOrientation:null,ariaOwns:wt,ariaPlaceholder:null,ariaPosInSet:ae,ariaPressed:Vt,ariaReadOnly:Vt,ariaRelevant:null,ariaRequired:Vt,ariaRoleDescription:wt,ariaRowCount:ae,ariaRowIndex:ae,ariaRowSpan:ae,ariaSelected:Vt,ariaSetSize:ae,ariaSort:null,ariaValueMax:ae,ariaValueMin:ae,ariaValueNow:ae,ariaValueText:null,role:null}}),Pj=kl({space:"html",attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},transform:zN,mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:ja,acceptCharset:wt,accessKey:wt,action:null,allow:null,allowFullScreen:Ge,allowPaymentRequest:Ge,allowUserMedia:Ge,alt:null,as:null,async:Ge,autoCapitalize:null,autoComplete:wt,autoFocus:Ge,autoPlay:Ge,blocking:wt,capture:null,charSet:null,checked:Ge,cite:null,className:wt,cols:ae,colSpan:null,content:null,contentEditable:Vt,controls:Ge,controlsList:wt,coords:ae|ja,crossOrigin:null,data:null,dateTime:null,decoding:null,default:Ge,defer:Ge,dir:null,dirName:null,disabled:Ge,download:FN,draggable:Vt,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:Ge,formTarget:null,headers:wt,height:ae,hidden:Ge,high:ae,href:null,hrefLang:null,htmlFor:wt,httpEquiv:wt,id:null,imageSizes:null,imageSrcSet:null,inert:Ge,inputMode:null,integrity:null,is:null,isMap:Ge,itemId:null,itemProp:wt,itemRef:wt,itemScope:Ge,itemType:wt,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:Ge,low:ae,manifest:null,max:null,maxLength:ae,media:null,method:null,min:null,minLength:ae,multiple:Ge,muted:Ge,name:null,nonce:null,noModule:Ge,noValidate:Ge,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:Ge,optimum:ae,pattern:null,ping:wt,placeholder:null,playsInline:Ge,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:Ge,referrerPolicy:null,rel:wt,required:Ge,reversed:Ge,rows:ae,rowSpan:ae,sandbox:wt,scope:null,scoped:Ge,seamless:Ge,selected:Ge,shadowRootClonable:Ge,shadowRootDelegatesFocus:Ge,shadowRootMode:null,shape:null,size:ae,sizes:null,slot:null,span:ae,spellCheck:Vt,src:null,srcDoc:null,srcLang:null,srcSet:null,start:ae,step:null,style:null,tabIndex:ae,target:null,title:null,translate:null,type:null,typeMustMatch:Ge,useMap:null,value:Vt,width:ae,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:wt,axis:null,background:null,bgColor:null,border:ae,borderColor:null,bottomMargin:ae,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:Ge,declare:Ge,event:null,face:null,frame:null,frameBorder:null,hSpace:ae,leftMargin:ae,link:null,longDesc:null,lowSrc:null,marginHeight:ae,marginWidth:ae,noResize:Ge,noHref:Ge,noShade:Ge,noWrap:Ge,object:null,profile:null,prompt:null,rev:null,rightMargin:ae,rules:null,scheme:null,scrolling:Vt,standby:null,summary:null,text:null,topMargin:ae,valueType:null,version:null,vAlign:null,vLink:null,vSpace:ae,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:Ge,disableRemotePlayback:Ge,prefix:null,property:null,results:ae,security:null,unselectable:null}}),Lj=kl({space:"svg",attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},transform:HN,properties:{about:lr,accentHeight:ae,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:ae,amplitude:ae,arabicForm:null,ascent:ae,attributeName:null,attributeType:null,azimuth:ae,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:ae,by:null,calcMode:null,capHeight:ae,className:wt,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:ae,diffuseConstant:ae,direction:null,display:null,dur:null,divisor:ae,dominantBaseline:null,download:Ge,dx:null,dy:null,edgeMode:null,editable:null,elevation:ae,enableBackground:null,end:null,event:null,exponent:ae,externalResourcesRequired:null,fill:null,fillOpacity:ae,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:ja,g2:ja,glyphName:ja,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:ae,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:ae,horizOriginX:ae,horizOriginY:ae,id:null,ideographic:ae,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:ae,k:ae,k1:ae,k2:ae,k3:ae,k4:ae,kernelMatrix:lr,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:ae,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:ae,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:ae,overlineThickness:ae,paintOrder:null,panose1:null,path:null,pathLength:ae,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:wt,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:ae,pointsAtY:ae,pointsAtZ:ae,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:lr,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:lr,rev:lr,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:lr,requiredFeatures:lr,requiredFonts:lr,requiredFormats:lr,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:ae,specularExponent:ae,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:ae,strikethroughThickness:ae,string:null,stroke:null,strokeDashArray:lr,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:ae,strokeOpacity:ae,strokeWidth:null,style:null,surfaceScale:ae,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:lr,tabIndex:ae,tableValues:null,target:null,targetX:ae,targetY:ae,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:lr,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:ae,underlineThickness:ae,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:ae,values:null,vAlphabetic:ae,vMathematical:ae,vectorEffect:null,vHanging:ae,vIdeographic:ae,version:null,vertAdvY:ae,vertOriginX:ae,vertOriginY:ae,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:ae,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null}}),Bj=/^data[-\w.:]+$/i,fw=/-[a-z]/g,Fj=/[A-Z]/g;function c_(e,t){const n=cc(t);let r=t,i=jr;if(n in e.normal)return e.property[e.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&Bj.test(t)){if(t.charAt(4)==="-"){const s=t.slice(5).replace(fw,Uj);r="data"+s.charAt(0).toUpperCase()+s.slice(1)}else{const s=t.slice(4);if(!fw.test(s)){let o=s.replace(Fj,$j);o.charAt(0)!=="-"&&(o="-"+o),t="data"+o}}i=u_}return new i(r,t)}function $j(e){return"-"+e.toLowerCase()}function Uj(e){return e.charAt(1).toUpperCase()}const Fp=BN([UN,$N,jN,qN,Pj],"html"),Hc=BN([UN,$N,jN,qN,Lj],"svg");function pw(e){const t=[],n=String(e||"");let r=n.indexOf(","),i=0,s=!1;for(;!s;){r===-1&&(r=n.length,s=!0);const o=n.slice(i,r).trim();(o||!s)&&t.push(o),i=r+1,r=n.indexOf(",",i)}return t}function Hj(e,t){const n=t||{};return(e[e.length-1]===""?[...e,""]:e).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const hw=/[#.]/g;function zj(e,t){const n=e||"",r={};let i=0,s,o;for(;i<n.length;){hw.lastIndex=i;const a=hw.exec(n),l=n.slice(i,a?a.index:n.length);l&&(s?s==="#"?r.id=l:Array.isArray(r.className)?r.className.push(l):r.className=[l]:o=l,i+=l.length),a&&(s=a[0],i++)}return{type:"element",tagName:o||t||"div",properties:r,children:[]}}function mw(e){const t=String(e||"").trim();return t?t.split(/[ \t\n\r\f]+/g):[]}function jj(e){return e.join(" ").trim()}const u1={}.hasOwnProperty;function VN(e,t,n){const r=n&&Gj(n);function i(s,o,...a){let l=-1,u;if(s==null){u={type:"root",children:[]};const c=o;a.unshift(c)}else if(u=zj(s,t),u.tagName=u.tagName.toLowerCase(),r&&u1.call(r,u.tagName)&&(u.tagName=r[u.tagName]),qj(o))a.unshift(o);else{let c;for(c in o)u1.call(o,c)&&Vj(e,u.properties,c,o[c])}for(;++l<a.length;)c1(u.children,a[l]);return u.type==="element"&&u.tagName==="template"&&(u.content={type:"root",children:u.children},u.children=[]),u}return i}function qj(e){if(e===null||typeof e!="object"||Array.isArray(e))return!0;if(typeof e.type!="string")return!1;const t=e,n=Object.keys(e);for(const r of n){const i=t[r];if(i&&typeof i=="object"){if(!Array.isArray(i))return!0;const s=i;for(const o of s)if(typeof o!="number"&&typeof o!="string")return!0}}return!!("children"in e&&Array.isArray(e.children))}function Vj(e,t,n,r){const i=c_(e,n);let s=-1,o;if(r!=null){if(typeof r=="number"){if(Number.isNaN(r))return;o=r}else typeof r=="boolean"?o=r:typeof r=="string"?i.spaceSeparated?o=mw(r):i.commaSeparated?o=pw(r):i.commaOrSpaceSeparated?o=mw(pw(r).join(" ")):o=gw(i,i.property,r):Array.isArray(r)?o=r.concat():o=i.property==="style"?Wj(r):String(r);if(Array.isArray(o)){const a=[];for(;++s<o.length;){const l=gw(i,i.property,o[s]);a[s]=l}o=a}if(i.property==="className"&&Array.isArray(t.className)){const a=o;o=t.className.concat(a)}t[i.property]=o}}function c1(e,t){let n=-1;if(t!=null)if(typeof t=="string"||typeof t=="number")e.push({type:"text",value:String(t)});else if(Array.isArray(t))for(;++n<t.length;)c1(e,t[n]);else if(typeof t=="object"&&"type"in t)t.type==="root"?c1(e,t.children):e.push(t);else throw new Error("Expected node, nodes, or string, got `"+t+"`")}function gw(e,t,n){if(typeof n=="string"){if(e.number&&n&&!Number.isNaN(Number(n)))return Number(n);if((e.boolean||e.overloadedBoolean)&&(n===""||cc(n)===cc(t)))return!0}return n}function Wj(e){const t=[];let n;for(n in e)u1.call(e,n)&&t.push([n,e[n]].join(": "));return t.join("; ")}function Gj(e){const t={};let n=-1;for(;++n<e.length;)t[e[n].toLowerCase()]=e[n];return t}const Yj=["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","solidColor","textArea","textPath"],Kj=VN(Fp,"div"),Xj=VN(Hc,"g",Yj);function Qj(e){const t=String(e),n=[];return{toOffset:i,toPoint:r};function r(s){if(typeof s=="number"&&s>-1&&s<=t.length){let o=0;for(;;){let a=n[o];if(a===void 0){const l=bw(t,n[o-1]);a=l===-1?t.length+1:l+1,n[o]=a}if(a>s)return{line:o+1,column:s-(o>0?n[o-1]:0)+1,offset:s};o++}}}function i(s){if(s&&typeof s.line=="number"&&typeof s.column=="number"&&!Number.isNaN(s.line)&&!Number.isNaN(s.column)){for(;n.length<s.line;){const a=n[n.length-1],l=bw(t,a),u=l===-1?t.length+1:l+1;if(a===u)break;n.push(u)}const o=(s.line>1?n[s.line-2]:0)+s.column-1;if(o<n[s.line-1])return o}}}function bw(e,t){const n=e.indexOf("\r",t),r=e.indexOf(`
`,t);return r===-1?n:n===-1||n+1===r?r:n<r?n:r}const Jj={svg:"http://www.w3.org/2000/svg"},WN={}.hasOwnProperty,Zj=Object.prototype;function eq(e,t){const n=t||{};return d_({file:n.file||void 0,location:!1,schema:n.space==="svg"?Hc:Fp,verbose:n.verbose||!1},e)}function d_(e,t){let n;switch(t.nodeName){case"#comment":{const r=t;return n={type:"comment",value:r.data},ef(e,r,n),n}case"#document":case"#document-fragment":{const r=t,i="mode"in r?r.mode==="quirks"||r.mode==="limited-quirks":!1;if(n={type:"root",children:GN(e,t.childNodes),data:{quirksMode:i}},e.file&&e.location){const s=String(e.file),o=Qj(s),a=o.toPoint(0),l=o.toPoint(s.length);n.position={start:a,end:l}}return n}case"#documentType":{const r=t;return n={type:"doctype"},ef(e,r,n),n}case"#text":{const r=t;return n={type:"text",value:r.value},ef(e,r,n),n}default:return n=tq(e,t),n}}function GN(e,t){let n=-1;const r=[];for(;++n<t.length;){const i=d_(e,t[n]);r.push(i)}return r}function tq(e,t){const n=e.schema;e.schema=t.namespaceURI===Jj.svg?Hc:Fp;let r=-1;const i={};for(;++r<t.attrs.length;){const a=t.attrs[r],l=(a.prefix?a.prefix+":":"")+a.name;WN.call(Zj,l)||(i[l]=a.value)}const o=(e.schema.space==="svg"?Xj:Kj)(t.tagName,i,GN(e,t.childNodes));if(ef(e,t,o),o.tagName==="template"){const a=t,l=a.sourceCodeLocation,u=l&&l.startTag&&Ma(l.startTag),c=l&&l.endTag&&Ma(l.endTag),d=d_(e,a.content);u&&c&&e.file&&(d.position={start:u.end,end:c.start}),o.content=d}return e.schema=n,o}function ef(e,t,n){if("sourceCodeLocation"in t&&t.sourceCodeLocation&&e.file){const r=nq(e,n,t.sourceCodeLocation);r&&(e.location=!0,n.position=r)}}function nq(e,t,n){const r=Ma(n);if(t.type==="element"){const i=t.children[t.children.length-1];if(r&&!n.endTag&&i&&i.position&&i.position.end&&(r.end=Object.assign({},i.position.end)),e.verbose){const s={};let o;if(n.attrs)for(o in n.attrs)WN.call(n.attrs,o)&&(s[c_(e.schema,o).property]=Ma(n.attrs[o]));n.startTag;const a=Ma(n.startTag),l=n.endTag?Ma(n.endTag):void 0,u={opening:a};l&&(u.closing=l),u.properties=s,t.data={position:u}}}return r}function Ma(e){const t=yw({line:e.startLine,column:e.startCol,offset:e.startOffset}),n=yw({line:e.endLine,column:e.endCol,offset:e.endOffset});return t||n?{start:t,end:n}:void 0}function yw(e){return e.line&&e.column?e:void 0}const rq=new Set([65534,65535,131070,131071,196606,196607,262142,262143,327678,327679,393214,393215,458750,458751,524286,524287,589822,589823,655358,655359,720894,720895,786430,786431,851966,851967,917502,917503,983038,983039,1048574,1048575,1114110,1114111]),Rt="�";var T;(function(e){e[e.EOF=-1]="EOF",e[e.NULL=0]="NULL",e[e.TABULATION=9]="TABULATION",e[e.CARRIAGE_RETURN=13]="CARRIAGE_RETURN",e[e.LINE_FEED=10]="LINE_FEED",e[e.FORM_FEED=12]="FORM_FEED",e[e.SPACE=32]="SPACE",e[e.EXCLAMATION_MARK=33]="EXCLAMATION_MARK",e[e.QUOTATION_MARK=34]="QUOTATION_MARK",e[e.AMPERSAND=38]="AMPERSAND",e[e.APOSTROPHE=39]="APOSTROPHE",e[e.HYPHEN_MINUS=45]="HYPHEN_MINUS",e[e.SOLIDUS=47]="SOLIDUS",e[e.DIGIT_0=48]="DIGIT_0",e[e.DIGIT_9=57]="DIGIT_9",e[e.SEMICOLON=59]="SEMICOLON",e[e.LESS_THAN_SIGN=60]="LESS_THAN_SIGN",e[e.EQUALS_SIGN=61]="EQUALS_SIGN",e[e.GREATER_THAN_SIGN=62]="GREATER_THAN_SIGN",e[e.QUESTION_MARK=63]="QUESTION_MARK",e[e.LATIN_CAPITAL_A=65]="LATIN_CAPITAL_A",e[e.LATIN_CAPITAL_Z=90]="LATIN_CAPITAL_Z",e[e.RIGHT_SQUARE_BRACKET=93]="RIGHT_SQUARE_BRACKET",e[e.GRAVE_ACCENT=96]="GRAVE_ACCENT",e[e.LATIN_SMALL_A=97]="LATIN_SMALL_A",e[e.LATIN_SMALL_Z=122]="LATIN_SMALL_Z"})(T||(T={}));const Xn={DASH_DASH:"--",CDATA_START:"[CDATA[",DOCTYPE:"doctype",SCRIPT:"script",PUBLIC:"public",SYSTEM:"system"};function YN(e){return e>=55296&&e<=57343}function iq(e){return e>=56320&&e<=57343}function sq(e,t){return(e-55296)*1024+9216+t}function KN(e){return e!==32&&e!==10&&e!==13&&e!==9&&e!==12&&e>=1&&e<=31||e>=127&&e<=159}function XN(e){return e>=64976&&e<=65007||rq.has(e)}var W;(function(e){e.controlCharacterInInputStream="control-character-in-input-stream",e.noncharacterInInputStream="noncharacter-in-input-stream",e.surrogateInInputStream="surrogate-in-input-stream",e.nonVoidHtmlElementStartTagWithTrailingSolidus="non-void-html-element-start-tag-with-trailing-solidus",e.endTagWithAttributes="end-tag-with-attributes",e.endTagWithTrailingSolidus="end-tag-with-trailing-solidus",e.unexpectedSolidusInTag="unexpected-solidus-in-tag",e.unexpectedNullCharacter="unexpected-null-character",e.unexpectedQuestionMarkInsteadOfTagName="unexpected-question-mark-instead-of-tag-name",e.invalidFirstCharacterOfTagName="invalid-first-character-of-tag-name",e.unexpectedEqualsSignBeforeAttributeName="unexpected-equals-sign-before-attribute-name",e.missingEndTagName="missing-end-tag-name",e.unexpectedCharacterInAttributeName="unexpected-character-in-attribute-name",e.unknownNamedCharacterReference="unknown-named-character-reference",e.missingSemicolonAfterCharacterReference="missing-semicolon-after-character-reference",e.unexpectedCharacterAfterDoctypeSystemIdentifier="unexpected-character-after-doctype-system-identifier",e.unexpectedCharacterInUnquotedAttributeValue="unexpected-character-in-unquoted-attribute-value",e.eofBeforeTagName="eof-before-tag-name",e.eofInTag="eof-in-tag",e.missingAttributeValue="missing-attribute-value",e.missingWhitespaceBetweenAttributes="missing-whitespace-between-attributes",e.missingWhitespaceAfterDoctypePublicKeyword="missing-whitespace-after-doctype-public-keyword",e.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers="missing-whitespace-between-doctype-public-and-system-identifiers",e.missingWhitespaceAfterDoctypeSystemKeyword="missing-whitespace-after-doctype-system-keyword",e.missingQuoteBeforeDoctypePublicIdentifier="missing-quote-before-doctype-public-identifier",e.missingQuoteBeforeDoctypeSystemIdentifier="missing-quote-before-doctype-system-identifier",e.missingDoctypePublicIdentifier="missing-doctype-public-identifier",e.missingDoctypeSystemIdentifier="missing-doctype-system-identifier",e.abruptDoctypePublicIdentifier="abrupt-doctype-public-identifier",e.abruptDoctypeSystemIdentifier="abrupt-doctype-system-identifier",e.cdataInHtmlContent="cdata-in-html-content",e.incorrectlyOpenedComment="incorrectly-opened-comment",e.eofInScriptHtmlCommentLikeText="eof-in-script-html-comment-like-text",e.eofInDoctype="eof-in-doctype",e.nestedComment="nested-comment",e.abruptClosingOfEmptyComment="abrupt-closing-of-empty-comment",e.eofInComment="eof-in-comment",e.incorrectlyClosedComment="incorrectly-closed-comment",e.eofInCdata="eof-in-cdata",e.absenceOfDigitsInNumericCharacterReference="absence-of-digits-in-numeric-character-reference",e.nullCharacterReference="null-character-reference",e.surrogateCharacterReference="surrogate-character-reference",e.characterReferenceOutsideUnicodeRange="character-reference-outside-unicode-range",e.controlCharacterReference="control-character-reference",e.noncharacterCharacterReference="noncharacter-character-reference",e.missingWhitespaceBeforeDoctypeName="missing-whitespace-before-doctype-name",e.missingDoctypeName="missing-doctype-name",e.invalidCharacterSequenceAfterDoctypeName="invalid-character-sequence-after-doctype-name",e.duplicateAttribute="duplicate-attribute",e.nonConformingDoctype="non-conforming-doctype",e.missingDoctype="missing-doctype",e.misplacedDoctype="misplaced-doctype",e.endTagWithoutMatchingOpenElement="end-tag-without-matching-open-element",e.closingOfElementWithOpenChildElements="closing-of-element-with-open-child-elements",e.disallowedContentInNoscriptInHead="disallowed-content-in-noscript-in-head",e.openElementsLeftAfterEof="open-elements-left-after-eof",e.abandonedHeadElementChild="abandoned-head-element-child",e.misplacedStartTagForHeadElement="misplaced-start-tag-for-head-element",e.nestedNoscriptInHead="nested-noscript-in-head",e.eofInElementThatCanContainOnlyText="eof-in-element-that-can-contain-only-text"})(W||(W={}));const oq=65536;class aq{constructor(t){this.handler=t,this.html="",this.pos=-1,this.lastGapPos=-2,this.gapStack=[],this.skipNextNewLine=!1,this.lastChunkWritten=!1,this.endOfChunkHit=!1,this.bufferWaterline=oq,this.isEol=!1,this.lineStartPos=0,this.droppedBufferSize=0,this.line=1,this.lastErrOffset=-1}get col(){return this.pos-this.lineStartPos+ +(this.lastGapPos!==this.pos)}get offset(){return this.droppedBufferSize+this.pos}getError(t,n){const{line:r,col:i,offset:s}=this,o=i+n,a=s+n;return{code:t,startLine:r,endLine:r,startCol:o,endCol:o,startOffset:a,endOffset:a}}_err(t){this.handler.onParseError&&this.lastErrOffset!==this.offset&&(this.lastErrOffset=this.offset,this.handler.onParseError(this.getError(t,0)))}_addGap(){this.gapStack.push(this.lastGapPos),this.lastGapPos=this.pos}_processSurrogate(t){if(this.pos!==this.html.length-1){const n=this.html.charCodeAt(this.pos+1);if(iq(n))return this.pos++,this._addGap(),sq(t,n)}else if(!this.lastChunkWritten)return this.endOfChunkHit=!0,T.EOF;return this._err(W.surrogateInInputStream),t}willDropParsedChunk(){return this.pos>this.bufferWaterline}dropParsedChunk(){this.willDropParsedChunk()&&(this.html=this.html.substring(this.pos),this.lineStartPos-=this.pos,this.droppedBufferSize+=this.pos,this.pos=0,this.lastGapPos=-2,this.gapStack.length=0)}write(t,n){this.html.length>0?this.html+=t:this.html=t,this.endOfChunkHit=!1,this.lastChunkWritten=n}insertHtmlAtCurrentPos(t){this.html=this.html.substring(0,this.pos+1)+t+this.html.substring(this.pos+1),this.endOfChunkHit=!1}startsWith(t,n){if(this.pos+t.length>this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,!1;if(n)return this.html.startsWith(t,this.pos);for(let r=0;r<t.length;r++)if((this.html.charCodeAt(this.pos+r)|32)!==t.charCodeAt(r))return!1;return!0}peek(t){const n=this.pos+t;if(n>=this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,T.EOF;const r=this.html.charCodeAt(n);return r===T.CARRIAGE_RETURN?T.LINE_FEED:r}advance(){if(this.pos++,this.isEol&&(this.isEol=!1,this.line++,this.lineStartPos=this.pos),this.pos>=this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,T.EOF;let t=this.html.charCodeAt(this.pos);return t===T.CARRIAGE_RETURN?(this.isEol=!0,this.skipNextNewLine=!0,T.LINE_FEED):t===T.LINE_FEED&&(this.isEol=!0,this.skipNextNewLine)?(this.line--,this.skipNextNewLine=!1,this._addGap(),this.advance()):(this.skipNextNewLine=!1,YN(t)&&(t=this._processSurrogate(t)),this.handler.onParseError===null||t>31&&t<127||t===T.LINE_FEED||t===T.CARRIAGE_RETURN||t>159&&t<64976||this._checkForProblematicCharacters(t),t)}_checkForProblematicCharacters(t){KN(t)?this._err(W.controlCharacterInInputStream):XN(t)&&this._err(W.noncharacterInInputStream)}retreat(t){for(this.pos-=t;this.pos<this.lastGapPos;)this.lastGapPos=this.gapStack.pop(),this.pos--;this.isEol=!1}}var st;(function(e){e[e.CHARACTER=0]="CHARACTER",e[e.NULL_CHARACTER=1]="NULL_CHARACTER",e[e.WHITESPACE_CHARACTER=2]="WHITESPACE_CHARACTER",e[e.START_TAG=3]="START_TAG",e[e.END_TAG=4]="END_TAG",e[e.COMMENT=5]="COMMENT",e[e.DOCTYPE=6]="DOCTYPE",e[e.EOF=7]="EOF",e[e.HIBERNATION=8]="HIBERNATION"})(st||(st={}));function QN(e,t){for(let n=e.attrs.length-1;n>=0;n--)if(e.attrs[n].name===t)return e.attrs[n].value;return null}const JN=new Uint16Array('ᵁ<Õıʊҝջאٵ۞ޢߖࠏ੊ઑඡ๭༉༦჊ረዡᐕᒝᓃᓟᔥ\0\0\0\0\0\0ᕫᛍᦍᰒᷝ὾⁠↰⊍⏀⏻⑂⠤⤒ⴈ⹈⿎〖㊺㘹㞬㣾㨨㩱㫠㬮ࠀEMabcfglmnoprstu\\bfms¦³¹ÈÏlig耻Æ䃆P耻&䀦cute耻Á䃁reve;䄂Āiyx}rc耻Â䃂;䐐r;쀀𝔄rave耻À䃀pha;䎑acr;䄀d;橓Āgp¡on;䄄f;쀀𝔸plyFunction;恡ing耻Å䃅Ācs¾Ãr;쀀𝒜ign;扔ilde耻Ã䃃ml耻Ä䃄ЀaceforsuåûþėĜĢħĪĀcrêòkslash;或Ŷöø;櫧ed;挆y;䐑ƀcrtąċĔause;戵noullis;愬a;䎒r;쀀𝔅pf;쀀𝔹eve;䋘còēmpeq;扎܀HOacdefhilorsuōőŖƀƞƢƵƷƺǜȕɳɸɾcy;䐧PY耻©䂩ƀcpyŝŢźute;䄆Ā;iŧŨ拒talDifferentialD;慅leys;愭ȀaeioƉƎƔƘron;䄌dil耻Ç䃇rc;䄈nint;戰ot;䄊ĀdnƧƭilla;䂸terDot;䂷òſi;䎧rcleȀDMPTǇǋǑǖot;抙inus;抖lus;投imes;抗oĀcsǢǸkwiseContourIntegral;戲eCurlyĀDQȃȏoubleQuote;思uote;怙ȀlnpuȞȨɇɕonĀ;eȥȦ户;橴ƀgitȯȶȺruent;扡nt;戯ourIntegral;戮ĀfrɌɎ;愂oduct;成nterClockwiseContourIntegral;戳oss;樯cr;쀀𝒞pĀ;Cʄʅ拓ap;才րDJSZacefiosʠʬʰʴʸˋ˗ˡ˦̳ҍĀ;oŹʥtrahd;椑cy;䐂cy;䐅cy;䐏ƀgrsʿ˄ˇger;怡r;憡hv;櫤Āayː˕ron;䄎;䐔lĀ;t˝˞戇a;䎔r;쀀𝔇Āaf˫̧Ācm˰̢riticalȀADGT̖̜̀̆cute;䂴oŴ̋̍;䋙bleAcute;䋝rave;䁠ilde;䋜ond;拄ferentialD;慆Ѱ̽\0\0\0͔͂\0Ѕf;쀀𝔻ƀ;DE͈͉͍䂨ot;惜qual;扐blèCDLRUVͣͲ΂ϏϢϸontourIntegraìȹoɴ͹\0\0ͻ»͉nArrow;懓Āeo·ΤftƀARTΐΖΡrrow;懐ightArrow;懔eåˊngĀLRΫτeftĀARγιrrow;柸ightArrow;柺ightArrow;柹ightĀATϘϞrrow;懒ee;抨pɁϩ\0\0ϯrrow;懑ownArrow;懕erticalBar;戥ǹABLRTaВЪаўѿͼrrowƀ;BUНОТ憓ar;椓pArrow;懵reve;䌑eft˒к\0ц\0ѐightVector;楐eeVector;楞ectorĀ;Bљњ憽ar;楖ightǔѧ\0ѱeeVector;楟ectorĀ;BѺѻ懁ar;楗eeĀ;A҆҇护rrow;憧ĀctҒҗr;쀀𝒟rok;䄐ࠀNTacdfglmopqstuxҽӀӄӋӞӢӧӮӵԡԯԶՒ՝ՠեG;䅊H耻Ð䃐cute耻É䃉ƀaiyӒӗӜron;䄚rc耻Ê䃊;䐭ot;䄖r;쀀𝔈rave耻È䃈ement;戈ĀapӺӾcr;䄒tyɓԆ\0\0ԒmallSquare;旻erySmallSquare;斫ĀgpԦԪon;䄘f;쀀𝔼silon;䎕uĀaiԼՉlĀ;TՂՃ橵ilde;扂librium;懌Āci՗՚r;愰m;橳a;䎗ml耻Ë䃋Āipժկsts;戃onentialE;慇ʀcfiosօֈ֍ֲ׌y;䐤r;쀀𝔉lledɓ֗\0\0֣mallSquare;旼erySmallSquare;斪Ͱֺ\0ֿ\0\0ׄf;쀀𝔽All;戀riertrf;愱cò׋؀JTabcdfgorstר׬ׯ׺؀ؒؖ؛؝أ٬ٲcy;䐃耻>䀾mmaĀ;d׷׸䎓;䏜reve;䄞ƀeiy؇،ؐdil;䄢rc;䄜;䐓ot;䄠r;쀀𝔊;拙pf;쀀𝔾eater̀EFGLSTصلَٖٛ٦qualĀ;Lؾؿ扥ess;招ullEqual;执reater;檢ess;扷lantEqual;橾ilde;扳cr;쀀𝒢;扫ЀAacfiosuڅڋږڛڞڪھۊRDcy;䐪Āctڐڔek;䋇;䁞irc;䄤r;愌lbertSpace;愋ǰگ\0ڲf;愍izontalLine;攀Āctۃۅòکrok;䄦mpńېۘownHumðįqual;扏܀EJOacdfgmnostuۺ۾܃܇܎ܚܞܡܨ݄ݸދޏޕcy;䐕lig;䄲cy;䐁cute耻Í䃍Āiyܓܘrc耻Î䃎;䐘ot;䄰r;愑rave耻Ì䃌ƀ;apܠܯܿĀcgܴܷr;䄪inaryI;慈lieóϝǴ݉\0ݢĀ;eݍݎ戬Āgrݓݘral;戫section;拂isibleĀCTݬݲomma;恣imes;恢ƀgptݿރވon;䄮f;쀀𝕀a;䎙cr;愐ilde;䄨ǫޚ\0ޞcy;䐆l耻Ï䃏ʀcfosuެ޷޼߂ߐĀiyޱ޵rc;䄴;䐙r;쀀𝔍pf;쀀𝕁ǣ߇\0ߌr;쀀𝒥rcy;䐈kcy;䐄΀HJacfosߤߨ߽߬߱ࠂࠈcy;䐥cy;䐌ppa;䎚Āey߶߻dil;䄶;䐚r;쀀𝔎pf;쀀𝕂cr;쀀𝒦րJTaceflmostࠥࠩࠬࡐࡣ঳সে্਷ੇcy;䐉耻<䀼ʀcmnpr࠷࠼ࡁࡄࡍute;䄹bda;䎛g;柪lacetrf;愒r;憞ƀaeyࡗ࡜ࡡron;䄽dil;䄻;䐛Āfsࡨ॰tԀACDFRTUVarࡾࢩࢱࣦ࣠ࣼयज़ΐ४Ānrࢃ࢏gleBracket;柨rowƀ;BR࢙࢚࢞憐ar;懤ightArrow;懆eiling;挈oǵࢷ\0ࣃbleBracket;柦nǔࣈ\0࣒eeVector;楡ectorĀ;Bࣛࣜ懃ar;楙loor;挊ightĀAV࣯ࣵrrow;憔ector;楎Āerँगeƀ;AVउऊऐ抣rrow;憤ector;楚iangleƀ;BEतथऩ抲ar;槏qual;抴pƀDTVषूौownVector;楑eeVector;楠ectorĀ;Bॖॗ憿ar;楘ectorĀ;B॥०憼ar;楒ightáΜs̀EFGLSTॾঋকঝঢভqualGreater;拚ullEqual;扦reater;扶ess;檡lantEqual;橽ilde;扲r;쀀𝔏Ā;eঽা拘ftarrow;懚idot;䄿ƀnpw৔ਖਛgȀLRlr৞৷ਂਐeftĀAR০৬rrow;柵ightArrow;柷ightArrow;柶eftĀarγਊightáοightáϊf;쀀𝕃erĀLRਢਬeftArrow;憙ightArrow;憘ƀchtਾੀੂòࡌ;憰rok;䅁;扪Ѐacefiosuਗ਼੝੠੷੼અઋ઎p;椅y;䐜Ādl੥੯iumSpace;恟lintrf;愳r;쀀𝔐nusPlus;戓pf;쀀𝕄cò੶;䎜ҀJacefostuણધભીଔଙඑ඗ඞcy;䐊cute;䅃ƀaey઴હાron;䅇dil;䅅;䐝ƀgswે૰଎ativeƀMTV૓૟૨ediumSpace;怋hiĀcn૦૘ë૙eryThiî૙tedĀGL૸ଆreaterGreateòٳessLesóੈLine;䀊r;쀀𝔑ȀBnptଢନଷ଺reak;恠BreakingSpace;䂠f;愕ڀ;CDEGHLNPRSTV୕ୖ୪୼஡௫ఄ౞಄ದ೘ൡඅ櫬Āou୛୤ngruent;扢pCap;扭oubleVerticalBar;戦ƀlqxஃஊ஛ement;戉ualĀ;Tஒஓ扠ilde;쀀≂̸ists;戄reater΀;EFGLSTஶஷ஽௉௓௘௥扯qual;扱ullEqual;쀀≧̸reater;쀀≫̸ess;批lantEqual;쀀⩾̸ilde;扵umpń௲௽ownHump;쀀≎̸qual;쀀≏̸eĀfsఊధtTriangleƀ;BEచఛడ拪ar;쀀⧏̸qual;括s̀;EGLSTవశ఼ౄోౘ扮qual;扰reater;扸ess;쀀≪̸lantEqual;쀀⩽̸ilde;扴estedĀGL౨౹reaterGreater;쀀⪢̸essLess;쀀⪡̸recedesƀ;ESಒಓಛ技qual;쀀⪯̸lantEqual;拠ĀeiಫಹverseElement;戌ghtTriangleƀ;BEೋೌ೒拫ar;쀀⧐̸qual;拭ĀquೝഌuareSuĀbp೨೹setĀ;E೰ೳ쀀⊏̸qual;拢ersetĀ;Eഃആ쀀⊐̸qual;拣ƀbcpഓതൎsetĀ;Eഛഞ쀀⊂⃒qual;抈ceedsȀ;ESTലള഻െ抁qual;쀀⪰̸lantEqual;拡ilde;쀀≿̸ersetĀ;E൘൛쀀⊃⃒qual;抉ildeȀ;EFT൮൯൵ൿ扁qual;扄ullEqual;扇ilde;扉erticalBar;戤cr;쀀𝒩ilde耻Ñ䃑;䎝܀Eacdfgmoprstuvලෂ෉෕ෛ෠෧෼ขภยา฿ไlig;䅒cute耻Ó䃓Āiy෎ීrc耻Ô䃔;䐞blac;䅐r;쀀𝔒rave耻Ò䃒ƀaei෮ෲ෶cr;䅌ga;䎩cron;䎟pf;쀀𝕆enCurlyĀDQฎบoubleQuote;怜uote;怘;橔Āclวฬr;쀀𝒪ash耻Ø䃘iŬื฼de耻Õ䃕es;樷ml耻Ö䃖erĀBP๋๠Āar๐๓r;怾acĀek๚๜;揞et;掴arenthesis;揜Ҁacfhilors๿ງຊຏຒດຝະ໼rtialD;戂y;䐟r;쀀𝔓i;䎦;䎠usMinus;䂱Āipຢອncareplanåڝf;愙Ȁ;eio຺ູ໠໤檻cedesȀ;EST່້໏໚扺qual;檯lantEqual;扼ilde;找me;怳Ādp໩໮uct;戏ortionĀ;aȥ໹l;戝Āci༁༆r;쀀𝒫;䎨ȀUfos༑༖༛༟OT耻"䀢r;쀀𝔔pf;愚cr;쀀𝒬؀BEacefhiorsu༾གྷཇའཱིྦྷྪྭ႖ႩႴႾarr;椐G耻®䂮ƀcnrཎནབute;䅔g;柫rĀ;tཛྷཝ憠l;椖ƀaeyཧཬཱron;䅘dil;䅖;䐠Ā;vླྀཹ愜erseĀEUྂྙĀlq྇ྎement;戋uilibrium;懋pEquilibrium;楯r»ཹo;䎡ghtЀACDFTUVa࿁࿫࿳ဢဨၛႇϘĀnr࿆࿒gleBracket;柩rowƀ;BL࿜࿝࿡憒ar;懥eftArrow;懄eiling;按oǵ࿹\0စbleBracket;柧nǔည\0နeeVector;楝ectorĀ;Bဝသ懂ar;楕loor;挋Āerိ၃eƀ;AVဵံြ抢rrow;憦ector;楛iangleƀ;BEၐၑၕ抳ar;槐qual;抵pƀDTVၣၮၸownVector;楏eeVector;楜ectorĀ;Bႂႃ憾ar;楔ectorĀ;B႑႒懀ar;楓Āpuႛ႞f;愝ndImplies;楰ightarrow;懛ĀchႹႼr;愛;憱leDelayed;槴ڀHOacfhimoqstuფჱჷჽᄙᄞᅑᅖᅡᅧᆵᆻᆿĀCcჩხHcy;䐩y;䐨FTcy;䐬cute;䅚ʀ;aeiyᄈᄉᄎᄓᄗ檼ron;䅠dil;䅞rc;䅜;䐡r;쀀𝔖ortȀDLRUᄪᄴᄾᅉownArrow»ОeftArrow»࢚ightArrow»࿝pArrow;憑gma;䎣allCircle;战pf;쀀𝕊ɲᅭ\0\0ᅰt;戚areȀ;ISUᅻᅼᆉᆯ斡ntersection;抓uĀbpᆏᆞsetĀ;Eᆗᆘ抏qual;抑ersetĀ;Eᆨᆩ抐qual;抒nion;抔cr;쀀𝒮ar;拆ȀbcmpᇈᇛሉላĀ;sᇍᇎ拐etĀ;Eᇍᇕqual;抆ĀchᇠህeedsȀ;ESTᇭᇮᇴᇿ扻qual;檰lantEqual;扽ilde;承Tháྌ;我ƀ;esሒሓሣ拑rsetĀ;Eሜም抃qual;抇et»ሓրHRSacfhiorsሾቄ቉ቕ቞ቱቶኟዂወዑORN耻Þ䃞ADE;愢ĀHc቎ቒcy;䐋y;䐦Ābuቚቜ;䀉;䎤ƀaeyብቪቯron;䅤dil;䅢;䐢r;쀀𝔗Āeiቻ኉ǲኀ\0ኇefore;戴a;䎘Ācn኎ኘkSpace;쀀  Space;怉ldeȀ;EFTካኬኲኼ戼qual;扃ullEqual;扅ilde;扈pf;쀀𝕋ipleDot;惛Āctዖዛr;쀀𝒯rok;䅦ૡዷጎጚጦ\0ጬጱ\0\0\0\0\0ጸጽ፷ᎅ\0᏿ᐄᐊᐐĀcrዻጁute耻Ú䃚rĀ;oጇገ憟cir;楉rǣጓ\0጖y;䐎ve;䅬Āiyጞጣrc耻Û䃛;䐣blac;䅰r;쀀𝔘rave耻Ù䃙acr;䅪Ādiፁ፩erĀBPፈ፝Āarፍፐr;䁟acĀekፗፙ;揟et;掵arenthesis;揝onĀ;P፰፱拃lus;抎Āgp፻፿on;䅲f;쀀𝕌ЀADETadps᎕ᎮᎸᏄϨᏒᏗᏳrrowƀ;BDᅐᎠᎤar;椒ownArrow;懅ownArrow;憕quilibrium;楮eeĀ;AᏋᏌ报rrow;憥ownáϳerĀLRᏞᏨeftArrow;憖ightArrow;憗iĀ;lᏹᏺ䏒on;䎥ing;䅮cr;쀀𝒰ilde;䅨ml耻Ü䃜ҀDbcdefosvᐧᐬᐰᐳᐾᒅᒊᒐᒖash;披ar;櫫y;䐒ashĀ;lᐻᐼ抩;櫦Āerᑃᑅ;拁ƀbtyᑌᑐᑺar;怖Ā;iᑏᑕcalȀBLSTᑡᑥᑪᑴar;戣ine;䁼eparator;杘ilde;所ThinSpace;怊r;쀀𝔙pf;쀀𝕍cr;쀀𝒱dash;抪ʀcefosᒧᒬᒱᒶᒼirc;䅴dge;拀r;쀀𝔚pf;쀀𝕎cr;쀀𝒲Ȁfiosᓋᓐᓒᓘr;쀀𝔛;䎞pf;쀀𝕏cr;쀀𝒳ҀAIUacfosuᓱᓵᓹᓽᔄᔏᔔᔚᔠcy;䐯cy;䐇cy;䐮cute耻Ý䃝Āiyᔉᔍrc;䅶;䐫r;쀀𝔜pf;쀀𝕐cr;쀀𝒴ml;䅸ЀHacdefosᔵᔹᔿᕋᕏᕝᕠᕤcy;䐖cute;䅹Āayᕄᕉron;䅽;䐗ot;䅻ǲᕔ\0ᕛoWidtè૙a;䎖r;愨pf;愤cr;쀀𝒵௡ᖃᖊᖐ\0ᖰᖶᖿ\0\0\0\0ᗆᗛᗫᙟ᙭\0ᚕ᚛ᚲᚹ\0ᚾcute耻á䃡reve;䄃̀;Ediuyᖜᖝᖡᖣᖨᖭ戾;쀀∾̳;房rc耻â䃢te肻´̆;䐰lig耻æ䃦Ā;r²ᖺ;쀀𝔞rave耻à䃠ĀepᗊᗖĀfpᗏᗔsym;愵èᗓha;䎱ĀapᗟcĀclᗤᗧr;䄁g;樿ɤᗰ\0\0ᘊʀ;adsvᗺᗻᗿᘁᘇ戧nd;橕;橜lope;橘;橚΀;elmrszᘘᘙᘛᘞᘿᙏᙙ戠;榤e»ᘙsdĀ;aᘥᘦ戡ѡᘰᘲᘴᘶᘸᘺᘼᘾ;榨;榩;榪;榫;榬;榭;榮;榯tĀ;vᙅᙆ戟bĀ;dᙌᙍ抾;榝Āptᙔᙗh;戢»¹arr;捼Āgpᙣᙧon;䄅f;쀀𝕒΀;Eaeiop዁ᙻᙽᚂᚄᚇᚊ;橰cir;橯;扊d;手s;䀧roxĀ;e዁ᚒñᚃing耻å䃥ƀctyᚡᚦᚨr;쀀𝒶;䀪mpĀ;e዁ᚯñʈilde耻ã䃣ml耻ä䃤Āciᛂᛈoninôɲnt;樑ࠀNabcdefiklnoprsu᛭ᛱᜰ᜼ᝃᝈ᝸᝽០៦ᠹᡐᜍ᤽᥈ᥰot;櫭Ācrᛶ᜞kȀcepsᜀᜅᜍᜓong;扌psilon;䏶rime;怵imĀ;e᜚᜛戽q;拍Ŷᜢᜦee;抽edĀ;gᜬᜭ挅e»ᜭrkĀ;t፜᜷brk;掶Āoyᜁᝁ;䐱quo;怞ʀcmprtᝓ᝛ᝡᝤᝨausĀ;eĊĉptyv;榰séᜌnoõēƀahwᝯ᝱ᝳ;䎲;愶een;扬r;쀀𝔟g΀costuvwឍឝឳេ៕៛៞ƀaiuបពរðݠrc;旯p»፱ƀdptឤឨឭot;樀lus;樁imes;樂ɱឹ\0\0ើcup;樆ar;昅riangleĀdu៍្own;施p;斳plus;樄eåᑄåᒭarow;植ƀako៭ᠦᠵĀcn៲ᠣkƀlst៺֫᠂ozenge;槫riangleȀ;dlr᠒᠓᠘᠝斴own;斾eft;旂ight;斸k;搣Ʊᠫ\0ᠳƲᠯ\0ᠱ;斒;斑4;斓ck;斈ĀeoᠾᡍĀ;qᡃᡆ쀀=⃥uiv;쀀≡⃥t;挐Ȁptwxᡙᡞᡧᡬf;쀀𝕓Ā;tᏋᡣom»Ꮜtie;拈؀DHUVbdhmptuvᢅᢖᢪᢻᣗᣛᣬ᣿ᤅᤊᤐᤡȀLRlrᢎᢐᢒᢔ;敗;敔;敖;敓ʀ;DUduᢡᢢᢤᢦᢨ敐;敦;敩;敤;敧ȀLRlrᢳᢵᢷᢹ;敝;敚;敜;教΀;HLRhlrᣊᣋᣍᣏᣑᣓᣕ救;敬;散;敠;敫;敢;敟ox;槉ȀLRlrᣤᣦᣨᣪ;敕;敒;攐;攌ʀ;DUduڽ᣷᣹᣻᣽;敥;敨;攬;攴inus;抟lus;択imes;抠ȀLRlrᤙᤛᤝ᤟;敛;敘;攘;攔΀;HLRhlrᤰᤱᤳᤵᤷ᤻᤹攂;敪;敡;敞;攼;攤;攜Āevģ᥂bar耻¦䂦Ȁceioᥑᥖᥚᥠr;쀀𝒷mi;恏mĀ;e᜚᜜lƀ;bhᥨᥩᥫ䁜;槅sub;柈Ŭᥴ᥾lĀ;e᥹᥺怢t»᥺pƀ;Eeįᦅᦇ;檮Ā;qۜۛೡᦧ\0᧨ᨑᨕᨲ\0ᨷᩐ\0\0᪴\0\0᫁\0\0ᬡᬮ᭍᭒\0᯽\0ᰌƀcpr᦭ᦲ᧝ute;䄇̀;abcdsᦿᧀᧄ᧊᧕᧙戩nd;橄rcup;橉Āau᧏᧒p;橋p;橇ot;橀;쀀∩︀Āeo᧢᧥t;恁îړȀaeiu᧰᧻ᨁᨅǰ᧵\0᧸s;橍on;䄍dil耻ç䃧rc;䄉psĀ;sᨌᨍ橌m;橐ot;䄋ƀdmnᨛᨠᨦil肻¸ƭptyv;榲t脀¢;eᨭᨮ䂢räƲr;쀀𝔠ƀceiᨽᩀᩍy;䑇ckĀ;mᩇᩈ朓ark»ᩈ;䏇r΀;Ecefms᩟᩠ᩢᩫ᪤᪪᪮旋;槃ƀ;elᩩᩪᩭ䋆q;扗eɡᩴ\0\0᪈rrowĀlr᩼᪁eft;憺ight;憻ʀRSacd᪒᪔᪖᪚᪟»ཇ;擈st;抛irc;抚ash;抝nint;樐id;櫯cir;槂ubsĀ;u᪻᪼晣it»᪼ˬ᫇᫔᫺\0ᬊonĀ;eᫍᫎ䀺Ā;qÇÆɭ᫙\0\0᫢aĀ;t᫞᫟䀬;䁀ƀ;fl᫨᫩᫫戁îᅠeĀmx᫱᫶ent»᫩eóɍǧ᫾\0ᬇĀ;dኻᬂot;橭nôɆƀfryᬐᬔᬗ;쀀𝕔oäɔ脀©;sŕᬝr;愗Āaoᬥᬩrr;憵ss;朗Ācuᬲᬷr;쀀𝒸Ābpᬼ᭄Ā;eᭁᭂ櫏;櫑Ā;eᭉᭊ櫐;櫒dot;拯΀delprvw᭠᭬᭷ᮂᮬᯔ᯹arrĀlr᭨᭪;椸;椵ɰ᭲\0\0᭵r;拞c;拟arrĀ;p᭿ᮀ憶;椽̀;bcdosᮏᮐᮖᮡᮥᮨ截rcap;橈Āauᮛᮞp;橆p;橊ot;抍r;橅;쀀∪︀Ȁalrv᮵ᮿᯞᯣrrĀ;mᮼᮽ憷;椼yƀevwᯇᯔᯘqɰᯎ\0\0ᯒreã᭳uã᭵ee;拎edge;拏en耻¤䂤earrowĀlrᯮ᯳eft»ᮀight»ᮽeäᯝĀciᰁᰇoninôǷnt;戱lcty;挭ঀAHabcdefhijlorstuwz᰸᰻᰿ᱝᱩᱵᲊᲞᲬᲷ᳻᳿ᴍᵻᶑᶫᶻ᷆᷍rò΁ar;楥Ȁglrs᱈ᱍ᱒᱔ger;怠eth;愸òᄳhĀ;vᱚᱛ怐»ऊūᱡᱧarow;椏aã̕Āayᱮᱳron;䄏;䐴ƀ;ao̲ᱼᲄĀgrʿᲁr;懊tseq;橷ƀglmᲑᲔᲘ耻°䂰ta;䎴ptyv;榱ĀirᲣᲨsht;楿;쀀𝔡arĀlrᲳᲵ»ࣜ»သʀaegsv᳂͸᳖᳜᳠mƀ;oș᳊᳔ndĀ;ș᳑uit;晦amma;䏝in;拲ƀ;io᳧᳨᳸䃷de脀÷;o᳧ᳰntimes;拇nø᳷cy;䑒cɯᴆ\0\0ᴊrn;挞op;挍ʀlptuwᴘᴝᴢᵉᵕlar;䀤f;쀀𝕕ʀ;emps̋ᴭᴷᴽᵂqĀ;d͒ᴳot;扑inus;戸lus;戔quare;抡blebarwedgåúnƀadhᄮᵝᵧownarrowóᲃarpoonĀlrᵲᵶefôᲴighôᲶŢᵿᶅkaro÷གɯᶊ\0\0ᶎrn;挟op;挌ƀcotᶘᶣᶦĀryᶝᶡ;쀀𝒹;䑕l;槶rok;䄑Ādrᶰᶴot;拱iĀ;fᶺ᠖斿Āah᷀᷃ròЩaòྦangle;榦Āci᷒ᷕy;䑟grarr;柿ऀDacdefglmnopqrstuxḁḉḙḸոḼṉṡṾấắẽỡἪἷὄ὎὚ĀDoḆᴴoôᲉĀcsḎḔute耻é䃩ter;橮ȀaioyḢḧḱḶron;䄛rĀ;cḭḮ扖耻ê䃪lon;払;䑍ot;䄗ĀDrṁṅot;扒;쀀𝔢ƀ;rsṐṑṗ檚ave耻è䃨Ā;dṜṝ檖ot;檘Ȁ;ilsṪṫṲṴ檙nters;揧;愓Ā;dṹṺ檕ot;檗ƀapsẅẉẗcr;䄓tyƀ;svẒẓẕ戅et»ẓpĀ1;ẝẤĳạả;怄;怅怃ĀgsẪẬ;䅋p;怂ĀgpẴẸon;䄙f;쀀𝕖ƀalsỄỎỒrĀ;sỊị拕l;槣us;橱iƀ;lvỚớở䎵on»ớ;䏵ȀcsuvỪỳἋἣĀioữḱrc»Ḯɩỹ\0\0ỻíՈantĀglἂἆtr»ṝess»Ṻƀaeiἒ἖Ἒls;䀽st;扟vĀ;DȵἠD;橸parsl;槥ĀDaἯἳot;打rr;楱ƀcdiἾὁỸr;愯oô͒ĀahὉὋ;䎷耻ð䃰Āmrὓὗl耻ë䃫o;悬ƀcipὡὤὧl;䀡sôծĀeoὬὴctatioîՙnentialåչৡᾒ\0ᾞ\0ᾡᾧ\0\0ῆῌ\0ΐ\0ῦῪ \0 ⁚llingdotseñṄy;䑄male;晀ƀilrᾭᾳ῁lig;耀ﬃɩᾹ\0\0᾽g;耀ﬀig;耀ﬄ;쀀𝔣lig;耀ﬁlig;쀀fjƀaltῙ῜ῡt;晭ig;耀ﬂns;斱of;䆒ǰ΅\0ῳf;쀀𝕗ĀakֿῷĀ;vῼ´拔;櫙artint;樍Āao‌⁕Ācs‑⁒α‚‰‸⁅⁈\0⁐β•‥‧‪‬\0‮耻½䂽;慓耻¼䂼;慕;慙;慛Ƴ‴\0‶;慔;慖ʴ‾⁁\0\0⁃耻¾䂾;慗;慜5;慘ƶ⁌\0⁎;慚;慝8;慞l;恄wn;挢cr;쀀𝒻ࢀEabcdefgijlnorstv₂₉₟₥₰₴⃰⃵⃺⃿℃ℒℸ̗ℾ⅒↞Ā;lٍ₇;檌ƀcmpₐₕ₝ute;䇵maĀ;dₜ᳚䎳;檆reve;䄟Āiy₪₮rc;䄝;䐳ot;䄡Ȁ;lqsؾق₽⃉ƀ;qsؾٌ⃄lanô٥Ȁ;cdl٥⃒⃥⃕c;檩otĀ;o⃜⃝檀Ā;l⃢⃣檂;檄Ā;e⃪⃭쀀⋛︀s;檔r;쀀𝔤Ā;gٳ؛mel;愷cy;䑓Ȁ;Eajٚℌℎℐ;檒;檥;檤ȀEaesℛℝ℩ℴ;扩pĀ;p℣ℤ檊rox»ℤĀ;q℮ℯ檈Ā;q℮ℛim;拧pf;쀀𝕘Āci⅃ⅆr;愊mƀ;el٫ⅎ⅐;檎;檐茀>;cdlqr׮ⅠⅪⅮⅳⅹĀciⅥⅧ;檧r;橺ot;拗Par;榕uest;橼ʀadelsↄⅪ←ٖ↛ǰ↉\0↎proø₞r;楸qĀlqؿ↖lesó₈ií٫Āen↣↭rtneqq;쀀≩︀Å↪ԀAabcefkosy⇄⇇⇱⇵⇺∘∝∯≨≽ròΠȀilmr⇐⇔⇗⇛rsðᒄf»․ilôکĀdr⇠⇤cy;䑊ƀ;cwࣴ⇫⇯ir;楈;憭ar;意irc;䄥ƀalr∁∎∓rtsĀ;u∉∊晥it»∊lip;怦con;抹r;쀀𝔥sĀew∣∩arow;椥arow;椦ʀamopr∺∾≃≞≣rr;懿tht;戻kĀlr≉≓eftarrow;憩ightarrow;憪f;쀀𝕙bar;怕ƀclt≯≴≸r;쀀𝒽asè⇴rok;䄧Ābp⊂⊇ull;恃hen»ᱛૡ⊣\0⊪\0⊸⋅⋎\0⋕⋳\0\0⋸⌢⍧⍢⍿\0⎆⎪⎴cute耻í䃭ƀ;iyݱ⊰⊵rc耻î䃮;䐸Ācx⊼⊿y;䐵cl耻¡䂡ĀfrΟ⋉;쀀𝔦rave耻ì䃬Ȁ;inoܾ⋝⋩⋮Āin⋢⋦nt;樌t;戭fin;槜ta;愩lig;䄳ƀaop⋾⌚⌝ƀcgt⌅⌈⌗r;䄫ƀelpܟ⌏⌓inåގarôܠh;䄱f;抷ed;䆵ʀ;cfotӴ⌬⌱⌽⍁are;愅inĀ;t⌸⌹戞ie;槝doô⌙ʀ;celpݗ⍌⍐⍛⍡al;抺Āgr⍕⍙eróᕣã⍍arhk;樗rod;樼Ȁcgpt⍯⍲⍶⍻y;䑑on;䄯f;쀀𝕚a;䎹uest耻¿䂿Āci⎊⎏r;쀀𝒾nʀ;EdsvӴ⎛⎝⎡ӳ;拹ot;拵Ā;v⎦⎧拴;拳Ā;iݷ⎮lde;䄩ǫ⎸\0⎼cy;䑖l耻ï䃯̀cfmosu⏌⏗⏜⏡⏧⏵Āiy⏑⏕rc;䄵;䐹r;쀀𝔧ath;䈷pf;쀀𝕛ǣ⏬\0⏱r;쀀𝒿rcy;䑘kcy;䑔Ѐacfghjos␋␖␢␧␭␱␵␻ppaĀ;v␓␔䎺;䏰Āey␛␠dil;䄷;䐺r;쀀𝔨reen;䄸cy;䑅cy;䑜pf;쀀𝕜cr;쀀𝓀஀ABEHabcdefghjlmnoprstuv⑰⒁⒆⒍⒑┎┽╚▀♎♞♥♹♽⚚⚲⛘❝❨➋⟀⠁⠒ƀart⑷⑺⑼rò৆òΕail;椛arr;椎Ā;gঔ⒋;檋ar;楢ॣ⒥\0⒪\0⒱\0\0\0\0\0⒵Ⓔ\0ⓆⓈⓍ\0⓹ute;䄺mptyv;榴raîࡌbda;䎻gƀ;dlࢎⓁⓃ;榑åࢎ;檅uo耻«䂫rЀ;bfhlpst࢙ⓞⓦⓩ⓫⓮⓱⓵Ā;f࢝ⓣs;椟s;椝ë≒p;憫l;椹im;楳l;憢ƀ;ae⓿─┄檫il;椙Ā;s┉┊檭;쀀⪭︀ƀabr┕┙┝rr;椌rk;杲Āak┢┬cĀek┨┪;䁻;䁛Āes┱┳;榋lĀdu┹┻;榏;榍Ȁaeuy╆╋╖╘ron;䄾Ādi═╔il;䄼ìࢰâ┩;䐻Ȁcqrs╣╦╭╽a;椶uoĀ;rนᝆĀdu╲╷har;楧shar;楋h;憲ʀ;fgqs▋▌উ◳◿扤tʀahlrt▘▤▷◂◨rrowĀ;t࢙□aé⓶arpoonĀdu▯▴own»њp»०eftarrows;懇ightƀahs◍◖◞rrowĀ;sࣴࢧarpoonó྘quigarro÷⇰hreetimes;拋ƀ;qs▋ও◺lanôবʀ;cdgsব☊☍☝☨c;檨otĀ;o☔☕橿Ā;r☚☛檁;檃Ā;e☢☥쀀⋚︀s;檓ʀadegs☳☹☽♉♋pproøⓆot;拖qĀgq♃♅ôউgtò⒌ôছiíলƀilr♕࣡♚sht;楼;쀀𝔩Ā;Eজ♣;檑š♩♶rĀdu▲♮Ā;l॥♳;楪lk;斄cy;䑙ʀ;achtੈ⚈⚋⚑⚖rò◁orneòᴈard;楫ri;旺Āio⚟⚤dot;䅀ustĀ;a⚬⚭掰che»⚭ȀEaes⚻⚽⛉⛔;扨pĀ;p⛃⛄檉rox»⛄Ā;q⛎⛏檇Ā;q⛎⚻im;拦Ѐabnoptwz⛩⛴⛷✚✯❁❇❐Ānr⛮⛱g;柬r;懽rëࣁgƀlmr⛿✍✔eftĀar০✇ightá৲apsto;柼ightá৽parrowĀlr✥✩efô⓭ight;憬ƀafl✶✹✽r;榅;쀀𝕝us;樭imes;樴š❋❏st;戗áፎƀ;ef❗❘᠀旊nge»❘arĀ;l❤❥䀨t;榓ʀachmt❳❶❼➅➇ròࢨorneòᶌarĀ;d྘➃;業;怎ri;抿̀achiqt➘➝ੀ➢➮➻quo;怹r;쀀𝓁mƀ;egল➪➬;檍;檏Ābu┪➳oĀ;rฟ➹;怚rok;䅂萀<;cdhilqrࠫ⟒☹⟜⟠⟥⟪⟰Āci⟗⟙;檦r;橹reå◲mes;拉arr;楶uest;橻ĀPi⟵⟹ar;榖ƀ;ef⠀भ᠛旃rĀdu⠇⠍shar;楊har;楦Āen⠗⠡rtneqq;쀀≨︀Å⠞܀Dacdefhilnopsu⡀⡅⢂⢎⢓⢠⢥⢨⣚⣢⣤ઃ⣳⤂Dot;戺Ȁclpr⡎⡒⡣⡽r耻¯䂯Āet⡗⡙;時Ā;e⡞⡟朠se»⡟Ā;sျ⡨toȀ;dluျ⡳⡷⡻owîҌefôएðᏑker;斮Āoy⢇⢌mma;権;䐼ash;怔asuredangle»ᘦr;쀀𝔪o;愧ƀcdn⢯⢴⣉ro耻µ䂵Ȁ;acdᑤ⢽⣀⣄sôᚧir;櫰ot肻·Ƶusƀ;bd⣒ᤃ⣓戒Ā;uᴼ⣘;横ţ⣞⣡p;櫛ò−ðઁĀdp⣩⣮els;抧f;쀀𝕞Āct⣸⣽r;쀀𝓂pos»ᖝƀ;lm⤉⤊⤍䎼timap;抸ఀGLRVabcdefghijlmoprstuvw⥂⥓⥾⦉⦘⧚⧩⨕⨚⩘⩝⪃⪕⪤⪨⬄⬇⭄⭿⮮ⰴⱧⱼ⳩Āgt⥇⥋;쀀⋙̸Ā;v⥐௏쀀≫⃒ƀelt⥚⥲⥶ftĀar⥡⥧rrow;懍ightarrow;懎;쀀⋘̸Ā;v⥻ే쀀≪⃒ightarrow;懏ĀDd⦎⦓ash;抯ash;抮ʀbcnpt⦣⦧⦬⦱⧌la»˞ute;䅄g;쀀∠⃒ʀ;Eiop඄⦼⧀⧅⧈;쀀⩰̸d;쀀≋̸s;䅉roø඄urĀ;a⧓⧔普lĀ;s⧓ସǳ⧟\0⧣p肻 ଷmpĀ;e௹ఀʀaeouy⧴⧾⨃⨐⨓ǰ⧹\0⧻;橃on;䅈dil;䅆ngĀ;dൾ⨊ot;쀀⩭̸p;橂;䐽ash;怓΀;Aadqsxஒ⨩⨭⨻⩁⩅⩐rr;懗rĀhr⨳⨶k;椤Ā;oᏲᏰot;쀀≐̸uiöୣĀei⩊⩎ar;椨í஘istĀ;s஠டr;쀀𝔫ȀEest௅⩦⩹⩼ƀ;qs஼⩭௡ƀ;qs஼௅⩴lanô௢ií௪Ā;rஶ⪁»ஷƀAap⪊⪍⪑rò⥱rr;憮ar;櫲ƀ;svྍ⪜ྌĀ;d⪡⪢拼;拺cy;䑚΀AEadest⪷⪺⪾⫂⫅⫶⫹rò⥦;쀀≦̸rr;憚r;急Ȁ;fqs఻⫎⫣⫯tĀar⫔⫙rro÷⫁ightarro÷⪐ƀ;qs఻⪺⫪lanôౕĀ;sౕ⫴»శiíౝĀ;rవ⫾iĀ;eచథiäඐĀpt⬌⬑f;쀀𝕟膀¬;in⬙⬚⬶䂬nȀ;Edvஉ⬤⬨⬮;쀀⋹̸ot;쀀⋵̸ǡஉ⬳⬵;拷;拶iĀ;vಸ⬼ǡಸ⭁⭃;拾;拽ƀaor⭋⭣⭩rȀ;ast୻⭕⭚⭟lleì୻l;쀀⫽⃥;쀀∂̸lint;樔ƀ;ceಒ⭰⭳uåಥĀ;cಘ⭸Ā;eಒ⭽ñಘȀAait⮈⮋⮝⮧rò⦈rrƀ;cw⮔⮕⮙憛;쀀⤳̸;쀀↝̸ghtarrow»⮕riĀ;eೋೖ΀chimpqu⮽⯍⯙⬄୸⯤⯯Ȁ;cerല⯆ഷ⯉uå൅;쀀𝓃ortɭ⬅\0\0⯖ará⭖mĀ;e൮⯟Ā;q൴൳suĀbp⯫⯭å೸åഋƀbcp⯶ⰑⰙȀ;Ees⯿ⰀഢⰄ抄;쀀⫅̸etĀ;eഛⰋqĀ;qണⰀcĀ;eലⰗñസȀ;EesⰢⰣൟⰧ抅;쀀⫆̸etĀ;e൘ⰮqĀ;qൠⰣȀgilrⰽⰿⱅⱇìௗlde耻ñ䃱çృiangleĀlrⱒⱜeftĀ;eచⱚñదightĀ;eೋⱥñ೗Ā;mⱬⱭ䎽ƀ;esⱴⱵⱹ䀣ro;愖p;怇ҀDHadgilrsⲏⲔⲙⲞⲣⲰⲶⳓⳣash;抭arr;椄p;쀀≍⃒ash;抬ĀetⲨⲬ;쀀≥⃒;쀀>⃒nfin;槞ƀAetⲽⳁⳅrr;椂;쀀≤⃒Ā;rⳊⳍ쀀<⃒ie;쀀⊴⃒ĀAtⳘⳜrr;椃rie;쀀⊵⃒im;쀀∼⃒ƀAan⳰⳴ⴂrr;懖rĀhr⳺⳽k;椣Ā;oᏧᏥear;椧ቓ᪕\0\0\0\0\0\0\0\0\0\0\0\0\0ⴭ\0ⴸⵈⵠⵥ⵲ⶄᬇ\0\0ⶍⶫ\0ⷈⷎ\0ⷜ⸙⸫⸾⹃Ācsⴱ᪗ute耻ó䃳ĀiyⴼⵅrĀ;c᪞ⵂ耻ô䃴;䐾ʀabios᪠ⵒⵗǈⵚlac;䅑v;樸old;榼lig;䅓Ācr⵩⵭ir;榿;쀀𝔬ͯ⵹\0\0⵼\0ⶂn;䋛ave耻ò䃲;槁Ābmⶈ෴ar;榵Ȁacitⶕ⶘ⶥⶨrò᪀Āir⶝ⶠr;榾oss;榻nå๒;槀ƀaeiⶱⶵⶹcr;䅍ga;䏉ƀcdnⷀⷅǍron;䎿;榶pf;쀀𝕠ƀaelⷔ⷗ǒr;榷rp;榹΀;adiosvⷪⷫⷮ⸈⸍⸐⸖戨rò᪆Ȁ;efmⷷⷸ⸂⸅橝rĀ;oⷾⷿ愴f»ⷿ耻ª䂪耻º䂺gof;抶r;橖lope;橗;橛ƀclo⸟⸡⸧ò⸁ash耻ø䃸l;折iŬⸯ⸴de耻õ䃵esĀ;aǛ⸺s;樶ml耻ö䃶bar;挽ૡ⹞\0⹽\0⺀⺝\0⺢⺹\0\0⻋ຜ\0⼓\0\0⼫⾼\0⿈rȀ;astЃ⹧⹲຅脀¶;l⹭⹮䂶leìЃɩ⹸\0\0⹻m;櫳;櫽y;䐿rʀcimpt⺋⺏⺓ᡥ⺗nt;䀥od;䀮il;怰enk;怱r;쀀𝔭ƀimo⺨⺰⺴Ā;v⺭⺮䏆;䏕maô੶ne;明ƀ;tv⺿⻀⻈䏀chfork»´;䏖Āau⻏⻟nĀck⻕⻝kĀ;h⇴⻛;愎ö⇴sҀ;abcdemst⻳⻴ᤈ⻹⻽⼄⼆⼊⼎䀫cir;樣ir;樢Āouᵀ⼂;樥;橲n肻±ຝim;樦wo;樧ƀipu⼙⼠⼥ntint;樕f;쀀𝕡nd耻£䂣Ԁ;Eaceinosu່⼿⽁⽄⽇⾁⾉⾒⽾⾶;檳p;檷uå໙Ā;c໎⽌̀;acens່⽙⽟⽦⽨⽾pproø⽃urlyeñ໙ñ໎ƀaes⽯⽶⽺pprox;檹qq;檵im;拨iíໟmeĀ;s⾈ຮ怲ƀEas⽸⾐⽺ð⽵ƀdfp໬⾙⾯ƀals⾠⾥⾪lar;挮ine;挒urf;挓Ā;t໻⾴ï໻rel;抰Āci⿀⿅r;쀀𝓅;䏈ncsp;怈̀fiopsu⿚⋢⿟⿥⿫⿱r;쀀𝔮pf;쀀𝕢rime;恗cr;쀀𝓆ƀaeo⿸〉〓tĀei⿾々rnionóڰnt;樖stĀ;e【】䀿ñἙô༔઀ABHabcdefhilmnoprstux぀けさすムㄎㄫㅇㅢㅲㆎ㈆㈕㈤㈩㉘㉮㉲㊐㊰㊷ƀartぇおがròႳòϝail;検aròᱥar;楤΀cdenqrtとふへみわゔヌĀeuねぱ;쀀∽̱te;䅕iãᅮmptyv;榳gȀ;del࿑らるろ;榒;榥å࿑uo耻»䂻rր;abcfhlpstw࿜ガクシスゼゾダッデナp;極Ā;f࿠ゴs;椠;椳s;椞ë≝ð✮l;楅im;楴l;憣;憝Āaiパフil;椚oĀ;nホボ戶aló༞ƀabrョリヮrò៥rk;杳ĀakンヽcĀekヹ・;䁽;䁝Āes㄂㄄;榌lĀduㄊㄌ;榎;榐Ȁaeuyㄗㄜㄧㄩron;䅙Ādiㄡㄥil;䅗ì࿲âヺ;䑀Ȁclqsㄴㄷㄽㅄa;椷dhar;楩uoĀ;rȎȍh;憳ƀacgㅎㅟངlȀ;ipsླྀㅘㅛႜnåႻarôྩt;断ƀilrㅩဣㅮsht;楽;쀀𝔯ĀaoㅷㆆrĀduㅽㅿ»ѻĀ;l႑ㆄ;楬Ā;vㆋㆌ䏁;䏱ƀgns㆕ㇹㇼht̀ahlrstㆤㆰ㇂㇘㇤㇮rrowĀ;t࿜ㆭaéトarpoonĀduㆻㆿowîㅾp»႒eftĀah㇊㇐rrowó࿪arpoonóՑightarrows;應quigarro÷ニhreetimes;拌g;䋚ingdotseñἲƀahm㈍㈐㈓rò࿪aòՑ;怏oustĀ;a㈞㈟掱che»㈟mid;櫮Ȁabpt㈲㈽㉀㉒Ānr㈷㈺g;柭r;懾rëဃƀafl㉇㉊㉎r;榆;쀀𝕣us;樮imes;樵Āap㉝㉧rĀ;g㉣㉤䀩t;榔olint;樒arò㇣Ȁachq㉻㊀Ⴜ㊅quo;怺r;쀀𝓇Ābu・㊊oĀ;rȔȓƀhir㊗㊛㊠reåㇸmes;拊iȀ;efl㊪ၙᠡ㊫方tri;槎luhar;楨;愞ൡ㋕㋛㋟㌬㌸㍱\0㍺㎤\0\0㏬㏰\0㐨㑈㑚㒭㒱㓊㓱\0㘖\0\0㘳cute;䅛quï➺Ԁ;Eaceinpsyᇭ㋳㋵㋿㌂㌋㌏㌟㌦㌩;檴ǰ㋺\0㋼;檸on;䅡uåᇾĀ;dᇳ㌇il;䅟rc;䅝ƀEas㌖㌘㌛;檶p;檺im;择olint;樓iíሄ;䑁otƀ;be㌴ᵇ㌵担;橦΀Aacmstx㍆㍊㍗㍛㍞㍣㍭rr;懘rĀhr㍐㍒ë∨Ā;oਸ਼਴t耻§䂧i;䀻war;椩mĀin㍩ðnuóñt;朶rĀ;o㍶⁕쀀𝔰Ȁacoy㎂㎆㎑㎠rp;景Āhy㎋㎏cy;䑉;䑈rtɭ㎙\0\0㎜iäᑤaraì⹯耻­䂭Āgm㎨㎴maƀ;fv㎱㎲㎲䏃;䏂Ѐ;deglnprካ㏅㏉㏎㏖㏞㏡㏦ot;橪Ā;q኱ኰĀ;E㏓㏔檞;檠Ā;E㏛㏜檝;檟e;扆lus;樤arr;楲aròᄽȀaeit㏸㐈㐏㐗Āls㏽㐄lsetmé㍪hp;樳parsl;槤Ādlᑣ㐔e;挣Ā;e㐜㐝檪Ā;s㐢㐣檬;쀀⪬︀ƀflp㐮㐳㑂tcy;䑌Ā;b㐸㐹䀯Ā;a㐾㐿槄r;挿f;쀀𝕤aĀdr㑍ЂesĀ;u㑔㑕晠it»㑕ƀcsu㑠㑹㒟Āau㑥㑯pĀ;sᆈ㑫;쀀⊓︀pĀ;sᆴ㑵;쀀⊔︀uĀbp㑿㒏ƀ;esᆗᆜ㒆etĀ;eᆗ㒍ñᆝƀ;esᆨᆭ㒖etĀ;eᆨ㒝ñᆮƀ;afᅻ㒦ְrť㒫ֱ»ᅼaròᅈȀcemt㒹㒾㓂㓅r;쀀𝓈tmîñiì㐕aræᆾĀar㓎㓕rĀ;f㓔ឿ昆Āan㓚㓭ightĀep㓣㓪psiloîỠhé⺯s»⡒ʀbcmnp㓻㕞ሉ㖋㖎Ҁ;Edemnprs㔎㔏㔑㔕㔞㔣㔬㔱㔶抂;櫅ot;檽Ā;dᇚ㔚ot;櫃ult;櫁ĀEe㔨㔪;櫋;把lus;檿arr;楹ƀeiu㔽㕒㕕tƀ;en㔎㕅㕋qĀ;qᇚ㔏eqĀ;q㔫㔨m;櫇Ābp㕚㕜;櫕;櫓c̀;acensᇭ㕬㕲㕹㕻㌦pproø㋺urlyeñᇾñᇳƀaes㖂㖈㌛pproø㌚qñ㌗g;晪ڀ123;Edehlmnps㖩㖬㖯ሜ㖲㖴㗀㗉㗕㗚㗟㗨㗭耻¹䂹耻²䂲耻³䂳;櫆Āos㖹㖼t;檾ub;櫘Ā;dሢ㗅ot;櫄sĀou㗏㗒l;柉b;櫗arr;楻ult;櫂ĀEe㗤㗦;櫌;抋lus;櫀ƀeiu㗴㘉㘌tƀ;enሜ㗼㘂qĀ;qሢ㖲eqĀ;q㗧㗤m;櫈Ābp㘑㘓;櫔;櫖ƀAan㘜㘠㘭rr;懙rĀhr㘦㘨ë∮Ā;oਫ਩war;椪lig耻ß䃟௡㙑㙝㙠ዎ㙳㙹\0㙾㛂\0\0\0\0\0㛛㜃\0㜉㝬\0\0\0㞇ɲ㙖\0\0㙛get;挖;䏄rë๟ƀaey㙦㙫㙰ron;䅥dil;䅣;䑂lrec;挕r;쀀𝔱Ȁeiko㚆㚝㚵㚼ǲ㚋\0㚑eĀ4fኄኁaƀ;sv㚘㚙㚛䎸ym;䏑Ācn㚢㚲kĀas㚨㚮pproø዁im»ኬsðኞĀas㚺㚮ð዁rn耻þ䃾Ǭ̟㛆⋧es膀×;bd㛏㛐㛘䃗Ā;aᤏ㛕r;樱;樰ƀeps㛡㛣㜀á⩍Ȁ;bcf҆㛬㛰㛴ot;挶ir;櫱Ā;o㛹㛼쀀𝕥rk;櫚á㍢rime;怴ƀaip㜏㜒㝤dåቈ΀adempst㜡㝍㝀㝑㝗㝜㝟ngleʀ;dlqr㜰㜱㜶㝀㝂斵own»ᶻeftĀ;e⠀㜾ñम;扜ightĀ;e㊪㝋ñၚot;旬inus;樺lus;樹b;槍ime;樻ezium;揢ƀcht㝲㝽㞁Āry㝷㝻;쀀𝓉;䑆cy;䑛rok;䅧Āio㞋㞎xô᝷headĀlr㞗㞠eftarro÷ࡏightarrow»ཝऀAHabcdfghlmoprstuw㟐㟓㟗㟤㟰㟼㠎㠜㠣㠴㡑㡝㡫㢩㣌㣒㣪㣶ròϭar;楣Ācr㟜㟢ute耻ú䃺òᅐrǣ㟪\0㟭y;䑞ve;䅭Āiy㟵㟺rc耻û䃻;䑃ƀabh㠃㠆㠋ròᎭlac;䅱aòᏃĀir㠓㠘sht;楾;쀀𝔲rave耻ù䃹š㠧㠱rĀlr㠬㠮»ॗ»ႃlk;斀Āct㠹㡍ɯ㠿\0\0㡊rnĀ;e㡅㡆挜r»㡆op;挏ri;旸Āal㡖㡚cr;䅫肻¨͉Āgp㡢㡦on;䅳f;쀀𝕦̀adhlsuᅋ㡸㡽፲㢑㢠ownáᎳarpoonĀlr㢈㢌efô㠭ighô㠯iƀ;hl㢙㢚㢜䏅»ᏺon»㢚parrows;懈ƀcit㢰㣄㣈ɯ㢶\0\0㣁rnĀ;e㢼㢽挝r»㢽op;挎ng;䅯ri;旹cr;쀀𝓊ƀdir㣙㣝㣢ot;拰lde;䅩iĀ;f㜰㣨»᠓Āam㣯㣲rò㢨l耻ü䃼angle;榧ހABDacdeflnoprsz㤜㤟㤩㤭㦵㦸㦽㧟㧤㧨㧳㧹㧽㨁㨠ròϷarĀ;v㤦㤧櫨;櫩asèϡĀnr㤲㤷grt;榜΀eknprst㓣㥆㥋㥒㥝㥤㦖appá␕othinçẖƀhir㓫⻈㥙opô⾵Ā;hᎷ㥢ïㆍĀiu㥩㥭gmá㎳Ābp㥲㦄setneqĀ;q㥽㦀쀀⊊︀;쀀⫋︀setneqĀ;q㦏㦒쀀⊋︀;쀀⫌︀Āhr㦛㦟etá㚜iangleĀlr㦪㦯eft»थight»ၑy;䐲ash»ံƀelr㧄㧒㧗ƀ;beⷪ㧋㧏ar;抻q;扚lip;拮Ābt㧜ᑨaòᑩr;쀀𝔳tré㦮suĀbp㧯㧱»ജ»൙pf;쀀𝕧roð໻tré㦴Ācu㨆㨋r;쀀𝓋Ābp㨐㨘nĀEe㦀㨖»㥾nĀEe㦒㨞»㦐igzag;榚΀cefoprs㨶㨻㩖㩛㩔㩡㩪irc;䅵Ādi㩀㩑Ābg㩅㩉ar;機eĀ;qᗺ㩏;扙erp;愘r;쀀𝔴pf;쀀𝕨Ā;eᑹ㩦atèᑹcr;쀀𝓌ૣណ㪇\0㪋\0㪐㪛\0\0㪝㪨㪫㪯\0\0㫃㫎\0㫘ៜ៟tré៑r;쀀𝔵ĀAa㪔㪗ròσrò৶;䎾ĀAa㪡㪤ròθrò৫að✓is;拻ƀdptឤ㪵㪾Āfl㪺ឩ;쀀𝕩imåឲĀAa㫇㫊ròώròਁĀcq㫒ីr;쀀𝓍Āpt៖㫜ré។Ѐacefiosu㫰㫽㬈㬌㬑㬕㬛㬡cĀuy㫶㫻te耻ý䃽;䑏Āiy㬂㬆rc;䅷;䑋n耻¥䂥r;쀀𝔶cy;䑗pf;쀀𝕪cr;쀀𝓎Ācm㬦㬩y;䑎l耻ÿ䃿Ԁacdefhiosw㭂㭈㭔㭘㭤㭩㭭㭴㭺㮀cute;䅺Āay㭍㭒ron;䅾;䐷ot;䅼Āet㭝㭡træᕟa;䎶r;쀀𝔷cy;䐶grarr;懝pf;쀀𝕫cr;쀀𝓏Ājn㮅㮇;怍j;怌'.split("").map(e=>e.charCodeAt(0))),lq=new Uint16Array("Ȁaglq	\x1Bɭ\0\0p;䀦os;䀧t;䀾t;䀼uot;䀢".split("").map(e=>e.charCodeAt(0)));var rm;const uq=new Map([[0,65533],[128,8364],[130,8218],[131,402],[132,8222],[133,8230],[134,8224],[135,8225],[136,710],[137,8240],[138,352],[139,8249],[140,338],[142,381],[145,8216],[146,8217],[147,8220],[148,8221],[149,8226],[150,8211],[151,8212],[152,732],[153,8482],[154,353],[155,8250],[156,339],[158,382],[159,376]]),cq=(rm=String.fromCodePoint)!==null&&rm!==void 0?rm:function(e){let t="";return e>65535&&(e-=65536,t+=String.fromCharCode(e>>>10&1023|55296),e=56320|e&1023),t+=String.fromCharCode(e),t};function dq(e){var t;return e>=55296&&e<=57343||e>1114111?65533:(t=uq.get(e))!==null&&t!==void 0?t:e}var un;(function(e){e[e.NUM=35]="NUM",e[e.SEMI=59]="SEMI",e[e.EQUALS=61]="EQUALS",e[e.ZERO=48]="ZERO",e[e.NINE=57]="NINE",e[e.LOWER_A=97]="LOWER_A",e[e.LOWER_F=102]="LOWER_F",e[e.LOWER_X=120]="LOWER_X",e[e.LOWER_Z=122]="LOWER_Z",e[e.UPPER_A=65]="UPPER_A",e[e.UPPER_F=70]="UPPER_F",e[e.UPPER_Z=90]="UPPER_Z"})(un||(un={}));const fq=32;var Ys;(function(e){e[e.VALUE_LENGTH=49152]="VALUE_LENGTH",e[e.BRANCH_LENGTH=16256]="BRANCH_LENGTH",e[e.JUMP_TABLE=127]="JUMP_TABLE"})(Ys||(Ys={}));function d1(e){return e>=un.ZERO&&e<=un.NINE}function pq(e){return e>=un.UPPER_A&&e<=un.UPPER_F||e>=un.LOWER_A&&e<=un.LOWER_F}function hq(e){return e>=un.UPPER_A&&e<=un.UPPER_Z||e>=un.LOWER_A&&e<=un.LOWER_Z||d1(e)}function mq(e){return e===un.EQUALS||hq(e)}var rn;(function(e){e[e.EntityStart=0]="EntityStart",e[e.NumericStart=1]="NumericStart",e[e.NumericDecimal=2]="NumericDecimal",e[e.NumericHex=3]="NumericHex",e[e.NamedEntity=4]="NamedEntity"})(rn||(rn={}));var is;(function(e){e[e.Legacy=0]="Legacy",e[e.Strict=1]="Strict",e[e.Attribute=2]="Attribute"})(is||(is={}));class ZN{constructor(t,n,r){this.decodeTree=t,this.emitCodePoint=n,this.errors=r,this.state=rn.EntityStart,this.consumed=1,this.result=0,this.treeIndex=0,this.excess=1,this.decodeMode=is.Strict}startEntity(t){this.decodeMode=t,this.state=rn.EntityStart,this.result=0,this.treeIndex=0,this.excess=1,this.consumed=1}write(t,n){switch(this.state){case rn.EntityStart:return t.charCodeAt(n)===un.NUM?(this.state=rn.NumericStart,this.consumed+=1,this.stateNumericStart(t,n+1)):(this.state=rn.NamedEntity,this.stateNamedEntity(t,n));case rn.NumericStart:return this.stateNumericStart(t,n);case rn.NumericDecimal:return this.stateNumericDecimal(t,n);case rn.NumericHex:return this.stateNumericHex(t,n);case rn.NamedEntity:return this.stateNamedEntity(t,n)}}stateNumericStart(t,n){return n>=t.length?-1:(t.charCodeAt(n)|fq)===un.LOWER_X?(this.state=rn.NumericHex,this.consumed+=1,this.stateNumericHex(t,n+1)):(this.state=rn.NumericDecimal,this.stateNumericDecimal(t,n))}addToNumericResult(t,n,r,i){if(n!==r){const s=r-n;this.result=this.result*Math.pow(i,s)+parseInt(t.substr(n,s),i),this.consumed+=s}}stateNumericHex(t,n){const r=n;for(;n<t.length;){const i=t.charCodeAt(n);if(d1(i)||pq(i))n+=1;else return this.addToNumericResult(t,r,n,16),this.emitNumericEntity(i,3)}return this.addToNumericResult(t,r,n,16),-1}stateNumericDecimal(t,n){const r=n;for(;n<t.length;){const i=t.charCodeAt(n);if(d1(i))n+=1;else return this.addToNumericResult(t,r,n,10),this.emitNumericEntity(i,2)}return this.addToNumericResult(t,r,n,10),-1}emitNumericEntity(t,n){var r;if(this.consumed<=n)return(r=this.errors)===null||r===void 0||r.absenceOfDigitsInNumericCharacterReference(this.consumed),0;if(t===un.SEMI)this.consumed+=1;else if(this.decodeMode===is.Strict)return 0;return this.emitCodePoint(dq(this.result),this.consumed),this.errors&&(t!==un.SEMI&&this.errors.missingSemicolonAfterCharacterReference(),this.errors.validateNumericCharacterReference(this.result)),this.consumed}stateNamedEntity(t,n){const{decodeTree:r}=this;let i=r[this.treeIndex],s=(i&Ys.VALUE_LENGTH)>>14;for(;n<t.length;n++,this.excess++){const o=t.charCodeAt(n);if(this.treeIndex=gq(r,i,this.treeIndex+Math.max(1,s),o),this.treeIndex<0)return this.result===0||this.decodeMode===is.Attribute&&(s===0||mq(o))?0:this.emitNotTerminatedNamedEntity();if(i=r[this.treeIndex],s=(i&Ys.VALUE_LENGTH)>>14,s!==0){if(o===un.SEMI)return this.emitNamedEntityData(this.treeIndex,s,this.consumed+this.excess);this.decodeMode!==is.Strict&&(this.result=this.treeIndex,this.consumed+=this.excess,this.excess=0)}}return-1}emitNotTerminatedNamedEntity(){var t;const{result:n,decodeTree:r}=this,i=(r[n]&Ys.VALUE_LENGTH)>>14;return this.emitNamedEntityData(n,i,this.consumed),(t=this.errors)===null||t===void 0||t.missingSemicolonAfterCharacterReference(),this.consumed}emitNamedEntityData(t,n,r){const{decodeTree:i}=this;return this.emitCodePoint(n===1?i[t]&~Ys.VALUE_LENGTH:i[t+1],r),n===3&&this.emitCodePoint(i[t+2],r),r}end(){var t;switch(this.state){case rn.NamedEntity:return this.result!==0&&(this.decodeMode!==is.Attribute||this.result===this.treeIndex)?this.emitNotTerminatedNamedEntity():0;case rn.NumericDecimal:return this.emitNumericEntity(0,2);case rn.NumericHex:return this.emitNumericEntity(0,3);case rn.NumericStart:return(t=this.errors)===null||t===void 0||t.absenceOfDigitsInNumericCharacterReference(this.consumed),0;case rn.EntityStart:return 0}}}function eR(e){let t="";const n=new ZN(e,r=>t+=cq(r));return function(i,s){let o=0,a=0;for(;(a=i.indexOf("&",a))>=0;){t+=i.slice(o,a),n.startEntity(s);const u=n.write(i,a+1);if(u<0){o=a+n.end();break}o=a+u,a=u===0?o+1:o}const l=t+i.slice(o);return t="",l}}function gq(e,t,n,r){const i=(t&Ys.BRANCH_LENGTH)>>7,s=t&Ys.JUMP_TABLE;if(i===0)return s!==0&&r===s?n:-1;if(s){const l=r-s;return l<0||l>=i?-1:e[n+l]-1}let o=n,a=o+i-1;for(;o<=a;){const l=o+a>>>1,u=e[l];if(u<r)o=l+1;else if(u>r)a=l-1;else return e[l+i]}return-1}eR(JN);eR(lq);var re;(function(e){e.HTML="http://www.w3.org/1999/xhtml",e.MATHML="http://www.w3.org/1998/Math/MathML",e.SVG="http://www.w3.org/2000/svg",e.XLINK="http://www.w3.org/1999/xlink",e.XML="http://www.w3.org/XML/1998/namespace",e.XMLNS="http://www.w3.org/2000/xmlns/"})(re||(re={}));var Ho;(function(e){e.TYPE="type",e.ACTION="action",e.ENCODING="encoding",e.PROMPT="prompt",e.NAME="name",e.COLOR="color",e.FACE="face",e.SIZE="size"})(Ho||(Ho={}));var Or;(function(e){e.NO_QUIRKS="no-quirks",e.QUIRKS="quirks",e.LIMITED_QUIRKS="limited-quirks"})(Or||(Or={}));var $;(function(e){e.A="a",e.ADDRESS="address",e.ANNOTATION_XML="annotation-xml",e.APPLET="applet",e.AREA="area",e.ARTICLE="article",e.ASIDE="aside",e.B="b",e.BASE="base",e.BASEFONT="basefont",e.BGSOUND="bgsound",e.BIG="big",e.BLOCKQUOTE="blockquote",e.BODY="body",e.BR="br",e.BUTTON="button",e.CAPTION="caption",e.CENTER="center",e.CODE="code",e.COL="col",e.COLGROUP="colgroup",e.DD="dd",e.DESC="desc",e.DETAILS="details",e.DIALOG="dialog",e.DIR="dir",e.DIV="div",e.DL="dl",e.DT="dt",e.EM="em",e.EMBED="embed",e.FIELDSET="fieldset",e.FIGCAPTION="figcaption",e.FIGURE="figure",e.FONT="font",e.FOOTER="footer",e.FOREIGN_OBJECT="foreignObject",e.FORM="form",e.FRAME="frame",e.FRAMESET="frameset",e.H1="h1",e.H2="h2",e.H3="h3",e.H4="h4",e.H5="h5",e.H6="h6",e.HEAD="head",e.HEADER="header",e.HGROUP="hgroup",e.HR="hr",e.HTML="html",e.I="i",e.IMG="img",e.IMAGE="image",e.INPUT="input",e.IFRAME="iframe",e.KEYGEN="keygen",e.LABEL="label",e.LI="li",e.LINK="link",e.LISTING="listing",e.MAIN="main",e.MALIGNMARK="malignmark",e.MARQUEE="marquee",e.MATH="math",e.MENU="menu",e.META="meta",e.MGLYPH="mglyph",e.MI="mi",e.MO="mo",e.MN="mn",e.MS="ms",e.MTEXT="mtext",e.NAV="nav",e.NOBR="nobr",e.NOFRAMES="noframes",e.NOEMBED="noembed",e.NOSCRIPT="noscript",e.OBJECT="object",e.OL="ol",e.OPTGROUP="optgroup",e.OPTION="option",e.P="p",e.PARAM="param",e.PLAINTEXT="plaintext",e.PRE="pre",e.RB="rb",e.RP="rp",e.RT="rt",e.RTC="rtc",e.RUBY="ruby",e.S="s",e.SCRIPT="script",e.SEARCH="search",e.SECTION="section",e.SELECT="select",e.SOURCE="source",e.SMALL="small",e.SPAN="span",e.STRIKE="strike",e.STRONG="strong",e.STYLE="style",e.SUB="sub",e.SUMMARY="summary",e.SUP="sup",e.TABLE="table",e.TBODY="tbody",e.TEMPLATE="template",e.TEXTAREA="textarea",e.TFOOT="tfoot",e.TD="td",e.TH="th",e.THEAD="thead",e.TITLE="title",e.TR="tr",e.TRACK="track",e.TT="tt",e.U="u",e.UL="ul",e.SVG="svg",e.VAR="var",e.WBR="wbr",e.XMP="xmp"})($||($={}));var h;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.A=1]="A",e[e.ADDRESS=2]="ADDRESS",e[e.ANNOTATION_XML=3]="ANNOTATION_XML",e[e.APPLET=4]="APPLET",e[e.AREA=5]="AREA",e[e.ARTICLE=6]="ARTICLE",e[e.ASIDE=7]="ASIDE",e[e.B=8]="B",e[e.BASE=9]="BASE",e[e.BASEFONT=10]="BASEFONT",e[e.BGSOUND=11]="BGSOUND",e[e.BIG=12]="BIG",e[e.BLOCKQUOTE=13]="BLOCKQUOTE",e[e.BODY=14]="BODY",e[e.BR=15]="BR",e[e.BUTTON=16]="BUTTON",e[e.CAPTION=17]="CAPTION",e[e.CENTER=18]="CENTER",e[e.CODE=19]="CODE",e[e.COL=20]="COL",e[e.COLGROUP=21]="COLGROUP",e[e.DD=22]="DD",e[e.DESC=23]="DESC",e[e.DETAILS=24]="DETAILS",e[e.DIALOG=25]="DIALOG",e[e.DIR=26]="DIR",e[e.DIV=27]="DIV",e[e.DL=28]="DL",e[e.DT=29]="DT",e[e.EM=30]="EM",e[e.EMBED=31]="EMBED",e[e.FIELDSET=32]="FIELDSET",e[e.FIGCAPTION=33]="FIGCAPTION",e[e.FIGURE=34]="FIGURE",e[e.FONT=35]="FONT",e[e.FOOTER=36]="FOOTER",e[e.FOREIGN_OBJECT=37]="FOREIGN_OBJECT",e[e.FORM=38]="FORM",e[e.FRAME=39]="FRAME",e[e.FRAMESET=40]="FRAMESET",e[e.H1=41]="H1",e[e.H2=42]="H2",e[e.H3=43]="H3",e[e.H4=44]="H4",e[e.H5=45]="H5",e[e.H6=46]="H6",e[e.HEAD=47]="HEAD",e[e.HEADER=48]="HEADER",e[e.HGROUP=49]="HGROUP",e[e.HR=50]="HR",e[e.HTML=51]="HTML",e[e.I=52]="I",e[e.IMG=53]="IMG",e[e.IMAGE=54]="IMAGE",e[e.INPUT=55]="INPUT",e[e.IFRAME=56]="IFRAME",e[e.KEYGEN=57]="KEYGEN",e[e.LABEL=58]="LABEL",e[e.LI=59]="LI",e[e.LINK=60]="LINK",e[e.LISTING=61]="LISTING",e[e.MAIN=62]="MAIN",e[e.MALIGNMARK=63]="MALIGNMARK",e[e.MARQUEE=64]="MARQUEE",e[e.MATH=65]="MATH",e[e.MENU=66]="MENU",e[e.META=67]="META",e[e.MGLYPH=68]="MGLYPH",e[e.MI=69]="MI",e[e.MO=70]="MO",e[e.MN=71]="MN",e[e.MS=72]="MS",e[e.MTEXT=73]="MTEXT",e[e.NAV=74]="NAV",e[e.NOBR=75]="NOBR",e[e.NOFRAMES=76]="NOFRAMES",e[e.NOEMBED=77]="NOEMBED",e[e.NOSCRIPT=78]="NOSCRIPT",e[e.OBJECT=79]="OBJECT",e[e.OL=80]="OL",e[e.OPTGROUP=81]="OPTGROUP",e[e.OPTION=82]="OPTION",e[e.P=83]="P",e[e.PARAM=84]="PARAM",e[e.PLAINTEXT=85]="PLAINTEXT",e[e.PRE=86]="PRE",e[e.RB=87]="RB",e[e.RP=88]="RP",e[e.RT=89]="RT",e[e.RTC=90]="RTC",e[e.RUBY=91]="RUBY",e[e.S=92]="S",e[e.SCRIPT=93]="SCRIPT",e[e.SEARCH=94]="SEARCH",e[e.SECTION=95]="SECTION",e[e.SELECT=96]="SELECT",e[e.SOURCE=97]="SOURCE",e[e.SMALL=98]="SMALL",e[e.SPAN=99]="SPAN",e[e.STRIKE=100]="STRIKE",e[e.STRONG=101]="STRONG",e[e.STYLE=102]="STYLE",e[e.SUB=103]="SUB",e[e.SUMMARY=104]="SUMMARY",e[e.SUP=105]="SUP",e[e.TABLE=106]="TABLE",e[e.TBODY=107]="TBODY",e[e.TEMPLATE=108]="TEMPLATE",e[e.TEXTAREA=109]="TEXTAREA",e[e.TFOOT=110]="TFOOT",e[e.TD=111]="TD",e[e.TH=112]="TH",e[e.THEAD=113]="THEAD",e[e.TITLE=114]="TITLE",e[e.TR=115]="TR",e[e.TRACK=116]="TRACK",e[e.TT=117]="TT",e[e.U=118]="U",e[e.UL=119]="UL",e[e.SVG=120]="SVG",e[e.VAR=121]="VAR",e[e.WBR=122]="WBR",e[e.XMP=123]="XMP"})(h||(h={}));const bq=new Map([[$.A,h.A],[$.ADDRESS,h.ADDRESS],[$.ANNOTATION_XML,h.ANNOTATION_XML],[$.APPLET,h.APPLET],[$.AREA,h.AREA],[$.ARTICLE,h.ARTICLE],[$.ASIDE,h.ASIDE],[$.B,h.B],[$.BASE,h.BASE],[$.BASEFONT,h.BASEFONT],[$.BGSOUND,h.BGSOUND],[$.BIG,h.BIG],[$.BLOCKQUOTE,h.BLOCKQUOTE],[$.BODY,h.BODY],[$.BR,h.BR],[$.BUTTON,h.BUTTON],[$.CAPTION,h.CAPTION],[$.CENTER,h.CENTER],[$.CODE,h.CODE],[$.COL,h.COL],[$.COLGROUP,h.COLGROUP],[$.DD,h.DD],[$.DESC,h.DESC],[$.DETAILS,h.DETAILS],[$.DIALOG,h.DIALOG],[$.DIR,h.DIR],[$.DIV,h.DIV],[$.DL,h.DL],[$.DT,h.DT],[$.EM,h.EM],[$.EMBED,h.EMBED],[$.FIELDSET,h.FIELDSET],[$.FIGCAPTION,h.FIGCAPTION],[$.FIGURE,h.FIGURE],[$.FONT,h.FONT],[$.FOOTER,h.FOOTER],[$.FOREIGN_OBJECT,h.FOREIGN_OBJECT],[$.FORM,h.FORM],[$.FRAME,h.FRAME],[$.FRAMESET,h.FRAMESET],[$.H1,h.H1],[$.H2,h.H2],[$.H3,h.H3],[$.H4,h.H4],[$.H5,h.H5],[$.H6,h.H6],[$.HEAD,h.HEAD],[$.HEADER,h.HEADER],[$.HGROUP,h.HGROUP],[$.HR,h.HR],[$.HTML,h.HTML],[$.I,h.I],[$.IMG,h.IMG],[$.IMAGE,h.IMAGE],[$.INPUT,h.INPUT],[$.IFRAME,h.IFRAME],[$.KEYGEN,h.KEYGEN],[$.LABEL,h.LABEL],[$.LI,h.LI],[$.LINK,h.LINK],[$.LISTING,h.LISTING],[$.MAIN,h.MAIN],[$.MALIGNMARK,h.MALIGNMARK],[$.MARQUEE,h.MARQUEE],[$.MATH,h.MATH],[$.MENU,h.MENU],[$.META,h.META],[$.MGLYPH,h.MGLYPH],[$.MI,h.MI],[$.MO,h.MO],[$.MN,h.MN],[$.MS,h.MS],[$.MTEXT,h.MTEXT],[$.NAV,h.NAV],[$.NOBR,h.NOBR],[$.NOFRAMES,h.NOFRAMES],[$.NOEMBED,h.NOEMBED],[$.NOSCRIPT,h.NOSCRIPT],[$.OBJECT,h.OBJECT],[$.OL,h.OL],[$.OPTGROUP,h.OPTGROUP],[$.OPTION,h.OPTION],[$.P,h.P],[$.PARAM,h.PARAM],[$.PLAINTEXT,h.PLAINTEXT],[$.PRE,h.PRE],[$.RB,h.RB],[$.RP,h.RP],[$.RT,h.RT],[$.RTC,h.RTC],[$.RUBY,h.RUBY],[$.S,h.S],[$.SCRIPT,h.SCRIPT],[$.SEARCH,h.SEARCH],[$.SECTION,h.SECTION],[$.SELECT,h.SELECT],[$.SOURCE,h.SOURCE],[$.SMALL,h.SMALL],[$.SPAN,h.SPAN],[$.STRIKE,h.STRIKE],[$.STRONG,h.STRONG],[$.STYLE,h.STYLE],[$.SUB,h.SUB],[$.SUMMARY,h.SUMMARY],[$.SUP,h.SUP],[$.TABLE,h.TABLE],[$.TBODY,h.TBODY],[$.TEMPLATE,h.TEMPLATE],[$.TEXTAREA,h.TEXTAREA],[$.TFOOT,h.TFOOT],[$.TD,h.TD],[$.TH,h.TH],[$.THEAD,h.THEAD],[$.TITLE,h.TITLE],[$.TR,h.TR],[$.TRACK,h.TRACK],[$.TT,h.TT],[$.U,h.U],[$.UL,h.UL],[$.SVG,h.SVG],[$.VAR,h.VAR],[$.WBR,h.WBR],[$.XMP,h.XMP]]);function $p(e){var t;return(t=bq.get(e))!==null&&t!==void 0?t:h.UNKNOWN}const oe=h,yq={[re.HTML]:new Set([oe.ADDRESS,oe.APPLET,oe.AREA,oe.ARTICLE,oe.ASIDE,oe.BASE,oe.BASEFONT,oe.BGSOUND,oe.BLOCKQUOTE,oe.BODY,oe.BR,oe.BUTTON,oe.CAPTION,oe.CENTER,oe.COL,oe.COLGROUP,oe.DD,oe.DETAILS,oe.DIR,oe.DIV,oe.DL,oe.DT,oe.EMBED,oe.FIELDSET,oe.FIGCAPTION,oe.FIGURE,oe.FOOTER,oe.FORM,oe.FRAME,oe.FRAMESET,oe.H1,oe.H2,oe.H3,oe.H4,oe.H5,oe.H6,oe.HEAD,oe.HEADER,oe.HGROUP,oe.HR,oe.HTML,oe.IFRAME,oe.IMG,oe.INPUT,oe.LI,oe.LINK,oe.LISTING,oe.MAIN,oe.MARQUEE,oe.MENU,oe.META,oe.NAV,oe.NOEMBED,oe.NOFRAMES,oe.NOSCRIPT,oe.OBJECT,oe.OL,oe.P,oe.PARAM,oe.PLAINTEXT,oe.PRE,oe.SCRIPT,oe.SECTION,oe.SELECT,oe.SOURCE,oe.STYLE,oe.SUMMARY,oe.TABLE,oe.TBODY,oe.TD,oe.TEMPLATE,oe.TEXTAREA,oe.TFOOT,oe.TH,oe.THEAD,oe.TITLE,oe.TR,oe.TRACK,oe.UL,oe.WBR,oe.XMP]),[re.MATHML]:new Set([oe.MI,oe.MO,oe.MN,oe.MS,oe.MTEXT,oe.ANNOTATION_XML]),[re.SVG]:new Set([oe.TITLE,oe.FOREIGN_OBJECT,oe.DESC]),[re.XLINK]:new Set,[re.XML]:new Set,[re.XMLNS]:new Set},f1=new Set([oe.H1,oe.H2,oe.H3,oe.H4,oe.H5,oe.H6]);$.STYLE,$.SCRIPT,$.XMP,$.IFRAME,$.NOEMBED,$.NOFRAMES,$.PLAINTEXT;var C;(function(e){e[e.DATA=0]="DATA",e[e.RCDATA=1]="RCDATA",e[e.RAWTEXT=2]="RAWTEXT",e[e.SCRIPT_DATA=3]="SCRIPT_DATA",e[e.PLAINTEXT=4]="PLAINTEXT",e[e.TAG_OPEN=5]="TAG_OPEN",e[e.END_TAG_OPEN=6]="END_TAG_OPEN",e[e.TAG_NAME=7]="TAG_NAME",e[e.RCDATA_LESS_THAN_SIGN=8]="RCDATA_LESS_THAN_SIGN",e[e.RCDATA_END_TAG_OPEN=9]="RCDATA_END_TAG_OPEN",e[e.RCDATA_END_TAG_NAME=10]="RCDATA_END_TAG_NAME",e[e.RAWTEXT_LESS_THAN_SIGN=11]="RAWTEXT_LESS_THAN_SIGN",e[e.RAWTEXT_END_TAG_OPEN=12]="RAWTEXT_END_TAG_OPEN",e[e.RAWTEXT_END_TAG_NAME=13]="RAWTEXT_END_TAG_NAME",e[e.SCRIPT_DATA_LESS_THAN_SIGN=14]="SCRIPT_DATA_LESS_THAN_SIGN",e[e.SCRIPT_DATA_END_TAG_OPEN=15]="SCRIPT_DATA_END_TAG_OPEN",e[e.SCRIPT_DATA_END_TAG_NAME=16]="SCRIPT_DATA_END_TAG_NAME",e[e.SCRIPT_DATA_ESCAPE_START=17]="SCRIPT_DATA_ESCAPE_START",e[e.SCRIPT_DATA_ESCAPE_START_DASH=18]="SCRIPT_DATA_ESCAPE_START_DASH",e[e.SCRIPT_DATA_ESCAPED=19]="SCRIPT_DATA_ESCAPED",e[e.SCRIPT_DATA_ESCAPED_DASH=20]="SCRIPT_DATA_ESCAPED_DASH",e[e.SCRIPT_DATA_ESCAPED_DASH_DASH=21]="SCRIPT_DATA_ESCAPED_DASH_DASH",e[e.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN=22]="SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN",e[e.SCRIPT_DATA_ESCAPED_END_TAG_OPEN=23]="SCRIPT_DATA_ESCAPED_END_TAG_OPEN",e[e.SCRIPT_DATA_ESCAPED_END_TAG_NAME=24]="SCRIPT_DATA_ESCAPED_END_TAG_NAME",e[e.SCRIPT_DATA_DOUBLE_ESCAPE_START=25]="SCRIPT_DATA_DOUBLE_ESCAPE_START",e[e.SCRIPT_DATA_DOUBLE_ESCAPED=26]="SCRIPT_DATA_DOUBLE_ESCAPED",e[e.SCRIPT_DATA_DOUBLE_ESCAPED_DASH=27]="SCRIPT_DATA_DOUBLE_ESCAPED_DASH",e[e.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH=28]="SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH",e[e.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN=29]="SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN",e[e.SCRIPT_DATA_DOUBLE_ESCAPE_END=30]="SCRIPT_DATA_DOUBLE_ESCAPE_END",e[e.BEFORE_ATTRIBUTE_NAME=31]="BEFORE_ATTRIBUTE_NAME",e[e.ATTRIBUTE_NAME=32]="ATTRIBUTE_NAME",e[e.AFTER_ATTRIBUTE_NAME=33]="AFTER_ATTRIBUTE_NAME",e[e.BEFORE_ATTRIBUTE_VALUE=34]="BEFORE_ATTRIBUTE_VALUE",e[e.ATTRIBUTE_VALUE_DOUBLE_QUOTED=35]="ATTRIBUTE_VALUE_DOUBLE_QUOTED",e[e.ATTRIBUTE_VALUE_SINGLE_QUOTED=36]="ATTRIBUTE_VALUE_SINGLE_QUOTED",e[e.ATTRIBUTE_VALUE_UNQUOTED=37]="ATTRIBUTE_VALUE_UNQUOTED",e[e.AFTER_ATTRIBUTE_VALUE_QUOTED=38]="AFTER_ATTRIBUTE_VALUE_QUOTED",e[e.SELF_CLOSING_START_TAG=39]="SELF_CLOSING_START_TAG",e[e.BOGUS_COMMENT=40]="BOGUS_COMMENT",e[e.MARKUP_DECLARATION_OPEN=41]="MARKUP_DECLARATION_OPEN",e[e.COMMENT_START=42]="COMMENT_START",e[e.COMMENT_START_DASH=43]="COMMENT_START_DASH",e[e.COMMENT=44]="COMMENT",e[e.COMMENT_LESS_THAN_SIGN=45]="COMMENT_LESS_THAN_SIGN",e[e.COMMENT_LESS_THAN_SIGN_BANG=46]="COMMENT_LESS_THAN_SIGN_BANG",e[e.COMMENT_LESS_THAN_SIGN_BANG_DASH=47]="COMMENT_LESS_THAN_SIGN_BANG_DASH",e[e.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH=48]="COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH",e[e.COMMENT_END_DASH=49]="COMMENT_END_DASH",e[e.COMMENT_END=50]="COMMENT_END",e[e.COMMENT_END_BANG=51]="COMMENT_END_BANG",e[e.DOCTYPE=52]="DOCTYPE",e[e.BEFORE_DOCTYPE_NAME=53]="BEFORE_DOCTYPE_NAME",e[e.DOCTYPE_NAME=54]="DOCTYPE_NAME",e[e.AFTER_DOCTYPE_NAME=55]="AFTER_DOCTYPE_NAME",e[e.AFTER_DOCTYPE_PUBLIC_KEYWORD=56]="AFTER_DOCTYPE_PUBLIC_KEYWORD",e[e.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER=57]="BEFORE_DOCTYPE_PUBLIC_IDENTIFIER",e[e.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED=58]="DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED",e[e.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED=59]="DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED",e[e.AFTER_DOCTYPE_PUBLIC_IDENTIFIER=60]="AFTER_DOCTYPE_PUBLIC_IDENTIFIER",e[e.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS=61]="BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS",e[e.AFTER_DOCTYPE_SYSTEM_KEYWORD=62]="AFTER_DOCTYPE_SYSTEM_KEYWORD",e[e.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER=63]="BEFORE_DOCTYPE_SYSTEM_IDENTIFIER",e[e.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED=64]="DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED",e[e.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED=65]="DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED",e[e.AFTER_DOCTYPE_SYSTEM_IDENTIFIER=66]="AFTER_DOCTYPE_SYSTEM_IDENTIFIER",e[e.BOGUS_DOCTYPE=67]="BOGUS_DOCTYPE",e[e.CDATA_SECTION=68]="CDATA_SECTION",e[e.CDATA_SECTION_BRACKET=69]="CDATA_SECTION_BRACKET",e[e.CDATA_SECTION_END=70]="CDATA_SECTION_END",e[e.CHARACTER_REFERENCE=71]="CHARACTER_REFERENCE",e[e.AMBIGUOUS_AMPERSAND=72]="AMBIGUOUS_AMPERSAND"})(C||(C={}));const er={DATA:C.DATA,RCDATA:C.RCDATA,RAWTEXT:C.RAWTEXT,SCRIPT_DATA:C.SCRIPT_DATA,PLAINTEXT:C.PLAINTEXT,CDATA_SECTION:C.CDATA_SECTION};function _q(e){return e>=T.DIGIT_0&&e<=T.DIGIT_9}function hu(e){return e>=T.LATIN_CAPITAL_A&&e<=T.LATIN_CAPITAL_Z}function Eq(e){return e>=T.LATIN_SMALL_A&&e<=T.LATIN_SMALL_Z}function Ns(e){return Eq(e)||hu(e)}function _w(e){return Ns(e)||_q(e)}function vd(e){return e+32}function tR(e){return e===T.SPACE||e===T.LINE_FEED||e===T.TABULATION||e===T.FORM_FEED}function Ew(e){return tR(e)||e===T.SOLIDUS||e===T.GREATER_THAN_SIGN}function vq(e){return e===T.NULL?W.nullCharacterReference:e>1114111?W.characterReferenceOutsideUnicodeRange:YN(e)?W.surrogateCharacterReference:XN(e)?W.noncharacterCharacterReference:KN(e)||e===T.CARRIAGE_RETURN?W.controlCharacterReference:null}class Tq{constructor(t,n){this.options=t,this.handler=n,this.paused=!1,this.inLoop=!1,this.inForeignNode=!1,this.lastStartTagName="",this.active=!1,this.state=C.DATA,this.returnState=C.DATA,this.entityStartPos=0,this.consumedAfterSnapshot=-1,this.currentCharacterToken=null,this.currentToken=null,this.currentAttr={name:"",value:""},this.preprocessor=new aq(n),this.currentLocation=this.getCurrentLocation(-1),this.entityDecoder=new ZN(JN,(r,i)=>{this.preprocessor.pos=this.entityStartPos+i-1,this._flushCodePointConsumedAsCharacterReference(r)},n.onParseError?{missingSemicolonAfterCharacterReference:()=>{this._err(W.missingSemicolonAfterCharacterReference,1)},absenceOfDigitsInNumericCharacterReference:r=>{this._err(W.absenceOfDigitsInNumericCharacterReference,this.entityStartPos-this.preprocessor.pos+r)},validateNumericCharacterReference:r=>{const i=vq(r);i&&this._err(i,1)}}:void 0)}_err(t,n=0){var r,i;(i=(r=this.handler).onParseError)===null||i===void 0||i.call(r,this.preprocessor.getError(t,n))}getCurrentLocation(t){return this.options.sourceCodeLocationInfo?{startLine:this.preprocessor.line,startCol:this.preprocessor.col-t,startOffset:this.preprocessor.offset-t,endLine:-1,endCol:-1,endOffset:-1}:null}_runParsingLoop(){if(!this.inLoop){for(this.inLoop=!0;this.active&&!this.paused;){this.consumedAfterSnapshot=0;const t=this._consume();this._ensureHibernation()||this._callState(t)}this.inLoop=!1}}pause(){this.paused=!0}resume(t){if(!this.paused)throw new Error("Parser was already resumed");this.paused=!1,!this.inLoop&&(this._runParsingLoop(),this.paused||t==null||t())}write(t,n,r){this.active=!0,this.preprocessor.write(t,n),this._runParsingLoop(),this.paused||r==null||r()}insertHtmlAtCurrentPos(t){this.active=!0,this.preprocessor.insertHtmlAtCurrentPos(t),this._runParsingLoop()}_ensureHibernation(){return this.preprocessor.endOfChunkHit?(this.preprocessor.retreat(this.consumedAfterSnapshot),this.consumedAfterSnapshot=0,this.active=!1,!0):!1}_consume(){return this.consumedAfterSnapshot++,this.preprocessor.advance()}_advanceBy(t){this.consumedAfterSnapshot+=t;for(let n=0;n<t;n++)this.preprocessor.advance()}_consumeSequenceIfMatch(t,n){return this.preprocessor.startsWith(t,n)?(this._advanceBy(t.length-1),!0):!1}_createStartTagToken(){this.currentToken={type:st.START_TAG,tagName:"",tagID:h.UNKNOWN,selfClosing:!1,ackSelfClosing:!1,attrs:[],location:this.getCurrentLocation(1)}}_createEndTagToken(){this.currentToken={type:st.END_TAG,tagName:"",tagID:h.UNKNOWN,selfClosing:!1,ackSelfClosing:!1,attrs:[],location:this.getCurrentLocation(2)}}_createCommentToken(t){this.currentToken={type:st.COMMENT,data:"",location:this.getCurrentLocation(t)}}_createDoctypeToken(t){this.currentToken={type:st.DOCTYPE,name:t,forceQuirks:!1,publicId:null,systemId:null,location:this.currentLocation}}_createCharacterToken(t,n){this.currentCharacterToken={type:t,chars:n,location:this.currentLocation}}_createAttr(t){this.currentAttr={name:t,value:""},this.currentLocation=this.getCurrentLocation(0)}_leaveAttrName(){var t,n;const r=this.currentToken;if(QN(r,this.currentAttr.name)===null){if(r.attrs.push(this.currentAttr),r.location&&this.currentLocation){const i=(t=(n=r.location).attrs)!==null&&t!==void 0?t:n.attrs=Object.create(null);i[this.currentAttr.name]=this.currentLocation,this._leaveAttrValue()}}else this._err(W.duplicateAttribute)}_leaveAttrValue(){this.currentLocation&&(this.currentLocation.endLine=this.preprocessor.line,this.currentLocation.endCol=this.preprocessor.col,this.currentLocation.endOffset=this.preprocessor.offset)}prepareToken(t){this._emitCurrentCharacterToken(t.location),this.currentToken=null,t.location&&(t.location.endLine=this.preprocessor.line,t.location.endCol=this.preprocessor.col+1,t.location.endOffset=this.preprocessor.offset+1),this.currentLocation=this.getCurrentLocation(-1)}emitCurrentTagToken(){const t=this.currentToken;this.prepareToken(t),t.tagID=$p(t.tagName),t.type===st.START_TAG?(this.lastStartTagName=t.tagName,this.handler.onStartTag(t)):(t.attrs.length>0&&this._err(W.endTagWithAttributes),t.selfClosing&&this._err(W.endTagWithTrailingSolidus),this.handler.onEndTag(t)),this.preprocessor.dropParsedChunk()}emitCurrentComment(t){this.prepareToken(t),this.handler.onComment(t),this.preprocessor.dropParsedChunk()}emitCurrentDoctype(t){this.prepareToken(t),this.handler.onDoctype(t),this.preprocessor.dropParsedChunk()}_emitCurrentCharacterToken(t){if(this.currentCharacterToken){switch(t&&this.currentCharacterToken.location&&(this.currentCharacterToken.location.endLine=t.startLine,this.currentCharacterToken.location.endCol=t.startCol,this.currentCharacterToken.location.endOffset=t.startOffset),this.currentCharacterToken.type){case st.CHARACTER:{this.handler.onCharacter(this.currentCharacterToken);break}case st.NULL_CHARACTER:{this.handler.onNullCharacter(this.currentCharacterToken);break}case st.WHITESPACE_CHARACTER:{this.handler.onWhitespaceCharacter(this.currentCharacterToken);break}}this.currentCharacterToken=null}}_emitEOFToken(){const t=this.getCurrentLocation(0);t&&(t.endLine=t.startLine,t.endCol=t.startCol,t.endOffset=t.startOffset),this._emitCurrentCharacterToken(t),this.handler.onEof({type:st.EOF,location:t}),this.active=!1}_appendCharToCurrentCharacterToken(t,n){if(this.currentCharacterToken)if(this.currentCharacterToken.type===t){this.currentCharacterToken.chars+=n;return}else this.currentLocation=this.getCurrentLocation(0),this._emitCurrentCharacterToken(this.currentLocation),this.preprocessor.dropParsedChunk();this._createCharacterToken(t,n)}_emitCodePoint(t){const n=tR(t)?st.WHITESPACE_CHARACTER:t===T.NULL?st.NULL_CHARACTER:st.CHARACTER;this._appendCharToCurrentCharacterToken(n,String.fromCodePoint(t))}_emitChars(t){this._appendCharToCurrentCharacterToken(st.CHARACTER,t)}_startCharacterReference(){this.returnState=this.state,this.state=C.CHARACTER_REFERENCE,this.entityStartPos=this.preprocessor.pos,this.entityDecoder.startEntity(this._isCharacterReferenceInAttribute()?is.Attribute:is.Legacy)}_isCharacterReferenceInAttribute(){return this.returnState===C.ATTRIBUTE_VALUE_DOUBLE_QUOTED||this.returnState===C.ATTRIBUTE_VALUE_SINGLE_QUOTED||this.returnState===C.ATTRIBUTE_VALUE_UNQUOTED}_flushCodePointConsumedAsCharacterReference(t){this._isCharacterReferenceInAttribute()?this.currentAttr.value+=String.fromCodePoint(t):this._emitCodePoint(t)}_callState(t){switch(this.state){case C.DATA:{this._stateData(t);break}case C.RCDATA:{this._stateRcdata(t);break}case C.RAWTEXT:{this._stateRawtext(t);break}case C.SCRIPT_DATA:{this._stateScriptData(t);break}case C.PLAINTEXT:{this._statePlaintext(t);break}case C.TAG_OPEN:{this._stateTagOpen(t);break}case C.END_TAG_OPEN:{this._stateEndTagOpen(t);break}case C.TAG_NAME:{this._stateTagName(t);break}case C.RCDATA_LESS_THAN_SIGN:{this._stateRcdataLessThanSign(t);break}case C.RCDATA_END_TAG_OPEN:{this._stateRcdataEndTagOpen(t);break}case C.RCDATA_END_TAG_NAME:{this._stateRcdataEndTagName(t);break}case C.RAWTEXT_LESS_THAN_SIGN:{this._stateRawtextLessThanSign(t);break}case C.RAWTEXT_END_TAG_OPEN:{this._stateRawtextEndTagOpen(t);break}case C.RAWTEXT_END_TAG_NAME:{this._stateRawtextEndTagName(t);break}case C.SCRIPT_DATA_LESS_THAN_SIGN:{this._stateScriptDataLessThanSign(t);break}case C.SCRIPT_DATA_END_TAG_OPEN:{this._stateScriptDataEndTagOpen(t);break}case C.SCRIPT_DATA_END_TAG_NAME:{this._stateScriptDataEndTagName(t);break}case C.SCRIPT_DATA_ESCAPE_START:{this._stateScriptDataEscapeStart(t);break}case C.SCRIPT_DATA_ESCAPE_START_DASH:{this._stateScriptDataEscapeStartDash(t);break}case C.SCRIPT_DATA_ESCAPED:{this._stateScriptDataEscaped(t);break}case C.SCRIPT_DATA_ESCAPED_DASH:{this._stateScriptDataEscapedDash(t);break}case C.SCRIPT_DATA_ESCAPED_DASH_DASH:{this._stateScriptDataEscapedDashDash(t);break}case C.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN:{this._stateScriptDataEscapedLessThanSign(t);break}case C.SCRIPT_DATA_ESCAPED_END_TAG_OPEN:{this._stateScriptDataEscapedEndTagOpen(t);break}case C.SCRIPT_DATA_ESCAPED_END_TAG_NAME:{this._stateScriptDataEscapedEndTagName(t);break}case C.SCRIPT_DATA_DOUBLE_ESCAPE_START:{this._stateScriptDataDoubleEscapeStart(t);break}case C.SCRIPT_DATA_DOUBLE_ESCAPED:{this._stateScriptDataDoubleEscaped(t);break}case C.SCRIPT_DATA_DOUBLE_ESCAPED_DASH:{this._stateScriptDataDoubleEscapedDash(t);break}case C.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH:{this._stateScriptDataDoubleEscapedDashDash(t);break}case C.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN:{this._stateScriptDataDoubleEscapedLessThanSign(t);break}case C.SCRIPT_DATA_DOUBLE_ESCAPE_END:{this._stateScriptDataDoubleEscapeEnd(t);break}case C.BEFORE_ATTRIBUTE_NAME:{this._stateBeforeAttributeName(t);break}case C.ATTRIBUTE_NAME:{this._stateAttributeName(t);break}case C.AFTER_ATTRIBUTE_NAME:{this._stateAfterAttributeName(t);break}case C.BEFORE_ATTRIBUTE_VALUE:{this._stateBeforeAttributeValue(t);break}case C.ATTRIBUTE_VALUE_DOUBLE_QUOTED:{this._stateAttributeValueDoubleQuoted(t);break}case C.ATTRIBUTE_VALUE_SINGLE_QUOTED:{this._stateAttributeValueSingleQuoted(t);break}case C.ATTRIBUTE_VALUE_UNQUOTED:{this._stateAttributeValueUnquoted(t);break}case C.AFTER_ATTRIBUTE_VALUE_QUOTED:{this._stateAfterAttributeValueQuoted(t);break}case C.SELF_CLOSING_START_TAG:{this._stateSelfClosingStartTag(t);break}case C.BOGUS_COMMENT:{this._stateBogusComment(t);break}case C.MARKUP_DECLARATION_OPEN:{this._stateMarkupDeclarationOpen(t);break}case C.COMMENT_START:{this._stateCommentStart(t);break}case C.COMMENT_START_DASH:{this._stateCommentStartDash(t);break}case C.COMMENT:{this._stateComment(t);break}case C.COMMENT_LESS_THAN_SIGN:{this._stateCommentLessThanSign(t);break}case C.COMMENT_LESS_THAN_SIGN_BANG:{this._stateCommentLessThanSignBang(t);break}case C.COMMENT_LESS_THAN_SIGN_BANG_DASH:{this._stateCommentLessThanSignBangDash(t);break}case C.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH:{this._stateCommentLessThanSignBangDashDash(t);break}case C.COMMENT_END_DASH:{this._stateCommentEndDash(t);break}case C.COMMENT_END:{this._stateCommentEnd(t);break}case C.COMMENT_END_BANG:{this._stateCommentEndBang(t);break}case C.DOCTYPE:{this._stateDoctype(t);break}case C.BEFORE_DOCTYPE_NAME:{this._stateBeforeDoctypeName(t);break}case C.DOCTYPE_NAME:{this._stateDoctypeName(t);break}case C.AFTER_DOCTYPE_NAME:{this._stateAfterDoctypeName(t);break}case C.AFTER_DOCTYPE_PUBLIC_KEYWORD:{this._stateAfterDoctypePublicKeyword(t);break}case C.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER:{this._stateBeforeDoctypePublicIdentifier(t);break}case C.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED:{this._stateDoctypePublicIdentifierDoubleQuoted(t);break}case C.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED:{this._stateDoctypePublicIdentifierSingleQuoted(t);break}case C.AFTER_DOCTYPE_PUBLIC_IDENTIFIER:{this._stateAfterDoctypePublicIdentifier(t);break}case C.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS:{this._stateBetweenDoctypePublicAndSystemIdentifiers(t);break}case C.AFTER_DOCTYPE_SYSTEM_KEYWORD:{this._stateAfterDoctypeSystemKeyword(t);break}case C.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER:{this._stateBeforeDoctypeSystemIdentifier(t);break}case C.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED:{this._stateDoctypeSystemIdentifierDoubleQuoted(t);break}case C.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED:{this._stateDoctypeSystemIdentifierSingleQuoted(t);break}case C.AFTER_DOCTYPE_SYSTEM_IDENTIFIER:{this._stateAfterDoctypeSystemIdentifier(t);break}case C.BOGUS_DOCTYPE:{this._stateBogusDoctype(t);break}case C.CDATA_SECTION:{this._stateCdataSection(t);break}case C.CDATA_SECTION_BRACKET:{this._stateCdataSectionBracket(t);break}case C.CDATA_SECTION_END:{this._stateCdataSectionEnd(t);break}case C.CHARACTER_REFERENCE:{this._stateCharacterReference();break}case C.AMBIGUOUS_AMPERSAND:{this._stateAmbiguousAmpersand(t);break}default:throw new Error("Unknown state")}}_stateData(t){switch(t){case T.LESS_THAN_SIGN:{this.state=C.TAG_OPEN;break}case T.AMPERSAND:{this._startCharacterReference();break}case T.NULL:{this._err(W.unexpectedNullCharacter),this._emitCodePoint(t);break}case T.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateRcdata(t){switch(t){case T.AMPERSAND:{this._startCharacterReference();break}case T.LESS_THAN_SIGN:{this.state=C.RCDATA_LESS_THAN_SIGN;break}case T.NULL:{this._err(W.unexpectedNullCharacter),this._emitChars(Rt);break}case T.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateRawtext(t){switch(t){case T.LESS_THAN_SIGN:{this.state=C.RAWTEXT_LESS_THAN_SIGN;break}case T.NULL:{this._err(W.unexpectedNullCharacter),this._emitChars(Rt);break}case T.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateScriptData(t){switch(t){case T.LESS_THAN_SIGN:{this.state=C.SCRIPT_DATA_LESS_THAN_SIGN;break}case T.NULL:{this._err(W.unexpectedNullCharacter),this._emitChars(Rt);break}case T.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_statePlaintext(t){switch(t){case T.NULL:{this._err(W.unexpectedNullCharacter),this._emitChars(Rt);break}case T.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateTagOpen(t){if(Ns(t))this._createStartTagToken(),this.state=C.TAG_NAME,this._stateTagName(t);else switch(t){case T.EXCLAMATION_MARK:{this.state=C.MARKUP_DECLARATION_OPEN;break}case T.SOLIDUS:{this.state=C.END_TAG_OPEN;break}case T.QUESTION_MARK:{this._err(W.unexpectedQuestionMarkInsteadOfTagName),this._createCommentToken(1),this.state=C.BOGUS_COMMENT,this._stateBogusComment(t);break}case T.EOF:{this._err(W.eofBeforeTagName),this._emitChars("<"),this._emitEOFToken();break}default:this._err(W.invalidFirstCharacterOfTagName),this._emitChars("<"),this.state=C.DATA,this._stateData(t)}}_stateEndTagOpen(t){if(Ns(t))this._createEndTagToken(),this.state=C.TAG_NAME,this._stateTagName(t);else switch(t){case T.GREATER_THAN_SIGN:{this._err(W.missingEndTagName),this.state=C.DATA;break}case T.EOF:{this._err(W.eofBeforeTagName),this._emitChars("</"),this._emitEOFToken();break}default:this._err(W.invalidFirstCharacterOfTagName),this._createCommentToken(2),this.state=C.BOGUS_COMMENT,this._stateBogusComment(t)}}_stateTagName(t){const n=this.currentToken;switch(t){case T.SPACE:case T.LINE_FEED:case T.TABULATION:case T.FORM_FEED:{this.state=C.BEFORE_ATTRIBUTE_NAME;break}case T.SOLIDUS:{this.state=C.SELF_CLOSING_START_TAG;break}case T.GREATER_THAN_SIGN:{this.state=C.DATA,this.emitCurrentTagToken();break}case T.NULL:{this._err(W.unexpectedNullCharacter),n.tagName+=Rt;break}case T.EOF:{this._err(W.eofInTag),this._emitEOFToken();break}default:n.tagName+=String.fromCodePoint(hu(t)?vd(t):t)}}_stateRcdataLessThanSign(t){t===T.SOLIDUS?this.state=C.RCDATA_END_TAG_OPEN:(this._emitChars("<"),this.state=C.RCDATA,this._stateRcdata(t))}_stateRcdataEndTagOpen(t){Ns(t)?(this.state=C.RCDATA_END_TAG_NAME,this._stateRcdataEndTagName(t)):(this._emitChars("</"),this.state=C.RCDATA,this._stateRcdata(t))}handleSpecialEndTag(t){if(!this.preprocessor.startsWith(this.lastStartTagName,!1))return!this._ensureHibernation();this._createEndTagToken();const n=this.currentToken;switch(n.tagName=this.lastStartTagName,this.preprocessor.peek(this.lastStartTagName.length)){case T.SPACE:case T.LINE_FEED:case T.TABULATION:case T.FORM_FEED:return this._advanceBy(this.lastStartTagName.length),this.state=C.BEFORE_ATTRIBUTE_NAME,!1;case T.SOLIDUS:return this._advanceBy(this.lastStartTagName.length),this.state=C.SELF_CLOSING_START_TAG,!1;case T.GREATER_THAN_SIGN:return this._advanceBy(this.lastStartTagName.length),this.emitCurrentTagToken(),this.state=C.DATA,!1;default:return!this._ensureHibernation()}}_stateRcdataEndTagName(t){this.handleSpecialEndTag(t)&&(this._emitChars("</"),this.state=C.RCDATA,this._stateRcdata(t))}_stateRawtextLessThanSign(t){t===T.SOLIDUS?this.state=C.RAWTEXT_END_TAG_OPEN:(this._emitChars("<"),this.state=C.RAWTEXT,this._stateRawtext(t))}_stateRawtextEndTagOpen(t){Ns(t)?(this.state=C.RAWTEXT_END_TAG_NAME,this._stateRawtextEndTagName(t)):(this._emitChars("</"),this.state=C.RAWTEXT,this._stateRawtext(t))}_stateRawtextEndTagName(t){this.handleSpecialEndTag(t)&&(this._emitChars("</"),this.state=C.RAWTEXT,this._stateRawtext(t))}_stateScriptDataLessThanSign(t){switch(t){case T.SOLIDUS:{this.state=C.SCRIPT_DATA_END_TAG_OPEN;break}case T.EXCLAMATION_MARK:{this.state=C.SCRIPT_DATA_ESCAPE_START,this._emitChars("<!");break}default:this._emitChars("<"),this.state=C.SCRIPT_DATA,this._stateScriptData(t)}}_stateScriptDataEndTagOpen(t){Ns(t)?(this.state=C.SCRIPT_DATA_END_TAG_NAME,this._stateScriptDataEndTagName(t)):(this._emitChars("</"),this.state=C.SCRIPT_DATA,this._stateScriptData(t))}_stateScriptDataEndTagName(t){this.handleSpecialEndTag(t)&&(this._emitChars("</"),this.state=C.SCRIPT_DATA,this._stateScriptData(t))}_stateScriptDataEscapeStart(t){t===T.HYPHEN_MINUS?(this.state=C.SCRIPT_DATA_ESCAPE_START_DASH,this._emitChars("-")):(this.state=C.SCRIPT_DATA,this._stateScriptData(t))}_stateScriptDataEscapeStartDash(t){t===T.HYPHEN_MINUS?(this.state=C.SCRIPT_DATA_ESCAPED_DASH_DASH,this._emitChars("-")):(this.state=C.SCRIPT_DATA,this._stateScriptData(t))}_stateScriptDataEscaped(t){switch(t){case T.HYPHEN_MINUS:{this.state=C.SCRIPT_DATA_ESCAPED_DASH,this._emitChars("-");break}case T.LESS_THAN_SIGN:{this.state=C.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case T.NULL:{this._err(W.unexpectedNullCharacter),this._emitChars(Rt);break}case T.EOF:{this._err(W.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateScriptDataEscapedDash(t){switch(t){case T.HYPHEN_MINUS:{this.state=C.SCRIPT_DATA_ESCAPED_DASH_DASH,this._emitChars("-");break}case T.LESS_THAN_SIGN:{this.state=C.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case T.NULL:{this._err(W.unexpectedNullCharacter),this.state=C.SCRIPT_DATA_ESCAPED,this._emitChars(Rt);break}case T.EOF:{this._err(W.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=C.SCRIPT_DATA_ESCAPED,this._emitCodePoint(t)}}_stateScriptDataEscapedDashDash(t){switch(t){case T.HYPHEN_MINUS:{this._emitChars("-");break}case T.LESS_THAN_SIGN:{this.state=C.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case T.GREATER_THAN_SIGN:{this.state=C.SCRIPT_DATA,this._emitChars(">");break}case T.NULL:{this._err(W.unexpectedNullCharacter),this.state=C.SCRIPT_DATA_ESCAPED,this._emitChars(Rt);break}case T.EOF:{this._err(W.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=C.SCRIPT_DATA_ESCAPED,this._emitCodePoint(t)}}_stateScriptDataEscapedLessThanSign(t){t===T.SOLIDUS?this.state=C.SCRIPT_DATA_ESCAPED_END_TAG_OPEN:Ns(t)?(this._emitChars("<"),this.state=C.SCRIPT_DATA_DOUBLE_ESCAPE_START,this._stateScriptDataDoubleEscapeStart(t)):(this._emitChars("<"),this.state=C.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(t))}_stateScriptDataEscapedEndTagOpen(t){Ns(t)?(this.state=C.SCRIPT_DATA_ESCAPED_END_TAG_NAME,this._stateScriptDataEscapedEndTagName(t)):(this._emitChars("</"),this.state=C.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(t))}_stateScriptDataEscapedEndTagName(t){this.handleSpecialEndTag(t)&&(this._emitChars("</"),this.state=C.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(t))}_stateScriptDataDoubleEscapeStart(t){if(this.preprocessor.startsWith(Xn.SCRIPT,!1)&&Ew(this.preprocessor.peek(Xn.SCRIPT.length))){this._emitCodePoint(t);for(let n=0;n<Xn.SCRIPT.length;n++)this._emitCodePoint(this._consume());this.state=C.SCRIPT_DATA_DOUBLE_ESCAPED}else this._ensureHibernation()||(this.state=C.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(t))}_stateScriptDataDoubleEscaped(t){switch(t){case T.HYPHEN_MINUS:{this.state=C.SCRIPT_DATA_DOUBLE_ESCAPED_DASH,this._emitChars("-");break}case T.LESS_THAN_SIGN:{this.state=C.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case T.NULL:{this._err(W.unexpectedNullCharacter),this._emitChars(Rt);break}case T.EOF:{this._err(W.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateScriptDataDoubleEscapedDash(t){switch(t){case T.HYPHEN_MINUS:{this.state=C.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH,this._emitChars("-");break}case T.LESS_THAN_SIGN:{this.state=C.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case T.NULL:{this._err(W.unexpectedNullCharacter),this.state=C.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitChars(Rt);break}case T.EOF:{this._err(W.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=C.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitCodePoint(t)}}_stateScriptDataDoubleEscapedDashDash(t){switch(t){case T.HYPHEN_MINUS:{this._emitChars("-");break}case T.LESS_THAN_SIGN:{this.state=C.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case T.GREATER_THAN_SIGN:{this.state=C.SCRIPT_DATA,this._emitChars(">");break}case T.NULL:{this._err(W.unexpectedNullCharacter),this.state=C.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitChars(Rt);break}case T.EOF:{this._err(W.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=C.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitCodePoint(t)}}_stateScriptDataDoubleEscapedLessThanSign(t){t===T.SOLIDUS?(this.state=C.SCRIPT_DATA_DOUBLE_ESCAPE_END,this._emitChars("/")):(this.state=C.SCRIPT_DATA_DOUBLE_ESCAPED,this._stateScriptDataDoubleEscaped(t))}_stateScriptDataDoubleEscapeEnd(t){if(this.preprocessor.startsWith(Xn.SCRIPT,!1)&&Ew(this.preprocessor.peek(Xn.SCRIPT.length))){this._emitCodePoint(t);for(let n=0;n<Xn.SCRIPT.length;n++)this._emitCodePoint(this._consume());this.state=C.SCRIPT_DATA_ESCAPED}else this._ensureHibernation()||(this.state=C.SCRIPT_DATA_DOUBLE_ESCAPED,this._stateScriptDataDoubleEscaped(t))}_stateBeforeAttributeName(t){switch(t){case T.SPACE:case T.LINE_FEED:case T.TABULATION:case T.FORM_FEED:break;case T.SOLIDUS:case T.GREATER_THAN_SIGN:case T.EOF:{this.state=C.AFTER_ATTRIBUTE_NAME,this._stateAfterAttributeName(t);break}case T.EQUALS_SIGN:{this._err(W.unexpectedEqualsSignBeforeAttributeName),this._createAttr("="),this.state=C.ATTRIBUTE_NAME;break}default:this._createAttr(""),this.state=C.ATTRIBUTE_NAME,this._stateAttributeName(t)}}_stateAttributeName(t){switch(t){case T.SPACE:case T.LINE_FEED:case T.TABULATION:case T.FORM_FEED:case T.SOLIDUS:case T.GREATER_THAN_SIGN:case T.EOF:{this._leaveAttrName(),this.state=C.AFTER_ATTRIBUTE_NAME,this._stateAfterAttributeName(t);break}case T.EQUALS_SIGN:{this._leaveAttrName(),this.state=C.BEFORE_ATTRIBUTE_VALUE;break}case T.QUOTATION_MARK:case T.APOSTROPHE:case T.LESS_THAN_SIGN:{this._err(W.unexpectedCharacterInAttributeName),this.currentAttr.name+=String.fromCodePoint(t);break}case T.NULL:{this._err(W.unexpectedNullCharacter),this.currentAttr.name+=Rt;break}default:this.currentAttr.name+=String.fromCodePoint(hu(t)?vd(t):t)}}_stateAfterAttributeName(t){switch(t){case T.SPACE:case T.LINE_FEED:case T.TABULATION:case T.FORM_FEED:break;case T.SOLIDUS:{this.state=C.SELF_CLOSING_START_TAG;break}case T.EQUALS_SIGN:{this.state=C.BEFORE_ATTRIBUTE_VALUE;break}case T.GREATER_THAN_SIGN:{this.state=C.DATA,this.emitCurrentTagToken();break}case T.EOF:{this._err(W.eofInTag),this._emitEOFToken();break}default:this._createAttr(""),this.state=C.ATTRIBUTE_NAME,this._stateAttributeName(t)}}_stateBeforeAttributeValue(t){switch(t){case T.SPACE:case T.LINE_FEED:case T.TABULATION:case T.FORM_FEED:break;case T.QUOTATION_MARK:{this.state=C.ATTRIBUTE_VALUE_DOUBLE_QUOTED;break}case T.APOSTROPHE:{this.state=C.ATTRIBUTE_VALUE_SINGLE_QUOTED;break}case T.GREATER_THAN_SIGN:{this._err(W.missingAttributeValue),this.state=C.DATA,this.emitCurrentTagToken();break}default:this.state=C.ATTRIBUTE_VALUE_UNQUOTED,this._stateAttributeValueUnquoted(t)}}_stateAttributeValueDoubleQuoted(t){switch(t){case T.QUOTATION_MARK:{this.state=C.AFTER_ATTRIBUTE_VALUE_QUOTED;break}case T.AMPERSAND:{this._startCharacterReference();break}case T.NULL:{this._err(W.unexpectedNullCharacter),this.currentAttr.value+=Rt;break}case T.EOF:{this._err(W.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(t)}}_stateAttributeValueSingleQuoted(t){switch(t){case T.APOSTROPHE:{this.state=C.AFTER_ATTRIBUTE_VALUE_QUOTED;break}case T.AMPERSAND:{this._startCharacterReference();break}case T.NULL:{this._err(W.unexpectedNullCharacter),this.currentAttr.value+=Rt;break}case T.EOF:{this._err(W.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(t)}}_stateAttributeValueUnquoted(t){switch(t){case T.SPACE:case T.LINE_FEED:case T.TABULATION:case T.FORM_FEED:{this._leaveAttrValue(),this.state=C.BEFORE_ATTRIBUTE_NAME;break}case T.AMPERSAND:{this._startCharacterReference();break}case T.GREATER_THAN_SIGN:{this._leaveAttrValue(),this.state=C.DATA,this.emitCurrentTagToken();break}case T.NULL:{this._err(W.unexpectedNullCharacter),this.currentAttr.value+=Rt;break}case T.QUOTATION_MARK:case T.APOSTROPHE:case T.LESS_THAN_SIGN:case T.EQUALS_SIGN:case T.GRAVE_ACCENT:{this._err(W.unexpectedCharacterInUnquotedAttributeValue),this.currentAttr.value+=String.fromCodePoint(t);break}case T.EOF:{this._err(W.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(t)}}_stateAfterAttributeValueQuoted(t){switch(t){case T.SPACE:case T.LINE_FEED:case T.TABULATION:case T.FORM_FEED:{this._leaveAttrValue(),this.state=C.BEFORE_ATTRIBUTE_NAME;break}case T.SOLIDUS:{this._leaveAttrValue(),this.state=C.SELF_CLOSING_START_TAG;break}case T.GREATER_THAN_SIGN:{this._leaveAttrValue(),this.state=C.DATA,this.emitCurrentTagToken();break}case T.EOF:{this._err(W.eofInTag),this._emitEOFToken();break}default:this._err(W.missingWhitespaceBetweenAttributes),this.state=C.BEFORE_ATTRIBUTE_NAME,this._stateBeforeAttributeName(t)}}_stateSelfClosingStartTag(t){switch(t){case T.GREATER_THAN_SIGN:{const n=this.currentToken;n.selfClosing=!0,this.state=C.DATA,this.emitCurrentTagToken();break}case T.EOF:{this._err(W.eofInTag),this._emitEOFToken();break}default:this._err(W.unexpectedSolidusInTag),this.state=C.BEFORE_ATTRIBUTE_NAME,this._stateBeforeAttributeName(t)}}_stateBogusComment(t){const n=this.currentToken;switch(t){case T.GREATER_THAN_SIGN:{this.state=C.DATA,this.emitCurrentComment(n);break}case T.EOF:{this.emitCurrentComment(n),this._emitEOFToken();break}case T.NULL:{this._err(W.unexpectedNullCharacter),n.data+=Rt;break}default:n.data+=String.fromCodePoint(t)}}_stateMarkupDeclarationOpen(t){this._consumeSequenceIfMatch(Xn.DASH_DASH,!0)?(this._createCommentToken(Xn.DASH_DASH.length+1),this.state=C.COMMENT_START):this._consumeSequenceIfMatch(Xn.DOCTYPE,!1)?(this.currentLocation=this.getCurrentLocation(Xn.DOCTYPE.length+1),this.state=C.DOCTYPE):this._consumeSequenceIfMatch(Xn.CDATA_START,!0)?this.inForeignNode?this.state=C.CDATA_SECTION:(this._err(W.cdataInHtmlContent),this._createCommentToken(Xn.CDATA_START.length+1),this.currentToken.data="[CDATA[",this.state=C.BOGUS_COMMENT):this._ensureHibernation()||(this._err(W.incorrectlyOpenedComment),this._createCommentToken(2),this.state=C.BOGUS_COMMENT,this._stateBogusComment(t))}_stateCommentStart(t){switch(t){case T.HYPHEN_MINUS:{this.state=C.COMMENT_START_DASH;break}case T.GREATER_THAN_SIGN:{this._err(W.abruptClosingOfEmptyComment),this.state=C.DATA;const n=this.currentToken;this.emitCurrentComment(n);break}default:this.state=C.COMMENT,this._stateComment(t)}}_stateCommentStartDash(t){const n=this.currentToken;switch(t){case T.HYPHEN_MINUS:{this.state=C.COMMENT_END;break}case T.GREATER_THAN_SIGN:{this._err(W.abruptClosingOfEmptyComment),this.state=C.DATA,this.emitCurrentComment(n);break}case T.EOF:{this._err(W.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+="-",this.state=C.COMMENT,this._stateComment(t)}}_stateComment(t){const n=this.currentToken;switch(t){case T.HYPHEN_MINUS:{this.state=C.COMMENT_END_DASH;break}case T.LESS_THAN_SIGN:{n.data+="<",this.state=C.COMMENT_LESS_THAN_SIGN;break}case T.NULL:{this._err(W.unexpectedNullCharacter),n.data+=Rt;break}case T.EOF:{this._err(W.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+=String.fromCodePoint(t)}}_stateCommentLessThanSign(t){const n=this.currentToken;switch(t){case T.EXCLAMATION_MARK:{n.data+="!",this.state=C.COMMENT_LESS_THAN_SIGN_BANG;break}case T.LESS_THAN_SIGN:{n.data+="<";break}default:this.state=C.COMMENT,this._stateComment(t)}}_stateCommentLessThanSignBang(t){t===T.HYPHEN_MINUS?this.state=C.COMMENT_LESS_THAN_SIGN_BANG_DASH:(this.state=C.COMMENT,this._stateComment(t))}_stateCommentLessThanSignBangDash(t){t===T.HYPHEN_MINUS?this.state=C.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH:(this.state=C.COMMENT_END_DASH,this._stateCommentEndDash(t))}_stateCommentLessThanSignBangDashDash(t){t!==T.GREATER_THAN_SIGN&&t!==T.EOF&&this._err(W.nestedComment),this.state=C.COMMENT_END,this._stateCommentEnd(t)}_stateCommentEndDash(t){const n=this.currentToken;switch(t){case T.HYPHEN_MINUS:{this.state=C.COMMENT_END;break}case T.EOF:{this._err(W.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+="-",this.state=C.COMMENT,this._stateComment(t)}}_stateCommentEnd(t){const n=this.currentToken;switch(t){case T.GREATER_THAN_SIGN:{this.state=C.DATA,this.emitCurrentComment(n);break}case T.EXCLAMATION_MARK:{this.state=C.COMMENT_END_BANG;break}case T.HYPHEN_MINUS:{n.data+="-";break}case T.EOF:{this._err(W.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+="--",this.state=C.COMMENT,this._stateComment(t)}}_stateCommentEndBang(t){const n=this.currentToken;switch(t){case T.HYPHEN_MINUS:{n.data+="--!",this.state=C.COMMENT_END_DASH;break}case T.GREATER_THAN_SIGN:{this._err(W.incorrectlyClosedComment),this.state=C.DATA,this.emitCurrentComment(n);break}case T.EOF:{this._err(W.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+="--!",this.state=C.COMMENT,this._stateComment(t)}}_stateDoctype(t){switch(t){case T.SPACE:case T.LINE_FEED:case T.TABULATION:case T.FORM_FEED:{this.state=C.BEFORE_DOCTYPE_NAME;break}case T.GREATER_THAN_SIGN:{this.state=C.BEFORE_DOCTYPE_NAME,this._stateBeforeDoctypeName(t);break}case T.EOF:{this._err(W.eofInDoctype),this._createDoctypeToken(null);const n=this.currentToken;n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(W.missingWhitespaceBeforeDoctypeName),this.state=C.BEFORE_DOCTYPE_NAME,this._stateBeforeDoctypeName(t)}}_stateBeforeDoctypeName(t){if(hu(t))this._createDoctypeToken(String.fromCharCode(vd(t))),this.state=C.DOCTYPE_NAME;else switch(t){case T.SPACE:case T.LINE_FEED:case T.TABULATION:case T.FORM_FEED:break;case T.NULL:{this._err(W.unexpectedNullCharacter),this._createDoctypeToken(Rt),this.state=C.DOCTYPE_NAME;break}case T.GREATER_THAN_SIGN:{this._err(W.missingDoctypeName),this._createDoctypeToken(null);const n=this.currentToken;n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=C.DATA;break}case T.EOF:{this._err(W.eofInDoctype),this._createDoctypeToken(null);const n=this.currentToken;n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._createDoctypeToken(String.fromCodePoint(t)),this.state=C.DOCTYPE_NAME}}_stateDoctypeName(t){const n=this.currentToken;switch(t){case T.SPACE:case T.LINE_FEED:case T.TABULATION:case T.FORM_FEED:{this.state=C.AFTER_DOCTYPE_NAME;break}case T.GREATER_THAN_SIGN:{this.state=C.DATA,this.emitCurrentDoctype(n);break}case T.NULL:{this._err(W.unexpectedNullCharacter),n.name+=Rt;break}case T.EOF:{this._err(W.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.name+=String.fromCodePoint(hu(t)?vd(t):t)}}_stateAfterDoctypeName(t){const n=this.currentToken;switch(t){case T.SPACE:case T.LINE_FEED:case T.TABULATION:case T.FORM_FEED:break;case T.GREATER_THAN_SIGN:{this.state=C.DATA,this.emitCurrentDoctype(n);break}case T.EOF:{this._err(W.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._consumeSequenceIfMatch(Xn.PUBLIC,!1)?this.state=C.AFTER_DOCTYPE_PUBLIC_KEYWORD:this._consumeSequenceIfMatch(Xn.SYSTEM,!1)?this.state=C.AFTER_DOCTYPE_SYSTEM_KEYWORD:this._ensureHibernation()||(this._err(W.invalidCharacterSequenceAfterDoctypeName),n.forceQuirks=!0,this.state=C.BOGUS_DOCTYPE,this._stateBogusDoctype(t))}}_stateAfterDoctypePublicKeyword(t){const n=this.currentToken;switch(t){case T.SPACE:case T.LINE_FEED:case T.TABULATION:case T.FORM_FEED:{this.state=C.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER;break}case T.QUOTATION_MARK:{this._err(W.missingWhitespaceAfterDoctypePublicKeyword),n.publicId="",this.state=C.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED;break}case T.APOSTROPHE:{this._err(W.missingWhitespaceAfterDoctypePublicKeyword),n.publicId="",this.state=C.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED;break}case T.GREATER_THAN_SIGN:{this._err(W.missingDoctypePublicIdentifier),n.forceQuirks=!0,this.state=C.DATA,this.emitCurrentDoctype(n);break}case T.EOF:{this._err(W.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(W.missingQuoteBeforeDoctypePublicIdentifier),n.forceQuirks=!0,this.state=C.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateBeforeDoctypePublicIdentifier(t){const n=this.currentToken;switch(t){case T.SPACE:case T.LINE_FEED:case T.TABULATION:case T.FORM_FEED:break;case T.QUOTATION_MARK:{n.publicId="",this.state=C.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED;break}case T.APOSTROPHE:{n.publicId="",this.state=C.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED;break}case T.GREATER_THAN_SIGN:{this._err(W.missingDoctypePublicIdentifier),n.forceQuirks=!0,this.state=C.DATA,this.emitCurrentDoctype(n);break}case T.EOF:{this._err(W.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(W.missingQuoteBeforeDoctypePublicIdentifier),n.forceQuirks=!0,this.state=C.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateDoctypePublicIdentifierDoubleQuoted(t){const n=this.currentToken;switch(t){case T.QUOTATION_MARK:{this.state=C.AFTER_DOCTYPE_PUBLIC_IDENTIFIER;break}case T.NULL:{this._err(W.unexpectedNullCharacter),n.publicId+=Rt;break}case T.GREATER_THAN_SIGN:{this._err(W.abruptDoctypePublicIdentifier),n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=C.DATA;break}case T.EOF:{this._err(W.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.publicId+=String.fromCodePoint(t)}}_stateDoctypePublicIdentifierSingleQuoted(t){const n=this.currentToken;switch(t){case T.APOSTROPHE:{this.state=C.AFTER_DOCTYPE_PUBLIC_IDENTIFIER;break}case T.NULL:{this._err(W.unexpectedNullCharacter),n.publicId+=Rt;break}case T.GREATER_THAN_SIGN:{this._err(W.abruptDoctypePublicIdentifier),n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=C.DATA;break}case T.EOF:{this._err(W.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.publicId+=String.fromCodePoint(t)}}_stateAfterDoctypePublicIdentifier(t){const n=this.currentToken;switch(t){case T.SPACE:case T.LINE_FEED:case T.TABULATION:case T.FORM_FEED:{this.state=C.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS;break}case T.GREATER_THAN_SIGN:{this.state=C.DATA,this.emitCurrentDoctype(n);break}case T.QUOTATION_MARK:{this._err(W.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers),n.systemId="",this.state=C.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case T.APOSTROPHE:{this._err(W.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers),n.systemId="",this.state=C.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case T.EOF:{this._err(W.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(W.missingQuoteBeforeDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=C.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateBetweenDoctypePublicAndSystemIdentifiers(t){const n=this.currentToken;switch(t){case T.SPACE:case T.LINE_FEED:case T.TABULATION:case T.FORM_FEED:break;case T.GREATER_THAN_SIGN:{this.emitCurrentDoctype(n),this.state=C.DATA;break}case T.QUOTATION_MARK:{n.systemId="",this.state=C.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case T.APOSTROPHE:{n.systemId="",this.state=C.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case T.EOF:{this._err(W.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(W.missingQuoteBeforeDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=C.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateAfterDoctypeSystemKeyword(t){const n=this.currentToken;switch(t){case T.SPACE:case T.LINE_FEED:case T.TABULATION:case T.FORM_FEED:{this.state=C.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER;break}case T.QUOTATION_MARK:{this._err(W.missingWhitespaceAfterDoctypeSystemKeyword),n.systemId="",this.state=C.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case T.APOSTROPHE:{this._err(W.missingWhitespaceAfterDoctypeSystemKeyword),n.systemId="",this.state=C.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case T.GREATER_THAN_SIGN:{this._err(W.missingDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=C.DATA,this.emitCurrentDoctype(n);break}case T.EOF:{this._err(W.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(W.missingQuoteBeforeDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=C.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateBeforeDoctypeSystemIdentifier(t){const n=this.currentToken;switch(t){case T.SPACE:case T.LINE_FEED:case T.TABULATION:case T.FORM_FEED:break;case T.QUOTATION_MARK:{n.systemId="",this.state=C.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case T.APOSTROPHE:{n.systemId="",this.state=C.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case T.GREATER_THAN_SIGN:{this._err(W.missingDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=C.DATA,this.emitCurrentDoctype(n);break}case T.EOF:{this._err(W.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(W.missingQuoteBeforeDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=C.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateDoctypeSystemIdentifierDoubleQuoted(t){const n=this.currentToken;switch(t){case T.QUOTATION_MARK:{this.state=C.AFTER_DOCTYPE_SYSTEM_IDENTIFIER;break}case T.NULL:{this._err(W.unexpectedNullCharacter),n.systemId+=Rt;break}case T.GREATER_THAN_SIGN:{this._err(W.abruptDoctypeSystemIdentifier),n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=C.DATA;break}case T.EOF:{this._err(W.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.systemId+=String.fromCodePoint(t)}}_stateDoctypeSystemIdentifierSingleQuoted(t){const n=this.currentToken;switch(t){case T.APOSTROPHE:{this.state=C.AFTER_DOCTYPE_SYSTEM_IDENTIFIER;break}case T.NULL:{this._err(W.unexpectedNullCharacter),n.systemId+=Rt;break}case T.GREATER_THAN_SIGN:{this._err(W.abruptDoctypeSystemIdentifier),n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=C.DATA;break}case T.EOF:{this._err(W.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.systemId+=String.fromCodePoint(t)}}_stateAfterDoctypeSystemIdentifier(t){const n=this.currentToken;switch(t){case T.SPACE:case T.LINE_FEED:case T.TABULATION:case T.FORM_FEED:break;case T.GREATER_THAN_SIGN:{this.emitCurrentDoctype(n),this.state=C.DATA;break}case T.EOF:{this._err(W.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(W.unexpectedCharacterAfterDoctypeSystemIdentifier),this.state=C.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateBogusDoctype(t){const n=this.currentToken;switch(t){case T.GREATER_THAN_SIGN:{this.emitCurrentDoctype(n),this.state=C.DATA;break}case T.NULL:{this._err(W.unexpectedNullCharacter);break}case T.EOF:{this.emitCurrentDoctype(n),this._emitEOFToken();break}}}_stateCdataSection(t){switch(t){case T.RIGHT_SQUARE_BRACKET:{this.state=C.CDATA_SECTION_BRACKET;break}case T.EOF:{this._err(W.eofInCdata),this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateCdataSectionBracket(t){t===T.RIGHT_SQUARE_BRACKET?this.state=C.CDATA_SECTION_END:(this._emitChars("]"),this.state=C.CDATA_SECTION,this._stateCdataSection(t))}_stateCdataSectionEnd(t){switch(t){case T.GREATER_THAN_SIGN:{this.state=C.DATA;break}case T.RIGHT_SQUARE_BRACKET:{this._emitChars("]");break}default:this._emitChars("]]"),this.state=C.CDATA_SECTION,this._stateCdataSection(t)}}_stateCharacterReference(){let t=this.entityDecoder.write(this.preprocessor.html,this.preprocessor.pos);if(t<0)if(this.preprocessor.lastChunkWritten)t=this.entityDecoder.end();else{this.active=!1,this.preprocessor.pos=this.preprocessor.html.length-1,this.consumedAfterSnapshot=0,this.preprocessor.endOfChunkHit=!0;return}t===0?(this.preprocessor.pos=this.entityStartPos,this._flushCodePointConsumedAsCharacterReference(T.AMPERSAND),this.state=!this._isCharacterReferenceInAttribute()&&_w(this.preprocessor.peek(1))?C.AMBIGUOUS_AMPERSAND:this.returnState):this.state=this.returnState}_stateAmbiguousAmpersand(t){_w(t)?this._flushCodePointConsumedAsCharacterReference(t):(t===T.SEMICOLON&&this._err(W.unknownNamedCharacterReference),this.state=this.returnState,this._callState(t))}}const nR=new Set([h.DD,h.DT,h.LI,h.OPTGROUP,h.OPTION,h.P,h.RB,h.RP,h.RT,h.RTC]),vw=new Set([...nR,h.CAPTION,h.COLGROUP,h.TBODY,h.TD,h.TFOOT,h.TH,h.THEAD,h.TR]),$f=new Set([h.APPLET,h.CAPTION,h.HTML,h.MARQUEE,h.OBJECT,h.TABLE,h.TD,h.TEMPLATE,h.TH]),wq=new Set([...$f,h.OL,h.UL]),xq=new Set([...$f,h.BUTTON]),Tw=new Set([h.ANNOTATION_XML,h.MI,h.MN,h.MO,h.MS,h.MTEXT]),ww=new Set([h.DESC,h.FOREIGN_OBJECT,h.TITLE]),Cq=new Set([h.TR,h.TEMPLATE,h.HTML]),Sq=new Set([h.TBODY,h.TFOOT,h.THEAD,h.TEMPLATE,h.HTML]),Aq=new Set([h.TABLE,h.TEMPLATE,h.HTML]),Oq=new Set([h.TD,h.TH]);class kq{get currentTmplContentOrNode(){return this._isInTemplate()?this.treeAdapter.getTemplateContent(this.current):this.current}constructor(t,n,r){this.treeAdapter=n,this.handler=r,this.items=[],this.tagIDs=[],this.stackTop=-1,this.tmplCount=0,this.currentTagId=h.UNKNOWN,this.current=t}_indexOf(t){return this.items.lastIndexOf(t,this.stackTop)}_isInTemplate(){return this.currentTagId===h.TEMPLATE&&this.treeAdapter.getNamespaceURI(this.current)===re.HTML}_updateCurrentElement(){this.current=this.items[this.stackTop],this.currentTagId=this.tagIDs[this.stackTop]}push(t,n){this.stackTop++,this.items[this.stackTop]=t,this.current=t,this.tagIDs[this.stackTop]=n,this.currentTagId=n,this._isInTemplate()&&this.tmplCount++,this.handler.onItemPush(t,n,!0)}pop(){const t=this.current;this.tmplCount>0&&this._isInTemplate()&&this.tmplCount--,this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(t,!0)}replace(t,n){const r=this._indexOf(t);this.items[r]=n,r===this.stackTop&&(this.current=n)}insertAfter(t,n,r){const i=this._indexOf(t)+1;this.items.splice(i,0,n),this.tagIDs.splice(i,0,r),this.stackTop++,i===this.stackTop&&this._updateCurrentElement(),this.handler.onItemPush(this.current,this.currentTagId,i===this.stackTop)}popUntilTagNamePopped(t){let n=this.stackTop+1;do n=this.tagIDs.lastIndexOf(t,n-1);while(n>0&&this.treeAdapter.getNamespaceURI(this.items[n])!==re.HTML);this.shortenToLength(n<0?0:n)}shortenToLength(t){for(;this.stackTop>=t;){const n=this.current;this.tmplCount>0&&this._isInTemplate()&&(this.tmplCount-=1),this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(n,this.stackTop<t)}}popUntilElementPopped(t){const n=this._indexOf(t);this.shortenToLength(n<0?0:n)}popUntilPopped(t,n){const r=this._indexOfTagNames(t,n);this.shortenToLength(r<0?0:r)}popUntilNumberedHeaderPopped(){this.popUntilPopped(f1,re.HTML)}popUntilTableCellPopped(){this.popUntilPopped(Oq,re.HTML)}popAllUpToHtmlElement(){this.tmplCount=0,this.shortenToLength(1)}_indexOfTagNames(t,n){for(let r=this.stackTop;r>=0;r--)if(t.has(this.tagIDs[r])&&this.treeAdapter.getNamespaceURI(this.items[r])===n)return r;return-1}clearBackTo(t,n){const r=this._indexOfTagNames(t,n);this.shortenToLength(r+1)}clearBackToTableContext(){this.clearBackTo(Aq,re.HTML)}clearBackToTableBodyContext(){this.clearBackTo(Sq,re.HTML)}clearBackToTableRowContext(){this.clearBackTo(Cq,re.HTML)}remove(t){const n=this._indexOf(t);n>=0&&(n===this.stackTop?this.pop():(this.items.splice(n,1),this.tagIDs.splice(n,1),this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(t,!1)))}tryPeekProperlyNestedBodyElement(){return this.stackTop>=1&&this.tagIDs[1]===h.BODY?this.items[1]:null}contains(t){return this._indexOf(t)>-1}getCommonAncestor(t){const n=this._indexOf(t)-1;return n>=0?this.items[n]:null}isRootHtmlElementCurrent(){return this.stackTop===0&&this.tagIDs[0]===h.HTML}hasInDynamicScope(t,n){for(let r=this.stackTop;r>=0;r--){const i=this.tagIDs[r];switch(this.treeAdapter.getNamespaceURI(this.items[r])){case re.HTML:{if(i===t)return!0;if(n.has(i))return!1;break}case re.SVG:{if(ww.has(i))return!1;break}case re.MATHML:{if(Tw.has(i))return!1;break}}}return!0}hasInScope(t){return this.hasInDynamicScope(t,$f)}hasInListItemScope(t){return this.hasInDynamicScope(t,wq)}hasInButtonScope(t){return this.hasInDynamicScope(t,xq)}hasNumberedHeaderInScope(){for(let t=this.stackTop;t>=0;t--){const n=this.tagIDs[t];switch(this.treeAdapter.getNamespaceURI(this.items[t])){case re.HTML:{if(f1.has(n))return!0;if($f.has(n))return!1;break}case re.SVG:{if(ww.has(n))return!1;break}case re.MATHML:{if(Tw.has(n))return!1;break}}}return!0}hasInTableScope(t){for(let n=this.stackTop;n>=0;n--)if(this.treeAdapter.getNamespaceURI(this.items[n])===re.HTML)switch(this.tagIDs[n]){case t:return!0;case h.TABLE:case h.HTML:return!1}return!0}hasTableBodyContextInTableScope(){for(let t=this.stackTop;t>=0;t--)if(this.treeAdapter.getNamespaceURI(this.items[t])===re.HTML)switch(this.tagIDs[t]){case h.TBODY:case h.THEAD:case h.TFOOT:return!0;case h.TABLE:case h.HTML:return!1}return!0}hasInSelectScope(t){for(let n=this.stackTop;n>=0;n--)if(this.treeAdapter.getNamespaceURI(this.items[n])===re.HTML)switch(this.tagIDs[n]){case t:return!0;case h.OPTION:case h.OPTGROUP:break;default:return!1}return!0}generateImpliedEndTags(){for(;nR.has(this.currentTagId);)this.pop()}generateImpliedEndTagsThoroughly(){for(;vw.has(this.currentTagId);)this.pop()}generateImpliedEndTagsWithExclusion(t){for(;this.currentTagId!==t&&vw.has(this.currentTagId);)this.pop()}}const im=3;var Ai;(function(e){e[e.Marker=0]="Marker",e[e.Element=1]="Element"})(Ai||(Ai={}));const xw={type:Ai.Marker};class Iq{constructor(t){this.treeAdapter=t,this.entries=[],this.bookmark=null}_getNoahArkConditionCandidates(t,n){const r=[],i=n.length,s=this.treeAdapter.getTagName(t),o=this.treeAdapter.getNamespaceURI(t);for(let a=0;a<this.entries.length;a++){const l=this.entries[a];if(l.type===Ai.Marker)break;const{element:u}=l;if(this.treeAdapter.getTagName(u)===s&&this.treeAdapter.getNamespaceURI(u)===o){const c=this.treeAdapter.getAttrList(u);c.length===i&&r.push({idx:a,attrs:c})}}return r}_ensureNoahArkCondition(t){if(this.entries.length<im)return;const n=this.treeAdapter.getAttrList(t),r=this._getNoahArkConditionCandidates(t,n);if(r.length<im)return;const i=new Map(n.map(o=>[o.name,o.value]));let s=0;for(let o=0;o<r.length;o++){const a=r[o];a.attrs.every(l=>i.get(l.name)===l.value)&&(s+=1,s>=im&&this.entries.splice(a.idx,1))}}insertMarker(){this.entries.unshift(xw)}pushElement(t,n){this._ensureNoahArkCondition(t),this.entries.unshift({type:Ai.Element,element:t,token:n})}insertElementAfterBookmark(t,n){const r=this.entries.indexOf(this.bookmark);this.entries.splice(r,0,{type:Ai.Element,element:t,token:n})}removeEntry(t){const n=this.entries.indexOf(t);n>=0&&this.entries.splice(n,1)}clearToLastMarker(){const t=this.entries.indexOf(xw);t>=0?this.entries.splice(0,t+1):this.entries.length=0}getElementEntryInScopeWithTagName(t){const n=this.entries.find(r=>r.type===Ai.Marker||this.treeAdapter.getTagName(r.element)===t);return n&&n.type===Ai.Element?n:null}getElementEntry(t){return this.entries.find(n=>n.type===Ai.Element&&n.element===t)}}const Rs={createDocument(){return{nodeName:"#document",mode:Or.NO_QUIRKS,childNodes:[]}},createDocumentFragment(){return{nodeName:"#document-fragment",childNodes:[]}},createElement(e,t,n){return{nodeName:e,tagName:e,attrs:n,namespaceURI:t,childNodes:[],parentNode:null}},createCommentNode(e){return{nodeName:"#comment",data:e,parentNode:null}},createTextNode(e){return{nodeName:"#text",value:e,parentNode:null}},appendChild(e,t){e.childNodes.push(t),t.parentNode=e},insertBefore(e,t,n){const r=e.childNodes.indexOf(n);e.childNodes.splice(r,0,t),t.parentNode=e},setTemplateContent(e,t){e.content=t},getTemplateContent(e){return e.content},setDocumentType(e,t,n,r){const i=e.childNodes.find(s=>s.nodeName==="#documentType");if(i)i.name=t,i.publicId=n,i.systemId=r;else{const s={nodeName:"#documentType",name:t,publicId:n,systemId:r,parentNode:null};Rs.appendChild(e,s)}},setDocumentMode(e,t){e.mode=t},getDocumentMode(e){return e.mode},detachNode(e){if(e.parentNode){const t=e.parentNode.childNodes.indexOf(e);e.parentNode.childNodes.splice(t,1),e.parentNode=null}},insertText(e,t){if(e.childNodes.length>0){const n=e.childNodes[e.childNodes.length-1];if(Rs.isTextNode(n)){n.value+=t;return}}Rs.appendChild(e,Rs.createTextNode(t))},insertTextBefore(e,t,n){const r=e.childNodes[e.childNodes.indexOf(n)-1];r&&Rs.isTextNode(r)?r.value+=t:Rs.insertBefore(e,Rs.createTextNode(t),n)},adoptAttributes(e,t){const n=new Set(e.attrs.map(r=>r.name));for(let r=0;r<t.length;r++)n.has(t[r].name)||e.attrs.push(t[r])},getFirstChild(e){return e.childNodes[0]},getChildNodes(e){return e.childNodes},getParentNode(e){return e.parentNode},getAttrList(e){return e.attrs},getTagName(e){return e.tagName},getNamespaceURI(e){return e.namespaceURI},getTextNodeContent(e){return e.value},getCommentNodeContent(e){return e.data},getDocumentTypeNodeName(e){return e.name},getDocumentTypeNodePublicId(e){return e.publicId},getDocumentTypeNodeSystemId(e){return e.systemId},isTextNode(e){return e.nodeName==="#text"},isCommentNode(e){return e.nodeName==="#comment"},isDocumentTypeNode(e){return e.nodeName==="#documentType"},isElementNode(e){return Object.prototype.hasOwnProperty.call(e,"tagName")},setNodeSourceCodeLocation(e,t){e.sourceCodeLocation=t},getNodeSourceCodeLocation(e){return e.sourceCodeLocation},updateNodeSourceCodeLocation(e,t){e.sourceCodeLocation={...e.sourceCodeLocation,...t}}},rR="html",Nq="about:legacy-compat",Rq="http://www.ibm.com/data/dtd/v11/ibmxhtml1-transitional.dtd",iR=["+//silmaril//dtd html pro v0r11 19970101//","-//as//dtd html 3.0 aswedit + extensions//","-//advasoft ltd//dtd html 3.0 aswedit + extensions//","-//ietf//dtd html 2.0 level 1//","-//ietf//dtd html 2.0 level 2//","-//ietf//dtd html 2.0 strict level 1//","-//ietf//dtd html 2.0 strict level 2//","-//ietf//dtd html 2.0 strict//","-//ietf//dtd html 2.0//","-//ietf//dtd html 2.1e//","-//ietf//dtd html 3.0//","-//ietf//dtd html 3.2 final//","-//ietf//dtd html 3.2//","-//ietf//dtd html 3//","-//ietf//dtd html level 0//","-//ietf//dtd html level 1//","-//ietf//dtd html level 2//","-//ietf//dtd html level 3//","-//ietf//dtd html strict level 0//","-//ietf//dtd html strict level 1//","-//ietf//dtd html strict level 2//","-//ietf//dtd html strict level 3//","-//ietf//dtd html strict//","-//ietf//dtd html//","-//metrius//dtd metrius presentational//","-//microsoft//dtd internet explorer 2.0 html strict//","-//microsoft//dtd internet explorer 2.0 html//","-//microsoft//dtd internet explorer 2.0 tables//","-//microsoft//dtd internet explorer 3.0 html strict//","-//microsoft//dtd internet explorer 3.0 html//","-//microsoft//dtd internet explorer 3.0 tables//","-//netscape comm. corp.//dtd html//","-//netscape comm. corp.//dtd strict html//","-//o'reilly and associates//dtd html 2.0//","-//o'reilly and associates//dtd html extended 1.0//","-//o'reilly and associates//dtd html extended relaxed 1.0//","-//sq//dtd html 2.0 hotmetal + extensions//","-//softquad software//dtd hotmetal pro 6.0::19990601::extensions to html 4.0//","-//softquad//dtd hotmetal pro 4.0::19971010::extensions to html 4.0//","-//spyglass//dtd html 2.0 extended//","-//sun microsystems corp.//dtd hotjava html//","-//sun microsystems corp.//dtd hotjava strict html//","-//w3c//dtd html 3 1995-03-24//","-//w3c//dtd html 3.2 draft//","-//w3c//dtd html 3.2 final//","-//w3c//dtd html 3.2//","-//w3c//dtd html 3.2s draft//","-//w3c//dtd html 4.0 frameset//","-//w3c//dtd html 4.0 transitional//","-//w3c//dtd html experimental 19960712//","-//w3c//dtd html experimental 970421//","-//w3c//dtd w3 html//","-//w3o//dtd w3 html 3.0//","-//webtechs//dtd mozilla html 2.0//","-//webtechs//dtd mozilla html//"],Dq=[...iR,"-//w3c//dtd html 4.01 frameset//","-//w3c//dtd html 4.01 transitional//"],Mq=new Set(["-//w3o//dtd w3 html strict 3.0//en//","-/w3c/dtd html 4.0 transitional/en","html"]),sR=["-//w3c//dtd xhtml 1.0 frameset//","-//w3c//dtd xhtml 1.0 transitional//"],Pq=[...sR,"-//w3c//dtd html 4.01 frameset//","-//w3c//dtd html 4.01 transitional//"];function Cw(e,t){return t.some(n=>e.startsWith(n))}function Lq(e){return e.name===rR&&e.publicId===null&&(e.systemId===null||e.systemId===Nq)}function Bq(e){if(e.name!==rR)return Or.QUIRKS;const{systemId:t}=e;if(t&&t.toLowerCase()===Rq)return Or.QUIRKS;let{publicId:n}=e;if(n!==null){if(n=n.toLowerCase(),Mq.has(n))return Or.QUIRKS;let r=t===null?Dq:iR;if(Cw(n,r))return Or.QUIRKS;if(r=t===null?sR:Pq,Cw(n,r))return Or.LIMITED_QUIRKS}return Or.NO_QUIRKS}const Sw={TEXT_HTML:"text/html",APPLICATION_XML:"application/xhtml+xml"},Fq="definitionurl",$q="definitionURL",Uq=new Map(["attributeName","attributeType","baseFrequency","baseProfile","calcMode","clipPathUnits","diffuseConstant","edgeMode","filterUnits","glyphRef","gradientTransform","gradientUnits","kernelMatrix","kernelUnitLength","keyPoints","keySplines","keyTimes","lengthAdjust","limitingConeAngle","markerHeight","markerUnits","markerWidth","maskContentUnits","maskUnits","numOctaves","pathLength","patternContentUnits","patternTransform","patternUnits","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","refX","refY","repeatCount","repeatDur","requiredExtensions","requiredFeatures","specularConstant","specularExponent","spreadMethod","startOffset","stdDeviation","stitchTiles","surfaceScale","systemLanguage","tableValues","targetX","targetY","textLength","viewBox","viewTarget","xChannelSelector","yChannelSelector","zoomAndPan"].map(e=>[e.toLowerCase(),e])),Hq=new Map([["xlink:actuate",{prefix:"xlink",name:"actuate",namespace:re.XLINK}],["xlink:arcrole",{prefix:"xlink",name:"arcrole",namespace:re.XLINK}],["xlink:href",{prefix:"xlink",name:"href",namespace:re.XLINK}],["xlink:role",{prefix:"xlink",name:"role",namespace:re.XLINK}],["xlink:show",{prefix:"xlink",name:"show",namespace:re.XLINK}],["xlink:title",{prefix:"xlink",name:"title",namespace:re.XLINK}],["xlink:type",{prefix:"xlink",name:"type",namespace:re.XLINK}],["xml:lang",{prefix:"xml",name:"lang",namespace:re.XML}],["xml:space",{prefix:"xml",name:"space",namespace:re.XML}],["xmlns",{prefix:"",name:"xmlns",namespace:re.XMLNS}],["xmlns:xlink",{prefix:"xmlns",name:"xlink",namespace:re.XMLNS}]]),zq=new Map(["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","textPath"].map(e=>[e.toLowerCase(),e])),jq=new Set([h.B,h.BIG,h.BLOCKQUOTE,h.BODY,h.BR,h.CENTER,h.CODE,h.DD,h.DIV,h.DL,h.DT,h.EM,h.EMBED,h.H1,h.H2,h.H3,h.H4,h.H5,h.H6,h.HEAD,h.HR,h.I,h.IMG,h.LI,h.LISTING,h.MENU,h.META,h.NOBR,h.OL,h.P,h.PRE,h.RUBY,h.S,h.SMALL,h.SPAN,h.STRONG,h.STRIKE,h.SUB,h.SUP,h.TABLE,h.TT,h.U,h.UL,h.VAR]);function qq(e){const t=e.tagID;return t===h.FONT&&e.attrs.some(({name:r})=>r===Ho.COLOR||r===Ho.SIZE||r===Ho.FACE)||jq.has(t)}function oR(e){for(let t=0;t<e.attrs.length;t++)if(e.attrs[t].name===Fq){e.attrs[t].name=$q;break}}function aR(e){for(let t=0;t<e.attrs.length;t++){const n=Uq.get(e.attrs[t].name);n!=null&&(e.attrs[t].name=n)}}function f_(e){for(let t=0;t<e.attrs.length;t++){const n=Hq.get(e.attrs[t].name);n&&(e.attrs[t].prefix=n.prefix,e.attrs[t].name=n.name,e.attrs[t].namespace=n.namespace)}}function Vq(e){const t=zq.get(e.tagName);t!=null&&(e.tagName=t,e.tagID=$p(e.tagName))}function Wq(e,t){return t===re.MATHML&&(e===h.MI||e===h.MO||e===h.MN||e===h.MS||e===h.MTEXT)}function Gq(e,t,n){if(t===re.MATHML&&e===h.ANNOTATION_XML){for(let r=0;r<n.length;r++)if(n[r].name===Ho.ENCODING){const i=n[r].value.toLowerCase();return i===Sw.TEXT_HTML||i===Sw.APPLICATION_XML}}return t===re.SVG&&(e===h.FOREIGN_OBJECT||e===h.DESC||e===h.TITLE)}function Yq(e,t,n,r){return(!r||r===re.HTML)&&Gq(e,t,n)||(!r||r===re.MATHML)&&Wq(e,t)}const Kq="hidden",Xq=8,Qq=3;var k;(function(e){e[e.INITIAL=0]="INITIAL",e[e.BEFORE_HTML=1]="BEFORE_HTML",e[e.BEFORE_HEAD=2]="BEFORE_HEAD",e[e.IN_HEAD=3]="IN_HEAD",e[e.IN_HEAD_NO_SCRIPT=4]="IN_HEAD_NO_SCRIPT",e[e.AFTER_HEAD=5]="AFTER_HEAD",e[e.IN_BODY=6]="IN_BODY",e[e.TEXT=7]="TEXT",e[e.IN_TABLE=8]="IN_TABLE",e[e.IN_TABLE_TEXT=9]="IN_TABLE_TEXT",e[e.IN_CAPTION=10]="IN_CAPTION",e[e.IN_COLUMN_GROUP=11]="IN_COLUMN_GROUP",e[e.IN_TABLE_BODY=12]="IN_TABLE_BODY",e[e.IN_ROW=13]="IN_ROW",e[e.IN_CELL=14]="IN_CELL",e[e.IN_SELECT=15]="IN_SELECT",e[e.IN_SELECT_IN_TABLE=16]="IN_SELECT_IN_TABLE",e[e.IN_TEMPLATE=17]="IN_TEMPLATE",e[e.AFTER_BODY=18]="AFTER_BODY",e[e.IN_FRAMESET=19]="IN_FRAMESET",e[e.AFTER_FRAMESET=20]="AFTER_FRAMESET",e[e.AFTER_AFTER_BODY=21]="AFTER_AFTER_BODY",e[e.AFTER_AFTER_FRAMESET=22]="AFTER_AFTER_FRAMESET"})(k||(k={}));const Jq={startLine:-1,startCol:-1,startOffset:-1,endLine:-1,endCol:-1,endOffset:-1},lR=new Set([h.TABLE,h.TBODY,h.TFOOT,h.THEAD,h.TR]),Aw={scriptingEnabled:!0,sourceCodeLocationInfo:!1,treeAdapter:Rs,onParseError:null};class uR{constructor(t,n,r=null,i=null){this.fragmentContext=r,this.scriptHandler=i,this.currentToken=null,this.stopped=!1,this.insertionMode=k.INITIAL,this.originalInsertionMode=k.INITIAL,this.headElement=null,this.formElement=null,this.currentNotInHTML=!1,this.tmplInsertionModeStack=[],this.pendingCharacterTokens=[],this.hasNonWhitespacePendingCharacterToken=!1,this.framesetOk=!0,this.skipNextNewLine=!1,this.fosterParentingEnabled=!1,this.options={...Aw,...t},this.treeAdapter=this.options.treeAdapter,this.onParseError=this.options.onParseError,this.onParseError&&(this.options.sourceCodeLocationInfo=!0),this.document=n??this.treeAdapter.createDocument(),this.tokenizer=new Tq(this.options,this),this.activeFormattingElements=new Iq(this.treeAdapter),this.fragmentContextID=r?$p(this.treeAdapter.getTagName(r)):h.UNKNOWN,this._setContextModes(r??this.document,this.fragmentContextID),this.openElements=new kq(this.document,this.treeAdapter,this)}static parse(t,n){const r=new this(n);return r.tokenizer.write(t,!0),r.document}static getFragmentParser(t,n){const r={...Aw,...n};t??(t=r.treeAdapter.createElement($.TEMPLATE,re.HTML,[]));const i=r.treeAdapter.createElement("documentmock",re.HTML,[]),s=new this(r,i,t);return s.fragmentContextID===h.TEMPLATE&&s.tmplInsertionModeStack.unshift(k.IN_TEMPLATE),s._initTokenizerForFragmentParsing(),s._insertFakeRootElement(),s._resetInsertionMode(),s._findFormInFragmentContext(),s}getFragment(){const t=this.treeAdapter.getFirstChild(this.document),n=this.treeAdapter.createDocumentFragment();return this._adoptNodes(t,n),n}_err(t,n,r){var i;if(!this.onParseError)return;const s=(i=t.location)!==null&&i!==void 0?i:Jq,o={code:n,startLine:s.startLine,startCol:s.startCol,startOffset:s.startOffset,endLine:r?s.startLine:s.endLine,endCol:r?s.startCol:s.endCol,endOffset:r?s.startOffset:s.endOffset};this.onParseError(o)}onItemPush(t,n,r){var i,s;(s=(i=this.treeAdapter).onItemPush)===null||s===void 0||s.call(i,t),r&&this.openElements.stackTop>0&&this._setContextModes(t,n)}onItemPop(t,n){var r,i;if(this.options.sourceCodeLocationInfo&&this._setEndLocation(t,this.currentToken),(i=(r=this.treeAdapter).onItemPop)===null||i===void 0||i.call(r,t,this.openElements.current),n){let s,o;this.openElements.stackTop===0&&this.fragmentContext?(s=this.fragmentContext,o=this.fragmentContextID):{current:s,currentTagId:o}=this.openElements,this._setContextModes(s,o)}}_setContextModes(t,n){const r=t===this.document||this.treeAdapter.getNamespaceURI(t)===re.HTML;this.currentNotInHTML=!r,this.tokenizer.inForeignNode=!r&&!this._isIntegrationPoint(n,t)}_switchToTextParsing(t,n){this._insertElement(t,re.HTML),this.tokenizer.state=n,this.originalInsertionMode=this.insertionMode,this.insertionMode=k.TEXT}switchToPlaintextParsing(){this.insertionMode=k.TEXT,this.originalInsertionMode=k.IN_BODY,this.tokenizer.state=er.PLAINTEXT}_getAdjustedCurrentElement(){return this.openElements.stackTop===0&&this.fragmentContext?this.fragmentContext:this.openElements.current}_findFormInFragmentContext(){let t=this.fragmentContext;for(;t;){if(this.treeAdapter.getTagName(t)===$.FORM){this.formElement=t;break}t=this.treeAdapter.getParentNode(t)}}_initTokenizerForFragmentParsing(){if(!(!this.fragmentContext||this.treeAdapter.getNamespaceURI(this.fragmentContext)!==re.HTML))switch(this.fragmentContextID){case h.TITLE:case h.TEXTAREA:{this.tokenizer.state=er.RCDATA;break}case h.STYLE:case h.XMP:case h.IFRAME:case h.NOEMBED:case h.NOFRAMES:case h.NOSCRIPT:{this.tokenizer.state=er.RAWTEXT;break}case h.SCRIPT:{this.tokenizer.state=er.SCRIPT_DATA;break}case h.PLAINTEXT:{this.tokenizer.state=er.PLAINTEXT;break}}}_setDocumentType(t){const n=t.name||"",r=t.publicId||"",i=t.systemId||"";if(this.treeAdapter.setDocumentType(this.document,n,r,i),t.location){const o=this.treeAdapter.getChildNodes(this.document).find(a=>this.treeAdapter.isDocumentTypeNode(a));o&&this.treeAdapter.setNodeSourceCodeLocation(o,t.location)}}_attachElementToTree(t,n){if(this.options.sourceCodeLocationInfo){const r=n&&{...n,startTag:n};this.treeAdapter.setNodeSourceCodeLocation(t,r)}if(this._shouldFosterParentOnInsertion())this._fosterParentElement(t);else{const r=this.openElements.currentTmplContentOrNode;this.treeAdapter.appendChild(r,t)}}_appendElement(t,n){const r=this.treeAdapter.createElement(t.tagName,n,t.attrs);this._attachElementToTree(r,t.location)}_insertElement(t,n){const r=this.treeAdapter.createElement(t.tagName,n,t.attrs);this._attachElementToTree(r,t.location),this.openElements.push(r,t.tagID)}_insertFakeElement(t,n){const r=this.treeAdapter.createElement(t,re.HTML,[]);this._attachElementToTree(r,null),this.openElements.push(r,n)}_insertTemplate(t){const n=this.treeAdapter.createElement(t.tagName,re.HTML,t.attrs),r=this.treeAdapter.createDocumentFragment();this.treeAdapter.setTemplateContent(n,r),this._attachElementToTree(n,t.location),this.openElements.push(n,t.tagID),this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(r,null)}_insertFakeRootElement(){const t=this.treeAdapter.createElement($.HTML,re.HTML,[]);this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(t,null),this.treeAdapter.appendChild(this.openElements.current,t),this.openElements.push(t,h.HTML)}_appendCommentNode(t,n){const r=this.treeAdapter.createCommentNode(t.data);this.treeAdapter.appendChild(n,r),this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(r,t.location)}_insertCharacters(t){let n,r;if(this._shouldFosterParentOnInsertion()?({parent:n,beforeElement:r}=this._findFosterParentingLocation(),r?this.treeAdapter.insertTextBefore(n,t.chars,r):this.treeAdapter.insertText(n,t.chars)):(n=this.openElements.currentTmplContentOrNode,this.treeAdapter.insertText(n,t.chars)),!t.location)return;const i=this.treeAdapter.getChildNodes(n),s=r?i.lastIndexOf(r):i.length,o=i[s-1];if(this.treeAdapter.getNodeSourceCodeLocation(o)){const{endLine:l,endCol:u,endOffset:c}=t.location;this.treeAdapter.updateNodeSourceCodeLocation(o,{endLine:l,endCol:u,endOffset:c})}else this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(o,t.location)}_adoptNodes(t,n){for(let r=this.treeAdapter.getFirstChild(t);r;r=this.treeAdapter.getFirstChild(t))this.treeAdapter.detachNode(r),this.treeAdapter.appendChild(n,r)}_setEndLocation(t,n){if(this.treeAdapter.getNodeSourceCodeLocation(t)&&n.location){const r=n.location,i=this.treeAdapter.getTagName(t),s=n.type===st.END_TAG&&i===n.tagName?{endTag:{...r},endLine:r.endLine,endCol:r.endCol,endOffset:r.endOffset}:{endLine:r.startLine,endCol:r.startCol,endOffset:r.startOffset};this.treeAdapter.updateNodeSourceCodeLocation(t,s)}}shouldProcessStartTagTokenInForeignContent(t){if(!this.currentNotInHTML)return!1;let n,r;return this.openElements.stackTop===0&&this.fragmentContext?(n=this.fragmentContext,r=this.fragmentContextID):{current:n,currentTagId:r}=this.openElements,t.tagID===h.SVG&&this.treeAdapter.getTagName(n)===$.ANNOTATION_XML&&this.treeAdapter.getNamespaceURI(n)===re.MATHML?!1:this.tokenizer.inForeignNode||(t.tagID===h.MGLYPH||t.tagID===h.MALIGNMARK)&&!this._isIntegrationPoint(r,n,re.HTML)}_processToken(t){switch(t.type){case st.CHARACTER:{this.onCharacter(t);break}case st.NULL_CHARACTER:{this.onNullCharacter(t);break}case st.COMMENT:{this.onComment(t);break}case st.DOCTYPE:{this.onDoctype(t);break}case st.START_TAG:{this._processStartTag(t);break}case st.END_TAG:{this.onEndTag(t);break}case st.EOF:{this.onEof(t);break}case st.WHITESPACE_CHARACTER:{this.onWhitespaceCharacter(t);break}}}_isIntegrationPoint(t,n,r){const i=this.treeAdapter.getNamespaceURI(n),s=this.treeAdapter.getAttrList(n);return Yq(t,i,s,r)}_reconstructActiveFormattingElements(){const t=this.activeFormattingElements.entries.length;if(t){const n=this.activeFormattingElements.entries.findIndex(i=>i.type===Ai.Marker||this.openElements.contains(i.element)),r=n<0?t-1:n-1;for(let i=r;i>=0;i--){const s=this.activeFormattingElements.entries[i];this._insertElement(s.token,this.treeAdapter.getNamespaceURI(s.element)),s.element=this.openElements.current}}}_closeTableCell(){this.openElements.generateImpliedEndTags(),this.openElements.popUntilTableCellPopped(),this.activeFormattingElements.clearToLastMarker(),this.insertionMode=k.IN_ROW}_closePElement(){this.openElements.generateImpliedEndTagsWithExclusion(h.P),this.openElements.popUntilTagNamePopped(h.P)}_resetInsertionMode(){for(let t=this.openElements.stackTop;t>=0;t--)switch(t===0&&this.fragmentContext?this.fragmentContextID:this.openElements.tagIDs[t]){case h.TR:{this.insertionMode=k.IN_ROW;return}case h.TBODY:case h.THEAD:case h.TFOOT:{this.insertionMode=k.IN_TABLE_BODY;return}case h.CAPTION:{this.insertionMode=k.IN_CAPTION;return}case h.COLGROUP:{this.insertionMode=k.IN_COLUMN_GROUP;return}case h.TABLE:{this.insertionMode=k.IN_TABLE;return}case h.BODY:{this.insertionMode=k.IN_BODY;return}case h.FRAMESET:{this.insertionMode=k.IN_FRAMESET;return}case h.SELECT:{this._resetInsertionModeForSelect(t);return}case h.TEMPLATE:{this.insertionMode=this.tmplInsertionModeStack[0];return}case h.HTML:{this.insertionMode=this.headElement?k.AFTER_HEAD:k.BEFORE_HEAD;return}case h.TD:case h.TH:{if(t>0){this.insertionMode=k.IN_CELL;return}break}case h.HEAD:{if(t>0){this.insertionMode=k.IN_HEAD;return}break}}this.insertionMode=k.IN_BODY}_resetInsertionModeForSelect(t){if(t>0)for(let n=t-1;n>0;n--){const r=this.openElements.tagIDs[n];if(r===h.TEMPLATE)break;if(r===h.TABLE){this.insertionMode=k.IN_SELECT_IN_TABLE;return}}this.insertionMode=k.IN_SELECT}_isElementCausesFosterParenting(t){return lR.has(t)}_shouldFosterParentOnInsertion(){return this.fosterParentingEnabled&&this._isElementCausesFosterParenting(this.openElements.currentTagId)}_findFosterParentingLocation(){for(let t=this.openElements.stackTop;t>=0;t--){const n=this.openElements.items[t];switch(this.openElements.tagIDs[t]){case h.TEMPLATE:{if(this.treeAdapter.getNamespaceURI(n)===re.HTML)return{parent:this.treeAdapter.getTemplateContent(n),beforeElement:null};break}case h.TABLE:{const r=this.treeAdapter.getParentNode(n);return r?{parent:r,beforeElement:n}:{parent:this.openElements.items[t-1],beforeElement:null}}}}return{parent:this.openElements.items[0],beforeElement:null}}_fosterParentElement(t){const n=this._findFosterParentingLocation();n.beforeElement?this.treeAdapter.insertBefore(n.parent,t,n.beforeElement):this.treeAdapter.appendChild(n.parent,t)}_isSpecialElement(t,n){const r=this.treeAdapter.getNamespaceURI(t);return yq[r].has(n)}onCharacter(t){if(this.skipNextNewLine=!1,this.tokenizer.inForeignNode){OW(this,t);return}switch(this.insertionMode){case k.INITIAL:{Yl(this,t);break}case k.BEFORE_HTML:{Ru(this,t);break}case k.BEFORE_HEAD:{Du(this,t);break}case k.IN_HEAD:{Mu(this,t);break}case k.IN_HEAD_NO_SCRIPT:{Pu(this,t);break}case k.AFTER_HEAD:{Lu(this,t);break}case k.IN_BODY:case k.IN_CAPTION:case k.IN_CELL:case k.IN_TEMPLATE:{dR(this,t);break}case k.TEXT:case k.IN_SELECT:case k.IN_SELECT_IN_TABLE:{this._insertCharacters(t);break}case k.IN_TABLE:case k.IN_TABLE_BODY:case k.IN_ROW:{sm(this,t);break}case k.IN_TABLE_TEXT:{bR(this,t);break}case k.IN_COLUMN_GROUP:{Uf(this,t);break}case k.AFTER_BODY:{Hf(this,t);break}case k.AFTER_AFTER_BODY:{tf(this,t);break}}}onNullCharacter(t){if(this.skipNextNewLine=!1,this.tokenizer.inForeignNode){AW(this,t);return}switch(this.insertionMode){case k.INITIAL:{Yl(this,t);break}case k.BEFORE_HTML:{Ru(this,t);break}case k.BEFORE_HEAD:{Du(this,t);break}case k.IN_HEAD:{Mu(this,t);break}case k.IN_HEAD_NO_SCRIPT:{Pu(this,t);break}case k.AFTER_HEAD:{Lu(this,t);break}case k.TEXT:{this._insertCharacters(t);break}case k.IN_TABLE:case k.IN_TABLE_BODY:case k.IN_ROW:{sm(this,t);break}case k.IN_COLUMN_GROUP:{Uf(this,t);break}case k.AFTER_BODY:{Hf(this,t);break}case k.AFTER_AFTER_BODY:{tf(this,t);break}}}onComment(t){if(this.skipNextNewLine=!1,this.currentNotInHTML){p1(this,t);return}switch(this.insertionMode){case k.INITIAL:case k.BEFORE_HTML:case k.BEFORE_HEAD:case k.IN_HEAD:case k.IN_HEAD_NO_SCRIPT:case k.AFTER_HEAD:case k.IN_BODY:case k.IN_TABLE:case k.IN_CAPTION:case k.IN_COLUMN_GROUP:case k.IN_TABLE_BODY:case k.IN_ROW:case k.IN_CELL:case k.IN_SELECT:case k.IN_SELECT_IN_TABLE:case k.IN_TEMPLATE:case k.IN_FRAMESET:case k.AFTER_FRAMESET:{p1(this,t);break}case k.IN_TABLE_TEXT:{Kl(this,t);break}case k.AFTER_BODY:{sV(this,t);break}case k.AFTER_AFTER_BODY:case k.AFTER_AFTER_FRAMESET:{oV(this,t);break}}}onDoctype(t){switch(this.skipNextNewLine=!1,this.insertionMode){case k.INITIAL:{aV(this,t);break}case k.BEFORE_HEAD:case k.IN_HEAD:case k.IN_HEAD_NO_SCRIPT:case k.AFTER_HEAD:{this._err(t,W.misplacedDoctype);break}case k.IN_TABLE_TEXT:{Kl(this,t);break}}}onStartTag(t){this.skipNextNewLine=!1,this.currentToken=t,this._processStartTag(t),t.selfClosing&&!t.ackSelfClosing&&this._err(t,W.nonVoidHtmlElementStartTagWithTrailingSolidus)}_processStartTag(t){this.shouldProcessStartTagTokenInForeignContent(t)?kW(this,t):this._startTagOutsideForeignContent(t)}_startTagOutsideForeignContent(t){switch(this.insertionMode){case k.INITIAL:{Yl(this,t);break}case k.BEFORE_HTML:{lV(this,t);break}case k.BEFORE_HEAD:{cV(this,t);break}case k.IN_HEAD:{pi(this,t);break}case k.IN_HEAD_NO_SCRIPT:{pV(this,t);break}case k.AFTER_HEAD:{mV(this,t);break}case k.IN_BODY:{Dn(this,t);break}case k.IN_TABLE:{nl(this,t);break}case k.IN_TABLE_TEXT:{Kl(this,t);break}case k.IN_CAPTION:{dW(this,t);break}case k.IN_COLUMN_GROUP:{m_(this,t);break}case k.IN_TABLE_BODY:{zp(this,t);break}case k.IN_ROW:{jp(this,t);break}case k.IN_CELL:{hW(this,t);break}case k.IN_SELECT:{ER(this,t);break}case k.IN_SELECT_IN_TABLE:{gW(this,t);break}case k.IN_TEMPLATE:{yW(this,t);break}case k.AFTER_BODY:{EW(this,t);break}case k.IN_FRAMESET:{vW(this,t);break}case k.AFTER_FRAMESET:{wW(this,t);break}case k.AFTER_AFTER_BODY:{CW(this,t);break}case k.AFTER_AFTER_FRAMESET:{SW(this,t);break}}}onEndTag(t){this.skipNextNewLine=!1,this.currentToken=t,this.currentNotInHTML?IW(this,t):this._endTagOutsideForeignContent(t)}_endTagOutsideForeignContent(t){switch(this.insertionMode){case k.INITIAL:{Yl(this,t);break}case k.BEFORE_HTML:{uV(this,t);break}case k.BEFORE_HEAD:{dV(this,t);break}case k.IN_HEAD:{fV(this,t);break}case k.IN_HEAD_NO_SCRIPT:{hV(this,t);break}case k.AFTER_HEAD:{gV(this,t);break}case k.IN_BODY:{Hp(this,t);break}case k.TEXT:{tW(this,t);break}case k.IN_TABLE:{dc(this,t);break}case k.IN_TABLE_TEXT:{Kl(this,t);break}case k.IN_CAPTION:{fW(this,t);break}case k.IN_COLUMN_GROUP:{pW(this,t);break}case k.IN_TABLE_BODY:{h1(this,t);break}case k.IN_ROW:{_R(this,t);break}case k.IN_CELL:{mW(this,t);break}case k.IN_SELECT:{vR(this,t);break}case k.IN_SELECT_IN_TABLE:{bW(this,t);break}case k.IN_TEMPLATE:{_W(this,t);break}case k.AFTER_BODY:{wR(this,t);break}case k.IN_FRAMESET:{TW(this,t);break}case k.AFTER_FRAMESET:{xW(this,t);break}case k.AFTER_AFTER_BODY:{tf(this,t);break}}}onEof(t){switch(this.insertionMode){case k.INITIAL:{Yl(this,t);break}case k.BEFORE_HTML:{Ru(this,t);break}case k.BEFORE_HEAD:{Du(this,t);break}case k.IN_HEAD:{Mu(this,t);break}case k.IN_HEAD_NO_SCRIPT:{Pu(this,t);break}case k.AFTER_HEAD:{Lu(this,t);break}case k.IN_BODY:case k.IN_TABLE:case k.IN_CAPTION:case k.IN_COLUMN_GROUP:case k.IN_TABLE_BODY:case k.IN_ROW:case k.IN_CELL:case k.IN_SELECT:case k.IN_SELECT_IN_TABLE:{mR(this,t);break}case k.TEXT:{nW(this,t);break}case k.IN_TABLE_TEXT:{Kl(this,t);break}case k.IN_TEMPLATE:{TR(this,t);break}case k.AFTER_BODY:case k.IN_FRAMESET:case k.AFTER_FRAMESET:case k.AFTER_AFTER_BODY:case k.AFTER_AFTER_FRAMESET:{h_(this,t);break}}}onWhitespaceCharacter(t){if(this.skipNextNewLine&&(this.skipNextNewLine=!1,t.chars.charCodeAt(0)===T.LINE_FEED)){if(t.chars.length===1)return;t.chars=t.chars.substr(1)}if(this.tokenizer.inForeignNode){this._insertCharacters(t);return}switch(this.insertionMode){case k.IN_HEAD:case k.IN_HEAD_NO_SCRIPT:case k.AFTER_HEAD:case k.TEXT:case k.IN_COLUMN_GROUP:case k.IN_SELECT:case k.IN_SELECT_IN_TABLE:case k.IN_FRAMESET:case k.AFTER_FRAMESET:{this._insertCharacters(t);break}case k.IN_BODY:case k.IN_CAPTION:case k.IN_CELL:case k.IN_TEMPLATE:case k.AFTER_BODY:case k.AFTER_AFTER_BODY:case k.AFTER_AFTER_FRAMESET:{cR(this,t);break}case k.IN_TABLE:case k.IN_TABLE_BODY:case k.IN_ROW:{sm(this,t);break}case k.IN_TABLE_TEXT:{gR(this,t);break}}}}function Zq(e,t){let n=e.activeFormattingElements.getElementEntryInScopeWithTagName(t.tagName);return n?e.openElements.contains(n.element)?e.openElements.hasInScope(t.tagID)||(n=null):(e.activeFormattingElements.removeEntry(n),n=null):hR(e,t),n}function eV(e,t){let n=null,r=e.openElements.stackTop;for(;r>=0;r--){const i=e.openElements.items[r];if(i===t.element)break;e._isSpecialElement(i,e.openElements.tagIDs[r])&&(n=i)}return n||(e.openElements.shortenToLength(r<0?0:r),e.activeFormattingElements.removeEntry(t)),n}function tV(e,t,n){let r=t,i=e.openElements.getCommonAncestor(t);for(let s=0,o=i;o!==n;s++,o=i){i=e.openElements.getCommonAncestor(o);const a=e.activeFormattingElements.getElementEntry(o),l=a&&s>=Qq;!a||l?(l&&e.activeFormattingElements.removeEntry(a),e.openElements.remove(o)):(o=nV(e,a),r===t&&(e.activeFormattingElements.bookmark=a),e.treeAdapter.detachNode(r),e.treeAdapter.appendChild(o,r),r=o)}return r}function nV(e,t){const n=e.treeAdapter.getNamespaceURI(t.element),r=e.treeAdapter.createElement(t.token.tagName,n,t.token.attrs);return e.openElements.replace(t.element,r),t.element=r,r}function rV(e,t,n){const r=e.treeAdapter.getTagName(t),i=$p(r);if(e._isElementCausesFosterParenting(i))e._fosterParentElement(n);else{const s=e.treeAdapter.getNamespaceURI(t);i===h.TEMPLATE&&s===re.HTML&&(t=e.treeAdapter.getTemplateContent(t)),e.treeAdapter.appendChild(t,n)}}function iV(e,t,n){const r=e.treeAdapter.getNamespaceURI(n.element),{token:i}=n,s=e.treeAdapter.createElement(i.tagName,r,i.attrs);e._adoptNodes(t,s),e.treeAdapter.appendChild(t,s),e.activeFormattingElements.insertElementAfterBookmark(s,i),e.activeFormattingElements.removeEntry(n),e.openElements.remove(n.element),e.openElements.insertAfter(t,s,i.tagID)}function p_(e,t){for(let n=0;n<Xq;n++){const r=Zq(e,t);if(!r)break;const i=eV(e,r);if(!i)break;e.activeFormattingElements.bookmark=r;const s=tV(e,i,r.element),o=e.openElements.getCommonAncestor(r.element);e.treeAdapter.detachNode(s),o&&rV(e,o,s),iV(e,i,r)}}function p1(e,t){e._appendCommentNode(t,e.openElements.currentTmplContentOrNode)}function sV(e,t){e._appendCommentNode(t,e.openElements.items[0])}function oV(e,t){e._appendCommentNode(t,e.document)}function h_(e,t){if(e.stopped=!0,t.location){const n=e.fragmentContext?0:2;for(let r=e.openElements.stackTop;r>=n;r--)e._setEndLocation(e.openElements.items[r],t);if(!e.fragmentContext&&e.openElements.stackTop>=0){const r=e.openElements.items[0],i=e.treeAdapter.getNodeSourceCodeLocation(r);if(i&&!i.endTag&&(e._setEndLocation(r,t),e.openElements.stackTop>=1)){const s=e.openElements.items[1],o=e.treeAdapter.getNodeSourceCodeLocation(s);o&&!o.endTag&&e._setEndLocation(s,t)}}}}function aV(e,t){e._setDocumentType(t);const n=t.forceQuirks?Or.QUIRKS:Bq(t);Lq(t)||e._err(t,W.nonConformingDoctype),e.treeAdapter.setDocumentMode(e.document,n),e.insertionMode=k.BEFORE_HTML}function Yl(e,t){e._err(t,W.missingDoctype,!0),e.treeAdapter.setDocumentMode(e.document,Or.QUIRKS),e.insertionMode=k.BEFORE_HTML,e._processToken(t)}function lV(e,t){t.tagID===h.HTML?(e._insertElement(t,re.HTML),e.insertionMode=k.BEFORE_HEAD):Ru(e,t)}function uV(e,t){const n=t.tagID;(n===h.HTML||n===h.HEAD||n===h.BODY||n===h.BR)&&Ru(e,t)}function Ru(e,t){e._insertFakeRootElement(),e.insertionMode=k.BEFORE_HEAD,e._processToken(t)}function cV(e,t){switch(t.tagID){case h.HTML:{Dn(e,t);break}case h.HEAD:{e._insertElement(t,re.HTML),e.headElement=e.openElements.current,e.insertionMode=k.IN_HEAD;break}default:Du(e,t)}}function dV(e,t){const n=t.tagID;n===h.HEAD||n===h.BODY||n===h.HTML||n===h.BR?Du(e,t):e._err(t,W.endTagWithoutMatchingOpenElement)}function Du(e,t){e._insertFakeElement($.HEAD,h.HEAD),e.headElement=e.openElements.current,e.insertionMode=k.IN_HEAD,e._processToken(t)}function pi(e,t){switch(t.tagID){case h.HTML:{Dn(e,t);break}case h.BASE:case h.BASEFONT:case h.BGSOUND:case h.LINK:case h.META:{e._appendElement(t,re.HTML),t.ackSelfClosing=!0;break}case h.TITLE:{e._switchToTextParsing(t,er.RCDATA);break}case h.NOSCRIPT:{e.options.scriptingEnabled?e._switchToTextParsing(t,er.RAWTEXT):(e._insertElement(t,re.HTML),e.insertionMode=k.IN_HEAD_NO_SCRIPT);break}case h.NOFRAMES:case h.STYLE:{e._switchToTextParsing(t,er.RAWTEXT);break}case h.SCRIPT:{e._switchToTextParsing(t,er.SCRIPT_DATA);break}case h.TEMPLATE:{e._insertTemplate(t),e.activeFormattingElements.insertMarker(),e.framesetOk=!1,e.insertionMode=k.IN_TEMPLATE,e.tmplInsertionModeStack.unshift(k.IN_TEMPLATE);break}case h.HEAD:{e._err(t,W.misplacedStartTagForHeadElement);break}default:Mu(e,t)}}function fV(e,t){switch(t.tagID){case h.HEAD:{e.openElements.pop(),e.insertionMode=k.AFTER_HEAD;break}case h.BODY:case h.BR:case h.HTML:{Mu(e,t);break}case h.TEMPLATE:{ca(e,t);break}default:e._err(t,W.endTagWithoutMatchingOpenElement)}}function ca(e,t){e.openElements.tmplCount>0?(e.openElements.generateImpliedEndTagsThoroughly(),e.openElements.currentTagId!==h.TEMPLATE&&e._err(t,W.closingOfElementWithOpenChildElements),e.openElements.popUntilTagNamePopped(h.TEMPLATE),e.activeFormattingElements.clearToLastMarker(),e.tmplInsertionModeStack.shift(),e._resetInsertionMode()):e._err(t,W.endTagWithoutMatchingOpenElement)}function Mu(e,t){e.openElements.pop(),e.insertionMode=k.AFTER_HEAD,e._processToken(t)}function pV(e,t){switch(t.tagID){case h.HTML:{Dn(e,t);break}case h.BASEFONT:case h.BGSOUND:case h.HEAD:case h.LINK:case h.META:case h.NOFRAMES:case h.STYLE:{pi(e,t);break}case h.NOSCRIPT:{e._err(t,W.nestedNoscriptInHead);break}default:Pu(e,t)}}function hV(e,t){switch(t.tagID){case h.NOSCRIPT:{e.openElements.pop(),e.insertionMode=k.IN_HEAD;break}case h.BR:{Pu(e,t);break}default:e._err(t,W.endTagWithoutMatchingOpenElement)}}function Pu(e,t){const n=t.type===st.EOF?W.openElementsLeftAfterEof:W.disallowedContentInNoscriptInHead;e._err(t,n),e.openElements.pop(),e.insertionMode=k.IN_HEAD,e._processToken(t)}function mV(e,t){switch(t.tagID){case h.HTML:{Dn(e,t);break}case h.BODY:{e._insertElement(t,re.HTML),e.framesetOk=!1,e.insertionMode=k.IN_BODY;break}case h.FRAMESET:{e._insertElement(t,re.HTML),e.insertionMode=k.IN_FRAMESET;break}case h.BASE:case h.BASEFONT:case h.BGSOUND:case h.LINK:case h.META:case h.NOFRAMES:case h.SCRIPT:case h.STYLE:case h.TEMPLATE:case h.TITLE:{e._err(t,W.abandonedHeadElementChild),e.openElements.push(e.headElement,h.HEAD),pi(e,t),e.openElements.remove(e.headElement);break}case h.HEAD:{e._err(t,W.misplacedStartTagForHeadElement);break}default:Lu(e,t)}}function gV(e,t){switch(t.tagID){case h.BODY:case h.HTML:case h.BR:{Lu(e,t);break}case h.TEMPLATE:{ca(e,t);break}default:e._err(t,W.endTagWithoutMatchingOpenElement)}}function Lu(e,t){e._insertFakeElement($.BODY,h.BODY),e.insertionMode=k.IN_BODY,Up(e,t)}function Up(e,t){switch(t.type){case st.CHARACTER:{dR(e,t);break}case st.WHITESPACE_CHARACTER:{cR(e,t);break}case st.COMMENT:{p1(e,t);break}case st.START_TAG:{Dn(e,t);break}case st.END_TAG:{Hp(e,t);break}case st.EOF:{mR(e,t);break}}}function cR(e,t){e._reconstructActiveFormattingElements(),e._insertCharacters(t)}function dR(e,t){e._reconstructActiveFormattingElements(),e._insertCharacters(t),e.framesetOk=!1}function bV(e,t){e.openElements.tmplCount===0&&e.treeAdapter.adoptAttributes(e.openElements.items[0],t.attrs)}function yV(e,t){const n=e.openElements.tryPeekProperlyNestedBodyElement();n&&e.openElements.tmplCount===0&&(e.framesetOk=!1,e.treeAdapter.adoptAttributes(n,t.attrs))}function _V(e,t){const n=e.openElements.tryPeekProperlyNestedBodyElement();e.framesetOk&&n&&(e.treeAdapter.detachNode(n),e.openElements.popAllUpToHtmlElement(),e._insertElement(t,re.HTML),e.insertionMode=k.IN_FRAMESET)}function EV(e,t){e.openElements.hasInButtonScope(h.P)&&e._closePElement(),e._insertElement(t,re.HTML)}function vV(e,t){e.openElements.hasInButtonScope(h.P)&&e._closePElement(),f1.has(e.openElements.currentTagId)&&e.openElements.pop(),e._insertElement(t,re.HTML)}function TV(e,t){e.openElements.hasInButtonScope(h.P)&&e._closePElement(),e._insertElement(t,re.HTML),e.skipNextNewLine=!0,e.framesetOk=!1}function wV(e,t){const n=e.openElements.tmplCount>0;(!e.formElement||n)&&(e.openElements.hasInButtonScope(h.P)&&e._closePElement(),e._insertElement(t,re.HTML),n||(e.formElement=e.openElements.current))}function xV(e,t){e.framesetOk=!1;const n=t.tagID;for(let r=e.openElements.stackTop;r>=0;r--){const i=e.openElements.tagIDs[r];if(n===h.LI&&i===h.LI||(n===h.DD||n===h.DT)&&(i===h.DD||i===h.DT)){e.openElements.generateImpliedEndTagsWithExclusion(i),e.openElements.popUntilTagNamePopped(i);break}if(i!==h.ADDRESS&&i!==h.DIV&&i!==h.P&&e._isSpecialElement(e.openElements.items[r],i))break}e.openElements.hasInButtonScope(h.P)&&e._closePElement(),e._insertElement(t,re.HTML)}function CV(e,t){e.openElements.hasInButtonScope(h.P)&&e._closePElement(),e._insertElement(t,re.HTML),e.tokenizer.state=er.PLAINTEXT}function SV(e,t){e.openElements.hasInScope(h.BUTTON)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(h.BUTTON)),e._reconstructActiveFormattingElements(),e._insertElement(t,re.HTML),e.framesetOk=!1}function AV(e,t){const n=e.activeFormattingElements.getElementEntryInScopeWithTagName($.A);n&&(p_(e,t),e.openElements.remove(n.element),e.activeFormattingElements.removeEntry(n)),e._reconstructActiveFormattingElements(),e._insertElement(t,re.HTML),e.activeFormattingElements.pushElement(e.openElements.current,t)}function OV(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,re.HTML),e.activeFormattingElements.pushElement(e.openElements.current,t)}function kV(e,t){e._reconstructActiveFormattingElements(),e.openElements.hasInScope(h.NOBR)&&(p_(e,t),e._reconstructActiveFormattingElements()),e._insertElement(t,re.HTML),e.activeFormattingElements.pushElement(e.openElements.current,t)}function IV(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,re.HTML),e.activeFormattingElements.insertMarker(),e.framesetOk=!1}function NV(e,t){e.treeAdapter.getDocumentMode(e.document)!==Or.QUIRKS&&e.openElements.hasInButtonScope(h.P)&&e._closePElement(),e._insertElement(t,re.HTML),e.framesetOk=!1,e.insertionMode=k.IN_TABLE}function fR(e,t){e._reconstructActiveFormattingElements(),e._appendElement(t,re.HTML),e.framesetOk=!1,t.ackSelfClosing=!0}function pR(e){const t=QN(e,Ho.TYPE);return t!=null&&t.toLowerCase()===Kq}function RV(e,t){e._reconstructActiveFormattingElements(),e._appendElement(t,re.HTML),pR(t)||(e.framesetOk=!1),t.ackSelfClosing=!0}function DV(e,t){e._appendElement(t,re.HTML),t.ackSelfClosing=!0}function MV(e,t){e.openElements.hasInButtonScope(h.P)&&e._closePElement(),e._appendElement(t,re.HTML),e.framesetOk=!1,t.ackSelfClosing=!0}function PV(e,t){t.tagName=$.IMG,t.tagID=h.IMG,fR(e,t)}function LV(e,t){e._insertElement(t,re.HTML),e.skipNextNewLine=!0,e.tokenizer.state=er.RCDATA,e.originalInsertionMode=e.insertionMode,e.framesetOk=!1,e.insertionMode=k.TEXT}function BV(e,t){e.openElements.hasInButtonScope(h.P)&&e._closePElement(),e._reconstructActiveFormattingElements(),e.framesetOk=!1,e._switchToTextParsing(t,er.RAWTEXT)}function FV(e,t){e.framesetOk=!1,e._switchToTextParsing(t,er.RAWTEXT)}function Ow(e,t){e._switchToTextParsing(t,er.RAWTEXT)}function $V(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,re.HTML),e.framesetOk=!1,e.insertionMode=e.insertionMode===k.IN_TABLE||e.insertionMode===k.IN_CAPTION||e.insertionMode===k.IN_TABLE_BODY||e.insertionMode===k.IN_ROW||e.insertionMode===k.IN_CELL?k.IN_SELECT_IN_TABLE:k.IN_SELECT}function UV(e,t){e.openElements.currentTagId===h.OPTION&&e.openElements.pop(),e._reconstructActiveFormattingElements(),e._insertElement(t,re.HTML)}function HV(e,t){e.openElements.hasInScope(h.RUBY)&&e.openElements.generateImpliedEndTags(),e._insertElement(t,re.HTML)}function zV(e,t){e.openElements.hasInScope(h.RUBY)&&e.openElements.generateImpliedEndTagsWithExclusion(h.RTC),e._insertElement(t,re.HTML)}function jV(e,t){e._reconstructActiveFormattingElements(),oR(t),f_(t),t.selfClosing?e._appendElement(t,re.MATHML):e._insertElement(t,re.MATHML),t.ackSelfClosing=!0}function qV(e,t){e._reconstructActiveFormattingElements(),aR(t),f_(t),t.selfClosing?e._appendElement(t,re.SVG):e._insertElement(t,re.SVG),t.ackSelfClosing=!0}function kw(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,re.HTML)}function Dn(e,t){switch(t.tagID){case h.I:case h.S:case h.B:case h.U:case h.EM:case h.TT:case h.BIG:case h.CODE:case h.FONT:case h.SMALL:case h.STRIKE:case h.STRONG:{OV(e,t);break}case h.A:{AV(e,t);break}case h.H1:case h.H2:case h.H3:case h.H4:case h.H5:case h.H6:{vV(e,t);break}case h.P:case h.DL:case h.OL:case h.UL:case h.DIV:case h.DIR:case h.NAV:case h.MAIN:case h.MENU:case h.ASIDE:case h.CENTER:case h.FIGURE:case h.FOOTER:case h.HEADER:case h.HGROUP:case h.DIALOG:case h.DETAILS:case h.ADDRESS:case h.ARTICLE:case h.SEARCH:case h.SECTION:case h.SUMMARY:case h.FIELDSET:case h.BLOCKQUOTE:case h.FIGCAPTION:{EV(e,t);break}case h.LI:case h.DD:case h.DT:{xV(e,t);break}case h.BR:case h.IMG:case h.WBR:case h.AREA:case h.EMBED:case h.KEYGEN:{fR(e,t);break}case h.HR:{MV(e,t);break}case h.RB:case h.RTC:{HV(e,t);break}case h.RT:case h.RP:{zV(e,t);break}case h.PRE:case h.LISTING:{TV(e,t);break}case h.XMP:{BV(e,t);break}case h.SVG:{qV(e,t);break}case h.HTML:{bV(e,t);break}case h.BASE:case h.LINK:case h.META:case h.STYLE:case h.TITLE:case h.SCRIPT:case h.BGSOUND:case h.BASEFONT:case h.TEMPLATE:{pi(e,t);break}case h.BODY:{yV(e,t);break}case h.FORM:{wV(e,t);break}case h.NOBR:{kV(e,t);break}case h.MATH:{jV(e,t);break}case h.TABLE:{NV(e,t);break}case h.INPUT:{RV(e,t);break}case h.PARAM:case h.TRACK:case h.SOURCE:{DV(e,t);break}case h.IMAGE:{PV(e,t);break}case h.BUTTON:{SV(e,t);break}case h.APPLET:case h.OBJECT:case h.MARQUEE:{IV(e,t);break}case h.IFRAME:{FV(e,t);break}case h.SELECT:{$V(e,t);break}case h.OPTION:case h.OPTGROUP:{UV(e,t);break}case h.NOEMBED:case h.NOFRAMES:{Ow(e,t);break}case h.FRAMESET:{_V(e,t);break}case h.TEXTAREA:{LV(e,t);break}case h.NOSCRIPT:{e.options.scriptingEnabled?Ow(e,t):kw(e,t);break}case h.PLAINTEXT:{CV(e,t);break}case h.COL:case h.TH:case h.TD:case h.TR:case h.HEAD:case h.FRAME:case h.TBODY:case h.TFOOT:case h.THEAD:case h.CAPTION:case h.COLGROUP:break;default:kw(e,t)}}function VV(e,t){if(e.openElements.hasInScope(h.BODY)&&(e.insertionMode=k.AFTER_BODY,e.options.sourceCodeLocationInfo)){const n=e.openElements.tryPeekProperlyNestedBodyElement();n&&e._setEndLocation(n,t)}}function WV(e,t){e.openElements.hasInScope(h.BODY)&&(e.insertionMode=k.AFTER_BODY,wR(e,t))}function GV(e,t){const n=t.tagID;e.openElements.hasInScope(n)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(n))}function YV(e){const t=e.openElements.tmplCount>0,{formElement:n}=e;t||(e.formElement=null),(n||t)&&e.openElements.hasInScope(h.FORM)&&(e.openElements.generateImpliedEndTags(),t?e.openElements.popUntilTagNamePopped(h.FORM):n&&e.openElements.remove(n))}function KV(e){e.openElements.hasInButtonScope(h.P)||e._insertFakeElement($.P,h.P),e._closePElement()}function XV(e){e.openElements.hasInListItemScope(h.LI)&&(e.openElements.generateImpliedEndTagsWithExclusion(h.LI),e.openElements.popUntilTagNamePopped(h.LI))}function QV(e,t){const n=t.tagID;e.openElements.hasInScope(n)&&(e.openElements.generateImpliedEndTagsWithExclusion(n),e.openElements.popUntilTagNamePopped(n))}function JV(e){e.openElements.hasNumberedHeaderInScope()&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilNumberedHeaderPopped())}function ZV(e,t){const n=t.tagID;e.openElements.hasInScope(n)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(n),e.activeFormattingElements.clearToLastMarker())}function eW(e){e._reconstructActiveFormattingElements(),e._insertFakeElement($.BR,h.BR),e.openElements.pop(),e.framesetOk=!1}function hR(e,t){const n=t.tagName,r=t.tagID;for(let i=e.openElements.stackTop;i>0;i--){const s=e.openElements.items[i],o=e.openElements.tagIDs[i];if(r===o&&(r!==h.UNKNOWN||e.treeAdapter.getTagName(s)===n)){e.openElements.generateImpliedEndTagsWithExclusion(r),e.openElements.stackTop>=i&&e.openElements.shortenToLength(i);break}if(e._isSpecialElement(s,o))break}}function Hp(e,t){switch(t.tagID){case h.A:case h.B:case h.I:case h.S:case h.U:case h.EM:case h.TT:case h.BIG:case h.CODE:case h.FONT:case h.NOBR:case h.SMALL:case h.STRIKE:case h.STRONG:{p_(e,t);break}case h.P:{KV(e);break}case h.DL:case h.UL:case h.OL:case h.DIR:case h.DIV:case h.NAV:case h.PRE:case h.MAIN:case h.MENU:case h.ASIDE:case h.BUTTON:case h.CENTER:case h.FIGURE:case h.FOOTER:case h.HEADER:case h.HGROUP:case h.DIALOG:case h.ADDRESS:case h.ARTICLE:case h.DETAILS:case h.SEARCH:case h.SECTION:case h.SUMMARY:case h.LISTING:case h.FIELDSET:case h.BLOCKQUOTE:case h.FIGCAPTION:{GV(e,t);break}case h.LI:{XV(e);break}case h.DD:case h.DT:{QV(e,t);break}case h.H1:case h.H2:case h.H3:case h.H4:case h.H5:case h.H6:{JV(e);break}case h.BR:{eW(e);break}case h.BODY:{VV(e,t);break}case h.HTML:{WV(e,t);break}case h.FORM:{YV(e);break}case h.APPLET:case h.OBJECT:case h.MARQUEE:{ZV(e,t);break}case h.TEMPLATE:{ca(e,t);break}default:hR(e,t)}}function mR(e,t){e.tmplInsertionModeStack.length>0?TR(e,t):h_(e,t)}function tW(e,t){var n;t.tagID===h.SCRIPT&&((n=e.scriptHandler)===null||n===void 0||n.call(e,e.openElements.current)),e.openElements.pop(),e.insertionMode=e.originalInsertionMode}function nW(e,t){e._err(t,W.eofInElementThatCanContainOnlyText),e.openElements.pop(),e.insertionMode=e.originalInsertionMode,e.onEof(t)}function sm(e,t){if(lR.has(e.openElements.currentTagId))switch(e.pendingCharacterTokens.length=0,e.hasNonWhitespacePendingCharacterToken=!1,e.originalInsertionMode=e.insertionMode,e.insertionMode=k.IN_TABLE_TEXT,t.type){case st.CHARACTER:{bR(e,t);break}case st.WHITESPACE_CHARACTER:{gR(e,t);break}}else zc(e,t)}function rW(e,t){e.openElements.clearBackToTableContext(),e.activeFormattingElements.insertMarker(),e._insertElement(t,re.HTML),e.insertionMode=k.IN_CAPTION}function iW(e,t){e.openElements.clearBackToTableContext(),e._insertElement(t,re.HTML),e.insertionMode=k.IN_COLUMN_GROUP}function sW(e,t){e.openElements.clearBackToTableContext(),e._insertFakeElement($.COLGROUP,h.COLGROUP),e.insertionMode=k.IN_COLUMN_GROUP,m_(e,t)}function oW(e,t){e.openElements.clearBackToTableContext(),e._insertElement(t,re.HTML),e.insertionMode=k.IN_TABLE_BODY}function aW(e,t){e.openElements.clearBackToTableContext(),e._insertFakeElement($.TBODY,h.TBODY),e.insertionMode=k.IN_TABLE_BODY,zp(e,t)}function lW(e,t){e.openElements.hasInTableScope(h.TABLE)&&(e.openElements.popUntilTagNamePopped(h.TABLE),e._resetInsertionMode(),e._processStartTag(t))}function uW(e,t){pR(t)?e._appendElement(t,re.HTML):zc(e,t),t.ackSelfClosing=!0}function cW(e,t){!e.formElement&&e.openElements.tmplCount===0&&(e._insertElement(t,re.HTML),e.formElement=e.openElements.current,e.openElements.pop())}function nl(e,t){switch(t.tagID){case h.TD:case h.TH:case h.TR:{aW(e,t);break}case h.STYLE:case h.SCRIPT:case h.TEMPLATE:{pi(e,t);break}case h.COL:{sW(e,t);break}case h.FORM:{cW(e,t);break}case h.TABLE:{lW(e,t);break}case h.TBODY:case h.TFOOT:case h.THEAD:{oW(e,t);break}case h.INPUT:{uW(e,t);break}case h.CAPTION:{rW(e,t);break}case h.COLGROUP:{iW(e,t);break}default:zc(e,t)}}function dc(e,t){switch(t.tagID){case h.TABLE:{e.openElements.hasInTableScope(h.TABLE)&&(e.openElements.popUntilTagNamePopped(h.TABLE),e._resetInsertionMode());break}case h.TEMPLATE:{ca(e,t);break}case h.BODY:case h.CAPTION:case h.COL:case h.COLGROUP:case h.HTML:case h.TBODY:case h.TD:case h.TFOOT:case h.TH:case h.THEAD:case h.TR:break;default:zc(e,t)}}function zc(e,t){const n=e.fosterParentingEnabled;e.fosterParentingEnabled=!0,Up(e,t),e.fosterParentingEnabled=n}function gR(e,t){e.pendingCharacterTokens.push(t)}function bR(e,t){e.pendingCharacterTokens.push(t),e.hasNonWhitespacePendingCharacterToken=!0}function Kl(e,t){let n=0;if(e.hasNonWhitespacePendingCharacterToken)for(;n<e.pendingCharacterTokens.length;n++)zc(e,e.pendingCharacterTokens[n]);else for(;n<e.pendingCharacterTokens.length;n++)e._insertCharacters(e.pendingCharacterTokens[n]);e.insertionMode=e.originalInsertionMode,e._processToken(t)}const yR=new Set([h.CAPTION,h.COL,h.COLGROUP,h.TBODY,h.TD,h.TFOOT,h.TH,h.THEAD,h.TR]);function dW(e,t){const n=t.tagID;yR.has(n)?e.openElements.hasInTableScope(h.CAPTION)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(h.CAPTION),e.activeFormattingElements.clearToLastMarker(),e.insertionMode=k.IN_TABLE,nl(e,t)):Dn(e,t)}function fW(e,t){const n=t.tagID;switch(n){case h.CAPTION:case h.TABLE:{e.openElements.hasInTableScope(h.CAPTION)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(h.CAPTION),e.activeFormattingElements.clearToLastMarker(),e.insertionMode=k.IN_TABLE,n===h.TABLE&&dc(e,t));break}case h.BODY:case h.COL:case h.COLGROUP:case h.HTML:case h.TBODY:case h.TD:case h.TFOOT:case h.TH:case h.THEAD:case h.TR:break;default:Hp(e,t)}}function m_(e,t){switch(t.tagID){case h.HTML:{Dn(e,t);break}case h.COL:{e._appendElement(t,re.HTML),t.ackSelfClosing=!0;break}case h.TEMPLATE:{pi(e,t);break}default:Uf(e,t)}}function pW(e,t){switch(t.tagID){case h.COLGROUP:{e.openElements.currentTagId===h.COLGROUP&&(e.openElements.pop(),e.insertionMode=k.IN_TABLE);break}case h.TEMPLATE:{ca(e,t);break}case h.COL:break;default:Uf(e,t)}}function Uf(e,t){e.openElements.currentTagId===h.COLGROUP&&(e.openElements.pop(),e.insertionMode=k.IN_TABLE,e._processToken(t))}function zp(e,t){switch(t.tagID){case h.TR:{e.openElements.clearBackToTableBodyContext(),e._insertElement(t,re.HTML),e.insertionMode=k.IN_ROW;break}case h.TH:case h.TD:{e.openElements.clearBackToTableBodyContext(),e._insertFakeElement($.TR,h.TR),e.insertionMode=k.IN_ROW,jp(e,t);break}case h.CAPTION:case h.COL:case h.COLGROUP:case h.TBODY:case h.TFOOT:case h.THEAD:{e.openElements.hasTableBodyContextInTableScope()&&(e.openElements.clearBackToTableBodyContext(),e.openElements.pop(),e.insertionMode=k.IN_TABLE,nl(e,t));break}default:nl(e,t)}}function h1(e,t){const n=t.tagID;switch(t.tagID){case h.TBODY:case h.TFOOT:case h.THEAD:{e.openElements.hasInTableScope(n)&&(e.openElements.clearBackToTableBodyContext(),e.openElements.pop(),e.insertionMode=k.IN_TABLE);break}case h.TABLE:{e.openElements.hasTableBodyContextInTableScope()&&(e.openElements.clearBackToTableBodyContext(),e.openElements.pop(),e.insertionMode=k.IN_TABLE,dc(e,t));break}case h.BODY:case h.CAPTION:case h.COL:case h.COLGROUP:case h.HTML:case h.TD:case h.TH:case h.TR:break;default:dc(e,t)}}function jp(e,t){switch(t.tagID){case h.TH:case h.TD:{e.openElements.clearBackToTableRowContext(),e._insertElement(t,re.HTML),e.insertionMode=k.IN_CELL,e.activeFormattingElements.insertMarker();break}case h.CAPTION:case h.COL:case h.COLGROUP:case h.TBODY:case h.TFOOT:case h.THEAD:case h.TR:{e.openElements.hasInTableScope(h.TR)&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=k.IN_TABLE_BODY,zp(e,t));break}default:nl(e,t)}}function _R(e,t){switch(t.tagID){case h.TR:{e.openElements.hasInTableScope(h.TR)&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=k.IN_TABLE_BODY);break}case h.TABLE:{e.openElements.hasInTableScope(h.TR)&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=k.IN_TABLE_BODY,h1(e,t));break}case h.TBODY:case h.TFOOT:case h.THEAD:{(e.openElements.hasInTableScope(t.tagID)||e.openElements.hasInTableScope(h.TR))&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=k.IN_TABLE_BODY,h1(e,t));break}case h.BODY:case h.CAPTION:case h.COL:case h.COLGROUP:case h.HTML:case h.TD:case h.TH:break;default:dc(e,t)}}function hW(e,t){const n=t.tagID;yR.has(n)?(e.openElements.hasInTableScope(h.TD)||e.openElements.hasInTableScope(h.TH))&&(e._closeTableCell(),jp(e,t)):Dn(e,t)}function mW(e,t){const n=t.tagID;switch(n){case h.TD:case h.TH:{e.openElements.hasInTableScope(n)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(n),e.activeFormattingElements.clearToLastMarker(),e.insertionMode=k.IN_ROW);break}case h.TABLE:case h.TBODY:case h.TFOOT:case h.THEAD:case h.TR:{e.openElements.hasInTableScope(n)&&(e._closeTableCell(),_R(e,t));break}case h.BODY:case h.CAPTION:case h.COL:case h.COLGROUP:case h.HTML:break;default:Hp(e,t)}}function ER(e,t){switch(t.tagID){case h.HTML:{Dn(e,t);break}case h.OPTION:{e.openElements.currentTagId===h.OPTION&&e.openElements.pop(),e._insertElement(t,re.HTML);break}case h.OPTGROUP:{e.openElements.currentTagId===h.OPTION&&e.openElements.pop(),e.openElements.currentTagId===h.OPTGROUP&&e.openElements.pop(),e._insertElement(t,re.HTML);break}case h.HR:{e.openElements.currentTagId===h.OPTION&&e.openElements.pop(),e.openElements.currentTagId===h.OPTGROUP&&e.openElements.pop(),e._appendElement(t,re.HTML),t.ackSelfClosing=!0;break}case h.INPUT:case h.KEYGEN:case h.TEXTAREA:case h.SELECT:{e.openElements.hasInSelectScope(h.SELECT)&&(e.openElements.popUntilTagNamePopped(h.SELECT),e._resetInsertionMode(),t.tagID!==h.SELECT&&e._processStartTag(t));break}case h.SCRIPT:case h.TEMPLATE:{pi(e,t);break}}}function vR(e,t){switch(t.tagID){case h.OPTGROUP:{e.openElements.stackTop>0&&e.openElements.currentTagId===h.OPTION&&e.openElements.tagIDs[e.openElements.stackTop-1]===h.OPTGROUP&&e.openElements.pop(),e.openElements.currentTagId===h.OPTGROUP&&e.openElements.pop();break}case h.OPTION:{e.openElements.currentTagId===h.OPTION&&e.openElements.pop();break}case h.SELECT:{e.openElements.hasInSelectScope(h.SELECT)&&(e.openElements.popUntilTagNamePopped(h.SELECT),e._resetInsertionMode());break}case h.TEMPLATE:{ca(e,t);break}}}function gW(e,t){const n=t.tagID;n===h.CAPTION||n===h.TABLE||n===h.TBODY||n===h.TFOOT||n===h.THEAD||n===h.TR||n===h.TD||n===h.TH?(e.openElements.popUntilTagNamePopped(h.SELECT),e._resetInsertionMode(),e._processStartTag(t)):ER(e,t)}function bW(e,t){const n=t.tagID;n===h.CAPTION||n===h.TABLE||n===h.TBODY||n===h.TFOOT||n===h.THEAD||n===h.TR||n===h.TD||n===h.TH?e.openElements.hasInTableScope(n)&&(e.openElements.popUntilTagNamePopped(h.SELECT),e._resetInsertionMode(),e.onEndTag(t)):vR(e,t)}function yW(e,t){switch(t.tagID){case h.BASE:case h.BASEFONT:case h.BGSOUND:case h.LINK:case h.META:case h.NOFRAMES:case h.SCRIPT:case h.STYLE:case h.TEMPLATE:case h.TITLE:{pi(e,t);break}case h.CAPTION:case h.COLGROUP:case h.TBODY:case h.TFOOT:case h.THEAD:{e.tmplInsertionModeStack[0]=k.IN_TABLE,e.insertionMode=k.IN_TABLE,nl(e,t);break}case h.COL:{e.tmplInsertionModeStack[0]=k.IN_COLUMN_GROUP,e.insertionMode=k.IN_COLUMN_GROUP,m_(e,t);break}case h.TR:{e.tmplInsertionModeStack[0]=k.IN_TABLE_BODY,e.insertionMode=k.IN_TABLE_BODY,zp(e,t);break}case h.TD:case h.TH:{e.tmplInsertionModeStack[0]=k.IN_ROW,e.insertionMode=k.IN_ROW,jp(e,t);break}default:e.tmplInsertionModeStack[0]=k.IN_BODY,e.insertionMode=k.IN_BODY,Dn(e,t)}}function _W(e,t){t.tagID===h.TEMPLATE&&ca(e,t)}function TR(e,t){e.openElements.tmplCount>0?(e.openElements.popUntilTagNamePopped(h.TEMPLATE),e.activeFormattingElements.clearToLastMarker(),e.tmplInsertionModeStack.shift(),e._resetInsertionMode(),e.onEof(t)):h_(e,t)}function EW(e,t){t.tagID===h.HTML?Dn(e,t):Hf(e,t)}function wR(e,t){var n;if(t.tagID===h.HTML){if(e.fragmentContext||(e.insertionMode=k.AFTER_AFTER_BODY),e.options.sourceCodeLocationInfo&&e.openElements.tagIDs[0]===h.HTML){e._setEndLocation(e.openElements.items[0],t);const r=e.openElements.items[1];r&&!(!((n=e.treeAdapter.getNodeSourceCodeLocation(r))===null||n===void 0)&&n.endTag)&&e._setEndLocation(r,t)}}else Hf(e,t)}function Hf(e,t){e.insertionMode=k.IN_BODY,Up(e,t)}function vW(e,t){switch(t.tagID){case h.HTML:{Dn(e,t);break}case h.FRAMESET:{e._insertElement(t,re.HTML);break}case h.FRAME:{e._appendElement(t,re.HTML),t.ackSelfClosing=!0;break}case h.NOFRAMES:{pi(e,t);break}}}function TW(e,t){t.tagID===h.FRAMESET&&!e.openElements.isRootHtmlElementCurrent()&&(e.openElements.pop(),!e.fragmentContext&&e.openElements.currentTagId!==h.FRAMESET&&(e.insertionMode=k.AFTER_FRAMESET))}function wW(e,t){switch(t.tagID){case h.HTML:{Dn(e,t);break}case h.NOFRAMES:{pi(e,t);break}}}function xW(e,t){t.tagID===h.HTML&&(e.insertionMode=k.AFTER_AFTER_FRAMESET)}function CW(e,t){t.tagID===h.HTML?Dn(e,t):tf(e,t)}function tf(e,t){e.insertionMode=k.IN_BODY,Up(e,t)}function SW(e,t){switch(t.tagID){case h.HTML:{Dn(e,t);break}case h.NOFRAMES:{pi(e,t);break}}}function AW(e,t){t.chars=Rt,e._insertCharacters(t)}function OW(e,t){e._insertCharacters(t),e.framesetOk=!1}function xR(e){for(;e.treeAdapter.getNamespaceURI(e.openElements.current)!==re.HTML&&!e._isIntegrationPoint(e.openElements.currentTagId,e.openElements.current);)e.openElements.pop()}function kW(e,t){if(qq(t))xR(e),e._startTagOutsideForeignContent(t);else{const n=e._getAdjustedCurrentElement(),r=e.treeAdapter.getNamespaceURI(n);r===re.MATHML?oR(t):r===re.SVG&&(Vq(t),aR(t)),f_(t),t.selfClosing?e._appendElement(t,r):e._insertElement(t,r),t.ackSelfClosing=!0}}function IW(e,t){if(t.tagID===h.P||t.tagID===h.BR){xR(e),e._endTagOutsideForeignContent(t);return}for(let n=e.openElements.stackTop;n>0;n--){const r=e.openElements.items[n];if(e.treeAdapter.getNamespaceURI(r)===re.HTML){e._endTagOutsideForeignContent(t);break}const i=e.treeAdapter.getTagName(r);if(i.toLowerCase()===t.tagName){t.tagName=i,e.openElements.shortenToLength(n);break}}}$.AREA,$.BASE,$.BASEFONT,$.BGSOUND,$.BR,$.COL,$.EMBED,$.FRAME,$.HR,$.IMG,$.INPUT,$.KEYGEN,$.LINK,$.META,$.PARAM,$.SOURCE,$.TRACK,$.WBR;function NW(e,t){return uR.parse(e,t)}function RW(e,t,n){typeof e=="string"&&(n=t,t=e,e=null);const r=uR.getFragmentParser(e,n);return r.tokenizer.write(t,!0),r.getFragment()}function Bu(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?Iw(e.position):"start"in e||"end"in e?Iw(e):"line"in e||"column"in e?m1(e):""}function m1(e){return Nw(e&&e.line)+":"+Nw(e&&e.column)}function Iw(e){return m1(e&&e.start)+"-"+m1(e&&e.end)}function Nw(e){return e&&typeof e=="number"?e:1}class Gn extends Error{constructor(t,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let i="",s={},o=!1;if(n&&("line"in n&&"column"in n?s={place:n}:"start"in n&&"end"in n?s={place:n}:"type"in n?s={ancestors:[n],place:n.position}:s={...n}),typeof t=="string"?i=t:!s.cause&&t&&(o=!0,i=t.message,s.cause=t),!s.ruleId&&!s.source&&typeof r=="string"){const l=r.indexOf(":");l===-1?s.ruleId=r:(s.source=r.slice(0,l),s.ruleId=r.slice(l+1))}if(!s.place&&s.ancestors&&s.ancestors){const l=s.ancestors[s.ancestors.length-1];l&&(s.place=l.position)}const a=s.place&&"start"in s.place?s.place.start:s.place;this.ancestors=s.ancestors||void 0,this.cause=s.cause||void 0,this.column=a?a.column:void 0,this.fatal=void 0,this.file,this.message=i,this.line=a?a.line:void 0,this.name=Bu(s.place)||"1:1",this.place=s.place||void 0,this.reason=this.message,this.ruleId=s.ruleId||void 0,this.source=s.source||void 0,this.stack=o&&s.cause&&typeof s.cause.stack=="string"?s.cause.stack:"",this.actual,this.expected,this.note,this.url}}Gn.prototype.file="";Gn.prototype.name="";Gn.prototype.reason="";Gn.prototype.message="";Gn.prototype.stack="";Gn.prototype.column=void 0;Gn.prototype.line=void 0;Gn.prototype.ancestors=void 0;Gn.prototype.cause=void 0;Gn.prototype.fatal=void 0;Gn.prototype.place=void 0;Gn.prototype.ruleId=void 0;Gn.prototype.source=void 0;const xi={basename:DW,dirname:MW,extname:PW,join:LW,sep:"/"};function DW(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');jc(e);let n=0,r=-1,i=e.length,s;if(t===void 0||t.length===0||t.length>e.length){for(;i--;)if(e.codePointAt(i)===47){if(s){n=i+1;break}}else r<0&&(s=!0,r=i+1);return r<0?"":e.slice(n,r)}if(t===e)return"";let o=-1,a=t.length-1;for(;i--;)if(e.codePointAt(i)===47){if(s){n=i+1;break}}else o<0&&(s=!0,o=i+1),a>-1&&(e.codePointAt(i)===t.codePointAt(a--)?a<0&&(r=i):(a=-1,r=o));return n===r?r=o:r<0&&(r=e.length),e.slice(n,r)}function MW(e){if(jc(e),e.length===0)return".";let t=-1,n=e.length,r;for(;--n;)if(e.codePointAt(n)===47){if(r){t=n;break}}else r||(r=!0);return t<0?e.codePointAt(0)===47?"/":".":t===1&&e.codePointAt(0)===47?"//":e.slice(0,t)}function PW(e){jc(e);let t=e.length,n=-1,r=0,i=-1,s=0,o;for(;t--;){const a=e.codePointAt(t);if(a===47){if(o){r=t+1;break}continue}n<0&&(o=!0,n=t+1),a===46?i<0?i=t:s!==1&&(s=1):i>-1&&(s=-1)}return i<0||n<0||s===0||s===1&&i===n-1&&i===r+1?"":e.slice(i,n)}function LW(...e){let t=-1,n;for(;++t<e.length;)jc(e[t]),e[t]&&(n=n===void 0?e[t]:n+"/"+e[t]);return n===void 0?".":BW(n)}function BW(e){jc(e);const t=e.codePointAt(0)===47;let n=FW(e,!t);return n.length===0&&!t&&(n="."),n.length>0&&e.codePointAt(e.length-1)===47&&(n+="/"),t?"/"+n:n}function FW(e,t){let n="",r=0,i=-1,s=0,o=-1,a,l;for(;++o<=e.length;){if(o<e.length)a=e.codePointAt(o);else{if(a===47)break;a=47}if(a===47){if(!(i===o-1||s===1))if(i!==o-1&&s===2){if(n.length<2||r!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(l=n.lastIndexOf("/"),l!==n.length-1){l<0?(n="",r=0):(n=n.slice(0,l),r=n.length-1-n.lastIndexOf("/")),i=o,s=0;continue}}else if(n.length>0){n="",r=0,i=o,s=0;continue}}t&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+e.slice(i+1,o):n=e.slice(i+1,o),r=o-i-1;i=o,s=0}else a===46&&s>-1?s++:s=-1}return n}function jc(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const $W={cwd:UW};function UW(){return"/"}function g1(e){return!!(e!==null&&typeof e=="object"&&"href"in e&&e.href&&"protocol"in e&&e.protocol&&e.auth===void 0)}function HW(e){if(typeof e=="string")e=new URL(e);else if(!g1(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if(e.protocol!=="file:"){const t=new TypeError("The URL must be of scheme file");throw t.code="ERR_INVALID_URL_SCHEME",t}return zW(e)}function zW(e){if(e.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const t=e.pathname;let n=-1;for(;++n<t.length;)if(t.codePointAt(n)===37&&t.codePointAt(n+1)===50){const r=t.codePointAt(n+2);if(r===70||r===102){const i=new TypeError("File URL path must not include encoded / characters");throw i.code="ERR_INVALID_FILE_URL_PATH",i}}return decodeURIComponent(t)}const om=["history","path","basename","stem","extname","dirname"];class b1{constructor(t){let n;t?g1(t)?n={path:t}:typeof t=="string"||jW(t)?n={value:t}:n=t:n={},this.cwd="cwd"in n?"":$W.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<om.length;){const s=om[r];s in n&&n[s]!==void 0&&n[s]!==null&&(this[s]=s==="history"?[...n[s]]:n[s])}let i;for(i in n)om.includes(i)||(this[i]=n[i])}get basename(){return typeof this.path=="string"?xi.basename(this.path):void 0}set basename(t){lm(t,"basename"),am(t,"basename"),this.path=xi.join(this.dirname||"",t)}get dirname(){return typeof this.path=="string"?xi.dirname(this.path):void 0}set dirname(t){Rw(this.basename,"dirname"),this.path=xi.join(t||"",this.basename)}get extname(){return typeof this.path=="string"?xi.extname(this.path):void 0}set extname(t){if(am(t,"extname"),Rw(this.dirname,"extname"),t){if(t.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(t.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=xi.join(this.dirname,this.stem+(t||""))}get path(){return this.history[this.history.length-1]}set path(t){g1(t)&&(t=HW(t)),lm(t,"path"),this.path!==t&&this.history.push(t)}get stem(){return typeof this.path=="string"?xi.basename(this.path,this.extname):void 0}set stem(t){lm(t,"stem"),am(t,"stem"),this.path=xi.join(this.dirname||"",t+(this.extname||""))}fail(t,n,r){const i=this.message(t,n,r);throw i.fatal=!0,i}info(t,n,r){const i=this.message(t,n,r);return i.fatal=void 0,i}message(t,n,r){const i=new Gn(t,n,r);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}toString(t){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(t||void 0).decode(this.value)}}function am(e,t){if(e&&e.includes(xi.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+xi.sep+"`")}function lm(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function Rw(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}function jW(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const qW={abandonedHeadElementChild:{reason:"Unexpected metadata element after head",description:"Unexpected element after head. Expected the element before `</head>`",url:!1},abruptClosingOfEmptyComment:{reason:"Unexpected abruptly closed empty comment",description:"Unexpected `>` or `->`. Expected `-->` to close comments"},abruptDoctypePublicIdentifier:{reason:"Unexpected abruptly closed public identifier",description:"Unexpected `>`. Expected a closing `\"` or `'` after the public identifier"},abruptDoctypeSystemIdentifier:{reason:"Unexpected abruptly closed system identifier",description:"Unexpected `>`. Expected a closing `\"` or `'` after the identifier identifier"},absenceOfDigitsInNumericCharacterReference:{reason:"Unexpected non-digit at start of numeric character reference",description:"Unexpected `%c`. Expected `[0-9]` for decimal references or `[0-9a-fA-F]` for hexadecimal references"},cdataInHtmlContent:{reason:"Unexpected CDATA section in HTML",description:"Unexpected `<![CDATA[` in HTML. Remove it, use a comment, or encode special characters instead"},characterReferenceOutsideUnicodeRange:{reason:"Unexpected too big numeric character reference",description:"Unexpectedly high character reference. Expected character references to be at most hexadecimal 10ffff (or decimal 1114111)"},closingOfElementWithOpenChildElements:{reason:"Unexpected closing tag with open child elements",description:"Unexpectedly closing tag. Expected other tags to be closed first",url:!1},controlCharacterInInputStream:{reason:"Unexpected control character",description:"Unexpected control character `%x`. Expected a non-control code point, 0x00, or ASCII whitespace"},controlCharacterReference:{reason:"Unexpected control character reference",description:"Unexpectedly control character in reference. Expected a non-control code point, 0x00, or ASCII whitespace"},disallowedContentInNoscriptInHead:{reason:"Disallowed content inside `<noscript>` in `<head>`",description:"Unexpected text character `%c`. Only use text in `<noscript>`s in `<body>`",url:!1},duplicateAttribute:{reason:"Unexpected duplicate attribute",description:"Unexpectedly double attribute. Expected attributes to occur only once"},endTagWithAttributes:{reason:"Unexpected attribute on closing tag",description:"Unexpected attribute. Expected `>` instead"},endTagWithTrailingSolidus:{reason:"Unexpected slash at end of closing tag",description:"Unexpected `%c-1`. Expected `>` instead"},endTagWithoutMatchingOpenElement:{reason:"Unexpected unopened end tag",description:"Unexpected end tag. Expected no end tag or another end tag",url:!1},eofBeforeTagName:{reason:"Unexpected end of file",description:"Unexpected end of file. Expected tag name instead"},eofInCdata:{reason:"Unexpected end of file in CDATA",description:"Unexpected end of file. Expected `]]>` to close the CDATA"},eofInComment:{reason:"Unexpected end of file in comment",description:"Unexpected end of file. Expected `-->` to close the comment"},eofInDoctype:{reason:"Unexpected end of file in doctype",description:"Unexpected end of file. Expected a valid doctype (such as `<!doctype html>`)"},eofInElementThatCanContainOnlyText:{reason:"Unexpected end of file in element that can only contain text",description:"Unexpected end of file. Expected text or a closing tag",url:!1},eofInScriptHtmlCommentLikeText:{reason:"Unexpected end of file in comment inside script",description:"Unexpected end of file. Expected `-->` to close the comment"},eofInTag:{reason:"Unexpected end of file in tag",description:"Unexpected end of file. Expected `>` to close the tag"},incorrectlyClosedComment:{reason:"Incorrectly closed comment",description:"Unexpected `%c-1`. Expected `-->` to close the comment"},incorrectlyOpenedComment:{reason:"Incorrectly opened comment",description:"Unexpected `%c`. Expected `<!--` to open the comment"},invalidCharacterSequenceAfterDoctypeName:{reason:"Invalid sequence after doctype name",description:"Unexpected sequence at `%c`. Expected `public` or `system`"},invalidFirstCharacterOfTagName:{reason:"Invalid first character in tag name",description:"Unexpected `%c`. Expected an ASCII letter instead"},misplacedDoctype:{reason:"Misplaced doctype",description:"Unexpected doctype. Expected doctype before head",url:!1},misplacedStartTagForHeadElement:{reason:"Misplaced `<head>` start tag",description:"Unexpected start tag `<head>`. Expected `<head>` directly after doctype",url:!1},missingAttributeValue:{reason:"Missing attribute value",description:"Unexpected `%c-1`. Expected an attribute value or no `%c-1` instead"},missingDoctype:{reason:"Missing doctype before other content",description:"Expected a `<!doctype html>` before anything else",url:!1},missingDoctypeName:{reason:"Missing doctype name",description:"Unexpected doctype end at `%c`. Expected `html` instead"},missingDoctypePublicIdentifier:{reason:"Missing public identifier in doctype",description:"Unexpected `%c`. Expected identifier for `public` instead"},missingDoctypeSystemIdentifier:{reason:"Missing system identifier in doctype",description:'Unexpected `%c`. Expected identifier for `system` instead (suggested: `"about:legacy-compat"`)'},missingEndTagName:{reason:"Missing name in end tag",description:"Unexpected `%c`. Expected an ASCII letter instead"},missingQuoteBeforeDoctypePublicIdentifier:{reason:"Missing quote before public identifier in doctype",description:"Unexpected `%c`. Expected `\"` or `'` instead"},missingQuoteBeforeDoctypeSystemIdentifier:{reason:"Missing quote before system identifier in doctype",description:"Unexpected `%c`. Expected `\"` or `'` instead"},missingSemicolonAfterCharacterReference:{reason:"Missing semicolon after character reference",description:"Unexpected `%c`. Expected `;` instead"},missingWhitespaceAfterDoctypePublicKeyword:{reason:"Missing whitespace after public identifier in doctype",description:"Unexpected `%c`. Expected ASCII whitespace instead"},missingWhitespaceAfterDoctypeSystemKeyword:{reason:"Missing whitespace after system identifier in doctype",description:"Unexpected `%c`. Expected ASCII whitespace instead"},missingWhitespaceBeforeDoctypeName:{reason:"Missing whitespace before doctype name",description:"Unexpected `%c`. Expected ASCII whitespace instead"},missingWhitespaceBetweenAttributes:{reason:"Missing whitespace between attributes",description:"Unexpected `%c`. Expected ASCII whitespace instead"},missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers:{reason:"Missing whitespace between public and system identifiers in doctype",description:"Unexpected `%c`. Expected ASCII whitespace instead"},nestedComment:{reason:"Unexpected nested comment",description:"Unexpected `<!--`. Expected `-->`"},nestedNoscriptInHead:{reason:"Unexpected nested `<noscript>` in `<head>`",description:"Unexpected `<noscript>`. Expected a closing tag or a meta element",url:!1},nonConformingDoctype:{reason:"Unexpected non-conforming doctype declaration",description:'Expected `<!doctype html>` or `<!doctype html system "about:legacy-compat">`',url:!1},nonVoidHtmlElementStartTagWithTrailingSolidus:{reason:"Unexpected trailing slash on start tag of non-void element",description:"Unexpected `/`. Expected `>` instead"},noncharacterCharacterReference:{reason:"Unexpected noncharacter code point referenced by character reference",description:"Unexpected code point. Do not use noncharacters in HTML"},noncharacterInInputStream:{reason:"Unexpected noncharacter character",description:"Unexpected code point `%x`. Do not use noncharacters in HTML"},nullCharacterReference:{reason:"Unexpected NULL character referenced by character reference",description:"Unexpected code point. Do not use NULL characters in HTML"},openElementsLeftAfterEof:{reason:"Unexpected end of file",description:"Unexpected end of file. Expected closing tag instead",url:!1},surrogateCharacterReference:{reason:"Unexpected surrogate character referenced by character reference",description:"Unexpected code point. Do not use lone surrogate characters in HTML"},surrogateInInputStream:{reason:"Unexpected surrogate character",description:"Unexpected code point `%x`. Do not use lone surrogate characters in HTML"},unexpectedCharacterAfterDoctypeSystemIdentifier:{reason:"Invalid character after system identifier in doctype",description:"Unexpected character at `%c`. Expected `>`"},unexpectedCharacterInAttributeName:{reason:"Unexpected character in attribute name",description:"Unexpected `%c`. Expected whitespace, `/`, `>`, `=`, or probably an ASCII letter"},unexpectedCharacterInUnquotedAttributeValue:{reason:"Unexpected character in unquoted attribute value",description:"Unexpected `%c`. Quote the attribute value to include it"},unexpectedEqualsSignBeforeAttributeName:{reason:"Unexpected equals sign before attribute name",description:"Unexpected `%c`. Add an attribute name before it"},unexpectedNullCharacter:{reason:"Unexpected NULL character",description:"Unexpected code point `%x`. Do not use NULL characters in HTML"},unexpectedQuestionMarkInsteadOfTagName:{reason:"Unexpected question mark instead of tag name",description:"Unexpected `%c`. Expected an ASCII letter instead"},unexpectedSolidusInTag:{reason:"Unexpected slash in tag",description:"Unexpected `%c-1`. Expected it followed by `>` or in a quoted attribute value"},unknownNamedCharacterReference:{reason:"Unexpected unknown named character reference",description:"Unexpected character reference. Expected known named character references"}},VW="https://html.spec.whatwg.org/multipage/parsing.html#parse-error-",WW=/-[a-z]/g,GW=/%c(?:([-+])(\d+))?/g,YW=/%x/g,KW={2:!0,1:!1,0:null},XW={};function QW(e,t){const n=t||XW,r=n.onerror,i=e instanceof b1?e:new b1(e),s=n.fragment?RW:NW,o=String(i),a=s(o,{sourceCodeLocationInfo:!0,onParseError:n.onerror?l:null,scriptingEnabled:!1});return eq(a,{file:i,space:n.space,verbose:n.verbose});function l(u){const c=u.code,d=JW(c),f=n[d],p=f??!0,m=typeof p=="number"?p:p?1:0;if(m){const b=qW[d],y=new Gn(g(b.reason),{place:{start:{line:u.startLine,column:u.startCol,offset:u.startOffset},end:{line:u.endLine,column:u.endCol,offset:u.endOffset}},ruleId:c,source:"hast-util-from-html"});i.path&&(y.file=i.path,y.name=i.path+":"+y.name),y.fatal=KW[m],y.note=g(b.description),y.url=b.url===!1?void 0:VW+c,r(y)}function g(b){return b.replace(GW,y).replace(YW,E);function y(v,w,R){const _=(R?Number.parseInt(R,10):0)*(w==="-"?-1:1),D=o.charAt(u.startOffset+_);return eG(D)}function E(){return tG(o.charCodeAt(u.startOffset))}}}}function JW(e){return e.replace(WW,ZW)}function ZW(e){return e.charAt(1).toUpperCase()}function eG(e){return e==="`"?"` ` `":e}function tG(e){return"0x"+e.toString(16).toUpperCase()}function nG(e){const t=this,{emitParseErrors:n,...r}={...t.data("settings"),...e};t.parser=i;function i(s,o){return QW(s,{...r,onerror:n?function(a){o.path&&(a.name=o.path+":"+a.name,a.file=o.path),o.messages.push(a)}:void 0})}}const CR=-1,qp=0,Fu=1,zf=2,g_=3,b_=4,y_=5,__=6,SR=7,AR=8,Dw=typeof self=="object"?self:globalThis,rG=(e,t)=>{const n=(i,s)=>(e.set(s,i),i),r=i=>{if(e.has(i))return e.get(i);const[s,o]=t[i];switch(s){case qp:case CR:return n(o,i);case Fu:{const a=n([],i);for(const l of o)a.push(r(l));return a}case zf:{const a=n({},i);for(const[l,u]of o)a[r(l)]=r(u);return a}case g_:return n(new Date(o),i);case b_:{const{source:a,flags:l}=o;return n(new RegExp(a,l),i)}case y_:{const a=n(new Map,i);for(const[l,u]of o)a.set(r(l),r(u));return a}case __:{const a=n(new Set,i);for(const l of o)a.add(r(l));return a}case SR:{const{name:a,message:l}=o;return n(new Dw[a](l),i)}case AR:return n(BigInt(o),i);case"BigInt":return n(Object(BigInt(o)),i);case"ArrayBuffer":return n(new Uint8Array(o).buffer,o);case"DataView":{const{buffer:a}=new Uint8Array(o);return n(new DataView(a),o)}}return n(new Dw[s](o),i)};return r},Mw=e=>rG(new Map,e)(0),va="",{toString:iG}={},{keys:sG}=Object,Xl=e=>{const t=typeof e;if(t!=="object"||!e)return[qp,t];const n=iG.call(e).slice(8,-1);switch(n){case"Array":return[Fu,va];case"Object":return[zf,va];case"Date":return[g_,va];case"RegExp":return[b_,va];case"Map":return[y_,va];case"Set":return[__,va];case"DataView":return[Fu,n]}return n.includes("Array")?[Fu,n]:n.includes("Error")?[SR,n]:[zf,n]},Td=([e,t])=>e===qp&&(t==="function"||t==="symbol"),oG=(e,t,n,r)=>{const i=(o,a)=>{const l=r.push(o)-1;return n.set(a,l),l},s=o=>{if(n.has(o))return n.get(o);let[a,l]=Xl(o);switch(a){case qp:{let c=o;switch(l){case"bigint":a=AR,c=o.toString();break;case"function":case"symbol":if(e)throw new TypeError("unable to serialize "+l);c=null;break;case"undefined":return i([CR],o)}return i([a,c],o)}case Fu:{if(l){let f=o;return l==="DataView"?f=new Uint8Array(o.buffer):l==="ArrayBuffer"&&(f=new Uint8Array(o)),i([l,[...f]],o)}const c=[],d=i([a,c],o);for(const f of o)c.push(s(f));return d}case zf:{if(l)switch(l){case"BigInt":return i([l,o.toString()],o);case"Boolean":case"Number":case"String":return i([l,o.valueOf()],o)}if(t&&"toJSON"in o)return s(o.toJSON());const c=[],d=i([a,c],o);for(const f of sG(o))(e||!Td(Xl(o[f])))&&c.push([s(f),s(o[f])]);return d}case g_:return i([a,o.toISOString()],o);case b_:{const{source:c,flags:d}=o;return i([a,{source:c,flags:d}],o)}case y_:{const c=[],d=i([a,c],o);for(const[f,p]of o)(e||!(Td(Xl(f))||Td(Xl(p))))&&c.push([s(f),s(p)]);return d}case __:{const c=[],d=i([a,c],o);for(const f of o)(e||!Td(Xl(f)))&&c.push(s(f));return d}}const{message:u}=o;return i([a,{name:l,message:u}],o)};return s},Pw=(e,{json:t,lossy:n}={})=>{const r=[];return oG(!(t||n),!!t,new Map,r)(e),r},Jo=typeof structuredClone=="function"?(e,t)=>t&&("json"in t||"lossy"in t)?Mw(Pw(e,t)):structuredClone(e):(e,t)=>Mw(Pw(e,t)),E_=function(e,t,n,r,i){const s=hi(t);return OR(e)?s.call(i,e,n,r):!1},hi=function(e){if(e==null)return uG;if(typeof e=="string")return lG(e);if(typeof e=="object")return aG(e);if(typeof e=="function")return v_(e);throw new Error("Expected function, string, or array as `test`")};function aG(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=hi(e[n]);return v_(r);function r(...i){let s=-1;for(;++s<t.length;)if(t[s].apply(this,i))return!0;return!1}}function lG(e){return v_(t);function t(n){return n.tagName===e}}function v_(e){return t;function t(n,r,i){return!!(OR(n)&&e.call(this,n,typeof r=="number"?r:void 0,i||void 0))}}function uG(e){return!!(e&&typeof e=="object"&&"type"in e&&e.type==="element"&&"tagName"in e&&typeof e.tagName=="string")}function OR(e){return e!==null&&typeof e=="object"&&"type"in e&&"tagName"in e}const kR=hi(function(e){return e.tagName==="audio"||e.tagName==="canvas"||e.tagName==="embed"||e.tagName==="iframe"||e.tagName==="img"||e.tagName==="math"||e.tagName==="object"||e.tagName==="picture"||e.tagName==="svg"||e.tagName==="video"}),cG=/[ \t\n\f\r]/g;function qc(e){return typeof e=="object"?e.type==="text"?Lw(e.value):!1:Lw(e)}function Lw(e){return e.replace(cG,"")===""}const Vc=function(e){if(e==null)return hG;if(typeof e=="function")return Vp(e);if(typeof e=="object")return Array.isArray(e)?dG(e):fG(e);if(typeof e=="string")return pG(e);throw new Error("Expected function, string, or object as test")};function dG(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=Vc(e[n]);return Vp(r);function r(...i){let s=-1;for(;++s<t.length;)if(t[s].apply(this,i))return!0;return!1}}function fG(e){const t=e;return Vp(n);function n(r){const i=r;let s;for(s in e)if(i[s]!==t[s])return!1;return!0}}function pG(e){return Vp(t);function t(n){return n&&n.type===e}}function Vp(e){return t;function t(n,r,i){return!!(mG(n)&&e.call(this,n,typeof r=="number"?r:void 0,i||void 0))}}function hG(){return!0}function mG(e){return e!==null&&typeof e=="object"&&"type"in e}const gG=["address","article","aside","blockquote","body","br","caption","center","col","colgroup","dd","dialog","dir","div","dl","dt","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","legend","li","li","listing","main","menu","nav","ol","optgroup","option","p","plaintext","pre","section","summary","table","tbody","td","td","tfoot","th","th","thead","tr","ul","wbr","xmp"],bG=["button","input","select","textarea"],yG=["area","base","basefont","dialog","datalist","head","link","meta","noembed","noframes","param","rp","script","source","style","template","track","title"],_G={},T_=Vc(["comment","doctype"]);function EG(e,t){IR(e,{collapse:AG((t||_G).newlines?CG:SG),whitespace:"normal"})}function IR(e,t){if("children"in e){const n={...t};return(e.type==="root"||DR(e))&&(n.before=!0,n.after=!0),n.whitespace=OG(e,t),TG(e,n)}if(e.type==="text"){if(t.whitespace==="normal")return vG(e,t);t.whitespace==="nowrap"&&(e.value=t.collapse(e.value))}return{ignore:T_(e),stripAtStart:!1,remove:!1}}function vG(e,t){const n=t.collapse(e.value),r={ignore:!1,stripAtStart:!1,remove:!1};let i=0,s=n.length;return t.before&&Bw(n.charAt(0))&&i++,i!==s&&Bw(n.charAt(s-1))&&(t.after?s--:r.stripAtStart=!0),i===s?r.remove=!0:e.value=n.slice(i,s),r}function TG(e,t){let n=t.before;const r=t.after,i=e.children;let s=i.length,o=-1;for(;++o<s;){const a=IR(i[o],{...t,after:NR(i,o,r),before:n});a.remove?(i.splice(o,1),o--,s--):a.ignore||(n=a.stripAtStart),RR(i[o])&&(n=!1)}return{ignore:!1,stripAtStart:!!(n||r),remove:!1}}function NR(e,t,n){for(;++t<e.length;){const r=e[t];let i=wG(r);if(i===void 0&&"children"in r&&!xG(r)&&(i=NR(r.children,-1)),typeof i=="boolean")return i}return n}function wG(e){if(e.type==="element"){if(RR(e))return!1;if(DR(e))return!0}else if(e.type==="text"){if(!qc(e))return!1}else if(!T_(e))return!1}function RR(e){return kR(e)||E_(e,bG)}function DR(e){return E_(e,gG)}function xG(e){return!!(e.type==="element"&&e.properties.hidden)||T_(e)||E_(e,yG)}function Bw(e){return e===" "||e===`
`}function CG(e){const t=/\r?\n|\r/.exec(e);return t?t[0]:" "}function SG(){return" "}function AG(e){return t;function t(n){return String(n).replace(/[\t\n\v\f\r ]+/g,e)}}function OG(e,t){if("tagName"in e&&e.properties)switch(e.tagName){case"listing":case"plaintext":case"script":case"style":case"xmp":return"pre";case"nobr":return"nowrap";case"pre":return e.properties.wrap?"pre-wrap":"pre";case"td":case"th":return e.properties.noWrap?"nowrap":t.whitespace;case"textarea":return"pre-wrap"}return t.whitespace}function kG(e){return function(t){EG(t,e)}}const MR=[],IG=!0,jf=!1,PR="skip";function NG(e,t,n,r){let i;typeof t=="function"&&typeof n!="function"?(r=n,n=t):i=t;const s=Vc(i),o=r?-1:1;a(e,void 0,[])();function a(l,u,c){const d=l&&typeof l=="object"?l:{};if(typeof d.type=="string"){const p=typeof d.tagName=="string"?d.tagName:typeof d.name=="string"?d.name:void 0;Object.defineProperty(f,"name",{value:"node ("+(l.type+(p?"<"+p+">":""))+")"})}return f;function f(){let p=MR,m,g,b;if((!t||s(l,u,c[c.length-1]||void 0))&&(p=RG(n(l,c)),p[0]===jf))return p;if("children"in l&&l.children){const y=l;if(y.children&&p[0]!==PR)for(g=(r?y.children.length:-1)+o,b=c.concat(y);g>-1&&g<y.children.length;){const E=y.children[g];if(m=a(E,g,b)(),m[0]===jf)return m;g=typeof m[1]=="number"?m[1]:g+o}}return p}}}function RG(e){return Array.isArray(e)?e:typeof e=="number"?[IG,e]:e==null?MR:[e]}function rl(e,t,n,r){let i,s,o;typeof t=="function"?(s=void 0,o=t,i=n):(s=t,o=n,i=r),NG(e,s,a,i);function a(l,u){const c=u[u.length-1],d=c?c.children.indexOf(l):void 0;return o(l,d,c)}}const LR=FR("end"),BR=FR("start");function FR(e){return t;function t(n){const r=n&&n.position&&n.position[e]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}function w_(e){const t=BR(e),n=LR(e);if(t&&n)return{start:t,end:n}}function DG(e,t){const n=t.properties||{},r=e.all(t),i={type:"link",url:e.resolve(String(n.href||"")||null),title:n.title?String(n.title):null,children:r};return e.patch(t,i),i}function MG(e,t){e.baseFound||(e.frozenBaseUrl=String(t.properties&&t.properties.href||"")||void 0,e.baseFound=!0)}function PG(e,t){const n={type:"blockquote",children:e.toFlow(e.all(t))};return e.patch(t,n),n}function LG(e,t){const n={type:"break"};return e.patch(t,n),n}const Fw=function(e,t,n){const r=Vc(n);if(!e||!e.type||!e.children)throw new Error("Expected parent node");if(typeof t=="number"){if(t<0||t===Number.POSITIVE_INFINITY)throw new Error("Expected positive finite number as index")}else if(t=e.children.indexOf(t),t<0)throw new Error("Expected child node or index");for(;++t<e.children.length;)if(r(e.children[t],t,e))return e.children[t]},$w=/\n/g,Uw=/[\t ]+/g,y1=hi("br"),Hw=hi(jG),BG=hi("p"),zw=hi("tr"),FG=hi(["datalist","head","noembed","noframes","noscript","rp","script","style","template","title",zG,qG]),$R=hi(["address","article","aside","blockquote","body","caption","center","dd","dialog","dir","dl","dt","div","figure","figcaption","footer","form,","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","legend","li","listing","main","menu","nav","ol","p","plaintext","pre","section","ul","xmp"]);function Wc(e,t){const n={},r="children"in e?e.children:[],i=$R(e),s=zR(e,{whitespace:n.whitespace||"normal"}),o=[];(e.type==="text"||e.type==="comment")&&o.push(...HR(e,{breakBefore:!0,breakAfter:!0}));let a=-1;for(;++a<r.length;)o.push(...UR(r[a],e,{whitespace:s,breakBefore:a?void 0:i,breakAfter:a<r.length-1?y1(r[a+1]):i}));const l=[];let u;for(a=-1;++a<o.length;){const c=o[a];typeof c=="number"?u!==void 0&&c>u&&(u=c):c&&(u!==void 0&&u>-1&&l.push(`
`.repeat(u)||" "),u=-1,l.push(c))}return l.join("")}function UR(e,t,n){return e.type==="element"?$G(e,t,n):e.type==="text"?n.whitespace==="normal"?HR(e,n):UG(e):[]}function $G(e,t,n){const r=zR(e,n),i=e.children||[];let s=-1,o=[];if(FG(e))return o;let a,l;for(y1(e)||zw(e)&&Fw(t,e,zw)?l=`
`:BG(e)?(a=2,l=2):$R(e)&&(a=1,l=1);++s<i.length;)o=o.concat(UR(i[s],e,{whitespace:r,breakBefore:s?void 0:a,breakAfter:s<i.length-1?y1(i[s+1]):l}));return Hw(e)&&Fw(t,e,Hw)&&o.push("	"),a&&o.unshift(a),l&&o.push(l),o}function HR(e,t){const n=String(e.value),r=[],i=[];let s=0;for(;s<=n.length;){$w.lastIndex=s;const l=$w.exec(n),u=l&&"index"in l?l.index:n.length;r.push(HG(n.slice(s,u).replace(/[\u061C\u200E\u200F\u202A-\u202E\u2066-\u2069]/g,""),s===0?t.breakBefore:!0,u===n.length?t.breakAfter:!0)),s=u+1}let o=-1,a;for(;++o<r.length;)r[o].charCodeAt(r[o].length-1)===8203||o<r.length-1&&r[o+1].charCodeAt(0)===8203?(i.push(r[o]),a=void 0):r[o]?(typeof a=="number"&&i.push(a),i.push(r[o]),a=0):(o===0||o===r.length-1)&&i.push(0);return i}function UG(e){return[String(e.value)]}function HG(e,t,n){const r=[];let i=0,s;for(;i<e.length;){Uw.lastIndex=i;const o=Uw.exec(e);s=o?o.index:e.length,!i&&!s&&o&&!t&&r.push(""),i!==s&&r.push(e.slice(i,s)),i=o?s+o[0].length:s}return i!==s&&!n&&r.push(""),r.join(" ")}function zR(e,t){if(e.type==="element"){const n=e.properties||{};switch(e.tagName){case"listing":case"plaintext":case"xmp":return"pre";case"nobr":return"nowrap";case"pre":return n.wrap?"pre-wrap":"pre";case"td":case"th":return n.noWrap?"nowrap":t.whitespace;case"textarea":return"pre-wrap"}}return t.whitespace}function zG(e){return!!(e.properties||{}).hidden}function jG(e){return e.tagName==="td"||e.tagName==="th"}function qG(e){return e.tagName==="dialog"&&!(e.properties||{}).open}function VG(e){const t=String(e);let n=t.length;for(;n>0;){const r=t.codePointAt(n-1);if(r!==void 0&&(r===10||r===13))n--;else break}return t.slice(0,n)}const um="language-";function wd(e,t){const n=t.children;let r=-1,i,s;if(t.tagName==="pre")for(;++r<n.length;){const a=n[r];if(a.type==="element"&&a.tagName==="code"&&a.properties&&a.properties.className&&Array.isArray(a.properties.className)){i=a.properties.className;break}}if(i){for(r=-1;++r<i.length;)if(String(i[r]).slice(0,um.length)===um){s=String(i[r]).slice(um.length);break}}const o={type:"code",lang:s||null,meta:null,value:VG(Wc(t))};return e.patch(t,o),o}function WG(e,t){const n={type:"html",value:"<!--"+t.value+"-->"};return e.patch(t,n),n}function cm(e,t){const r={type:"delete",children:e.all(t)};return e.patch(t,r),r}function x_(e){let t=-1;if(e.length>1){for(;++t<e.length;)if(e[t].spread)return!0}return!1}function GG(e,t){const n=[],r=[];let i=-1;for(;++i<t.children.length;){const a=t.children[i];a.type==="element"&&a.tagName==="div"?n.push(...a.children):n.push(a)}let s={definitions:[],titles:[]};for(i=-1;++i<n.length;){const a=n[i];if(a.type==="element"&&a.tagName==="dt"){const l=n[i-1];l&&l.type==="element"&&l.tagName==="dd"&&(r.push(s),s={definitions:[],titles:[]}),s.titles.push(a)}else s.definitions.push(a)}r.push(s),i=-1;const o=[];for(;++i<r.length;){const a=[...jw(e,r[i].titles),...jw(e,r[i].definitions)];a.length>0&&o.push({type:"listItem",spread:a.length>1,checked:null,children:a})}if(o.length>0){const a={type:"list",ordered:!1,start:null,spread:x_(o),children:o};return e.patch(t,a),a}}function jw(e,t){const n=e.all({type:"root",children:t}),r=e.toSpecificContent(n,YG);return r.length===0?[]:r.length===1?r[0].children:[{type:"list",ordered:!1,start:null,spread:x_(r),children:r}]}function YG(){return{type:"listItem",spread:!1,checked:null,children:[]}}function xd(e,t){const r={type:"emphasis",children:e.all(t)};return e.patch(t,r),r}function C_(e){let t=0,n=e.length;for(;t<n&&e[t].type==="break";)t++;for(;n>t&&e[n-1].type==="break";)n--;return t===0&&n===e.length?e:e.slice(t,n)}function Ta(e,t){const n=Number(t.tagName.charAt(1))||1,r=C_(e.all(t)),i={type:"heading",depth:n,children:r};return e.patch(t,i),i}function KG(e,t){const n={type:"thematicBreak"};return e.patch(t,n),n}function XG(e,t){const n=t.properties||{},r=String(n.src||""),i=String(n.title||"");if(r&&i){const s={type:"link",title:null,url:e.resolve(r),children:[{type:"text",value:i}]};return e.patch(t,s),s}}function qw(e,t){const n=t.properties||{},r={type:"image",url:e.resolve(String(n.src||"")||null),title:n.title?String(n.title):null,alt:n.alt?String(n.alt):""};return e.patch(t,r),r}function Ql(e,t){const n={type:"inlineCode",value:Wc(t)};return e.patch(t,n),n}function jR(e,t){const n=[],r=[],i=t||e.properties||{},s=qR(e),o=Math.min(Number.parseInt(String(i.size),10),0)||(i.multiple?4:1);let a=-1;for(;++a<s.length;){const c=s[a];c&&c.properties&&c.properties.selected&&n.push(c)}const l=n.length>0?n:s,u=Math.min(l.length,o);for(a=-1;++a<u;){const c=l[a],d=c.properties||{},f=Wc(c),p=f||String(d.label||""),m=String(d.value||"")||f;r.push([m,p===m?void 0:p])}return r}function qR(e){const t=[];let n=-1;for(;++n<e.children.length;){const r=e.children[n];"children"in r&&Array.isArray(r.children)&&t.push(...qR(r)),r.type==="element"&&r.tagName==="option"&&(!r.properties||!r.properties.disabled)&&t.push(r)}return t}const QG="[x]",JG="[ ]";function ZG(e,t){const n=t.properties||{},r=String(n.value||n.placeholder||"");if(n.disabled||n.type==="hidden"||n.type==="file")return;if(n.type==="checkbox"||n.type==="radio"){const l={type:"text",value:n.checked?e.options.checked||QG:e.options.unchecked||JG};return e.patch(t,l),l}if(n.type==="image"){const l=n.alt||r;if(l){const u={type:"image",url:e.resolve(String(n.src||"")||null),title:String(n.title||"")||null,alt:String(l)};return e.patch(t,u),u}return}let i=[];if(r)i=[[r,void 0]];else if(n.type!=="button"&&n.type!=="file"&&n.type!=="password"&&n.type!=="reset"&&n.type!=="submit"&&n.list){const l=String(n.list),u=e.elementById.get(l);u&&u.tagName==="datalist"&&(i=jR(u,n))}if(i.length===0)return;if(n.type==="password"&&(i[0]=["•".repeat(i[0][0].length),void 0]),n.type==="email"||n.type==="url"){const l=[];let u=-1;for(;++u<i.length;){const c=e.resolve(i[u][0]),d={type:"link",title:null,url:n.type==="email"?"mailto:"+c:c,children:[{type:"text",value:i[u][1]||c}]};l.push(d),u!==i.length-1&&l.push({type:"text",value:", "})}return l}const s=[];let o=-1;for(;++o<i.length;)s.push(i[o][1]?i[o][1]+" ("+i[o][0]+")":i[o][0]);const a={type:"text",value:s.join(", ")};return e.patch(t,a),a}const eY={}.hasOwnProperty;function tY(e,t){const n=e.type==="element"&&eY.call(e.properties,t)&&e.properties[t];return n!=null&&n!==!1}const nY=new Set(["pingback","prefetch","stylesheet"]);function rY(e){if(e.type!=="element"||e.tagName!=="link")return!1;if(e.properties.itemProp)return!0;const t=e.properties.rel;let n=-1;if(!Array.isArray(t)||t.length===0)return!1;for(;++n<t.length;)if(!nY.has(String(t[n])))return!1;return!0}const iY=hi(["a","abbr","area","b","bdi","bdo","br","button","cite","code","data","datalist","del","dfn","em","i","input","ins","kbd","keygen","label","map","mark","meter","noscript","output","progress","q","ruby","s","samp","script","select","small","span","strong","sub","sup","template","textarea","time","u","var","wbr"]),sY=hi("meta");function VR(e){return!!(e.type==="text"||iY(e)||kR(e)||rY(e)||sY(e)&&tY(e,"itemProp"))}function dm(e,t){const{rest:n,checkbox:r}=GR(t),i=r?!!r.properties.checked:null,s=WR(n),o=e.toFlow(e.all(n)),a={type:"listItem",spread:s,checked:i,children:o};return e.patch(t,a),a}function WR(e){let t=-1,n=!1;for(;++t<e.children.length;){const r=e.children[t];if(r.type==="element"){if(VR(r))continue;if(r.tagName==="p"||n||WR(r))return!0;n=!0}}return!1}function GR(e){const t=e.children[0];if(t&&t.type==="element"&&t.tagName==="input"&&t.properties&&(t.properties.type==="checkbox"||t.properties.type==="radio")){const n={...e,children:e.children.slice(1)};return{checkbox:t,rest:n}}if(t&&t.type==="element"&&t.tagName==="p"){const{checkbox:n,rest:r}=GR(t);if(n){const i={...e,children:[r,...e.children.slice(1)]};return{checkbox:n,rest:i}}}return{checkbox:void 0,rest:e}}function fm(e,t){const n=t.tagName==="ol",r=e.toSpecificContent(e.all(t),oY);let i=null;n&&(i=t.properties&&t.properties.start?Number.parseInt(String(t.properties.start),10):1);const s={type:"list",ordered:n,start:i,spread:x_(r),children:r};return e.patch(t,s),s}function oY(){return{type:"listItem",spread:!1,checked:null,children:[]}}const aY={};function Wp(e,t){const n=aY,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,i=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return YR(e,r,i)}function YR(e,t,n){if(lY(e)){if("value"in e)return e.type==="html"&&!n?"":e.value;if(t&&"alt"in e&&e.alt)return e.alt;if("children"in e)return Vw(e.children,t,n)}return Array.isArray(e)?Vw(e,t,n):""}function Vw(e,t,n){const r=[];let i=-1;for(;++i<e.length;)r[i]=YR(e[i],t,n);return r.join("")}function lY(e){return!!(e&&typeof e=="object")}const KR=Vc(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function Gp(e){let t=-1;for(;++t<e.length;){const n=e[t];if(!JR(n)||"children"in n&&Gp(n.children))return!0}return!1}function XR(e){return QR(e,t,function(n){return n});function t(n){return n.every(function(r){return r.type==="text"?qc(r.value):!1})?[]:[{type:"paragraph",children:C_(n)}]}}function uY(e){return QR(e.children,t,n);function t(r){const i=pm(e);return i.children=r,[i]}function n(r){if("children"in r&&"children"in e){const i=pm(e),s=pm(r);return i.children=r.children,s.children.push(i),s}return{...r}}}function QR(e,t,n){const r=cY(e),i=[];let s=[],o=-1;for(;++o<r.length;){const a=r[o];JR(a)?s.push(a):(s.length>0&&(i.push(...t(s)),s=[]),i.push(n(a)))}return s.length>0&&(i.push(...t(s)),s=[]),i}function cY(e){const t=[];let n=-1;for(;++n<e.length;){const r=e[n];(r.type==="delete"||r.type==="link")&&Gp(r.children)?t.push(...uY(r)):t.push(r)}return t}function JR(e){const t=e.data&&e.data.hName;return t?VR({type:"element",tagName:t,properties:{},children:[]}):KR(e)}function pm(e){return Jo({...e,children:[]})}function Ww(e,t){const n=t.properties||{},r=t.tagName==="video"?String(n.poster||""):"";let i=String(n.src||""),s=-1,o=!1,a=e.all(t);if(rl({type:"root",children:a},function(d){if(d.type==="link")return o=!0,jf}),o||Gp(a))return a;for(;!i&&++s<t.children.length;){const d=t.children[s];d.type==="element"&&d.tagName==="source"&&d.properties&&(i=String(d.properties.src||""))}if(r){const d={type:"image",title:null,url:e.resolve(r),alt:Wp(a)};e.patch(t,d),a=[d]}const u=a,c={type:"link",title:n.title?String(n.title):null,url:e.resolve(i),children:u};return e.patch(t,c),c}function Gw(e,t){const n=C_(e.all(t));if(n.length>0){const r={type:"paragraph",children:n};return e.patch(t,r),r}}const dY=['"'];function fY(e,t){const n=e.options.quotes||dY;e.qNesting++;const r=e.all(t);e.qNesting--;const i=n[e.qNesting%n.length],s=r[0],o=r[r.length-1],a=i.charAt(0),l=i.length>1?i.charAt(1):i;return s&&s.type==="text"?s.value=a+s.value:r.unshift({type:"text",value:a}),o&&o.type==="text"?o.value+=l:r.push({type:"text",value:l}),r}function pY(e,t){let n=e.all(t);(e.options.document||Gp(n))&&(n=XR(n));const r={type:"root",children:n};return e.patch(t,r),r}function hY(e,t){const n=jR(t);let r=-1;const i=[];for(;++r<n.length;){const s=n[r];i.push(s[1]?s[1]+" ("+s[0]+")":s[0])}if(i.length>0){const s={type:"text",value:i.join(", ")};return e.patch(t,s),s}}function Yw(e,t){const r={type:"strong",children:e.all(t)};return e.patch(t,r),r}function Kw(e,t){const r={type:"tableCell",children:e.all(t)};if(e.patch(t,r),t.properties){const i=t.properties.rowSpan,s=t.properties.colSpan;if(i||s){const o=r.data||(r.data={});i&&(o.hastUtilToMdastTemporaryRowSpan=i),s&&(o.hastUtilToMdastTemporaryColSpan=s)}}return r}function mY(e,t){const r={type:"tableRow",children:e.toSpecificContent(e.all(t),gY)};return e.patch(t,r),r}function gY(){return{type:"tableCell",children:[]}}function bY(e,t){if(e.inTable){const u={type:"text",value:Wc(t)};return e.patch(t,u),u}e.inTable=!0;const{align:n,headless:r}=yY(t),i=e.toSpecificContent(e.all(t),Xw);r&&i.unshift(Xw());let s=-1;for(;++s<i.length;){const u=i[s],c=e.toSpecificContent(u.children,_Y);u.children=c}let o=1;for(s=-1;++s<i.length;){const u=i[s].children;let c=-1;for(;++c<u.length;){const d=u[c];if(d.data){const f=d.data,p=Number.parseInt(String(f.hastUtilToMdastTemporaryColSpan),10)||1,m=Number.parseInt(String(f.hastUtilToMdastTemporaryRowSpan),10)||1;if(p>1||m>1){let g=s-1;for(;++g<s+m;){let b=c-1;for(;++b<c+p&&i[g];){const y=[];(g!==s||b!==c)&&y.push({type:"tableCell",children:[]}),i[g].children.splice(b,0,...y)}}}"hastUtilToMdastTemporaryColSpan"in d.data&&delete d.data.hastUtilToMdastTemporaryColSpan,"hastUtilToMdastTemporaryRowSpan"in d.data&&delete d.data.hastUtilToMdastTemporaryRowSpan,Object.keys(d.data).length===0&&delete d.data}}u.length>o&&(o=u.length)}for(s=-1;++s<i.length;){const u=i[s].children;let c=u.length-1;for(;++c<o;)u.push({type:"tableCell",children:[]})}let a=n.length-1;for(;++a<o;)n.push(null);e.inTable=!1;const l={type:"table",align:n,children:i};return e.patch(t,l),l}function yY(e){const t={align:[null],headless:!0};let n=0,r=0;return rl(e,function(i){if(i.type==="element"){if(i.tagName==="table"&&e!==i)return PR;if((i.tagName==="th"||i.tagName==="td")&&i.properties){if(!t.align[r]){const s=String(i.properties.align||"")||null;(s==="center"||s==="left"||s==="right"||s===null)&&(t.align[r]=s)}t.headless&&n<2&&i.tagName==="th"&&(t.headless=!1),r++}else i.tagName==="thead"?t.headless=!1:i.tagName==="tr"&&(n++,r=0)}}),t}function _Y(){return{type:"tableCell",children:[]}}function Xw(){return{type:"tableRow",children:[]}}function EY(e,t){const n={type:"text",value:t.value};return e.patch(t,n),n}function vY(e,t){const n={type:"text",value:Wc(t)};return e.patch(t,n),n}function TY(e,t){const n={type:"text",value:"​"};return e.patch(t,n),n}const wY={comment:WG,doctype:Ze,root:pY,text:EY},xY={applet:Ze,area:Ze,basefont:Ze,bgsound:Ze,caption:Ze,col:Ze,colgroup:Ze,command:Ze,content:Ze,datalist:Ze,dialog:Ze,element:Ze,embed:Ze,frame:Ze,frameset:Ze,isindex:Ze,keygen:Ze,link:Ze,math:Ze,menu:Ze,menuitem:Ze,meta:Ze,nextid:Ze,noembed:Ze,noframes:Ze,optgroup:Ze,option:Ze,param:Ze,script:Ze,shadow:Ze,source:Ze,spacer:Ze,style:Ze,svg:Ze,template:Ze,title:Ze,track:Ze,abbr:Je,acronym:Je,bdi:Je,bdo:Je,big:Je,blink:Je,button:Je,canvas:Je,cite:Je,data:Je,details:Je,dfn:Je,font:Je,ins:Je,label:Je,map:Je,marquee:Je,meter:Je,nobr:Je,noscript:Je,object:Je,output:Je,progress:Je,rb:Je,rbc:Je,rp:Je,rt:Je,rtc:Je,ruby:Je,slot:Je,small:Je,span:Je,sup:Je,sub:Je,tbody:Je,tfoot:Je,thead:Je,time:Je,address:qt,article:qt,aside:qt,body:qt,center:qt,div:qt,fieldset:qt,figcaption:qt,figure:qt,form:qt,footer:qt,header:qt,hgroup:qt,html:qt,legend:qt,main:qt,multicol:qt,nav:qt,picture:qt,section:qt,a:DG,audio:Ww,b:Yw,base:MG,blockquote:PG,br:LG,code:Ql,dir:fm,dl:GG,dt:dm,dd:dm,del:cm,em:xd,h1:Ta,h2:Ta,h3:Ta,h4:Ta,h5:Ta,h6:Ta,hr:KG,i:xd,iframe:XG,img:qw,image:qw,input:ZG,kbd:Ql,li:dm,listing:wd,mark:xd,ol:fm,p:Gw,plaintext:wd,pre:wd,q:fY,s:cm,samp:Ql,select:hY,strike:cm,strong:Yw,summary:Gw,table:bY,td:Kw,textarea:vY,th:Kw,tr:mY,tt:Ql,u:xd,ul:fm,var:Ql,video:Ww,wbr:TY,xmp:wd};function Je(e,t){return e.all(t)}function qt(e,t){return e.toFlow(e.all(t))}function Ze(){}const Qw={}.hasOwnProperty;function CY(e){return{all:SY,baseFound:!1,elementById:new Map,frozenBaseUrl:void 0,handlers:{...xY,...e.handlers},inTable:!1,nodeHandlers:{...wY,...e.nodeHandlers},one:AY,options:e,patch:OY,qNesting:0,resolve:kY,toFlow:IY,toSpecificContent:NY}}function SY(e){const t=e.children||[],n=[];let r=-1;for(;++r<t.length;){const i=t[r],s=this.one(i,e);Array.isArray(s)?n.push(...s):s&&n.push(s)}return n}function AY(e,t){if(e.type==="element"){if(e.properties&&e.properties.dataMdast==="ignore")return;if(Qw.call(this.handlers,e.tagName))return this.handlers[e.tagName](this,e,t)||void 0}else if(Qw.call(this.nodeHandlers,e.type))return this.nodeHandlers[e.type](this,e,t)||void 0;if("value"in e&&typeof e.value=="string"){const n={type:"text",value:e.value};return this.patch(e,n),n}if("children"in e)return this.all(e)}function OY(e,t){e.position&&(t.position=w_(e))}function kY(e){const t=this.frozenBaseUrl;return e==null?"":t?String(new URL(e,t)):e}function IY(e){return XR(e)}function NY(e,t){const n=t(),r=[];let i=[],s=-1;for(;++s<e.length;){const a=e[s];if(o(a))i.length>0&&(a.children.unshift(...i),i=[]),r.push(a);else{const l=a;i.push(l)}}if(i.length>0){let a=r[r.length-1];a||(a=t(),r.push(a)),a.children.push(...i),i=[]}return r;function o(a){return a.type===n.type}}const RY={};function Jw(e,t){const n=Jo(e),r=t||RY,i=kG({newlines:r.newlines===!0}),s=CY(r);let o;i(n),rl(n,function(l){if(l&&l.type==="element"&&l.properties){const u=String(l.properties.id||"")||void 0;u&&!s.elementById.has(u)&&s.elementById.set(u,l)}});const a=s.one(n,void 0);return a?Array.isArray(a)?o={type:"root",children:a}:o=a:o={type:"root",children:[]},rl(o,function(l,u,c){if(l.type==="text"&&u!==void 0&&c){const d=c.children[u-1];if(d&&d.type===l.type)return d.value+=l.value,c.children.splice(u,1),d.position&&l.position&&(d.position.end=l.position.end),u-1;if(l.value=l.value.replace(/[\t ]*(\r?\n|\r)[\t ]*/,"$1"),c&&(c.type==="heading"||c.type==="paragraph"||c.type==="root")&&(u||(l.value=l.value.replace(/^[\t ]+/,"")),u===c.children.length-1&&(l.value=l.value.replace(/[\t ]+$/,""))),!l.value)return c.children.splice(u,1),u}}),o}const Zw={document:!0};function DY(e,t){return e&&"run"in e?async function(n,r){const i=Jw(n,{...Zw,...t});await e.run(i,r)}:function(n){return Jw(n,{...Zw,...e})}}const Ao=["ariaDescribedBy","ariaLabel","ariaLabelledBy"],ex={ancestors:{tbody:["table"],td:["table"],th:["table"],thead:["table"],tfoot:["table"],tr:["table"]},attributes:{a:[...Ao,"dataFootnoteBackref","dataFootnoteRef",["className","data-footnote-backref"],"href"],blockquote:["cite"],code:[["className",/^language-./]],del:["cite"],div:["itemScope","itemType"],dl:[...Ao],h2:[["className","sr-only"]],img:[...Ao,"longDesc","src"],input:[["disabled",!0],["type","checkbox"]],ins:["cite"],li:[["className","task-list-item"]],ol:[...Ao,["className","contains-task-list"]],q:["cite"],section:["dataFootnotes",["className","footnotes"]],source:["srcSet"],summary:[...Ao],table:[...Ao],ul:[...Ao,["className","contains-task-list"]],"*":["abbr","accept","acceptCharset","accessKey","action","align","alt","axis","border","cellPadding","cellSpacing","char","charOff","charSet","checked","clear","colSpan","color","cols","compact","coords","dateTime","dir","encType","frame","hSpace","headers","height","hrefLang","htmlFor","id","isMap","itemProp","label","lang","maxLength","media","method","multiple","name","noHref","noShade","noWrap","open","prompt","readOnly","rev","rowSpan","rows","rules","scope","selected","shape","size","span","start","summary","tabIndex","title","useMap","vAlign","value","width"]},clobber:["ariaDescribedBy","ariaLabelledBy","id","name"],clobberPrefix:"user-content-",protocols:{cite:["http","https"],href:["http","https","irc","ircs","mailto","xmpp"],longDesc:["http","https"],src:["http","https"]},required:{input:{disabled:!0,type:"checkbox"}},strip:["script"],tagNames:["a","b","blockquote","br","code","dd","del","details","div","dl","dt","em","h1","h2","h3","h4","h5","h6","hr","i","img","input","ins","kbd","li","ol","p","picture","pre","q","rp","rt","ruby","s","samp","section","source","span","strike","strong","sub","summary","sup","table","tbody","td","tfoot","th","thead","tr","tt","ul","var"]},Fs={}.hasOwnProperty;function MY(e,t){let n={type:"root",children:[]};const r={schema:t?{...ex,...t}:ex,stack:[]},i=ZR(r,e);return i&&(Array.isArray(i)?i.length===1?n=i[0]:n.children=i:n=i),n}function ZR(e,t){if(t&&typeof t=="object"){const n=t;switch(typeof n.type=="string"?n.type:""){case"comment":return PY(e,n);case"doctype":return LY(e,n);case"element":return BY(e,n);case"root":return FY(e,n);case"text":return $Y(e,n)}}}function PY(e,t){if(e.schema.allowComments){const n=typeof t.value=="string"?t.value:"",r=n.indexOf("-->"),s={type:"comment",value:r<0?n:n.slice(0,r)};return Gc(s,t),s}}function LY(e,t){if(e.schema.allowDoctypes){const n={type:"doctype"};return Gc(n,t),n}}function BY(e,t){const n=typeof t.tagName=="string"?t.tagName:"";e.stack.push(n);const r=eD(e,t.children),i=UY(e,t.properties);e.stack.pop();let s=!1;if(n&&n!=="*"&&(!e.schema.tagNames||e.schema.tagNames.includes(n))&&(s=!0,e.schema.ancestors&&Fs.call(e.schema.ancestors,n))){const a=e.schema.ancestors[n];let l=-1;for(s=!1;++l<a.length;)e.stack.includes(a[l])&&(s=!0)}if(!s)return e.schema.strip&&!e.schema.strip.includes(n)?r:void 0;const o={type:"element",tagName:n,properties:i,children:r};return Gc(o,t),o}function FY(e,t){const r={type:"root",children:eD(e,t.children)};return Gc(r,t),r}function $Y(e,t){const r={type:"text",value:typeof t.value=="string"?t.value:""};return Gc(r,t),r}function eD(e,t){const n=[];if(Array.isArray(t)){const r=t;let i=-1;for(;++i<r.length;){const s=ZR(e,r[i]);s&&(Array.isArray(s)?n.push(...s):n.push(s))}}return n}function UY(e,t){const n=e.stack[e.stack.length-1],r=e.schema.attributes,i=e.schema.required,s=r&&Fs.call(r,n)?r[n]:void 0,o=r&&Fs.call(r,"*")?r["*"]:void 0,a=t&&typeof t=="object"?t:{},l={};let u;for(u in a)if(Fs.call(a,u)){const c=a[u];let d=tx(e,nx(s,u),u,c);d==null&&(d=tx(e,nx(o,u),u,c)),d!=null&&(l[u]=d)}if(i&&Fs.call(i,n)){const c=i[n];for(u in c)Fs.call(c,u)&&!Fs.call(l,u)&&(l[u]=c[u])}return l}function tx(e,t,n,r){return t?Array.isArray(r)?HY(e,t,n,r):tD(e,t,n,r):void 0}function HY(e,t,n,r){let i=-1;const s=[];for(;++i<r.length;){const o=tD(e,t,n,r[i]);(typeof o=="number"||typeof o=="string")&&s.push(o)}return s}function tD(e,t,n,r){if(!(typeof r!="boolean"&&typeof r!="number"&&typeof r!="string")&&zY(e,n,r)){if(typeof t=="object"&&t.length>1){let i=!1,s=0;for(;++s<t.length;){const o=t[s];if(o&&typeof o=="object"&&"flags"in o){if(o.test(String(r))){i=!0;break}}else if(o===r){i=!0;break}}if(!i)return}return e.schema.clobber&&e.schema.clobberPrefix&&e.schema.clobber.includes(n)?e.schema.clobberPrefix+r:r}}function zY(e,t,n){const r=e.schema.protocols&&Fs.call(e.schema.protocols,t)?e.schema.protocols[t]:void 0;if(!r||r.length===0)return!0;const i=String(n),s=i.indexOf(":"),o=i.indexOf("?"),a=i.indexOf("#"),l=i.indexOf("/");if(s<0||l>-1&&s>l||o>-1&&s>o||a>-1&&s>a)return!0;let u=-1;for(;++u<r.length;){const c=r[u];if(s===c.length&&i.slice(0,c.length)===c)return!0}return!1}function Gc(e,t){const n=w_(t);t.data&&(e.data=Jo(t.data)),n&&(e.position=n)}function nx(e,t){let n,r=-1;if(e)for(;++r<e.length;){const i=e[r],s=typeof i=="string"?i:i[0];if(s===t)return i;s==="data*"&&(n=i)}if(t.length>4&&t.slice(0,4).toLowerCase()==="data")return n}function jY(e,t){const n={type:"element",tagName:"blockquote",properties:{},children:e.wrap(e.all(t),!0)};return e.patch(t,n),e.applyData(t,n)}function qY(e,t){const n={type:"element",tagName:"br",properties:{},children:[]};return e.patch(t,n),[e.applyData(t,n),{type:"text",value:`
`}]}function VY(e,t){const n=t.value?t.value+`
`:"",r={};t.lang&&(r.className=["language-"+t.lang]);let i={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return t.meta&&(i.data={meta:t.meta}),e.patch(t,i),i=e.applyData(t,i),i={type:"element",tagName:"pre",properties:{},children:[i]},e.patch(t,i),i}function WY(e,t){const n={type:"element",tagName:"del",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function GY(e,t){const n={type:"element",tagName:"em",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}const Oi=_o(/[A-Za-z]/),mr=_o(/[\dA-Za-z]/),YY=_o(/[#-'*+\--9=?A-Z^-~]/);function _1(e){return e!==null&&(e<32||e===127)}const E1=_o(/\d/),KY=_o(/[\dA-Fa-f]/),XY=_o(/[!-/:-@[-`{-~]/);function je(e){return e!==null&&e<-2}function nr(e){return e!==null&&(e<0||e===32)}function lt(e){return e===-2||e===-1||e===32}const QY=_o(new RegExp("\\p{P}|\\p{S}","u")),JY=_o(/\s/);function _o(e){return t;function t(n){return n!==null&&n>-1&&e.test(String.fromCharCode(n))}}function Il(e){const t=[];let n=-1,r=0,i=0;for(;++n<e.length;){const s=e.charCodeAt(n);let o="";if(s===37&&mr(e.charCodeAt(n+1))&&mr(e.charCodeAt(n+2)))i=2;else if(s<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(s))||(o=String.fromCharCode(s));else if(s>55295&&s<57344){const a=e.charCodeAt(n+1);s<56320&&a>56319&&a<57344?(o=String.fromCharCode(s,a),i=1):o="�"}else o=String.fromCharCode(s);o&&(t.push(e.slice(r,n),encodeURIComponent(o)),r=n+i+1,o=""),i&&(n+=i,i=0)}return t.join("")+e.slice(r)}function ZY(e,t){const n=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",r=String(t.identifier).toUpperCase(),i=Il(r.toLowerCase()),s=e.footnoteOrder.indexOf(r);let o,a=e.footnoteCounts.get(r);a===void 0?(a=0,e.footnoteOrder.push(r),o=e.footnoteOrder.length):o=s+1,a+=1,e.footnoteCounts.set(r,a);const l={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+i,id:n+"fnref-"+i+(a>1?"-"+a:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(o)}]};e.patch(t,l);const u={type:"element",tagName:"sup",properties:{},children:[l]};return e.patch(t,u),e.applyData(t,u)}function eK(e,t){const n={type:"element",tagName:"h"+t.depth,properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function tK(e,t){if(e.options.allowDangerousHtml){const n={type:"raw",value:t.value};return e.patch(t,n),e.applyData(t,n)}}function nD(e,t){const n=t.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(t.label||t.identifier)+"]"),t.type==="imageReference")return[{type:"text",value:"!["+t.alt+r}];const i=e.all(t),s=i[0];s&&s.type==="text"?s.value="["+s.value:i.unshift({type:"text",value:"["});const o=i[i.length-1];return o&&o.type==="text"?o.value+=r:i.push({type:"text",value:r}),i}function nK(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return nD(e,t);const i={src:Il(r.url||""),alt:t.alt};r.title!==null&&r.title!==void 0&&(i.title=r.title);const s={type:"element",tagName:"img",properties:i,children:[]};return e.patch(t,s),e.applyData(t,s)}function rK(e,t){const n={src:Il(t.url)};t.alt!==null&&t.alt!==void 0&&(n.alt=t.alt),t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"img",properties:n,children:[]};return e.patch(t,r),e.applyData(t,r)}function iK(e,t){const n={type:"text",value:t.value.replace(/\r?\n|\r/g," ")};e.patch(t,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return e.patch(t,r),e.applyData(t,r)}function sK(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return nD(e,t);const i={href:Il(r.url||"")};r.title!==null&&r.title!==void 0&&(i.title=r.title);const s={type:"element",tagName:"a",properties:i,children:e.all(t)};return e.patch(t,s),e.applyData(t,s)}function oK(e,t){const n={href:Il(t.url)};t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"a",properties:n,children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function aK(e,t,n){const r=e.all(t),i=n?lK(n):rD(t),s={},o=[];if(typeof t.checked=="boolean"){const c=r[0];let d;c&&c.type==="element"&&c.tagName==="p"?d=c:(d={type:"element",tagName:"p",properties:{},children:[]},r.unshift(d)),d.children.length>0&&d.children.unshift({type:"text",value:" "}),d.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:t.checked,disabled:!0},children:[]}),s.className=["task-list-item"]}let a=-1;for(;++a<r.length;){const c=r[a];(i||a!==0||c.type!=="element"||c.tagName!=="p")&&o.push({type:"text",value:`
`}),c.type==="element"&&c.tagName==="p"&&!i?o.push(...c.children):o.push(c)}const l=r[r.length-1];l&&(i||l.type!=="element"||l.tagName!=="p")&&o.push({type:"text",value:`
`});const u={type:"element",tagName:"li",properties:s,children:o};return e.patch(t,u),e.applyData(t,u)}function lK(e){let t=!1;if(e.type==="list"){t=e.spread||!1;const n=e.children;let r=-1;for(;!t&&++r<n.length;)t=rD(n[r])}return t}function rD(e){const t=e.spread;return t??e.children.length>1}function uK(e,t){const n={},r=e.all(t);let i=-1;for(typeof t.start=="number"&&t.start!==1&&(n.start=t.start);++i<r.length;){const o=r[i];if(o.type==="element"&&o.tagName==="li"&&o.properties&&Array.isArray(o.properties.className)&&o.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const s={type:"element",tagName:t.ordered?"ol":"ul",properties:n,children:e.wrap(r,!0)};return e.patch(t,s),e.applyData(t,s)}function cK(e,t){const n={type:"element",tagName:"p",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function dK(e,t){const n={type:"root",children:e.wrap(e.all(t))};return e.patch(t,n),e.applyData(t,n)}function fK(e,t){const n={type:"element",tagName:"strong",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function pK(e,t){const n=e.all(t),r=n.shift(),i=[];if(r){const o={type:"element",tagName:"thead",properties:{},children:e.wrap([r],!0)};e.patch(t.children[0],o),i.push(o)}if(n.length>0){const o={type:"element",tagName:"tbody",properties:{},children:e.wrap(n,!0)},a=BR(t.children[1]),l=LR(t.children[t.children.length-1]);a&&l&&(o.position={start:a,end:l}),i.push(o)}const s={type:"element",tagName:"table",properties:{},children:e.wrap(i,!0)};return e.patch(t,s),e.applyData(t,s)}function hK(e,t,n){const r=n?n.children:void 0,s=(r?r.indexOf(t):1)===0?"th":"td",o=n&&n.type==="table"?n.align:void 0,a=o?o.length:t.children.length;let l=-1;const u=[];for(;++l<a;){const d=t.children[l],f={},p=o?o[l]:void 0;p&&(f.align=p);let m={type:"element",tagName:s,properties:f,children:[]};d&&(m.children=e.all(d),e.patch(d,m),m=e.applyData(d,m)),u.push(m)}const c={type:"element",tagName:"tr",properties:{},children:e.wrap(u,!0)};return e.patch(t,c),e.applyData(t,c)}function mK(e,t){const n={type:"element",tagName:"td",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}const rx=9,ix=32;function gK(e){const t=String(e),n=/\r?\n|\r/g;let r=n.exec(t),i=0;const s=[];for(;r;)s.push(sx(t.slice(i,r.index),i>0,!0),r[0]),i=r.index+r[0].length,r=n.exec(t);return s.push(sx(t.slice(i),i>0,!1)),s.join("")}function sx(e,t,n){let r=0,i=e.length;if(t){let s=e.codePointAt(r);for(;s===rx||s===ix;)r++,s=e.codePointAt(r)}if(n){let s=e.codePointAt(i-1);for(;s===rx||s===ix;)i--,s=e.codePointAt(i-1)}return i>r?e.slice(r,i):""}function bK(e,t){const n={type:"text",value:gK(String(t.value))};return e.patch(t,n),e.applyData(t,n)}function yK(e,t){const n={type:"element",tagName:"hr",properties:{},children:[]};return e.patch(t,n),e.applyData(t,n)}const _K={blockquote:jY,break:qY,code:VY,delete:WY,emphasis:GY,footnoteReference:ZY,heading:eK,html:tK,imageReference:nK,image:rK,inlineCode:iK,linkReference:sK,link:oK,listItem:aK,list:uK,paragraph:cK,root:dK,strong:fK,table:pK,tableCell:mK,tableRow:hK,text:bK,thematicBreak:yK,toml:Cd,yaml:Cd,definition:Cd,footnoteDefinition:Cd};function Cd(){}function EK(e,t){const n=[{type:"text",value:"↩"}];return t>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(t)}]}),n}function vK(e,t){return"Back to reference "+(e+1)+(t>1?"-"+t:"")}function TK(e){const t=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",n=e.options.footnoteBackContent||EK,r=e.options.footnoteBackLabel||vK,i=e.options.footnoteLabel||"Footnotes",s=e.options.footnoteLabelTagName||"h2",o=e.options.footnoteLabelProperties||{className:["sr-only"]},a=[];let l=-1;for(;++l<e.footnoteOrder.length;){const u=e.footnoteById.get(e.footnoteOrder[l]);if(!u)continue;const c=e.all(u),d=String(u.identifier).toUpperCase(),f=Il(d.toLowerCase());let p=0;const m=[],g=e.footnoteCounts.get(d);for(;g!==void 0&&++p<=g;){m.length>0&&m.push({type:"text",value:" "});let E=typeof n=="string"?n:n(l,p);typeof E=="string"&&(E={type:"text",value:E}),m.push({type:"element",tagName:"a",properties:{href:"#"+t+"fnref-"+f+(p>1?"-"+p:""),dataFootnoteBackref:"",ariaLabel:typeof r=="string"?r:r(l,p),className:["data-footnote-backref"]},children:Array.isArray(E)?E:[E]})}const b=c[c.length-1];if(b&&b.type==="element"&&b.tagName==="p"){const E=b.children[b.children.length-1];E&&E.type==="text"?E.value+=" ":b.children.push({type:"text",value:" "}),b.children.push(...m)}else c.push(...m);const y={type:"element",tagName:"li",properties:{id:t+"fn-"+f},children:e.wrap(c,!0)};e.patch(u,y),a.push(y)}if(a.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:s,properties:{...Jo(o),id:"footnote-label"},children:[{type:"text",value:i}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:e.wrap(a,!0)},{type:"text",value:`
`}]}}const v1={}.hasOwnProperty,wK={};function xK(e,t){const n=t||wK,r=new Map,i=new Map,s=new Map,o={..._K,...n.handlers},a={all:u,applyData:SK,definitionById:r,footnoteById:i,footnoteCounts:s,footnoteOrder:[],handlers:o,one:l,options:n,patch:CK,wrap:OK};return rl(e,function(c){if(c.type==="definition"||c.type==="footnoteDefinition"){const d=c.type==="definition"?r:i,f=String(c.identifier).toUpperCase();d.has(f)||d.set(f,c)}}),a;function l(c,d){const f=c.type,p=a.handlers[f];if(v1.call(a.handlers,f)&&p)return p(a,c,d);if(a.options.passThrough&&a.options.passThrough.includes(f)){if("children"in c){const{children:g,...b}=c,y=Jo(b);return y.children=a.all(c),y}return Jo(c)}return(a.options.unknownHandler||AK)(a,c,d)}function u(c){const d=[];if("children"in c){const f=c.children;let p=-1;for(;++p<f.length;){const m=a.one(f[p],c);if(m){if(p&&f[p-1].type==="break"&&(!Array.isArray(m)&&m.type==="text"&&(m.value=ox(m.value)),!Array.isArray(m)&&m.type==="element")){const g=m.children[0];g&&g.type==="text"&&(g.value=ox(g.value))}Array.isArray(m)?d.push(...m):d.push(m)}}}return d}}function CK(e,t){e.position&&(t.position=w_(e))}function SK(e,t){let n=t;if(e&&e.data){const r=e.data.hName,i=e.data.hChildren,s=e.data.hProperties;if(typeof r=="string")if(n.type==="element")n.tagName=r;else{const o="children"in n?n.children:[n];n={type:"element",tagName:r,properties:{},children:o}}n.type==="element"&&s&&Object.assign(n.properties,Jo(s)),"children"in n&&n.children&&i!==null&&i!==void 0&&(n.children=i)}return n}function AK(e,t){const n=t.data||{},r="value"in t&&!(v1.call(n,"hProperties")||v1.call(n,"hChildren"))?{type:"text",value:t.value}:{type:"element",tagName:"div",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function OK(e,t){const n=[];let r=-1;for(t&&n.push({type:"text",value:`
`});++r<e.length;)r&&n.push({type:"text",value:`
`}),n.push(e[r]);return t&&e.length>0&&n.push({type:"text",value:`
`}),n}function ox(e){let t=0,n=e.charCodeAt(t);for(;n===9||n===32;)t++,n=e.charCodeAt(t);return e.slice(t)}function kK(e,t){const n=xK(e,t),r=n.one(e,void 0),i=TK(n),s=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return i&&s.children.push({type:"text",value:`
`},i),s}const IK=["area","base","basefont","bgsound","br","col","command","embed","frame","hr","image","img","input","keygen","link","meta","param","source","track","wbr"],ax={}.hasOwnProperty;function iD(e,t){const n=t||{};function r(i,...s){let o=r.invalid;const a=r.handlers;if(i&&ax.call(i,e)){const l=String(i[e]);o=ax.call(a,l)?a[l]:r.unknown}if(o)return o.call(this,i,...s)}return r.handlers=n.handlers||{},r.invalid=n.invalid,r.unknown=n.unknown,r}const NK=/["&'<>`]/g,RK=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,DK=/[\x01-\t\v\f\x0E-\x1F\x7F\x81\x8D\x8F\x90\x9D\xA0-\uFFFF]/g,MK=/[|\\{}()[\]^$+*?.]/g,lx=new WeakMap;function PK(e,t){if(e=e.replace(t.subset?LK(t.subset):NK,r),t.subset||t.escapeOnly)return e;return e.replace(RK,n).replace(DK,r);function n(i,s,o){return t.format((i.charCodeAt(0)-55296)*1024+i.charCodeAt(1)-56320+65536,o.charCodeAt(s+2),t)}function r(i,s,o){return t.format(i.charCodeAt(0),o.charCodeAt(s+1),t)}}function LK(e){let t=lx.get(e);return t||(t=BK(e),lx.set(e,t)),t}function BK(e){const t=[];let n=-1;for(;++n<e.length;)t.push(e[n].replace(MK,"\\$&"));return new RegExp("(?:"+t.join("|")+")","g")}const FK=/[\dA-Fa-f]/;function $K(e,t,n){const r="&#x"+e.toString(16).toUpperCase();return n&&t&&!FK.test(String.fromCharCode(t))?r:r+";"}const UK=/\d/;function HK(e,t,n){const r="&#"+String(e);return n&&t&&!UK.test(String.fromCharCode(t))?r:r+";"}const zK=["AElig","AMP","Aacute","Acirc","Agrave","Aring","Atilde","Auml","COPY","Ccedil","ETH","Eacute","Ecirc","Egrave","Euml","GT","Iacute","Icirc","Igrave","Iuml","LT","Ntilde","Oacute","Ocirc","Ograve","Oslash","Otilde","Ouml","QUOT","REG","THORN","Uacute","Ucirc","Ugrave","Uuml","Yacute","aacute","acirc","acute","aelig","agrave","amp","aring","atilde","auml","brvbar","ccedil","cedil","cent","copy","curren","deg","divide","eacute","ecirc","egrave","eth","euml","frac12","frac14","frac34","gt","iacute","icirc","iexcl","igrave","iquest","iuml","laquo","lt","macr","micro","middot","nbsp","not","ntilde","oacute","ocirc","ograve","ordf","ordm","oslash","otilde","ouml","para","plusmn","pound","quot","raquo","reg","sect","shy","sup1","sup2","sup3","szlig","thorn","times","uacute","ucirc","ugrave","uml","uuml","yacute","yen","yuml"],hm={nbsp:" ",iexcl:"¡",cent:"¢",pound:"£",curren:"¤",yen:"¥",brvbar:"¦",sect:"§",uml:"¨",copy:"©",ordf:"ª",laquo:"«",not:"¬",shy:"­",reg:"®",macr:"¯",deg:"°",plusmn:"±",sup2:"²",sup3:"³",acute:"´",micro:"µ",para:"¶",middot:"·",cedil:"¸",sup1:"¹",ordm:"º",raquo:"»",frac14:"¼",frac12:"½",frac34:"¾",iquest:"¿",Agrave:"À",Aacute:"Á",Acirc:"Â",Atilde:"Ã",Auml:"Ä",Aring:"Å",AElig:"Æ",Ccedil:"Ç",Egrave:"È",Eacute:"É",Ecirc:"Ê",Euml:"Ë",Igrave:"Ì",Iacute:"Í",Icirc:"Î",Iuml:"Ï",ETH:"Ð",Ntilde:"Ñ",Ograve:"Ò",Oacute:"Ó",Ocirc:"Ô",Otilde:"Õ",Ouml:"Ö",times:"×",Oslash:"Ø",Ugrave:"Ù",Uacute:"Ú",Ucirc:"Û",Uuml:"Ü",Yacute:"Ý",THORN:"Þ",szlig:"ß",agrave:"à",aacute:"á",acirc:"â",atilde:"ã",auml:"ä",aring:"å",aelig:"æ",ccedil:"ç",egrave:"è",eacute:"é",ecirc:"ê",euml:"ë",igrave:"ì",iacute:"í",icirc:"î",iuml:"ï",eth:"ð",ntilde:"ñ",ograve:"ò",oacute:"ó",ocirc:"ô",otilde:"õ",ouml:"ö",divide:"÷",oslash:"ø",ugrave:"ù",uacute:"ú",ucirc:"û",uuml:"ü",yacute:"ý",thorn:"þ",yuml:"ÿ",fnof:"ƒ",Alpha:"Α",Beta:"Β",Gamma:"Γ",Delta:"Δ",Epsilon:"Ε",Zeta:"Ζ",Eta:"Η",Theta:"Θ",Iota:"Ι",Kappa:"Κ",Lambda:"Λ",Mu:"Μ",Nu:"Ν",Xi:"Ξ",Omicron:"Ο",Pi:"Π",Rho:"Ρ",Sigma:"Σ",Tau:"Τ",Upsilon:"Υ",Phi:"Φ",Chi:"Χ",Psi:"Ψ",Omega:"Ω",alpha:"α",beta:"β",gamma:"γ",delta:"δ",epsilon:"ε",zeta:"ζ",eta:"η",theta:"θ",iota:"ι",kappa:"κ",lambda:"λ",mu:"μ",nu:"ν",xi:"ξ",omicron:"ο",pi:"π",rho:"ρ",sigmaf:"ς",sigma:"σ",tau:"τ",upsilon:"υ",phi:"φ",chi:"χ",psi:"ψ",omega:"ω",thetasym:"ϑ",upsih:"ϒ",piv:"ϖ",bull:"•",hellip:"…",prime:"′",Prime:"″",oline:"‾",frasl:"⁄",weierp:"℘",image:"ℑ",real:"ℜ",trade:"™",alefsym:"ℵ",larr:"←",uarr:"↑",rarr:"→",darr:"↓",harr:"↔",crarr:"↵",lArr:"⇐",uArr:"⇑",rArr:"⇒",dArr:"⇓",hArr:"⇔",forall:"∀",part:"∂",exist:"∃",empty:"∅",nabla:"∇",isin:"∈",notin:"∉",ni:"∋",prod:"∏",sum:"∑",minus:"−",lowast:"∗",radic:"√",prop:"∝",infin:"∞",ang:"∠",and:"∧",or:"∨",cap:"∩",cup:"∪",int:"∫",there4:"∴",sim:"∼",cong:"≅",asymp:"≈",ne:"≠",equiv:"≡",le:"≤",ge:"≥",sub:"⊂",sup:"⊃",nsub:"⊄",sube:"⊆",supe:"⊇",oplus:"⊕",otimes:"⊗",perp:"⊥",sdot:"⋅",lceil:"⌈",rceil:"⌉",lfloor:"⌊",rfloor:"⌋",lang:"〈",rang:"〉",loz:"◊",spades:"♠",clubs:"♣",hearts:"♥",diams:"♦",quot:'"',amp:"&",lt:"<",gt:">",OElig:"Œ",oelig:"œ",Scaron:"Š",scaron:"š",Yuml:"Ÿ",circ:"ˆ",tilde:"˜",ensp:" ",emsp:" ",thinsp:" ",zwnj:"‌",zwj:"‍",lrm:"‎",rlm:"‏",ndash:"–",mdash:"—",lsquo:"‘",rsquo:"’",sbquo:"‚",ldquo:"“",rdquo:"”",bdquo:"„",dagger:"†",Dagger:"‡",permil:"‰",lsaquo:"‹",rsaquo:"›",euro:"€"},jK=["cent","copy","divide","gt","lt","not","para","times"],sD={}.hasOwnProperty,T1={};let Sd;for(Sd in hm)sD.call(hm,Sd)&&(T1[hm[Sd]]=Sd);const qK=/[^\dA-Za-z]/;function VK(e,t,n,r){const i=String.fromCharCode(e);if(sD.call(T1,i)){const s=T1[i],o="&"+s;return n&&zK.includes(s)&&!jK.includes(s)&&(!r||t&&t!==61&&qK.test(String.fromCharCode(t)))?o:o+";"}return""}function WK(e,t,n){let r=$K(e,t,n.omitOptionalSemicolons),i;if((n.useNamedReferences||n.useShortestReferences)&&(i=VK(e,t,n.omitOptionalSemicolons,n.attribute)),(n.useShortestReferences||!i)&&n.useShortestReferences){const s=HK(e,t,n.omitOptionalSemicolons);s.length<r.length&&(r=s)}return i&&(!n.useShortestReferences||i.length<r.length)?i:r}function qa(e,t){return PK(e,Object.assign({format:WK},t))}const GK=/^>|^->|<!--|-->|--!>|<!-$/g,YK=[">"],KK=["<",">"];function XK(e,t,n,r){return r.settings.bogusComments?"<?"+qa(e.value,Object.assign({},r.settings.characterReferences,{subset:YK}))+">":"<!--"+e.value.replace(GK,i)+"-->";function i(s){return qa(s,Object.assign({},r.settings.characterReferences,{subset:KK}))}}function QK(e,t,n,r){return"<!"+(r.settings.upperDoctype?"DOCTYPE":"doctype")+(r.settings.tightDoctype?"":" ")+"html>"}function ux(e,t){const n=String(e);if(typeof t!="string")throw new TypeError("Expected character");let r=0,i=n.indexOf(t);for(;i!==-1;)r++,i=n.indexOf(t,i+t.length);return r}const en=aD(1),oD=aD(-1),JK=[];function aD(e){return t;function t(n,r,i){const s=n?n.children:JK;let o=(r||0)+e,a=s[o];if(!i)for(;a&&qc(a);)o+=e,a=s[o];return a}}const ZK={}.hasOwnProperty;function lD(e){return t;function t(n,r,i){return ZK.call(e,n.tagName)&&e[n.tagName](n,r,i)}}const S_=lD({body:tX,caption:mm,colgroup:mm,dd:sX,dt:iX,head:mm,html:eX,li:rX,optgroup:oX,option:aX,p:nX,rp:cx,rt:cx,tbody:uX,td:dx,tfoot:cX,th:dx,thead:lX,tr:dX});function mm(e,t,n){const r=en(n,t,!0);return!r||r.type!=="comment"&&!(r.type==="text"&&qc(r.value.charAt(0)))}function eX(e,t,n){const r=en(n,t);return!r||r.type!=="comment"}function tX(e,t,n){const r=en(n,t);return!r||r.type!=="comment"}function nX(e,t,n){const r=en(n,t);return r?r.type==="element"&&(r.tagName==="address"||r.tagName==="article"||r.tagName==="aside"||r.tagName==="blockquote"||r.tagName==="details"||r.tagName==="div"||r.tagName==="dl"||r.tagName==="fieldset"||r.tagName==="figcaption"||r.tagName==="figure"||r.tagName==="footer"||r.tagName==="form"||r.tagName==="h1"||r.tagName==="h2"||r.tagName==="h3"||r.tagName==="h4"||r.tagName==="h5"||r.tagName==="h6"||r.tagName==="header"||r.tagName==="hgroup"||r.tagName==="hr"||r.tagName==="main"||r.tagName==="menu"||r.tagName==="nav"||r.tagName==="ol"||r.tagName==="p"||r.tagName==="pre"||r.tagName==="section"||r.tagName==="table"||r.tagName==="ul"):!n||!(n.type==="element"&&(n.tagName==="a"||n.tagName==="audio"||n.tagName==="del"||n.tagName==="ins"||n.tagName==="map"||n.tagName==="noscript"||n.tagName==="video"))}function rX(e,t,n){const r=en(n,t);return!r||r.type==="element"&&r.tagName==="li"}function iX(e,t,n){const r=en(n,t);return!!(r&&r.type==="element"&&(r.tagName==="dt"||r.tagName==="dd"))}function sX(e,t,n){const r=en(n,t);return!r||r.type==="element"&&(r.tagName==="dt"||r.tagName==="dd")}function cx(e,t,n){const r=en(n,t);return!r||r.type==="element"&&(r.tagName==="rp"||r.tagName==="rt")}function oX(e,t,n){const r=en(n,t);return!r||r.type==="element"&&r.tagName==="optgroup"}function aX(e,t,n){const r=en(n,t);return!r||r.type==="element"&&(r.tagName==="option"||r.tagName==="optgroup")}function lX(e,t,n){const r=en(n,t);return!!(r&&r.type==="element"&&(r.tagName==="tbody"||r.tagName==="tfoot"))}function uX(e,t,n){const r=en(n,t);return!r||r.type==="element"&&(r.tagName==="tbody"||r.tagName==="tfoot")}function cX(e,t,n){return!en(n,t)}function dX(e,t,n){const r=en(n,t);return!r||r.type==="element"&&r.tagName==="tr"}function dx(e,t,n){const r=en(n,t);return!r||r.type==="element"&&(r.tagName==="td"||r.tagName==="th")}const fX=lD({body:mX,colgroup:gX,head:hX,html:pX,tbody:bX});function pX(e){const t=en(e,-1);return!t||t.type!=="comment"}function hX(e){const t=new Set;for(const r of e.children)if(r.type==="element"&&(r.tagName==="base"||r.tagName==="title")){if(t.has(r.tagName))return!1;t.add(r.tagName)}const n=e.children[0];return!n||n.type==="element"}function mX(e){const t=en(e,-1,!0);return!t||t.type!=="comment"&&!(t.type==="text"&&qc(t.value.charAt(0)))&&!(t.type==="element"&&(t.tagName==="meta"||t.tagName==="link"||t.tagName==="script"||t.tagName==="style"||t.tagName==="template"))}function gX(e,t,n){const r=oD(n,t),i=en(e,-1,!0);return n&&r&&r.type==="element"&&r.tagName==="colgroup"&&S_(r,n.children.indexOf(r),n)?!1:!!(i&&i.type==="element"&&i.tagName==="col")}function bX(e,t,n){const r=oD(n,t),i=en(e,-1);return n&&r&&r.type==="element"&&(r.tagName==="thead"||r.tagName==="tbody")&&S_(r,n.children.indexOf(r),n)?!1:!!(i&&i.type==="element"&&i.tagName==="tr")}const Ad={name:[[`	
\f\r &/=>`.split(""),`	
\f\r "&'/=>\``.split("")],[`\0	
\f\r "&'/<=>`.split(""),`\0	
\f\r "&'/<=>\``.split("")]],unquoted:[[`	
\f\r &>`.split(""),`\0	
\f\r "&'<=>\``.split("")],[`\0	
\f\r "&'<=>\``.split(""),`\0	
\f\r "&'<=>\``.split("")]],single:[["&'".split(""),"\"&'`".split("")],["\0&'".split(""),"\0\"&'`".split("")]],double:[['"&'.split(""),"\"&'`".split("")],['\0"&'.split(""),"\0\"&'`".split("")]]};function yX(e,t,n,r){const i=r.schema,s=i.space==="svg"?!1:r.settings.omitOptionalTags;let o=i.space==="svg"?r.settings.closeEmptyElements:r.settings.voids.includes(e.tagName.toLowerCase());const a=[];let l;i.space==="html"&&e.tagName==="svg"&&(r.schema=Hc);const u=_X(r,e.properties),c=r.all(i.space==="html"&&e.tagName==="template"?e.content:e);return r.schema=i,c&&(o=!1),(u||!s||!fX(e,t,n))&&(a.push("<",e.tagName,u?" "+u:""),o&&(i.space==="svg"||r.settings.closeSelfClosing)&&(l=u.charAt(u.length-1),(!r.settings.tightSelfClosing||l==="/"||l&&l!=='"'&&l!=="'")&&a.push(" "),a.push("/")),a.push(">")),a.push(c),!o&&(!s||!S_(e,t,n))&&a.push("</"+e.tagName+">"),a.join("")}function _X(e,t){const n=[];let r=-1,i;if(t){for(i in t)if(t[i]!==null&&t[i]!==void 0){const s=EX(e,i,t[i]);s&&n.push(s)}}for(;++r<n.length;){const s=e.settings.tightAttributes?n[r].charAt(n[r].length-1):void 0;r!==n.length-1&&s!=='"'&&s!=="'"&&(n[r]+=" ")}return n.join("")}function EX(e,t,n){const r=c_(e.schema,t),i=e.settings.allowParseErrors&&e.schema.space==="html"?0:1,s=e.settings.allowDangerousCharacters?0:1;let o=e.quote,a;if(r.overloadedBoolean&&(n===r.attribute||n==="")?n=!0:(r.boolean||r.overloadedBoolean)&&(typeof n!="string"||n===r.attribute||n==="")&&(n=!!n),n==null||n===!1||typeof n=="number"&&Number.isNaN(n))return"";const l=qa(r.attribute,Object.assign({},e.settings.characterReferences,{subset:Ad.name[i][s]}));return n===!0||(n=Array.isArray(n)?(r.commaSeparated?Hj:jj)(n,{padLeft:!e.settings.tightCommaSeparatedLists}):String(n),e.settings.collapseEmptyAttributes&&!n)?l:(e.settings.preferUnquoted&&(a=qa(n,Object.assign({},e.settings.characterReferences,{attribute:!0,subset:Ad.unquoted[i][s]}))),a!==n&&(e.settings.quoteSmart&&ux(n,o)>ux(n,e.alternative)&&(o=e.alternative),a=o+qa(n,Object.assign({},e.settings.characterReferences,{subset:(o==="'"?Ad.single:Ad.double)[i][s],attribute:!0}))+o),l+(a&&"="+a))}const vX=["<","&"];function uD(e,t,n,r){return n&&n.type==="element"&&(n.tagName==="script"||n.tagName==="style")?e.value:qa(e.value,Object.assign({},r.settings.characterReferences,{subset:vX}))}function TX(e,t,n,r){return r.settings.allowDangerousHtml?e.value:uD(e,t,n,r)}function wX(e,t,n,r){return r.all(e)}const xX=iD("type",{invalid:CX,unknown:SX,handlers:{comment:XK,doctype:QK,element:yX,raw:TX,root:wX,text:uD}});function CX(e){throw new Error("Expected node, not `"+e+"`")}function SX(e){const t=e;throw new Error("Cannot compile unknown node `"+t.type+"`")}const AX={},OX={},kX=[];function IX(e,t){const n=t||AX,r=n.quote||'"',i=r==='"'?"'":'"';if(r!=='"'&&r!=="'")throw new Error("Invalid quote `"+r+"`, expected `'` or `\"`");return{one:NX,all:RX,settings:{omitOptionalTags:n.omitOptionalTags||!1,allowParseErrors:n.allowParseErrors||!1,allowDangerousCharacters:n.allowDangerousCharacters||!1,quoteSmart:n.quoteSmart||!1,preferUnquoted:n.preferUnquoted||!1,tightAttributes:n.tightAttributes||!1,upperDoctype:n.upperDoctype||!1,tightDoctype:n.tightDoctype||!1,bogusComments:n.bogusComments||!1,tightCommaSeparatedLists:n.tightCommaSeparatedLists||!1,tightSelfClosing:n.tightSelfClosing||!1,collapseEmptyAttributes:n.collapseEmptyAttributes||!1,allowDangerousHtml:n.allowDangerousHtml||!1,voids:n.voids||IK,characterReferences:n.characterReferences||OX,closeSelfClosing:n.closeSelfClosing||!1,closeEmptyElements:n.closeEmptyElements||!1},schema:n.space==="svg"?Hc:Fp,quote:r,alternative:i}.one(Array.isArray(e)?{type:"root",children:e}:e,void 0,void 0)}function NX(e,t,n){return xX(e,t,n,this)}function RX(e){const t=[],n=e&&e.children||kX;let r=-1;for(;++r<n.length;)t[r]=this.one(n[r],r,e);return t.join("")}const DX={};function MX(e){const t=this,{handlers:n,sanitize:r,...i}=e||DX;let s=!1,o;typeof r=="boolean"?s=!r:r&&(o=r),t.compiler=a;function a(l,u){const c=kK(l,{handlers:n,allowDangerousHtml:s}),d=s?c:MY(c,o),f=IX(d,{...i,allowDangerousHtml:s});return u.extname&&(u.extname=".html"),l&&l.type==="root"&&f&&/[^\r\n]/.test(f.charAt(f.length-1))?f+`
`:f}}const fx=document.createElement("i");function A_(e){const t="&"+e+";";fx.innerHTML=t;const n=fx.textContent;return n.charCodeAt(n.length-1)===59&&e!=="semi"||n===t?!1:n}function Bi(e,t,n,r){const i=e.length;let s=0,o;if(t<0?t=-t>i?0:i+t:t=t>i?i:t,n=n>0?n:0,r.length<1e4)o=Array.from(r),o.unshift(t,n),e.splice(...o);else for(n&&e.splice(t,n);s<r.length;)o=r.slice(s,s+1e4),o.unshift(t,0),e.splice(...o),s+=1e4,t+=1e4}function kr(e,t){return e.length>0?(Bi(e,e.length,0,t),e):t}const px={}.hasOwnProperty;function PX(e){const t={};let n=-1;for(;++n<e.length;)LX(t,e[n]);return t}function LX(e,t){let n;for(n in t){const i=(px.call(e,n)?e[n]:void 0)||(e[n]={}),s=t[n];let o;if(s)for(o in s){px.call(i,o)||(i[o]=[]);const a=s[o];BX(i[o],Array.isArray(a)?a:a?[a]:[])}}}function BX(e,t){let n=-1;const r=[];for(;++n<t.length;)(t[n].add==="after"?e:r).push(t[n]);Bi(e,0,0,r)}function cD(e,t){const n=Number.parseInt(e,t);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"�":String.fromCodePoint(n)}function Va(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}function St(e,t,n,r){const i=r?r-1:Number.POSITIVE_INFINITY;let s=0;return o;function o(l){return lt(l)?(e.enter(n),a(l)):t(l)}function a(l){return lt(l)&&s++<i?(e.consume(l),a):(e.exit(n),t(l))}}const FX={tokenize:$X};function $X(e){const t=e.attempt(this.parser.constructs.contentInitial,r,i);let n;return t;function r(a){if(a===null){e.consume(a);return}return e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),St(e,t,"linePrefix")}function i(a){return e.enter("paragraph"),s(a)}function s(a){const l=e.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=l),n=l,o(a)}function o(a){if(a===null){e.exit("chunkText"),e.exit("paragraph"),e.consume(a);return}return je(a)?(e.consume(a),e.exit("chunkText"),s):(e.consume(a),o)}}const UX={tokenize:HX},hx={tokenize:zX};function HX(e){const t=this,n=[];let r=0,i,s,o;return a;function a(v){if(r<n.length){const w=n[r];return t.containerState=w[1],e.attempt(w[0].continuation,l,u)(v)}return u(v)}function l(v){if(r++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,i&&E();const w=t.events.length;let R=w,_;for(;R--;)if(t.events[R][0]==="exit"&&t.events[R][1].type==="chunkFlow"){_=t.events[R][1].end;break}y(r);let D=w;for(;D<t.events.length;)t.events[D][1].end={..._},D++;return Bi(t.events,R+1,0,t.events.slice(w)),t.events.length=D,u(v)}return a(v)}function u(v){if(r===n.length){if(!i)return f(v);if(i.currentConstruct&&i.currentConstruct.concrete)return m(v);t.interrupt=!!(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return t.containerState={},e.check(hx,c,d)(v)}function c(v){return i&&E(),y(r),f(v)}function d(v){return t.parser.lazy[t.now().line]=r!==n.length,o=t.now().offset,m(v)}function f(v){return t.containerState={},e.attempt(hx,p,m)(v)}function p(v){return r++,n.push([t.currentConstruct,t.containerState]),f(v)}function m(v){if(v===null){i&&E(),y(0),e.consume(v);return}return i=i||t.parser.flow(t.now()),e.enter("chunkFlow",{_tokenizer:i,contentType:"flow",previous:s}),g(v)}function g(v){if(v===null){b(e.exit("chunkFlow"),!0),y(0),e.consume(v);return}return je(v)?(e.consume(v),b(e.exit("chunkFlow")),r=0,t.interrupt=void 0,a):(e.consume(v),g)}function b(v,w){const R=t.sliceStream(v);if(w&&R.push(null),v.previous=s,s&&(s.next=v),s=v,i.defineSkip(v.start),i.write(R),t.parser.lazy[v.start.line]){let _=i.events.length;for(;_--;)if(i.events[_][1].start.offset<o&&(!i.events[_][1].end||i.events[_][1].end.offset>o))return;const D=t.events.length;let j=D,P,q;for(;j--;)if(t.events[j][0]==="exit"&&t.events[j][1].type==="chunkFlow"){if(P){q=t.events[j][1].end;break}P=!0}for(y(r),_=D;_<t.events.length;)t.events[_][1].end={...q},_++;Bi(t.events,j+1,0,t.events.slice(D)),t.events.length=_}}function y(v){let w=n.length;for(;w-- >v;){const R=n[w];t.containerState=R[1],R[0].exit.call(t,e)}n.length=v}function E(){i.write([null]),s=void 0,i=void 0,t.containerState._closeFlow=void 0}}function zX(e,t,n){return St(e,e.attempt(this.parser.constructs.document,t,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function qf(e){if(e===null||nr(e)||JY(e))return 1;if(QY(e))return 2}function O_(e,t,n){const r=[];let i=-1;for(;++i<e.length;){const s=e[i].resolveAll;s&&!r.includes(s)&&(t=s(t,n),r.push(s))}return t}const w1={name:"attention",resolveAll:jX,tokenize:qX};function jX(e,t){let n=-1,r,i,s,o,a,l,u,c;for(;++n<e.length;)if(e[n][0]==="enter"&&e[n][1].type==="attentionSequence"&&e[n][1]._close){for(r=n;r--;)if(e[r][0]==="exit"&&e[r][1].type==="attentionSequence"&&e[r][1]._open&&t.sliceSerialize(e[r][1]).charCodeAt(0)===t.sliceSerialize(e[n][1]).charCodeAt(0)){if((e[r][1]._close||e[n][1]._open)&&(e[n][1].end.offset-e[n][1].start.offset)%3&&!((e[r][1].end.offset-e[r][1].start.offset+e[n][1].end.offset-e[n][1].start.offset)%3))continue;l=e[r][1].end.offset-e[r][1].start.offset>1&&e[n][1].end.offset-e[n][1].start.offset>1?2:1;const d={...e[r][1].end},f={...e[n][1].start};mx(d,-l),mx(f,l),o={type:l>1?"strongSequence":"emphasisSequence",start:d,end:{...e[r][1].end}},a={type:l>1?"strongSequence":"emphasisSequence",start:{...e[n][1].start},end:f},s={type:l>1?"strongText":"emphasisText",start:{...e[r][1].end},end:{...e[n][1].start}},i={type:l>1?"strong":"emphasis",start:{...o.start},end:{...a.end}},e[r][1].end={...o.start},e[n][1].start={...a.end},u=[],e[r][1].end.offset-e[r][1].start.offset&&(u=kr(u,[["enter",e[r][1],t],["exit",e[r][1],t]])),u=kr(u,[["enter",i,t],["enter",o,t],["exit",o,t],["enter",s,t]]),u=kr(u,O_(t.parser.constructs.insideSpan.null,e.slice(r+1,n),t)),u=kr(u,[["exit",s,t],["enter",a,t],["exit",a,t],["exit",i,t]]),e[n][1].end.offset-e[n][1].start.offset?(c=2,u=kr(u,[["enter",e[n][1],t],["exit",e[n][1],t]])):c=0,Bi(e,r-1,n-r+3,u),n=r+u.length-c-2;break}}for(n=-1;++n<e.length;)e[n][1].type==="attentionSequence"&&(e[n][1].type="data");return e}function qX(e,t){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,i=qf(r);let s;return o;function o(l){return s=l,e.enter("attentionSequence"),a(l)}function a(l){if(l===s)return e.consume(l),a;const u=e.exit("attentionSequence"),c=qf(l),d=!c||c===2&&i||n.includes(l),f=!i||i===2&&c||n.includes(r);return u._open=!!(s===42?d:d&&(i||!f)),u._close=!!(s===42?f:f&&(c||!d)),t(l)}}function mx(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}const VX={name:"autolink",tokenize:WX};function WX(e,t,n){let r=0;return i;function i(p){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(p),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),s}function s(p){return Oi(p)?(e.consume(p),o):p===64?n(p):u(p)}function o(p){return p===43||p===45||p===46||mr(p)?(r=1,a(p)):u(p)}function a(p){return p===58?(e.consume(p),r=0,l):(p===43||p===45||p===46||mr(p))&&r++<32?(e.consume(p),a):(r=0,u(p))}function l(p){return p===62?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(p),e.exit("autolinkMarker"),e.exit("autolink"),t):p===null||p===32||p===60||_1(p)?n(p):(e.consume(p),l)}function u(p){return p===64?(e.consume(p),c):YY(p)?(e.consume(p),u):n(p)}function c(p){return mr(p)?d(p):n(p)}function d(p){return p===46?(e.consume(p),r=0,c):p===62?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(p),e.exit("autolinkMarker"),e.exit("autolink"),t):f(p)}function f(p){if((p===45||mr(p))&&r++<63){const m=p===45?f:d;return e.consume(p),m}return n(p)}}const Yp={partial:!0,tokenize:GX};function GX(e,t,n){return r;function r(s){return lt(s)?St(e,i,"linePrefix")(s):i(s)}function i(s){return s===null||je(s)?t(s):n(s)}}const dD={continuation:{tokenize:KX},exit:XX,name:"blockQuote",tokenize:YX};function YX(e,t,n){const r=this;return i;function i(o){if(o===62){const a=r.containerState;return a.open||(e.enter("blockQuote",{_container:!0}),a.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(o),e.exit("blockQuoteMarker"),s}return n(o)}function s(o){return lt(o)?(e.enter("blockQuotePrefixWhitespace"),e.consume(o),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(o))}}function KX(e,t,n){const r=this;return i;function i(o){return lt(o)?St(e,s,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(o):s(o)}function s(o){return e.attempt(dD,t,n)(o)}}function XX(e){e.exit("blockQuote")}const fD={name:"characterEscape",tokenize:QX};function QX(e,t,n){return r;function r(s){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(s),e.exit("escapeMarker"),i}function i(s){return XY(s)?(e.enter("characterEscapeValue"),e.consume(s),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):n(s)}}const pD={name:"characterReference",tokenize:JX};function JX(e,t,n){const r=this;let i=0,s,o;return a;function a(d){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(d),e.exit("characterReferenceMarker"),l}function l(d){return d===35?(e.enter("characterReferenceMarkerNumeric"),e.consume(d),e.exit("characterReferenceMarkerNumeric"),u):(e.enter("characterReferenceValue"),s=31,o=mr,c(d))}function u(d){return d===88||d===120?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(d),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),s=6,o=KY,c):(e.enter("characterReferenceValue"),s=7,o=E1,c(d))}function c(d){if(d===59&&i){const f=e.exit("characterReferenceValue");return o===mr&&!A_(r.sliceSerialize(f))?n(d):(e.enter("characterReferenceMarker"),e.consume(d),e.exit("characterReferenceMarker"),e.exit("characterReference"),t)}return o(d)&&i++<s?(e.consume(d),c):n(d)}}const gx={partial:!0,tokenize:eQ},bx={concrete:!0,name:"codeFenced",tokenize:ZX};function ZX(e,t,n){const r=this,i={partial:!0,tokenize:R};let s=0,o=0,a;return l;function l(_){return u(_)}function u(_){const D=r.events[r.events.length-1];return s=D&&D[1].type==="linePrefix"?D[2].sliceSerialize(D[1],!0).length:0,a=_,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),c(_)}function c(_){return _===a?(o++,e.consume(_),c):o<3?n(_):(e.exit("codeFencedFenceSequence"),lt(_)?St(e,d,"whitespace")(_):d(_))}function d(_){return _===null||je(_)?(e.exit("codeFencedFence"),r.interrupt?t(_):e.check(gx,g,w)(_)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),f(_))}function f(_){return _===null||je(_)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),d(_)):lt(_)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),St(e,p,"whitespace")(_)):_===96&&_===a?n(_):(e.consume(_),f)}function p(_){return _===null||je(_)?d(_):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),m(_))}function m(_){return _===null||je(_)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),d(_)):_===96&&_===a?n(_):(e.consume(_),m)}function g(_){return e.attempt(i,w,b)(_)}function b(_){return e.enter("lineEnding"),e.consume(_),e.exit("lineEnding"),y}function y(_){return s>0&&lt(_)?St(e,E,"linePrefix",s+1)(_):E(_)}function E(_){return _===null||je(_)?e.check(gx,g,w)(_):(e.enter("codeFlowValue"),v(_))}function v(_){return _===null||je(_)?(e.exit("codeFlowValue"),E(_)):(e.consume(_),v)}function w(_){return e.exit("codeFenced"),t(_)}function R(_,D,j){let P=0;return q;function q(pe){return _.enter("lineEnding"),_.consume(pe),_.exit("lineEnding"),B}function B(pe){return _.enter("codeFencedFence"),lt(pe)?St(_,H,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(pe):H(pe)}function H(pe){return pe===a?(_.enter("codeFencedFenceSequence"),ee(pe)):j(pe)}function ee(pe){return pe===a?(P++,_.consume(pe),ee):P>=o?(_.exit("codeFencedFenceSequence"),lt(pe)?St(_,ye,"whitespace")(pe):ye(pe)):j(pe)}function ye(pe){return pe===null||je(pe)?(_.exit("codeFencedFence"),D(pe)):j(pe)}}}function eQ(e,t,n){const r=this;return i;function i(o){return o===null?n(o):(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),s)}function s(o){return r.parser.lazy[r.now().line]?n(o):t(o)}}const gm={name:"codeIndented",tokenize:nQ},tQ={partial:!0,tokenize:rQ};function nQ(e,t,n){const r=this;return i;function i(u){return e.enter("codeIndented"),St(e,s,"linePrefix",5)(u)}function s(u){const c=r.events[r.events.length-1];return c&&c[1].type==="linePrefix"&&c[2].sliceSerialize(c[1],!0).length>=4?o(u):n(u)}function o(u){return u===null?l(u):je(u)?e.attempt(tQ,o,l)(u):(e.enter("codeFlowValue"),a(u))}function a(u){return u===null||je(u)?(e.exit("codeFlowValue"),o(u)):(e.consume(u),a)}function l(u){return e.exit("codeIndented"),t(u)}}function rQ(e,t,n){const r=this;return i;function i(o){return r.parser.lazy[r.now().line]?n(o):je(o)?(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),i):St(e,s,"linePrefix",5)(o)}function s(o){const a=r.events[r.events.length-1];return a&&a[1].type==="linePrefix"&&a[2].sliceSerialize(a[1],!0).length>=4?t(o):je(o)?i(o):n(o)}}const iQ={name:"codeText",previous:oQ,resolve:sQ,tokenize:aQ};function sQ(e){let t=e.length-4,n=3,r,i;if((e[n][1].type==="lineEnding"||e[n][1].type==="space")&&(e[t][1].type==="lineEnding"||e[t][1].type==="space")){for(r=n;++r<t;)if(e[r][1].type==="codeTextData"){e[n][1].type="codeTextPadding",e[t][1].type="codeTextPadding",n+=2,t-=2;break}}for(r=n-1,t++;++r<=t;)i===void 0?r!==t&&e[r][1].type!=="lineEnding"&&(i=r):(r===t||e[r][1].type==="lineEnding")&&(e[i][1].type="codeTextData",r!==i+2&&(e[i][1].end=e[r-1][1].end,e.splice(i+2,r-i-2),t-=r-i-2,r=i+2),i=void 0);return e}function oQ(e){return e!==96||this.events[this.events.length-1][1].type==="characterEscape"}function aQ(e,t,n){let r=0,i,s;return o;function o(d){return e.enter("codeText"),e.enter("codeTextSequence"),a(d)}function a(d){return d===96?(e.consume(d),r++,a):(e.exit("codeTextSequence"),l(d))}function l(d){return d===null?n(d):d===32?(e.enter("space"),e.consume(d),e.exit("space"),l):d===96?(s=e.enter("codeTextSequence"),i=0,c(d)):je(d)?(e.enter("lineEnding"),e.consume(d),e.exit("lineEnding"),l):(e.enter("codeTextData"),u(d))}function u(d){return d===null||d===32||d===96||je(d)?(e.exit("codeTextData"),l(d)):(e.consume(d),u)}function c(d){return d===96?(e.consume(d),i++,c):i===r?(e.exit("codeTextSequence"),e.exit("codeText"),t(d)):(s.type="codeTextData",u(d))}}class lQ{constructor(t){this.left=t?[...t]:[],this.right=[]}get(t){if(t<0||t>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+t+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return t<this.left.length?this.left[t]:this.right[this.right.length-t+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(t,n){const r=n??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(t,r):t>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-t+this.left.length).reverse():this.left.slice(t).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(t,n,r){const i=n||0;this.setCursor(Math.trunc(t));const s=this.right.splice(this.right.length-i,Number.POSITIVE_INFINITY);return r&&Jl(this.left,r),s.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(t){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(t)}pushMany(t){this.setCursor(Number.POSITIVE_INFINITY),Jl(this.left,t)}unshift(t){this.setCursor(0),this.right.push(t)}unshiftMany(t){this.setCursor(0),Jl(this.right,t.reverse())}setCursor(t){if(!(t===this.left.length||t>this.left.length&&this.right.length===0||t<0&&this.left.length===0))if(t<this.left.length){const n=this.left.splice(t,Number.POSITIVE_INFINITY);Jl(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-t,Number.POSITIVE_INFINITY);Jl(this.left,n.reverse())}}}function Jl(e,t){let n=0;if(t.length<1e4)e.push(...t);else for(;n<t.length;)e.push(...t.slice(n,n+1e4)),n+=1e4}function hD(e){const t={};let n=-1,r,i,s,o,a,l,u;const c=new lQ(e);for(;++n<c.length;){for(;n in t;)n=t[n];if(r=c.get(n),n&&r[1].type==="chunkFlow"&&c.get(n-1)[1].type==="listItemPrefix"&&(l=r[1]._tokenizer.events,s=0,s<l.length&&l[s][1].type==="lineEndingBlank"&&(s+=2),s<l.length&&l[s][1].type==="content"))for(;++s<l.length&&l[s][1].type!=="content";)l[s][1].type==="chunkText"&&(l[s][1]._isInFirstContentOfListItem=!0,s++);if(r[0]==="enter")r[1].contentType&&(Object.assign(t,uQ(c,n)),n=t[n],u=!0);else if(r[1]._container){for(s=n,i=void 0;s--;)if(o=c.get(s),o[1].type==="lineEnding"||o[1].type==="lineEndingBlank")o[0]==="enter"&&(i&&(c.get(i)[1].type="lineEndingBlank"),o[1].type="lineEnding",i=s);else if(o[1].type!=="linePrefix")break;i&&(r[1].end={...c.get(i)[1].start},a=c.slice(i,n),a.unshift(r),c.splice(i,n-i+1,a))}}return Bi(e,0,Number.POSITIVE_INFINITY,c.slice(0)),!u}function uQ(e,t){const n=e.get(t)[1],r=e.get(t)[2];let i=t-1;const s=[],o=n._tokenizer||r.parser[n.contentType](n.start),a=o.events,l=[],u={};let c,d,f=-1,p=n,m=0,g=0;const b=[g];for(;p;){for(;e.get(++i)[1]!==p;);s.push(i),p._tokenizer||(c=r.sliceStream(p),p.next||c.push(null),d&&o.defineSkip(p.start),p._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=!0),o.write(c),p._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=void 0)),d=p,p=p.next}for(p=n;++f<a.length;)a[f][0]==="exit"&&a[f-1][0]==="enter"&&a[f][1].type===a[f-1][1].type&&a[f][1].start.line!==a[f][1].end.line&&(g=f+1,b.push(g),p._tokenizer=void 0,p.previous=void 0,p=p.next);for(o.events=[],p?(p._tokenizer=void 0,p.previous=void 0):b.pop(),f=b.length;f--;){const y=a.slice(b[f],b[f+1]),E=s.pop();l.push([E,E+y.length-1]),e.splice(E,2,y)}for(l.reverse(),f=-1;++f<l.length;)u[m+l[f][0]]=m+l[f][1],m+=l[f][1]-l[f][0]-1;return u}const cQ={resolve:fQ,tokenize:pQ},dQ={partial:!0,tokenize:hQ};function fQ(e){return hD(e),e}function pQ(e,t){let n;return r;function r(a){return e.enter("content"),n=e.enter("chunkContent",{contentType:"content"}),i(a)}function i(a){return a===null?s(a):je(a)?e.check(dQ,o,s)(a):(e.consume(a),i)}function s(a){return e.exit("chunkContent"),e.exit("content"),t(a)}function o(a){return e.consume(a),e.exit("chunkContent"),n.next=e.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,i}}function hQ(e,t,n){const r=this;return i;function i(o){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),St(e,s,"linePrefix")}function s(o){if(o===null||je(o))return n(o);const a=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&a&&a[1].type==="linePrefix"&&a[2].sliceSerialize(a[1],!0).length>=4?t(o):e.interrupt(r.parser.constructs.flow,n,t)(o)}}function mD(e,t,n,r,i,s,o,a,l){const u=l||Number.POSITIVE_INFINITY;let c=0;return d;function d(y){return y===60?(e.enter(r),e.enter(i),e.enter(s),e.consume(y),e.exit(s),f):y===null||y===32||y===41||_1(y)?n(y):(e.enter(r),e.enter(o),e.enter(a),e.enter("chunkString",{contentType:"string"}),g(y))}function f(y){return y===62?(e.enter(s),e.consume(y),e.exit(s),e.exit(i),e.exit(r),t):(e.enter(a),e.enter("chunkString",{contentType:"string"}),p(y))}function p(y){return y===62?(e.exit("chunkString"),e.exit(a),f(y)):y===null||y===60||je(y)?n(y):(e.consume(y),y===92?m:p)}function m(y){return y===60||y===62||y===92?(e.consume(y),p):p(y)}function g(y){return!c&&(y===null||y===41||nr(y))?(e.exit("chunkString"),e.exit(a),e.exit(o),e.exit(r),t(y)):c<u&&y===40?(e.consume(y),c++,g):y===41?(e.consume(y),c--,g):y===null||y===32||y===40||_1(y)?n(y):(e.consume(y),y===92?b:g)}function b(y){return y===40||y===41||y===92?(e.consume(y),g):g(y)}}function gD(e,t,n,r,i,s){const o=this;let a=0,l;return u;function u(p){return e.enter(r),e.enter(i),e.consume(p),e.exit(i),e.enter(s),c}function c(p){return a>999||p===null||p===91||p===93&&!l||p===94&&!a&&"_hiddenFootnoteSupport"in o.parser.constructs?n(p):p===93?(e.exit(s),e.enter(i),e.consume(p),e.exit(i),e.exit(r),t):je(p)?(e.enter("lineEnding"),e.consume(p),e.exit("lineEnding"),c):(e.enter("chunkString",{contentType:"string"}),d(p))}function d(p){return p===null||p===91||p===93||je(p)||a++>999?(e.exit("chunkString"),c(p)):(e.consume(p),l||(l=!lt(p)),p===92?f:d)}function f(p){return p===91||p===92||p===93?(e.consume(p),a++,d):d(p)}}function bD(e,t,n,r,i,s){let o;return a;function a(f){return f===34||f===39||f===40?(e.enter(r),e.enter(i),e.consume(f),e.exit(i),o=f===40?41:f,l):n(f)}function l(f){return f===o?(e.enter(i),e.consume(f),e.exit(i),e.exit(r),t):(e.enter(s),u(f))}function u(f){return f===o?(e.exit(s),l(o)):f===null?n(f):je(f)?(e.enter("lineEnding"),e.consume(f),e.exit("lineEnding"),St(e,u,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),c(f))}function c(f){return f===o||f===null||je(f)?(e.exit("chunkString"),u(f)):(e.consume(f),f===92?d:c)}function d(f){return f===o||f===92?(e.consume(f),c):c(f)}}function $u(e,t){let n;return r;function r(i){return je(i)?(e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),n=!0,r):lt(i)?St(e,r,n?"linePrefix":"lineSuffix")(i):t(i)}}const mQ={name:"definition",tokenize:bQ},gQ={partial:!0,tokenize:yQ};function bQ(e,t,n){const r=this;let i;return s;function s(p){return e.enter("definition"),o(p)}function o(p){return gD.call(r,e,a,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(p)}function a(p){return i=Va(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),p===58?(e.enter("definitionMarker"),e.consume(p),e.exit("definitionMarker"),l):n(p)}function l(p){return nr(p)?$u(e,u)(p):u(p)}function u(p){return mD(e,c,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(p)}function c(p){return e.attempt(gQ,d,d)(p)}function d(p){return lt(p)?St(e,f,"whitespace")(p):f(p)}function f(p){return p===null||je(p)?(e.exit("definition"),r.parser.defined.push(i),t(p)):n(p)}}function yQ(e,t,n){return r;function r(a){return nr(a)?$u(e,i)(a):n(a)}function i(a){return bD(e,s,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(a)}function s(a){return lt(a)?St(e,o,"whitespace")(a):o(a)}function o(a){return a===null||je(a)?t(a):n(a)}}const _Q={name:"hardBreakEscape",tokenize:EQ};function EQ(e,t,n){return r;function r(s){return e.enter("hardBreakEscape"),e.consume(s),i}function i(s){return je(s)?(e.exit("hardBreakEscape"),t(s)):n(s)}}const vQ={name:"headingAtx",resolve:TQ,tokenize:wQ};function TQ(e,t){let n=e.length-2,r=3,i,s;return e[r][1].type==="whitespace"&&(r+=2),n-2>r&&e[n][1].type==="whitespace"&&(n-=2),e[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&e[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(i={type:"atxHeadingText",start:e[r][1].start,end:e[n][1].end},s={type:"chunkText",start:e[r][1].start,end:e[n][1].end,contentType:"text"},Bi(e,r,n-r+1,[["enter",i,t],["enter",s,t],["exit",s,t],["exit",i,t]])),e}function wQ(e,t,n){let r=0;return i;function i(c){return e.enter("atxHeading"),s(c)}function s(c){return e.enter("atxHeadingSequence"),o(c)}function o(c){return c===35&&r++<6?(e.consume(c),o):c===null||nr(c)?(e.exit("atxHeadingSequence"),a(c)):n(c)}function a(c){return c===35?(e.enter("atxHeadingSequence"),l(c)):c===null||je(c)?(e.exit("atxHeading"),t(c)):lt(c)?St(e,a,"whitespace")(c):(e.enter("atxHeadingText"),u(c))}function l(c){return c===35?(e.consume(c),l):(e.exit("atxHeadingSequence"),a(c))}function u(c){return c===null||c===35||nr(c)?(e.exit("atxHeadingText"),a(c)):(e.consume(c),u)}}const xQ=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],yx=["pre","script","style","textarea"],CQ={concrete:!0,name:"htmlFlow",resolveTo:OQ,tokenize:kQ},SQ={partial:!0,tokenize:NQ},AQ={partial:!0,tokenize:IQ};function OQ(e){let t=e.length;for(;t--&&!(e[t][0]==="enter"&&e[t][1].type==="htmlFlow"););return t>1&&e[t-2][1].type==="linePrefix"&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2)),e}function kQ(e,t,n){const r=this;let i,s,o,a,l;return u;function u(I){return c(I)}function c(I){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(I),d}function d(I){return I===33?(e.consume(I),f):I===47?(e.consume(I),s=!0,g):I===63?(e.consume(I),i=3,r.interrupt?t:O):Oi(I)?(e.consume(I),o=String.fromCharCode(I),b):n(I)}function f(I){return I===45?(e.consume(I),i=2,p):I===91?(e.consume(I),i=5,a=0,m):Oi(I)?(e.consume(I),i=4,r.interrupt?t:O):n(I)}function p(I){return I===45?(e.consume(I),r.interrupt?t:O):n(I)}function m(I){const at="CDATA[";return I===at.charCodeAt(a++)?(e.consume(I),a===at.length?r.interrupt?t:H:m):n(I)}function g(I){return Oi(I)?(e.consume(I),o=String.fromCharCode(I),b):n(I)}function b(I){if(I===null||I===47||I===62||nr(I)){const at=I===47,ze=o.toLowerCase();return!at&&!s&&yx.includes(ze)?(i=1,r.interrupt?t(I):H(I)):xQ.includes(o.toLowerCase())?(i=6,at?(e.consume(I),y):r.interrupt?t(I):H(I)):(i=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(I):s?E(I):v(I))}return I===45||mr(I)?(e.consume(I),o+=String.fromCharCode(I),b):n(I)}function y(I){return I===62?(e.consume(I),r.interrupt?t:H):n(I)}function E(I){return lt(I)?(e.consume(I),E):q(I)}function v(I){return I===47?(e.consume(I),q):I===58||I===95||Oi(I)?(e.consume(I),w):lt(I)?(e.consume(I),v):q(I)}function w(I){return I===45||I===46||I===58||I===95||mr(I)?(e.consume(I),w):R(I)}function R(I){return I===61?(e.consume(I),_):lt(I)?(e.consume(I),R):v(I)}function _(I){return I===null||I===60||I===61||I===62||I===96?n(I):I===34||I===39?(e.consume(I),l=I,D):lt(I)?(e.consume(I),_):j(I)}function D(I){return I===l?(e.consume(I),l=null,P):I===null||je(I)?n(I):(e.consume(I),D)}function j(I){return I===null||I===34||I===39||I===47||I===60||I===61||I===62||I===96||nr(I)?R(I):(e.consume(I),j)}function P(I){return I===47||I===62||lt(I)?v(I):n(I)}function q(I){return I===62?(e.consume(I),B):n(I)}function B(I){return I===null||je(I)?H(I):lt(I)?(e.consume(I),B):n(I)}function H(I){return I===45&&i===2?(e.consume(I),xe):I===60&&i===1?(e.consume(I),Ce):I===62&&i===4?(e.consume(I),Me):I===63&&i===3?(e.consume(I),O):I===93&&i===5?(e.consume(I),$e):je(I)&&(i===6||i===7)?(e.exit("htmlFlowData"),e.check(SQ,et,ee)(I)):I===null||je(I)?(e.exit("htmlFlowData"),ee(I)):(e.consume(I),H)}function ee(I){return e.check(AQ,ye,et)(I)}function ye(I){return e.enter("lineEnding"),e.consume(I),e.exit("lineEnding"),pe}function pe(I){return I===null||je(I)?ee(I):(e.enter("htmlFlowData"),H(I))}function xe(I){return I===45?(e.consume(I),O):H(I)}function Ce(I){return I===47?(e.consume(I),o="",Ee):H(I)}function Ee(I){if(I===62){const at=o.toLowerCase();return yx.includes(at)?(e.consume(I),Me):H(I)}return Oi(I)&&o.length<8?(e.consume(I),o+=String.fromCharCode(I),Ee):H(I)}function $e(I){return I===93?(e.consume(I),O):H(I)}function O(I){return I===62?(e.consume(I),Me):I===45&&i===2?(e.consume(I),O):H(I)}function Me(I){return I===null||je(I)?(e.exit("htmlFlowData"),et(I)):(e.consume(I),Me)}function et(I){return e.exit("htmlFlow"),t(I)}}function IQ(e,t,n){const r=this;return i;function i(o){return je(o)?(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),s):n(o)}function s(o){return r.parser.lazy[r.now().line]?n(o):t(o)}}function NQ(e,t,n){return r;function r(i){return e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),e.attempt(Yp,t,n)}}const RQ={name:"htmlText",tokenize:DQ};function DQ(e,t,n){const r=this;let i,s,o;return a;function a(O){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(O),l}function l(O){return O===33?(e.consume(O),u):O===47?(e.consume(O),R):O===63?(e.consume(O),v):Oi(O)?(e.consume(O),j):n(O)}function u(O){return O===45?(e.consume(O),c):O===91?(e.consume(O),s=0,m):Oi(O)?(e.consume(O),E):n(O)}function c(O){return O===45?(e.consume(O),p):n(O)}function d(O){return O===null?n(O):O===45?(e.consume(O),f):je(O)?(o=d,Ce(O)):(e.consume(O),d)}function f(O){return O===45?(e.consume(O),p):d(O)}function p(O){return O===62?xe(O):O===45?f(O):d(O)}function m(O){const Me="CDATA[";return O===Me.charCodeAt(s++)?(e.consume(O),s===Me.length?g:m):n(O)}function g(O){return O===null?n(O):O===93?(e.consume(O),b):je(O)?(o=g,Ce(O)):(e.consume(O),g)}function b(O){return O===93?(e.consume(O),y):g(O)}function y(O){return O===62?xe(O):O===93?(e.consume(O),y):g(O)}function E(O){return O===null||O===62?xe(O):je(O)?(o=E,Ce(O)):(e.consume(O),E)}function v(O){return O===null?n(O):O===63?(e.consume(O),w):je(O)?(o=v,Ce(O)):(e.consume(O),v)}function w(O){return O===62?xe(O):v(O)}function R(O){return Oi(O)?(e.consume(O),_):n(O)}function _(O){return O===45||mr(O)?(e.consume(O),_):D(O)}function D(O){return je(O)?(o=D,Ce(O)):lt(O)?(e.consume(O),D):xe(O)}function j(O){return O===45||mr(O)?(e.consume(O),j):O===47||O===62||nr(O)?P(O):n(O)}function P(O){return O===47?(e.consume(O),xe):O===58||O===95||Oi(O)?(e.consume(O),q):je(O)?(o=P,Ce(O)):lt(O)?(e.consume(O),P):xe(O)}function q(O){return O===45||O===46||O===58||O===95||mr(O)?(e.consume(O),q):B(O)}function B(O){return O===61?(e.consume(O),H):je(O)?(o=B,Ce(O)):lt(O)?(e.consume(O),B):P(O)}function H(O){return O===null||O===60||O===61||O===62||O===96?n(O):O===34||O===39?(e.consume(O),i=O,ee):je(O)?(o=H,Ce(O)):lt(O)?(e.consume(O),H):(e.consume(O),ye)}function ee(O){return O===i?(e.consume(O),i=void 0,pe):O===null?n(O):je(O)?(o=ee,Ce(O)):(e.consume(O),ee)}function ye(O){return O===null||O===34||O===39||O===60||O===61||O===96?n(O):O===47||O===62||nr(O)?P(O):(e.consume(O),ye)}function pe(O){return O===47||O===62||nr(O)?P(O):n(O)}function xe(O){return O===62?(e.consume(O),e.exit("htmlTextData"),e.exit("htmlText"),t):n(O)}function Ce(O){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(O),e.exit("lineEnding"),Ee}function Ee(O){return lt(O)?St(e,$e,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(O):$e(O)}function $e(O){return e.enter("htmlTextData"),o(O)}}const k_={name:"labelEnd",resolveAll:BQ,resolveTo:FQ,tokenize:$Q},MQ={tokenize:UQ},PQ={tokenize:HQ},LQ={tokenize:zQ};function BQ(e){let t=-1;const n=[];for(;++t<e.length;){const r=e[t][1];if(n.push(e[t]),r.type==="labelImage"||r.type==="labelLink"||r.type==="labelEnd"){const i=r.type==="labelImage"?4:2;r.type="data",t+=i}}return e.length!==n.length&&Bi(e,0,e.length,n),e}function FQ(e,t){let n=e.length,r=0,i,s,o,a;for(;n--;)if(i=e[n][1],s){if(i.type==="link"||i.type==="labelLink"&&i._inactive)break;e[n][0]==="enter"&&i.type==="labelLink"&&(i._inactive=!0)}else if(o){if(e[n][0]==="enter"&&(i.type==="labelImage"||i.type==="labelLink")&&!i._balanced&&(s=n,i.type!=="labelLink")){r=2;break}}else i.type==="labelEnd"&&(o=n);const l={type:e[s][1].type==="labelLink"?"link":"image",start:{...e[s][1].start},end:{...e[e.length-1][1].end}},u={type:"label",start:{...e[s][1].start},end:{...e[o][1].end}},c={type:"labelText",start:{...e[s+r+2][1].end},end:{...e[o-2][1].start}};return a=[["enter",l,t],["enter",u,t]],a=kr(a,e.slice(s+1,s+r+3)),a=kr(a,[["enter",c,t]]),a=kr(a,O_(t.parser.constructs.insideSpan.null,e.slice(s+r+4,o-3),t)),a=kr(a,[["exit",c,t],e[o-2],e[o-1],["exit",u,t]]),a=kr(a,e.slice(o+1)),a=kr(a,[["exit",l,t]]),Bi(e,s,e.length,a),e}function $Q(e,t,n){const r=this;let i=r.events.length,s,o;for(;i--;)if((r.events[i][1].type==="labelImage"||r.events[i][1].type==="labelLink")&&!r.events[i][1]._balanced){s=r.events[i][1];break}return a;function a(f){return s?s._inactive?d(f):(o=r.parser.defined.includes(Va(r.sliceSerialize({start:s.end,end:r.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(f),e.exit("labelMarker"),e.exit("labelEnd"),l):n(f)}function l(f){return f===40?e.attempt(MQ,c,o?c:d)(f):f===91?e.attempt(PQ,c,o?u:d)(f):o?c(f):d(f)}function u(f){return e.attempt(LQ,c,d)(f)}function c(f){return t(f)}function d(f){return s._balanced=!0,n(f)}}function UQ(e,t,n){return r;function r(d){return e.enter("resource"),e.enter("resourceMarker"),e.consume(d),e.exit("resourceMarker"),i}function i(d){return nr(d)?$u(e,s)(d):s(d)}function s(d){return d===41?c(d):mD(e,o,a,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(d)}function o(d){return nr(d)?$u(e,l)(d):c(d)}function a(d){return n(d)}function l(d){return d===34||d===39||d===40?bD(e,u,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(d):c(d)}function u(d){return nr(d)?$u(e,c)(d):c(d)}function c(d){return d===41?(e.enter("resourceMarker"),e.consume(d),e.exit("resourceMarker"),e.exit("resource"),t):n(d)}}function HQ(e,t,n){const r=this;return i;function i(a){return gD.call(r,e,s,o,"reference","referenceMarker","referenceString")(a)}function s(a){return r.parser.defined.includes(Va(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?t(a):n(a)}function o(a){return n(a)}}function zQ(e,t,n){return r;function r(s){return e.enter("reference"),e.enter("referenceMarker"),e.consume(s),e.exit("referenceMarker"),i}function i(s){return s===93?(e.enter("referenceMarker"),e.consume(s),e.exit("referenceMarker"),e.exit("reference"),t):n(s)}}const jQ={name:"labelStartImage",resolveAll:k_.resolveAll,tokenize:qQ};function qQ(e,t,n){const r=this;return i;function i(a){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(a),e.exit("labelImageMarker"),s}function s(a){return a===91?(e.enter("labelMarker"),e.consume(a),e.exit("labelMarker"),e.exit("labelImage"),o):n(a)}function o(a){return a===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(a):t(a)}}const VQ={name:"labelStartLink",resolveAll:k_.resolveAll,tokenize:WQ};function WQ(e,t,n){const r=this;return i;function i(o){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(o),e.exit("labelMarker"),e.exit("labelLink"),s}function s(o){return o===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(o):t(o)}}const bm={name:"lineEnding",tokenize:GQ};function GQ(e,t){return n;function n(r){return e.enter("lineEnding"),e.consume(r),e.exit("lineEnding"),St(e,t,"linePrefix")}}const nf={name:"thematicBreak",tokenize:YQ};function YQ(e,t,n){let r=0,i;return s;function s(u){return e.enter("thematicBreak"),o(u)}function o(u){return i=u,a(u)}function a(u){return u===i?(e.enter("thematicBreakSequence"),l(u)):r>=3&&(u===null||je(u))?(e.exit("thematicBreak"),t(u)):n(u)}function l(u){return u===i?(e.consume(u),r++,l):(e.exit("thematicBreakSequence"),lt(u)?St(e,a,"whitespace")(u):a(u))}}const Qn={continuation:{tokenize:JQ},exit:eJ,name:"list",tokenize:QQ},KQ={partial:!0,tokenize:tJ},XQ={partial:!0,tokenize:ZQ};function QQ(e,t,n){const r=this,i=r.events[r.events.length-1];let s=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0,o=0;return a;function a(p){const m=r.containerState.type||(p===42||p===43||p===45?"listUnordered":"listOrdered");if(m==="listUnordered"?!r.containerState.marker||p===r.containerState.marker:E1(p)){if(r.containerState.type||(r.containerState.type=m,e.enter(m,{_container:!0})),m==="listUnordered")return e.enter("listItemPrefix"),p===42||p===45?e.check(nf,n,u)(p):u(p);if(!r.interrupt||p===49)return e.enter("listItemPrefix"),e.enter("listItemValue"),l(p)}return n(p)}function l(p){return E1(p)&&++o<10?(e.consume(p),l):(!r.interrupt||o<2)&&(r.containerState.marker?p===r.containerState.marker:p===41||p===46)?(e.exit("listItemValue"),u(p)):n(p)}function u(p){return e.enter("listItemMarker"),e.consume(p),e.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||p,e.check(Yp,r.interrupt?n:c,e.attempt(KQ,f,d))}function c(p){return r.containerState.initialBlankLine=!0,s++,f(p)}function d(p){return lt(p)?(e.enter("listItemPrefixWhitespace"),e.consume(p),e.exit("listItemPrefixWhitespace"),f):n(p)}function f(p){return r.containerState.size=s+r.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(p)}}function JQ(e,t,n){const r=this;return r.containerState._closeFlow=void 0,e.check(Yp,i,s);function i(a){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,St(e,t,"listItemIndent",r.containerState.size+1)(a)}function s(a){return r.containerState.furtherBlankLines||!lt(a)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,o(a)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,e.attempt(XQ,t,o)(a))}function o(a){return r.containerState._closeFlow=!0,r.interrupt=void 0,St(e,e.attempt(Qn,t,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(a)}}function ZQ(e,t,n){const r=this;return St(e,i,"listItemIndent",r.containerState.size+1);function i(s){const o=r.events[r.events.length-1];return o&&o[1].type==="listItemIndent"&&o[2].sliceSerialize(o[1],!0).length===r.containerState.size?t(s):n(s)}}function eJ(e){e.exit(this.containerState.type)}function tJ(e,t,n){const r=this;return St(e,i,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function i(s){const o=r.events[r.events.length-1];return!lt(s)&&o&&o[1].type==="listItemPrefixWhitespace"?t(s):n(s)}}const _x={name:"setextUnderline",resolveTo:nJ,tokenize:rJ};function nJ(e,t){let n=e.length,r,i,s;for(;n--;)if(e[n][0]==="enter"){if(e[n][1].type==="content"){r=n;break}e[n][1].type==="paragraph"&&(i=n)}else e[n][1].type==="content"&&e.splice(n,1),!s&&e[n][1].type==="definition"&&(s=n);const o={type:"setextHeading",start:{...e[i][1].start},end:{...e[e.length-1][1].end}};return e[i][1].type="setextHeadingText",s?(e.splice(i,0,["enter",o,t]),e.splice(s+1,0,["exit",e[r][1],t]),e[r][1].end={...e[s][1].end}):e[r][1]=o,e.push(["exit",o,t]),e}function rJ(e,t,n){const r=this;let i;return s;function s(u){let c=r.events.length,d;for(;c--;)if(r.events[c][1].type!=="lineEnding"&&r.events[c][1].type!=="linePrefix"&&r.events[c][1].type!=="content"){d=r.events[c][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||d)?(e.enter("setextHeadingLine"),i=u,o(u)):n(u)}function o(u){return e.enter("setextHeadingLineSequence"),a(u)}function a(u){return u===i?(e.consume(u),a):(e.exit("setextHeadingLineSequence"),lt(u)?St(e,l,"lineSuffix")(u):l(u))}function l(u){return u===null||je(u)?(e.exit("setextHeadingLine"),t(u)):n(u)}}const iJ={tokenize:sJ};function sJ(e){const t=this,n=e.attempt(Yp,r,e.attempt(this.parser.constructs.flowInitial,i,St(e,e.attempt(this.parser.constructs.flow,i,e.attempt(cQ,i)),"linePrefix")));return n;function r(s){if(s===null){e.consume(s);return}return e.enter("lineEndingBlank"),e.consume(s),e.exit("lineEndingBlank"),t.currentConstruct=void 0,n}function i(s){if(s===null){e.consume(s);return}return e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),t.currentConstruct=void 0,n}}const oJ={resolveAll:_D()},aJ=yD("string"),lJ=yD("text");function yD(e){return{resolveAll:_D(e==="text"?uJ:void 0),tokenize:t};function t(n){const r=this,i=this.parser.constructs[e],s=n.attempt(i,o,a);return o;function o(c){return u(c)?s(c):a(c)}function a(c){if(c===null){n.consume(c);return}return n.enter("data"),n.consume(c),l}function l(c){return u(c)?(n.exit("data"),s(c)):(n.consume(c),l)}function u(c){if(c===null)return!0;const d=i[c];let f=-1;if(d)for(;++f<d.length;){const p=d[f];if(!p.previous||p.previous.call(r,r.previous))return!0}return!1}}}function _D(e){return t;function t(n,r){let i=-1,s;for(;++i<=n.length;)s===void 0?n[i]&&n[i][1].type==="data"&&(s=i,i++):(!n[i]||n[i][1].type!=="data")&&(i!==s+2&&(n[s][1].end=n[i-1][1].end,n.splice(s+2,i-s-2),i=s+2),s=void 0);return e?e(n,r):n}}function uJ(e,t){let n=0;for(;++n<=e.length;)if((n===e.length||e[n][1].type==="lineEnding")&&e[n-1][1].type==="data"){const r=e[n-1][1],i=t.sliceStream(r);let s=i.length,o=-1,a=0,l;for(;s--;){const u=i[s];if(typeof u=="string"){for(o=u.length;u.charCodeAt(o-1)===32;)a++,o--;if(o)break;o=-1}else if(u===-2)l=!0,a++;else if(u!==-1){s++;break}}if(a){const u={type:n===e.length||l||a<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:s?o:r.start._bufferIndex+o,_index:r.start._index+s,line:r.end.line,column:r.end.column-a,offset:r.end.offset-a},end:{...r.end}};r.end={...u.start},r.start.offset===r.end.offset?Object.assign(r,u):(e.splice(n,0,["enter",u,t],["exit",u,t]),n+=2)}n++}return e}const cJ={42:Qn,43:Qn,45:Qn,48:Qn,49:Qn,50:Qn,51:Qn,52:Qn,53:Qn,54:Qn,55:Qn,56:Qn,57:Qn,62:dD},dJ={91:mQ},fJ={[-2]:gm,[-1]:gm,32:gm},pJ={35:vQ,42:nf,45:[_x,nf],60:CQ,61:_x,95:nf,96:bx,126:bx},hJ={38:pD,92:fD},mJ={[-5]:bm,[-4]:bm,[-3]:bm,33:jQ,38:pD,42:w1,60:[VX,RQ],91:VQ,92:[_Q,fD],93:k_,95:w1,96:iQ},gJ={null:[w1,oJ]},bJ={null:[42,95]},yJ={null:[]},_J=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:bJ,contentInitial:dJ,disable:yJ,document:cJ,flow:pJ,flowInitial:fJ,insideSpan:gJ,string:hJ,text:mJ},Symbol.toStringTag,{value:"Module"}));function EJ(e,t,n){let r={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const i={},s=[];let o=[],a=[];const l={attempt:D(R),check:D(_),consume:E,enter:v,exit:w,interrupt:D(_,{interrupt:!0})},u={code:null,containerState:{},defineSkip:g,events:[],now:m,parser:e,previous:null,sliceSerialize:f,sliceStream:p,write:d};let c=t.tokenize.call(u,l);return t.resolveAll&&s.push(t),u;function d(B){return o=kr(o,B),b(),o[o.length-1]!==null?[]:(j(t,0),u.events=O_(s,u.events,u),u.events)}function f(B,H){return TJ(p(B),H)}function p(B){return vJ(o,B)}function m(){const{_bufferIndex:B,_index:H,line:ee,column:ye,offset:pe}=r;return{_bufferIndex:B,_index:H,line:ee,column:ye,offset:pe}}function g(B){i[B.line]=B.column,q()}function b(){let B;for(;r._index<o.length;){const H=o[r._index];if(typeof H=="string")for(B=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===B&&r._bufferIndex<H.length;)y(H.charCodeAt(r._bufferIndex));else y(H)}}function y(B){c=c(B)}function E(B){je(B)?(r.line++,r.column=1,r.offset+=B===-3?2:1,q()):B!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===o[r._index].length&&(r._bufferIndex=-1,r._index++)),u.previous=B}function v(B,H){const ee=H||{};return ee.type=B,ee.start=m(),u.events.push(["enter",ee,u]),a.push(ee),ee}function w(B){const H=a.pop();return H.end=m(),u.events.push(["exit",H,u]),H}function R(B,H){j(B,H.from)}function _(B,H){H.restore()}function D(B,H){return ee;function ee(ye,pe,xe){let Ce,Ee,$e,O;return Array.isArray(ye)?et(ye):"tokenize"in ye?et([ye]):Me(ye);function Me(Ke){return K;function K(me){const de=me!==null&&Ke[me],Se=me!==null&&Ke.null,Qe=[...Array.isArray(de)?de:de?[de]:[],...Array.isArray(Se)?Se:Se?[Se]:[]];return et(Qe)(me)}}function et(Ke){return Ce=Ke,Ee=0,Ke.length===0?xe:I(Ke[Ee])}function I(Ke){return K;function K(me){return O=P(),$e=Ke,Ke.partial||(u.currentConstruct=Ke),Ke.name&&u.parser.constructs.disable.null.includes(Ke.name)?ze():Ke.tokenize.call(H?Object.assign(Object.create(u),H):u,l,at,ze)(me)}}function at(Ke){return B($e,O),pe}function ze(Ke){return O.restore(),++Ee<Ce.length?I(Ce[Ee]):xe}}}function j(B,H){B.resolveAll&&!s.includes(B)&&s.push(B),B.resolve&&Bi(u.events,H,u.events.length-H,B.resolve(u.events.slice(H),u)),B.resolveTo&&(u.events=B.resolveTo(u.events,u))}function P(){const B=m(),H=u.previous,ee=u.currentConstruct,ye=u.events.length,pe=Array.from(a);return{from:ye,restore:xe};function xe(){r=B,u.previous=H,u.currentConstruct=ee,u.events.length=ye,a=pe,q()}}function q(){r.line in i&&r.column<2&&(r.column=i[r.line],r.offset+=i[r.line]-1)}}function vJ(e,t){const n=t.start._index,r=t.start._bufferIndex,i=t.end._index,s=t.end._bufferIndex;let o;if(n===i)o=[e[n].slice(r,s)];else{if(o=e.slice(n,i),r>-1){const a=o[0];typeof a=="string"?o[0]=a.slice(r):o.shift()}s>0&&o.push(e[i].slice(0,s))}return o}function TJ(e,t){let n=-1;const r=[];let i;for(;++n<e.length;){const s=e[n];let o;if(typeof s=="string")o=s;else switch(s){case-5:{o="\r";break}case-4:{o=`
`;break}case-3:{o=`\r
`;break}case-2:{o=t?" ":"	";break}case-1:{if(!t&&i)continue;o=" ";break}default:o=String.fromCharCode(s)}i=s===-2,r.push(o)}return r.join("")}function wJ(e){const r={constructs:PX([_J,...(e||{}).extensions||[]]),content:i(FX),defined:[],document:i(UX),flow:i(iJ),lazy:{},string:i(aJ),text:i(lJ)};return r;function i(s){return o;function o(a){return EJ(r,s,a)}}}function xJ(e){for(;!hD(e););return e}const Ex=/[\0\t\n\r]/g;function CJ(){let e=1,t="",n=!0,r;return i;function i(s,o,a){const l=[];let u,c,d,f,p;for(s=t+(typeof s=="string"?s.toString():new TextDecoder(o||void 0).decode(s)),d=0,t="",n&&(s.charCodeAt(0)===65279&&d++,n=void 0);d<s.length;){if(Ex.lastIndex=d,u=Ex.exec(s),f=u&&u.index!==void 0?u.index:s.length,p=s.charCodeAt(f),!u){t=s.slice(d);break}if(p===10&&d===f&&r)l.push(-3),r=void 0;else switch(r&&(l.push(-5),r=void 0),d<f&&(l.push(s.slice(d,f)),e+=f-d),p){case 0:{l.push(65533),e++;break}case 9:{for(c=Math.ceil(e/4)*4,l.push(-2);e++<c;)l.push(-1);break}case 10:{l.push(-4),e=1;break}default:r=!0,e=1}d=f+1}return a&&(r&&l.push(-5),t&&l.push(t),l.push(null)),l}}const SJ=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function ED(e){return e.replace(SJ,AJ)}function AJ(e,t,n){if(t)return t;if(n.charCodeAt(0)===35){const i=n.charCodeAt(1),s=i===120||i===88;return cD(n.slice(s?2:1),s?16:10)}return A_(n)||e}const vD={}.hasOwnProperty;function OJ(e,t,n){return typeof t!="string"&&(n=t,t=void 0),kJ(n)(xJ(wJ(n).document().write(CJ()(e,t,!0))))}function kJ(e){const t={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:s(ue),autolinkProtocol:P,autolinkEmail:P,atxHeading:s(Q),blockQuote:s(Se),characterEscape:P,characterReference:P,codeFenced:s(Qe),codeFencedFenceInfo:o,codeFencedFenceMeta:o,codeIndented:s(Qe,o),codeText:s(A,o),codeTextData:P,data:P,codeFlowValue:P,definition:s(N),definitionDestinationString:o,definitionLabelString:o,definitionTitleString:o,emphasis:s(F),hardBreakEscape:s(J),hardBreakTrailing:s(J),htmlFlow:s(X,o),htmlFlowData:P,htmlText:s(X,o),htmlTextData:P,image:s(be),label:o,link:s(ue),listItem:s(ie),listItemValue:f,listOrdered:s(he,d),listUnordered:s(he),paragraph:s(Le),reference:I,referenceString:o,resourceDestinationString:o,resourceTitleString:o,setextHeading:s(Q),strong:s(Te),thematicBreak:s(Pe)},exit:{atxHeading:l(),atxHeadingSequence:R,autolink:l(),autolinkEmail:de,autolinkProtocol:me,blockQuote:l(),characterEscapeValue:q,characterReferenceMarkerHexadecimal:ze,characterReferenceMarkerNumeric:ze,characterReferenceValue:Ke,characterReference:K,codeFenced:l(b),codeFencedFence:g,codeFencedFenceInfo:p,codeFencedFenceMeta:m,codeFlowValue:q,codeIndented:l(y),codeText:l(pe),codeTextData:q,data:q,definition:l(),definitionDestinationString:w,definitionLabelString:E,definitionTitleString:v,emphasis:l(),hardBreakEscape:l(H),hardBreakTrailing:l(H),htmlFlow:l(ee),htmlFlowData:q,htmlText:l(ye),htmlTextData:q,image:l(Ce),label:$e,labelText:Ee,lineEnding:B,link:l(xe),listItem:l(),listOrdered:l(),listUnordered:l(),paragraph:l(),referenceString:at,resourceDestinationString:O,resourceTitleString:Me,resource:et,setextHeading:l(j),setextHeadingLineSequence:D,setextHeadingText:_,strong:l(),thematicBreak:l()}};TD(t,(e||{}).mdastExtensions||[]);const n={};return r;function r(U){let te={type:"root",children:[]};const ve={stack:[te],tokenStack:[],config:t,enter:a,exit:u,buffer:o,resume:c,data:n},Be=[];let Ve=-1;for(;++Ve<U.length;)if(U[Ve][1].type==="listOrdered"||U[Ve][1].type==="listUnordered")if(U[Ve][0]==="enter")Be.push(Ve);else{const Ot=Be.pop();Ve=i(U,Ot,Ve)}for(Ve=-1;++Ve<U.length;){const Ot=t[U[Ve][0]];vD.call(Ot,U[Ve][1].type)&&Ot[U[Ve][1].type].call(Object.assign({sliceSerialize:U[Ve][2].sliceSerialize},ve),U[Ve][1])}if(ve.tokenStack.length>0){const Ot=ve.tokenStack[ve.tokenStack.length-1];(Ot[1]||vx).call(ve,void 0,Ot[0])}for(te.position={start:Os(U.length>0?U[0][1].start:{line:1,column:1,offset:0}),end:Os(U.length>0?U[U.length-2][1].end:{line:1,column:1,offset:0})},Ve=-1;++Ve<t.transforms.length;)te=t.transforms[Ve](te)||te;return te}function i(U,te,ve){let Be=te-1,Ve=-1,Ot=!1,Lt,jt,tn,Et;for(;++Be<=ve;){const pt=U[Be];switch(pt[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{pt[0]==="enter"?Ve++:Ve--,Et=void 0;break}case"lineEndingBlank":{pt[0]==="enter"&&(Lt&&!Et&&!Ve&&!tn&&(tn=Be),Et=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:Et=void 0}if(!Ve&&pt[0]==="enter"&&pt[1].type==="listItemPrefix"||Ve===-1&&pt[0]==="exit"&&(pt[1].type==="listUnordered"||pt[1].type==="listOrdered")){if(Lt){let ar=Be;for(jt=void 0;ar--;){const Gr=U[ar];if(Gr[1].type==="lineEnding"||Gr[1].type==="lineEndingBlank"){if(Gr[0]==="exit")continue;jt&&(U[jt][1].type="lineEndingBlank",Ot=!0),Gr[1].type="lineEnding",jt=ar}else if(!(Gr[1].type==="linePrefix"||Gr[1].type==="blockQuotePrefix"||Gr[1].type==="blockQuotePrefixWhitespace"||Gr[1].type==="blockQuoteMarker"||Gr[1].type==="listItemIndent"))break}tn&&(!jt||tn<jt)&&(Lt._spread=!0),Lt.end=Object.assign({},jt?U[jt][1].start:pt[1].end),U.splice(jt||Be,0,["exit",Lt,pt[2]]),Be++,ve++}if(pt[1].type==="listItemPrefix"){const ar={type:"listItem",_spread:!1,start:Object.assign({},pt[1].start),end:void 0};Lt=ar,U.splice(Be,0,["enter",ar,pt[2]]),Be++,ve++,tn=void 0,Et=!0}}}return U[te][1]._spread=Ot,ve}function s(U,te){return ve;function ve(Be){a.call(this,U(Be),Be),te&&te.call(this,Be)}}function o(){this.stack.push({type:"fragment",children:[]})}function a(U,te,ve){this.stack[this.stack.length-1].children.push(U),this.stack.push(U),this.tokenStack.push([te,ve||void 0]),U.position={start:Os(te.start),end:void 0}}function l(U){return te;function te(ve){U&&U.call(this,ve),u.call(this,ve)}}function u(U,te){const ve=this.stack.pop(),Be=this.tokenStack.pop();if(Be)Be[0].type!==U.type&&(te?te.call(this,U,Be[0]):(Be[1]||vx).call(this,U,Be[0]));else throw new Error("Cannot close `"+U.type+"` ("+Bu({start:U.start,end:U.end})+"): it’s not open");ve.position.end=Os(U.end)}function c(){return Wp(this.stack.pop())}function d(){this.data.expectingFirstListItemValue=!0}function f(U){if(this.data.expectingFirstListItemValue){const te=this.stack[this.stack.length-2];te.start=Number.parseInt(this.sliceSerialize(U),10),this.data.expectingFirstListItemValue=void 0}}function p(){const U=this.resume(),te=this.stack[this.stack.length-1];te.lang=U}function m(){const U=this.resume(),te=this.stack[this.stack.length-1];te.meta=U}function g(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function b(){const U=this.resume(),te=this.stack[this.stack.length-1];te.value=U.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function y(){const U=this.resume(),te=this.stack[this.stack.length-1];te.value=U.replace(/(\r?\n|\r)$/g,"")}function E(U){const te=this.resume(),ve=this.stack[this.stack.length-1];ve.label=te,ve.identifier=Va(this.sliceSerialize(U)).toLowerCase()}function v(){const U=this.resume(),te=this.stack[this.stack.length-1];te.title=U}function w(){const U=this.resume(),te=this.stack[this.stack.length-1];te.url=U}function R(U){const te=this.stack[this.stack.length-1];if(!te.depth){const ve=this.sliceSerialize(U).length;te.depth=ve}}function _(){this.data.setextHeadingSlurpLineEnding=!0}function D(U){const te=this.stack[this.stack.length-1];te.depth=this.sliceSerialize(U).codePointAt(0)===61?1:2}function j(){this.data.setextHeadingSlurpLineEnding=void 0}function P(U){const ve=this.stack[this.stack.length-1].children;let Be=ve[ve.length-1];(!Be||Be.type!=="text")&&(Be=ke(),Be.position={start:Os(U.start),end:void 0},ve.push(Be)),this.stack.push(Be)}function q(U){const te=this.stack.pop();te.value+=this.sliceSerialize(U),te.position.end=Os(U.end)}function B(U){const te=this.stack[this.stack.length-1];if(this.data.atHardBreak){const ve=te.children[te.children.length-1];ve.position.end=Os(U.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&t.canContainEols.includes(te.type)&&(P.call(this,U),q.call(this,U))}function H(){this.data.atHardBreak=!0}function ee(){const U=this.resume(),te=this.stack[this.stack.length-1];te.value=U}function ye(){const U=this.resume(),te=this.stack[this.stack.length-1];te.value=U}function pe(){const U=this.resume(),te=this.stack[this.stack.length-1];te.value=U}function xe(){const U=this.stack[this.stack.length-1];if(this.data.inReference){const te=this.data.referenceType||"shortcut";U.type+="Reference",U.referenceType=te,delete U.url,delete U.title}else delete U.identifier,delete U.label;this.data.referenceType=void 0}function Ce(){const U=this.stack[this.stack.length-1];if(this.data.inReference){const te=this.data.referenceType||"shortcut";U.type+="Reference",U.referenceType=te,delete U.url,delete U.title}else delete U.identifier,delete U.label;this.data.referenceType=void 0}function Ee(U){const te=this.sliceSerialize(U),ve=this.stack[this.stack.length-2];ve.label=ED(te),ve.identifier=Va(te).toLowerCase()}function $e(){const U=this.stack[this.stack.length-1],te=this.resume(),ve=this.stack[this.stack.length-1];if(this.data.inReference=!0,ve.type==="link"){const Be=U.children;ve.children=Be}else ve.alt=te}function O(){const U=this.resume(),te=this.stack[this.stack.length-1];te.url=U}function Me(){const U=this.resume(),te=this.stack[this.stack.length-1];te.title=U}function et(){this.data.inReference=void 0}function I(){this.data.referenceType="collapsed"}function at(U){const te=this.resume(),ve=this.stack[this.stack.length-1];ve.label=te,ve.identifier=Va(this.sliceSerialize(U)).toLowerCase(),this.data.referenceType="full"}function ze(U){this.data.characterReferenceType=U.type}function Ke(U){const te=this.sliceSerialize(U),ve=this.data.characterReferenceType;let Be;ve?(Be=cD(te,ve==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):Be=A_(te);const Ve=this.stack[this.stack.length-1];Ve.value+=Be}function K(U){const te=this.stack.pop();te.position.end=Os(U.end)}function me(U){q.call(this,U);const te=this.stack[this.stack.length-1];te.url=this.sliceSerialize(U)}function de(U){q.call(this,U);const te=this.stack[this.stack.length-1];te.url="mailto:"+this.sliceSerialize(U)}function Se(){return{type:"blockquote",children:[]}}function Qe(){return{type:"code",lang:null,meta:null,value:""}}function A(){return{type:"inlineCode",value:""}}function N(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function F(){return{type:"emphasis",children:[]}}function Q(){return{type:"heading",depth:0,children:[]}}function J(){return{type:"break"}}function X(){return{type:"html",value:""}}function be(){return{type:"image",title:null,url:"",alt:null}}function ue(){return{type:"link",title:null,url:"",children:[]}}function he(U){return{type:"list",ordered:U.type==="listOrdered",start:null,spread:U._spread,children:[]}}function ie(U){return{type:"listItem",spread:U._spread,checked:null,children:[]}}function Le(){return{type:"paragraph",children:[]}}function Te(){return{type:"strong",children:[]}}function ke(){return{type:"text",value:""}}function Pe(){return{type:"thematicBreak"}}}function Os(e){return{line:e.line,column:e.column,offset:e.offset}}function TD(e,t){let n=-1;for(;++n<t.length;){const r=t[n];Array.isArray(r)?TD(e,r):IJ(e,r)}}function IJ(e,t){let n;for(n in t)if(vD.call(t,n))switch(n){case"canContainEols":{const r=t[n];r&&e[n].push(...r);break}case"transforms":{const r=t[n];r&&e[n].push(...r);break}case"enter":case"exit":{const r=t[n];r&&Object.assign(e[n],r);break}}}function vx(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+Bu({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+Bu({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+Bu({start:t.start,end:t.end})+") is still open")}function NJ(e){const t=this;t.parser=n;function n(r){return OJ(r,{...t.data("settings"),...e,extensions:t.data("micromarkExtensions")||[],mdastExtensions:t.data("fromMarkdownExtensions")||[]})}}const RJ={}.hasOwnProperty;function wD(e,t){let n=-1,r;if(t.extensions)for(;++n<t.extensions.length;)wD(e,t.extensions[n]);for(r in t)if(RJ.call(t,r))switch(r){case"extensions":break;case"unsafe":{Tx(e[r],t[r]);break}case"join":{Tx(e[r],t[r]);break}case"handlers":{DJ(e[r],t[r]);break}default:e.options[r]=t[r]}return e}function Tx(e,t){t&&e.push(...t)}function DJ(e,t){t&&Object.assign(e,t)}function MJ(e,t,n,r){const i=n.enter("blockquote"),s=n.createTracker(r);s.move("> "),s.shift(2);const o=n.indentLines(n.containerFlow(e,s.current()),PJ);return i(),o}function PJ(e,t,n){return">"+(n?"":" ")+e}function xD(e,t){return wx(e,t.inConstruct,!0)&&!wx(e,t.notInConstruct,!1)}function wx(e,t,n){if(typeof t=="string"&&(t=[t]),!t||t.length===0)return n;let r=-1;for(;++r<t.length;)if(e.includes(t[r]))return!0;return!1}function xx(e,t,n,r){let i=-1;for(;++i<n.unsafe.length;)if(n.unsafe[i].character===`
`&&xD(n.stack,n.unsafe[i]))return/[ \t]/.test(r.before)?"":" ";return`\\
`}function LJ(e,t){const n=String(e);let r=n.indexOf(t),i=r,s=0,o=0;if(typeof t!="string")throw new TypeError("Expected substring");for(;r!==-1;)r===i?++s>o&&(o=s):s=1,i=r+t.length,r=n.indexOf(t,i);return o}function x1(e,t){return!!(t.options.fences===!1&&e.value&&!e.lang&&/[^ \r\n]/.test(e.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(e.value))}function BJ(e){const t=e.options.fence||"`";if(t!=="`"&&t!=="~")throw new Error("Cannot serialize code with `"+t+"` for `options.fence`, expected `` ` `` or `~`");return t}function FJ(e,t,n,r){const i=BJ(n),s=e.value||"",o=i==="`"?"GraveAccent":"Tilde";if(x1(e,n)){const d=n.enter("codeIndented"),f=n.indentLines(s,$J);return d(),f}const a=n.createTracker(r),l=i.repeat(Math.max(LJ(s,i)+1,3)),u=n.enter("codeFenced");let c=a.move(l);if(e.lang){const d=n.enter(`codeFencedLang${o}`);c+=a.move(n.safe(e.lang,{before:c,after:" ",encode:["`"],...a.current()})),d()}if(e.lang&&e.meta){const d=n.enter(`codeFencedMeta${o}`);c+=a.move(" "),c+=a.move(n.safe(e.meta,{before:c,after:`
`,encode:["`"],...a.current()})),d()}return c+=a.move(`
`),s&&(c+=a.move(s+`
`)),c+=a.move(l),u(),c}function $J(e,t,n){return(n?"":"    ")+e}function I_(e){const t=e.options.quote||'"';if(t!=='"'&&t!=="'")throw new Error("Cannot serialize title with `"+t+"` for `options.quote`, expected `\"`, or `'`");return t}function UJ(e,t,n,r){const i=I_(n),s=i==='"'?"Quote":"Apostrophe",o=n.enter("definition");let a=n.enter("label");const l=n.createTracker(r);let u=l.move("[");return u+=l.move(n.safe(n.associationId(e),{before:u,after:"]",...l.current()})),u+=l.move("]: "),a(),!e.url||/[\0- \u007F]/.test(e.url)?(a=n.enter("destinationLiteral"),u+=l.move("<"),u+=l.move(n.safe(e.url,{before:u,after:">",...l.current()})),u+=l.move(">")):(a=n.enter("destinationRaw"),u+=l.move(n.safe(e.url,{before:u,after:e.title?" ":`
`,...l.current()}))),a(),e.title&&(a=n.enter(`title${s}`),u+=l.move(" "+i),u+=l.move(n.safe(e.title,{before:u,after:i,...l.current()})),u+=l.move(i),a()),o(),u}function HJ(e){const t=e.options.emphasis||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize emphasis with `"+t+"` for `options.emphasis`, expected `*`, or `_`");return t}function uo(e){return"&#x"+e.toString(16).toUpperCase()+";"}function Vf(e,t,n){const r=qf(e),i=qf(t);return r===void 0?i===void 0?n==="_"?{inside:!0,outside:!0}:{inside:!1,outside:!1}:i===1?{inside:!0,outside:!0}:{inside:!1,outside:!0}:r===1?i===void 0?{inside:!1,outside:!1}:i===1?{inside:!0,outside:!0}:{inside:!1,outside:!1}:i===void 0?{inside:!1,outside:!1}:i===1?{inside:!0,outside:!1}:{inside:!1,outside:!1}}CD.peek=zJ;function CD(e,t,n,r){const i=HJ(n),s=n.enter("emphasis"),o=n.createTracker(r),a=o.move(i);let l=o.move(n.containerPhrasing(e,{after:i,before:a,...o.current()}));const u=l.charCodeAt(0),c=Vf(r.before.charCodeAt(r.before.length-1),u,i);c.inside&&(l=uo(u)+l.slice(1));const d=l.charCodeAt(l.length-1),f=Vf(r.after.charCodeAt(0),d,i);f.inside&&(l=l.slice(0,-1)+uo(d));const p=o.move(i);return s(),n.attentionEncodeSurroundingInfo={after:f.outside,before:c.outside},a+l+p}function zJ(e,t,n){return n.options.emphasis||"*"}function SD(e,t){let n=!1;return rl(e,function(r){if("value"in r&&/\r?\n|\r/.test(r.value)||r.type==="break")return n=!0,jf}),!!((!e.depth||e.depth<3)&&Wp(e)&&(t.options.setext||n))}function jJ(e,t,n,r){const i=Math.max(Math.min(6,e.depth||1),1),s=n.createTracker(r);if(SD(e,n)){const c=n.enter("headingSetext"),d=n.enter("phrasing"),f=n.containerPhrasing(e,{...s.current(),before:`
`,after:`
`});return d(),c(),f+`
`+(i===1?"=":"-").repeat(f.length-(Math.max(f.lastIndexOf("\r"),f.lastIndexOf(`
`))+1))}const o="#".repeat(i),a=n.enter("headingAtx"),l=n.enter("phrasing");s.move(o+" ");let u=n.containerPhrasing(e,{before:"# ",after:`
`,...s.current()});return/^[\t ]/.test(u)&&(u=uo(u.charCodeAt(0))+u.slice(1)),u=u?o+" "+u:o,n.options.closeAtx&&(u+=" "+o),l(),a(),u}AD.peek=qJ;function AD(e){return e.value||""}function qJ(){return"<"}OD.peek=VJ;function OD(e,t,n,r){const i=I_(n),s=i==='"'?"Quote":"Apostrophe",o=n.enter("image");let a=n.enter("label");const l=n.createTracker(r);let u=l.move("![");return u+=l.move(n.safe(e.alt,{before:u,after:"]",...l.current()})),u+=l.move("]("),a(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(a=n.enter("destinationLiteral"),u+=l.move("<"),u+=l.move(n.safe(e.url,{before:u,after:">",...l.current()})),u+=l.move(">")):(a=n.enter("destinationRaw"),u+=l.move(n.safe(e.url,{before:u,after:e.title?" ":")",...l.current()}))),a(),e.title&&(a=n.enter(`title${s}`),u+=l.move(" "+i),u+=l.move(n.safe(e.title,{before:u,after:i,...l.current()})),u+=l.move(i),a()),u+=l.move(")"),o(),u}function VJ(){return"!"}kD.peek=WJ;function kD(e,t,n,r){const i=e.referenceType,s=n.enter("imageReference");let o=n.enter("label");const a=n.createTracker(r);let l=a.move("![");const u=n.safe(e.alt,{before:l,after:"]",...a.current()});l+=a.move(u+"]["),o();const c=n.stack;n.stack=[],o=n.enter("reference");const d=n.safe(n.associationId(e),{before:l,after:"]",...a.current()});return o(),n.stack=c,s(),i==="full"||!u||u!==d?l+=a.move(d+"]"):i==="shortcut"?l=l.slice(0,-1):l+=a.move("]"),l}function WJ(){return"!"}ID.peek=GJ;function ID(e,t,n){let r=e.value||"",i="`",s=-1;for(;new RegExp("(^|[^`])"+i+"([^`]|$)").test(r);)i+="`";for(/[^ \r\n]/.test(r)&&(/^[ \r\n]/.test(r)&&/[ \r\n]$/.test(r)||/^`|`$/.test(r))&&(r=" "+r+" ");++s<n.unsafe.length;){const o=n.unsafe[s],a=n.compilePattern(o);let l;if(o.atBreak)for(;l=a.exec(r);){let u=l.index;r.charCodeAt(u)===10&&r.charCodeAt(u-1)===13&&u--,r=r.slice(0,u)+" "+r.slice(l.index+1)}}return i+r+i}function GJ(){return"`"}function ND(e,t){const n=Wp(e);return!!(!t.options.resourceLink&&e.url&&!e.title&&e.children&&e.children.length===1&&e.children[0].type==="text"&&(n===e.url||"mailto:"+n===e.url)&&/^[a-z][a-z+.-]+:/i.test(e.url)&&!/[\0- <>\u007F]/.test(e.url))}RD.peek=YJ;function RD(e,t,n,r){const i=I_(n),s=i==='"'?"Quote":"Apostrophe",o=n.createTracker(r);let a,l;if(ND(e,n)){const c=n.stack;n.stack=[],a=n.enter("autolink");let d=o.move("<");return d+=o.move(n.containerPhrasing(e,{before:d,after:">",...o.current()})),d+=o.move(">"),a(),n.stack=c,d}a=n.enter("link"),l=n.enter("label");let u=o.move("[");return u+=o.move(n.containerPhrasing(e,{before:u,after:"](",...o.current()})),u+=o.move("]("),l(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(l=n.enter("destinationLiteral"),u+=o.move("<"),u+=o.move(n.safe(e.url,{before:u,after:">",...o.current()})),u+=o.move(">")):(l=n.enter("destinationRaw"),u+=o.move(n.safe(e.url,{before:u,after:e.title?" ":")",...o.current()}))),l(),e.title&&(l=n.enter(`title${s}`),u+=o.move(" "+i),u+=o.move(n.safe(e.title,{before:u,after:i,...o.current()})),u+=o.move(i),l()),u+=o.move(")"),a(),u}function YJ(e,t,n){return ND(e,n)?"<":"["}DD.peek=KJ;function DD(e,t,n,r){const i=e.referenceType,s=n.enter("linkReference");let o=n.enter("label");const a=n.createTracker(r);let l=a.move("[");const u=n.containerPhrasing(e,{before:l,after:"]",...a.current()});l+=a.move(u+"]["),o();const c=n.stack;n.stack=[],o=n.enter("reference");const d=n.safe(n.associationId(e),{before:l,after:"]",...a.current()});return o(),n.stack=c,s(),i==="full"||!u||u!==d?l+=a.move(d+"]"):i==="shortcut"?l=l.slice(0,-1):l+=a.move("]"),l}function KJ(){return"["}function N_(e){const t=e.options.bullet||"*";if(t!=="*"&&t!=="+"&&t!=="-")throw new Error("Cannot serialize items with `"+t+"` for `options.bullet`, expected `*`, `+`, or `-`");return t}function XJ(e){const t=N_(e),n=e.options.bulletOther;if(!n)return t==="*"?"-":"*";if(n!=="*"&&n!=="+"&&n!=="-")throw new Error("Cannot serialize items with `"+n+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(n===t)throw new Error("Expected `bullet` (`"+t+"`) and `bulletOther` (`"+n+"`) to be different");return n}function QJ(e){const t=e.options.bulletOrdered||".";if(t!=="."&&t!==")")throw new Error("Cannot serialize items with `"+t+"` for `options.bulletOrdered`, expected `.` or `)`");return t}function MD(e){const t=e.options.rule||"*";if(t!=="*"&&t!=="-"&&t!=="_")throw new Error("Cannot serialize rules with `"+t+"` for `options.rule`, expected `*`, `-`, or `_`");return t}function JJ(e,t,n,r){const i=n.enter("list"),s=n.bulletCurrent;let o=e.ordered?QJ(n):N_(n);const a=e.ordered?o==="."?")":".":XJ(n);let l=t&&n.bulletLastUsed?o===n.bulletLastUsed:!1;if(!e.ordered){const c=e.children?e.children[0]:void 0;if((o==="*"||o==="-")&&c&&(!c.children||!c.children[0])&&n.stack[n.stack.length-1]==="list"&&n.stack[n.stack.length-2]==="listItem"&&n.stack[n.stack.length-3]==="list"&&n.stack[n.stack.length-4]==="listItem"&&n.indexStack[n.indexStack.length-1]===0&&n.indexStack[n.indexStack.length-2]===0&&n.indexStack[n.indexStack.length-3]===0&&(l=!0),MD(n)===o&&c){let d=-1;for(;++d<e.children.length;){const f=e.children[d];if(f&&f.type==="listItem"&&f.children&&f.children[0]&&f.children[0].type==="thematicBreak"){l=!0;break}}}}l&&(o=a),n.bulletCurrent=o;const u=n.containerFlow(e,r);return n.bulletLastUsed=o,n.bulletCurrent=s,i(),u}function ZJ(e){const t=e.options.listItemIndent||"one";if(t!=="tab"&&t!=="one"&&t!=="mixed")throw new Error("Cannot serialize items with `"+t+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return t}function eZ(e,t,n,r){const i=ZJ(n);let s=n.bulletCurrent||N_(n);t&&t.type==="list"&&t.ordered&&(s=(typeof t.start=="number"&&t.start>-1?t.start:1)+(n.options.incrementListMarker===!1?0:t.children.indexOf(e))+s);let o=s.length+1;(i==="tab"||i==="mixed"&&(t&&t.type==="list"&&t.spread||e.spread))&&(o=Math.ceil(o/4)*4);const a=n.createTracker(r);a.move(s+" ".repeat(o-s.length)),a.shift(o);const l=n.enter("listItem"),u=n.indentLines(n.containerFlow(e,a.current()),c);return l(),u;function c(d,f,p){return f?(p?"":" ".repeat(o))+d:(p?s:s+" ".repeat(o-s.length))+d}}function tZ(e,t,n,r){const i=n.enter("paragraph"),s=n.enter("phrasing"),o=n.containerPhrasing(e,r);return s(),i(),o}function nZ(e,t,n,r){return(e.children.some(function(o){return KR(o)})?n.containerPhrasing:n.containerFlow).call(n,e,r)}function rZ(e){const t=e.options.strong||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize strong with `"+t+"` for `options.strong`, expected `*`, or `_`");return t}PD.peek=iZ;function PD(e,t,n,r){const i=rZ(n),s=n.enter("strong"),o=n.createTracker(r),a=o.move(i+i);let l=o.move(n.containerPhrasing(e,{after:i,before:a,...o.current()}));const u=l.charCodeAt(0),c=Vf(r.before.charCodeAt(r.before.length-1),u,i);c.inside&&(l=uo(u)+l.slice(1));const d=l.charCodeAt(l.length-1),f=Vf(r.after.charCodeAt(0),d,i);f.inside&&(l=l.slice(0,-1)+uo(d));const p=o.move(i+i);return s(),n.attentionEncodeSurroundingInfo={after:f.outside,before:c.outside},a+l+p}function iZ(e,t,n){return n.options.strong||"*"}function sZ(e,t,n,r){return n.safe(e.value,r)}function oZ(e){const t=e.options.ruleRepetition||3;if(t<3)throw new Error("Cannot serialize rules with repetition `"+t+"` for `options.ruleRepetition`, expected `3` or more");return t}function aZ(e,t,n){const r=(MD(n)+(n.options.ruleSpaces?" ":"")).repeat(oZ(n));return n.options.ruleSpaces?r.slice(0,-1):r}const lZ={blockquote:MJ,break:xx,code:FJ,definition:UJ,emphasis:CD,hardBreak:xx,heading:jJ,html:AD,image:OD,imageReference:kD,inlineCode:ID,link:RD,linkReference:DD,list:JJ,listItem:eZ,paragraph:tZ,root:nZ,strong:PD,text:sZ,thematicBreak:aZ},uZ=[cZ];function cZ(e,t,n,r){if(t.type==="code"&&x1(t,r)&&(e.type==="list"||e.type===t.type&&x1(e,r)))return!1;if("spread"in n&&typeof n.spread=="boolean")return e.type==="paragraph"&&(e.type===t.type||t.type==="definition"||t.type==="heading"&&SD(t,r))?void 0:n.spread?1:0}const Oo=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"],dZ=[{character:"	",after:"[\\r\\n]",inConstruct:"phrasing"},{character:"	",before:"[\\r\\n]",inConstruct:"phrasing"},{character:"	",inConstruct:["codeFencedLangGraveAccent","codeFencedLangTilde"]},{character:"\r",inConstruct:["codeFencedLangGraveAccent","codeFencedLangTilde","codeFencedMetaGraveAccent","codeFencedMetaTilde","destinationLiteral","headingAtx"]},{character:`
`,inConstruct:["codeFencedLangGraveAccent","codeFencedLangTilde","codeFencedMetaGraveAccent","codeFencedMetaTilde","destinationLiteral","headingAtx"]},{character:" ",after:"[\\r\\n]",inConstruct:"phrasing"},{character:" ",before:"[\\r\\n]",inConstruct:"phrasing"},{character:" ",inConstruct:["codeFencedLangGraveAccent","codeFencedLangTilde"]},{character:"!",after:"\\[",inConstruct:"phrasing",notInConstruct:Oo},{character:'"',inConstruct:"titleQuote"},{atBreak:!0,character:"#"},{character:"#",inConstruct:"headingAtx",after:`(?:[\r
]|$)`},{character:"&",after:"[#A-Za-z]",inConstruct:"phrasing"},{character:"'",inConstruct:"titleApostrophe"},{character:"(",inConstruct:"destinationRaw"},{before:"\\]",character:"(",inConstruct:"phrasing",notInConstruct:Oo},{atBreak:!0,before:"\\d+",character:")"},{character:")",inConstruct:"destinationRaw"},{atBreak:!0,character:"*",after:`(?:[ 	\r
*])`},{character:"*",inConstruct:"phrasing",notInConstruct:Oo},{atBreak:!0,character:"+",after:`(?:[ 	\r
])`},{atBreak:!0,character:"-",after:`(?:[ 	\r
-])`},{atBreak:!0,before:"\\d+",character:".",after:`(?:[ 	\r
]|$)`},{atBreak:!0,character:"<",after:"[!/?A-Za-z]"},{character:"<",after:"[!/?A-Za-z]",inConstruct:"phrasing",notInConstruct:Oo},{character:"<",inConstruct:"destinationLiteral"},{atBreak:!0,character:"="},{atBreak:!0,character:">"},{character:">",inConstruct:"destinationLiteral"},{atBreak:!0,character:"["},{character:"[",inConstruct:"phrasing",notInConstruct:Oo},{character:"[",inConstruct:["label","reference"]},{character:"\\",after:"[\\r\\n]",inConstruct:"phrasing"},{character:"]",inConstruct:["label","reference"]},{atBreak:!0,character:"_"},{character:"_",inConstruct:"phrasing",notInConstruct:Oo},{atBreak:!0,character:"`"},{character:"`",inConstruct:["codeFencedLangGraveAccent","codeFencedMetaGraveAccent"]},{character:"`",inConstruct:"phrasing",notInConstruct:Oo},{atBreak:!0,character:"~"}];function fZ(e){return e.label||!e.identifier?e.label||"":ED(e.identifier)}function pZ(e){if(!e._compiled){const t=(e.atBreak?"[\\r\\n][\\t ]*":"")+(e.before?"(?:"+e.before+")":"");e._compiled=new RegExp((t?"("+t+")":"")+(/[|\\{}()[\]^$+*?.-]/.test(e.character)?"\\":"")+e.character+(e.after?"(?:"+e.after+")":""),"g")}return e._compiled}function hZ(e,t,n){const r=t.indexStack,i=e.children||[],s=[];let o=-1,a=n.before,l;r.push(-1);let u=t.createTracker(n);for(;++o<i.length;){const c=i[o];let d;if(r[r.length-1]=o,o+1<i.length){let m=t.handle.handlers[i[o+1].type];m&&m.peek&&(m=m.peek),d=m?m(i[o+1],e,t,{before:"",after:"",...u.current()}).charAt(0):""}else d=n.after;s.length>0&&(a==="\r"||a===`
`)&&c.type==="html"&&(s[s.length-1]=s[s.length-1].replace(/(\r?\n|\r)$/," "),a=" ",u=t.createTracker(n),u.move(s.join("")));let f=t.handle(c,e,t,{...u.current(),after:d,before:a});l&&l===f.slice(0,1)&&(f=uo(l.charCodeAt(0))+f.slice(1));const p=t.attentionEncodeSurroundingInfo;t.attentionEncodeSurroundingInfo=void 0,l=void 0,p&&(s.length>0&&p.before&&a===s[s.length-1].slice(-1)&&(s[s.length-1]=s[s.length-1].slice(0,-1)+uo(a.charCodeAt(0))),p.after&&(l=d)),u.move(f),s.push(f),a=f.slice(-1)}return r.pop(),s.join("")}function mZ(e,t,n){const r=t.indexStack,i=e.children||[],s=t.createTracker(n),o=[];let a=-1;for(r.push(-1);++a<i.length;){const l=i[a];r[r.length-1]=a,o.push(s.move(t.handle(l,e,t,{before:`
`,after:`
`,...s.current()}))),l.type!=="list"&&(t.bulletLastUsed=void 0),a<i.length-1&&o.push(s.move(gZ(l,i[a+1],e,t)))}return r.pop(),o.join("")}function gZ(e,t,n,r){let i=r.join.length;for(;i--;){const s=r.join[i](e,t,n,r);if(s===!0||s===1)break;if(typeof s=="number")return`
`.repeat(1+s);if(s===!1)return`

<!---->

`}return`

`}const bZ=/\r?\n|\r/g;function yZ(e,t){const n=[];let r=0,i=0,s;for(;s=bZ.exec(e);)o(e.slice(r,s.index)),n.push(s[0]),r=s.index+s[0].length,i++;return o(e.slice(r)),n.join("");function o(a){n.push(t(a,i,!a))}}function _Z(e,t,n){const r=(n.before||"")+(t||"")+(n.after||""),i=[],s=[],o={};let a=-1;for(;++a<e.unsafe.length;){const c=e.unsafe[a];if(!xD(e.stack,c))continue;const d=e.compilePattern(c);let f;for(;f=d.exec(r);){const p="before"in c||!!c.atBreak,m="after"in c,g=f.index+(p?f[1].length:0);i.includes(g)?(o[g].before&&!p&&(o[g].before=!1),o[g].after&&!m&&(o[g].after=!1)):(i.push(g),o[g]={before:p,after:m})}}i.sort(EZ);let l=n.before?n.before.length:0;const u=r.length-(n.after?n.after.length:0);for(a=-1;++a<i.length;){const c=i[a];c<l||c>=u||c+1<u&&i[a+1]===c+1&&o[c].after&&!o[c+1].before&&!o[c+1].after||i[a-1]===c-1&&o[c].before&&!o[c-1].before&&!o[c-1].after||(l!==c&&s.push(Cx(r.slice(l,c),"\\")),l=c,/[!-/:-@[-`{-~]/.test(r.charAt(c))&&(!n.encode||!n.encode.includes(r.charAt(c)))?s.push("\\"):(s.push(uo(r.charCodeAt(c))),l++))}return s.push(Cx(r.slice(l,u),n.after)),s.join("")}function EZ(e,t){return e-t}function Cx(e,t){const n=/\\(?=[!-/:-@[-`{-~])/g,r=[],i=[],s=e+t;let o=-1,a=0,l;for(;l=n.exec(s);)r.push(l.index);for(;++o<r.length;)a!==r[o]&&i.push(e.slice(a,r[o])),i.push("\\"),a=r[o];return i.push(e.slice(a)),i.join("")}function vZ(e){const t=e||{},n=t.now||{};let r=t.lineShift||0,i=n.line||1,s=n.column||1;return{move:l,current:o,shift:a};function o(){return{now:{line:i,column:s},lineShift:r}}function a(u){r+=u}function l(u){const c=u||"",d=c.split(/\r?\n|\r/g),f=d[d.length-1];return i+=d.length-1,s=d.length===1?s+f.length:1+f.length+r,c}}function TZ(e,t){const n=t||{},r={associationId:fZ,containerPhrasing:SZ,containerFlow:AZ,createTracker:vZ,compilePattern:pZ,enter:s,handlers:{...lZ},handle:void 0,indentLines:yZ,indexStack:[],join:[...uZ],options:{},safe:OZ,stack:[],unsafe:[...dZ]};wD(r,n),r.options.tightDefinitions&&r.join.push(CZ),r.handle=iD("type",{invalid:wZ,unknown:xZ,handlers:r.handlers});let i=r.handle(e,void 0,r,{before:`
`,after:`
`,now:{line:1,column:1},lineShift:0});return i&&i.charCodeAt(i.length-1)!==10&&i.charCodeAt(i.length-1)!==13&&(i+=`
`),i;function s(o){return r.stack.push(o),a;function a(){r.stack.pop()}}}function wZ(e){throw new Error("Cannot handle value `"+e+"`, expected node")}function xZ(e){const t=e;throw new Error("Cannot handle unknown node `"+t.type+"`")}function CZ(e,t){if(e.type==="definition"&&e.type===t.type)return 0}function SZ(e,t){return hZ(e,this,t)}function AZ(e,t){return mZ(e,this,t)}function OZ(e,t){return _Z(this,e,t)}function kZ(e){const t=this;t.compiler=n;function n(r){return TZ(r,{...t.data("settings"),...e,extensions:t.data("toMarkdownExtensions")||[]})}}function Sx(e){if(e)throw e}var Od=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function LD(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var ym,Ax;function IZ(){if(Ax)return ym;Ax=1;var e=Object.prototype.hasOwnProperty,t=Object.prototype.toString,n=Object.defineProperty,r=Object.getOwnPropertyDescriptor,i=function(u){return typeof Array.isArray=="function"?Array.isArray(u):t.call(u)==="[object Array]"},s=function(u){if(!u||t.call(u)!=="[object Object]")return!1;var c=e.call(u,"constructor"),d=u.constructor&&u.constructor.prototype&&e.call(u.constructor.prototype,"isPrototypeOf");if(u.constructor&&!c&&!d)return!1;var f;for(f in u);return typeof f>"u"||e.call(u,f)},o=function(u,c){n&&c.name==="__proto__"?n(u,c.name,{enumerable:!0,configurable:!0,value:c.newValue,writable:!0}):u[c.name]=c.newValue},a=function(u,c){if(c==="__proto__")if(e.call(u,c)){if(r)return r(u,c).value}else return;return u[c]};return ym=function l(){var u,c,d,f,p,m,g=arguments[0],b=1,y=arguments.length,E=!1;for(typeof g=="boolean"&&(E=g,g=arguments[1]||{},b=2),(g==null||typeof g!="object"&&typeof g!="function")&&(g={});b<y;++b)if(u=arguments[b],u!=null)for(c in u)d=a(g,c),f=a(u,c),g!==f&&(E&&f&&(s(f)||(p=i(f)))?(p?(p=!1,m=d&&i(d)?d:[]):m=d&&s(d)?d:{},o(g,{name:c,newValue:l(E,m,f)})):typeof f<"u"&&o(g,{name:c,newValue:f}));return g},ym}var NZ=IZ();const _m=LD(NZ);function C1(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function RZ(){const e=[],t={run:n,use:r};return t;function n(...i){let s=-1;const o=i.pop();if(typeof o!="function")throw new TypeError("Expected function as last argument, not "+o);a(null,...i);function a(l,...u){const c=e[++s];let d=-1;if(l){o(l);return}for(;++d<i.length;)(u[d]===null||u[d]===void 0)&&(u[d]=i[d]);i=u,c?DZ(c,a)(...u):o(null,...u)}}function r(i){if(typeof i!="function")throw new TypeError("Expected `middelware` to be a function, not "+i);return e.push(i),t}}function DZ(e,t){let n;return r;function r(...o){const a=e.length>o.length;let l;a&&o.push(i);try{l=e.apply(this,o)}catch(u){const c=u;if(a&&n)throw c;return i(c)}a||(l&&l.then&&typeof l.then=="function"?l.then(s,i):l instanceof Error?i(l):s(l))}function i(o,...a){n||(n=!0,t(o,...a))}function s(o){i(null,o)}}const MZ=function(e){const r=this.constructor.prototype,i=r[e],s=function(){return i.apply(s,arguments)};return Object.setPrototypeOf(s,r),s},PZ={}.hasOwnProperty;class R_ extends MZ{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=RZ()}copy(){const t=new R_;let n=-1;for(;++n<this.attachers.length;){const r=this.attachers[n];t.use(...r)}return t.data(_m(!0,{},this.namespace)),t}data(t,n){return typeof t=="string"?arguments.length===2?(Tm("data",this.frozen),this.namespace[t]=n,this):PZ.call(this.namespace,t)&&this.namespace[t]||void 0:t?(Tm("data",this.frozen),this.namespace=t,this):this.namespace}freeze(){if(this.frozen)return this;const t=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const i=n.call(t,...r);typeof i=="function"&&this.transformers.use(i)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(t){this.freeze();const n=kd(t),r=this.parser||this.Parser;return Em("parse",r),r(String(n),n)}process(t,n){const r=this;return this.freeze(),Em("process",this.parser||this.Parser),vm("process",this.compiler||this.Compiler),n?i(void 0,n):new Promise(i);function i(s,o){const a=kd(t),l=r.parse(a);r.run(l,a,function(c,d,f){if(c||!d||!f)return u(c);const p=d,m=r.stringify(p,f);BZ(m)?f.value=m:f.result=m,u(c,f)});function u(c,d){c||!d?o(c):s?s(d):n(void 0,d)}}}processSync(t){let n=!1,r;return this.freeze(),Em("processSync",this.parser||this.Parser),vm("processSync",this.compiler||this.Compiler),this.process(t,i),kx("processSync","process",n),r;function i(s,o){n=!0,Sx(s),r=o}}run(t,n,r){Ox(t),this.freeze();const i=this.transformers;return!r&&typeof n=="function"&&(r=n,n=void 0),r?s(void 0,r):new Promise(s);function s(o,a){const l=kd(n);i.run(t,l,u);function u(c,d,f){const p=d||t;c?a(c):o?o(p):r(void 0,p,f)}}}runSync(t,n){let r=!1,i;return this.run(t,n,s),kx("runSync","run",r),i;function s(o,a){Sx(o),i=a,r=!0}}stringify(t,n){this.freeze();const r=kd(n),i=this.compiler||this.Compiler;return vm("stringify",i),Ox(t),i(t,r)}use(t,...n){const r=this.attachers,i=this.namespace;if(Tm("use",this.frozen),t!=null)if(typeof t=="function")l(t,n);else if(typeof t=="object")Array.isArray(t)?a(t):o(t);else throw new TypeError("Expected usable value, not `"+t+"`");return this;function s(u){if(typeof u=="function")l(u,[]);else if(typeof u=="object")if(Array.isArray(u)){const[c,...d]=u;l(c,d)}else o(u);else throw new TypeError("Expected usable value, not `"+u+"`")}function o(u){if(!("plugins"in u)&&!("settings"in u))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");a(u.plugins),u.settings&&(i.settings=_m(!0,i.settings,u.settings))}function a(u){let c=-1;if(u!=null)if(Array.isArray(u))for(;++c<u.length;){const d=u[c];s(d)}else throw new TypeError("Expected a list of plugins, not `"+u+"`")}function l(u,c){let d=-1,f=-1;for(;++d<r.length;)if(r[d][0]===u){f=d;break}if(f===-1)r.push([u,...c]);else if(c.length>0){let[p,...m]=c;const g=r[f][1];C1(g)&&C1(p)&&(p=_m(!0,g,p)),r[f]=[u,p,...m]}}}}const BD=new R_().freeze();function Em(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `parser`")}function vm(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `compiler`")}function Tm(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function Ox(e){if(!C1(e)||typeof e.type!="string")throw new TypeError("Expected node, got `"+e+"`")}function kx(e,t,n){if(!n)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}function kd(e){return LZ(e)?e:new b1(e)}function LZ(e){return!!(e&&typeof e=="object"&&"message"in e&&"messages"in e)}function BZ(e){return typeof e=="string"||FZ(e)}function FZ(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}function Ix(e){return BD().use(nG).use(DY).use(kZ).processSync(e).toString()}function $Z(e){return BD().use(NJ).use(MX).processSync(e).toString()}/*! @license DOMPurify 3.2.4 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.2.4/LICENSE */const{entries:FD,setPrototypeOf:Nx,isFrozen:UZ,getPrototypeOf:HZ,getOwnPropertyDescriptor:zZ}=Object;let{freeze:zn,seal:$r,create:$D}=Object,{apply:S1,construct:A1}=typeof Reflect<"u"&&Reflect;zn||(zn=function(t){return t});$r||($r=function(t){return t});S1||(S1=function(t,n,r){return t.apply(n,r)});A1||(A1=function(t,n){return new t(...n)});const Id=jn(Array.prototype.forEach),jZ=jn(Array.prototype.lastIndexOf),Rx=jn(Array.prototype.pop),Zl=jn(Array.prototype.push),qZ=jn(Array.prototype.splice),rf=jn(String.prototype.toLowerCase),wm=jn(String.prototype.toString),Dx=jn(String.prototype.match),eu=jn(String.prototype.replace),VZ=jn(String.prototype.indexOf),WZ=jn(String.prototype.trim),Kr=jn(Object.prototype.hasOwnProperty),Bn=jn(RegExp.prototype.test),tu=GZ(TypeError);function jn(e){return function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return S1(e,t,r)}}function GZ(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return A1(e,n)}}function tt(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:rf;Nx&&Nx(e,null);let r=t.length;for(;r--;){let i=t[r];if(typeof i=="string"){const s=n(i);s!==i&&(UZ(t)||(t[r]=s),i=s)}e[i]=!0}return e}function YZ(e){for(let t=0;t<e.length;t++)Kr(e,t)||(e[t]=null);return e}function Io(e){const t=$D(null);for(const[n,r]of FD(e))Kr(e,n)&&(Array.isArray(r)?t[n]=YZ(r):r&&typeof r=="object"&&r.constructor===Object?t[n]=Io(r):t[n]=r);return t}function nu(e,t){for(;e!==null;){const r=zZ(e,t);if(r){if(r.get)return jn(r.get);if(typeof r.value=="function")return jn(r.value)}e=HZ(e)}function n(){return null}return n}const Mx=zn(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),xm=zn(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),Cm=zn(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),KZ=zn(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),Sm=zn(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),XZ=zn(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),Px=zn(["#text"]),Lx=zn(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),Am=zn(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),Bx=zn(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),Nd=zn(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),QZ=$r(/\{\{[\w\W]*|[\w\W]*\}\}/gm),JZ=$r(/<%[\w\W]*|[\w\W]*%>/gm),ZZ=$r(/\$\{[\w\W]*/gm),eee=$r(/^data-[\-\w.\u00B7-\uFFFF]+$/),tee=$r(/^aria-[\-\w]+$/),UD=$r(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),nee=$r(/^(?:\w+script|data):/i),ree=$r(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),HD=$r(/^html$/i),iee=$r(/^[a-z][.\w]*(-[.\w]+)+$/i);var Fx=Object.freeze({__proto__:null,ARIA_ATTR:tee,ATTR_WHITESPACE:ree,CUSTOM_ELEMENT:iee,DATA_ATTR:eee,DOCTYPE_NAME:HD,ERB_EXPR:JZ,IS_ALLOWED_URI:UD,IS_SCRIPT_OR_DATA:nee,MUSTACHE_EXPR:QZ,TMPLIT_EXPR:ZZ});const ru={element:1,text:3,progressingInstruction:7,comment:8,document:9},see=function(){return typeof window>"u"?null:window},oee=function(t,n){if(typeof t!="object"||typeof t.createPolicy!="function")return null;let r=null;const i="data-tt-policy-suffix";n&&n.hasAttribute(i)&&(r=n.getAttribute(i));const s="dompurify"+(r?"#"+r:"");try{return t.createPolicy(s,{createHTML(o){return o},createScriptURL(o){return o}})}catch{return console.warn("TrustedTypes policy "+s+" could not be created."),null}},$x=function(){return{afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}};function zD(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:see();const t=De=>zD(De);if(t.version="3.2.4",t.removed=[],!e||!e.document||e.document.nodeType!==ru.document||!e.Element)return t.isSupported=!1,t;let{document:n}=e;const r=n,i=r.currentScript,{DocumentFragment:s,HTMLTemplateElement:o,Node:a,Element:l,NodeFilter:u,NamedNodeMap:c=e.NamedNodeMap||e.MozNamedAttrMap,HTMLFormElement:d,DOMParser:f,trustedTypes:p}=e,m=l.prototype,g=nu(m,"cloneNode"),b=nu(m,"remove"),y=nu(m,"nextSibling"),E=nu(m,"childNodes"),v=nu(m,"parentNode");if(typeof o=="function"){const De=n.createElement("template");De.content&&De.content.ownerDocument&&(n=De.content.ownerDocument)}let w,R="";const{implementation:_,createNodeIterator:D,createDocumentFragment:j,getElementsByTagName:P}=n,{importNode:q}=r;let B=$x();t.isSupported=typeof FD=="function"&&typeof v=="function"&&_&&_.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:H,ERB_EXPR:ee,TMPLIT_EXPR:ye,DATA_ATTR:pe,ARIA_ATTR:xe,IS_SCRIPT_OR_DATA:Ce,ATTR_WHITESPACE:Ee,CUSTOM_ELEMENT:$e}=Fx;let{IS_ALLOWED_URI:O}=Fx,Me=null;const et=tt({},[...Mx,...xm,...Cm,...Sm,...Px]);let I=null;const at=tt({},[...Lx,...Am,...Bx,...Nd]);let ze=Object.seal($D(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),Ke=null,K=null,me=!0,de=!0,Se=!1,Qe=!0,A=!1,N=!0,F=!1,Q=!1,J=!1,X=!1,be=!1,ue=!1,he=!0,ie=!1;const Le="user-content-";let Te=!0,ke=!1,Pe={},U=null;const te=tt({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let ve=null;const Be=tt({},["audio","video","img","source","image","track"]);let Ve=null;const Ot=tt({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Lt="http://www.w3.org/1998/Math/MathML",jt="http://www.w3.org/2000/svg",tn="http://www.w3.org/1999/xhtml";let Et=tn,pt=!1,ar=null;const Gr=tt({},[Lt,jt,tn],wm);let ud=tt({},["mi","mo","mn","ms","mtext"]),cd=tt({},["annotation-xml"]);const _6=tt({},["title","style","font","a","script"]);let Bl=null;const E6=["application/xhtml+xml","text/html"],v6="text/html";let nn=null,ga=null;const T6=n.createElement("form"),ov=function(M){return M instanceof RegExp||M instanceof Function},Ih=function(){let M=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(ga&&ga===M)){if((!M||typeof M!="object")&&(M={}),M=Io(M),Bl=E6.indexOf(M.PARSER_MEDIA_TYPE)===-1?v6:M.PARSER_MEDIA_TYPE,nn=Bl==="application/xhtml+xml"?wm:rf,Me=Kr(M,"ALLOWED_TAGS")?tt({},M.ALLOWED_TAGS,nn):et,I=Kr(M,"ALLOWED_ATTR")?tt({},M.ALLOWED_ATTR,nn):at,ar=Kr(M,"ALLOWED_NAMESPACES")?tt({},M.ALLOWED_NAMESPACES,wm):Gr,Ve=Kr(M,"ADD_URI_SAFE_ATTR")?tt(Io(Ot),M.ADD_URI_SAFE_ATTR,nn):Ot,ve=Kr(M,"ADD_DATA_URI_TAGS")?tt(Io(Be),M.ADD_DATA_URI_TAGS,nn):Be,U=Kr(M,"FORBID_CONTENTS")?tt({},M.FORBID_CONTENTS,nn):te,Ke=Kr(M,"FORBID_TAGS")?tt({},M.FORBID_TAGS,nn):{},K=Kr(M,"FORBID_ATTR")?tt({},M.FORBID_ATTR,nn):{},Pe=Kr(M,"USE_PROFILES")?M.USE_PROFILES:!1,me=M.ALLOW_ARIA_ATTR!==!1,de=M.ALLOW_DATA_ATTR!==!1,Se=M.ALLOW_UNKNOWN_PROTOCOLS||!1,Qe=M.ALLOW_SELF_CLOSE_IN_ATTR!==!1,A=M.SAFE_FOR_TEMPLATES||!1,N=M.SAFE_FOR_XML!==!1,F=M.WHOLE_DOCUMENT||!1,X=M.RETURN_DOM||!1,be=M.RETURN_DOM_FRAGMENT||!1,ue=M.RETURN_TRUSTED_TYPE||!1,J=M.FORCE_BODY||!1,he=M.SANITIZE_DOM!==!1,ie=M.SANITIZE_NAMED_PROPS||!1,Te=M.KEEP_CONTENT!==!1,ke=M.IN_PLACE||!1,O=M.ALLOWED_URI_REGEXP||UD,Et=M.NAMESPACE||tn,ud=M.MATHML_TEXT_INTEGRATION_POINTS||ud,cd=M.HTML_INTEGRATION_POINTS||cd,ze=M.CUSTOM_ELEMENT_HANDLING||{},M.CUSTOM_ELEMENT_HANDLING&&ov(M.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(ze.tagNameCheck=M.CUSTOM_ELEMENT_HANDLING.tagNameCheck),M.CUSTOM_ELEMENT_HANDLING&&ov(M.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(ze.attributeNameCheck=M.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),M.CUSTOM_ELEMENT_HANDLING&&typeof M.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(ze.allowCustomizedBuiltInElements=M.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),A&&(de=!1),be&&(X=!0),Pe&&(Me=tt({},Px),I=[],Pe.html===!0&&(tt(Me,Mx),tt(I,Lx)),Pe.svg===!0&&(tt(Me,xm),tt(I,Am),tt(I,Nd)),Pe.svgFilters===!0&&(tt(Me,Cm),tt(I,Am),tt(I,Nd)),Pe.mathMl===!0&&(tt(Me,Sm),tt(I,Bx),tt(I,Nd))),M.ADD_TAGS&&(Me===et&&(Me=Io(Me)),tt(Me,M.ADD_TAGS,nn)),M.ADD_ATTR&&(I===at&&(I=Io(I)),tt(I,M.ADD_ATTR,nn)),M.ADD_URI_SAFE_ATTR&&tt(Ve,M.ADD_URI_SAFE_ATTR,nn),M.FORBID_CONTENTS&&(U===te&&(U=Io(U)),tt(U,M.FORBID_CONTENTS,nn)),Te&&(Me["#text"]=!0),F&&tt(Me,["html","head","body"]),Me.table&&(tt(Me,["tbody"]),delete Ke.tbody),M.TRUSTED_TYPES_POLICY){if(typeof M.TRUSTED_TYPES_POLICY.createHTML!="function")throw tu('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof M.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw tu('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');w=M.TRUSTED_TYPES_POLICY,R=w.createHTML("")}else w===void 0&&(w=oee(p,i)),w!==null&&typeof R=="string"&&(R=w.createHTML(""));zn&&zn(M),ga=M}},av=tt({},[...xm,...Cm,...KZ]),lv=tt({},[...Sm,...XZ]),w6=function(M){let ce=v(M);(!ce||!ce.tagName)&&(ce={namespaceURI:Et,tagName:"template"});const Ie=rf(M.tagName),Nt=rf(ce.tagName);return ar[M.namespaceURI]?M.namespaceURI===jt?ce.namespaceURI===tn?Ie==="svg":ce.namespaceURI===Lt?Ie==="svg"&&(Nt==="annotation-xml"||ud[Nt]):!!av[Ie]:M.namespaceURI===Lt?ce.namespaceURI===tn?Ie==="math":ce.namespaceURI===jt?Ie==="math"&&cd[Nt]:!!lv[Ie]:M.namespaceURI===tn?ce.namespaceURI===jt&&!cd[Nt]||ce.namespaceURI===Lt&&!ud[Nt]?!1:!lv[Ie]&&(_6[Ie]||!av[Ie]):!!(Bl==="application/xhtml+xml"&&ar[M.namespaceURI]):!1},_i=function(M){Zl(t.removed,{element:M});try{v(M).removeChild(M)}catch{b(M)}},dd=function(M,ce){try{Zl(t.removed,{attribute:ce.getAttributeNode(M),from:ce})}catch{Zl(t.removed,{attribute:null,from:ce})}if(ce.removeAttribute(M),M==="is")if(X||be)try{_i(ce)}catch{}else try{ce.setAttribute(M,"")}catch{}},uv=function(M){let ce=null,Ie=null;if(J)M="<remove></remove>"+M;else{const gn=Dx(M,/^[\r\n\t ]+/);Ie=gn&&gn[0]}Bl==="application/xhtml+xml"&&Et===tn&&(M='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+M+"</body></html>");const Nt=w?w.createHTML(M):M;if(Et===tn)try{ce=new f().parseFromString(Nt,Bl)}catch{}if(!ce||!ce.documentElement){ce=_.createDocument(Et,"template",null);try{ce.documentElement.innerHTML=pt?R:Nt}catch{}}const Tn=ce.body||ce.documentElement;return M&&Ie&&Tn.insertBefore(n.createTextNode(Ie),Tn.childNodes[0]||null),Et===tn?P.call(ce,F?"html":"body")[0]:F?ce.documentElement:Tn},cv=function(M){return D.call(M.ownerDocument||M,M,u.SHOW_ELEMENT|u.SHOW_COMMENT|u.SHOW_TEXT|u.SHOW_PROCESSING_INSTRUCTION|u.SHOW_CDATA_SECTION,null)},Nh=function(M){return M instanceof d&&(typeof M.nodeName!="string"||typeof M.textContent!="string"||typeof M.removeChild!="function"||!(M.attributes instanceof c)||typeof M.removeAttribute!="function"||typeof M.setAttribute!="function"||typeof M.namespaceURI!="string"||typeof M.insertBefore!="function"||typeof M.hasChildNodes!="function")},dv=function(M){return typeof a=="function"&&M instanceof a};function Wi(De,M,ce){Id(De,Ie=>{Ie.call(t,M,ce,ga)})}const fv=function(M){let ce=null;if(Wi(B.beforeSanitizeElements,M,null),Nh(M))return _i(M),!0;const Ie=nn(M.nodeName);if(Wi(B.uponSanitizeElement,M,{tagName:Ie,allowedTags:Me}),M.hasChildNodes()&&!dv(M.firstElementChild)&&Bn(/<[/\w]/g,M.innerHTML)&&Bn(/<[/\w]/g,M.textContent)||M.nodeType===ru.progressingInstruction||N&&M.nodeType===ru.comment&&Bn(/<[/\w]/g,M.data))return _i(M),!0;if(!Me[Ie]||Ke[Ie]){if(!Ke[Ie]&&hv(Ie)&&(ze.tagNameCheck instanceof RegExp&&Bn(ze.tagNameCheck,Ie)||ze.tagNameCheck instanceof Function&&ze.tagNameCheck(Ie)))return!1;if(Te&&!U[Ie]){const Nt=v(M)||M.parentNode,Tn=E(M)||M.childNodes;if(Tn&&Nt){const gn=Tn.length;for(let Kn=gn-1;Kn>=0;--Kn){const Ei=g(Tn[Kn],!0);Ei.__removalCount=(M.__removalCount||0)+1,Nt.insertBefore(Ei,y(M))}}}return _i(M),!0}return M instanceof l&&!w6(M)||(Ie==="noscript"||Ie==="noembed"||Ie==="noframes")&&Bn(/<\/no(script|embed|frames)/i,M.innerHTML)?(_i(M),!0):(A&&M.nodeType===ru.text&&(ce=M.textContent,Id([H,ee,ye],Nt=>{ce=eu(ce,Nt," ")}),M.textContent!==ce&&(Zl(t.removed,{element:M.cloneNode()}),M.textContent=ce)),Wi(B.afterSanitizeElements,M,null),!1)},pv=function(M,ce,Ie){if(he&&(ce==="id"||ce==="name")&&(Ie in n||Ie in T6))return!1;if(!(de&&!K[ce]&&Bn(pe,ce))){if(!(me&&Bn(xe,ce))){if(!I[ce]||K[ce]){if(!(hv(M)&&(ze.tagNameCheck instanceof RegExp&&Bn(ze.tagNameCheck,M)||ze.tagNameCheck instanceof Function&&ze.tagNameCheck(M))&&(ze.attributeNameCheck instanceof RegExp&&Bn(ze.attributeNameCheck,ce)||ze.attributeNameCheck instanceof Function&&ze.attributeNameCheck(ce))||ce==="is"&&ze.allowCustomizedBuiltInElements&&(ze.tagNameCheck instanceof RegExp&&Bn(ze.tagNameCheck,Ie)||ze.tagNameCheck instanceof Function&&ze.tagNameCheck(Ie))))return!1}else if(!Ve[ce]){if(!Bn(O,eu(Ie,Ee,""))){if(!((ce==="src"||ce==="xlink:href"||ce==="href")&&M!=="script"&&VZ(Ie,"data:")===0&&ve[M])){if(!(Se&&!Bn(Ce,eu(Ie,Ee,"")))){if(Ie)return!1}}}}}}return!0},hv=function(M){return M!=="annotation-xml"&&Dx(M,$e)},mv=function(M){Wi(B.beforeSanitizeAttributes,M,null);const{attributes:ce}=M;if(!ce||Nh(M))return;const Ie={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:I,forceKeepAttr:void 0};let Nt=ce.length;for(;Nt--;){const Tn=ce[Nt],{name:gn,namespaceURI:Kn,value:Ei}=Tn,Fl=nn(gn);let Pn=gn==="value"?Ei:WZ(Ei);if(Ie.attrName=Fl,Ie.attrValue=Pn,Ie.keepAttr=!0,Ie.forceKeepAttr=void 0,Wi(B.uponSanitizeAttribute,M,Ie),Pn=Ie.attrValue,ie&&(Fl==="id"||Fl==="name")&&(dd(gn,M),Pn=Le+Pn),N&&Bn(/((--!?|])>)|<\/(style|title)/i,Pn)){dd(gn,M);continue}if(Ie.forceKeepAttr||(dd(gn,M),!Ie.keepAttr))continue;if(!Qe&&Bn(/\/>/i,Pn)){dd(gn,M);continue}A&&Id([H,ee,ye],bv=>{Pn=eu(Pn,bv," ")});const gv=nn(M.nodeName);if(pv(gv,Fl,Pn)){if(w&&typeof p=="object"&&typeof p.getAttributeType=="function"&&!Kn)switch(p.getAttributeType(gv,Fl)){case"TrustedHTML":{Pn=w.createHTML(Pn);break}case"TrustedScriptURL":{Pn=w.createScriptURL(Pn);break}}try{Kn?M.setAttributeNS(Kn,gn,Pn):M.setAttribute(gn,Pn),Nh(M)?_i(M):Rx(t.removed)}catch{}}}Wi(B.afterSanitizeAttributes,M,null)},x6=function De(M){let ce=null;const Ie=cv(M);for(Wi(B.beforeSanitizeShadowDOM,M,null);ce=Ie.nextNode();)Wi(B.uponSanitizeShadowNode,ce,null),fv(ce),mv(ce),ce.content instanceof s&&De(ce.content);Wi(B.afterSanitizeShadowDOM,M,null)};return t.sanitize=function(De){let M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},ce=null,Ie=null,Nt=null,Tn=null;if(pt=!De,pt&&(De="<!-->"),typeof De!="string"&&!dv(De))if(typeof De.toString=="function"){if(De=De.toString(),typeof De!="string")throw tu("dirty is not a string, aborting")}else throw tu("toString is not a function");if(!t.isSupported)return De;if(Q||Ih(M),t.removed=[],typeof De=="string"&&(ke=!1),ke){if(De.nodeName){const Ei=nn(De.nodeName);if(!Me[Ei]||Ke[Ei])throw tu("root node is forbidden and cannot be sanitized in-place")}}else if(De instanceof a)ce=uv("<!---->"),Ie=ce.ownerDocument.importNode(De,!0),Ie.nodeType===ru.element&&Ie.nodeName==="BODY"||Ie.nodeName==="HTML"?ce=Ie:ce.appendChild(Ie);else{if(!X&&!A&&!F&&De.indexOf("<")===-1)return w&&ue?w.createHTML(De):De;if(ce=uv(De),!ce)return X?null:ue?R:""}ce&&J&&_i(ce.firstChild);const gn=cv(ke?De:ce);for(;Nt=gn.nextNode();)fv(Nt),mv(Nt),Nt.content instanceof s&&x6(Nt.content);if(ke)return De;if(X){if(be)for(Tn=j.call(ce.ownerDocument);ce.firstChild;)Tn.appendChild(ce.firstChild);else Tn=ce;return(I.shadowroot||I.shadowrootmode)&&(Tn=q.call(r,Tn,!0)),Tn}let Kn=F?ce.outerHTML:ce.innerHTML;return F&&Me["!doctype"]&&ce.ownerDocument&&ce.ownerDocument.doctype&&ce.ownerDocument.doctype.name&&Bn(HD,ce.ownerDocument.doctype.name)&&(Kn="<!DOCTYPE "+ce.ownerDocument.doctype.name+`>
`+Kn),A&&Id([H,ee,ye],Ei=>{Kn=eu(Kn,Ei," ")}),w&&ue?w.createHTML(Kn):Kn},t.setConfig=function(){let De=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Ih(De),Q=!0},t.clearConfig=function(){ga=null,Q=!1},t.isValidAttribute=function(De,M,ce){ga||Ih({});const Ie=nn(De),Nt=nn(M);return pv(Ie,Nt,ce)},t.addHook=function(De,M){typeof M=="function"&&Zl(B[De],M)},t.removeHook=function(De,M){if(M!==void 0){const ce=jZ(B[De],M);return ce===-1?void 0:qZ(B[De],ce,1)[0]}return Rx(B[De])},t.removeHooks=function(De){B[De]=[]},t.removeAllHooks=function(){B=$x()},t}var O1=zD();const aee=["innerHTML"],lee={__name:"MarkdownBlock",props:{markdown:{type:String,required:!1}},setup(e){const t=e,n=bt(()=>t.markdown?O1.sanitize($Z(t.markdown)):null);return(r,i)=>(x(),L("div",{class:"markdown",innerHTML:n.value},null,8,aee))}},uee=Object.freeze(Object.defineProperty({__proto__:null,default:lee},Symbol.toStringTag,{value:"Module"})),cee={props:{title:{type:String,required:!1},modelValue:{type:Boolean,required:!1,default:!1},size:{type:String,required:!1,default:"md"},hideClose:{type:Boolean,required:!1,default:!1}},emits:["opened","closed","update:modelValue"],data(){return{}},computed:{panelStyle(){return{maxHeight:"500px"}},isVisible:{immediate:!0,get(){return this.modelValue},set(e){this.$emit("update:modelValue",e)}},width(){switch(this.size){case"xxs":return"lg:w-1/6";case"xs":return"lg:w-1/4";case"sm":return"lg:w-1/3";case"md":return"lg:w-1/2";case"lg":return"lg:w-2/3";case"xl":return"lg:w-3/4";case"xxl":return"lg:w-11/12";case"full":return"w-full";default:return"lg:w-1/2"}},hasHeader(){return this.$slots.header||this.title},modalClass(){return["bg-white","border","border-gray-500","opacity-100","relative","mt-16","mb-auto","rounded-lg","shadow-md",this.width].join(" ")}},watch:{async isVisible(e){document.body.style.overflow="auto",e&&(await Mc(),this.setBodyMaxHeight(),document.body.style.overflow="hidden")}},mounted(){this.setBodyMaxHeight()},methods:{open(){this.isVisible=!0,this.$emit("opened")},close(){this.isVisible=!1,this.$emit("closed")},setBodyMaxHeight(){const e=this.$refs.panelbody.getBoundingClientRect();this.$refs.panelbody.style.maxHeight=`calc(90vh - ${e.y}px)`}}},dee={class:"flex border-b pt-2 pb-2 justify-between items-center"},fee={class:"px-4 pt-2"},pee={key:0,class:""},hee={ref:"panelbody",class:"overflow-auto px-4 pb-2 pt-2"},mee={key:0,class:"footer px-4 py-2"};function gee(e,t,n,r,i,s){return Ct((x(),L("div",{class:"fixed top-0 left-0 right-0 bottom-0 flex justify-center content-center z-50",onKeyup:t[2]||(t[2]=Fy((...o)=>s.close&&s.close(...o),["esc"]))},[S("div",{id:"modal-backdrop",class:"fixed top-0 left-0 right-0 bottom-0 bg-black opacity-50",onClick:t[0]||(t[0]=(...o)=>s.close&&s.close(...o))}),S("div",{class:nt(s.modalClass)},[S("header",dee,[S("div",fee,[Ae(e.$slots,"header",{},()=>[n.title?(x(),L("h2",pee,le(n.title),1)):Oe("",!0)])]),n.hideClose?Oe("",!0):(x(),L("button",{key:0,class:"bock btn btn-xs gray mx-2",onClick:t[1]||(t[1]=(...o)=>s.close&&s.close(...o))}," X "))]),S("section",hee,[Ae(e.$slots,"default")],512),e.$slots.footer?(x(),L("div",mee,[Ae(e.$slots,"footer")])):Oe("",!0)],2)],544)),[[yr,s.isVisible]])}const bee=ne(cee,[["render",gee]]),yee=Object.freeze(Object.defineProperty({__proto__:null,default:bee},Symbol.toStringTag,{value:"Module"})),_ee={props:{},data(){return{}},computed:{},methods:{}},Eee={class:"note"};function vee(e,t,n,r,i,s){return x(),L("div",Eee,[Ae(e.$slots,"default")])}const Tee=ne(_ee,[["render",vee]]),wee=Object.freeze(Object.defineProperty({__proto__:null,default:Tee},Symbol.toStringTag,{value:"Module"})),xee={name:"NotificationItem",props:{notification:{required:!0,type:Object}},emits:["removed"],data(){return{}},computed:{variant(){return this.notification.data.type||"info"}},methods:{async markRead(){this.notification.id&&(await Z.put(`/api/notifications/${this.notification.id}`),this.$emit("removed"))}}},Cee={class:"flex items-center justify-between px-4"},See={class:""},Aee={key:1,class:"font-bold"};function Oee(e,t,n,r,i,s){const o=Y("markdown-block"),a=Y("icon-close"),l=Y("static-alert");return x(),fe(l,{variant:s.variant},{default:V(()=>[S("div",Cee,[S("div",See,[n.notification.data.markdown?(x(),fe(o,{key:0,markdown:n.notification.data.message},null,8,["markdown"])):(x(),L("div",Aee,le(n.notification.data.message),1))]),S("button",{class:"block",onClick:t[0]||(t[0]=(...u)=>s.markRead&&s.markRead(...u))},[z(a)])])]),_:1},8,["variant"])}const jD=ne(xee,[["render",Oee]]),kee=Object.freeze(Object.defineProperty({__proto__:null,default:jD},Symbol.toStringTag,{value:"Module"})),Iee={__name:"NotificationList",props:{user:{type:Object,required:!0}},setup(e){const t=e,n=yt(!1),r=yt([]),i=async()=>{n.value=!0,t.user.person&&t.user.person.uuid&&(r.value=await Z.get(`/api/people/${t.user.person.uuid}/notifications/unread`).then(o=>o.data)),n.value=!1},s=o=>{const a=r.value.findIndex(l=>Number.parseInt(l.id)===Number.parseInt(o.id));a>-1&&r.value.splice(a,1)};return vr(()=>{i()}),(o,a)=>(x(),fe(JI,{tag:"div",name:"slide-fade-down"},{default:V(()=>[(x(!0),L(Xe,null,$t(r.value,l=>(x(),fe(jD,{key:l.id,notification:l,class:"mb-2",onRemoved:u=>s(l)},null,8,["notification","onRemoved"]))),128))]),_:1}))}},Nee=Object.freeze(Object.defineProperty({__proto__:null,default:Iee},Symbol.toStringTag,{value:"Module"})),Ree={name:"ObjectDictionary",props:{obj:{type:Object,required:!0},except:{type:Array,required:!1},only:{type:Array,required:!1},order:{type:Array,required:!1},show:{type:Array,required:!1},dates:{type:Array,required:!1,default:()=>[]},labelWidthClass:{type:String,required:!1,default:"w-36"},labelClass:{type:String,required:!1,default:"w-36"}},data(){return{}},computed:{filteredObj(){return this.obj?this.show?this.getShow():this.except?this.getExcept():this.only?this.getOnly(this.only):this.obj:{}}},methods:{getOnly(e){const t={};return e.forEach(n=>{const r=this.format(n,this.obj[n]);t[this.titleCase(n)]=r||"--"}),t},getShow(){return this.getOnly(this.show)},getExcept(){const e={};return Object.keys(this.obj).forEach(t=>{this.except.includes(t)||(e[t]=this.format(this.obj[t]))}),e},format(e,t){return t&&(this.dates.includes(e)?$y(new Date(Date.parse(t))):t)}}},Dee={key:0};function Mee(e,t,n,r,i,s){const o=Y("dictionary-row");return s.filteredObj?(x(),L("div",Dee,[(x(!0),L(Xe,null,$t(s.filteredObj,(a,l)=>(x(),fe(o,{key:l,label:e.titleCase(l),"label-class":n.labelClass},{default:V(()=>[we(le(a),1)]),_:2},1032,["label","label-class"]))),128))])):Oe("",!0)}const Pee=ne(Ree,[["render",Mee]]),Lee=Object.freeze(Object.defineProperty({__proto__:null,default:Pee},Symbol.toStringTag,{value:"Module"})),Bee={name:"PaginationLinks",props:{currentPage:{type:Number,required:!0},pageSize:{type:Number,default:20},totalItems:{type:Number,required:!0}},emits:["update:currentPage"],data(){return{}},computed:{pagesCount(){return Math.ceil(this.totalItems/this.pageSize)},pages(){return N7(0,this.pagesCount)},displayPages(){const e=[];return this.pages.forEach(t=>{if(t===0||t===this.pagesCount-1||Math.abs(t-this.currentPage)<2)e.push({page:t+1,label:t+1});else{if(e[e.length-1].page===null)return;e.push({page:null,label:"..."})}}),e}},methods:{goToPreviousPage(){this.currentPage!==1&&this.$emit("update:currentPage",this.currentPage-1)},goToNextPage(){this.currentPage!==this.pagesCount&&this.$emit("update:currentPage",this.currentPage+1)}}},Fee={class:"flex pagination-control"},$ee=["onClick"],Uee={key:1};function Hee(e,t,n,r,i,s){return x(),L("div",null,[S("ul",Fee,[S("li",null,[S("button",{class:nt(["link",{active:n.currentPage===1}]),onClick:t[0]||(t[0]=(...o)=>s.goToPreviousPage&&s.goToPreviousPage(...o))}," < ",2)]),(x(!0),L(Xe,null,$t(s.displayPages,(o,a)=>(x(),L("li",{key:a},[o.page!==null?(x(),L("button",{key:0,class:nt(["link px-2",{active:o.page===n.currentPage}]),onClick:l=>e.$emit("update:currentPage",o.page)},le(o.label),11,$ee)):(x(),L("span",Uee,"…"))]))),128)),S("li",null,[S("button",{class:nt(["link",{active:n.currentPage==s.pagesCount}]),onClick:t[1]||(t[1]=(...o)=>s.goToNextPage&&s.goToNextPage(...o))}," > ",2)])])])}const zee=ne(Bee,[["render",Hee]]),jee=Object.freeze(Object.defineProperty({__proto__:null,default:zee},Symbol.toStringTag,{value:"Module"}));function k1(e,t,n){var r,i,s,o,a;t==null&&(t=100);function l(){var c=Date.now()-o;c<t&&c>=0?r=setTimeout(l,t-c):(r=null,n||(a=e.apply(s,i),s=i=null))}var u=function(){s=this,i=arguments,o=Date.now();var c=n&&!r;return r||(r=setTimeout(l,t)),c&&(a=e.apply(s,i),s=i=null),a};return u.clear=function(){r&&(clearTimeout(r),r=null)},u.flush=function(){r&&(a=e.apply(s,i),s=i=null,clearTimeout(r),r=null)},u}k1.debounce=k1;var Om=k1;function qee(e,t,n){Yt(e)?vn(e,(r,i)=>{i==null||i.removeEventListener(t,n),r==null||r.addEventListener(t,n)}):vr(()=>{e.addEventListener(t,n)}),Tl(()=>{var r;(r=_e(e))===null||r===void 0||r.removeEventListener(t,n)})}function Vee(e,t){const n="pointerdown";return typeof window>"u"||!window?void 0:qee(window,n,i=>{const s=_e(e);s&&(s===i.target||i.composedPath().includes(s)||t(i))})}function Wee(e,t,n){let r=null;const i=yt(!1);vr(()=>{(e.content!==void 0||n.value)&&(i.value=!0),r=new MutationObserver(s),r.observe(t.value,{childList:!0,subtree:!0})}),Tl(()=>r.disconnect()),vn(n,o=>{o?i.value=!0:i.value=!1});const s=()=>{e.content?i.value=!0:i.value=!1};return{hasContent:i}}function il(e,t){var n=e.getBoundingClientRect(),r=1,i=1;return{width:n.width/r,height:n.height/i,top:n.top/i,right:n.right/r,bottom:n.bottom/i,left:n.left/r,x:n.left/r,y:n.top/i}}function mi(e){if(e==null)return window;if(e.toString()!=="[object Window]"){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function D_(e){var t=mi(e),n=t.pageXOffset,r=t.pageYOffset;return{scrollLeft:n,scrollTop:r}}function fc(e){var t=mi(e).Element;return e instanceof t||e instanceof Element}function Mr(e){var t=mi(e).HTMLElement;return e instanceof t||e instanceof HTMLElement}function qD(e){if(typeof ShadowRoot>"u")return!1;var t=mi(e).ShadowRoot;return e instanceof t||e instanceof ShadowRoot}function Gee(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}}function Yee(e){return e===mi(e)||!Mr(e)?D_(e):Gee(e)}function Fi(e){return e?(e.nodeName||"").toLowerCase():null}function Eo(e){return((fc(e)?e.ownerDocument:e.document)||window.document).documentElement}function M_(e){return il(Eo(e)).left+D_(e).scrollLeft}function hs(e){return mi(e).getComputedStyle(e)}function P_(e){var t=hs(e),n=t.overflow,r=t.overflowX,i=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+i+r)}function Kee(e){var t=e.getBoundingClientRect(),n=t.width/e.offsetWidth||1,r=t.height/e.offsetHeight||1;return n!==1||r!==1}function Xee(e,t,n){n===void 0&&(n=!1);var r=Mr(t);Mr(t)&&Kee(t);var i=Eo(t),s=il(e),o={scrollLeft:0,scrollTop:0},a={x:0,y:0};return(r||!r&&!n)&&((Fi(t)!=="body"||P_(i))&&(o=Yee(t)),Mr(t)?(a=il(t),a.x+=t.clientLeft,a.y+=t.clientTop):i&&(a.x=M_(i))),{x:s.left+o.scrollLeft-a.x,y:s.top+o.scrollTop-a.y,width:s.width,height:s.height}}function L_(e){var t=il(e),n=e.offsetWidth,r=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-r)<=1&&(r=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:r}}function Kp(e){return Fi(e)==="html"?e:e.assignedSlot||e.parentNode||(qD(e)?e.host:null)||Eo(e)}function VD(e){return["html","body","#document"].indexOf(Fi(e))>=0?e.ownerDocument.body:Mr(e)&&P_(e)?e:VD(Kp(e))}function Uu(e,t){var n;t===void 0&&(t=[]);var r=VD(e),i=r===((n=e.ownerDocument)==null?void 0:n.body),s=mi(r),o=i?[s].concat(s.visualViewport||[],P_(r)?r:[]):r,a=t.concat(o);return i?a:a.concat(Uu(Kp(o)))}function Qee(e){return["table","td","th"].indexOf(Fi(e))>=0}function Ux(e){return!Mr(e)||hs(e).position==="fixed"?null:e.offsetParent}function Jee(e){var t=navigator.userAgent.toLowerCase().indexOf("firefox")!==-1,n=navigator.userAgent.indexOf("Trident")!==-1;if(n&&Mr(e)){var r=hs(e);if(r.position==="fixed")return null}for(var i=Kp(e);Mr(i)&&["html","body"].indexOf(Fi(i))<0;){var s=hs(i);if(s.transform!=="none"||s.perspective!=="none"||s.contain==="paint"||["transform","perspective"].indexOf(s.willChange)!==-1||t&&s.willChange==="filter"||t&&s.filter&&s.filter!=="none")return i;i=i.parentNode}return null}function Yc(e){for(var t=mi(e),n=Ux(e);n&&Qee(n)&&hs(n).position==="static";)n=Ux(n);return n&&(Fi(n)==="html"||Fi(n)==="body"&&hs(n).position==="static")?t:n||Jee(e)||t}var Pr="top",ri="bottom",ii="right",Lr="left",B_="auto",Kc=[Pr,ri,ii,Lr],sl="start",pc="end",Zee="clippingParents",WD="viewport",iu="popper",ete="reference",Hx=Kc.reduce(function(e,t){return e.concat([t+"-"+sl,t+"-"+pc])},[]),GD=[].concat(Kc,[B_]).reduce(function(e,t){return e.concat([t,t+"-"+sl,t+"-"+pc])},[]),tte="beforeRead",nte="read",rte="afterRead",ite="beforeMain",ste="main",ote="afterMain",ate="beforeWrite",lte="write",ute="afterWrite",cte=[tte,nte,rte,ite,ste,ote,ate,lte,ute];function dte(e){var t=new Map,n=new Set,r=[];e.forEach(function(s){t.set(s.name,s)});function i(s){n.add(s.name);var o=[].concat(s.requires||[],s.requiresIfExists||[]);o.forEach(function(a){if(!n.has(a)){var l=t.get(a);l&&i(l)}}),r.push(s)}return e.forEach(function(s){n.has(s.name)||i(s)}),r}function fte(e){var t=dte(e);return cte.reduce(function(n,r){return n.concat(t.filter(function(i){return i.phase===r}))},[])}function pte(e){var t;return function(){return t||(t=new Promise(function(n){Promise.resolve().then(function(){t=void 0,n(e())})})),t}}function Di(e){return e.split("-")[0]}function hte(e){var t=e.reduce(function(n,r){var i=n[r.name];return n[r.name]=i?Object.assign({},i,r,{options:Object.assign({},i.options,r.options),data:Object.assign({},i.data,r.data)}):r,n},{});return Object.keys(t).map(function(n){return t[n]})}function mte(e){var t=mi(e),n=Eo(e),r=t.visualViewport,i=n.clientWidth,s=n.clientHeight,o=0,a=0;return r&&(i=r.width,s=r.height,/^((?!chrome|android).)*safari/i.test(navigator.userAgent)||(o=r.offsetLeft,a=r.offsetTop)),{width:i,height:s,x:o+M_(e),y:a}}var Zs=Math.max,hc=Math.min,Rd=Math.round;function gte(e){var t,n=Eo(e),r=D_(e),i=(t=e.ownerDocument)==null?void 0:t.body,s=Zs(n.scrollWidth,n.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),o=Zs(n.scrollHeight,n.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),a=-r.scrollLeft+M_(e),l=-r.scrollTop;return hs(i||n).direction==="rtl"&&(a+=Zs(n.clientWidth,i?i.clientWidth:0)-s),{width:s,height:o,x:a,y:l}}function YD(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&qD(n)){var r=t;do{if(r&&e.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function I1(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function bte(e){var t=il(e);return t.top=t.top+e.clientTop,t.left=t.left+e.clientLeft,t.bottom=t.top+e.clientHeight,t.right=t.left+e.clientWidth,t.width=e.clientWidth,t.height=e.clientHeight,t.x=t.left,t.y=t.top,t}function zx(e,t){return t===WD?I1(mte(e)):Mr(t)?bte(t):I1(gte(Eo(e)))}function yte(e){var t=Uu(Kp(e)),n=["absolute","fixed"].indexOf(hs(e).position)>=0,r=n&&Mr(e)?Yc(e):e;return fc(r)?t.filter(function(i){return fc(i)&&YD(i,r)&&Fi(i)!=="body"}):[]}function _te(e,t,n){var r=t==="clippingParents"?yte(e):[].concat(t),i=[].concat(r,[n]),s=i[0],o=i.reduce(function(a,l){var u=zx(e,l);return a.top=Zs(u.top,a.top),a.right=hc(u.right,a.right),a.bottom=hc(u.bottom,a.bottom),a.left=Zs(u.left,a.left),a},zx(e,s));return o.width=o.right-o.left,o.height=o.bottom-o.top,o.x=o.left,o.y=o.top,o}function ol(e){return e.split("-")[1]}function F_(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function KD(e){var t=e.reference,n=e.element,r=e.placement,i=r?Di(r):null,s=r?ol(r):null,o=t.x+t.width/2-n.width/2,a=t.y+t.height/2-n.height/2,l;switch(i){case Pr:l={x:o,y:t.y-n.height};break;case ri:l={x:o,y:t.y+t.height};break;case ii:l={x:t.x+t.width,y:a};break;case Lr:l={x:t.x-n.width,y:a};break;default:l={x:t.x,y:t.y}}var u=i?F_(i):null;if(u!=null){var c=u==="y"?"height":"width";switch(s){case sl:l[u]=l[u]-(t[c]/2-n[c]/2);break;case pc:l[u]=l[u]+(t[c]/2-n[c]/2);break}}return l}function XD(){return{top:0,right:0,bottom:0,left:0}}function QD(e){return Object.assign({},XD(),e)}function JD(e,t){return t.reduce(function(n,r){return n[r]=e,n},{})}function $_(e,t){t===void 0&&(t={});var n=t,r=n.placement,i=r===void 0?e.placement:r,s=n.boundary,o=s===void 0?Zee:s,a=n.rootBoundary,l=a===void 0?WD:a,u=n.elementContext,c=u===void 0?iu:u,d=n.altBoundary,f=d===void 0?!1:d,p=n.padding,m=p===void 0?0:p,g=QD(typeof m!="number"?m:JD(m,Kc)),b=c===iu?ete:iu,y=e.rects.popper,E=e.elements[f?b:c],v=_te(fc(E)?E:E.contextElement||Eo(e.elements.popper),o,l),w=il(e.elements.reference),R=KD({reference:w,element:y,placement:i}),_=I1(Object.assign({},y,R)),D=c===iu?_:w,j={top:v.top-D.top+g.top,bottom:D.bottom-v.bottom+g.bottom,left:v.left-D.left+g.left,right:D.right-v.right+g.right},P=e.modifiersData.offset;if(c===iu&&P){var q=P[i];Object.keys(j).forEach(function(B){var H=[ii,ri].indexOf(B)>=0?1:-1,ee=[Pr,ri].indexOf(B)>=0?"y":"x";j[B]+=q[ee]*H})}return j}var jx={placement:"bottom",modifiers:[],strategy:"absolute"};function qx(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function Ete(e){e===void 0&&(e={});var t=e,n=t.defaultModifiers,r=n===void 0?[]:n,i=t.defaultOptions,s=i===void 0?jx:i;return function(a,l,u){u===void 0&&(u=s);var c={placement:"bottom",orderedModifiers:[],options:Object.assign({},jx,s),modifiersData:{},elements:{reference:a,popper:l},attributes:{},styles:{}},d=[],f=!1,p={state:c,setOptions:function(y){var E=typeof y=="function"?y(c.options):y;g(),c.options=Object.assign({},s,c.options,E),c.scrollParents={reference:fc(a)?Uu(a):a.contextElement?Uu(a.contextElement):[],popper:Uu(l)};var v=fte(hte([].concat(r,c.options.modifiers)));return c.orderedModifiers=v.filter(function(w){return w.enabled}),m(),p.update()},forceUpdate:function(){if(!f){var y=c.elements,E=y.reference,v=y.popper;if(qx(E,v)){c.rects={reference:Xee(E,Yc(v),c.options.strategy==="fixed"),popper:L_(v)},c.reset=!1,c.placement=c.options.placement,c.orderedModifiers.forEach(function(q){return c.modifiersData[q.name]=Object.assign({},q.data)});for(var w=0;w<c.orderedModifiers.length;w++){if(c.reset===!0){c.reset=!1,w=-1;continue}var R=c.orderedModifiers[w],_=R.fn,D=R.options,j=D===void 0?{}:D,P=R.name;typeof _=="function"&&(c=_({state:c,options:j,name:P,instance:p})||c)}}}},update:pte(function(){return new Promise(function(b){p.forceUpdate(),b(c)})}),destroy:function(){g(),f=!0}};if(!qx(a,l))return p;p.setOptions(u).then(function(b){!f&&u.onFirstUpdate&&u.onFirstUpdate(b)});function m(){c.orderedModifiers.forEach(function(b){var y=b.name,E=b.options,v=E===void 0?{}:E,w=b.effect;if(typeof w=="function"){var R=w({state:c,name:y,instance:p,options:v}),_=function(){};d.push(R||_)}})}function g(){d.forEach(function(b){return b()}),d=[]}return p}}var Dd={passive:!0};function vte(e){var t=e.state,n=e.instance,r=e.options,i=r.scroll,s=i===void 0?!0:i,o=r.resize,a=o===void 0?!0:o,l=mi(t.elements.popper),u=[].concat(t.scrollParents.reference,t.scrollParents.popper);return s&&u.forEach(function(c){c.addEventListener("scroll",n.update,Dd)}),a&&l.addEventListener("resize",n.update,Dd),function(){s&&u.forEach(function(c){c.removeEventListener("scroll",n.update,Dd)}),a&&l.removeEventListener("resize",n.update,Dd)}}var Tte={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:vte,data:{}};function wte(e){var t=e.state,n=e.name;t.modifiersData[n]=KD({reference:t.rects.reference,element:t.rects.popper,placement:t.placement})}var xte={name:"popperOffsets",enabled:!0,phase:"read",fn:wte,data:{}},Cte={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Ste(e){var t=e.x,n=e.y,r=window,i=r.devicePixelRatio||1;return{x:Rd(Rd(t*i)/i)||0,y:Rd(Rd(n*i)/i)||0}}function Vx(e){var t,n=e.popper,r=e.popperRect,i=e.placement,s=e.variation,o=e.offsets,a=e.position,l=e.gpuAcceleration,u=e.adaptive,c=e.roundOffsets,d=c===!0?Ste(o):typeof c=="function"?c(o):o,f=d.x,p=f===void 0?0:f,m=d.y,g=m===void 0?0:m,b=o.hasOwnProperty("x"),y=o.hasOwnProperty("y"),E=Lr,v=Pr,w=window;if(u){var R=Yc(n),_="clientHeight",D="clientWidth";R===mi(n)&&(R=Eo(n),hs(R).position!=="static"&&a==="absolute"&&(_="scrollHeight",D="scrollWidth")),R=R,(i===Pr||(i===Lr||i===ii)&&s===pc)&&(v=ri,g-=R[_]-r.height,g*=l?1:-1),(i===Lr||(i===Pr||i===ri)&&s===pc)&&(E=ii,p-=R[D]-r.width,p*=l?1:-1)}var j=Object.assign({position:a},u&&Cte);if(l){var P;return Object.assign({},j,(P={},P[v]=y?"0":"",P[E]=b?"0":"",P.transform=(w.devicePixelRatio||1)<=1?"translate("+p+"px, "+g+"px)":"translate3d("+p+"px, "+g+"px, 0)",P))}return Object.assign({},j,(t={},t[v]=y?g+"px":"",t[E]=b?p+"px":"",t.transform="",t))}function Ate(e){var t=e.state,n=e.options,r=n.gpuAcceleration,i=r===void 0?!0:r,s=n.adaptive,o=s===void 0?!0:s,a=n.roundOffsets,l=a===void 0?!0:a,u={placement:Di(t.placement),variation:ol(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:i};t.modifiersData.popperOffsets!=null&&(t.styles.popper=Object.assign({},t.styles.popper,Vx(Object.assign({},u,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:o,roundOffsets:l})))),t.modifiersData.arrow!=null&&(t.styles.arrow=Object.assign({},t.styles.arrow,Vx(Object.assign({},u,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})}var Ote={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:Ate,data:{}};function kte(e){var t=e.state;Object.keys(t.elements).forEach(function(n){var r=t.styles[n]||{},i=t.attributes[n]||{},s=t.elements[n];!Mr(s)||!Fi(s)||(Object.assign(s.style,r),Object.keys(i).forEach(function(o){var a=i[o];a===!1?s.removeAttribute(o):s.setAttribute(o,a===!0?"":a)}))})}function Ite(e){var t=e.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,n.popper),t.styles=n,t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow),function(){Object.keys(t.elements).forEach(function(r){var i=t.elements[r],s=t.attributes[r]||{},o=Object.keys(t.styles.hasOwnProperty(r)?t.styles[r]:n[r]),a=o.reduce(function(l,u){return l[u]="",l},{});!Mr(i)||!Fi(i)||(Object.assign(i.style,a),Object.keys(s).forEach(function(l){i.removeAttribute(l)}))})}}var Nte={name:"applyStyles",enabled:!0,phase:"write",fn:kte,effect:Ite,requires:["computeStyles"]},Rte=[Tte,xte,Ote,Nte],Dte=Ete({defaultModifiers:Rte});function Mte(e){return e==="x"?"y":"x"}function sf(e,t,n){return Zs(e,hc(t,n))}function Pte(e){var t=e.state,n=e.options,r=e.name,i=n.mainAxis,s=i===void 0?!0:i,o=n.altAxis,a=o===void 0?!1:o,l=n.boundary,u=n.rootBoundary,c=n.altBoundary,d=n.padding,f=n.tether,p=f===void 0?!0:f,m=n.tetherOffset,g=m===void 0?0:m,b=$_(t,{boundary:l,rootBoundary:u,padding:d,altBoundary:c}),y=Di(t.placement),E=ol(t.placement),v=!E,w=F_(y),R=Mte(w),_=t.modifiersData.popperOffsets,D=t.rects.reference,j=t.rects.popper,P=typeof g=="function"?g(Object.assign({},t.rects,{placement:t.placement})):g,q={x:0,y:0};if(_){if(s||a){var B=w==="y"?Pr:Lr,H=w==="y"?ri:ii,ee=w==="y"?"height":"width",ye=_[w],pe=_[w]+b[B],xe=_[w]-b[H],Ce=p?-j[ee]/2:0,Ee=E===sl?D[ee]:j[ee],$e=E===sl?-j[ee]:-D[ee],O=t.elements.arrow,Me=p&&O?L_(O):{width:0,height:0},et=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:XD(),I=et[B],at=et[H],ze=sf(0,D[ee],Me[ee]),Ke=v?D[ee]/2-Ce-ze-I-P:Ee-ze-I-P,K=v?-D[ee]/2+Ce+ze+at+P:$e+ze+at+P,me=t.elements.arrow&&Yc(t.elements.arrow),de=me?w==="y"?me.clientTop||0:me.clientLeft||0:0,Se=t.modifiersData.offset?t.modifiersData.offset[t.placement][w]:0,Qe=_[w]+Ke-Se-de,A=_[w]+K-Se;if(s){var N=sf(p?hc(pe,Qe):pe,ye,p?Zs(xe,A):xe);_[w]=N,q[w]=N-ye}if(a){var F=w==="x"?Pr:Lr,Q=w==="x"?ri:ii,J=_[R],X=J+b[F],be=J-b[Q],ue=sf(p?hc(X,Qe):X,J,p?Zs(be,A):be);_[R]=ue,q[R]=ue-J}}t.modifiersData[r]=q}}var Lte={name:"preventOverflow",enabled:!0,phase:"main",fn:Pte,requiresIfExists:["offset"]},Bte={left:"right",right:"left",bottom:"top",top:"bottom"};function of(e){return e.replace(/left|right|bottom|top/g,function(t){return Bte[t]})}var Fte={start:"end",end:"start"};function Wx(e){return e.replace(/start|end/g,function(t){return Fte[t]})}function $te(e,t){t===void 0&&(t={});var n=t,r=n.placement,i=n.boundary,s=n.rootBoundary,o=n.padding,a=n.flipVariations,l=n.allowedAutoPlacements,u=l===void 0?GD:l,c=ol(r),d=c?a?Hx:Hx.filter(function(m){return ol(m)===c}):Kc,f=d.filter(function(m){return u.indexOf(m)>=0});f.length===0&&(f=d);var p=f.reduce(function(m,g){return m[g]=$_(e,{placement:g,boundary:i,rootBoundary:s,padding:o})[Di(g)],m},{});return Object.keys(p).sort(function(m,g){return p[m]-p[g]})}function Ute(e){if(Di(e)===B_)return[];var t=of(e);return[Wx(e),t,Wx(t)]}function Hte(e){var t=e.state,n=e.options,r=e.name;if(!t.modifiersData[r]._skip){for(var i=n.mainAxis,s=i===void 0?!0:i,o=n.altAxis,a=o===void 0?!0:o,l=n.fallbackPlacements,u=n.padding,c=n.boundary,d=n.rootBoundary,f=n.altBoundary,p=n.flipVariations,m=p===void 0?!0:p,g=n.allowedAutoPlacements,b=t.options.placement,y=Di(b),E=y===b,v=l||(E||!m?[of(b)]:Ute(b)),w=[b].concat(v).reduce(function(at,ze){return at.concat(Di(ze)===B_?$te(t,{placement:ze,boundary:c,rootBoundary:d,padding:u,flipVariations:m,allowedAutoPlacements:g}):ze)},[]),R=t.rects.reference,_=t.rects.popper,D=new Map,j=!0,P=w[0],q=0;q<w.length;q++){var B=w[q],H=Di(B),ee=ol(B)===sl,ye=[Pr,ri].indexOf(H)>=0,pe=ye?"width":"height",xe=$_(t,{placement:B,boundary:c,rootBoundary:d,altBoundary:f,padding:u}),Ce=ye?ee?ii:Lr:ee?ri:Pr;R[pe]>_[pe]&&(Ce=of(Ce));var Ee=of(Ce),$e=[];if(s&&$e.push(xe[H]<=0),a&&$e.push(xe[Ce]<=0,xe[Ee]<=0),$e.every(function(at){return at})){P=B,j=!1;break}D.set(B,$e)}if(j)for(var O=m?3:1,Me=function(ze){var Ke=w.find(function(K){var me=D.get(K);if(me)return me.slice(0,ze).every(function(de){return de})});if(Ke)return P=Ke,"break"},et=O;et>0;et--){var I=Me(et);if(I==="break")break}t.placement!==P&&(t.modifiersData[r]._skip=!0,t.placement=P,t.reset=!0)}}var zte={name:"flip",enabled:!0,phase:"main",fn:Hte,requiresIfExists:["offset"],data:{_skip:!1}};function jte(e,t,n){var r=Di(e),i=[Lr,Pr].indexOf(r)>=0?-1:1,s=typeof n=="function"?n(Object.assign({},t,{placement:e})):n,o=s[0],a=s[1];return o=o||0,a=(a||0)*i,[Lr,ii].indexOf(r)>=0?{x:a,y:o}:{x:o,y:a}}function qte(e){var t=e.state,n=e.options,r=e.name,i=n.offset,s=i===void 0?[0,0]:i,o=GD.reduce(function(c,d){return c[d]=jte(d,t.rects,s),c},{}),a=o[t.placement],l=a.x,u=a.y;t.modifiersData.popperOffsets!=null&&(t.modifiersData.popperOffsets.x+=l,t.modifiersData.popperOffsets.y+=u),t.modifiersData[r]=o}var Vte={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:qte},Wte=function(t,n){return t=typeof t=="function"?t(Object.assign({},n.rects,{placement:n.placement})):t,QD(typeof t!="number"?t:JD(t,Kc))};function Gte(e){var t,n=e.state,r=e.name,i=e.options,s=n.elements.arrow,o=n.modifiersData.popperOffsets,a=Di(n.placement),l=F_(a),u=[Lr,ii].indexOf(a)>=0,c=u?"height":"width";if(!(!s||!o)){var d=Wte(i.padding,n),f=L_(s),p=l==="y"?Pr:Lr,m=l==="y"?ri:ii,g=n.rects.reference[c]+n.rects.reference[l]-o[l]-n.rects.popper[c],b=o[l]-n.rects.reference[l],y=Yc(s),E=y?l==="y"?y.clientHeight||0:y.clientWidth||0:0,v=g/2-b/2,w=d[p],R=E-f[c]-d[m],_=E/2-f[c]/2+v,D=sf(w,_,R),j=l;n.modifiersData[r]=(t={},t[j]=D,t.centerOffset=D-_,t)}}function Yte(e){var t=e.state,n=e.options,r=n.element,i=r===void 0?"[data-popper-arrow]":r;i!=null&&(typeof i=="string"&&(i=t.elements.popper.querySelector(i),!i)||YD(t.elements.popper,i)&&(t.elements.arrow=i))}var Kte={name:"arrow",enabled:!0,phase:"main",fn:Gte,effect:Yte,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};const km=e=>parseInt(e,10);function Xte({arrowPadding:e,emit:t,locked:n,offsetDistance:r,offsetSkid:i,placement:s,popperNode:o,triggerNode:a}){const l=El({isOpen:!1,popperInstance:null}),u=g=>{var b;(b=l.popperInstance)===null||b===void 0||b.setOptions(y=>({...y,modifiers:[...y.modifiers,{name:"eventListeners",enabled:g}]}))},c=()=>u(!0),d=()=>u(!1),f=()=>{l.isOpen&&(l.isOpen=!1,t("close:popper"))},p=()=>{l.isOpen||(l.isOpen=!0,t("open:popper"))};vn([()=>l.isOpen,s],async([g])=>{g?(await m(),c()):d()});const m=async()=>{await Mc(),l.popperInstance=Dte(a.value,o.value,{placement:s.value,modifiers:[Lte,zte,{name:"flip",enabled:!n.value},Kte,{name:"arrow",options:{padding:km(e.value)}},Vte,{name:"offset",options:{offset:[km(i.value),km(r.value)]}}]}),l.popperInstance.update()};return Tl(()=>{var g;(g=l.popperInstance)===null||g===void 0||g.destroy()}),{...Zk(l),open:p,close:f}}const Qte={id:"arrow","data-popper-arrow":""};function Jte(e,t){return x(),L("div",Qte)}function ZD(e,t){t===void 0&&(t={});var n=t.insertAt;if(!(!e||typeof document>"u")){var r=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style");i.type="text/css",n==="top"&&r.firstChild?r.insertBefore(i,r.firstChild):r.appendChild(i),i.styleSheet?i.styleSheet.cssText=e:i.appendChild(document.createTextNode(e))}}var Zte=`
#arrow[data-v-20b7fd4a],
  #arrow[data-v-20b7fd4a]::before {
    transition: background 250ms ease-in-out;
    position: absolute;
    width: calc(10px - var(--popper-theme-border-width, 0px));
    height: calc(10px - var(--popper-theme-border-width, 0px));
    box-sizing: border-box;
    background: var(--popper-theme-background-color);
}
#arrow[data-v-20b7fd4a] {
    visibility: hidden;
}
#arrow[data-v-20b7fd4a]::before {
    visibility: visible;
    content: "";
    transform: rotate(45deg);
}

  /* Top arrow */
.popper[data-popper-placement^="top"] > #arrow[data-v-20b7fd4a] {
    bottom: -5px;
}
.popper[data-popper-placement^="top"] > #arrow[data-v-20b7fd4a]::before {
    border-right: var(--popper-theme-border-width)
      var(--popper-theme-border-style) var(--popper-theme-border-color);
    border-bottom: var(--popper-theme-border-width)
      var(--popper-theme-border-style) var(--popper-theme-border-color);
}

  /* Bottom arrow */
.popper[data-popper-placement^="bottom"] > #arrow[data-v-20b7fd4a] {
    top: -5px;
}
.popper[data-popper-placement^="bottom"] > #arrow[data-v-20b7fd4a]::before {
    border-left: var(--popper-theme-border-width)
      var(--popper-theme-border-style) var(--popper-theme-border-color);
    border-top: var(--popper-theme-border-width)
      var(--popper-theme-border-style) var(--popper-theme-border-color);
}

  /* Left arrow */
.popper[data-popper-placement^="left"] > #arrow[data-v-20b7fd4a] {
    right: -5px;
}
.popper[data-popper-placement^="left"] > #arrow[data-v-20b7fd4a]::before {
    border-right: var(--popper-theme-border-width)
      var(--popper-theme-border-style) var(--popper-theme-border-color);
    border-top: var(--popper-theme-border-width)
      var(--popper-theme-border-style) var(--popper-theme-border-color);
}

  /* Right arrow */
.popper[data-popper-placement^="right"] > #arrow[data-v-20b7fd4a] {
    left: -5px;
}
`;ZD(Zte);const U_={};U_.render=Jte;U_.__scopeId="data-v-20b7fd4a";var ene=U_;const tne=["onKeyup"];var eM={props:{placement:{type:String,default:"bottom",validator:function(e){return["auto","auto-start","auto-end","top","top-start","top-end","bottom","bottom-start","bottom-end","right","right-start","right-end","left","left-start","left-end"].includes(e)}},disableClickAway:{type:Boolean,default:!1},offsetSkid:{type:String,default:"0"},offsetDistance:{type:String,default:"12"},hover:{type:Boolean,default:!1},show:{type:Boolean,default:null},disabled:{type:Boolean,default:!1},openDelay:{type:[Number,String],default:0},closeDelay:{type:[Number,String],default:0},zIndex:{type:[Number,String],default:9999},arrow:{type:Boolean,default:!1},arrowPadding:{type:String,default:"0"},interactive:{type:Boolean,default:!0},locked:{type:Boolean,default:!1},content:{type:String,default:null}},emits:["open:popper","close:popper"],setup(e,{emit:t}){const n=e;SB(Ee=>({c81fc0a4:e.zIndex}));const r=P4(),i=yt(null),s=yt(null),o=yt(null),a=yt(!1);vr(()=>{const Ee=r.default();if(Ee&&Ee.length>1)return console.error(`[Popper]: The <Popper> component expects only one child element at its root. You passed ${Ee.length} child nodes.`)});const{arrowPadding:l,closeDelay:u,content:c,disableClickAway:d,disabled:f,interactive:p,locked:m,offsetDistance:g,offsetSkid:b,openDelay:y,placement:E,show:v}=Zk(n),{isOpen:w,open:R,close:_}=Xte({arrowPadding:l,emit:t,locked:m,offsetDistance:g,offsetSkid:b,placement:E,popperNode:s,triggerNode:o}),{hasContent:D}=Wee(r,s,c),j=bt(()=>v.value!==null),P=bt(()=>f.value||!D.value),q=bt(()=>w.value&&!P.value),B=bt(()=>!d.value&&!j.value),H=bt(()=>p.value?`border: ${g.value}px solid transparent; margin: -${g.value}px;`:null),ee=Om.debounce(R,y.value),ye=Om.debounce(_,u.value),pe=async()=>{P.value||j.value||(ye.clear(),ee())},xe=async()=>{j.value||(ee.clear(),ye())},Ce=()=>{w.value?xe():pe()};return vn([D,f],([Ee,$e])=>{w.value&&(!Ee||$e)&&_()}),vn(w,Ee=>{Ee?a.value=!0:Om.debounce(()=>{a.value=!1},200)}),Ib(()=>{j.value&&(v.value?ee():ye())}),Ib(()=>{B.value&&Vee(i,xe)}),(Ee,$e)=>(x(),L("div",{class:"inline-block",style:ia(_e(H)),onMouseleave:$e[2]||($e[2]=O=>e.hover&&xe()),ref:(O,Me)=>{Me.popperContainerNode=O,i.value=O}},[S("div",{ref:(O,Me)=>{Me.triggerNode=O,o.value=O},onMouseover:$e[0]||($e[0]=O=>e.hover&&pe()),onClick:Ce,onFocus:pe,onKeyup:Fy(xe,["esc"])},[Ae(Ee.$slots,"default")],40,tne),z(sa,{name:"fade"},{default:V(()=>[Ct(S("div",{onClick:$e[1]||($e[1]=O=>!_e(p)&&xe()),class:"popper",ref:(O,Me)=>{Me.popperNode=O,s.value=O}},[Ae(Ee.$slots,"content",{close:_e(_),isOpen:a.value},()=>[we(le(_e(c)),1)]),e.arrow?(x(),fe(ene,{key:0})):Oe("",!0)],512),[[yr,_e(q)]])]),_:3})],36))}},nne=`
.inline-block[data-v-5784ed69] {
    display: inline-block;
}
.popper[data-v-5784ed69] {
    transition: background 250ms ease-in-out;
    background: var(--popper-theme-background-color);
    padding: var(--popper-theme-padding);
    color: var(--popper-theme-text-color);
    border-radius: var(--popper-theme-border-radius);
    border-width: var(--popper-theme-border-width);
    border-style: var(--popper-theme-border-style);
    border-color: var(--popper-theme-border-color);
    box-shadow: var(--popper-theme-box-shadow);
    z-index: var(--c81fc0a4);
}
.popper[data-v-5784ed69]:hover,
  .popper:hover > #arrow[data-v-5784ed69]::before {
    background: var(--popper-theme-background-color-hover);
}
.inline-block[data-v-5784ed69] {
    display: inline-block;
}
.fade-enter-active[data-v-5784ed69],
  .fade-leave-active[data-v-5784ed69] {
    transition: opacity 0.2s ease;
}
.fade-enter-from[data-v-5784ed69],
  .fade-leave-to[data-v-5784ed69] {
    opacity: 0;
}
`;ZD(nne);eM.__scopeId="data-v-5784ed69";var rne=(()=>{const e=eM;return e.install=t=>{t.component("Popper",e)},e})();const ine={name:"PopOver",components:{Popper:rne}};function sne(e,t,n,r,i,s){const o=Y("Popper");return x(),fe(o,Ja(e.$attrs,{class:"popover"}),{content:V(a=>[Ae(e.$slots,"content",F6($I(a)))]),default:V(()=>[Ae(e.$slots,"default")]),_:3},16)}const H_=ne(ine,[["render",sne]]),one=Object.freeze(Object.defineProperty({__proto__:null,default:H_},Symbol.toStringTag,{value:"Module"})),ane={key:0},lne={__name:"PubmedCitation",props:{summary:{type:Object,required:!0}},setup(e){const t=e,n=bt(()=>!t.summary.authors||t.summary.authors.length===0?"":t.summary.authors.length===1?`${t.summary.authors[0].name}. `:`${t.summary.authors.map(s=>s.name)[0]} et al. `),r=bt(()=>t.summary.title?t.summary.title.length>25?`${t.summary.title.substring(0,50)}... `:`${t.summary.title}. `:""),i=bt(()=>`${t.summary.source}. `);return(s,o)=>e.summary?(x(),L("span",ane,[we(le(n.value)+le(r.value),1),S("em",null,le(i.value),1),we(le(e.summary.pubdate),1)])):Oe("",!0)}},une=Object.freeze(Object.defineProperty({__proto__:null,default:lne},Symbol.toStringTag,{value:"Module"})),cne={},dne={class:"my-4 p-4 text-sm flex items-start space-x-4 bg-gray-200 rounded-lg"},fne={style:{"font-size":"1rem","line-height":"2"}};function pne(e,t){const n=Y("icon-question");return x(),L("div",dne,[z(n,{height:"48",width:"48",class:"text-blue-700"}),S("div",null,[t[0]||(t[0]=S("h3",{style:{"line-height":"1"}}," Have Questions? ",-1)),S("div",fne,[Ae(e.$slots,"default")])])])}const hne=ne(cne,[["render",pne]]),mne=Object.freeze(Object.defineProperty({__proto__:null,default:hne},Symbol.toStringTag,{value:"Module"})),gne={class:"screen -mt-6"},bne={class:"screen-header bg-white pt-6"},yne={class:"flex justify-between items-end border-b pb-2 px-4"},_ne={class:"bg-gray-100 pt-8 p-4 flex flex-col space-y-4 bg-gray-100"},Ene={__name:"ScreenTemplate",props:{breadcrumbs:{type:Array,default:()=>[]},title:{type:String||null,default:null}},setup(e){return(t,n)=>(x(),L("div",gne,[S("header",bne,[e.breadcrumbs.length>0?(x(),fe(e2,{key:0,class:"mx-4",items:e.breadcrumbs},null,8,["items"])):Oe("",!0),S("div",yne,[Ae(t.$slots,"header",{},()=>[S("div",null,[S("h1",null,le(e.title),1),Ae(t.$slots,"header-dev",{},void 0,!0)])],!0),Ae(t.$slots,"header-right",{},void 0,!0)])]),S("div",_ne,[Ae(t.$slots,"default",{},void 0,!0)])]))}},tM=ne(Ene,[["__scopeId","data-v-dbddb563"]]),vne=Object.freeze(Object.defineProperty({__proto__:null,default:tM},Symbol.toStringTag,{value:"Module"})),Tne={name:"SimpleTable",props:{data:{required:!0,type:Array},keyBy:{required:!0,type:String},hideColumns:{type:Array,default:()=>[]}},data(){return{}},computed:{headings(){return this.data[0]?Object.keys(this.data[0]).filter(e=>!this.hideColumns.includes(e)):[]}},methods:{}};function wne(e,t,n,r,i,s){return x(),L("table",null,[S("thead",null,[S("tr",null,[(x(!0),L(Xe,null,$t(s.headings,o=>(x(),L("th",{key:o},le(e.titleCase(o)),1))),128))])]),S("tbody",null,[(x(!0),L(Xe,null,$t(n.data,o=>(x(),L("tr",{key:o[n.keyBy]},[(x(!0),L(Xe,null,$t(s.headings,a=>(x(),L("td",{key:`${o[n.keyBy]}-${a}`},le(o[a]),1))),128))]))),128))])])}const xne=ne(Tne,[["render",wne]]),Cne=Object.freeze(Object.defineProperty({__proto__:null,default:xne},Symbol.toStringTag,{value:"Module"})),Sne={name:"TabItem",props:{label:{required:!0,type:String},visible:{type:Boolean,required:!1,default:!0}},data(){return{active:!1}},computed:{parentIsValid(){return this.$parent.$options.name==="TabsContainer"}},mounted(){this.$parent.addTab(this)},unmounted(){this.$parent.removeTab(this)},methods:{isActive(){return this.active}}},Ane={key:0};function One(e,t,n,r,i,s){return x(),fe(x4,null,[i.active&&n.visible?(x(),L("section",Ane,[Ae(e.$slots,"default")])):Oe("",!0)],1024)}const kne=ne(Sne,[["render",One]]),Ine=Object.freeze(Object.defineProperty({__proto__:null,default:kne},Symbol.toStringTag,{value:"Module"})),Nne={name:"TabsContainer",props:{tabLocation:{required:!1,type:String,default:"top"},modelValue:{required:!1,type:Number,default:0}},emits:["update:modelValue","tabChanged"],data(){return{tabs:[]}},computed:{activeTab(){return this.tabs.find(e=>!!e.active)||{}}},watch:{modelValue(e){this.activateTab(e)},"$route.query":{immediate:!0,handler(e,t){Lf(e,t)||this.activateTabFromRoute()}}},mounted(){this.$emit("tabChanged",this.activeTab.label)},methods:{activateTab(e){this.tabs.forEach(t=>t.active=!1),this.tabs[e].active=!0,this.$emit("update:modelValue",e),this.$emit("tabChanged",this.tabs[e].label),this.updateRouteQuery(this.tabs[e].label)},activateTabWithLabel(e){const t=e.toLowerCase(),n=this.tabs.map(r=>r.label.toLowerCase()).findIndex(r=>r===t);n>0&&this.activateTab(n)},activateTabFromRoute(){(this.activeTab.label?this.activeTab.label.toLowerCase():null)!==this.$route.query.tab&&Object.keys(this.$route.query).includes("tab")&&this.activateTabWithLabel(this.$route.query.tab)},updateRouteQuery(e){const t={...this.$route.query,tab:e.toLowerCase()};this.$router.replace({path:this.$route.path,query:t})},setActiveIndex(){this.tabs.length>0&&!this.modelValue&&(this.tabs[0].active=!0),this.modelValue&&this.tabs.length>this.modelValue&&this.activateTab(this.modelValue),Object.keys(this.$route.query).includes("tab")&&this.activateTabFromRoute()},addTab(e){this.tabs.push(e),this.setActiveIndex()},removeTab(e){const t=this.tabs.findIndex(n=>e===n);t>-1&&this.tabs.splice(t,1)},renderTabs(){return this.tabs.map((e,t)=>{if(!e||!e.visible)return null;const n=["tab","cursor-pointer"];return e.active&&n.push("active"),Qt("li",{class:n.join(" "),onClick:()=>this.activateTab(t)},e.label)})}},render(){const e=this.renderTabs(),t=[],n=["tabs"];return this.tabLocation==="top"&&t.push("horizontal"),this.tabLocation==="right"&&(t.push("vertical"),t.push("flex")),Qt("div",{class:t.join(" ")},[Qt("ul",{class:n.join(" ")},e),Qt("div",{class:"tab-content"},this.$slots.default())])}},Rne=Object.freeze(Object.defineProperty({__proto__:null,default:Nne},Symbol.toStringTag,{value:"Module"})),Dne={name:"TruncateExpander",props:{value:{type:String,required:!0},truncateLength:{type:Number,default:150}},data(){return{showComplete:!1}},computed:{shouldBeTruncated(){return this.value.length>this.truncateLength},truncatedValue(){return this.value.substring(0,this.truncateLength-15)},restOfValue(){return this.value.substring(this.truncateLength-15+1)},buttonLabel(){return this.showComplete?"Less":"More"}},methods:{}},Mne={key:1};function Pne(e,t,n,r,i,s){return x(),L("div",null,[s.shouldBeTruncated?(x(),L("div",{key:0,class:nt({"xl:flex justify-between":!i.showComplete})},[S("div",null,[we(le(s.truncatedValue),1),Ct(S("span",null,"...  ",512),[[yr,!i.showComplete]]),Ct(S("span",null,le(s.restOfValue),513),[[yr,i.showComplete]])]),S("button",{class:"border-0 text-blue-500 underline text-xs",onClick:t[0]||(t[0]=o=>i.showComplete=!i.showComplete)},le(s.buttonLabel),1)],2)):(x(),L("div",Mne,le(n.value),1))])}const Lne=ne(Dne,[["render",Pne]]),Bne=Object.freeze(Object.defineProperty({__proto__:null,default:Lne},Symbol.toStringTag,{value:"Module"})),z_=yt({type:"info",message:null}),nM=yt({}),Fne=[{name:"roles",placeholder:"coordinator, admin"},{name:"type",label:"variant",type:"select",options:[{value:"info",label:"info (blue)"},{value:"success",label:"success (green)"},{value:"warning",label:"warning (yellow)"},{value:"danger",label:"danger (red)"},{value:"bland",label:"bland (gray)"}]},{name:"message",type:"large-text",placeholder:"You message text in **markdown**"}],$ne=()=>Z.post("/api/announcements",z_.value).then(e=>e).catch(e=>{if($c(e)){nM.value=e.response.data.errors;return}throw e}),Une=()=>{z_.value={}},Hne={name:"AnnouncementControl",setup(){return{announcement:z_,errors:nM,saveAnnouncement:$ne,cancelAnnouncement:Une,formFields:Fne}},data(){return{showConfirmation:!1,showForm:!1}},computed:{notification(){return{data:{message:this.announcement.message||"NONE",type:this.announcement.type||"info",markdown:!0}}}},methods:{initAnnouncement(){this.showForm=!0},confirmSubmission(){this.showConfirmation=!0},async saveConfirmed(){this.showConfirmation=!1;try{this.saveAnnouncement(),this.showForm=!1}catch(e){alert(e.message)}}}};function zne(e,t,n,r,i,s){const o=Y("data-form"),a=Y("notification-item"),l=Y("button-row"),u=Y("modal-dialog");return x(),L("div",null,[S("button",{class:"link",onClick:t[0]||(t[0]=(...c)=>s.initAnnouncement&&s.initAnnouncement(...c))}," Make an announcement "),(x(),fe(Er,{to:"body"},[z(u,{modelValue:i.showForm,"onUpdate:modelValue":t[2]||(t[2]=c=>i.showForm=c),title:"Make an announcement"},{default:V(()=>[z(o,{modelValue:r.announcement,"onUpdate:modelValue":t[1]||(t[1]=c=>r.announcement=c),fields:r.formFields,errors:r.errors},null,8,["modelValue","fields","errors"]),t[4]||(t[4]=S("h4",null,"Preview:",-1)),z(a,{notification:s.notification},null,8,["notification"]),z(l,{"submit-text":"Save",onSubmitted:s.confirmSubmission},null,8,["onSubmitted"])]),_:1},8,["modelValue"]),z(u,{modelValue:i.showConfirmation,"onUpdate:modelValue":t[3]||(t[3]=c=>i.showConfirmation=c),title:"Confirm Announcement"},{default:V(()=>[t[5]||(t[5]=we(" You are about to make the following announcement: ")),z(a,{notification:s.notification},null,8,["notification"]),z(l,{"submit-text":"Confirm",onSubmitted:s.saveConfirmed},null,8,["onSubmitted"])]),_:1},8,["modelValue"])]))])}const jne=ne(Hne,[["render",zne]]),qne={name:"UserMenu",components:{ImpersonateControl:PN,AnnouncementControl:jne},data(){return{menuOpen:!1}},computed:{...l_({user:"currentUser",isAuthed:"isAuthed"})},methods:{handleOutsideClick(){this.menuOpen=!1},toggleMenu(){this.menuOpen=!this.menuOpen,this.menuOpen&&this.$refs.dropdownMenu.focus()},logout(){try{this.$store.dispatch("logout")}catch(e){alert(e)}}}},Vne={class:"relative -top-3 right-0 text-right",style:{"z-index":"500"}},Wne={key:0},Gne={ref:"dropdownMenu",class:"absolute right-0 top-0 pt-11 bg-white border w-48 z-10 shadow"},Yne={class:"menu-item"},Kne={class:"menu-item"},Xne={class:"menu-item"},Qne={class:"py-4 mx-2"},Jne={key:0,class:"menu-item"},Zne={key:1,class:"menu-item"},ere={key:2,class:"menu-item"},tre={key:3,class:"menu-item"},nre={key:4,class:"menu-item"},rre={key:5,class:"menu-item"},ire={key:6,class:"menu-item"},sre={key:0,class:"border-t bg-yellow-300 text-center font-bold p-2"};function ore(e,t,n,r,i,s){const o=Y("icon-cheveron-down"),a=Y("router-link"),l=Y("ImpersonateControl"),u=Y("AnnouncementControl"),c=_I("click-outside");return x(),L("div",Vne,[Ct(S("div",null,[S("div",{class:nt(["flex flex-row-reverse align-middle -mb-7 pt-3 pb-3 pr-2 relative z-20 cursor-pointer w-48",{"w-48":i.menuOpen,"bg-yellow-300":e.user.is_impersonating}]),onClick:t[0]||(t[0]=ic((...d)=>s.toggleMenu&&s.toggleMenu(...d),["stop"]))},[z(o),we(" "+le(e.user.name)+" ",1),e.user.is_impersonating?(x(),L("span",Wne,"*")):Oe("",!0)],2),z(sa,{name:"slide-fade-down"},{default:V(()=>[Ct((x(),L("div",Gne,[S("ul",null,[S("li",Yne,[z(a,{to:{name:"Dashboard"},onClick:t[1]||(t[1]=d=>e.showMenu=!1)},{default:V(()=>t[4]||(t[4]=[we(" Dashboard ")])),_:1})]),S("li",Kne,[e.user.is_impersonating?Oe("",!0):(x(),L("button",{key:0,onClick:t[2]||(t[2]=(...d)=>s.logout&&s.logout(...d))}," Log out "))]),S("li",Xne,[S("div",Qne,[z(l)])])]),S("ul",null,[e.hasPermission("invites-view")?(x(),L("li",Jne,[z(a,{to:{name:"InviteAdmin"}},{default:V(()=>t[5]||(t[5]=[we(" Invites ")])),_:1})])):Oe("",!0),e.hasPermission("people-manage")?(x(),L("li",Zne,t[6]||(t[6]=[S("a",{href:"/admin/institutions"},"Institutions",-1)]))):Oe("",!0),e.hasPermission("people-manage")?(x(),L("li",ere,t[7]||(t[7]=[S("a",{href:"/admin/credentials"},"Credentials",-1)]))):Oe("",!0),e.hasPermission("people-manage")?(x(),L("li",tre,t[8]||(t[8]=[S("a",{href:"/admin/expertises"},"Expertises",-1)]))):Oe("",!0),e.hasPermission("mail-log-view")?(x(),L("li",nre,[z(a,{to:{name:"mail-log"},onClick:t[3]||(t[3]=d=>e.showMenu=!1)},{default:V(()=>t[9]||(t[9]=[we(" Mail log ")])),_:1})])):Oe("",!0),e.hasPermission("announcements-manage")?(x(),L("li",rre,[z(u)])):Oe("",!0),e.hasPermission("logs-view")?(x(),L("li",ire,t[10]||(t[10]=[S("a",{href:"/dev/logs",class:"p-3 block"},"System Log",-1)]))):Oe("",!0)]),e.user.is_impersonating?(x(),L("div",sre," You are impersonating this user. ")):Oe("",!0)])),[[yr,i.menuOpen],[c,{exclude:["menuButton"],handler:s.handleOutsideClick}]])]),_:1})],512),[[yr,e.isAuthed]])])}const rM=ne(qne,[["render",ore],["__scopeId","data-v-9a519b3f"]]),are=Object.freeze(Object.defineProperty({__proto__:null,default:rM},Symbol.toStringTag,{value:"Module"})),Xp={modelValue:{type:Object}},Qp=["update:modelValue"],Jp=(e,t)=>{const n=yt({});return vn(()=>e.modelValue,r=>{if(typeof e.modelValue.clone=="function"){const i=e.modelValue.clone();n.value=i}Lf(r,n.value)||(n.value=Kb(r))},{immediate:!0,deep:!0}),vn(()=>n,r=>{Lf(r.value,e.modelValue)||t.emit("update:modelValue",r.value)},{deep:!0}),{workingCopy:n}},cs={props:Xp,emits:Qp,setup:Jp},lre={props:{errors:{type:Array,required:!0}}},ure={class:"text-red-800 m-0 p-0"};function cre(e,t,n,r,i,s){return x(),L("ul",ure,[(x(!0),L(Xe,null,$t(n.errors,o=>(x(),L("li",{key:o},le(o),1))),128))])}const iM=ne(lre,[["render",cre]]),dre=Object.freeze(Object.defineProperty({__proto__:null,default:iM},Symbol.toStringTag,{value:"Module"})),fre={name:"AddressInput",components:{InputErrors:iM},props:{...cs.props,errors:{type:Object,required:!0}},emits:[...cs.emits],setup(e,t){const{workingCopy:n}=cs.setup(e,t);return{workingCopy:n}},computed:{addressErrors(){const e=[];return["city","state","zip"].forEach(t=>{this.errors[t]&&e.push(...this.errors[t])}),e}}},pre={class:"w-full space-y-1"},hre={class:"flex space-x-1"};function mre(e,t,n,r,i,s){const o=Y("InputErrors");return x(),L("div",pre,[Ct(S("input",{"onUpdate:modelValue":t[0]||(t[0]=a=>r.workingCopy.street1=a),type:"text",placeholder:"street 1",class:"w-full"},null,512),[[js,r.workingCopy.street1]]),z(o,{class:"text-xs",errors:n.errors.street1||[]},null,8,["errors"]),Ct(S("input",{"onUpdate:modelValue":t[1]||(t[1]=a=>r.workingCopy.street2=a),type:"text",placeholder:"street 2",class:"w-full"},null,512),[[js,r.workingCopy.street2]]),z(o,{class:"text-xs",errors:n.errors.street2||[]},null,8,["errors"]),S("div",hre,[Ct(S("input",{"onUpdate:modelValue":t[2]||(t[2]=a=>r.workingCopy.city=a),type:"text",placeholder:"City",class:"w-1/3 shrink"},null,512),[[js,r.workingCopy.city]]),Ct(S("input",{"onUpdate:modelValue":t[3]||(t[3]=a=>r.workingCopy.state=a),type:"text",placeholder:"State",class:"w-1/3 shrink"},null,512),[[js,r.workingCopy.state]]),Ct(S("input",{"onUpdate:modelValue":t[4]||(t[4]=a=>r.workingCopy.zip=a),type:"text",placeholder:"Postal Code",class:"w-1/3 shrink"},null,512),[[js,r.workingCopy.zip]])]),z(o,{class:"text-xs",errors:s.addressErrors},null,8,["errors"])])}const gre=ne(fre,[["render",mre]]),bre=Object.freeze(Object.defineProperty({__proto__:null,default:gre},Symbol.toStringTag,{value:"Module"})),yre={name:"ButtonRow",props:{showCancel:{type:Boolean,default:!0},cancelText:{type:String,default:"Cancel"},submitText:{type:String,default:"Submit"},submitVariant:{type:String,default:"blue"},size:{type:String,default:"md"}},emits:["cancelClicked","submitClicked","canceled","submitted","submit","cancel"],methods:{cancel(){this.$emit("cancelClicked"),this.$emit("canceled"),this.$emit("cancel")},submit(){this.$emit("submitClicked"),this.$emit("submitted"),this.$emit("submit")}}},_re={class:"border-t pt-3 mb-1 mt-3 flex space-x-3"},Ere=["disabled"],vre=["disabled"];function Tre(e,t,n,r,i,s){return x(),L("div",_re,[Ae(e.$slots,"default",{},()=>[n.showCancel?(x(),L("button",{key:0,class:nt(["btn",[`btn-${n.size}`]]),disabled:e.$attrs.disabled,onClick:t[0]||(t[0]=(...o)=>s.cancel&&s.cancel(...o))},le(n.cancelText),11,Ere)):Oe("",!0),S("button",{class:nt(["btn",[n.submitVariant,`btn-${n.size}`]]),disabled:e.$attrs.disabled,onClick:t[1]||(t[1]=(...o)=>s.submit&&s.submit(...o))},le(n.submitText),11,vre),Ae(e.$slots,"extra-buttons")])])}const wre=ne(yre,[["render",Tre]]),xre=Object.freeze(Object.defineProperty({__proto__:null,default:wre},Symbol.toStringTag,{value:"Module"})),Cre={name:"Checkbox",props:{modelValue:{required:!1,default:!1},label:{required:!1},value:{required:!1,default:()=>!0}},emits:["update:modelValue","change"],computed:{checkboxId(){return`checkbox-${this.uid}`},val:{get(){return this.modelValue},set(e){this.$emit("update:modelValue",e)}}},methods:{propagateChange(e){this.$emit("change",e)}}},Sre={class:"mb-2 flex items-start cursor-pointer"},Are={class:"mt-1"},Ore=["id","value"];function kre(e,t,n,r,i,s){return x(),L("label",Sre,[S("div",Are,[Ae(e.$slots,"input",{},()=>[Ct(S("input",Ja({id:s.checkboxId,"onUpdate:modelValue":t[0]||(t[0]=o=>s.val=o),type:"checkbox",value:n.value},e.$attrs,{onChange:t[1]||(t[1]=(...o)=>s.propagateChange&&s.propagateChange(...o))}),null,16,Ore),[[WB,s.val]])])]),S("div",null,[Ae(e.$slots,"default",{},()=>[we(le(n.label),1)])])])}const Ire=ne(Cre,[["render",kre]]),Nre=Object.freeze(Object.defineProperty({__proto__:null,default:Ire},Symbol.toStringTag,{value:"Module"})),Rre={__name:"CredentialCreateForm",props:{starterString:{type:String,required:!1}},emits:["saved","canceled"],setup(e,{emit:t}){const n=e,r=t,i=vN(),s=yt({}),o=yt(null);vn(()=>n.starterString,u=>{o.value=u});const a=async()=>{try{const u=await i.dispatch("credentials/create",{name:o.value}).then(c=>c.data);o.value=null,r("saved",u)}catch(u){$c(u)&&(s.value=u.response.data.errors)}},l=()=>{o.value=null,r("canceled")};return(u,c)=>{const d=Y("input-row"),f=Y("button-row");return x(),L("div",null,[z(d,{modelValue:o.value,"onUpdate:modelValue":c[0]||(c[0]=p=>o.value=p),label:"Name",errors:s.value.name},null,8,["modelValue","errors"]),z(f,{"submit-text":"Create Credential",onSubmitted:a,onCancel:l})])}}},Dre={__name:"CredentialsInput",props:{...Xp,multiple:{type:Boolean,default:!0}},emits:[...Qp],setup(e,{emit:t}){const n=e,r=t,i=vN(),{workingCopy:s}=Jp(n,{emit:r}),o=bt(()=>i.getters["credentials/items"]),a=yt(""),l=async(p,m)=>(a.value=p,m.filter(g=>{const b=/[.,-]/g,y=p.replace(b,"").toLowerCase();return g.name.toLowerCase().match(y)||g.synonyms.some(E=>E.name.toLowerCase().match(y))}));vr(()=>{i.dispatch("credentials/getItems")});const u=yt(!1),c=()=>{u.value=!0},d=async p=>{u.value=!1,o.value=[...o.value,p],s.value.push(o.value.find(m=>m.id===p.id))},f=()=>{u.value=!1};return(p,m)=>{const g=Y("modal-dialog");return x(),L(Xe,null,[z(vs,{modelValue:_e(s),"onUpdate:modelValue":m[0]||(m[0]=b=>Yt(s)?s.value=b:null),options:o.value,multiple:e.multiple,"show-options-on-focus":"","show-options-when-empty":"","search-function":l},{fixedBottomOption:V(()=>[S("div",{class:"text-sm"},[m[2]||(m[2]=we(" Don't see your credential? ")),S("button",{class:"link",onClick:c}," Create a new one. ")])]),_:1},8,["modelValue","options","multiple"]),(x(),fe(Er,{to:"body"},[z(g,{modelValue:u.value,"onUpdate:modelValue":m[1]||(m[1]=b=>u.value=b),title:"Add a new credential"},{default:V(()=>[z(Rre,{"starter-string":a.value,onSaved:d,onCanceled:f},null,8,["starter-string"])]),_:1},8,["modelValue"])]))],64)}}},Mre=Object.freeze(Object.defineProperty({__proto__:null,default:Dre},Symbol.toStringTag,{value:"Module"})),Pre={name:"CuratedGeneSearchSelect",components:{SearchSelect:vs},props:{modelValue:{type:[Object,null],default:null}},emits:["update:modelValue"],computed:{selectedOption:{get(){return this.modelValue},set(e){this.$emit("update:modelValue",e)}}},methods:{async search(e){const t={curation_id:"other",hgnc_id:"",gene_symbol:"Other (Not curated)",disease_name:"",mondo_id:"",moi:"",moi_name:"",hp_id:"",expert_panel:"",date_approved:"",classification:"",curation_status:"",phenotypes:"",phenotypeIDs:"",checkKey:"",is_other:!0};if(!e||e.length<3)return[t];const n=await Z.get("/api/curations",{params:{query:e}}).then(i=>i.data);if(n.data.length===0)return[t];const r=n.data.filter(i=>{const s=i.classification_id,o=i.curation_status_id;return[1,2,3,4].includes(s)&&o===9}).map(i=>({is_other:!1,...i}));return r.push(t),r}}},Lre={key:0},Bre={key:1},Fre={key:2},$re={key:0},Ure={key:1},Hre={class:"font-semibold"},zre={key:0,class:"font-bold text-orange-500"},jre={class:"grid grid-cols-2 gap-x-4 text-xs text-gray-600 leading-snug"},qre={key:0,class:"font-bold text-orange-500"},Vre={class:"col-span-2"};function Wre(e,t,n,r,i,s){const o=Y("SearchSelect");return x(),fe(o,{modelValue:s.selectedOption,"onUpdate:modelValue":t[0]||(t[0]=a=>s.selectedOption=a),"search-function":s.search,placeholder:"Search curated Gene-MonDO ID-MoI",style:{"z-index":"21"},"key-options-by":"id",optionsHeight:"400"},{"selection-label":V(({selection:a})=>[a!=null&&a.is_other?(x(),L("div",Lre," Other (Not curated) ")):a?(x(),L("div",Bre,le(a.gene_symbol)+" - "+le(a.mondo_id)+" - "+le(a.moi),1)):(x(),L("div",Fre))]),option:V(({option:a})=>[a!=null&&a.is_other?(x(),L("div",$re,t[1]||(t[1]=[S("strong",null,"Other (Not curated)",-1)]))):(x(),L("div",Ure,[S("div",Hre,[we(le(a.gene_symbol)+" | "+le(a.mondo_id)+" | MoI: "+le(a.moi)+" ",1),["Moderate","Limited"].includes(a.classification)?(x(),L("span",zre,"⚠")):Oe("",!0)]),S("div",jre,[S("div",null,[t[2]||(t[2]=S("strong",null,"Disease:",-1)),we(" "+le(a.disease_name),1)]),S("div",null,[t[3]||(t[3]=S("strong",null,"Expert Panel:",-1)),we(" "+le(a.expert_panel),1)]),S("div",null,[t[4]||(t[4]=S("strong",null,"Classification:",-1)),we(" "+le(a.classification??"N/A")+" ",1),["Moderate","Limited"].includes(a.classification)?(x(),L("span",qre,"⚠")):Oe("",!0)]),S("div",null,[t[5]||(t[5]=S("strong",null,"Status:",-1)),we(" "+le(a.curation_status??"N/A"),1)]),S("div",null,[t[6]||(t[6]=S("strong",null,"Date Approved:",-1)),we(" "+le(new Date(a.date_approved).toLocaleDateString("en-US",{month:"short",day:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit",hour12:!0})),1)]),S("div",Vre,[t[7]||(t[7]=S("strong",null,"Phenotypes:",-1)),we(" "+le(a.phenotypes),1)])])]))]),_:1},8,["modelValue","search-function"])}const Gre=ne(Pre,[["render",Wre]]),Yre=Object.freeze(Object.defineProperty({__proto__:null,default:Gre},Symbol.toStringTag,{value:"Module"})),Kre={props:{type:{type:String,required:!1,default:"text"},modelValue:{required:!1,default:null},errors:{type:Array,required:!1,default:()=>[]},options:{type:Array,required:!1},label:{type:String,required:!1},labelWidthClass:{type:String,required:!1,default:"w-36"},placeholder:{required:!1,value:null},disabled:{type:Boolean,default:!1},name:{required:!1,default:null,type:String},inputClass:{required:!1,default:null,type:String},hideLabel:{required:!1,default:!1,type:Boolean},labelClass:{required:!1,default:null,type:String},vertical:{type:Boolean,default:!1}},emits:["update:modelValue","change"],computed:{colon(){return this.label&&[":",";",".","?","!"].includes(this.label.substr(-1))?"":":"},hasErrors(){return this.errors.length>0},labelContainerClass(){const e=[];return this.vertical?e.push("my-1"):e.push(this.labelWidthClass),e.join(" ")},showLabel(){return!this.hideLabel},hasLabel(){return this.label||this.$slots.label},resolvedLabelClass(){const e=[];return this.hasErrors&&e.push("text-red-800"),this.labelClass&&e.push(this.labelClass),e.join(" ")}},methods:{emitValue(e){this.$emit("update:modelValue",e)},focus(){this.$refs.input.focus()}}},Xre={class:"flex-grow flex flex-col space-y-3"},Qre=["value","disabled","readonly","name","placeholder"],Jre=["value","disabled","readonly"],Zre=["value"],eie=["type","value","placeholder","disabled","readonly","name"];function tie(e,t,n,r,i,s){const o=Y("date-input"),a=Y("radio-button"),l=Y("input-errors");return x(),L("div",{class:nt([{"border-l border-red-800 px-2":s.hasErrors},"input-row my-3"])},[S("div",{class:nt({"sm:flex":!n.vertical})},[Ct(S("div",{class:nt(["flex-none label-container flex-shrink",s.labelContainerClass])},[s.hasLabel?Ae(e.$slots,"label",{key:0,class:nt(s.resolvedLabelClass)},()=>[S("label",null,le(n.label)+le(s.colon),1)]):Oe("",!0)],2),[[yr,s.showLabel]]),S("div",Xre,[Ae(e.$slots,"default",{},()=>[n.type=="date"?(x(),fe(o,{key:0,ref:"input","model-value":n.modelValue,disabled:n.disabled,readonly:e.$attrs.readonly,name:n.name,class:nt(n.inputClass),"onUpdate:modelValue":s.emitValue,onChange:t[0]||(t[0]=u=>e.$emit("change",n.modelValue))},null,8,["model-value","disabled","readonly","name","class","onUpdate:modelValue"])):n.type=="large-text"?(x(),L("textarea",{key:1,ref:"input",value:n.modelValue,disabled:n.disabled,readonly:e.$attrs.readonly,name:n.name,class:nt([n.inputClass,"w-full"]),rows:"5",placeholder:n.placeholder,onInput:t[1]||(t[1]=u=>e.$emit("update:modelValue",u.target.value)),onChange:t[2]||(t[2]=u=>e.$emit("change",n.modelValue))},null,42,Qre)):n.type=="radio-group"?(x(),L("div",{key:2,class:nt(["radio-group",{"ml-4":n.vertical}])},[(x(!0),L(Xe,null,$t(n.options,u=>(x(),fe(a,{key:u.value,"model-value":n.modelValue,label:u.label||e.sentenceCase(u.value),value:u.value,disabled:n.disabled,readonly:e.$attrs.readonly,"onUpdate:modelValue":s.emitValue},null,8,["model-value","label","value","disabled","readonly","onUpdate:modelValue"]))),128))],2)):n.type=="select"?(x(),L("select",Ja({key:3,value:n.modelValue},e.$attrs.disabled,{disabled:n.disabled,readonly:e.$attrs.readonly,onInput:t[3]||(t[3]=u=>e.$emit("update:modelValue",u.target.value))}),[t[6]||(t[6]=S("option",{value:""}," Select… ",-1)),(x(!0),L(Xe,null,$t(n.options,u=>Ae(e.$slots,"option-label",Ja({key:u.value,ref_for:!0},u),()=>[S("option",{value:u.value},le(u.label||e.sentenceCase(u.value)),9,Zre)])),128))],16,Jre)):(x(),L("input",{key:4,ref:"input",type:n.type,value:n.modelValue,placeholder:n.placeholder,disabled:n.disabled,readonly:e.$attrs.readonly,class:nt(n.inputClass),name:n.name,onInput:t[4]||(t[4]=u=>e.$emit("update:modelValue",u.target.value)),onChange:t[5]||(t[5]=u=>e.$emit("change",u.target.value))},null,42,eie))]),Ae(e.$slots,"after-input"),z(l,{class:"text-xs",errors:n.errors||[]},null,8,["errors"])])],2)],2)}const sM=ne(Kre,[["render",tie]]),nie=Object.freeze(Object.defineProperty({__proto__:null,default:sM},Symbol.toStringTag,{value:"Module"})),oM={__name:"DataFormField",props:{...Xp,field:{type:Object,required:!0},errors:{type:Object,required:!0}},emits:Qp,setup(e,{emit:t}){const n=e,r=t,{workingCopy:i}=Jp(n,{emit:r}),s=bt({get(){return n.field.name==="*"?i.value:kT(i.value,n.field.name)},set(p){if(n.field.name==="*"){i.value=p;return}kT(i.value,n.field.name)!==p&&R7(i.value,n.field.name,p)}}),o=p=>typeof p.label>"u"?Uy(p.name):p.label,a=p=>Array.isArray(p.options)?p.options:typeof p.options=="function"?p.options(i):[],l=p=>p.show?p.show(i):!0,u=(p=null)=>{const m={label:o(n.field),modelValue:s.value,"onUpdate:modelValue":g=>{s.value=g},type:n.field.type||"text",placeholder:n.field.placeholder||null,errors:n.errors[n.field.name],options:a(n.field),vertical:n.field.vertical,class:n.field.class,required:n.field.required};return Qt(sM,m,p)},c=()=>u(()=>{const m={...n.field.component.options,modelValue:s.value,"onUpdate:modelValue":g=>{s.value=g},errors:n.errors};return Qt(n.field.component.component,m,n.field.component.slots)}),d=()=>n.field.type==="dictionary-row"?[Qt(i2,{innerHTML:s.value,label:o(n.field),class:n.field.class})]:n.field.type==="component"?[c()]:[u()],f=()=>{const p=d();return Qt("div",{class:""},l(n.field)?p:[])};return(p,m)=>(x(),fe(f))}},rie=Object.freeze(Object.defineProperty({__proto__:null,default:oM},Symbol.toStringTag,{value:"Module"})),bn=[];for(let e=0;e<256;++e)bn.push((e+256).toString(16).slice(1));function iie(e,t=0){return(bn[e[t+0]]+bn[e[t+1]]+bn[e[t+2]]+bn[e[t+3]]+"-"+bn[e[t+4]]+bn[e[t+5]]+"-"+bn[e[t+6]]+bn[e[t+7]]+"-"+bn[e[t+8]]+bn[e[t+9]]+"-"+bn[e[t+10]]+bn[e[t+11]]+bn[e[t+12]]+bn[e[t+13]]+bn[e[t+14]]+bn[e[t+15]]).toLowerCase()}let Im;const sie=new Uint8Array(16);function oie(){if(!Im){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");Im=crypto.getRandomValues.bind(crypto)}return Im(sie)}const aie=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),Gx={randomUUID:aie};function co(e,t,n){var i;if(Gx.randomUUID&&!e)return Gx.randomUUID();e=e||{};const r=e.random??((i=e.rng)==null?void 0:i.call(e))??oie();if(r.length<16)throw new Error("Random bytes length must be >= 16");return r[6]=r[6]&15|64,r[8]=r[8]&63|128,iie(r)}const lie=["id"],uie={__name:"DataForm",props:{...cs.props,errors:{type:Object,required:!1,default:()=>({})},fields:{type:Array,required:!0},wrapperClass:{type:String||null,default:null}},emits:[...cs.emits],setup(e,{emit:t}){const n=e,r=t,i=co(),s=yt([]),o=c=>{s.value.push(c)},{workingCopy:a}=cs.setup(n,{emit:r});Ny(()=>{s.value=[]});const l=({field:c})=>c.type==="raw-component"?Qt(c.component.component,c.component.options,c.component.slots):Qt(oM,{field:c,modelValue:a.value,"onUpdate:modelValue":d=>{r("update:modelValue",d)},ref:o(),class:"flex-grow",errors:n.errors}),u=({field:c})=>{let d=null;return c.extraSlot&&(d=Qt(c.extraSlot,{field:c,modelValue:a.value,"onUpdate:modelValue":f=>{r("update:modelValue",f)}})),d};return(c,d)=>(x(),L("div",{id:_e(i),class:"data-form"},[(x(!0),L(Xe,null,$t(e.fields,f=>(x(),L("div",{key:f.name},[S("div",{class:nt(e.wrapperClass)},[z(l,{field:f,"model-value":_e(a)},null,8,["field","model-value"]),z(u,{field:f,"model-value":_e(a)},null,8,["field","model-value"])],2)]))),128))],8,lie))}},cie=Object.freeze(Object.defineProperty({__proto__:null,default:uie},Symbol.toStringTag,{value:"Module"})),die={props:{modelValue:{required:!1,default:null},disabled:{required:!1,default:!1}},emits:["update:modelValue","change"],data(){return{}},computed:{date:{get(){let e=null;return this.modelValue?this.modelValue instanceof Date?e=new Date(this.modelValue.getTime()):e=new Date(Date.parse(this.modelValue)):e=null,e&&e.toISOString().split("T")[0]}}},mounted(){this.accountForTimezone(this.formatDate(this.modelValue))},methods:{handleInput(e){const t=e.target.valueAsDate;if(!t){this.$emit("update:modelValue",t);return}t.valueOf()>new Date(Date.parse("1900-01-01"))&&this.$emit("update:modelValue",this.accountForTimezone(t).toISOString())},accountForTimezone(e){if(e===null)return e;const t=new Date(Date.parse(e));return new Date(t.getTime()+t.getTimezoneOffset()*60*1e3)},formatDate(e){if(e===null)return null;const t=new Date(e),n=`0${t.getMonth()+1}`.slice(-2),r=`0${t.getDate()}`.slice(-2);return[t.getFullYear(),n,r].join("-")},focus(){this.$nextTick(()=>{this.$refs.input.focus()})}}},fie=["value","disabled"];function pie(e,t,n,r,i,s){return x(),L("div",null,[S("input",{ref:"input",type:"date",class:"date-input",value:s.date,disabled:n.disabled,onInput:t[0]||(t[0]=(...o)=>s.handleInput&&s.handleInput(...o)),onChange:t[1]||(t[1]=o=>e.$emit("change"))},null,40,fie)])}const hie=ne(die,[["render",pie]]),mie=Object.freeze(Object.defineProperty({__proto__:null,default:hie},Symbol.toStringTag,{value:"Module"})),gie={name:"DiseaseSearchSelect",components:{SearchSelect:vs},props:{modelValue:{required:!0}},emits:["update:modelValue"],data(){return{}},computed:{selectedDisease:{get(){return this.modelValue},set(e){this.$emit("update:modelValue",e)}}},methods:{async search(e){return await Z.get(`/api/diseases/search?query_string=${e}`).then(t=>t.data)}}},bie={key:0},yie={key:1},_ie={key:0},Eie={key:1};function vie(e,t,n,r,i,s){const o=Y("SearchSelect");return x(),fe(o,{modelValue:s.selectedDisease,"onUpdate:modelValue":t[0]||(t[0]=a=>s.selectedDisease=a),"search-function":s.search,style:{"z-index":"1"},placeholder:"MonDO ID or name"},{"selection-label":V(({selection:a})=>[typeof a=="object"?(x(),L("div",bie,le(a.mondo_id)+" - "+le(a.name),1)):(x(),L("div",yie,le(a),1))]),option:V(({option:a})=>[typeof a=="object"?(x(),L("div",_ie,le(a.mondo_id)+" - "+le(a.name),1)):(x(),L("div",Eie,le(a),1))]),_:1},8,["modelValue","search-function"])}const Tie=ne(gie,[["render",vie]]),wie=Object.freeze(Object.defineProperty({__proto__:null,default:Tie},Symbol.toStringTag,{value:"Module"})),xie={__name:"ExpertisesInput",props:{...Xp},emits:[...Qp],setup(e,{emit:t}){const n=e,r=t,{workingCopy:i}=Jp(n,{emit:r}),s=yt([]),o=async()=>{s.value=await Z.get("/api/expertises").then(u=>u.data)},a=yt(""),l=async(u,c)=>(a.value=u,c.filter(d=>{const f=/[.,-]/g,p=u.replace(f,"").toLowerCase();return d.name.toLowerCase().match(p)||d.synonyms.some(m=>m.name.toLowerCase().match(p))}));return vr(()=>{o()}),(u,c)=>(x(),fe(vs,{modelValue:_e(i),"onUpdate:modelValue":c[0]||(c[0]=d=>Yt(i)?i.value=d:null),options:s.value,multiple:"","show-options-on-focus":"","show-options-when-empty":"","search-function":l},null,8,["modelValue","options"]))}},Cie=Object.freeze(Object.defineProperty({__proto__:null,default:xie},Symbol.toStringTag,{value:"Module"})),Sie={props:{},data(){return{visibility:!1,visibilityInterval:null}},watch:{visibility(e,t){e&&!t&&this.focusFirstInput()}},mounted(){this.visibilityInterval=setInterval(this.checkVisibility,100)},unmounted(){clearInterval(this.visibilityInterval)},methods:{checkVisibility(){this.visibility=this.$el&&(this.$el.offsetWidth>0||this.$el.offsetHeight>0)},focusFirstInput(){this.$el.querySelectorAll("input, textarea, select")[0].focus()}}};function Aie(e,t,n,r,i,s){return x(),L("div",null,[Ae(e.$slots,"default")])}const Oie=ne(Sie,[["render",Aie]]),kie=Object.freeze(Object.defineProperty({__proto__:null,default:Oie},Symbol.toStringTag,{value:"Module"})),Iie={name:"GeneSearchSelect",components:{SearchSelect:vs},props:{modelValue:{required:!0}},emits:["update:modelValue"],computed:{selectedGene:{get(){return this.modelValue},set(e){this.$emit("update:modelValue",e)}}},methods:{async search(e){return await Z.get(`/api/genes/search?query_string=${e}`).then(t=>t.data)}}},Nie={key:0},Rie={key:1},Die={key:0},Mie={key:1};function Pie(e,t,n,r,i,s){const o=Y("SearchSelect");return x(),fe(o,{modelValue:s.selectedGene,"onUpdate:modelValue":t[0]||(t[0]=a=>s.selectedGene=a),"search-function":s.search,style:{"z-index":"2"},placeholder:"HGNC ID or Gene Symbol","key-options-by":"id"},{"selection-label":V(({selection:a})=>[typeof a=="object"?(x(),L("div",Nie,le(a.gene_symbol),1)):(x(),L("div",Rie,le(a),1))]),option:V(({option:a})=>[typeof a=="object"?(x(),L("div",Die,le(a.gene_symbol),1)):(x(),L("div",Mie,le(a),1))]),_:1},8,["modelValue","search-function"])}const Lie=ne(Iie,[["render",Pie]]),Bie=Object.freeze(Object.defineProperty({__proto__:null,default:Lie},Symbol.toStringTag,{value:"Module"})),j_=yt([]),Fie=bt(()=>[{name:"name",placeholder:"University of Liliput"},{name:"abbreviation",placeholder:"LilU"},{name:"url",placeholder:"https://lilu.edu"},{name:"country_id",label:"Country",type:"select",options:j_.value},{name:"reportable",label:"Reportable",type:"radio-group",options:[{value:!0,label:"Yes"},{value:!1,label:"No"}]}]),$ie=()=>{Z.get("/api/people/lookups/countries").then(e=>{j_.value=e.data.data.map(t=>({value:t.id,label:t.name}))}).catch(e=>console.error(e))},Uie=e=>Z.post("/api/institutions",e).then(t=>t.data),kCe=e=>Z.put(`/api/institutions/${e.id}`,e).then(t=>t.data),ICe=e=>Z.get("/api/institutions",{params:e}).then(t=>t.data),NCe=e=>Z.put(`/api/institutions/${e.id}/approved`).then(t=>t.data),RCe=(e,t)=>Z.put("/api/institutions/merge",{authority_id:e,obsolete_ids:t}),DCe=e=>Z.delete(`/api/institutions/${e.id}`),Hie={name:"InstitutionCreateForm",props:{name:{type:String||null,default:null}},emits:["saved","canceled"],setup(){return{fields:Fie,getCountries:$ie,countries:j_,createInstitution:Uie}},data(){return{inst:{},errors:{}}},computed:{filteredFields(){return this.fields.filter(e=>e.name!=="reportable")}},watch:{name:{immediate:!0,handler(e){this.inst.name=e}}},mounted(){this.getCountries()},methods:{async save(){try{const e=await this.createInstitution(this.inst);this.$emit("saved",e),this.initInstitution()}catch(e){$c(e)&&(this.errors=e.response.data.errors)}},cancel(){this.$emit("canceled"),this.initInstitution()},initInstitution(){this.inst={name:this.name}},initErrors(){this.errors={}}}};function zie(e,t,n,r,i,s){const o=Y("data-form"),a=Y("button-row");return x(),L("div",null,[z(o,{modelValue:i.inst,"onUpdate:modelValue":t[0]||(t[0]=l=>i.inst=l),fields:s.filteredFields,errors:i.errors},null,8,["modelValue","fields","errors"]),z(a,{"submit-text":"Save",onSubmitted:s.save,onCancel:s.cancel},null,8,["onSubmitted","onCancel"])])}const jie=ne(Hie,[["render",zie]]),qie={name:"InstitutionSearchSelect",components:{SearchSelect:vs,InstitutionForm:jie},props:{modelValue:{required:!0},allowAdd:{type:Boolean,default:!0}},emits:["update:modelValue"],data(){return{institutions:[],showAddForm:!1,formName:null}},computed:{selectedInstitutionId:{get(){return this.modelValue},set(e){this.$emit("update:modelValue",e)}},selectedInstitution:{get(){return this.institutions.find(e=>e.id===this.modelValue)},set(e){if(e){this.selectedInstitutionId=e.id;return}this.selectedInstitutionId=null}}},mounted(){this.getInstitutions()},methods:{search(e){this.formName=e;const t=new RegExp(`.*${e}.*`,"i");return this.institutions.filter(n=>n.name&&n.name.match(t)||n.abbreviation&&n.abbreviation.match(t)||n.url&&n.url.match(t))},initAddNew(){this.showAddForm=!0},useNewInstitution(e){this.institutions.push(e),this.selectedInstitution=e,this.showAddForm=!1},cancelNewInstitution(){this.showAddForm=!1},getInstitutions(){const e={sort:{field:"name",dir:"asc"},select:["name","abbreviation","id","url"]};Z.get(`/api/people/institutions${ls(e)}`).then(t=>{this.institutions=t.data})}}},Vie={key:0},Wie={key:0},Gie={key:0},Yie={key:1};function Kie(e,t,n,r,i,s){const o=Y("SearchSelect"),a=Y("InstitutionForm"),l=Y("modal-dialog");return x(),L("div",null,[z(o,{modelValue:s.selectedInstitution,"onUpdate:modelValue":[t[1]||(t[1]=u=>s.selectedInstitution=u),t[2]||(t[2]=u=>e.searchText=null)],"search-function":s.search,style:{"z-index":"2"},placeholder:"Institution name or abbreviation","key-options-by":"id","show-options-on-focus":"",options:i.institutions,"show-options-when-empty":""},D4({"selection-label":V(({selection:u})=>[S("div",null,[we(le(u.name)+" ",1),u.abbreviation?(x(),L("span",Vie,"("+le(u.abbreviation)+")",1)):Oe("",!0)])]),option:V(({option:u})=>[typeof u=="object"?(x(),L("div",Wie,[we(le(u.name)+" ",1),u.abbreviation?(x(),L("span",Gie,"("+le(u.abbreviation)+")",1)):Oe("",!0)])):(x(),L("div",Yie,le(u),1))]),_:2},[n.allowAdd?{name:"fixedBottomOption",fn:V(()=>[S("button",{class:"font-bold link cursor-pointer",onClick:t[0]||(t[0]=(...u)=>s.initAddNew&&s.initAddNew(...u))}," Add your institution ")]),key:"0"}:void 0]),1032,["modelValue","search-function","options"]),(x(),fe(Er,{to:"body"},[z(l,{modelValue:i.showAddForm,"onUpdate:modelValue":t[3]||(t[3]=u=>i.showAddForm=u),title:"Add an institution"},{default:V(()=>[z(a,{name:i.formName,onSaved:s.useNewInstitution,onCanceled:s.cancelNewInstitution},null,8,["name","onSaved","onCanceled"])]),_:1},8,["modelValue"])]))])}const Xie=ne(qie,[["render",Kie]]),Qie=Object.freeze(Object.defineProperty({__proto__:null,default:Xie},Symbol.toStringTag,{value:"Module"})),Jie={name:"PersonSearchSelect",components:{SearchSelect:vs},props:{modelValue:{required:!0},allowAdd:{type:Boolean,default:!0},multiple:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1}},emits:["update:modelValue"],data(){return{options:[],showAddForm:!1,formName:null}},computed:{selectedPerson:{get(){return this.modelValue},set(e){if(e){this.$emit("update:modelValue",e);return}this.$emit("update:modelValue",null)}}},methods:{async search(e){if(!e||e.length<2)return[];const t=`/api/people?where[filterString]=${e}`;return this.options=await Z.get(t).then(n=>n.data.data),this.options}}},Zie={key:0},ese={key:1};function tse(e,t,n,r,i,s){const o=Y("SearchSelect");return x(),L("div",null,[z(o,{modelValue:s.selectedPerson,"onUpdate:modelValue":[t[0]||(t[0]=a=>s.selectedPerson=a),t[1]||(t[1]=a=>e.searchText=null)],multiple:n.multiple,disabled:n.disabled,"search-function":s.search,style:{"z-index":"2"},placeholder:"Person name or email"},{"selection-label":V(({selection:a})=>[S("div",null,le(a.first_name)+" "+le(a.last_name)+" <"+le(a.email)+"> ",1)]),option:V(({option:a})=>[typeof a=="object"?(x(),L("div",Zie,le(a.name)+" <"+le(a.email)+"> ",1)):(x(),L("div",ese,le(a),1))]),_:1},8,["modelValue","multiple","disabled","search-function"])])}const nse=ne(Jie,[["render",tse]]),rse=Object.freeze(Object.defineProperty({__proto__:null,default:nse},Symbol.toStringTag,{value:"Module"})),ise={name:"Checkbox",props:{modelValue:{required:!1,default:!1},label:{required:!1},value:{required:!0}},emits:["update:modelValue","change"],computed:{radioId(){return`radiobutton-${this.uid}`},val:{get(){return this.modelValue},set(e){this.$emit("update:modelValue",e)}}}},sse={class:"mb-2"},ose=["id","disabled","value"];function ase(e,t,n,r,i,s){return x(),L("label",sse,[Ae(e.$slots,"input",{},()=>[Ct(S("input",{id:s.radioId,"onUpdate:modelValue":t[0]||(t[0]=o=>s.val=o),type:"radio",class:"mt-1",disabled:e.$attrs.disabled,value:n.value},null,8,ose),[[GB,s.val]])]),S("div",null,[Ae(e.$slots,"default",{},()=>[we(le(n.label),1)])])])}const lse=ne(ise,[["render",ase]]),use=Object.freeze(Object.defineProperty({__proto__:null,default:lse},Symbol.toStringTag,{value:"Module"})),cse=["onClick"],dse={class:"inline-block"},fse=["checked"],pse={__name:"RadioButtonGroup",props:{modelValue:{required:!0},options:{type:Array,default:()=>[]},labelAttribute:{type:String,required:!1},vertical:{type:Boolean,default:!1},size:{type:String,default:"md"}},emits:["update:modelValue","change"],setup(e,{emit:t}){const n=e,r=t,i=l=>{r("update:modelValue",l),r("change",l)},s=l=>JSON.stringify(l)===JSON.stringify(n.modelValue),o=l=>typeof l=="object"?n.labelAttribute?l[n.labelAttribute]:l:typeof l=="string"?r2(l):l,a=l=>{const u=[n.size];return s(l)&&u.push("selected"),u.join(" ")};return(l,u)=>(x(),L("div",{class:nt(["button-group",{vertical:e.vertical}])},[(x(!0),L(Xe,null,$t(e.options,(c,d)=>(x(),L("button",{key:d,class:nt(a(c)),onClick:f=>i(c)},[S("div",dse,[S("input",{type:"radio",checked:s(c)},null,8,fse)]),u[0]||(u[0]=we("  ")),Ae(l.$slots,"default",{option:c},()=>[we(le(o(c)),1)])],10,cse))),128))],2))}},hse=Object.freeze(Object.defineProperty({__proto__:null,default:pse},Symbol.toStringTag,{value:"Module"})),mse={props:{label:{required:!1,type:String,default:"Relevant Step"},modelValue:{required:!0},errors:{type:Array,required:!1,default:()=>[]}},emits:["update:modelValue"],data(){return{stepOptions:[{value:1,label:"Definition"},{value:2,label:"Draft Specifications"},{value:3,label:"Pilot Specifications"},{value:4,label:"Sustained Curation"}]}}};function gse(e,t,n,r,i,s){const o=Y("input-row");return x(),fe(o,{label:"Step","model-value":n.modelValue,errors:n.errors.step,type:"select",options:i.stepOptions,onInput:t[0]||(t[0]=a=>e.$emit("update:modelValue",a.target.value))},null,8,["model-value","errors","options"])}const bse=ne(mse,[["render",gse]]),yse=Object.freeze(Object.defineProperty({__proto__:null,default:bse},Symbol.toStringTag,{value:"Module"})),_se={name:"DiseaseSearchSelect",props:{modelValue:{required:!0}},emits:["update:modelValue"],data(){return{timezones:[],regions:[],cities:[],region:null,city:null}},computed:{regionCities(){return this.cities.filter(e=>e.region===this.region)}},watch:{city(){this.emitUpdate()},region(){this.emitUpdate()},modelValue:{immediate:!0,handler(e){let t=null,n=[],r=null;if(e)[t,...n]=e.split("/"),r=n.join("/").replace("_"," ");else return;let i=!1;t!==this.region&&(this.region=t,i=!0),r!==this.city&&(this.city=r,i=!0),i&&this.emitUpdate()}}},mounted(){Z.get("/api/people/lookups/timezones").then(e=>{this.timezones=e.data.data.filter(t=>t!=="UTC"),this.setRegionsAndCities(this.timezones)})},methods:{search(e){if(!e||e.length<2)return[];const t=new RegExp(`.*${e}.*`,"i");return this.cities.filter(n=>this.region?n.region===this.region:!0).filter(n=>n.name.match(t))},setRegionsAndCities(e){e.forEach(t=>{const[n,...r]=t.split("/");this.regions.push(n),this.cities.push({region:n,name:r.join("/").replace("_"," ")})}),this.regions=[...new Set(this.regions)]},emitUpdate(){if(this.region==="UTC"&&this.$emit("update:modelValue",this.region),!this.city||!this.region)return;const e=`${this.region}/${this.city.replace(" ","_")}`;this.timezones.indexOf(e)&&this.$emit("update:modelValue",e)}}},Ese={class:"flex space-x-1 items-start"},vse=["value"],Tse=["disabled"],wse=["value"],xse={class:"w-80"};function Cse(e,t,n,r,i,s){const o=Y("faq-link"),a=Y("icon-question"),l=Y("popover");return x(),L("div",Ese,[S("div",null,[t[2]||(t[2]=S("label",{for:"region-select",class:"block text-xs"},"Region:",-1)),Ct(S("select",{id:"region-select","onUpdate:modelValue":t[0]||(t[0]=u=>i.region=u),class:"input-cl"},[(x(!0),L(Xe,null,$t(i.regions,u=>(x(),L("option",{key:u,value:u},le(u),9,vse))),128))],512),[[If,i.region]])]),S("div",null,[t[7]||(t[7]=S("label",{for:"city-search-select",class:"block text-xs"},"City:",-1)),Ct(S("select",{id:"city-search-select","onUpdate:modelValue":t[1]||(t[1]=u=>i.city=u),disabled:!i.region},[t[3]||(t[3]=S("option",{value:"null"}," Select... ",-1)),(x(!0),L(Xe,null,$t(s.regionCities,({name:u})=>(x(),L("option",{key:u,value:u},le(u),9,wse))),128))],8,Tse),[[If,i.city]]),t[8]||(t[8]=we("   ")),z(l,{arrow:"",trigger:"hover"},{content:V(()=>[S("div",xse,[t[6]||(t[6]=S("p",null,"The best way to get your timezone right is to tell us which city has the same “timezone” you do. For example, if you’re located in Atlanta, Georgia, USA you should choose, North America/New York as your “Timezone”.",-1)),S("p",null,[t[4]||(t[4]=we("See the ")),z(o,{hash:"#heading=h.9kox4w1eoeul"}),t[5]||(t[5]=we(" for more details."))])])]),default:V(()=>[z(a,{class:"text-gray-500 cursor-pointer"})]),_:1})])])}const Sse=ne(_se,[["render",Cse]]),Ase=Object.freeze(Object.defineProperty({__proto__:null,default:Sse},Symbol.toStringTag,{value:"Module"}));function Bt(e){this.content=e}Bt.prototype={constructor:Bt,find:function(e){for(var t=0;t<this.content.length;t+=2)if(this.content[t]===e)return t;return-1},get:function(e){var t=this.find(e);return t==-1?void 0:this.content[t+1]},update:function(e,t,n){var r=n&&n!=e?this.remove(n):this,i=r.find(e),s=r.content.slice();return i==-1?s.push(n||e,t):(s[i+1]=t,n&&(s[i]=n)),new Bt(s)},remove:function(e){var t=this.find(e);if(t==-1)return this;var n=this.content.slice();return n.splice(t,2),new Bt(n)},addToStart:function(e,t){return new Bt([e,t].concat(this.remove(e).content))},addToEnd:function(e,t){var n=this.remove(e).content.slice();return n.push(e,t),new Bt(n)},addBefore:function(e,t,n){var r=this.remove(t),i=r.content.slice(),s=r.find(e);return i.splice(s==-1?i.length:s,0,t,n),new Bt(i)},forEach:function(e){for(var t=0;t<this.content.length;t+=2)e(this.content[t],this.content[t+1])},prepend:function(e){return e=Bt.from(e),e.size?new Bt(e.content.concat(this.subtract(e).content)):this},append:function(e){return e=Bt.from(e),e.size?new Bt(this.subtract(e).content.concat(e.content)):this},subtract:function(e){var t=this;e=Bt.from(e);for(var n=0;n<e.content.length;n+=2)t=t.remove(e.content[n]);return t},toObject:function(){var e={};return this.forEach(function(t,n){e[t]=n}),e},get size(){return this.content.length>>1}};Bt.from=function(e){if(e instanceof Bt)return e;var t=[];if(e)for(var n in e)t.push(n,e[n]);return new Bt(t)};function aM(e,t,n){for(let r=0;;r++){if(r==e.childCount||r==t.childCount)return e.childCount==t.childCount?null:n;let i=e.child(r),s=t.child(r);if(i==s){n+=i.nodeSize;continue}if(!i.sameMarkup(s))return n;if(i.isText&&i.text!=s.text){for(let o=0;i.text[o]==s.text[o];o++)n++;return n}if(i.content.size||s.content.size){let o=aM(i.content,s.content,n+1);if(o!=null)return o}n+=i.nodeSize}}function lM(e,t,n,r){for(let i=e.childCount,s=t.childCount;;){if(i==0||s==0)return i==s?null:{a:n,b:r};let o=e.child(--i),a=t.child(--s),l=o.nodeSize;if(o==a){n-=l,r-=l;continue}if(!o.sameMarkup(a))return{a:n,b:r};if(o.isText&&o.text!=a.text){let u=0,c=Math.min(o.text.length,a.text.length);for(;u<c&&o.text[o.text.length-u-1]==a.text[a.text.length-u-1];)u++,n--,r--;return{a:n,b:r}}if(o.content.size||a.content.size){let u=lM(o.content,a.content,n-1,r-1);if(u)return u}n-=l,r-=l}}class se{constructor(t,n){if(this.content=t,this.size=n||0,n==null)for(let r=0;r<t.length;r++)this.size+=t[r].nodeSize}nodesBetween(t,n,r,i=0,s){for(let o=0,a=0;a<n;o++){let l=this.content[o],u=a+l.nodeSize;if(u>t&&r(l,i+a,s||null,o)!==!1&&l.content.size){let c=a+1;l.nodesBetween(Math.max(0,t-c),Math.min(l.content.size,n-c),r,i+c)}a=u}}descendants(t){this.nodesBetween(0,this.size,t)}textBetween(t,n,r,i){let s="",o=!0;return this.nodesBetween(t,n,(a,l)=>{let u=a.isText?a.text.slice(Math.max(t,l)-l,n-l):a.isLeaf?i?typeof i=="function"?i(a):i:a.type.spec.leafText?a.type.spec.leafText(a):"":"";a.isBlock&&(a.isLeaf&&u||a.isTextblock)&&r&&(o?o=!1:s+=r),s+=u},0),s}append(t){if(!t.size)return this;if(!this.size)return t;let n=this.lastChild,r=t.firstChild,i=this.content.slice(),s=0;for(n.isText&&n.sameMarkup(r)&&(i[i.length-1]=n.withText(n.text+r.text),s=1);s<t.content.length;s++)i.push(t.content[s]);return new se(i,this.size+t.size)}cut(t,n=this.size){if(t==0&&n==this.size)return this;let r=[],i=0;if(n>t)for(let s=0,o=0;o<n;s++){let a=this.content[s],l=o+a.nodeSize;l>t&&((o<t||l>n)&&(a.isText?a=a.cut(Math.max(0,t-o),Math.min(a.text.length,n-o)):a=a.cut(Math.max(0,t-o-1),Math.min(a.content.size,n-o-1))),r.push(a),i+=a.nodeSize),o=l}return new se(r,i)}cutByIndex(t,n){return t==n?se.empty:t==0&&n==this.content.length?this:new se(this.content.slice(t,n))}replaceChild(t,n){let r=this.content[t];if(r==n)return this;let i=this.content.slice(),s=this.size+n.nodeSize-r.nodeSize;return i[t]=n,new se(i,s)}addToStart(t){return new se([t].concat(this.content),this.size+t.nodeSize)}addToEnd(t){return new se(this.content.concat(t),this.size+t.nodeSize)}eq(t){if(this.content.length!=t.content.length)return!1;for(let n=0;n<this.content.length;n++)if(!this.content[n].eq(t.content[n]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(t){let n=this.content[t];if(!n)throw new RangeError("Index "+t+" out of range for "+this);return n}maybeChild(t){return this.content[t]||null}forEach(t){for(let n=0,r=0;n<this.content.length;n++){let i=this.content[n];t(i,r,n),r+=i.nodeSize}}findDiffStart(t,n=0){return aM(this,t,n)}findDiffEnd(t,n=this.size,r=t.size){return lM(this,t,n,r)}findIndex(t,n=-1){if(t==0)return Md(0,t);if(t==this.size)return Md(this.content.length,t);if(t>this.size||t<0)throw new RangeError(`Position ${t} outside of fragment (${this})`);for(let r=0,i=0;;r++){let s=this.child(r),o=i+s.nodeSize;if(o>=t)return o==t||n>0?Md(r+1,o):Md(r,i);i=o}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(t=>t.toJSON()):null}static fromJSON(t,n){if(!n)return se.empty;if(!Array.isArray(n))throw new RangeError("Invalid input for Fragment.fromJSON");return new se(n.map(t.nodeFromJSON))}static fromArray(t){if(!t.length)return se.empty;let n,r=0;for(let i=0;i<t.length;i++){let s=t[i];r+=s.nodeSize,i&&s.isText&&t[i-1].sameMarkup(s)?(n||(n=t.slice(0,i)),n[n.length-1]=s.withText(n[n.length-1].text+s.text)):n&&n.push(s)}return new se(n||t,r)}static from(t){if(!t)return se.empty;if(t instanceof se)return t;if(Array.isArray(t))return this.fromArray(t);if(t.attrs)return new se([t],t.nodeSize);throw new RangeError("Can not convert "+t+" to a Fragment"+(t.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}se.empty=new se([],0);const Nm={index:0,offset:0};function Md(e,t){return Nm.index=e,Nm.offset=t,Nm}function Wf(e,t){if(e===t)return!0;if(!(e&&typeof e=="object")||!(t&&typeof t=="object"))return!1;let n=Array.isArray(e);if(Array.isArray(t)!=n)return!1;if(n){if(e.length!=t.length)return!1;for(let r=0;r<e.length;r++)if(!Wf(e[r],t[r]))return!1}else{for(let r in e)if(!(r in t)||!Wf(e[r],t[r]))return!1;for(let r in t)if(!(r in e))return!1}return!0}class ft{constructor(t,n){this.type=t,this.attrs=n}addToSet(t){let n,r=!1;for(let i=0;i<t.length;i++){let s=t[i];if(this.eq(s))return t;if(this.type.excludes(s.type))n||(n=t.slice(0,i));else{if(s.type.excludes(this.type))return t;!r&&s.type.rank>this.type.rank&&(n||(n=t.slice(0,i)),n.push(this),r=!0),n&&n.push(s)}}return n||(n=t.slice()),r||n.push(this),n}removeFromSet(t){for(let n=0;n<t.length;n++)if(this.eq(t[n]))return t.slice(0,n).concat(t.slice(n+1));return t}isInSet(t){for(let n=0;n<t.length;n++)if(this.eq(t[n]))return!0;return!1}eq(t){return this==t||this.type==t.type&&Wf(this.attrs,t.attrs)}toJSON(){let t={type:this.type.name};for(let n in this.attrs){t.attrs=this.attrs;break}return t}static fromJSON(t,n){if(!n)throw new RangeError("Invalid input for Mark.fromJSON");let r=t.marks[n.type];if(!r)throw new RangeError(`There is no mark type ${n.type} in this schema`);let i=r.create(n.attrs);return r.checkAttrs(i.attrs),i}static sameSet(t,n){if(t==n)return!0;if(t.length!=n.length)return!1;for(let r=0;r<t.length;r++)if(!t[r].eq(n[r]))return!1;return!0}static setFrom(t){if(!t||Array.isArray(t)&&t.length==0)return ft.none;if(t instanceof ft)return[t];let n=t.slice();return n.sort((r,i)=>r.type.rank-i.type.rank),n}}ft.none=[];class Gf extends Error{}class ge{constructor(t,n,r){this.content=t,this.openStart=n,this.openEnd=r}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(t,n){let r=cM(this.content,t+this.openStart,n);return r&&new ge(r,this.openStart,this.openEnd)}removeBetween(t,n){return new ge(uM(this.content,t+this.openStart,n+this.openStart),this.openStart,this.openEnd)}eq(t){return this.content.eq(t.content)&&this.openStart==t.openStart&&this.openEnd==t.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let t={content:this.content.toJSON()};return this.openStart>0&&(t.openStart=this.openStart),this.openEnd>0&&(t.openEnd=this.openEnd),t}static fromJSON(t,n){if(!n)return ge.empty;let r=n.openStart||0,i=n.openEnd||0;if(typeof r!="number"||typeof i!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new ge(se.fromJSON(t,n.content),r,i)}static maxOpen(t,n=!0){let r=0,i=0;for(let s=t.firstChild;s&&!s.isLeaf&&(n||!s.type.spec.isolating);s=s.firstChild)r++;for(let s=t.lastChild;s&&!s.isLeaf&&(n||!s.type.spec.isolating);s=s.lastChild)i++;return new ge(t,r,i)}}ge.empty=new ge(se.empty,0,0);function uM(e,t,n){let{index:r,offset:i}=e.findIndex(t),s=e.maybeChild(r),{index:o,offset:a}=e.findIndex(n);if(i==t||s.isText){if(a!=n&&!e.child(o).isText)throw new RangeError("Removing non-flat range");return e.cut(0,t).append(e.cut(n))}if(r!=o)throw new RangeError("Removing non-flat range");return e.replaceChild(r,s.copy(uM(s.content,t-i-1,n-i-1)))}function cM(e,t,n,r){let{index:i,offset:s}=e.findIndex(t),o=e.maybeChild(i);if(s==t||o.isText)return e.cut(0,t).append(n).append(e.cut(t));let a=cM(o.content,t-s-1,n);return a&&e.replaceChild(i,o.copy(a))}function Ose(e,t,n){if(n.openStart>e.depth)throw new Gf("Inserted content deeper than insertion position");if(e.depth-n.openStart!=t.depth-n.openEnd)throw new Gf("Inconsistent open depths");return dM(e,t,n,0)}function dM(e,t,n,r){let i=e.index(r),s=e.node(r);if(i==t.index(r)&&r<e.depth-n.openStart){let o=dM(e,t,n,r+1);return s.copy(s.content.replaceChild(i,o))}else if(n.content.size)if(!n.openStart&&!n.openEnd&&e.depth==r&&t.depth==r){let o=e.parent,a=o.content;return jo(o,a.cut(0,e.parentOffset).append(n.content).append(a.cut(t.parentOffset)))}else{let{start:o,end:a}=kse(n,e);return jo(s,pM(e,o,a,t,r))}else return jo(s,Yf(e,t,r))}function fM(e,t){if(!t.type.compatibleContent(e.type))throw new Gf("Cannot join "+t.type.name+" onto "+e.type.name)}function N1(e,t,n){let r=e.node(n);return fM(r,t.node(n)),r}function zo(e,t){let n=t.length-1;n>=0&&e.isText&&e.sameMarkup(t[n])?t[n]=e.withText(t[n].text+e.text):t.push(e)}function Hu(e,t,n,r){let i=(t||e).node(n),s=0,o=t?t.index(n):i.childCount;e&&(s=e.index(n),e.depth>n?s++:e.textOffset&&(zo(e.nodeAfter,r),s++));for(let a=s;a<o;a++)zo(i.child(a),r);t&&t.depth==n&&t.textOffset&&zo(t.nodeBefore,r)}function jo(e,t){return e.type.checkContent(t),e.copy(t)}function pM(e,t,n,r,i){let s=e.depth>i&&N1(e,t,i+1),o=r.depth>i&&N1(n,r,i+1),a=[];return Hu(null,e,i,a),s&&o&&t.index(i)==n.index(i)?(fM(s,o),zo(jo(s,pM(e,t,n,r,i+1)),a)):(s&&zo(jo(s,Yf(e,t,i+1)),a),Hu(t,n,i,a),o&&zo(jo(o,Yf(n,r,i+1)),a)),Hu(r,null,i,a),new se(a)}function Yf(e,t,n){let r=[];if(Hu(null,e,n,r),e.depth>n){let i=N1(e,t,n+1);zo(jo(i,Yf(e,t,n+1)),r)}return Hu(t,null,n,r),new se(r)}function kse(e,t){let n=t.depth-e.openStart,i=t.node(n).copy(e.content);for(let s=n-1;s>=0;s--)i=t.node(s).copy(se.from(i));return{start:i.resolveNoCache(e.openStart+n),end:i.resolveNoCache(i.content.size-e.openEnd-n)}}class mc{constructor(t,n,r){this.pos=t,this.path=n,this.parentOffset=r,this.depth=n.length/3-1}resolveDepth(t){return t==null?this.depth:t<0?this.depth+t:t}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(t){return this.path[this.resolveDepth(t)*3]}index(t){return this.path[this.resolveDepth(t)*3+1]}indexAfter(t){return t=this.resolveDepth(t),this.index(t)+(t==this.depth&&!this.textOffset?0:1)}start(t){return t=this.resolveDepth(t),t==0?0:this.path[t*3-1]+1}end(t){return t=this.resolveDepth(t),this.start(t)+this.node(t).content.size}before(t){if(t=this.resolveDepth(t),!t)throw new RangeError("There is no position before the top-level node");return t==this.depth+1?this.pos:this.path[t*3-1]}after(t){if(t=this.resolveDepth(t),!t)throw new RangeError("There is no position after the top-level node");return t==this.depth+1?this.pos:this.path[t*3-1]+this.path[t*3].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let t=this.parent,n=this.index(this.depth);if(n==t.childCount)return null;let r=this.pos-this.path[this.path.length-1],i=t.child(n);return r?t.child(n).cut(r):i}get nodeBefore(){let t=this.index(this.depth),n=this.pos-this.path[this.path.length-1];return n?this.parent.child(t).cut(0,n):t==0?null:this.parent.child(t-1)}posAtIndex(t,n){n=this.resolveDepth(n);let r=this.path[n*3],i=n==0?0:this.path[n*3-1]+1;for(let s=0;s<t;s++)i+=r.child(s).nodeSize;return i}marks(){let t=this.parent,n=this.index();if(t.content.size==0)return ft.none;if(this.textOffset)return t.child(n).marks;let r=t.maybeChild(n-1),i=t.maybeChild(n);if(!r){let a=r;r=i,i=a}let s=r.marks;for(var o=0;o<s.length;o++)s[o].type.spec.inclusive===!1&&(!i||!s[o].isInSet(i.marks))&&(s=s[o--].removeFromSet(s));return s}marksAcross(t){let n=this.parent.maybeChild(this.index());if(!n||!n.isInline)return null;let r=n.marks,i=t.parent.maybeChild(t.index());for(var s=0;s<r.length;s++)r[s].type.spec.inclusive===!1&&(!i||!r[s].isInSet(i.marks))&&(r=r[s--].removeFromSet(r));return r}sharedDepth(t){for(let n=this.depth;n>0;n--)if(this.start(n)<=t&&this.end(n)>=t)return n;return 0}blockRange(t=this,n){if(t.pos<this.pos)return t.blockRange(this);for(let r=this.depth-(this.parent.inlineContent||this.pos==t.pos?1:0);r>=0;r--)if(t.pos<=this.end(r)&&(!n||n(this.node(r))))return new _r(this,t,r);return null}sameParent(t){return this.pos-this.parentOffset==t.pos-t.parentOffset}max(t){return t.pos>this.pos?t:this}min(t){return t.pos<this.pos?t:this}toString(){let t="";for(let n=1;n<=this.depth;n++)t+=(t?"/":"")+this.node(n).type.name+"_"+this.index(n-1);return t+":"+this.parentOffset}static resolve(t,n){if(!(n>=0&&n<=t.content.size))throw new RangeError("Position "+n+" out of range");let r=[],i=0,s=n;for(let o=t;;){let{index:a,offset:l}=o.content.findIndex(s),u=s-l;if(r.push(o,a,i+l),!u||(o=o.child(a),o.isText))break;s=u-1,i+=l+1}return new mc(n,r,s)}static resolveCached(t,n){let r=Yx.get(t);if(r)for(let s=0;s<r.elts.length;s++){let o=r.elts[s];if(o.pos==n)return o}else Yx.set(t,r=new Ise);let i=r.elts[r.i]=mc.resolve(t,n);return r.i=(r.i+1)%Nse,i}}class Ise{constructor(){this.elts=[],this.i=0}}const Nse=12,Yx=new WeakMap;class _r{constructor(t,n,r){this.$from=t,this.$to=n,this.depth=r}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const Rse=Object.create(null);let eo=class R1{constructor(t,n,r,i=ft.none){this.type=t,this.attrs=n,this.marks=i,this.content=r||se.empty}get children(){return this.content.content}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(t){return this.content.child(t)}maybeChild(t){return this.content.maybeChild(t)}forEach(t){this.content.forEach(t)}nodesBetween(t,n,r,i=0){this.content.nodesBetween(t,n,r,i,this)}descendants(t){this.nodesBetween(0,this.content.size,t)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(t,n,r,i){return this.content.textBetween(t,n,r,i)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(t){return this==t||this.sameMarkup(t)&&this.content.eq(t.content)}sameMarkup(t){return this.hasMarkup(t.type,t.attrs,t.marks)}hasMarkup(t,n,r){return this.type==t&&Wf(this.attrs,n||t.defaultAttrs||Rse)&&ft.sameSet(this.marks,r||ft.none)}copy(t=null){return t==this.content?this:new R1(this.type,this.attrs,t,this.marks)}mark(t){return t==this.marks?this:new R1(this.type,this.attrs,this.content,t)}cut(t,n=this.content.size){return t==0&&n==this.content.size?this:this.copy(this.content.cut(t,n))}slice(t,n=this.content.size,r=!1){if(t==n)return ge.empty;let i=this.resolve(t),s=this.resolve(n),o=r?0:i.sharedDepth(n),a=i.start(o),u=i.node(o).content.cut(i.pos-a,s.pos-a);return new ge(u,i.depth-o,s.depth-o)}replace(t,n,r){return Ose(this.resolve(t),this.resolve(n),r)}nodeAt(t){for(let n=this;;){let{index:r,offset:i}=n.content.findIndex(t);if(n=n.maybeChild(r),!n)return null;if(i==t||n.isText)return n;t-=i+1}}childAfter(t){let{index:n,offset:r}=this.content.findIndex(t);return{node:this.content.maybeChild(n),index:n,offset:r}}childBefore(t){if(t==0)return{node:null,index:0,offset:0};let{index:n,offset:r}=this.content.findIndex(t);if(r<t)return{node:this.content.child(n),index:n,offset:r};let i=this.content.child(n-1);return{node:i,index:n-1,offset:r-i.nodeSize}}resolve(t){return mc.resolveCached(this,t)}resolveNoCache(t){return mc.resolve(this,t)}rangeHasMark(t,n,r){let i=!1;return n>t&&this.nodesBetween(t,n,s=>(r.isInSet(s.marks)&&(i=!0),!i)),i}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let t=this.type.name;return this.content.size&&(t+="("+this.content.toStringInner()+")"),hM(this.marks,t)}contentMatchAt(t){let n=this.type.contentMatch.matchFragment(this.content,0,t);if(!n)throw new Error("Called contentMatchAt on a node with invalid content");return n}canReplace(t,n,r=se.empty,i=0,s=r.childCount){let o=this.contentMatchAt(t).matchFragment(r,i,s),a=o&&o.matchFragment(this.content,n);if(!a||!a.validEnd)return!1;for(let l=i;l<s;l++)if(!this.type.allowsMarks(r.child(l).marks))return!1;return!0}canReplaceWith(t,n,r,i){if(i&&!this.type.allowsMarks(i))return!1;let s=this.contentMatchAt(t).matchType(r),o=s&&s.matchFragment(this.content,n);return o?o.validEnd:!1}canAppend(t){return t.content.size?this.canReplace(this.childCount,this.childCount,t.content):this.type.compatibleContent(t.type)}check(){this.type.checkContent(this.content),this.type.checkAttrs(this.attrs);let t=ft.none;for(let n=0;n<this.marks.length;n++){let r=this.marks[n];r.type.checkAttrs(r.attrs),t=r.addToSet(t)}if(!ft.sameSet(t,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(n=>n.type.name)}`);this.content.forEach(n=>n.check())}toJSON(){let t={type:this.type.name};for(let n in this.attrs){t.attrs=this.attrs;break}return this.content.size&&(t.content=this.content.toJSON()),this.marks.length&&(t.marks=this.marks.map(n=>n.toJSON())),t}static fromJSON(t,n){if(!n)throw new RangeError("Invalid input for Node.fromJSON");let r;if(n.marks){if(!Array.isArray(n.marks))throw new RangeError("Invalid mark data for Node.fromJSON");r=n.marks.map(t.markFromJSON)}if(n.type=="text"){if(typeof n.text!="string")throw new RangeError("Invalid text node in JSON");return t.text(n.text,r)}let i=se.fromJSON(t,n.content),s=t.nodeType(n.type).create(n.attrs,i,r);return s.type.checkAttrs(s.attrs),s}};eo.prototype.text=void 0;class Kf extends eo{constructor(t,n,r,i){if(super(t,n,null,i),!r)throw new RangeError("Empty text nodes are not allowed");this.text=r}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):hM(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(t,n){return this.text.slice(t,n)}get nodeSize(){return this.text.length}mark(t){return t==this.marks?this:new Kf(this.type,this.attrs,this.text,t)}withText(t){return t==this.text?this:new Kf(this.type,this.attrs,t,this.marks)}cut(t=0,n=this.text.length){return t==0&&n==this.text.length?this:this.withText(this.text.slice(t,n))}eq(t){return this.sameMarkup(t)&&this.text==t.text}toJSON(){let t=super.toJSON();return t.text=this.text,t}}function hM(e,t){for(let n=e.length-1;n>=0;n--)t=e[n].type.name+"("+t+")";return t}class Zo{constructor(t){this.validEnd=t,this.next=[],this.wrapCache=[]}static parse(t,n){let r=new Dse(t,n);if(r.next==null)return Zo.empty;let i=mM(r);r.next&&r.err("Unexpected trailing text");let s=Use($se(i));return Hse(s,r),s}matchType(t){for(let n=0;n<this.next.length;n++)if(this.next[n].type==t)return this.next[n].next;return null}matchFragment(t,n=0,r=t.childCount){let i=this;for(let s=n;i&&s<r;s++)i=i.matchType(t.child(s).type);return i}get inlineContent(){return this.next.length!=0&&this.next[0].type.isInline}get defaultType(){for(let t=0;t<this.next.length;t++){let{type:n}=this.next[t];if(!(n.isText||n.hasRequiredAttrs()))return n}return null}compatible(t){for(let n=0;n<this.next.length;n++)for(let r=0;r<t.next.length;r++)if(this.next[n].type==t.next[r].type)return!0;return!1}fillBefore(t,n=!1,r=0){let i=[this];function s(o,a){let l=o.matchFragment(t,r);if(l&&(!n||l.validEnd))return se.from(a.map(u=>u.createAndFill()));for(let u=0;u<o.next.length;u++){let{type:c,next:d}=o.next[u];if(!(c.isText||c.hasRequiredAttrs())&&i.indexOf(d)==-1){i.push(d);let f=s(d,a.concat(c));if(f)return f}}return null}return s(this,[])}findWrapping(t){for(let r=0;r<this.wrapCache.length;r+=2)if(this.wrapCache[r]==t)return this.wrapCache[r+1];let n=this.computeWrapping(t);return this.wrapCache.push(t,n),n}computeWrapping(t){let n=Object.create(null),r=[{match:this,type:null,via:null}];for(;r.length;){let i=r.shift(),s=i.match;if(s.matchType(t)){let o=[];for(let a=i;a.type;a=a.via)o.push(a.type);return o.reverse()}for(let o=0;o<s.next.length;o++){let{type:a,next:l}=s.next[o];!a.isLeaf&&!a.hasRequiredAttrs()&&!(a.name in n)&&(!i.type||l.validEnd)&&(r.push({match:a.contentMatch,type:a,via:i}),n[a.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(t){if(t>=this.next.length)throw new RangeError(`There's no ${t}th edge in this content match`);return this.next[t]}toString(){let t=[];function n(r){t.push(r);for(let i=0;i<r.next.length;i++)t.indexOf(r.next[i].next)==-1&&n(r.next[i].next)}return n(this),t.map((r,i)=>{let s=i+(r.validEnd?"*":" ")+" ";for(let o=0;o<r.next.length;o++)s+=(o?", ":"")+r.next[o].type.name+"->"+t.indexOf(r.next[o].next);return s}).join(`
`)}}Zo.empty=new Zo(!0);class Dse{constructor(t,n){this.string=t,this.nodeTypes=n,this.inline=null,this.pos=0,this.tokens=t.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(t){return this.next==t&&(this.pos++||!0)}err(t){throw new SyntaxError(t+" (in content expression '"+this.string+"')")}}function mM(e){let t=[];do t.push(Mse(e));while(e.eat("|"));return t.length==1?t[0]:{type:"choice",exprs:t}}function Mse(e){let t=[];do t.push(Pse(e));while(e.next&&e.next!=")"&&e.next!="|");return t.length==1?t[0]:{type:"seq",exprs:t}}function Pse(e){let t=Fse(e);for(;;)if(e.eat("+"))t={type:"plus",expr:t};else if(e.eat("*"))t={type:"star",expr:t};else if(e.eat("?"))t={type:"opt",expr:t};else if(e.eat("{"))t=Lse(e,t);else break;return t}function Kx(e){/\D/.test(e.next)&&e.err("Expected number, got '"+e.next+"'");let t=Number(e.next);return e.pos++,t}function Lse(e,t){let n=Kx(e),r=n;return e.eat(",")&&(e.next!="}"?r=Kx(e):r=-1),e.eat("}")||e.err("Unclosed braced range"),{type:"range",min:n,max:r,expr:t}}function Bse(e,t){let n=e.nodeTypes,r=n[t];if(r)return[r];let i=[];for(let s in n){let o=n[s];o.isInGroup(t)&&i.push(o)}return i.length==0&&e.err("No node type or group '"+t+"' found"),i}function Fse(e){if(e.eat("(")){let t=mM(e);return e.eat(")")||e.err("Missing closing paren"),t}else if(/\W/.test(e.next))e.err("Unexpected token '"+e.next+"'");else{let t=Bse(e,e.next).map(n=>(e.inline==null?e.inline=n.isInline:e.inline!=n.isInline&&e.err("Mixing inline and block content"),{type:"name",value:n}));return e.pos++,t.length==1?t[0]:{type:"choice",exprs:t}}}function $se(e){let t=[[]];return i(s(e,0),n()),t;function n(){return t.push([])-1}function r(o,a,l){let u={term:l,to:a};return t[o].push(u),u}function i(o,a){o.forEach(l=>l.to=a)}function s(o,a){if(o.type=="choice")return o.exprs.reduce((l,u)=>l.concat(s(u,a)),[]);if(o.type=="seq")for(let l=0;;l++){let u=s(o.exprs[l],a);if(l==o.exprs.length-1)return u;i(u,a=n())}else if(o.type=="star"){let l=n();return r(a,l),i(s(o.expr,l),l),[r(l)]}else if(o.type=="plus"){let l=n();return i(s(o.expr,a),l),i(s(o.expr,l),l),[r(l)]}else{if(o.type=="opt")return[r(a)].concat(s(o.expr,a));if(o.type=="range"){let l=a;for(let u=0;u<o.min;u++){let c=n();i(s(o.expr,l),c),l=c}if(o.max==-1)i(s(o.expr,l),l);else for(let u=o.min;u<o.max;u++){let c=n();r(l,c),i(s(o.expr,l),c),l=c}return[r(l)]}else{if(o.type=="name")return[r(a,void 0,o.value)];throw new Error("Unknown expr type")}}}}function gM(e,t){return t-e}function Xx(e,t){let n=[];return r(t),n.sort(gM);function r(i){let s=e[i];if(s.length==1&&!s[0].term)return r(s[0].to);n.push(i);for(let o=0;o<s.length;o++){let{term:a,to:l}=s[o];!a&&n.indexOf(l)==-1&&r(l)}}}function Use(e){let t=Object.create(null);return n(Xx(e,0));function n(r){let i=[];r.forEach(o=>{e[o].forEach(({term:a,to:l})=>{if(!a)return;let u;for(let c=0;c<i.length;c++)i[c][0]==a&&(u=i[c][1]);Xx(e,l).forEach(c=>{u||i.push([a,u=[]]),u.indexOf(c)==-1&&u.push(c)})})});let s=t[r.join(",")]=new Zo(r.indexOf(e.length-1)>-1);for(let o=0;o<i.length;o++){let a=i[o][1].sort(gM);s.next.push({type:i[o][0],next:t[a.join(",")]||n(a)})}return s}}function Hse(e,t){for(let n=0,r=[e];n<r.length;n++){let i=r[n],s=!i.validEnd,o=[];for(let a=0;a<i.next.length;a++){let{type:l,next:u}=i.next[a];o.push(l.name),s&&!(l.isText||l.hasRequiredAttrs())&&(s=!1),r.indexOf(u)==-1&&r.push(u)}s&&t.err("Only non-generatable nodes ("+o.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function bM(e){let t=Object.create(null);for(let n in e){let r=e[n];if(!r.hasDefault)return null;t[n]=r.default}return t}function yM(e,t){let n=Object.create(null);for(let r in e){let i=t&&t[r];if(i===void 0){let s=e[r];if(s.hasDefault)i=s.default;else throw new RangeError("No value supplied for attribute "+r)}n[r]=i}return n}function _M(e,t,n,r){for(let i in t)if(!(i in e))throw new RangeError(`Unsupported attribute ${i} for ${n} of type ${i}`);for(let i in e){let s=e[i];s.validate&&s.validate(t[i])}}function EM(e,t){let n=Object.create(null);if(t)for(let r in t)n[r]=new jse(e,r,t[r]);return n}let Qx=class vM{constructor(t,n,r){this.name=t,this.schema=n,this.spec=r,this.markSet=null,this.groups=r.group?r.group.split(" "):[],this.attrs=EM(t,r.attrs),this.defaultAttrs=bM(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(r.inline||t=="text"),this.isText=t=="text"}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==Zo.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}isInGroup(t){return this.groups.indexOf(t)>-1}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let t in this.attrs)if(this.attrs[t].isRequired)return!0;return!1}compatibleContent(t){return this==t||this.contentMatch.compatible(t.contentMatch)}computeAttrs(t){return!t&&this.defaultAttrs?this.defaultAttrs:yM(this.attrs,t)}create(t=null,n,r){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new eo(this,this.computeAttrs(t),se.from(n),ft.setFrom(r))}createChecked(t=null,n,r){return n=se.from(n),this.checkContent(n),new eo(this,this.computeAttrs(t),n,ft.setFrom(r))}createAndFill(t=null,n,r){if(t=this.computeAttrs(t),n=se.from(n),n.size){let o=this.contentMatch.fillBefore(n);if(!o)return null;n=o.append(n)}let i=this.contentMatch.matchFragment(n),s=i&&i.fillBefore(se.empty,!0);return s?new eo(this,t,n.append(s),ft.setFrom(r)):null}validContent(t){let n=this.contentMatch.matchFragment(t);if(!n||!n.validEnd)return!1;for(let r=0;r<t.childCount;r++)if(!this.allowsMarks(t.child(r).marks))return!1;return!0}checkContent(t){if(!this.validContent(t))throw new RangeError(`Invalid content for node ${this.name}: ${t.toString().slice(0,50)}`)}checkAttrs(t){_M(this.attrs,t,"node",this.name)}allowsMarkType(t){return this.markSet==null||this.markSet.indexOf(t)>-1}allowsMarks(t){if(this.markSet==null)return!0;for(let n=0;n<t.length;n++)if(!this.allowsMarkType(t[n].type))return!1;return!0}allowedMarks(t){if(this.markSet==null)return t;let n;for(let r=0;r<t.length;r++)this.allowsMarkType(t[r].type)?n&&n.push(t[r]):n||(n=t.slice(0,r));return n?n.length?n:ft.none:t}static compile(t,n){let r=Object.create(null);t.forEach((s,o)=>r[s]=new vM(s,n,o));let i=n.spec.topNode||"doc";if(!r[i])throw new RangeError("Schema is missing its top node type ('"+i+"')");if(!r.text)throw new RangeError("Every schema needs a 'text' type");for(let s in r.text.attrs)throw new RangeError("The text node type should not have attributes");return r}};function zse(e,t,n){let r=n.split("|");return i=>{let s=i===null?"null":typeof i;if(r.indexOf(s)<0)throw new RangeError(`Expected value of type ${r} for attribute ${t} on type ${e}, got ${s}`)}}class jse{constructor(t,n,r){this.hasDefault=Object.prototype.hasOwnProperty.call(r,"default"),this.default=r.default,this.validate=typeof r.validate=="string"?zse(t,n,r.validate):r.validate}get isRequired(){return!this.hasDefault}}class Zp{constructor(t,n,r,i){this.name=t,this.rank=n,this.schema=r,this.spec=i,this.attrs=EM(t,i.attrs),this.excluded=null;let s=bM(this.attrs);this.instance=s?new ft(this,s):null}create(t=null){return!t&&this.instance?this.instance:new ft(this,yM(this.attrs,t))}static compile(t,n){let r=Object.create(null),i=0;return t.forEach((s,o)=>r[s]=new Zp(s,i++,n,o)),r}removeFromSet(t){for(var n=0;n<t.length;n++)t[n].type==this&&(t=t.slice(0,n).concat(t.slice(n+1)),n--);return t}isInSet(t){for(let n=0;n<t.length;n++)if(t[n].type==this)return t[n]}checkAttrs(t){_M(this.attrs,t,"mark",this.name)}excludes(t){return this.excluded.indexOf(t)>-1}}class qse{constructor(t){this.linebreakReplacement=null,this.cached=Object.create(null);let n=this.spec={};for(let i in t)n[i]=t[i];n.nodes=Bt.from(t.nodes),n.marks=Bt.from(t.marks||{}),this.nodes=Qx.compile(this.spec.nodes,this),this.marks=Zp.compile(this.spec.marks,this);let r=Object.create(null);for(let i in this.nodes){if(i in this.marks)throw new RangeError(i+" can not be both a node and a mark");let s=this.nodes[i],o=s.spec.content||"",a=s.spec.marks;if(s.contentMatch=r[o]||(r[o]=Zo.parse(o,this.nodes)),s.inlineContent=s.contentMatch.inlineContent,s.spec.linebreakReplacement){if(this.linebreakReplacement)throw new RangeError("Multiple linebreak nodes defined");if(!s.isInline||!s.isLeaf)throw new RangeError("Linebreak replacement nodes must be inline leaf nodes");this.linebreakReplacement=s}s.markSet=a=="_"?null:a?Jx(this,a.split(" ")):a==""||!s.inlineContent?[]:null}for(let i in this.marks){let s=this.marks[i],o=s.spec.excludes;s.excluded=o==null?[s]:o==""?[]:Jx(this,o.split(" "))}this.nodeFromJSON=this.nodeFromJSON.bind(this),this.markFromJSON=this.markFromJSON.bind(this),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(t,n=null,r,i){if(typeof t=="string")t=this.nodeType(t);else if(t instanceof Qx){if(t.schema!=this)throw new RangeError("Node type from different schema used ("+t.name+")")}else throw new RangeError("Invalid node type: "+t);return t.createChecked(n,r,i)}text(t,n){let r=this.nodes.text;return new Kf(r,r.defaultAttrs,t,ft.setFrom(n))}mark(t,n){return typeof t=="string"&&(t=this.marks[t]),t.create(n)}nodeFromJSON(t){return eo.fromJSON(this,t)}markFromJSON(t){return ft.fromJSON(this,t)}nodeType(t){let n=this.nodes[t];if(!n)throw new RangeError("Unknown node type: "+t);return n}}function Jx(e,t){let n=[];for(let r=0;r<t.length;r++){let i=t[r],s=e.marks[i],o=s;if(s)n.push(s);else for(let a in e.marks){let l=e.marks[a];(i=="_"||l.spec.group&&l.spec.group.split(" ").indexOf(i)>-1)&&n.push(o=l)}if(!o)throw new SyntaxError("Unknown mark type: '"+t[r]+"'")}return n}function Vse(e){return e.tag!=null}function Wse(e){return e.style!=null}class al{constructor(t,n){this.schema=t,this.rules=n,this.tags=[],this.styles=[];let r=this.matchedStyles=[];n.forEach(i=>{if(Vse(i))this.tags.push(i);else if(Wse(i)){let s=/[^=]*/.exec(i.style)[0];r.indexOf(s)<0&&r.push(s),this.styles.push(i)}}),this.normalizeLists=!this.tags.some(i=>{if(!/^(ul|ol)\b/.test(i.tag)||!i.node)return!1;let s=t.nodes[i.node];return s.contentMatch.matchType(s)})}parse(t,n={}){let r=new eC(this,n,!1);return r.addAll(t,ft.none,n.from,n.to),r.finish()}parseSlice(t,n={}){let r=new eC(this,n,!0);return r.addAll(t,ft.none,n.from,n.to),ge.maxOpen(r.finish())}matchTag(t,n,r){for(let i=r?this.tags.indexOf(r)+1:0;i<this.tags.length;i++){let s=this.tags[i];if(Kse(t,s.tag)&&(s.namespace===void 0||t.namespaceURI==s.namespace)&&(!s.context||n.matchesContext(s.context))){if(s.getAttrs){let o=s.getAttrs(t);if(o===!1)continue;s.attrs=o||void 0}return s}}}matchStyle(t,n,r,i){for(let s=i?this.styles.indexOf(i)+1:0;s<this.styles.length;s++){let o=this.styles[s],a=o.style;if(!(a.indexOf(t)!=0||o.context&&!r.matchesContext(o.context)||a.length>t.length&&(a.charCodeAt(t.length)!=61||a.slice(t.length+1)!=n))){if(o.getAttrs){let l=o.getAttrs(n);if(l===!1)continue;o.attrs=l||void 0}return o}}}static schemaRules(t){let n=[];function r(i){let s=i.priority==null?50:i.priority,o=0;for(;o<n.length;o++){let a=n[o];if((a.priority==null?50:a.priority)<s)break}n.splice(o,0,i)}for(let i in t.marks){let s=t.marks[i].spec.parseDOM;s&&s.forEach(o=>{r(o=tC(o)),o.mark||o.ignore||o.clearMark||(o.mark=i)})}for(let i in t.nodes){let s=t.nodes[i].spec.parseDOM;s&&s.forEach(o=>{r(o=tC(o)),o.node||o.ignore||o.mark||(o.node=i)})}return n}static fromSchema(t){return t.cached.domParser||(t.cached.domParser=new al(t,al.schemaRules(t)))}}const TM={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},Gse={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},wM={ol:!0,ul:!0},gc=1,D1=2,af=4;function Zx(e,t,n){return t!=null?(t?gc:0)|(t==="full"?D1:0):e&&e.whitespace=="pre"?gc|D1:n&-5}class Pd{constructor(t,n,r,i,s,o){this.type=t,this.attrs=n,this.marks=r,this.solid=i,this.options=o,this.content=[],this.activeMarks=ft.none,this.match=s||(o&af?null:t.contentMatch)}findWrapping(t){if(!this.match){if(!this.type)return[];let n=this.type.contentMatch.fillBefore(se.from(t));if(n)this.match=this.type.contentMatch.matchFragment(n);else{let r=this.type.contentMatch,i;return(i=r.findWrapping(t.type))?(this.match=r,i):null}}return this.match.findWrapping(t.type)}finish(t){if(!(this.options&gc)){let r=this.content[this.content.length-1],i;if(r&&r.isText&&(i=/[ \t\r\n\u000c]+$/.exec(r.text))){let s=r;r.text.length==i[0].length?this.content.pop():this.content[this.content.length-1]=s.withText(s.text.slice(0,s.text.length-i[0].length))}}let n=se.from(this.content);return!t&&this.match&&(n=n.append(this.match.fillBefore(se.empty,!0))),this.type?this.type.create(this.attrs,n,this.marks):n}inlineContext(t){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:t.parentNode&&!TM.hasOwnProperty(t.parentNode.nodeName.toLowerCase())}}class eC{constructor(t,n,r){this.parser=t,this.options=n,this.isOpen=r,this.open=0,this.localPreserveWS=!1;let i=n.topNode,s,o=Zx(null,n.preserveWhitespace,0)|(r?af:0);i?s=new Pd(i.type,i.attrs,ft.none,!0,n.topMatch||i.type.contentMatch,o):r?s=new Pd(null,null,ft.none,!0,null,o):s=new Pd(t.schema.topNodeType,null,ft.none,!0,null,o),this.nodes=[s],this.find=n.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(t,n){t.nodeType==3?this.addTextNode(t,n):t.nodeType==1&&this.addElement(t,n)}addTextNode(t,n){let r=t.nodeValue,i=this.top,s=i.options&D1?"full":this.localPreserveWS||(i.options&gc)>0;if(s==="full"||i.inlineContext(t)||/[^ \t\r\n\u000c]/.test(r)){if(s)s!=="full"?r=r.replace(/\r?\n|\r/g," "):r=r.replace(/\r\n?/g,`
`);else if(r=r.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(r)&&this.open==this.nodes.length-1){let o=i.content[i.content.length-1],a=t.previousSibling;(!o||a&&a.nodeName=="BR"||o.isText&&/[ \t\r\n\u000c]$/.test(o.text))&&(r=r.slice(1))}r&&this.insertNode(this.parser.schema.text(r),n),this.findInText(t)}else this.findInside(t)}addElement(t,n,r){let i=this.localPreserveWS,s=this.top;(t.tagName=="PRE"||/pre/.test(t.style&&t.style.whiteSpace))&&(this.localPreserveWS=!0);let o=t.nodeName.toLowerCase(),a;wM.hasOwnProperty(o)&&this.parser.normalizeLists&&Yse(t);let l=this.options.ruleFromNode&&this.options.ruleFromNode(t)||(a=this.parser.matchTag(t,this,r));e:if(l?l.ignore:Gse.hasOwnProperty(o))this.findInside(t),this.ignoreFallback(t,n);else if(!l||l.skip||l.closeParent){l&&l.closeParent?this.open=Math.max(0,this.open-1):l&&l.skip.nodeType&&(t=l.skip);let u,c=this.needsBlock;if(TM.hasOwnProperty(o))s.content.length&&s.content[0].isInline&&this.open&&(this.open--,s=this.top),u=!0,s.type||(this.needsBlock=!0);else if(!t.firstChild){this.leafFallback(t,n);break e}let d=l&&l.skip?n:this.readStyles(t,n);d&&this.addAll(t,d),u&&this.sync(s),this.needsBlock=c}else{let u=this.readStyles(t,n);u&&this.addElementByRule(t,l,u,l.consuming===!1?a:void 0)}this.localPreserveWS=i}leafFallback(t,n){t.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(t.ownerDocument.createTextNode(`
`),n)}ignoreFallback(t,n){t.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"),n)}readStyles(t,n){let r=t.style;if(r&&r.length)for(let i=0;i<this.parser.matchedStyles.length;i++){let s=this.parser.matchedStyles[i],o=r.getPropertyValue(s);if(o)for(let a=void 0;;){let l=this.parser.matchStyle(s,o,this,a);if(!l)break;if(l.ignore)return null;if(l.clearMark?n=n.filter(u=>!l.clearMark(u)):n=n.concat(this.parser.schema.marks[l.mark].create(l.attrs)),l.consuming===!1)a=l;else break}}return n}addElementByRule(t,n,r,i){let s,o;if(n.node)if(o=this.parser.schema.nodes[n.node],o.isLeaf)this.insertNode(o.create(n.attrs),r)||this.leafFallback(t,r);else{let l=this.enter(o,n.attrs||null,r,n.preserveWhitespace);l&&(s=!0,r=l)}else{let l=this.parser.schema.marks[n.mark];r=r.concat(l.create(n.attrs))}let a=this.top;if(o&&o.isLeaf)this.findInside(t);else if(i)this.addElement(t,r,i);else if(n.getContent)this.findInside(t),n.getContent(t,this.parser.schema).forEach(l=>this.insertNode(l,r));else{let l=t;typeof n.contentElement=="string"?l=t.querySelector(n.contentElement):typeof n.contentElement=="function"?l=n.contentElement(t):n.contentElement&&(l=n.contentElement),this.findAround(t,l,!0),this.addAll(l,r),this.findAround(t,l,!1)}s&&this.sync(a)&&this.open--}addAll(t,n,r,i){let s=r||0;for(let o=r?t.childNodes[r]:t.firstChild,a=i==null?null:t.childNodes[i];o!=a;o=o.nextSibling,++s)this.findAtPoint(t,s),this.addDOM(o,n);this.findAtPoint(t,s)}findPlace(t,n){let r,i;for(let s=this.open;s>=0;s--){let o=this.nodes[s],a=o.findWrapping(t);if(a&&(!r||r.length>a.length)&&(r=a,i=o,!a.length)||o.solid)break}if(!r)return null;this.sync(i);for(let s=0;s<r.length;s++)n=this.enterInner(r[s],null,n,!1);return n}insertNode(t,n){if(t.isInline&&this.needsBlock&&!this.top.type){let i=this.textblockFromContext();i&&(n=this.enterInner(i,null,n))}let r=this.findPlace(t,n);if(r){this.closeExtra();let i=this.top;i.match&&(i.match=i.match.matchType(t.type));let s=ft.none;for(let o of r.concat(t.marks))(i.type?i.type.allowsMarkType(o.type):nC(o.type,t.type))&&(s=o.addToSet(s));return i.content.push(t.mark(s)),!0}return!1}enter(t,n,r,i){let s=this.findPlace(t.create(n),r);return s&&(s=this.enterInner(t,n,r,!0,i)),s}enterInner(t,n,r,i=!1,s){this.closeExtra();let o=this.top;o.match=o.match&&o.match.matchType(t);let a=Zx(t,s,o.options);o.options&af&&o.content.length==0&&(a|=af);let l=ft.none;return r=r.filter(u=>(o.type?o.type.allowsMarkType(u.type):nC(u.type,t))?(l=u.addToSet(l),!1):!0),this.nodes.push(new Pd(t,n,l,i,null,a)),this.open++,r}closeExtra(t=!1){let n=this.nodes.length-1;if(n>this.open){for(;n>this.open;n--)this.nodes[n-1].content.push(this.nodes[n].finish(t));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(!!(this.isOpen||this.options.topOpen))}sync(t){for(let n=this.open;n>=0;n--){if(this.nodes[n]==t)return this.open=n,!0;this.localPreserveWS&&(this.nodes[n].options|=gc)}return!1}get currentPos(){this.closeExtra();let t=0;for(let n=this.open;n>=0;n--){let r=this.nodes[n].content;for(let i=r.length-1;i>=0;i--)t+=r[i].nodeSize;n&&t++}return t}findAtPoint(t,n){if(this.find)for(let r=0;r<this.find.length;r++)this.find[r].node==t&&this.find[r].offset==n&&(this.find[r].pos=this.currentPos)}findInside(t){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].pos==null&&t.nodeType==1&&t.contains(this.find[n].node)&&(this.find[n].pos=this.currentPos)}findAround(t,n,r){if(t!=n&&this.find)for(let i=0;i<this.find.length;i++)this.find[i].pos==null&&t.nodeType==1&&t.contains(this.find[i].node)&&n.compareDocumentPosition(this.find[i].node)&(r?2:4)&&(this.find[i].pos=this.currentPos)}findInText(t){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].node==t&&(this.find[n].pos=this.currentPos-(t.nodeValue.length-this.find[n].offset))}matchesContext(t){if(t.indexOf("|")>-1)return t.split(/\s*\|\s*/).some(this.matchesContext,this);let n=t.split("/"),r=this.options.context,i=!this.isOpen&&(!r||r.parent.type==this.nodes[0].type),s=-(r?r.depth+1:0)+(i?0:1),o=(a,l)=>{for(;a>=0;a--){let u=n[a];if(u==""){if(a==n.length-1||a==0)continue;for(;l>=s;l--)if(o(a-1,l))return!0;return!1}else{let c=l>0||l==0&&i?this.nodes[l].type:r&&l>=s?r.node(l-s).type:null;if(!c||c.name!=u&&!c.isInGroup(u))return!1;l--}}return!0};return o(n.length-1,this.open)}textblockFromContext(){let t=this.options.context;if(t)for(let n=t.depth;n>=0;n--){let r=t.node(n).contentMatchAt(t.indexAfter(n)).defaultType;if(r&&r.isTextblock&&r.defaultAttrs)return r}for(let n in this.parser.schema.nodes){let r=this.parser.schema.nodes[n];if(r.isTextblock&&r.defaultAttrs)return r}}}function Yse(e){for(let t=e.firstChild,n=null;t;t=t.nextSibling){let r=t.nodeType==1?t.nodeName.toLowerCase():null;r&&wM.hasOwnProperty(r)&&n?(n.appendChild(t),t=n):r=="li"?n=t:r&&(n=null)}}function Kse(e,t){return(e.matches||e.msMatchesSelector||e.webkitMatchesSelector||e.mozMatchesSelector).call(e,t)}function tC(e){let t={};for(let n in e)t[n]=e[n];return t}function nC(e,t){let n=t.schema.nodes;for(let r in n){let i=n[r];if(!i.allowsMarkType(e))continue;let s=[],o=a=>{s.push(a);for(let l=0;l<a.edgeCount;l++){let{type:u,next:c}=a.edge(l);if(u==t||s.indexOf(c)<0&&o(c))return!0}};if(o(i.contentMatch))return!0}}class si{constructor(t,n){this.nodes=t,this.marks=n}serializeFragment(t,n={},r){r||(r=Rm(n).createDocumentFragment());let i=r,s=[];return t.forEach(o=>{if(s.length||o.marks.length){let a=0,l=0;for(;a<s.length&&l<o.marks.length;){let u=o.marks[l];if(!this.marks[u.type.name]){l++;continue}if(!u.eq(s[a][0])||u.type.spec.spanning===!1)break;a++,l++}for(;a<s.length;)i=s.pop()[1];for(;l<o.marks.length;){let u=o.marks[l++],c=this.serializeMark(u,o.isInline,n);c&&(s.push([u,i]),i.appendChild(c.dom),i=c.contentDOM||c.dom)}}i.appendChild(this.serializeNodeInner(o,n))}),r}serializeNodeInner(t,n){let{dom:r,contentDOM:i}=lf(Rm(n),this.nodes[t.type.name](t),null,t.attrs);if(i){if(t.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(t.content,n,i)}return r}serializeNode(t,n={}){let r=this.serializeNodeInner(t,n);for(let i=t.marks.length-1;i>=0;i--){let s=this.serializeMark(t.marks[i],t.isInline,n);s&&((s.contentDOM||s.dom).appendChild(r),r=s.dom)}return r}serializeMark(t,n,r={}){let i=this.marks[t.type.name];return i&&lf(Rm(r),i(t,n),null,t.attrs)}static renderSpec(t,n,r=null,i){return lf(t,n,r,i)}static fromSchema(t){return t.cached.domSerializer||(t.cached.domSerializer=new si(this.nodesFromSchema(t),this.marksFromSchema(t)))}static nodesFromSchema(t){let n=rC(t.nodes);return n.text||(n.text=r=>r.text),n}static marksFromSchema(t){return rC(t.marks)}}function rC(e){let t={};for(let n in e){let r=e[n].spec.toDOM;r&&(t[n]=r)}return t}function Rm(e){return e.document||window.document}const iC=new WeakMap;function Xse(e){let t=iC.get(e);return t===void 0&&iC.set(e,t=Qse(e)),t}function Qse(e){let t=null;function n(r){if(r&&typeof r=="object")if(Array.isArray(r))if(typeof r[0]=="string")t||(t=[]),t.push(r);else for(let i=0;i<r.length;i++)n(r[i]);else for(let i in r)n(r[i])}return n(e),t}function lf(e,t,n,r){if(typeof t=="string")return{dom:e.createTextNode(t)};if(t.nodeType!=null)return{dom:t};if(t.dom&&t.dom.nodeType!=null)return t;let i=t[0],s;if(typeof i!="string")throw new RangeError("Invalid array passed to renderSpec");if(r&&(s=Xse(r))&&s.indexOf(t)>-1)throw new RangeError("Using an array from an attribute object as a DOM spec. This may be an attempted cross site scripting attack.");let o=i.indexOf(" ");o>0&&(n=i.slice(0,o),i=i.slice(o+1));let a,l=n?e.createElementNS(n,i):e.createElement(i),u=t[1],c=1;if(u&&typeof u=="object"&&u.nodeType==null&&!Array.isArray(u)){c=2;for(let d in u)if(u[d]!=null){let f=d.indexOf(" ");f>0?l.setAttributeNS(d.slice(0,f),d.slice(f+1),u[d]):l.setAttribute(d,u[d])}}for(let d=c;d<t.length;d++){let f=t[d];if(f===0){if(d<t.length-1||d>c)throw new RangeError("Content hole must be the only child of its parent node");return{dom:l,contentDOM:l}}else{let{dom:p,contentDOM:m}=lf(e,f,n,r);if(l.appendChild(p),m){if(a)throw new RangeError("Multiple content holes");a=m}}}return{dom:l,contentDOM:a}}const xM=65535,CM=Math.pow(2,16);function Jse(e,t){return e+t*CM}function sC(e){return e&xM}function Zse(e){return(e-(e&xM))/CM}const SM=1,AM=2,uf=4,OM=8;class M1{constructor(t,n,r){this.pos=t,this.delInfo=n,this.recover=r}get deleted(){return(this.delInfo&OM)>0}get deletedBefore(){return(this.delInfo&(SM|uf))>0}get deletedAfter(){return(this.delInfo&(AM|uf))>0}get deletedAcross(){return(this.delInfo&uf)>0}}class dr{constructor(t,n=!1){if(this.ranges=t,this.inverted=n,!t.length&&dr.empty)return dr.empty}recover(t){let n=0,r=sC(t);if(!this.inverted)for(let i=0;i<r;i++)n+=this.ranges[i*3+2]-this.ranges[i*3+1];return this.ranges[r*3]+n+Zse(t)}mapResult(t,n=1){return this._map(t,n,!1)}map(t,n=1){return this._map(t,n,!0)}_map(t,n,r){let i=0,s=this.inverted?2:1,o=this.inverted?1:2;for(let a=0;a<this.ranges.length;a+=3){let l=this.ranges[a]-(this.inverted?i:0);if(l>t)break;let u=this.ranges[a+s],c=this.ranges[a+o],d=l+u;if(t<=d){let f=u?t==l?-1:t==d?1:n:n,p=l+i+(f<0?0:c);if(r)return p;let m=t==(n<0?l:d)?null:Jse(a/3,t-l),g=t==l?AM:t==d?SM:uf;return(n<0?t!=l:t!=d)&&(g|=OM),new M1(p,g,m)}i+=c-u}return r?t+i:new M1(t+i,0,null)}touches(t,n){let r=0,i=sC(n),s=this.inverted?2:1,o=this.inverted?1:2;for(let a=0;a<this.ranges.length;a+=3){let l=this.ranges[a]-(this.inverted?r:0);if(l>t)break;let u=this.ranges[a+s],c=l+u;if(t<=c&&a==i*3)return!0;r+=this.ranges[a+o]-u}return!1}forEach(t){let n=this.inverted?2:1,r=this.inverted?1:2;for(let i=0,s=0;i<this.ranges.length;i+=3){let o=this.ranges[i],a=o-(this.inverted?s:0),l=o+(this.inverted?0:s),u=this.ranges[i+n],c=this.ranges[i+r];t(a,a+u,l,l+c),s+=c-u}}invert(){return new dr(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(t){return t==0?dr.empty:new dr(t<0?[0,-t,0]:[0,0,t])}}dr.empty=new dr([]);class Wa{constructor(t=[],n,r=0,i=t.length){this.maps=t,this.mirror=n,this.from=r,this.to=i}slice(t=0,n=this.maps.length){return new Wa(this.maps,this.mirror,t,n)}copy(){return new Wa(this.maps.slice(),this.mirror&&this.mirror.slice(),this.from,this.to)}appendMap(t,n){this.to=this.maps.push(t),n!=null&&this.setMirror(this.maps.length-1,n)}appendMapping(t){for(let n=0,r=this.maps.length;n<t.maps.length;n++){let i=t.getMirror(n);this.appendMap(t.maps[n],i!=null&&i<n?r+i:void 0)}}getMirror(t){if(this.mirror){for(let n=0;n<this.mirror.length;n++)if(this.mirror[n]==t)return this.mirror[n+(n%2?-1:1)]}}setMirror(t,n){this.mirror||(this.mirror=[]),this.mirror.push(t,n)}appendMappingInverted(t){for(let n=t.maps.length-1,r=this.maps.length+t.maps.length;n>=0;n--){let i=t.getMirror(n);this.appendMap(t.maps[n].invert(),i!=null&&i>n?r-i-1:void 0)}}invert(){let t=new Wa;return t.appendMappingInverted(this),t}map(t,n=1){if(this.mirror)return this._map(t,n,!0);for(let r=this.from;r<this.to;r++)t=this.maps[r].map(t,n);return t}mapResult(t,n=1){return this._map(t,n,!1)}_map(t,n,r){let i=0;for(let s=this.from;s<this.to;s++){let o=this.maps[s],a=o.mapResult(t,n);if(a.recover!=null){let l=this.getMirror(s);if(l!=null&&l>s&&l<this.to){s=l,t=this.maps[l].recover(a.recover);continue}}i|=a.delInfo,t=a.pos}return r?t:new M1(t,i,null)}}const Dm=Object.create(null);class Mn{getMap(){return dr.empty}merge(t){return null}static fromJSON(t,n){if(!n||!n.stepType)throw new RangeError("Invalid input for Step.fromJSON");let r=Dm[n.stepType];if(!r)throw new RangeError(`No step type ${n.stepType} defined`);return r.fromJSON(t,n)}static jsonID(t,n){if(t in Dm)throw new RangeError("Duplicate use of step JSON ID "+t);return Dm[t]=n,n.prototype.jsonID=t,n}}class Gt{constructor(t,n){this.doc=t,this.failed=n}static ok(t){return new Gt(t,null)}static fail(t){return new Gt(null,t)}static fromReplace(t,n,r,i){try{return Gt.ok(t.replace(n,r,i))}catch(s){if(s instanceof Gf)return Gt.fail(s.message);throw s}}}function q_(e,t,n){let r=[];for(let i=0;i<e.childCount;i++){let s=e.child(i);s.content.size&&(s=s.copy(q_(s.content,t,s))),s.isInline&&(s=t(s,n,i)),r.push(s)}return se.fromArray(r)}class Ks extends Mn{constructor(t,n,r){super(),this.from=t,this.to=n,this.mark=r}apply(t){let n=t.slice(this.from,this.to),r=t.resolve(this.from),i=r.node(r.sharedDepth(this.to)),s=new ge(q_(n.content,(o,a)=>!o.isAtom||!a.type.allowsMarkType(this.mark.type)?o:o.mark(this.mark.addToSet(o.marks)),i),n.openStart,n.openEnd);return Gt.fromReplace(t,this.from,this.to,s)}invert(){return new Ii(this.from,this.to,this.mark)}map(t){let n=t.mapResult(this.from,1),r=t.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new Ks(n.pos,r.pos,this.mark)}merge(t){return t instanceof Ks&&t.mark.eq(this.mark)&&this.from<=t.to&&this.to>=t.from?new Ks(Math.min(this.from,t.from),Math.max(this.to,t.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(t,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new Ks(n.from,n.to,t.markFromJSON(n.mark))}}Mn.jsonID("addMark",Ks);class Ii extends Mn{constructor(t,n,r){super(),this.from=t,this.to=n,this.mark=r}apply(t){let n=t.slice(this.from,this.to),r=new ge(q_(n.content,i=>i.mark(this.mark.removeFromSet(i.marks)),t),n.openStart,n.openEnd);return Gt.fromReplace(t,this.from,this.to,r)}invert(){return new Ks(this.from,this.to,this.mark)}map(t){let n=t.mapResult(this.from,1),r=t.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new Ii(n.pos,r.pos,this.mark)}merge(t){return t instanceof Ii&&t.mark.eq(this.mark)&&this.from<=t.to&&this.to>=t.from?new Ii(Math.min(this.from,t.from),Math.max(this.to,t.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(t,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new Ii(n.from,n.to,t.markFromJSON(n.mark))}}Mn.jsonID("removeMark",Ii);class Xs extends Mn{constructor(t,n){super(),this.pos=t,this.mark=n}apply(t){let n=t.nodeAt(this.pos);if(!n)return Gt.fail("No node at mark step's position");let r=n.type.create(n.attrs,null,this.mark.addToSet(n.marks));return Gt.fromReplace(t,this.pos,this.pos+1,new ge(se.from(r),0,n.isLeaf?0:1))}invert(t){let n=t.nodeAt(this.pos);if(n){let r=this.mark.addToSet(n.marks);if(r.length==n.marks.length){for(let i=0;i<n.marks.length;i++)if(!n.marks[i].isInSet(r))return new Xs(this.pos,n.marks[i]);return new Xs(this.pos,this.mark)}}return new ll(this.pos,this.mark)}map(t){let n=t.mapResult(this.pos,1);return n.deletedAfter?null:new Xs(n.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(t,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new Xs(n.pos,t.markFromJSON(n.mark))}}Mn.jsonID("addNodeMark",Xs);class ll extends Mn{constructor(t,n){super(),this.pos=t,this.mark=n}apply(t){let n=t.nodeAt(this.pos);if(!n)return Gt.fail("No node at mark step's position");let r=n.type.create(n.attrs,null,this.mark.removeFromSet(n.marks));return Gt.fromReplace(t,this.pos,this.pos+1,new ge(se.from(r),0,n.isLeaf?0:1))}invert(t){let n=t.nodeAt(this.pos);return!n||!this.mark.isInSet(n.marks)?this:new Xs(this.pos,this.mark)}map(t){let n=t.mapResult(this.pos,1);return n.deletedAfter?null:new ll(n.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(t,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new ll(n.pos,t.markFromJSON(n.mark))}}Mn.jsonID("removeNodeMark",ll);class ln extends Mn{constructor(t,n,r,i=!1){super(),this.from=t,this.to=n,this.slice=r,this.structure=i}apply(t){return this.structure&&P1(t,this.from,this.to)?Gt.fail("Structure replace would overwrite content"):Gt.fromReplace(t,this.from,this.to,this.slice)}getMap(){return new dr([this.from,this.to-this.from,this.slice.size])}invert(t){return new ln(this.from,this.from+this.slice.size,t.slice(this.from,this.to))}map(t){let n=t.mapResult(this.from,1),r=t.mapResult(this.to,-1);return n.deletedAcross&&r.deletedAcross?null:new ln(n.pos,Math.max(n.pos,r.pos),this.slice)}merge(t){if(!(t instanceof ln)||t.structure||this.structure)return null;if(this.from+this.slice.size==t.from&&!this.slice.openEnd&&!t.slice.openStart){let n=this.slice.size+t.slice.size==0?ge.empty:new ge(this.slice.content.append(t.slice.content),this.slice.openStart,t.slice.openEnd);return new ln(this.from,this.to+(t.to-t.from),n,this.structure)}else if(t.to==this.from&&!this.slice.openStart&&!t.slice.openEnd){let n=this.slice.size+t.slice.size==0?ge.empty:new ge(t.slice.content.append(this.slice.content),t.slice.openStart,this.slice.openEnd);return new ln(t.from,this.to,n,this.structure)}else return null}toJSON(){let t={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(t.slice=this.slice.toJSON()),this.structure&&(t.structure=!0),t}static fromJSON(t,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new ln(n.from,n.to,ge.fromJSON(t,n.slice),!!n.structure)}}Mn.jsonID("replace",ln);class Jt extends Mn{constructor(t,n,r,i,s,o,a=!1){super(),this.from=t,this.to=n,this.gapFrom=r,this.gapTo=i,this.slice=s,this.insert=o,this.structure=a}apply(t){if(this.structure&&(P1(t,this.from,this.gapFrom)||P1(t,this.gapTo,this.to)))return Gt.fail("Structure gap-replace would overwrite content");let n=t.slice(this.gapFrom,this.gapTo);if(n.openStart||n.openEnd)return Gt.fail("Gap is not a flat range");let r=this.slice.insertAt(this.insert,n.content);return r?Gt.fromReplace(t,this.from,this.to,r):Gt.fail("Content does not fit in gap")}getMap(){return new dr([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(t){let n=this.gapTo-this.gapFrom;return new Jt(this.from,this.from+this.slice.size+n,this.from+this.insert,this.from+this.insert+n,t.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(t){let n=t.mapResult(this.from,1),r=t.mapResult(this.to,-1),i=this.from==this.gapFrom?n.pos:t.map(this.gapFrom,-1),s=this.to==this.gapTo?r.pos:t.map(this.gapTo,1);return n.deletedAcross&&r.deletedAcross||i<n.pos||s>r.pos?null:new Jt(n.pos,r.pos,i,s,this.slice,this.insert,this.structure)}toJSON(){let t={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(t.slice=this.slice.toJSON()),this.structure&&(t.structure=!0),t}static fromJSON(t,n){if(typeof n.from!="number"||typeof n.to!="number"||typeof n.gapFrom!="number"||typeof n.gapTo!="number"||typeof n.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new Jt(n.from,n.to,n.gapFrom,n.gapTo,ge.fromJSON(t,n.slice),n.insert,!!n.structure)}}Mn.jsonID("replaceAround",Jt);function P1(e,t,n){let r=e.resolve(t),i=n-t,s=r.depth;for(;i>0&&s>0&&r.indexAfter(s)==r.node(s).childCount;)s--,i--;if(i>0){let o=r.node(s).maybeChild(r.indexAfter(s));for(;i>0;){if(!o||o.isLeaf)return!0;o=o.firstChild,i--}}return!1}function eoe(e,t,n,r){let i=[],s=[],o,a;e.doc.nodesBetween(t,n,(l,u,c)=>{if(!l.isInline)return;let d=l.marks;if(!r.isInSet(d)&&c.type.allowsMarkType(r.type)){let f=Math.max(u,t),p=Math.min(u+l.nodeSize,n),m=r.addToSet(d);for(let g=0;g<d.length;g++)d[g].isInSet(m)||(o&&o.to==f&&o.mark.eq(d[g])?o.to=p:i.push(o=new Ii(f,p,d[g])));a&&a.to==f?a.to=p:s.push(a=new Ks(f,p,r))}}),i.forEach(l=>e.step(l)),s.forEach(l=>e.step(l))}function toe(e,t,n,r){let i=[],s=0;e.doc.nodesBetween(t,n,(o,a)=>{if(!o.isInline)return;s++;let l=null;if(r instanceof Zp){let u=o.marks,c;for(;c=r.isInSet(u);)(l||(l=[])).push(c),u=c.removeFromSet(u)}else r?r.isInSet(o.marks)&&(l=[r]):l=o.marks;if(l&&l.length){let u=Math.min(a+o.nodeSize,n);for(let c=0;c<l.length;c++){let d=l[c],f;for(let p=0;p<i.length;p++){let m=i[p];m.step==s-1&&d.eq(i[p].style)&&(f=m)}f?(f.to=u,f.step=s):i.push({style:d,from:Math.max(a,t),to:u,step:s})}}}),i.forEach(o=>e.step(new Ii(o.from,o.to,o.style)))}function V_(e,t,n,r=n.contentMatch,i=!0){let s=e.doc.nodeAt(t),o=[],a=t+1;for(let l=0;l<s.childCount;l++){let u=s.child(l),c=a+u.nodeSize,d=r.matchType(u.type);if(!d)o.push(new ln(a,c,ge.empty));else{r=d;for(let f=0;f<u.marks.length;f++)n.allowsMarkType(u.marks[f].type)||e.step(new Ii(a,c,u.marks[f]));if(i&&u.isText&&n.whitespace!="pre"){let f,p=/\r?\n|\r/g,m;for(;f=p.exec(u.text);)m||(m=new ge(se.from(n.schema.text(" ",n.allowedMarks(u.marks))),0,0)),o.push(new ln(a+f.index,a+f.index+f[0].length,m))}}a=c}if(!r.validEnd){let l=r.fillBefore(se.empty,!0);e.replace(a,a,new ge(l,0,0))}for(let l=o.length-1;l>=0;l--)e.step(o[l])}function noe(e,t,n){return(t==0||e.canReplace(t,e.childCount))&&(n==e.childCount||e.canReplace(0,n))}function Xc(e){let n=e.parent.content.cutByIndex(e.startIndex,e.endIndex);for(let r=e.depth;;--r){let i=e.$from.node(r),s=e.$from.index(r),o=e.$to.indexAfter(r);if(r<e.depth&&i.canReplace(s,o,n))return r;if(r==0||i.type.spec.isolating||!noe(i,s,o))break}return null}function roe(e,t,n){let{$from:r,$to:i,depth:s}=t,o=r.before(s+1),a=i.after(s+1),l=o,u=a,c=se.empty,d=0;for(let m=s,g=!1;m>n;m--)g||r.index(m)>0?(g=!0,c=se.from(r.node(m).copy(c)),d++):l--;let f=se.empty,p=0;for(let m=s,g=!1;m>n;m--)g||i.after(m+1)<i.end(m)?(g=!0,f=se.from(i.node(m).copy(f)),p++):u++;e.step(new Jt(l,u,o,a,new ge(c.append(f),d,p),c.size-d,!0))}function eh(e,t,n=null,r=e){let i=ioe(e,t),s=i&&soe(r,t);return s?i.map(oC).concat({type:t,attrs:n}).concat(s.map(oC)):null}function oC(e){return{type:e,attrs:null}}function ioe(e,t){let{parent:n,startIndex:r,endIndex:i}=e,s=n.contentMatchAt(r).findWrapping(t);if(!s)return null;let o=s.length?s[0]:t;return n.canReplaceWith(r,i,o)?s:null}function soe(e,t){let{parent:n,startIndex:r,endIndex:i}=e,s=n.child(r),o=t.contentMatch.findWrapping(s.type);if(!o)return null;let l=(o.length?o[o.length-1]:t).contentMatch;for(let u=r;l&&u<i;u++)l=l.matchType(n.child(u).type);return!l||!l.validEnd?null:o}function ooe(e,t,n){let r=se.empty;for(let o=n.length-1;o>=0;o--){if(r.size){let a=n[o].type.contentMatch.matchFragment(r);if(!a||!a.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}r=se.from(n[o].type.create(n[o].attrs,r))}let i=t.start,s=t.end;e.step(new Jt(i,s,i,s,new ge(r,0,0),n.length,!0))}function aoe(e,t,n,r,i){if(!r.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let s=e.steps.length;e.doc.nodesBetween(t,n,(o,a)=>{let l=typeof i=="function"?i(o):i;if(o.isTextblock&&!o.hasMarkup(r,l)&&loe(e.doc,e.mapping.slice(s).map(a),r)){let u=null;if(r.schema.linebreakReplacement){let p=r.whitespace=="pre",m=!!r.contentMatch.matchType(r.schema.linebreakReplacement);p&&!m?u=!1:!p&&m&&(u=!0)}u===!1&&IM(e,o,a,s),V_(e,e.mapping.slice(s).map(a,1),r,void 0,u===null);let c=e.mapping.slice(s),d=c.map(a,1),f=c.map(a+o.nodeSize,1);return e.step(new Jt(d,f,d+1,f-1,new ge(se.from(r.create(l,null,o.marks)),0,0),1,!0)),u===!0&&kM(e,o,a,s),!1}})}function kM(e,t,n,r){t.forEach((i,s)=>{if(i.isText){let o,a=/\r?\n|\r/g;for(;o=a.exec(i.text);){let l=e.mapping.slice(r).map(n+1+s+o.index);e.replaceWith(l,l+1,t.type.schema.linebreakReplacement.create())}}})}function IM(e,t,n,r){t.forEach((i,s)=>{if(i.type==i.type.schema.linebreakReplacement){let o=e.mapping.slice(r).map(n+1+s);e.replaceWith(o,o+1,t.type.schema.text(`
`))}})}function loe(e,t,n){let r=e.resolve(t),i=r.index();return r.parent.canReplaceWith(i,i+1,n)}function uoe(e,t,n,r,i){let s=e.doc.nodeAt(t);if(!s)throw new RangeError("No node at given position");n||(n=s.type);let o=n.create(r,null,i||s.marks);if(s.isLeaf)return e.replaceWith(t,t+s.nodeSize,o);if(!n.validContent(s.content))throw new RangeError("Invalid content for node type "+n.name);e.step(new Jt(t,t+s.nodeSize,t+1,t+s.nodeSize-1,new ge(se.from(o),0,0),1,!0))}function ds(e,t,n=1,r){let i=e.resolve(t),s=i.depth-n,o=r&&r[r.length-1]||i.parent;if(s<0||i.parent.type.spec.isolating||!i.parent.canReplace(i.index(),i.parent.childCount)||!o.type.validContent(i.parent.content.cutByIndex(i.index(),i.parent.childCount)))return!1;for(let u=i.depth-1,c=n-2;u>s;u--,c--){let d=i.node(u),f=i.index(u);if(d.type.spec.isolating)return!1;let p=d.content.cutByIndex(f,d.childCount),m=r&&r[c+1];m&&(p=p.replaceChild(0,m.type.create(m.attrs)));let g=r&&r[c]||d;if(!d.canReplace(f+1,d.childCount)||!g.type.validContent(p))return!1}let a=i.indexAfter(s),l=r&&r[0];return i.node(s).canReplaceWith(a,a,l?l.type:i.node(s+1).type)}function coe(e,t,n=1,r){let i=e.doc.resolve(t),s=se.empty,o=se.empty;for(let a=i.depth,l=i.depth-n,u=n-1;a>l;a--,u--){s=se.from(i.node(a).copy(s));let c=r&&r[u];o=se.from(c?c.type.create(c.attrs,o):i.node(a).copy(o))}e.step(new ln(t,t,new ge(s.append(o),n,n),!0))}function th(e,t){let n=e.resolve(t),r=n.index();return foe(n.nodeBefore,n.nodeAfter)&&n.parent.canReplace(r,r+1)}function doe(e,t){t.content.size||e.type.compatibleContent(t.type);let n=e.contentMatchAt(e.childCount),{linebreakReplacement:r}=e.type.schema;for(let i=0;i<t.childCount;i++){let s=t.child(i),o=s.type==r?e.type.schema.nodes.text:s.type;if(n=n.matchType(o),!n||!e.type.allowsMarks(s.marks))return!1}return n.validEnd}function foe(e,t){return!!(e&&t&&!e.isLeaf&&doe(e,t))}function poe(e,t,n){let r=null,{linebreakReplacement:i}=e.doc.type.schema,s=e.doc.resolve(t-n),o=s.node().type;if(i&&o.inlineContent){let c=o.whitespace=="pre",d=!!o.contentMatch.matchType(i);c&&!d?r=!1:!c&&d&&(r=!0)}let a=e.steps.length;if(r===!1){let c=e.doc.resolve(t+n);IM(e,c.node(),c.before(),a)}o.inlineContent&&V_(e,t+n-1,o,s.node().contentMatchAt(s.index()),r==null);let l=e.mapping.slice(a),u=l.map(t-n);if(e.step(new ln(u,l.map(t+n,-1),ge.empty,!0)),r===!0){let c=e.doc.resolve(u);kM(e,c.node(),c.before(),e.steps.length)}return e}function NM(e,t,n){let r=e.resolve(t);if(r.parent.canReplaceWith(r.index(),r.index(),n))return t;if(r.parentOffset==0)for(let i=r.depth-1;i>=0;i--){let s=r.index(i);if(r.node(i).canReplaceWith(s,s,n))return r.before(i+1);if(s>0)return null}if(r.parentOffset==r.parent.content.size)for(let i=r.depth-1;i>=0;i--){let s=r.indexAfter(i);if(r.node(i).canReplaceWith(s,s,n))return r.after(i+1);if(s<r.node(i).childCount)return null}return null}function RM(e,t,n){let r=e.resolve(t);if(!n.content.size)return t;let i=n.content;for(let s=0;s<n.openStart;s++)i=i.firstChild.content;for(let s=1;s<=(n.openStart==0&&n.size?2:1);s++)for(let o=r.depth;o>=0;o--){let a=o==r.depth?0:r.pos<=(r.start(o+1)+r.end(o+1))/2?-1:1,l=r.index(o)+(a>0?1:0),u=r.node(o),c=!1;if(s==1)c=u.canReplace(l,l,i);else{let d=u.contentMatchAt(l).findWrapping(i.firstChild.type);c=d&&u.canReplaceWith(l,l,d[0])}if(c)return a==0?r.pos:a<0?r.before(o+1):r.after(o+1)}return null}function Qc(e,t,n=t,r=ge.empty){if(t==n&&!r.size)return null;let i=e.resolve(t),s=e.resolve(n);return DM(i,s,r)?new ln(t,n,r):new hoe(i,s,r).fit()}function DM(e,t,n){return!n.openStart&&!n.openEnd&&e.start()==t.start()&&e.parent.canReplace(e.index(),t.index(),n.content)}class hoe{constructor(t,n,r){this.$from=t,this.$to=n,this.unplaced=r,this.frontier=[],this.placed=se.empty;for(let i=0;i<=t.depth;i++){let s=t.node(i);this.frontier.push({type:s.type,match:s.contentMatchAt(t.indexAfter(i))})}for(let i=t.depth;i>0;i--)this.placed=se.from(t.node(i).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let u=this.findFittable();u?this.placeNodes(u):this.openMore()||this.dropNode()}let t=this.mustMoveInline(),n=this.placed.size-this.depth-this.$from.depth,r=this.$from,i=this.close(t<0?this.$to:r.doc.resolve(t));if(!i)return null;let s=this.placed,o=r.depth,a=i.depth;for(;o&&a&&s.childCount==1;)s=s.firstChild.content,o--,a--;let l=new ge(s,o,a);return t>-1?new Jt(r.pos,t,this.$to.pos,this.$to.end(),l,n):l.size||r.pos!=this.$to.pos?new ln(r.pos,i.pos,l):null}findFittable(){let t=this.unplaced.openStart;for(let n=this.unplaced.content,r=0,i=this.unplaced.openEnd;r<t;r++){let s=n.firstChild;if(n.childCount>1&&(i=0),s.type.spec.isolating&&i<=r){t=r;break}n=s.content}for(let n=1;n<=2;n++)for(let r=n==1?t:this.unplaced.openStart;r>=0;r--){let i,s=null;r?(s=Mm(this.unplaced.content,r-1).firstChild,i=s.content):i=this.unplaced.content;let o=i.firstChild;for(let a=this.depth;a>=0;a--){let{type:l,match:u}=this.frontier[a],c,d=null;if(n==1&&(o?u.matchType(o.type)||(d=u.fillBefore(se.from(o),!1)):s&&l.compatibleContent(s.type)))return{sliceDepth:r,frontierDepth:a,parent:s,inject:d};if(n==2&&o&&(c=u.findWrapping(o.type)))return{sliceDepth:r,frontierDepth:a,parent:s,wrap:c};if(s&&u.matchType(s.type))break}}}openMore(){let{content:t,openStart:n,openEnd:r}=this.unplaced,i=Mm(t,n);return!i.childCount||i.firstChild.isLeaf?!1:(this.unplaced=new ge(t,n+1,Math.max(r,i.size+n>=t.size-r?n+1:0)),!0)}dropNode(){let{content:t,openStart:n,openEnd:r}=this.unplaced,i=Mm(t,n);if(i.childCount<=1&&n>0){let s=t.size-n<=n+i.size;this.unplaced=new ge(mu(t,n-1,1),n-1,s?n-1:r)}else this.unplaced=new ge(mu(t,n,1),n,r)}placeNodes({sliceDepth:t,frontierDepth:n,parent:r,inject:i,wrap:s}){for(;this.depth>n;)this.closeFrontierNode();if(s)for(let g=0;g<s.length;g++)this.openFrontierNode(s[g]);let o=this.unplaced,a=r?r.content:o.content,l=o.openStart-t,u=0,c=[],{match:d,type:f}=this.frontier[n];if(i){for(let g=0;g<i.childCount;g++)c.push(i.child(g));d=d.matchFragment(i)}let p=a.size+t-(o.content.size-o.openEnd);for(;u<a.childCount;){let g=a.child(u),b=d.matchType(g.type);if(!b)break;u++,(u>1||l==0||g.content.size)&&(d=b,c.push(MM(g.mark(f.allowedMarks(g.marks)),u==1?l:0,u==a.childCount?p:-1)))}let m=u==a.childCount;m||(p=-1),this.placed=gu(this.placed,n,se.from(c)),this.frontier[n].match=d,m&&p<0&&r&&r.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let g=0,b=a;g<p;g++){let y=b.lastChild;this.frontier.push({type:y.type,match:y.contentMatchAt(y.childCount)}),b=y.content}this.unplaced=m?t==0?ge.empty:new ge(mu(o.content,t-1,1),t-1,p<0?o.openEnd:t-1):new ge(mu(o.content,t,u),o.openStart,o.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let t=this.frontier[this.depth],n;if(!t.type.isTextblock||!Pm(this.$to,this.$to.depth,t.type,t.match,!1)||this.$to.depth==this.depth&&(n=this.findCloseLevel(this.$to))&&n.depth==this.depth)return-1;let{depth:r}=this.$to,i=this.$to.after(r);for(;r>1&&i==this.$to.end(--r);)++i;return i}findCloseLevel(t){e:for(let n=Math.min(this.depth,t.depth);n>=0;n--){let{match:r,type:i}=this.frontier[n],s=n<t.depth&&t.end(n+1)==t.pos+(t.depth-(n+1)),o=Pm(t,n,i,r,s);if(o){for(let a=n-1;a>=0;a--){let{match:l,type:u}=this.frontier[a],c=Pm(t,a,u,l,!0);if(!c||c.childCount)continue e}return{depth:n,fit:o,move:s?t.doc.resolve(t.after(n+1)):t}}}}close(t){let n=this.findCloseLevel(t);if(!n)return null;for(;this.depth>n.depth;)this.closeFrontierNode();n.fit.childCount&&(this.placed=gu(this.placed,n.depth,n.fit)),t=n.move;for(let r=n.depth+1;r<=t.depth;r++){let i=t.node(r),s=i.type.contentMatch.fillBefore(i.content,!0,t.index(r));this.openFrontierNode(i.type,i.attrs,s)}return t}openFrontierNode(t,n=null,r){let i=this.frontier[this.depth];i.match=i.match.matchType(t),this.placed=gu(this.placed,this.depth,se.from(t.create(n,r))),this.frontier.push({type:t,match:t.contentMatch})}closeFrontierNode(){let n=this.frontier.pop().match.fillBefore(se.empty,!0);n.childCount&&(this.placed=gu(this.placed,this.frontier.length,n))}}function mu(e,t,n){return t==0?e.cutByIndex(n,e.childCount):e.replaceChild(0,e.firstChild.copy(mu(e.firstChild.content,t-1,n)))}function gu(e,t,n){return t==0?e.append(n):e.replaceChild(e.childCount-1,e.lastChild.copy(gu(e.lastChild.content,t-1,n)))}function Mm(e,t){for(let n=0;n<t;n++)e=e.firstChild.content;return e}function MM(e,t,n){if(t<=0)return e;let r=e.content;return t>1&&(r=r.replaceChild(0,MM(r.firstChild,t-1,r.childCount==1?n-1:0))),t>0&&(r=e.type.contentMatch.fillBefore(r).append(r),n<=0&&(r=r.append(e.type.contentMatch.matchFragment(r).fillBefore(se.empty,!0)))),e.copy(r)}function Pm(e,t,n,r,i){let s=e.node(t),o=i?e.indexAfter(t):e.index(t);if(o==s.childCount&&!n.compatibleContent(s.type))return null;let a=r.fillBefore(s.content,!0,o);return a&&!moe(n,s.content,o)?a:null}function moe(e,t,n){for(let r=n;r<t.childCount;r++)if(!e.allowsMarks(t.child(r).marks))return!0;return!1}function goe(e){return e.spec.defining||e.spec.definingForContent}function boe(e,t,n,r){if(!r.size)return e.deleteRange(t,n);let i=e.doc.resolve(t),s=e.doc.resolve(n);if(DM(i,s,r))return e.step(new ln(t,n,r));let o=LM(i,e.doc.resolve(n));o[o.length-1]==0&&o.pop();let a=-(i.depth+1);o.unshift(a);for(let f=i.depth,p=i.pos-1;f>0;f--,p--){let m=i.node(f).type.spec;if(m.defining||m.definingAsContext||m.isolating)break;o.indexOf(f)>-1?a=f:i.before(f)==p&&o.splice(1,0,-f)}let l=o.indexOf(a),u=[],c=r.openStart;for(let f=r.content,p=0;;p++){let m=f.firstChild;if(u.push(m),p==r.openStart)break;f=m.content}for(let f=c-1;f>=0;f--){let p=u[f],m=goe(p.type);if(m&&!p.sameMarkup(i.node(Math.abs(a)-1)))c=f;else if(m||!p.type.isTextblock)break}for(let f=r.openStart;f>=0;f--){let p=(f+c+1)%(r.openStart+1),m=u[p];if(m)for(let g=0;g<o.length;g++){let b=o[(g+l)%o.length],y=!0;b<0&&(y=!1,b=-b);let E=i.node(b-1),v=i.index(b-1);if(E.canReplaceWith(v,v,m.type,m.marks))return e.replace(i.before(b),y?s.after(b):n,new ge(PM(r.content,0,r.openStart,p),p,r.openEnd))}}let d=e.steps.length;for(let f=o.length-1;f>=0&&(e.replace(t,n,r),!(e.steps.length>d));f--){let p=o[f];p<0||(t=i.before(p),n=s.after(p))}}function PM(e,t,n,r,i){if(t<n){let s=e.firstChild;e=e.replaceChild(0,s.copy(PM(s.content,t+1,n,r,s)))}if(t>r){let s=i.contentMatchAt(0),o=s.fillBefore(e).append(e);e=o.append(s.matchFragment(o).fillBefore(se.empty,!0))}return e}function yoe(e,t,n,r){if(!r.isInline&&t==n&&e.doc.resolve(t).parent.content.size){let i=NM(e.doc,t,r.type);i!=null&&(t=n=i)}e.replaceRange(t,n,new ge(se.from(r),0,0))}function _oe(e,t,n){let r=e.doc.resolve(t),i=e.doc.resolve(n),s=LM(r,i);for(let o=0;o<s.length;o++){let a=s[o],l=o==s.length-1;if(l&&a==0||r.node(a).type.contentMatch.validEnd)return e.delete(r.start(a),i.end(a));if(a>0&&(l||r.node(a-1).canReplace(r.index(a-1),i.indexAfter(a-1))))return e.delete(r.before(a),i.after(a))}for(let o=1;o<=r.depth&&o<=i.depth;o++)if(t-r.start(o)==r.depth-o&&n>r.end(o)&&i.end(o)-n!=i.depth-o&&r.start(o-1)==i.start(o-1)&&r.node(o-1).canReplace(r.index(o-1),i.index(o-1)))return e.delete(r.before(o),n);e.delete(t,n)}function LM(e,t){let n=[],r=Math.min(e.depth,t.depth);for(let i=r;i>=0;i--){let s=e.start(i);if(s<e.pos-(e.depth-i)||t.end(i)>t.pos+(t.depth-i)||e.node(i).type.spec.isolating||t.node(i).type.spec.isolating)break;(s==t.start(i)||i==e.depth&&i==t.depth&&e.parent.inlineContent&&t.parent.inlineContent&&i&&t.start(i-1)==s-1)&&n.push(i)}return n}class Ga extends Mn{constructor(t,n,r){super(),this.pos=t,this.attr=n,this.value=r}apply(t){let n=t.nodeAt(this.pos);if(!n)return Gt.fail("No node at attribute step's position");let r=Object.create(null);for(let s in n.attrs)r[s]=n.attrs[s];r[this.attr]=this.value;let i=n.type.create(r,null,n.marks);return Gt.fromReplace(t,this.pos,this.pos+1,new ge(se.from(i),0,n.isLeaf?0:1))}getMap(){return dr.empty}invert(t){return new Ga(this.pos,this.attr,t.nodeAt(this.pos).attrs[this.attr])}map(t){let n=t.mapResult(this.pos,1);return n.deletedAfter?null:new Ga(n.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(t,n){if(typeof n.pos!="number"||typeof n.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new Ga(n.pos,n.attr,n.value)}}Mn.jsonID("attr",Ga);class bc extends Mn{constructor(t,n){super(),this.attr=t,this.value=n}apply(t){let n=Object.create(null);for(let i in t.attrs)n[i]=t.attrs[i];n[this.attr]=this.value;let r=t.type.create(n,t.content,t.marks);return Gt.ok(r)}getMap(){return dr.empty}invert(t){return new bc(this.attr,t.attrs[this.attr])}map(t){return this}toJSON(){return{stepType:"docAttr",attr:this.attr,value:this.value}}static fromJSON(t,n){if(typeof n.attr!="string")throw new RangeError("Invalid input for DocAttrStep.fromJSON");return new bc(n.attr,n.value)}}Mn.jsonID("docAttr",bc);let ul=class extends Error{};ul=function e(t){let n=Error.call(this,t);return n.__proto__=e.prototype,n};ul.prototype=Object.create(Error.prototype);ul.prototype.constructor=ul;ul.prototype.name="TransformError";class BM{constructor(t){this.doc=t,this.steps=[],this.docs=[],this.mapping=new Wa}get before(){return this.docs.length?this.docs[0]:this.doc}step(t){let n=this.maybeStep(t);if(n.failed)throw new ul(n.failed);return this}maybeStep(t){let n=t.apply(this.doc);return n.failed||this.addStep(t,n.doc),n}get docChanged(){return this.steps.length>0}addStep(t,n){this.docs.push(this.doc),this.steps.push(t),this.mapping.appendMap(t.getMap()),this.doc=n}replace(t,n=t,r=ge.empty){let i=Qc(this.doc,t,n,r);return i&&this.step(i),this}replaceWith(t,n,r){return this.replace(t,n,new ge(se.from(r),0,0))}delete(t,n){return this.replace(t,n,ge.empty)}insert(t,n){return this.replaceWith(t,t,n)}replaceRange(t,n,r){return boe(this,t,n,r),this}replaceRangeWith(t,n,r){return yoe(this,t,n,r),this}deleteRange(t,n){return _oe(this,t,n),this}lift(t,n){return roe(this,t,n),this}join(t,n=1){return poe(this,t,n),this}wrap(t,n){return ooe(this,t,n),this}setBlockType(t,n=t,r,i=null){return aoe(this,t,n,r,i),this}setNodeMarkup(t,n,r=null,i){return uoe(this,t,n,r,i),this}setNodeAttribute(t,n,r){return this.step(new Ga(t,n,r)),this}setDocAttribute(t,n){return this.step(new bc(t,n)),this}addNodeMark(t,n){return this.step(new Xs(t,n)),this}removeNodeMark(t,n){if(!(n instanceof ft)){let r=this.doc.nodeAt(t);if(!r)throw new RangeError("No node at position "+t);if(n=n.isInSet(r.marks),!n)return this}return this.step(new ll(t,n)),this}split(t,n=1,r){return coe(this,t,n,r),this}addMark(t,n,r){return eoe(this,t,n,r),this}removeMark(t,n,r){return toe(this,t,n,r),this}clearIncompatible(t,n,r){return V_(this,t,n,r),this}}const Lm=Object.create(null);class Ue{constructor(t,n,r){this.$anchor=t,this.$head=n,this.ranges=r||[new Xf(t.min(n),t.max(n))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let t=this.ranges;for(let n=0;n<t.length;n++)if(t[n].$from.pos!=t[n].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(t,n=ge.empty){let r=n.content.lastChild,i=null;for(let a=0;a<n.openEnd;a++)i=r,r=r.lastChild;let s=t.steps.length,o=this.ranges;for(let a=0;a<o.length;a++){let{$from:l,$to:u}=o[a],c=t.mapping.slice(s);t.replaceRange(c.map(l.pos),c.map(u.pos),a?ge.empty:n),a==0&&uC(t,s,(r?r.isInline:i&&i.isTextblock)?-1:1)}}replaceWith(t,n){let r=t.steps.length,i=this.ranges;for(let s=0;s<i.length;s++){let{$from:o,$to:a}=i[s],l=t.mapping.slice(r),u=l.map(o.pos),c=l.map(a.pos);s?t.deleteRange(u,c):(t.replaceRangeWith(u,c,n),uC(t,r,n.isInline?-1:1))}}static findFrom(t,n,r=!1){let i=t.parent.inlineContent?new He(t):ka(t.node(0),t.parent,t.pos,t.index(),n,r);if(i)return i;for(let s=t.depth-1;s>=0;s--){let o=n<0?ka(t.node(0),t.node(s),t.before(s+1),t.index(s),n,r):ka(t.node(0),t.node(s),t.after(s+1),t.index(s)+1,n,r);if(o)return o}return null}static near(t,n=1){return this.findFrom(t,n)||this.findFrom(t,-n)||new Hn(t.node(0))}static atStart(t){return ka(t,t,0,0,1)||new Hn(t)}static atEnd(t){return ka(t,t,t.content.size,t.childCount,-1)||new Hn(t)}static fromJSON(t,n){if(!n||!n.type)throw new RangeError("Invalid input for Selection.fromJSON");let r=Lm[n.type];if(!r)throw new RangeError(`No selection type ${n.type} defined`);return r.fromJSON(t,n)}static jsonID(t,n){if(t in Lm)throw new RangeError("Duplicate use of selection JSON ID "+t);return Lm[t]=n,n.prototype.jsonID=t,n}getBookmark(){return He.between(this.$anchor,this.$head).getBookmark()}}Ue.prototype.visible=!0;class Xf{constructor(t,n){this.$from=t,this.$to=n}}let aC=!1;function lC(e){!aC&&!e.parent.inlineContent&&(aC=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+e.parent.type.name+")"))}class He extends Ue{constructor(t,n=t){lC(t),lC(n),super(t,n)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(t,n){let r=t.resolve(n.map(this.head));if(!r.parent.inlineContent)return Ue.near(r);let i=t.resolve(n.map(this.anchor));return new He(i.parent.inlineContent?i:r,r)}replace(t,n=ge.empty){if(super.replace(t,n),n==ge.empty){let r=this.$from.marksAcross(this.$to);r&&t.ensureMarks(r)}}eq(t){return t instanceof He&&t.anchor==this.anchor&&t.head==this.head}getBookmark(){return new nh(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(t,n){if(typeof n.anchor!="number"||typeof n.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new He(t.resolve(n.anchor),t.resolve(n.head))}static create(t,n,r=n){let i=t.resolve(n);return new this(i,r==n?i:t.resolve(r))}static between(t,n,r){let i=t.pos-n.pos;if((!r||i)&&(r=i>=0?1:-1),!n.parent.inlineContent){let s=Ue.findFrom(n,r,!0)||Ue.findFrom(n,-r,!0);if(s)n=s.$head;else return Ue.near(n,r)}return t.parent.inlineContent||(i==0?t=n:(t=(Ue.findFrom(t,-r,!0)||Ue.findFrom(t,r,!0)).$anchor,t.pos<n.pos!=i<0&&(t=n))),new He(t,n)}}Ue.jsonID("text",He);class nh{constructor(t,n){this.anchor=t,this.head=n}map(t){return new nh(t.map(this.anchor),t.map(this.head))}resolve(t){return He.between(t.resolve(this.anchor),t.resolve(this.head))}}class qe extends Ue{constructor(t){let n=t.nodeAfter,r=t.node(0).resolve(t.pos+n.nodeSize);super(t,r),this.node=n}map(t,n){let{deleted:r,pos:i}=n.mapResult(this.anchor),s=t.resolve(i);return r?Ue.near(s):new qe(s)}content(){return new ge(se.from(this.node),0,0)}eq(t){return t instanceof qe&&t.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new W_(this.anchor)}static fromJSON(t,n){if(typeof n.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new qe(t.resolve(n.anchor))}static create(t,n){return new qe(t.resolve(n))}static isSelectable(t){return!t.isText&&t.type.spec.selectable!==!1}}qe.prototype.visible=!1;Ue.jsonID("node",qe);class W_{constructor(t){this.anchor=t}map(t){let{deleted:n,pos:r}=t.mapResult(this.anchor);return n?new nh(r,r):new W_(r)}resolve(t){let n=t.resolve(this.anchor),r=n.nodeAfter;return r&&qe.isSelectable(r)?new qe(n):Ue.near(n)}}class Hn extends Ue{constructor(t){super(t.resolve(0),t.resolve(t.content.size))}replace(t,n=ge.empty){if(n==ge.empty){t.delete(0,t.doc.content.size);let r=Ue.atStart(t.doc);r.eq(t.selection)||t.setSelection(r)}else super.replace(t,n)}toJSON(){return{type:"all"}}static fromJSON(t){return new Hn(t)}map(t){return new Hn(t)}eq(t){return t instanceof Hn}getBookmark(){return Eoe}}Ue.jsonID("all",Hn);const Eoe={map(){return this},resolve(e){return new Hn(e)}};function ka(e,t,n,r,i,s=!1){if(t.inlineContent)return He.create(e,n);for(let o=r-(i>0?0:1);i>0?o<t.childCount:o>=0;o+=i){let a=t.child(o);if(a.isAtom){if(!s&&qe.isSelectable(a))return qe.create(e,n-(i<0?a.nodeSize:0))}else{let l=ka(e,a,n+i,i<0?a.childCount:0,i,s);if(l)return l}n+=a.nodeSize*i}return null}function uC(e,t,n){let r=e.steps.length-1;if(r<t)return;let i=e.steps[r];if(!(i instanceof ln||i instanceof Jt))return;let s=e.mapping.maps[r],o;s.forEach((a,l,u,c)=>{o==null&&(o=c)}),e.setSelection(Ue.near(e.doc.resolve(o),n))}const cC=1,dC=2,fC=4;class voe extends BM{constructor(t){super(t.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=t.selection,this.storedMarks=t.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(t){if(t.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=t,this.curSelectionFor=this.steps.length,this.updated=(this.updated|cC)&-3,this.storedMarks=null,this}get selectionSet(){return(this.updated&cC)>0}setStoredMarks(t){return this.storedMarks=t,this.updated|=dC,this}ensureMarks(t){return ft.sameSet(this.storedMarks||this.selection.$from.marks(),t)||this.setStoredMarks(t),this}addStoredMark(t){return this.ensureMarks(t.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(t){return this.ensureMarks(t.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(this.updated&dC)>0}addStep(t,n){super.addStep(t,n),this.updated=this.updated&-3,this.storedMarks=null}setTime(t){return this.time=t,this}replaceSelection(t){return this.selection.replace(this,t),this}replaceSelectionWith(t,n=!0){let r=this.selection;return n&&(t=t.mark(this.storedMarks||(r.empty?r.$from.marks():r.$from.marksAcross(r.$to)||ft.none))),r.replaceWith(this,t),this}deleteSelection(){return this.selection.replace(this),this}insertText(t,n,r){let i=this.doc.type.schema;if(n==null)return t?this.replaceSelectionWith(i.text(t),!0):this.deleteSelection();{if(r==null&&(r=n),r=r??n,!t)return this.deleteRange(n,r);let s=this.storedMarks;if(!s){let o=this.doc.resolve(n);s=r==n?o.marks():o.marksAcross(this.doc.resolve(r))}return this.replaceRangeWith(n,r,i.text(t,s)),this.selection.empty||this.setSelection(Ue.near(this.selection.$to)),this}}setMeta(t,n){return this.meta[typeof t=="string"?t:t.key]=n,this}getMeta(t){return this.meta[typeof t=="string"?t:t.key]}get isGeneric(){for(let t in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=fC,this}get scrolledIntoView(){return(this.updated&fC)>0}}function pC(e,t){return!t||!e?e:e.bind(t)}class bu{constructor(t,n,r){this.name=t,this.init=pC(n.init,r),this.apply=pC(n.apply,r)}}const Toe=[new bu("doc",{init(e){return e.doc||e.schema.topNodeType.createAndFill()},apply(e){return e.doc}}),new bu("selection",{init(e,t){return e.selection||Ue.atStart(t.doc)},apply(e){return e.selection}}),new bu("storedMarks",{init(e){return e.storedMarks||null},apply(e,t,n,r){return r.selection.$cursor?e.storedMarks:null}}),new bu("scrollToSelection",{init(){return 0},apply(e,t){return e.scrolledIntoView?t+1:t}})];class Bm{constructor(t,n){this.schema=t,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=Toe.slice(),n&&n.forEach(r=>{if(this.pluginsByKey[r.key])throw new RangeError("Adding different instances of a keyed plugin ("+r.key+")");this.plugins.push(r),this.pluginsByKey[r.key]=r,r.spec.state&&this.fields.push(new bu(r.key,r.spec.state,r))})}}class Mo{constructor(t){this.config=t}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(t){return this.applyTransaction(t).state}filterTransaction(t,n=-1){for(let r=0;r<this.config.plugins.length;r++)if(r!=n){let i=this.config.plugins[r];if(i.spec.filterTransaction&&!i.spec.filterTransaction.call(i,t,this))return!1}return!0}applyTransaction(t){if(!this.filterTransaction(t))return{state:this,transactions:[]};let n=[t],r=this.applyInner(t),i=null;for(;;){let s=!1;for(let o=0;o<this.config.plugins.length;o++){let a=this.config.plugins[o];if(a.spec.appendTransaction){let l=i?i[o].n:0,u=i?i[o].state:this,c=l<n.length&&a.spec.appendTransaction.call(a,l?n.slice(l):n,u,r);if(c&&r.filterTransaction(c,o)){if(c.setMeta("appendedTransaction",t),!i){i=[];for(let d=0;d<this.config.plugins.length;d++)i.push(d<o?{state:r,n:n.length}:{state:this,n:0})}n.push(c),r=r.applyInner(c),s=!0}i&&(i[o]={state:r,n:n.length})}}if(!s)return{state:r,transactions:n}}}applyInner(t){if(!t.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let n=new Mo(this.config),r=this.config.fields;for(let i=0;i<r.length;i++){let s=r[i];n[s.name]=s.apply(t,this[s.name],this,n)}return n}get tr(){return new voe(this)}static create(t){let n=new Bm(t.doc?t.doc.type.schema:t.schema,t.plugins),r=new Mo(n);for(let i=0;i<n.fields.length;i++)r[n.fields[i].name]=n.fields[i].init(t,r);return r}reconfigure(t){let n=new Bm(this.schema,t.plugins),r=n.fields,i=new Mo(n);for(let s=0;s<r.length;s++){let o=r[s].name;i[o]=this.hasOwnProperty(o)?this[o]:r[s].init(t,i)}return i}toJSON(t){let n={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(n.storedMarks=this.storedMarks.map(r=>r.toJSON())),t&&typeof t=="object")for(let r in t){if(r=="doc"||r=="selection")throw new RangeError("The JSON fields `doc` and `selection` are reserved");let i=t[r],s=i.spec.state;s&&s.toJSON&&(n[r]=s.toJSON.call(i,this[i.key]))}return n}static fromJSON(t,n,r){if(!n)throw new RangeError("Invalid input for EditorState.fromJSON");if(!t.schema)throw new RangeError("Required config field 'schema' missing");let i=new Bm(t.schema,t.plugins),s=new Mo(i);return i.fields.forEach(o=>{if(o.name=="doc")s.doc=eo.fromJSON(t.schema,n.doc);else if(o.name=="selection")s.selection=Ue.fromJSON(s.doc,n.selection);else if(o.name=="storedMarks")n.storedMarks&&(s.storedMarks=n.storedMarks.map(t.schema.markFromJSON));else{if(r)for(let a in r){let l=r[a],u=l.spec.state;if(l.key==o.name&&u&&u.fromJSON&&Object.prototype.hasOwnProperty.call(n,a)){s[o.name]=u.fromJSON.call(l,t,n[a],s);return}}s[o.name]=o.init(t,s)}}),s}}function FM(e,t,n){for(let r in e){let i=e[r];i instanceof Function?i=i.bind(t):r=="handleDOMEvents"&&(i=FM(i,t,{})),n[r]=i}return n}class At{constructor(t){this.spec=t,this.props={},t.props&&FM(t.props,this,this.props),this.key=t.key?t.key.key:$M("plugin")}getState(t){return t[this.key]}}const Fm=Object.create(null);function $M(e){return e in Fm?e+"$"+ ++Fm[e]:(Fm[e]=0,e+"$")}class hn{constructor(t="key"){this.key=$M(t)}get(t){return t.config.pluginsByKey[this.key]}getState(t){return t[this.key]}}const yn=function(e){for(var t=0;;t++)if(e=e.previousSibling,!e)return t},yc=function(e){let t=e.assignedSlot||e.parentNode;return t&&t.nodeType==11?t.host:t};let L1=null;const Zi=function(e,t,n){let r=L1||(L1=document.createRange());return r.setEnd(e,n??e.nodeValue.length),r.setStart(e,t||0),r},woe=function(){L1=null},ea=function(e,t,n,r){return n&&(hC(e,t,n,r,-1)||hC(e,t,n,r,1))},xoe=/^(img|br|input|textarea|hr)$/i;function hC(e,t,n,r,i){for(;;){if(e==n&&t==r)return!0;if(t==(i<0?0:Ir(e))){let s=e.parentNode;if(!s||s.nodeType!=1||Jc(e)||xoe.test(e.nodeName)||e.contentEditable=="false")return!1;t=yn(e)+(i<0?0:1),e=s}else if(e.nodeType==1){if(e=e.childNodes[t+(i<0?-1:0)],e.contentEditable=="false")return!1;t=i<0?Ir(e):0}else return!1}}function Ir(e){return e.nodeType==3?e.nodeValue.length:e.childNodes.length}function Coe(e,t){for(;;){if(e.nodeType==3&&t)return e;if(e.nodeType==1&&t>0){if(e.contentEditable=="false")return null;e=e.childNodes[t-1],t=Ir(e)}else if(e.parentNode&&!Jc(e))t=yn(e),e=e.parentNode;else return null}}function Soe(e,t){for(;;){if(e.nodeType==3&&t<e.nodeValue.length)return e;if(e.nodeType==1&&t<e.childNodes.length){if(e.contentEditable=="false")return null;e=e.childNodes[t],t=0}else if(e.parentNode&&!Jc(e))t=yn(e)+1,e=e.parentNode;else return null}}function Aoe(e,t,n){for(let r=t==0,i=t==Ir(e);r||i;){if(e==n)return!0;let s=yn(e);if(e=e.parentNode,!e)return!1;r=r&&s==0,i=i&&s==Ir(e)}}function Jc(e){let t;for(let n=e;n&&!(t=n.pmViewDesc);n=n.parentNode);return t&&t.node&&t.node.isBlock&&(t.dom==e||t.contentDOM==e)}const rh=function(e){return e.focusNode&&ea(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset)};function Ro(e,t){let n=document.createEvent("Event");return n.initEvent("keydown",!0,!0),n.keyCode=e,n.key=n.code=t,n}function Ooe(e){let t=e.activeElement;for(;t&&t.shadowRoot;)t=t.shadowRoot.activeElement;return t}function koe(e,t,n){if(e.caretPositionFromPoint)try{let r=e.caretPositionFromPoint(t,n);if(r)return{node:r.offsetNode,offset:Math.min(Ir(r.offsetNode),r.offset)}}catch{}if(e.caretRangeFromPoint){let r=e.caretRangeFromPoint(t,n);if(r)return{node:r.startContainer,offset:Math.min(Ir(r.startContainer),r.startOffset)}}}const $i=typeof navigator<"u"?navigator:null,mC=typeof document<"u"?document:null,vo=$i&&$i.userAgent||"",B1=/Edge\/(\d+)/.exec(vo),UM=/MSIE \d/.exec(vo),F1=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(vo),rr=!!(UM||F1||B1),to=UM?document.documentMode:F1?+F1[1]:B1?+B1[1]:0,oi=!rr&&/gecko\/(\d+)/i.test(vo);oi&&+(/Firefox\/(\d+)/.exec(vo)||[0,0])[1];const $1=!rr&&/Chrome\/(\d+)/.exec(vo),kn=!!$1,HM=$1?+$1[1]:0,qn=!rr&&!!$i&&/Apple Computer/.test($i.vendor),cl=qn&&(/Mobile\/\w+/.test(vo)||!!$i&&$i.maxTouchPoints>2),Ar=cl||($i?/Mac/.test($i.platform):!1),Ioe=$i?/Win/.test($i.platform):!1,as=/Android \d/.test(vo),Zc=!!mC&&"webkitFontSmoothing"in mC.documentElement.style,Noe=Zc?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function Roe(e){let t=e.defaultView&&e.defaultView.visualViewport;return t?{left:0,right:t.width,top:0,bottom:t.height}:{left:0,right:e.documentElement.clientWidth,top:0,bottom:e.documentElement.clientHeight}}function Yi(e,t){return typeof e=="number"?e:e[t]}function Doe(e){let t=e.getBoundingClientRect(),n=t.width/e.offsetWidth||1,r=t.height/e.offsetHeight||1;return{left:t.left,right:t.left+e.clientWidth*n,top:t.top,bottom:t.top+e.clientHeight*r}}function gC(e,t,n){let r=e.someProp("scrollThreshold")||0,i=e.someProp("scrollMargin")||5,s=e.dom.ownerDocument;for(let o=n||e.dom;o;o=yc(o)){if(o.nodeType!=1)continue;let a=o,l=a==s.body,u=l?Roe(s):Doe(a),c=0,d=0;if(t.top<u.top+Yi(r,"top")?d=-(u.top-t.top+Yi(i,"top")):t.bottom>u.bottom-Yi(r,"bottom")&&(d=t.bottom-t.top>u.bottom-u.top?t.top+Yi(i,"top")-u.top:t.bottom-u.bottom+Yi(i,"bottom")),t.left<u.left+Yi(r,"left")?c=-(u.left-t.left+Yi(i,"left")):t.right>u.right-Yi(r,"right")&&(c=t.right-u.right+Yi(i,"right")),c||d)if(l)s.defaultView.scrollBy(c,d);else{let f=a.scrollLeft,p=a.scrollTop;d&&(a.scrollTop+=d),c&&(a.scrollLeft+=c);let m=a.scrollLeft-f,g=a.scrollTop-p;t={left:t.left-m,top:t.top-g,right:t.right-m,bottom:t.bottom-g}}if(l||/^(fixed|sticky)$/.test(getComputedStyle(o).position))break}}function Moe(e){let t=e.dom.getBoundingClientRect(),n=Math.max(0,t.top),r,i;for(let s=(t.left+t.right)/2,o=n+1;o<Math.min(innerHeight,t.bottom);o+=5){let a=e.root.elementFromPoint(s,o);if(!a||a==e.dom||!e.dom.contains(a))continue;let l=a.getBoundingClientRect();if(l.top>=n-20){r=a,i=l.top;break}}return{refDOM:r,refTop:i,stack:zM(e.dom)}}function zM(e){let t=[],n=e.ownerDocument;for(let r=e;r&&(t.push({dom:r,top:r.scrollTop,left:r.scrollLeft}),e!=n);r=yc(r));return t}function Poe({refDOM:e,refTop:t,stack:n}){let r=e?e.getBoundingClientRect().top:0;jM(n,r==0?0:r-t)}function jM(e,t){for(let n=0;n<e.length;n++){let{dom:r,top:i,left:s}=e[n];r.scrollTop!=i+t&&(r.scrollTop=i+t),r.scrollLeft!=s&&(r.scrollLeft=s)}}let wa=null;function Loe(e){if(e.setActive)return e.setActive();if(wa)return e.focus(wa);let t=zM(e);e.focus(wa==null?{get preventScroll(){return wa={preventScroll:!0},!0}}:void 0),wa||(wa=!1,jM(t,0))}function qM(e,t){let n,r=2e8,i,s=0,o=t.top,a=t.top,l,u;for(let c=e.firstChild,d=0;c;c=c.nextSibling,d++){let f;if(c.nodeType==1)f=c.getClientRects();else if(c.nodeType==3)f=Zi(c).getClientRects();else continue;for(let p=0;p<f.length;p++){let m=f[p];if(m.top<=o&&m.bottom>=a){o=Math.max(m.bottom,o),a=Math.min(m.top,a);let g=m.left>t.left?m.left-t.left:m.right<t.left?t.left-m.right:0;if(g<r){n=c,r=g,i=g&&n.nodeType==3?{left:m.right<t.left?m.right:m.left,top:t.top}:t,c.nodeType==1&&g&&(s=d+(t.left>=(m.left+m.right)/2?1:0));continue}}else m.top>t.top&&!l&&m.left<=t.left&&m.right>=t.left&&(l=c,u={left:Math.max(m.left,Math.min(m.right,t.left)),top:m.top});!n&&(t.left>=m.right&&t.top>=m.top||t.left>=m.left&&t.top>=m.bottom)&&(s=d+1)}}return!n&&l&&(n=l,i=u,r=0),n&&n.nodeType==3?Boe(n,i):!n||r&&n.nodeType==1?{node:e,offset:s}:qM(n,i)}function Boe(e,t){let n=e.nodeValue.length,r=document.createRange();for(let i=0;i<n;i++){r.setEnd(e,i+1),r.setStart(e,i);let s=Ds(r,1);if(s.top!=s.bottom&&G_(t,s))return{node:e,offset:i+(t.left>=(s.left+s.right)/2?1:0)}}return{node:e,offset:0}}function G_(e,t){return e.left>=t.left-1&&e.left<=t.right+1&&e.top>=t.top-1&&e.top<=t.bottom+1}function Foe(e,t){let n=e.parentNode;return n&&/^li$/i.test(n.nodeName)&&t.left<e.getBoundingClientRect().left?n:e}function $oe(e,t,n){let{node:r,offset:i}=qM(t,n),s=-1;if(r.nodeType==1&&!r.firstChild){let o=r.getBoundingClientRect();s=o.left!=o.right&&n.left>(o.left+o.right)/2?1:-1}return e.docView.posFromDOM(r,i,s)}function Uoe(e,t,n,r){let i=-1;for(let s=t,o=!1;s!=e.dom;){let a=e.docView.nearestDesc(s,!0),l;if(!a)return null;if(a.dom.nodeType==1&&(a.node.isBlock&&a.parent||!a.contentDOM)&&((l=a.dom.getBoundingClientRect()).width||l.height)&&(a.node.isBlock&&a.parent&&(!o&&l.left>r.left||l.top>r.top?i=a.posBefore:(!o&&l.right<r.left||l.bottom<r.top)&&(i=a.posAfter),o=!0),!a.contentDOM&&i<0&&!a.node.isText))return(a.node.isBlock?r.top<(l.top+l.bottom)/2:r.left<(l.left+l.right)/2)?a.posBefore:a.posAfter;s=a.dom.parentNode}return i>-1?i:e.docView.posFromDOM(t,n,-1)}function VM(e,t,n){let r=e.childNodes.length;if(r&&n.top<n.bottom)for(let i=Math.max(0,Math.min(r-1,Math.floor(r*(t.top-n.top)/(n.bottom-n.top))-2)),s=i;;){let o=e.childNodes[s];if(o.nodeType==1){let a=o.getClientRects();for(let l=0;l<a.length;l++){let u=a[l];if(G_(t,u))return VM(o,t,u)}}if((s=(s+1)%r)==i)break}return e}function Hoe(e,t){let n=e.dom.ownerDocument,r,i=0,s=koe(n,t.left,t.top);s&&({node:r,offset:i}=s);let o=(e.root.elementFromPoint?e.root:n).elementFromPoint(t.left,t.top),a;if(!o||!e.dom.contains(o.nodeType!=1?o.parentNode:o)){let u=e.dom.getBoundingClientRect();if(!G_(t,u)||(o=VM(e.dom,t,u),!o))return null}if(qn)for(let u=o;r&&u;u=yc(u))u.draggable&&(r=void 0);if(o=Foe(o,t),r){if(oi&&r.nodeType==1&&(i=Math.min(i,r.childNodes.length),i<r.childNodes.length)){let c=r.childNodes[i],d;c.nodeName=="IMG"&&(d=c.getBoundingClientRect()).right<=t.left&&d.bottom>t.top&&i++}let u;Zc&&i&&r.nodeType==1&&(u=r.childNodes[i-1]).nodeType==1&&u.contentEditable=="false"&&u.getBoundingClientRect().top>=t.top&&i--,r==e.dom&&i==r.childNodes.length-1&&r.lastChild.nodeType==1&&t.top>r.lastChild.getBoundingClientRect().bottom?a=e.state.doc.content.size:(i==0||r.nodeType!=1||r.childNodes[i-1].nodeName!="BR")&&(a=Uoe(e,r,i,t))}a==null&&(a=$oe(e,o,t));let l=e.docView.nearestDesc(o,!0);return{pos:a,inside:l?l.posAtStart-l.border:-1}}function bC(e){return e.top<e.bottom||e.left<e.right}function Ds(e,t){let n=e.getClientRects();if(n.length){let r=n[t<0?0:n.length-1];if(bC(r))return r}return Array.prototype.find.call(n,bC)||e.getBoundingClientRect()}const zoe=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function WM(e,t,n){let{node:r,offset:i,atom:s}=e.docView.domFromPos(t,n<0?-1:1),o=Zc||oi;if(r.nodeType==3)if(o&&(zoe.test(r.nodeValue)||(n<0?!i:i==r.nodeValue.length))){let l=Ds(Zi(r,i,i),n);if(oi&&i&&/\s/.test(r.nodeValue[i-1])&&i<r.nodeValue.length){let u=Ds(Zi(r,i-1,i-1),-1);if(u.top==l.top){let c=Ds(Zi(r,i,i+1),-1);if(c.top!=l.top)return su(c,c.left<u.left)}}return l}else{let l=i,u=i,c=n<0?1:-1;return n<0&&!i?(u++,c=-1):n>=0&&i==r.nodeValue.length?(l--,c=1):n<0?l--:u++,su(Ds(Zi(r,l,u),c),c<0)}if(!e.state.doc.resolve(t-(s||0)).parent.inlineContent){if(s==null&&i&&(n<0||i==Ir(r))){let l=r.childNodes[i-1];if(l.nodeType==1)return $m(l.getBoundingClientRect(),!1)}if(s==null&&i<Ir(r)){let l=r.childNodes[i];if(l.nodeType==1)return $m(l.getBoundingClientRect(),!0)}return $m(r.getBoundingClientRect(),n>=0)}if(s==null&&i&&(n<0||i==Ir(r))){let l=r.childNodes[i-1],u=l.nodeType==3?Zi(l,Ir(l)-(o?0:1)):l.nodeType==1&&(l.nodeName!="BR"||!l.nextSibling)?l:null;if(u)return su(Ds(u,1),!1)}if(s==null&&i<Ir(r)){let l=r.childNodes[i];for(;l.pmViewDesc&&l.pmViewDesc.ignoreForCoords;)l=l.nextSibling;let u=l?l.nodeType==3?Zi(l,0,o?0:1):l.nodeType==1?l:null:null;if(u)return su(Ds(u,-1),!0)}return su(Ds(r.nodeType==3?Zi(r):r,-n),n>=0)}function su(e,t){if(e.width==0)return e;let n=t?e.left:e.right;return{top:e.top,bottom:e.bottom,left:n,right:n}}function $m(e,t){if(e.height==0)return e;let n=t?e.top:e.bottom;return{top:n,bottom:n,left:e.left,right:e.right}}function GM(e,t,n){let r=e.state,i=e.root.activeElement;r!=t&&e.updateState(t),i!=e.dom&&e.focus();try{return n()}finally{r!=t&&e.updateState(r),i!=e.dom&&i&&i.focus()}}function joe(e,t,n){let r=t.selection,i=n=="up"?r.$from:r.$to;return GM(e,t,()=>{let{node:s}=e.docView.domFromPos(i.pos,n=="up"?-1:1);for(;;){let a=e.docView.nearestDesc(s,!0);if(!a)break;if(a.node.isBlock){s=a.contentDOM||a.dom;break}s=a.dom.parentNode}let o=WM(e,i.pos,1);for(let a=s.firstChild;a;a=a.nextSibling){let l;if(a.nodeType==1)l=a.getClientRects();else if(a.nodeType==3)l=Zi(a,0,a.nodeValue.length).getClientRects();else continue;for(let u=0;u<l.length;u++){let c=l[u];if(c.bottom>c.top+1&&(n=="up"?o.top-c.top>(c.bottom-o.top)*2:c.bottom-o.bottom>(o.bottom-c.top)*2))return!1}}return!0})}const qoe=/[\u0590-\u08ac]/;function Voe(e,t,n){let{$head:r}=t.selection;if(!r.parent.isTextblock)return!1;let i=r.parentOffset,s=!i,o=i==r.parent.content.size,a=e.domSelection();return a?!qoe.test(r.parent.textContent)||!a.modify?n=="left"||n=="backward"?s:o:GM(e,t,()=>{let{focusNode:l,focusOffset:u,anchorNode:c,anchorOffset:d}=e.domSelectionRange(),f=a.caretBidiLevel;a.modify("move",n,"character");let p=r.depth?e.docView.domAfterPos(r.before()):e.dom,{focusNode:m,focusOffset:g}=e.domSelectionRange(),b=m&&!p.contains(m.nodeType==1?m:m.parentNode)||l==m&&u==g;try{a.collapse(c,d),l&&(l!=c||u!=d)&&a.extend&&a.extend(l,u)}catch{}return f!=null&&(a.caretBidiLevel=f),b}):r.pos==r.start()||r.pos==r.end()}let yC=null,_C=null,EC=!1;function Woe(e,t,n){return yC==t&&_C==n?EC:(yC=t,_C=n,EC=n=="up"||n=="down"?joe(e,t,n):Voe(e,t,n))}const Br=0,vC=1,Po=2,Ui=3;class ed{constructor(t,n,r,i){this.parent=t,this.children=n,this.dom=r,this.contentDOM=i,this.dirty=Br,r.pmViewDesc=this}matchesWidget(t){return!1}matchesMark(t){return!1}matchesNode(t,n,r){return!1}matchesHack(t){return!1}parseRule(){return null}stopEvent(t){return!1}get size(){let t=0;for(let n=0;n<this.children.length;n++)t+=this.children[n].size;return t}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let t=0;t<this.children.length;t++)this.children[t].destroy()}posBeforeChild(t){for(let n=0,r=this.posAtStart;;n++){let i=this.children[n];if(i==t)return r;r+=i.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(t,n,r){if(this.contentDOM&&this.contentDOM.contains(t.nodeType==1?t:t.parentNode))if(r<0){let s,o;if(t==this.contentDOM)s=t.childNodes[n-1];else{for(;t.parentNode!=this.contentDOM;)t=t.parentNode;s=t.previousSibling}for(;s&&!((o=s.pmViewDesc)&&o.parent==this);)s=s.previousSibling;return s?this.posBeforeChild(o)+o.size:this.posAtStart}else{let s,o;if(t==this.contentDOM)s=t.childNodes[n];else{for(;t.parentNode!=this.contentDOM;)t=t.parentNode;s=t.nextSibling}for(;s&&!((o=s.pmViewDesc)&&o.parent==this);)s=s.nextSibling;return s?this.posBeforeChild(o):this.posAtEnd}let i;if(t==this.dom&&this.contentDOM)i=n>yn(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))i=t.compareDocumentPosition(this.contentDOM)&2;else if(this.dom.firstChild){if(n==0)for(let s=t;;s=s.parentNode){if(s==this.dom){i=!1;break}if(s.previousSibling)break}if(i==null&&n==t.childNodes.length)for(let s=t;;s=s.parentNode){if(s==this.dom){i=!0;break}if(s.nextSibling)break}}return i??r>0?this.posAtEnd:this.posAtStart}nearestDesc(t,n=!1){for(let r=!0,i=t;i;i=i.parentNode){let s=this.getDesc(i),o;if(s&&(!n||s.node))if(r&&(o=s.nodeDOM)&&!(o.nodeType==1?o.contains(t.nodeType==1?t:t.parentNode):o==t))r=!1;else return s}}getDesc(t){let n=t.pmViewDesc;for(let r=n;r;r=r.parent)if(r==this)return n}posFromDOM(t,n,r){for(let i=t;i;i=i.parentNode){let s=this.getDesc(i);if(s)return s.localPosFromDOM(t,n,r)}return-1}descAt(t){for(let n=0,r=0;n<this.children.length;n++){let i=this.children[n],s=r+i.size;if(r==t&&s!=r){for(;!i.border&&i.children.length;)for(let o=0;o<i.children.length;o++){let a=i.children[o];if(a.size){i=a;break}}return i}if(t<s)return i.descAt(t-r-i.border);r=s}}domFromPos(t,n){if(!this.contentDOM)return{node:this.dom,offset:0,atom:t+1};let r=0,i=0;for(let s=0;r<this.children.length;r++){let o=this.children[r],a=s+o.size;if(a>t||o instanceof KM){i=t-s;break}s=a}if(i)return this.children[r].domFromPos(i-this.children[r].border,n);for(let s;r&&!(s=this.children[r-1]).size&&s instanceof YM&&s.side>=0;r--);if(n<=0){let s,o=!0;for(;s=r?this.children[r-1]:null,!(!s||s.dom.parentNode==this.contentDOM);r--,o=!1);return s&&n&&o&&!s.border&&!s.domAtom?s.domFromPos(s.size,n):{node:this.contentDOM,offset:s?yn(s.dom)+1:0}}else{let s,o=!0;for(;s=r<this.children.length?this.children[r]:null,!(!s||s.dom.parentNode==this.contentDOM);r++,o=!1);return s&&o&&!s.border&&!s.domAtom?s.domFromPos(0,n):{node:this.contentDOM,offset:s?yn(s.dom):this.contentDOM.childNodes.length}}}parseRange(t,n,r=0){if(this.children.length==0)return{node:this.contentDOM,from:t,to:n,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let i=-1,s=-1;for(let o=r,a=0;;a++){let l=this.children[a],u=o+l.size;if(i==-1&&t<=u){let c=o+l.border;if(t>=c&&n<=u-l.border&&l.node&&l.contentDOM&&this.contentDOM.contains(l.contentDOM))return l.parseRange(t,n,c);t=o;for(let d=a;d>0;d--){let f=this.children[d-1];if(f.size&&f.dom.parentNode==this.contentDOM&&!f.emptyChildAt(1)){i=yn(f.dom)+1;break}t-=f.size}i==-1&&(i=0)}if(i>-1&&(u>n||a==this.children.length-1)){n=u;for(let c=a+1;c<this.children.length;c++){let d=this.children[c];if(d.size&&d.dom.parentNode==this.contentDOM&&!d.emptyChildAt(-1)){s=yn(d.dom);break}n+=d.size}s==-1&&(s=this.contentDOM.childNodes.length);break}o=u}return{node:this.contentDOM,from:t,to:n,fromOffset:i,toOffset:s}}emptyChildAt(t){if(this.border||!this.contentDOM||!this.children.length)return!1;let n=this.children[t<0?0:this.children.length-1];return n.size==0||n.emptyChildAt(t)}domAfterPos(t){let{node:n,offset:r}=this.domFromPos(t,0);if(n.nodeType!=1||r==n.childNodes.length)throw new RangeError("No node after pos "+t);return n.childNodes[r]}setSelection(t,n,r,i=!1){let s=Math.min(t,n),o=Math.max(t,n);for(let p=0,m=0;p<this.children.length;p++){let g=this.children[p],b=m+g.size;if(s>m&&o<b)return g.setSelection(t-m-g.border,n-m-g.border,r,i);m=b}let a=this.domFromPos(t,t?-1:1),l=n==t?a:this.domFromPos(n,n?-1:1),u=r.root.getSelection(),c=r.domSelectionRange(),d=!1;if((oi||qn)&&t==n){let{node:p,offset:m}=a;if(p.nodeType==3){if(d=!!(m&&p.nodeValue[m-1]==`
`),d&&m==p.nodeValue.length)for(let g=p,b;g;g=g.parentNode){if(b=g.nextSibling){b.nodeName=="BR"&&(a=l={node:b.parentNode,offset:yn(b)+1});break}let y=g.pmViewDesc;if(y&&y.node&&y.node.isBlock)break}}else{let g=p.childNodes[m-1];d=g&&(g.nodeName=="BR"||g.contentEditable=="false")}}if(oi&&c.focusNode&&c.focusNode!=l.node&&c.focusNode.nodeType==1){let p=c.focusNode.childNodes[c.focusOffset];p&&p.contentEditable=="false"&&(i=!0)}if(!(i||d&&qn)&&ea(a.node,a.offset,c.anchorNode,c.anchorOffset)&&ea(l.node,l.offset,c.focusNode,c.focusOffset))return;let f=!1;if((u.extend||t==n)&&!d){u.collapse(a.node,a.offset);try{t!=n&&u.extend(l.node,l.offset),f=!0}catch{}}if(!f){if(t>n){let m=a;a=l,l=m}let p=document.createRange();p.setEnd(l.node,l.offset),p.setStart(a.node,a.offset),u.removeAllRanges(),u.addRange(p)}}ignoreMutation(t){return!this.contentDOM&&t.type!="selection"}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(t,n){for(let r=0,i=0;i<this.children.length;i++){let s=this.children[i],o=r+s.size;if(r==o?t<=o&&n>=r:t<o&&n>r){let a=r+s.border,l=o-s.border;if(t>=a&&n<=l){this.dirty=t==r||n==o?Po:vC,t==a&&n==l&&(s.contentLost||s.dom.parentNode!=this.contentDOM)?s.dirty=Ui:s.markDirty(t-a,n-a);return}else s.dirty=s.dom==s.contentDOM&&s.dom.parentNode==this.contentDOM&&!s.children.length?Po:Ui}r=o}this.dirty=Po}markParentsDirty(){let t=1;for(let n=this.parent;n;n=n.parent,t++){let r=t==1?Po:vC;n.dirty<r&&(n.dirty=r)}}get domAtom(){return!1}get ignoreForCoords(){return!1}isText(t){return!1}}class YM extends ed{constructor(t,n,r,i){let s,o=n.type.toDOM;if(typeof o=="function"&&(o=o(r,()=>{if(!s)return i;if(s.parent)return s.parent.posBeforeChild(s)})),!n.type.spec.raw){if(o.nodeType!=1){let a=document.createElement("span");a.appendChild(o),o=a}o.contentEditable="false",o.classList.add("ProseMirror-widget")}super(t,[],o,null),this.widget=n,this.widget=n,s=this}matchesWidget(t){return this.dirty==Br&&t.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(t){let n=this.widget.spec.stopEvent;return n?n(t):!1}ignoreMutation(t){return t.type!="selection"||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get side(){return this.widget.type.side}}class Goe extends ed{constructor(t,n,r,i){super(t,[],n,null),this.textDOM=r,this.text=i}get size(){return this.text.length}localPosFromDOM(t,n){return t!=this.textDOM?this.posAtStart+(n?this.size:0):this.posAtStart+n}domFromPos(t){return{node:this.textDOM,offset:t}}ignoreMutation(t){return t.type==="characterData"&&t.target.nodeValue==t.oldValue}}class ta extends ed{constructor(t,n,r,i,s){super(t,[],r,i),this.mark=n,this.spec=s}static create(t,n,r,i){let s=i.nodeViews[n.type.name],o=s&&s(n,i,r);return(!o||!o.dom)&&(o=si.renderSpec(document,n.type.spec.toDOM(n,r),null,n.attrs)),new ta(t,n,o.dom,o.contentDOM||o.dom,o)}parseRule(){return this.dirty&Ui||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}}matchesMark(t){return this.dirty!=Ui&&this.mark.eq(t)}markDirty(t,n){if(super.markDirty(t,n),this.dirty!=Br){let r=this.parent;for(;!r.node;)r=r.parent;r.dirty<this.dirty&&(r.dirty=this.dirty),this.dirty=Br}}slice(t,n,r){let i=ta.create(this.parent,this.mark,!0,r),s=this.children,o=this.size;n<o&&(s=H1(s,n,o,r)),t>0&&(s=H1(s,0,t,r));for(let a=0;a<s.length;a++)s[a].parent=i;return i.children=s,i}ignoreMutation(t){return this.spec.ignoreMutation?this.spec.ignoreMutation(t):super.ignoreMutation(t)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}}class no extends ed{constructor(t,n,r,i,s,o,a,l,u){super(t,[],s,o),this.node=n,this.outerDeco=r,this.innerDeco=i,this.nodeDOM=a}static create(t,n,r,i,s,o){let a=s.nodeViews[n.type.name],l,u=a&&a(n,s,()=>{if(!l)return o;if(l.parent)return l.parent.posBeforeChild(l)},r,i),c=u&&u.dom,d=u&&u.contentDOM;if(n.isText){if(!c)c=document.createTextNode(n.text);else if(c.nodeType!=3)throw new RangeError("Text must be rendered as a DOM text node")}else c||({dom:c,contentDOM:d}=si.renderSpec(document,n.type.spec.toDOM(n),null,n.attrs));!d&&!n.isText&&c.nodeName!="BR"&&(c.hasAttribute("contenteditable")||(c.contentEditable="false"),n.type.spec.draggable&&(c.draggable=!0));let f=c;return c=JM(c,r,n),u?l=new Yoe(t,n,r,i,c,d||null,f,u,s,o+1):n.isText?new ih(t,n,r,i,c,f,s):new no(t,n,r,i,c,d||null,f,s,o+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let t={node:this.node.type.name,attrs:this.node.attrs};if(this.node.type.whitespace=="pre"&&(t.preserveWhitespace="full"),!this.contentDOM)t.getContent=()=>this.node.content;else if(!this.contentLost)t.contentElement=this.contentDOM;else{for(let n=this.children.length-1;n>=0;n--){let r=this.children[n];if(this.dom.contains(r.dom.parentNode)){t.contentElement=r.dom.parentNode;break}}t.contentElement||(t.getContent=()=>se.empty)}return t}matchesNode(t,n,r){return this.dirty==Br&&t.eq(this.node)&&Qf(n,this.outerDeco)&&r.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(t,n){let r=this.node.inlineContent,i=n,s=t.composing?this.localCompositionInfo(t,n):null,o=s&&s.pos>-1?s:null,a=s&&s.pos<0,l=new Xoe(this,o&&o.node,t);Zoe(this.node,this.innerDeco,(u,c,d)=>{u.spec.marks?l.syncToMarks(u.spec.marks,r,t):u.type.side>=0&&!d&&l.syncToMarks(c==this.node.childCount?ft.none:this.node.child(c).marks,r,t),l.placeWidget(u,t,i)},(u,c,d,f)=>{l.syncToMarks(u.marks,r,t);let p;l.findNodeMatch(u,c,d,f)||a&&t.state.selection.from>i&&t.state.selection.to<i+u.nodeSize&&(p=l.findIndexWithChild(s.node))>-1&&l.updateNodeAt(u,c,d,p,t)||l.updateNextNode(u,c,d,t,f,i)||l.addNode(u,c,d,t,i),i+=u.nodeSize}),l.syncToMarks([],r,t),this.node.isTextblock&&l.addTextblockHacks(),l.destroyRest(),(l.changed||this.dirty==Po)&&(o&&this.protectLocalComposition(t,o),XM(this.contentDOM,this.children,t),cl&&eae(this.dom))}localCompositionInfo(t,n){let{from:r,to:i}=t.state.selection;if(!(t.state.selection instanceof He)||r<n||i>n+this.node.content.size)return null;let s=t.input.compositionNode;if(!s||!this.dom.contains(s.parentNode))return null;if(this.node.inlineContent){let o=s.nodeValue,a=tae(this.node.content,o,r-n,i-n);return a<0?null:{node:s,pos:a,text:o}}else return{node:s,pos:-1,text:""}}protectLocalComposition(t,{node:n,pos:r,text:i}){if(this.getDesc(n))return;let s=n;for(;s.parentNode!=this.contentDOM;s=s.parentNode){for(;s.previousSibling;)s.parentNode.removeChild(s.previousSibling);for(;s.nextSibling;)s.parentNode.removeChild(s.nextSibling);s.pmViewDesc&&(s.pmViewDesc=void 0)}let o=new Goe(this,s,n,i);t.input.compositionNodes.push(o),this.children=H1(this.children,r,r+i.length,t,o)}update(t,n,r,i){return this.dirty==Ui||!t.sameMarkup(this.node)?!1:(this.updateInner(t,n,r,i),!0)}updateInner(t,n,r,i){this.updateOuterDeco(n),this.node=t,this.innerDeco=r,this.contentDOM&&this.updateChildren(i,this.posAtStart),this.dirty=Br}updateOuterDeco(t){if(Qf(t,this.outerDeco))return;let n=this.nodeDOM.nodeType!=1,r=this.dom;this.dom=QM(this.dom,this.nodeDOM,U1(this.outerDeco,this.node,n),U1(t,this.node,n)),this.dom!=r&&(r.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=t}selectNode(){this.nodeDOM.nodeType==1&&this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.dom.draggable=!0)}deselectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.dom.removeAttribute("draggable"))}get domAtom(){return this.node.isAtom}}function TC(e,t,n,r,i){JM(r,t,e);let s=new no(void 0,e,t,n,r,r,r,i,0);return s.contentDOM&&s.updateChildren(i,0),s}class ih extends no{constructor(t,n,r,i,s,o,a){super(t,n,r,i,s,null,o,a,0)}parseRule(){let t=this.nodeDOM.parentNode;for(;t&&t!=this.dom&&!t.pmIsDeco;)t=t.parentNode;return{skip:t||!0}}update(t,n,r,i){return this.dirty==Ui||this.dirty!=Br&&!this.inParent()||!t.sameMarkup(this.node)?!1:(this.updateOuterDeco(n),(this.dirty!=Br||t.text!=this.node.text)&&t.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=t.text,i.trackWrites==this.nodeDOM&&(i.trackWrites=null)),this.node=t,this.dirty=Br,!0)}inParent(){let t=this.parent.contentDOM;for(let n=this.nodeDOM;n;n=n.parentNode)if(n==t)return!0;return!1}domFromPos(t){return{node:this.nodeDOM,offset:t}}localPosFromDOM(t,n,r){return t==this.nodeDOM?this.posAtStart+Math.min(n,this.node.text.length):super.localPosFromDOM(t,n,r)}ignoreMutation(t){return t.type!="characterData"&&t.type!="selection"}slice(t,n,r){let i=this.node.cut(t,n),s=document.createTextNode(i.text);return new ih(this.parent,i,this.outerDeco,this.innerDeco,s,s,r)}markDirty(t,n){super.markDirty(t,n),this.dom!=this.nodeDOM&&(t==0||n==this.nodeDOM.nodeValue.length)&&(this.dirty=Ui)}get domAtom(){return!1}isText(t){return this.node.text==t}}class KM extends ed{parseRule(){return{ignore:!0}}matchesHack(t){return this.dirty==Br&&this.dom.nodeName==t}get domAtom(){return!0}get ignoreForCoords(){return this.dom.nodeName=="IMG"}}class Yoe extends no{constructor(t,n,r,i,s,o,a,l,u,c){super(t,n,r,i,s,o,a,u,c),this.spec=l}update(t,n,r,i){if(this.dirty==Ui)return!1;if(this.spec.update&&(this.node.type==t.type||this.spec.multiType)){let s=this.spec.update(t,n,r);return s&&this.updateInner(t,n,r,i),s}else return!this.contentDOM&&!t.isLeaf?!1:super.update(t,n,r,i)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(t,n,r,i){this.spec.setSelection?this.spec.setSelection(t,n,r.root):super.setSelection(t,n,r,i)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(t){return this.spec.stopEvent?this.spec.stopEvent(t):!1}ignoreMutation(t){return this.spec.ignoreMutation?this.spec.ignoreMutation(t):super.ignoreMutation(t)}}function XM(e,t,n){let r=e.firstChild,i=!1;for(let s=0;s<t.length;s++){let o=t[s],a=o.dom;if(a.parentNode==e){for(;a!=r;)r=wC(r),i=!0;r=r.nextSibling}else i=!0,e.insertBefore(a,r);if(o instanceof ta){let l=r?r.previousSibling:e.lastChild;XM(o.contentDOM,o.children,n),r=l?l.nextSibling:e.firstChild}}for(;r;)r=wC(r),i=!0;i&&n.trackWrites==e&&(n.trackWrites=null)}const zu=function(e){e&&(this.nodeName=e)};zu.prototype=Object.create(null);const Lo=[new zu];function U1(e,t,n){if(e.length==0)return Lo;let r=n?Lo[0]:new zu,i=[r];for(let s=0;s<e.length;s++){let o=e[s].type.attrs;if(o){o.nodeName&&i.push(r=new zu(o.nodeName));for(let a in o){let l=o[a];l!=null&&(n&&i.length==1&&i.push(r=new zu(t.isInline?"span":"div")),a=="class"?r.class=(r.class?r.class+" ":"")+l:a=="style"?r.style=(r.style?r.style+";":"")+l:a!="nodeName"&&(r[a]=l))}}}return i}function QM(e,t,n,r){if(n==Lo&&r==Lo)return t;let i=t;for(let s=0;s<r.length;s++){let o=r[s],a=n[s];if(s){let l;a&&a.nodeName==o.nodeName&&i!=e&&(l=i.parentNode)&&l.nodeName.toLowerCase()==o.nodeName||(l=document.createElement(o.nodeName),l.pmIsDeco=!0,l.appendChild(i),a=Lo[0]),i=l}Koe(i,a||Lo[0],o)}return i}function Koe(e,t,n){for(let r in t)r!="class"&&r!="style"&&r!="nodeName"&&!(r in n)&&e.removeAttribute(r);for(let r in n)r!="class"&&r!="style"&&r!="nodeName"&&n[r]!=t[r]&&e.setAttribute(r,n[r]);if(t.class!=n.class){let r=t.class?t.class.split(" ").filter(Boolean):[],i=n.class?n.class.split(" ").filter(Boolean):[];for(let s=0;s<r.length;s++)i.indexOf(r[s])==-1&&e.classList.remove(r[s]);for(let s=0;s<i.length;s++)r.indexOf(i[s])==-1&&e.classList.add(i[s]);e.classList.length==0&&e.removeAttribute("class")}if(t.style!=n.style){if(t.style){let r=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,i;for(;i=r.exec(t.style);)e.style.removeProperty(i[1])}n.style&&(e.style.cssText+=n.style)}}function JM(e,t,n){return QM(e,e,Lo,U1(t,n,e.nodeType!=1))}function Qf(e,t){if(e.length!=t.length)return!1;for(let n=0;n<e.length;n++)if(!e[n].type.eq(t[n].type))return!1;return!0}function wC(e){let t=e.nextSibling;return e.parentNode.removeChild(e),t}class Xoe{constructor(t,n,r){this.lock=n,this.view=r,this.index=0,this.stack=[],this.changed=!1,this.top=t,this.preMatch=Qoe(t.node.content,t)}destroyBetween(t,n){if(t!=n){for(let r=t;r<n;r++)this.top.children[r].destroy();this.top.children.splice(t,n-t),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(t,n,r){let i=0,s=this.stack.length>>1,o=Math.min(s,t.length);for(;i<o&&(i==s-1?this.top:this.stack[i+1<<1]).matchesMark(t[i])&&t[i].type.spec.spanning!==!1;)i++;for(;i<s;)this.destroyRest(),this.top.dirty=Br,this.index=this.stack.pop(),this.top=this.stack.pop(),s--;for(;s<t.length;){this.stack.push(this.top,this.index+1);let a=-1;for(let l=this.index;l<Math.min(this.index+3,this.top.children.length);l++){let u=this.top.children[l];if(u.matchesMark(t[s])&&!this.isLocked(u.dom)){a=l;break}}if(a>-1)a>this.index&&(this.changed=!0,this.destroyBetween(this.index,a)),this.top=this.top.children[this.index];else{let l=ta.create(this.top,t[s],n,r);this.top.children.splice(this.index,0,l),this.top=l,this.changed=!0}this.index=0,s++}}findNodeMatch(t,n,r,i){let s=-1,o;if(i>=this.preMatch.index&&(o=this.preMatch.matches[i-this.preMatch.index]).parent==this.top&&o.matchesNode(t,n,r))s=this.top.children.indexOf(o,this.index);else for(let a=this.index,l=Math.min(this.top.children.length,a+5);a<l;a++){let u=this.top.children[a];if(u.matchesNode(t,n,r)&&!this.preMatch.matched.has(u)){s=a;break}}return s<0?!1:(this.destroyBetween(this.index,s),this.index++,!0)}updateNodeAt(t,n,r,i,s){let o=this.top.children[i];return o.dirty==Ui&&o.dom==o.contentDOM&&(o.dirty=Po),o.update(t,n,r,s)?(this.destroyBetween(this.index,i),this.index++,!0):!1}findIndexWithChild(t){for(;;){let n=t.parentNode;if(!n)return-1;if(n==this.top.contentDOM){let r=t.pmViewDesc;if(r){for(let i=this.index;i<this.top.children.length;i++)if(this.top.children[i]==r)return i}return-1}t=n}}updateNextNode(t,n,r,i,s,o){for(let a=this.index;a<this.top.children.length;a++){let l=this.top.children[a];if(l instanceof no){let u=this.preMatch.matched.get(l);if(u!=null&&u!=s)return!1;let c=l.dom,d,f=this.isLocked(c)&&!(t.isText&&l.node&&l.node.isText&&l.nodeDOM.nodeValue==t.text&&l.dirty!=Ui&&Qf(n,l.outerDeco));if(!f&&l.update(t,n,r,i))return this.destroyBetween(this.index,a),l.dom!=c&&(this.changed=!0),this.index++,!0;if(!f&&(d=this.recreateWrapper(l,t,n,r,i,o)))return this.destroyBetween(this.index,a),this.top.children[this.index]=d,d.contentDOM&&(d.dirty=Po,d.updateChildren(i,o+1),d.dirty=Br),this.changed=!0,this.index++,!0;break}}return!1}recreateWrapper(t,n,r,i,s,o){if(t.dirty||n.isAtom||!t.children.length||!t.node.content.eq(n.content)||!Qf(r,t.outerDeco)||!i.eq(t.innerDeco))return null;let a=no.create(this.top,n,r,i,s,o);if(a.contentDOM){a.children=t.children,t.children=[];for(let l of a.children)l.parent=a}return t.destroy(),a}addNode(t,n,r,i,s){let o=no.create(this.top,t,n,r,i,s);o.contentDOM&&o.updateChildren(i,s+1),this.top.children.splice(this.index++,0,o),this.changed=!0}placeWidget(t,n,r){let i=this.index<this.top.children.length?this.top.children[this.index]:null;if(i&&i.matchesWidget(t)&&(t==i.widget||!i.widget.type.toDOM.parentNode))this.index++;else{let s=new YM(this.top,t,n,r);this.top.children.splice(this.index++,0,s),this.changed=!0}}addTextblockHacks(){let t=this.top.children[this.index-1],n=this.top;for(;t instanceof ta;)n=t,t=n.children[n.children.length-1];(!t||!(t instanceof ih)||/\n$/.test(t.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(t.node.text))&&((qn||kn)&&t&&t.dom.contentEditable=="false"&&this.addHackNode("IMG",n),this.addHackNode("BR",this.top))}addHackNode(t,n){if(n==this.top&&this.index<n.children.length&&n.children[this.index].matchesHack(t))this.index++;else{let r=document.createElement(t);t=="IMG"&&(r.className="ProseMirror-separator",r.alt=""),t=="BR"&&(r.className="ProseMirror-trailingBreak");let i=new KM(this.top,[],r,null);n!=this.top?n.children.push(i):n.children.splice(this.index++,0,i),this.changed=!0}}isLocked(t){return this.lock&&(t==this.lock||t.nodeType==1&&t.contains(this.lock.parentNode))}}function Qoe(e,t){let n=t,r=n.children.length,i=e.childCount,s=new Map,o=[];e:for(;i>0;){let a;for(;;)if(r){let u=n.children[r-1];if(u instanceof ta)n=u,r=u.children.length;else{a=u,r--;break}}else{if(n==t)break e;r=n.parent.children.indexOf(n),n=n.parent}let l=a.node;if(l){if(l!=e.child(i-1))break;--i,s.set(a,i),o.push(a)}}return{index:i,matched:s,matches:o.reverse()}}function Joe(e,t){return e.type.side-t.type.side}function Zoe(e,t,n,r){let i=t.locals(e),s=0;if(i.length==0){for(let u=0;u<e.childCount;u++){let c=e.child(u);r(c,i,t.forChild(s,c),u),s+=c.nodeSize}return}let o=0,a=[],l=null;for(let u=0;;){let c,d;for(;o<i.length&&i[o].to==s;){let b=i[o++];b.widget&&(c?(d||(d=[c])).push(b):c=b)}if(c)if(d){d.sort(Joe);for(let b=0;b<d.length;b++)n(d[b],u,!!l)}else n(c,u,!!l);let f,p;if(l)p=-1,f=l,l=null;else if(u<e.childCount)p=u,f=e.child(u++);else break;for(let b=0;b<a.length;b++)a[b].to<=s&&a.splice(b--,1);for(;o<i.length&&i[o].from<=s&&i[o].to>s;)a.push(i[o++]);let m=s+f.nodeSize;if(f.isText){let b=m;o<i.length&&i[o].from<b&&(b=i[o].from);for(let y=0;y<a.length;y++)a[y].to<b&&(b=a[y].to);b<m&&(l=f.cut(b-s),f=f.cut(0,b-s),m=b,p=-1)}else for(;o<i.length&&i[o].to<m;)o++;let g=f.isInline&&!f.isLeaf?a.filter(b=>!b.inline):a.slice();r(f,g,t.forChild(s,f),p),s=m}}function eae(e){if(e.nodeName=="UL"||e.nodeName=="OL"){let t=e.style.cssText;e.style.cssText=t+"; list-style: square !important",window.getComputedStyle(e).listStyle,e.style.cssText=t}}function tae(e,t,n,r){for(let i=0,s=0;i<e.childCount&&s<=r;){let o=e.child(i++),a=s;if(s+=o.nodeSize,!o.isText)continue;let l=o.text;for(;i<e.childCount;){let u=e.child(i++);if(s+=u.nodeSize,!u.isText)break;l+=u.text}if(s>=n){if(s>=r&&l.slice(r-t.length-a,r-a)==t)return r-t.length;let u=a<r?l.lastIndexOf(t,r-a-1):-1;if(u>=0&&u+t.length+a>=n)return a+u;if(n==r&&l.length>=r+t.length-a&&l.slice(r-a,r-a+t.length)==t)return r}}return-1}function H1(e,t,n,r,i){let s=[];for(let o=0,a=0;o<e.length;o++){let l=e[o],u=a,c=a+=l.size;u>=n||c<=t?s.push(l):(u<t&&s.push(l.slice(0,t-u,r)),i&&(s.push(i),i=void 0),c>n&&s.push(l.slice(n-u,l.size,r)))}return s}function Y_(e,t=null){let n=e.domSelectionRange(),r=e.state.doc;if(!n.focusNode)return null;let i=e.docView.nearestDesc(n.focusNode),s=i&&i.size==0,o=e.docView.posFromDOM(n.focusNode,n.focusOffset,1);if(o<0)return null;let a=r.resolve(o),l,u;if(rh(n)){for(l=o;i&&!i.node;)i=i.parent;let d=i.node;if(i&&d.isAtom&&qe.isSelectable(d)&&i.parent&&!(d.isInline&&Aoe(n.focusNode,n.focusOffset,i.dom))){let f=i.posBefore;u=new qe(o==f?a:r.resolve(f))}}else{if(n instanceof e.dom.ownerDocument.defaultView.Selection&&n.rangeCount>1){let d=o,f=o;for(let p=0;p<n.rangeCount;p++){let m=n.getRangeAt(p);d=Math.min(d,e.docView.posFromDOM(m.startContainer,m.startOffset,1)),f=Math.max(f,e.docView.posFromDOM(m.endContainer,m.endOffset,-1))}if(d<0)return null;[l,o]=f==e.state.selection.anchor?[f,d]:[d,f],a=r.resolve(o)}else l=e.docView.posFromDOM(n.anchorNode,n.anchorOffset,1);if(l<0)return null}let c=r.resolve(l);if(!u){let d=t=="pointer"||e.state.selection.head<a.pos&&!s?1:-1;u=K_(e,c,a,d)}return u}function ZM(e){return e.editable?e.hasFocus():tP(e)&&document.activeElement&&document.activeElement.contains(e.dom)}function fs(e,t=!1){let n=e.state.selection;if(eP(e,n),!!ZM(e)){if(!t&&e.input.mouseDown&&e.input.mouseDown.allowDefault&&kn){let r=e.domSelectionRange(),i=e.domObserver.currentSelection;if(r.anchorNode&&i.anchorNode&&ea(r.anchorNode,r.anchorOffset,i.anchorNode,i.anchorOffset)){e.input.mouseDown.delayedSelectionSync=!0,e.domObserver.setCurSelection();return}}if(e.domObserver.disconnectSelection(),e.cursorWrapper)rae(e);else{let{anchor:r,head:i}=n,s,o;xC&&!(n instanceof He)&&(n.$from.parent.inlineContent||(s=CC(e,n.from)),!n.empty&&!n.$from.parent.inlineContent&&(o=CC(e,n.to))),e.docView.setSelection(r,i,e,t),xC&&(s&&SC(s),o&&SC(o)),n.visible?e.dom.classList.remove("ProseMirror-hideselection"):(e.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&nae(e))}e.domObserver.setCurSelection(),e.domObserver.connectSelection()}}const xC=qn||kn&&HM<63;function CC(e,t){let{node:n,offset:r}=e.docView.domFromPos(t,0),i=r<n.childNodes.length?n.childNodes[r]:null,s=r?n.childNodes[r-1]:null;if(qn&&i&&i.contentEditable=="false")return Um(i);if((!i||i.contentEditable=="false")&&(!s||s.contentEditable=="false")){if(i)return Um(i);if(s)return Um(s)}}function Um(e){return e.contentEditable="true",qn&&e.draggable&&(e.draggable=!1,e.wasDraggable=!0),e}function SC(e){e.contentEditable="false",e.wasDraggable&&(e.draggable=!0,e.wasDraggable=null)}function nae(e){let t=e.dom.ownerDocument;t.removeEventListener("selectionchange",e.input.hideSelectionGuard);let n=e.domSelectionRange(),r=n.anchorNode,i=n.anchorOffset;t.addEventListener("selectionchange",e.input.hideSelectionGuard=()=>{(n.anchorNode!=r||n.anchorOffset!=i)&&(t.removeEventListener("selectionchange",e.input.hideSelectionGuard),setTimeout(()=>{(!ZM(e)||e.state.selection.visible)&&e.dom.classList.remove("ProseMirror-hideselection")},20))})}function rae(e){let t=e.domSelection(),n=document.createRange();if(!t)return;let r=e.cursorWrapper.dom,i=r.nodeName=="IMG";i?n.setStart(r.parentNode,yn(r)+1):n.setStart(r,0),n.collapse(!0),t.removeAllRanges(),t.addRange(n),!i&&!e.state.selection.visible&&rr&&to<=11&&(r.disabled=!0,r.disabled=!1)}function eP(e,t){if(t instanceof qe){let n=e.docView.descAt(t.from);n!=e.lastSelectedViewDesc&&(AC(e),n&&n.selectNode(),e.lastSelectedViewDesc=n)}else AC(e)}function AC(e){e.lastSelectedViewDesc&&(e.lastSelectedViewDesc.parent&&e.lastSelectedViewDesc.deselectNode(),e.lastSelectedViewDesc=void 0)}function K_(e,t,n,r){return e.someProp("createSelectionBetween",i=>i(e,t,n))||He.between(t,n,r)}function OC(e){return e.editable&&!e.hasFocus()?!1:tP(e)}function tP(e){let t=e.domSelectionRange();if(!t.anchorNode)return!1;try{return e.dom.contains(t.anchorNode.nodeType==3?t.anchorNode.parentNode:t.anchorNode)&&(e.editable||e.dom.contains(t.focusNode.nodeType==3?t.focusNode.parentNode:t.focusNode))}catch{return!1}}function iae(e){let t=e.docView.domFromPos(e.state.selection.anchor,0),n=e.domSelectionRange();return ea(t.node,t.offset,n.anchorNode,n.anchorOffset)}function z1(e,t){let{$anchor:n,$head:r}=e.selection,i=t>0?n.max(r):n.min(r),s=i.parent.inlineContent?i.depth?e.doc.resolve(t>0?i.after():i.before()):null:i;return s&&Ue.findFrom(s,t)}function $s(e,t){return e.dispatch(e.state.tr.setSelection(t).scrollIntoView()),!0}function kC(e,t,n){let r=e.state.selection;if(r instanceof He)if(n.indexOf("s")>-1){let{$head:i}=r,s=i.textOffset?null:t<0?i.nodeBefore:i.nodeAfter;if(!s||s.isText||!s.isLeaf)return!1;let o=e.state.doc.resolve(i.pos+s.nodeSize*(t<0?-1:1));return $s(e,new He(r.$anchor,o))}else if(r.empty){if(e.endOfTextblock(t>0?"forward":"backward")){let i=z1(e.state,t);return i&&i instanceof qe?$s(e,i):!1}else if(!(Ar&&n.indexOf("m")>-1)){let i=r.$head,s=i.textOffset?null:t<0?i.nodeBefore:i.nodeAfter,o;if(!s||s.isText)return!1;let a=t<0?i.pos-s.nodeSize:i.pos;return s.isAtom||(o=e.docView.descAt(a))&&!o.contentDOM?qe.isSelectable(s)?$s(e,new qe(t<0?e.state.doc.resolve(i.pos-s.nodeSize):i)):Zc?$s(e,new He(e.state.doc.resolve(t<0?a:a+s.nodeSize))):!1:!1}}else return!1;else{if(r instanceof qe&&r.node.isInline)return $s(e,new He(t>0?r.$to:r.$from));{let i=z1(e.state,t);return i?$s(e,i):!1}}}function Jf(e){return e.nodeType==3?e.nodeValue.length:e.childNodes.length}function ju(e,t){let n=e.pmViewDesc;return n&&n.size==0&&(t<0||e.nextSibling||e.nodeName!="BR")}function xa(e,t){return t<0?sae(e):oae(e)}function sae(e){let t=e.domSelectionRange(),n=t.focusNode,r=t.focusOffset;if(!n)return;let i,s,o=!1;for(oi&&n.nodeType==1&&r<Jf(n)&&ju(n.childNodes[r],-1)&&(o=!0);;)if(r>0){if(n.nodeType!=1)break;{let a=n.childNodes[r-1];if(ju(a,-1))i=n,s=--r;else if(a.nodeType==3)n=a,r=n.nodeValue.length;else break}}else{if(nP(n))break;{let a=n.previousSibling;for(;a&&ju(a,-1);)i=n.parentNode,s=yn(a),a=a.previousSibling;if(a)n=a,r=Jf(n);else{if(n=n.parentNode,n==e.dom)break;r=0}}}o?j1(e,n,r):i&&j1(e,i,s)}function oae(e){let t=e.domSelectionRange(),n=t.focusNode,r=t.focusOffset;if(!n)return;let i=Jf(n),s,o;for(;;)if(r<i){if(n.nodeType!=1)break;let a=n.childNodes[r];if(ju(a,1))s=n,o=++r;else break}else{if(nP(n))break;{let a=n.nextSibling;for(;a&&ju(a,1);)s=a.parentNode,o=yn(a)+1,a=a.nextSibling;if(a)n=a,r=0,i=Jf(n);else{if(n=n.parentNode,n==e.dom)break;r=i=0}}}s&&j1(e,s,o)}function nP(e){let t=e.pmViewDesc;return t&&t.node&&t.node.isBlock}function aae(e,t){for(;e&&t==e.childNodes.length&&!Jc(e);)t=yn(e)+1,e=e.parentNode;for(;e&&t<e.childNodes.length;){let n=e.childNodes[t];if(n.nodeType==3)return n;if(n.nodeType==1&&n.contentEditable=="false")break;e=n,t=0}}function lae(e,t){for(;e&&!t&&!Jc(e);)t=yn(e),e=e.parentNode;for(;e&&t;){let n=e.childNodes[t-1];if(n.nodeType==3)return n;if(n.nodeType==1&&n.contentEditable=="false")break;e=n,t=e.childNodes.length}}function j1(e,t,n){if(t.nodeType!=3){let s,o;(o=aae(t,n))?(t=o,n=0):(s=lae(t,n))&&(t=s,n=s.nodeValue.length)}let r=e.domSelection();if(!r)return;if(rh(r)){let s=document.createRange();s.setEnd(t,n),s.setStart(t,n),r.removeAllRanges(),r.addRange(s)}else r.extend&&r.extend(t,n);e.domObserver.setCurSelection();let{state:i}=e;setTimeout(()=>{e.state==i&&fs(e)},50)}function IC(e,t){let n=e.state.doc.resolve(t);if(!(kn||Ioe)&&n.parent.inlineContent){let i=e.coordsAtPos(t);if(t>n.start()){let s=e.coordsAtPos(t-1),o=(s.top+s.bottom)/2;if(o>i.top&&o<i.bottom&&Math.abs(s.left-i.left)>1)return s.left<i.left?"ltr":"rtl"}if(t<n.end()){let s=e.coordsAtPos(t+1),o=(s.top+s.bottom)/2;if(o>i.top&&o<i.bottom&&Math.abs(s.left-i.left)>1)return s.left>i.left?"ltr":"rtl"}}return getComputedStyle(e.dom).direction=="rtl"?"rtl":"ltr"}function NC(e,t,n){let r=e.state.selection;if(r instanceof He&&!r.empty||n.indexOf("s")>-1||Ar&&n.indexOf("m")>-1)return!1;let{$from:i,$to:s}=r;if(!i.parent.inlineContent||e.endOfTextblock(t<0?"up":"down")){let o=z1(e.state,t);if(o&&o instanceof qe)return $s(e,o)}if(!i.parent.inlineContent){let o=t<0?i:s,a=r instanceof Hn?Ue.near(o,t):Ue.findFrom(o,t);return a?$s(e,a):!1}return!1}function RC(e,t){if(!(e.state.selection instanceof He))return!0;let{$head:n,$anchor:r,empty:i}=e.state.selection;if(!n.sameParent(r))return!0;if(!i)return!1;if(e.endOfTextblock(t>0?"forward":"backward"))return!0;let s=!n.textOffset&&(t<0?n.nodeBefore:n.nodeAfter);if(s&&!s.isText){let o=e.state.tr;return t<0?o.delete(n.pos-s.nodeSize,n.pos):o.delete(n.pos,n.pos+s.nodeSize),e.dispatch(o),!0}return!1}function DC(e,t,n){e.domObserver.stop(),t.contentEditable=n,e.domObserver.start()}function uae(e){if(!qn||e.state.selection.$head.parentOffset>0)return!1;let{focusNode:t,focusOffset:n}=e.domSelectionRange();if(t&&t.nodeType==1&&n==0&&t.firstChild&&t.firstChild.contentEditable=="false"){let r=t.firstChild;DC(e,r,"true"),setTimeout(()=>DC(e,r,"false"),20)}return!1}function cae(e){let t="";return e.ctrlKey&&(t+="c"),e.metaKey&&(t+="m"),e.altKey&&(t+="a"),e.shiftKey&&(t+="s"),t}function dae(e,t){let n=t.keyCode,r=cae(t);if(n==8||Ar&&n==72&&r=="c")return RC(e,-1)||xa(e,-1);if(n==46&&!t.shiftKey||Ar&&n==68&&r=="c")return RC(e,1)||xa(e,1);if(n==13||n==27)return!0;if(n==37||Ar&&n==66&&r=="c"){let i=n==37?IC(e,e.state.selection.from)=="ltr"?-1:1:-1;return kC(e,i,r)||xa(e,i)}else if(n==39||Ar&&n==70&&r=="c"){let i=n==39?IC(e,e.state.selection.from)=="ltr"?1:-1:1;return kC(e,i,r)||xa(e,i)}else{if(n==38||Ar&&n==80&&r=="c")return NC(e,-1,r)||xa(e,-1);if(n==40||Ar&&n==78&&r=="c")return uae(e)||NC(e,1,r)||xa(e,1);if(r==(Ar?"m":"c")&&(n==66||n==73||n==89||n==90))return!0}return!1}function X_(e,t){e.someProp("transformCopied",p=>{t=p(t,e)});let n=[],{content:r,openStart:i,openEnd:s}=t;for(;i>1&&s>1&&r.childCount==1&&r.firstChild.childCount==1;){i--,s--;let p=r.firstChild;n.push(p.type.name,p.attrs!=p.type.defaultAttrs?p.attrs:null),r=p.content}let o=e.someProp("clipboardSerializer")||si.fromSchema(e.state.schema),a=lP(),l=a.createElement("div");l.appendChild(o.serializeFragment(r,{document:a}));let u=l.firstChild,c,d=0;for(;u&&u.nodeType==1&&(c=aP[u.nodeName.toLowerCase()]);){for(let p=c.length-1;p>=0;p--){let m=a.createElement(c[p]);for(;l.firstChild;)m.appendChild(l.firstChild);l.appendChild(m),d++}u=l.firstChild}u&&u.nodeType==1&&u.setAttribute("data-pm-slice",`${i} ${s}${d?` -${d}`:""} ${JSON.stringify(n)}`);let f=e.someProp("clipboardTextSerializer",p=>p(t,e))||t.content.textBetween(0,t.content.size,`

`);return{dom:l,text:f,slice:t}}function rP(e,t,n,r,i){let s=i.parent.type.spec.code,o,a;if(!n&&!t)return null;let l=t&&(r||s||!n);if(l){if(e.someProp("transformPastedText",f=>{t=f(t,s||r,e)}),s)return t?new ge(se.from(e.state.schema.text(t.replace(/\r\n?/g,`
`))),0,0):ge.empty;let d=e.someProp("clipboardTextParser",f=>f(t,i,r,e));if(d)a=d;else{let f=i.marks(),{schema:p}=e.state,m=si.fromSchema(p);o=document.createElement("div"),t.split(/(?:\r\n?|\n)+/).forEach(g=>{let b=o.appendChild(document.createElement("p"));g&&b.appendChild(m.serializeNode(p.text(g,f)))})}}else e.someProp("transformPastedHTML",d=>{n=d(n,e)}),o=mae(n),Zc&&gae(o);let u=o&&o.querySelector("[data-pm-slice]"),c=u&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(u.getAttribute("data-pm-slice")||"");if(c&&c[3])for(let d=+c[3];d>0;d--){let f=o.firstChild;for(;f&&f.nodeType!=1;)f=f.nextSibling;if(!f)break;o=f}if(a||(a=(e.someProp("clipboardParser")||e.someProp("domParser")||al.fromSchema(e.state.schema)).parseSlice(o,{preserveWhitespace:!!(l||c),context:i,ruleFromNode(f){return f.nodeName=="BR"&&!f.nextSibling&&f.parentNode&&!fae.test(f.parentNode.nodeName)?{ignore:!0}:null}})),c)a=bae(MC(a,+c[1],+c[2]),c[4]);else if(a=ge.maxOpen(pae(a.content,i),!0),a.openStart||a.openEnd){let d=0,f=0;for(let p=a.content.firstChild;d<a.openStart&&!p.type.spec.isolating;d++,p=p.firstChild);for(let p=a.content.lastChild;f<a.openEnd&&!p.type.spec.isolating;f++,p=p.lastChild);a=MC(a,d,f)}return e.someProp("transformPasted",d=>{a=d(a,e)}),a}const fae=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function pae(e,t){if(e.childCount<2)return e;for(let n=t.depth;n>=0;n--){let i=t.node(n).contentMatchAt(t.index(n)),s,o=[];if(e.forEach(a=>{if(!o)return;let l=i.findWrapping(a.type),u;if(!l)return o=null;if(u=o.length&&s.length&&sP(l,s,a,o[o.length-1],0))o[o.length-1]=u;else{o.length&&(o[o.length-1]=oP(o[o.length-1],s.length));let c=iP(a,l);o.push(c),i=i.matchType(c.type),s=l}}),o)return se.from(o)}return e}function iP(e,t,n=0){for(let r=t.length-1;r>=n;r--)e=t[r].create(null,se.from(e));return e}function sP(e,t,n,r,i){if(i<e.length&&i<t.length&&e[i]==t[i]){let s=sP(e,t,n,r.lastChild,i+1);if(s)return r.copy(r.content.replaceChild(r.childCount-1,s));if(r.contentMatchAt(r.childCount).matchType(i==e.length-1?n.type:e[i+1]))return r.copy(r.content.append(se.from(iP(n,e,i+1))))}}function oP(e,t){if(t==0)return e;let n=e.content.replaceChild(e.childCount-1,oP(e.lastChild,t-1)),r=e.contentMatchAt(e.childCount).fillBefore(se.empty,!0);return e.copy(n.append(r))}function q1(e,t,n,r,i,s){let o=t<0?e.firstChild:e.lastChild,a=o.content;return e.childCount>1&&(s=0),i<r-1&&(a=q1(a,t,n,r,i+1,s)),i>=n&&(a=t<0?o.contentMatchAt(0).fillBefore(a,s<=i).append(a):a.append(o.contentMatchAt(o.childCount).fillBefore(se.empty,!0))),e.replaceChild(t<0?0:e.childCount-1,o.copy(a))}function MC(e,t,n){return t<e.openStart&&(e=new ge(q1(e.content,-1,t,e.openStart,0,e.openEnd),t,e.openEnd)),n<e.openEnd&&(e=new ge(q1(e.content,1,n,e.openEnd,0,0),e.openStart,n)),e}const aP={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let PC=null;function lP(){return PC||(PC=document.implementation.createHTMLDocument("title"))}let Hm=null;function hae(e){let t=window.trustedTypes;return t?(Hm||(Hm=t.createPolicy("ProseMirrorClipboard",{createHTML:n=>n})),Hm.createHTML(e)):e}function mae(e){let t=/^(\s*<meta [^>]*>)*/.exec(e);t&&(e=e.slice(t[0].length));let n=lP().createElement("div"),r=/<([a-z][^>\s]+)/i.exec(e),i;if((i=r&&aP[r[1].toLowerCase()])&&(e=i.map(s=>"<"+s+">").join("")+e+i.map(s=>"</"+s+">").reverse().join("")),n.innerHTML=hae(e),i)for(let s=0;s<i.length;s++)n=n.querySelector(i[s])||n;return n}function gae(e){let t=e.querySelectorAll(kn?"span:not([class]):not([style])":"span.Apple-converted-space");for(let n=0;n<t.length;n++){let r=t[n];r.childNodes.length==1&&r.textContent==" "&&r.parentNode&&r.parentNode.replaceChild(e.ownerDocument.createTextNode(" "),r)}}function bae(e,t){if(!e.size)return e;let n=e.content.firstChild.type.schema,r;try{r=JSON.parse(t)}catch{return e}let{content:i,openStart:s,openEnd:o}=e;for(let a=r.length-2;a>=0;a-=2){let l=n.nodes[r[a]];if(!l||l.hasRequiredAttrs())break;i=se.from(l.create(r[a+1],i)),s++,o++}return new ge(i,s,o)}const Vn={},Wn={},yae={touchstart:!0,touchmove:!0};class _ae{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:""},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastChromeDelete=0,this.composing=!1,this.compositionNode=null,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.compositionID=1,this.compositionPendingChanges=0,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function Eae(e){for(let t in Vn){let n=Vn[t];e.dom.addEventListener(t,e.input.eventHandlers[t]=r=>{Tae(e,r)&&!Q_(e,r)&&(e.editable||!(r.type in Wn))&&n(e,r)},yae[t]?{passive:!0}:void 0)}qn&&e.dom.addEventListener("input",()=>null),V1(e)}function Qs(e,t){e.input.lastSelectionOrigin=t,e.input.lastSelectionTime=Date.now()}function vae(e){e.domObserver.stop();for(let t in e.input.eventHandlers)e.dom.removeEventListener(t,e.input.eventHandlers[t]);clearTimeout(e.input.composingTimeout),clearTimeout(e.input.lastIOSEnterFallbackTimeout)}function V1(e){e.someProp("handleDOMEvents",t=>{for(let n in t)e.input.eventHandlers[n]||e.dom.addEventListener(n,e.input.eventHandlers[n]=r=>Q_(e,r))})}function Q_(e,t){return e.someProp("handleDOMEvents",n=>{let r=n[t.type];return r?r(e,t)||t.defaultPrevented:!1})}function Tae(e,t){if(!t.bubbles)return!0;if(t.defaultPrevented)return!1;for(let n=t.target;n!=e.dom;n=n.parentNode)if(!n||n.nodeType==11||n.pmViewDesc&&n.pmViewDesc.stopEvent(t))return!1;return!0}function wae(e,t){!Q_(e,t)&&Vn[t.type]&&(e.editable||!(t.type in Wn))&&Vn[t.type](e,t)}Wn.keydown=(e,t)=>{let n=t;if(e.input.shiftKey=n.keyCode==16||n.shiftKey,!cP(e,n)&&(e.input.lastKeyCode=n.keyCode,e.input.lastKeyCodeTime=Date.now(),!(as&&kn&&n.keyCode==13)))if(n.keyCode!=229&&e.domObserver.forceFlush(),cl&&n.keyCode==13&&!n.ctrlKey&&!n.altKey&&!n.metaKey){let r=Date.now();e.input.lastIOSEnter=r,e.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{e.input.lastIOSEnter==r&&(e.someProp("handleKeyDown",i=>i(e,Ro(13,"Enter"))),e.input.lastIOSEnter=0)},200)}else e.someProp("handleKeyDown",r=>r(e,n))||dae(e,n)?n.preventDefault():Qs(e,"key")};Wn.keyup=(e,t)=>{t.keyCode==16&&(e.input.shiftKey=!1)};Wn.keypress=(e,t)=>{let n=t;if(cP(e,n)||!n.charCode||n.ctrlKey&&!n.altKey||Ar&&n.metaKey)return;if(e.someProp("handleKeyPress",i=>i(e,n))){n.preventDefault();return}let r=e.state.selection;if(!(r instanceof He)||!r.$from.sameParent(r.$to)){let i=String.fromCharCode(n.charCode);!/[\r\n]/.test(i)&&!e.someProp("handleTextInput",s=>s(e,r.$from.pos,r.$to.pos,i))&&e.dispatch(e.state.tr.insertText(i).scrollIntoView()),n.preventDefault()}};function sh(e){return{left:e.clientX,top:e.clientY}}function xae(e,t){let n=t.x-e.clientX,r=t.y-e.clientY;return n*n+r*r<100}function J_(e,t,n,r,i){if(r==-1)return!1;let s=e.state.doc.resolve(r);for(let o=s.depth+1;o>0;o--)if(e.someProp(t,a=>o>s.depth?a(e,n,s.nodeAfter,s.before(o),i,!0):a(e,n,s.node(o),s.before(o),i,!1)))return!0;return!1}function Ya(e,t,n){if(e.focused||e.focus(),e.state.selection.eq(t))return;let r=e.state.tr.setSelection(t);r.setMeta("pointer",!0),e.dispatch(r)}function Cae(e,t){if(t==-1)return!1;let n=e.state.doc.resolve(t),r=n.nodeAfter;return r&&r.isAtom&&qe.isSelectable(r)?(Ya(e,new qe(n)),!0):!1}function Sae(e,t){if(t==-1)return!1;let n=e.state.selection,r,i;n instanceof qe&&(r=n.node);let s=e.state.doc.resolve(t);for(let o=s.depth+1;o>0;o--){let a=o>s.depth?s.nodeAfter:s.node(o);if(qe.isSelectable(a)){r&&n.$from.depth>0&&o>=n.$from.depth&&s.before(n.$from.depth+1)==n.$from.pos?i=s.before(n.$from.depth):i=s.before(o);break}}return i!=null?(Ya(e,qe.create(e.state.doc,i)),!0):!1}function Aae(e,t,n,r,i){return J_(e,"handleClickOn",t,n,r)||e.someProp("handleClick",s=>s(e,t,r))||(i?Sae(e,n):Cae(e,n))}function Oae(e,t,n,r){return J_(e,"handleDoubleClickOn",t,n,r)||e.someProp("handleDoubleClick",i=>i(e,t,r))}function kae(e,t,n,r){return J_(e,"handleTripleClickOn",t,n,r)||e.someProp("handleTripleClick",i=>i(e,t,r))||Iae(e,n,r)}function Iae(e,t,n){if(n.button!=0)return!1;let r=e.state.doc;if(t==-1)return r.inlineContent?(Ya(e,He.create(r,0,r.content.size)),!0):!1;let i=r.resolve(t);for(let s=i.depth+1;s>0;s--){let o=s>i.depth?i.nodeAfter:i.node(s),a=i.before(s);if(o.inlineContent)Ya(e,He.create(r,a+1,a+1+o.content.size));else if(qe.isSelectable(o))Ya(e,qe.create(r,a));else continue;return!0}}function Z_(e){return Zf(e)}const uP=Ar?"metaKey":"ctrlKey";Vn.mousedown=(e,t)=>{let n=t;e.input.shiftKey=n.shiftKey;let r=Z_(e),i=Date.now(),s="singleClick";i-e.input.lastClick.time<500&&xae(n,e.input.lastClick)&&!n[uP]&&(e.input.lastClick.type=="singleClick"?s="doubleClick":e.input.lastClick.type=="doubleClick"&&(s="tripleClick")),e.input.lastClick={time:i,x:n.clientX,y:n.clientY,type:s};let o=e.posAtCoords(sh(n));o&&(s=="singleClick"?(e.input.mouseDown&&e.input.mouseDown.done(),e.input.mouseDown=new Nae(e,o,n,!!r)):(s=="doubleClick"?Oae:kae)(e,o.pos,o.inside,n)?n.preventDefault():Qs(e,"pointer"))};class Nae{constructor(t,n,r,i){this.view=t,this.pos=n,this.event=r,this.flushed=i,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=t.state.doc,this.selectNode=!!r[uP],this.allowDefault=r.shiftKey;let s,o;if(n.inside>-1)s=t.state.doc.nodeAt(n.inside),o=n.inside;else{let c=t.state.doc.resolve(n.pos);s=c.parent,o=c.depth?c.before():0}const a=i?null:r.target,l=a?t.docView.nearestDesc(a,!0):null;this.target=l&&l.dom.nodeType==1?l.dom:null;let{selection:u}=t.state;(r.button==0&&s.type.spec.draggable&&s.type.spec.selectable!==!1||u instanceof qe&&u.from<=o&&u.to>o)&&(this.mightDrag={node:s,pos:o,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&oi&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),t.root.addEventListener("mouseup",this.up=this.up.bind(this)),t.root.addEventListener("mousemove",this.move=this.move.bind(this)),Qs(t,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>fs(this.view)),this.view.input.mouseDown=null}up(t){if(this.done(),!this.view.dom.contains(t.target))return;let n=this.pos;this.view.state.doc!=this.startDoc&&(n=this.view.posAtCoords(sh(t))),this.updateAllowDefault(t),this.allowDefault||!n?Qs(this.view,"pointer"):Aae(this.view,n.pos,n.inside,t,this.selectNode)?t.preventDefault():t.button==0&&(this.flushed||qn&&this.mightDrag&&!this.mightDrag.node.isAtom||kn&&!this.view.state.selection.visible&&Math.min(Math.abs(n.pos-this.view.state.selection.from),Math.abs(n.pos-this.view.state.selection.to))<=2)?(Ya(this.view,Ue.near(this.view.state.doc.resolve(n.pos))),t.preventDefault()):Qs(this.view,"pointer")}move(t){this.updateAllowDefault(t),Qs(this.view,"pointer"),t.buttons==0&&this.done()}updateAllowDefault(t){!this.allowDefault&&(Math.abs(this.event.x-t.clientX)>4||Math.abs(this.event.y-t.clientY)>4)&&(this.allowDefault=!0)}}Vn.touchstart=e=>{e.input.lastTouch=Date.now(),Z_(e),Qs(e,"pointer")};Vn.touchmove=e=>{e.input.lastTouch=Date.now(),Qs(e,"pointer")};Vn.contextmenu=e=>Z_(e);function cP(e,t){return e.composing?!0:qn&&Math.abs(t.timeStamp-e.input.compositionEndedAt)<500?(e.input.compositionEndedAt=-2e8,!0):!1}const Rae=as?5e3:-1;Wn.compositionstart=Wn.compositionupdate=e=>{if(!e.composing){e.domObserver.flush();let{state:t}=e,n=t.selection.$to;if(t.selection instanceof He&&(t.storedMarks||!n.textOffset&&n.parentOffset&&n.nodeBefore.marks.some(r=>r.type.spec.inclusive===!1)))e.markCursor=e.state.storedMarks||n.marks(),Zf(e,!0),e.markCursor=null;else if(Zf(e,!t.selection.empty),oi&&t.selection.empty&&n.parentOffset&&!n.textOffset&&n.nodeBefore.marks.length){let r=e.domSelectionRange();for(let i=r.focusNode,s=r.focusOffset;i&&i.nodeType==1&&s!=0;){let o=s<0?i.lastChild:i.childNodes[s-1];if(!o)break;if(o.nodeType==3){let a=e.domSelection();a&&a.collapse(o,o.nodeValue.length);break}else i=o,s=-1}}e.input.composing=!0}dP(e,Rae)};Wn.compositionend=(e,t)=>{e.composing&&(e.input.composing=!1,e.input.compositionEndedAt=t.timeStamp,e.input.compositionPendingChanges=e.domObserver.pendingRecords().length?e.input.compositionID:0,e.input.compositionNode=null,e.input.compositionPendingChanges&&Promise.resolve().then(()=>e.domObserver.flush()),e.input.compositionID++,dP(e,20))};function dP(e,t){clearTimeout(e.input.composingTimeout),t>-1&&(e.input.composingTimeout=setTimeout(()=>Zf(e),t))}function fP(e){for(e.composing&&(e.input.composing=!1,e.input.compositionEndedAt=Mae());e.input.compositionNodes.length>0;)e.input.compositionNodes.pop().markParentsDirty()}function Dae(e){let t=e.domSelectionRange();if(!t.focusNode)return null;let n=Coe(t.focusNode,t.focusOffset),r=Soe(t.focusNode,t.focusOffset);if(n&&r&&n!=r){let i=r.pmViewDesc,s=e.domObserver.lastChangedTextNode;if(n==s||r==s)return s;if(!i||!i.isText(r.nodeValue))return r;if(e.input.compositionNode==r){let o=n.pmViewDesc;if(!(!o||!o.isText(n.nodeValue)))return r}}return n||r}function Mae(){let e=document.createEvent("Event");return e.initEvent("event",!0,!0),e.timeStamp}function Zf(e,t=!1){if(!(as&&e.domObserver.flushingSoon>=0)){if(e.domObserver.forceFlush(),fP(e),t||e.docView&&e.docView.dirty){let n=Y_(e);return n&&!n.eq(e.state.selection)?e.dispatch(e.state.tr.setSelection(n)):(e.markCursor||t)&&!e.state.selection.empty?e.dispatch(e.state.tr.deleteSelection()):e.updateState(e.state),!0}return!1}}function Pae(e,t){if(!e.dom.parentNode)return;let n=e.dom.parentNode.appendChild(document.createElement("div"));n.appendChild(t),n.style.cssText="position: fixed; left: -10000px; top: 10px";let r=getSelection(),i=document.createRange();i.selectNodeContents(t),e.dom.blur(),r.removeAllRanges(),r.addRange(i),setTimeout(()=>{n.parentNode&&n.parentNode.removeChild(n),e.focus()},50)}const _c=rr&&to<15||cl&&Noe<604;Vn.copy=Wn.cut=(e,t)=>{let n=t,r=e.state.selection,i=n.type=="cut";if(r.empty)return;let s=_c?null:n.clipboardData,o=r.content(),{dom:a,text:l}=X_(e,o);s?(n.preventDefault(),s.clearData(),s.setData("text/html",a.innerHTML),s.setData("text/plain",l)):Pae(e,a),i&&e.dispatch(e.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))};function Lae(e){return e.openStart==0&&e.openEnd==0&&e.content.childCount==1?e.content.firstChild:null}function Bae(e,t){if(!e.dom.parentNode)return;let n=e.input.shiftKey||e.state.selection.$from.parent.type.spec.code,r=e.dom.parentNode.appendChild(document.createElement(n?"textarea":"div"));n||(r.contentEditable="true"),r.style.cssText="position: fixed; left: -10000px; top: 10px",r.focus();let i=e.input.shiftKey&&e.input.lastKeyCode!=45;setTimeout(()=>{e.focus(),r.parentNode&&r.parentNode.removeChild(r),n?Ec(e,r.value,null,i,t):Ec(e,r.textContent,r.innerHTML,i,t)},50)}function Ec(e,t,n,r,i){let s=rP(e,t,n,r,e.state.selection.$from);if(e.someProp("handlePaste",l=>l(e,i,s||ge.empty)))return!0;if(!s)return!1;let o=Lae(s),a=o?e.state.tr.replaceSelectionWith(o,r):e.state.tr.replaceSelection(s);return e.dispatch(a.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}function pP(e){let t=e.getData("text/plain")||e.getData("Text");if(t)return t;let n=e.getData("text/uri-list");return n?n.replace(/\r?\n/g," "):""}Wn.paste=(e,t)=>{let n=t;if(e.composing&&!as)return;let r=_c?null:n.clipboardData,i=e.input.shiftKey&&e.input.lastKeyCode!=45;r&&Ec(e,pP(r),r.getData("text/html"),i,n)?n.preventDefault():Bae(e,n)};class hP{constructor(t,n,r){this.slice=t,this.move=n,this.node=r}}const mP=Ar?"altKey":"ctrlKey";Vn.dragstart=(e,t)=>{let n=t,r=e.input.mouseDown;if(r&&r.done(),!n.dataTransfer)return;let i=e.state.selection,s=i.empty?null:e.posAtCoords(sh(n)),o;if(!(s&&s.pos>=i.from&&s.pos<=(i instanceof qe?i.to-1:i.to))){if(r&&r.mightDrag)o=qe.create(e.state.doc,r.mightDrag.pos);else if(n.target&&n.target.nodeType==1){let d=e.docView.nearestDesc(n.target,!0);d&&d.node.type.spec.draggable&&d!=e.docView&&(o=qe.create(e.state.doc,d.posBefore))}}let a=(o||e.state.selection).content(),{dom:l,text:u,slice:c}=X_(e,a);(!n.dataTransfer.files.length||!kn||HM>120)&&n.dataTransfer.clearData(),n.dataTransfer.setData(_c?"Text":"text/html",l.innerHTML),n.dataTransfer.effectAllowed="copyMove",_c||n.dataTransfer.setData("text/plain",u),e.dragging=new hP(c,!n[mP],o)};Vn.dragend=e=>{let t=e.dragging;window.setTimeout(()=>{e.dragging==t&&(e.dragging=null)},50)};Wn.dragover=Wn.dragenter=(e,t)=>t.preventDefault();Wn.drop=(e,t)=>{let n=t,r=e.dragging;if(e.dragging=null,!n.dataTransfer)return;let i=e.posAtCoords(sh(n));if(!i)return;let s=e.state.doc.resolve(i.pos),o=r&&r.slice;o?e.someProp("transformPasted",m=>{o=m(o,e)}):o=rP(e,pP(n.dataTransfer),_c?null:n.dataTransfer.getData("text/html"),!1,s);let a=!!(r&&!n[mP]);if(e.someProp("handleDrop",m=>m(e,n,o||ge.empty,a))){n.preventDefault();return}if(!o)return;n.preventDefault();let l=o?RM(e.state.doc,s.pos,o):s.pos;l==null&&(l=s.pos);let u=e.state.tr;if(a){let{node:m}=r;m?m.replace(u):u.deleteSelection()}let c=u.mapping.map(l),d=o.openStart==0&&o.openEnd==0&&o.content.childCount==1,f=u.doc;if(d?u.replaceRangeWith(c,c,o.content.firstChild):u.replaceRange(c,c,o),u.doc.eq(f))return;let p=u.doc.resolve(c);if(d&&qe.isSelectable(o.content.firstChild)&&p.nodeAfter&&p.nodeAfter.sameMarkup(o.content.firstChild))u.setSelection(new qe(p));else{let m=u.mapping.map(l);u.mapping.maps[u.mapping.maps.length-1].forEach((g,b,y,E)=>m=E),u.setSelection(K_(e,p,u.doc.resolve(m)))}e.focus(),e.dispatch(u.setMeta("uiEvent","drop"))};Vn.focus=e=>{e.input.lastFocus=Date.now(),e.focused||(e.domObserver.stop(),e.dom.classList.add("ProseMirror-focused"),e.domObserver.start(),e.focused=!0,setTimeout(()=>{e.docView&&e.hasFocus()&&!e.domObserver.currentSelection.eq(e.domSelectionRange())&&fs(e)},20))};Vn.blur=(e,t)=>{let n=t;e.focused&&(e.domObserver.stop(),e.dom.classList.remove("ProseMirror-focused"),e.domObserver.start(),n.relatedTarget&&e.dom.contains(n.relatedTarget)&&e.domObserver.currentSelection.clear(),e.focused=!1)};Vn.beforeinput=(e,t)=>{if(kn&&as&&t.inputType=="deleteContentBackward"){e.domObserver.flushSoon();let{domChangeCount:r}=e.input;setTimeout(()=>{if(e.input.domChangeCount!=r||(e.dom.blur(),e.focus(),e.someProp("handleKeyDown",s=>s(e,Ro(8,"Backspace")))))return;let{$cursor:i}=e.state.selection;i&&i.pos>0&&e.dispatch(e.state.tr.delete(i.pos-1,i.pos).scrollIntoView())},50)}};for(let e in Wn)Vn[e]=Wn[e];function vc(e,t){if(e==t)return!0;for(let n in e)if(e[n]!==t[n])return!1;for(let n in t)if(!(n in e))return!1;return!0}class ep{constructor(t,n){this.toDOM=t,this.spec=n||qo,this.side=this.spec.side||0}map(t,n,r,i){let{pos:s,deleted:o}=t.mapResult(n.from+i,this.side<0?-1:1);return o?null:new dn(s-r,s-r,this)}valid(){return!0}eq(t){return this==t||t instanceof ep&&(this.spec.key&&this.spec.key==t.spec.key||this.toDOM==t.toDOM&&vc(this.spec,t.spec))}destroy(t){this.spec.destroy&&this.spec.destroy(t)}}class ro{constructor(t,n){this.attrs=t,this.spec=n||qo}map(t,n,r,i){let s=t.map(n.from+i,this.spec.inclusiveStart?-1:1)-r,o=t.map(n.to+i,this.spec.inclusiveEnd?1:-1)-r;return s>=o?null:new dn(s,o,this)}valid(t,n){return n.from<n.to}eq(t){return this==t||t instanceof ro&&vc(this.attrs,t.attrs)&&vc(this.spec,t.spec)}static is(t){return t.type instanceof ro}destroy(){}}class eE{constructor(t,n){this.attrs=t,this.spec=n||qo}map(t,n,r,i){let s=t.mapResult(n.from+i,1);if(s.deleted)return null;let o=t.mapResult(n.to+i,-1);return o.deleted||o.pos<=s.pos?null:new dn(s.pos-r,o.pos-r,this)}valid(t,n){let{index:r,offset:i}=t.content.findIndex(n.from),s;return i==n.from&&!(s=t.child(r)).isText&&i+s.nodeSize==n.to}eq(t){return this==t||t instanceof eE&&vc(this.attrs,t.attrs)&&vc(this.spec,t.spec)}destroy(){}}class dn{constructor(t,n,r){this.from=t,this.to=n,this.type=r}copy(t,n){return new dn(t,n,this.type)}eq(t,n=0){return this.type.eq(t.type)&&this.from+n==t.from&&this.to+n==t.to}map(t,n,r){return this.type.map(t,this,n,r)}static widget(t,n,r){return new dn(t,t,new ep(n,r))}static inline(t,n,r,i){return new dn(t,n,new ro(r,i))}static node(t,n,r,i){return new dn(t,n,new eE(r,i))}get spec(){return this.type.spec}get inline(){return this.type instanceof ro}get widget(){return this.type instanceof ep}}const Ia=[],qo={};class Pt{constructor(t,n){this.local=t.length?t:Ia,this.children=n.length?n:Ia}static create(t,n){return n.length?tp(n,t,0,qo):wn}find(t,n,r){let i=[];return this.findInner(t??0,n??1e9,i,0,r),i}findInner(t,n,r,i,s){for(let o=0;o<this.local.length;o++){let a=this.local[o];a.from<=n&&a.to>=t&&(!s||s(a.spec))&&r.push(a.copy(a.from+i,a.to+i))}for(let o=0;o<this.children.length;o+=3)if(this.children[o]<n&&this.children[o+1]>t){let a=this.children[o]+1;this.children[o+2].findInner(t-a,n-a,r,i+a,s)}}map(t,n,r){return this==wn||t.maps.length==0?this:this.mapInner(t,n,0,0,r||qo)}mapInner(t,n,r,i,s){let o;for(let a=0;a<this.local.length;a++){let l=this.local[a].map(t,r,i);l&&l.type.valid(n,l)?(o||(o=[])).push(l):s.onRemove&&s.onRemove(this.local[a].spec)}return this.children.length?Fae(this.children,o||[],t,n,r,i,s):o?new Pt(o.sort(Vo),Ia):wn}add(t,n){return n.length?this==wn?Pt.create(t,n):this.addInner(t,n,0):this}addInner(t,n,r){let i,s=0;t.forEach((a,l)=>{let u=l+r,c;if(c=bP(n,a,u)){for(i||(i=this.children.slice());s<i.length&&i[s]<l;)s+=3;i[s]==l?i[s+2]=i[s+2].addInner(a,c,u+1):i.splice(s,0,l,l+a.nodeSize,tp(c,a,u+1,qo)),s+=3}});let o=gP(s?yP(n):n,-r);for(let a=0;a<o.length;a++)o[a].type.valid(t,o[a])||o.splice(a--,1);return new Pt(o.length?this.local.concat(o).sort(Vo):this.local,i||this.children)}remove(t){return t.length==0||this==wn?this:this.removeInner(t,0)}removeInner(t,n){let r=this.children,i=this.local;for(let s=0;s<r.length;s+=3){let o,a=r[s]+n,l=r[s+1]+n;for(let c=0,d;c<t.length;c++)(d=t[c])&&d.from>a&&d.to<l&&(t[c]=null,(o||(o=[])).push(d));if(!o)continue;r==this.children&&(r=this.children.slice());let u=r[s+2].removeInner(o,a+1);u!=wn?r[s+2]=u:(r.splice(s,3),s-=3)}if(i.length){for(let s=0,o;s<t.length;s++)if(o=t[s])for(let a=0;a<i.length;a++)i[a].eq(o,n)&&(i==this.local&&(i=this.local.slice()),i.splice(a--,1))}return r==this.children&&i==this.local?this:i.length||r.length?new Pt(i,r):wn}forChild(t,n){if(this==wn)return this;if(n.isLeaf)return Pt.empty;let r,i;for(let a=0;a<this.children.length;a+=3)if(this.children[a]>=t){this.children[a]==t&&(r=this.children[a+2]);break}let s=t+1,o=s+n.content.size;for(let a=0;a<this.local.length;a++){let l=this.local[a];if(l.from<o&&l.to>s&&l.type instanceof ro){let u=Math.max(s,l.from)-s,c=Math.min(o,l.to)-s;u<c&&(i||(i=[])).push(l.copy(u,c))}}if(i){let a=new Pt(i.sort(Vo),Ia);return r?new qs([a,r]):a}return r||wn}eq(t){if(this==t)return!0;if(!(t instanceof Pt)||this.local.length!=t.local.length||this.children.length!=t.children.length)return!1;for(let n=0;n<this.local.length;n++)if(!this.local[n].eq(t.local[n]))return!1;for(let n=0;n<this.children.length;n+=3)if(this.children[n]!=t.children[n]||this.children[n+1]!=t.children[n+1]||!this.children[n+2].eq(t.children[n+2]))return!1;return!0}locals(t){return tE(this.localsInner(t))}localsInner(t){if(this==wn)return Ia;if(t.inlineContent||!this.local.some(ro.is))return this.local;let n=[];for(let r=0;r<this.local.length;r++)this.local[r].type instanceof ro||n.push(this.local[r]);return n}forEachSet(t){t(this)}}Pt.empty=new Pt([],[]);Pt.removeOverlap=tE;const wn=Pt.empty;class qs{constructor(t){this.members=t}map(t,n){const r=this.members.map(i=>i.map(t,n,qo));return qs.from(r)}forChild(t,n){if(n.isLeaf)return Pt.empty;let r=[];for(let i=0;i<this.members.length;i++){let s=this.members[i].forChild(t,n);s!=wn&&(s instanceof qs?r=r.concat(s.members):r.push(s))}return qs.from(r)}eq(t){if(!(t instanceof qs)||t.members.length!=this.members.length)return!1;for(let n=0;n<this.members.length;n++)if(!this.members[n].eq(t.members[n]))return!1;return!0}locals(t){let n,r=!0;for(let i=0;i<this.members.length;i++){let s=this.members[i].localsInner(t);if(s.length)if(!n)n=s;else{r&&(n=n.slice(),r=!1);for(let o=0;o<s.length;o++)n.push(s[o])}}return n?tE(r?n:n.sort(Vo)):Ia}static from(t){switch(t.length){case 0:return wn;case 1:return t[0];default:return new qs(t.every(n=>n instanceof Pt)?t:t.reduce((n,r)=>n.concat(r instanceof Pt?r:r.members),[]))}}forEachSet(t){for(let n=0;n<this.members.length;n++)this.members[n].forEachSet(t)}}function Fae(e,t,n,r,i,s,o){let a=e.slice();for(let u=0,c=s;u<n.maps.length;u++){let d=0;n.maps[u].forEach((f,p,m,g)=>{let b=g-m-(p-f);for(let y=0;y<a.length;y+=3){let E=a[y+1];if(E<0||f>E+c-d)continue;let v=a[y]+c-d;p>=v?a[y+1]=f<=v?-2:-1:f>=c&&b&&(a[y]+=b,a[y+1]+=b)}d+=b}),c=n.maps[u].map(c,-1)}let l=!1;for(let u=0;u<a.length;u+=3)if(a[u+1]<0){if(a[u+1]==-2){l=!0,a[u+1]=-1;continue}let c=n.map(e[u]+s),d=c-i;if(d<0||d>=r.content.size){l=!0;continue}let f=n.map(e[u+1]+s,-1),p=f-i,{index:m,offset:g}=r.content.findIndex(d),b=r.maybeChild(m);if(b&&g==d&&g+b.nodeSize==p){let y=a[u+2].mapInner(n,b,c+1,e[u]+s+1,o);y!=wn?(a[u]=d,a[u+1]=p,a[u+2]=y):(a[u+1]=-2,l=!0)}else l=!0}if(l){let u=$ae(a,e,t,n,i,s,o),c=tp(u,r,0,o);t=c.local;for(let d=0;d<a.length;d+=3)a[d+1]<0&&(a.splice(d,3),d-=3);for(let d=0,f=0;d<c.children.length;d+=3){let p=c.children[d];for(;f<a.length&&a[f]<p;)f+=3;a.splice(f,0,c.children[d],c.children[d+1],c.children[d+2])}}return new Pt(t.sort(Vo),a)}function gP(e,t){if(!t||!e.length)return e;let n=[];for(let r=0;r<e.length;r++){let i=e[r];n.push(new dn(i.from+t,i.to+t,i.type))}return n}function $ae(e,t,n,r,i,s,o){function a(l,u){for(let c=0;c<l.local.length;c++){let d=l.local[c].map(r,i,u);d?n.push(d):o.onRemove&&o.onRemove(l.local[c].spec)}for(let c=0;c<l.children.length;c+=3)a(l.children[c+2],l.children[c]+u+1)}for(let l=0;l<e.length;l+=3)e[l+1]==-1&&a(e[l+2],t[l]+s+1);return n}function bP(e,t,n){if(t.isLeaf)return null;let r=n+t.nodeSize,i=null;for(let s=0,o;s<e.length;s++)(o=e[s])&&o.from>n&&o.to<r&&((i||(i=[])).push(o),e[s]=null);return i}function yP(e){let t=[];for(let n=0;n<e.length;n++)e[n]!=null&&t.push(e[n]);return t}function tp(e,t,n,r){let i=[],s=!1;t.forEach((a,l)=>{let u=bP(e,a,l+n);if(u){s=!0;let c=tp(u,a,n+l+1,r);c!=wn&&i.push(l,l+a.nodeSize,c)}});let o=gP(s?yP(e):e,-n).sort(Vo);for(let a=0;a<o.length;a++)o[a].type.valid(t,o[a])||(r.onRemove&&r.onRemove(o[a].spec),o.splice(a--,1));return o.length||i.length?new Pt(o,i):wn}function Vo(e,t){return e.from-t.from||e.to-t.to}function tE(e){let t=e;for(let n=0;n<t.length-1;n++){let r=t[n];if(r.from!=r.to)for(let i=n+1;i<t.length;i++){let s=t[i];if(s.from==r.from){s.to!=r.to&&(t==e&&(t=e.slice()),t[i]=s.copy(s.from,r.to),LC(t,i+1,s.copy(r.to,s.to)));continue}else{s.from<r.to&&(t==e&&(t=e.slice()),t[n]=r.copy(r.from,s.from),LC(t,i,r.copy(s.from,r.to)));break}}}return t}function LC(e,t,n){for(;t<e.length&&Vo(n,e[t])>0;)t++;e.splice(t,0,n)}function zm(e){let t=[];return e.someProp("decorations",n=>{let r=n(e.state);r&&r!=wn&&t.push(r)}),e.cursorWrapper&&t.push(Pt.create(e.state.doc,[e.cursorWrapper.deco])),qs.from(t)}const Uae={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},Hae=rr&&to<=11;class zae{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(t){this.anchorNode=t.anchorNode,this.anchorOffset=t.anchorOffset,this.focusNode=t.focusNode,this.focusOffset=t.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(t){return t.anchorNode==this.anchorNode&&t.anchorOffset==this.anchorOffset&&t.focusNode==this.focusNode&&t.focusOffset==this.focusOffset}}class jae{constructor(t,n){this.view=t,this.handleDOMChange=n,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new zae,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.lastChangedTextNode=null,this.observer=window.MutationObserver&&new window.MutationObserver(r=>{for(let i=0;i<r.length;i++)this.queue.push(r[i]);rr&&to<=11&&r.some(i=>i.type=="childList"&&i.removedNodes.length||i.type=="characterData"&&i.oldValue.length>i.target.nodeValue.length)?this.flushSoon():this.flush()}),Hae&&(this.onCharData=r=>{this.queue.push({target:r.target,type:"characterData",oldValue:r.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,Uae)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let t=this.observer.takeRecords();if(t.length){for(let n=0;n<t.length;n++)this.queue.push(t[n]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(OC(this.view)){if(this.suppressingSelectionUpdates)return fs(this.view);if(rr&&to<=11&&!this.view.state.selection.empty){let t=this.view.domSelectionRange();if(t.focusNode&&ea(t.focusNode,t.focusOffset,t.anchorNode,t.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(t){if(!t.focusNode)return!0;let n=new Set,r;for(let s=t.focusNode;s;s=yc(s))n.add(s);for(let s=t.anchorNode;s;s=yc(s))if(n.has(s)){r=s;break}let i=r&&this.view.docView.nearestDesc(r);if(i&&i.ignoreMutation({type:"selection",target:r.nodeType==3?r.parentNode:r}))return this.setCurSelection(),!0}pendingRecords(){if(this.observer)for(let t of this.observer.takeRecords())this.queue.push(t);return this.queue}flush(){let{view:t}=this;if(!t.docView||this.flushingSoon>-1)return;let n=this.pendingRecords();n.length&&(this.queue=[]);let r=t.domSelectionRange(),i=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(r)&&OC(t)&&!this.ignoreSelectionChange(r),s=-1,o=-1,a=!1,l=[];if(t.editable)for(let c=0;c<n.length;c++){let d=this.registerMutation(n[c],l);d&&(s=s<0?d.from:Math.min(d.from,s),o=o<0?d.to:Math.max(d.to,o),d.typeOver&&(a=!0))}if(oi&&l.length){let c=l.filter(d=>d.nodeName=="BR");if(c.length==2){let[d,f]=c;d.parentNode&&d.parentNode.parentNode==f.parentNode?f.remove():d.remove()}else{let{focusNode:d}=this.currentSelection;for(let f of c){let p=f.parentNode;p&&p.nodeName=="LI"&&(!d||Wae(t,d)!=p)&&f.remove()}}}let u=null;s<0&&i&&t.input.lastFocus>Date.now()-200&&Math.max(t.input.lastTouch,t.input.lastClick.time)<Date.now()-300&&rh(r)&&(u=Y_(t))&&u.eq(Ue.near(t.state.doc.resolve(0),1))?(t.input.lastFocus=0,fs(t),this.currentSelection.set(r)):(s>-1||i)&&(s>-1&&(t.docView.markDirty(s,o),qae(t)),this.handleDOMChange(s,o,a,l),t.docView&&t.docView.dirty?t.updateState(t.state):this.currentSelection.eq(r)||fs(t),this.currentSelection.set(r))}registerMutation(t,n){if(n.indexOf(t.target)>-1)return null;let r=this.view.docView.nearestDesc(t.target);if(t.type=="attributes"&&(r==this.view.docView||t.attributeName=="contenteditable"||t.attributeName=="style"&&!t.oldValue&&!t.target.getAttribute("style"))||!r||r.ignoreMutation(t))return null;if(t.type=="childList"){for(let c=0;c<t.addedNodes.length;c++){let d=t.addedNodes[c];n.push(d),d.nodeType==3&&(this.lastChangedTextNode=d)}if(r.contentDOM&&r.contentDOM!=r.dom&&!r.contentDOM.contains(t.target))return{from:r.posBefore,to:r.posAfter};let i=t.previousSibling,s=t.nextSibling;if(rr&&to<=11&&t.addedNodes.length)for(let c=0;c<t.addedNodes.length;c++){let{previousSibling:d,nextSibling:f}=t.addedNodes[c];(!d||Array.prototype.indexOf.call(t.addedNodes,d)<0)&&(i=d),(!f||Array.prototype.indexOf.call(t.addedNodes,f)<0)&&(s=f)}let o=i&&i.parentNode==t.target?yn(i)+1:0,a=r.localPosFromDOM(t.target,o,-1),l=s&&s.parentNode==t.target?yn(s):t.target.childNodes.length,u=r.localPosFromDOM(t.target,l,1);return{from:a,to:u}}else return t.type=="attributes"?{from:r.posAtStart-r.border,to:r.posAtEnd+r.border}:(this.lastChangedTextNode=t.target,{from:r.posAtStart,to:r.posAtEnd,typeOver:t.target.nodeValue==t.oldValue})}}let BC=new WeakMap,FC=!1;function qae(e){if(!BC.has(e)&&(BC.set(e,null),["normal","nowrap","pre-line"].indexOf(getComputedStyle(e.dom).whiteSpace)!==-1)){if(e.requiresGeckoHackNode=oi,FC)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),FC=!0}}function $C(e,t){let n=t.startContainer,r=t.startOffset,i=t.endContainer,s=t.endOffset,o=e.domAtPos(e.state.selection.anchor);return ea(o.node,o.offset,i,s)&&([n,r,i,s]=[i,s,n,r]),{anchorNode:n,anchorOffset:r,focusNode:i,focusOffset:s}}function Vae(e,t){if(t.getComposedRanges){let i=t.getComposedRanges(e.root)[0];if(i)return $C(e,i)}let n;function r(i){i.preventDefault(),i.stopImmediatePropagation(),n=i.getTargetRanges()[0]}return e.dom.addEventListener("beforeinput",r,!0),document.execCommand("indent"),e.dom.removeEventListener("beforeinput",r,!0),n?$C(e,n):null}function Wae(e,t){for(let n=t.parentNode;n&&n!=e.dom;n=n.parentNode){let r=e.docView.nearestDesc(n,!0);if(r&&r.node.isBlock)return n}return null}function Gae(e,t,n){let{node:r,fromOffset:i,toOffset:s,from:o,to:a}=e.docView.parseRange(t,n),l=e.domSelectionRange(),u,c=l.anchorNode;if(c&&e.dom.contains(c.nodeType==1?c:c.parentNode)&&(u=[{node:c,offset:l.anchorOffset}],rh(l)||u.push({node:l.focusNode,offset:l.focusOffset})),kn&&e.input.lastKeyCode===8)for(let b=s;b>i;b--){let y=r.childNodes[b-1],E=y.pmViewDesc;if(y.nodeName=="BR"&&!E){s=b;break}if(!E||E.size)break}let d=e.state.doc,f=e.someProp("domParser")||al.fromSchema(e.state.schema),p=d.resolve(o),m=null,g=f.parse(r,{topNode:p.parent,topMatch:p.parent.contentMatchAt(p.index()),topOpen:!0,from:i,to:s,preserveWhitespace:p.parent.type.whitespace=="pre"?"full":!0,findPositions:u,ruleFromNode:Yae,context:p});if(u&&u[0].pos!=null){let b=u[0].pos,y=u[1]&&u[1].pos;y==null&&(y=b),m={anchor:b+o,head:y+o}}return{doc:g,sel:m,from:o,to:a}}function Yae(e){let t=e.pmViewDesc;if(t)return t.parseRule();if(e.nodeName=="BR"&&e.parentNode){if(qn&&/^(ul|ol)$/i.test(e.parentNode.nodeName)){let n=document.createElement("div");return n.appendChild(document.createElement("li")),{skip:n}}else if(e.parentNode.lastChild==e||qn&&/^(tr|table)$/i.test(e.parentNode.nodeName))return{ignore:!0}}else if(e.nodeName=="IMG"&&e.getAttribute("mark-placeholder"))return{ignore:!0};return null}const Kae=/^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i;function Xae(e,t,n,r,i){let s=e.input.compositionPendingChanges||(e.composing?e.input.compositionID:0);if(e.input.compositionPendingChanges=0,t<0){let P=e.input.lastSelectionTime>Date.now()-50?e.input.lastSelectionOrigin:null,q=Y_(e,P);if(q&&!e.state.selection.eq(q)){if(kn&&as&&e.input.lastKeyCode===13&&Date.now()-100<e.input.lastKeyCodeTime&&e.someProp("handleKeyDown",H=>H(e,Ro(13,"Enter"))))return;let B=e.state.tr.setSelection(q);P=="pointer"?B.setMeta("pointer",!0):P=="key"&&B.scrollIntoView(),s&&B.setMeta("composition",s),e.dispatch(B)}return}let o=e.state.doc.resolve(t),a=o.sharedDepth(n);t=o.before(a+1),n=e.state.doc.resolve(n).after(a+1);let l=e.state.selection,u=Gae(e,t,n),c=e.state.doc,d=c.slice(u.from,u.to),f,p;e.input.lastKeyCode===8&&Date.now()-100<e.input.lastKeyCodeTime?(f=e.state.selection.to,p="end"):(f=e.state.selection.from,p="start"),e.input.lastKeyCode=null;let m=Zae(d.content,u.doc.content,u.from,f,p);if(m&&e.input.domChangeCount++,(cl&&e.input.lastIOSEnter>Date.now()-225||as)&&i.some(P=>P.nodeType==1&&!Kae.test(P.nodeName))&&(!m||m.endA>=m.endB)&&e.someProp("handleKeyDown",P=>P(e,Ro(13,"Enter")))){e.input.lastIOSEnter=0;return}if(!m)if(r&&l instanceof He&&!l.empty&&l.$head.sameParent(l.$anchor)&&!e.composing&&!(u.sel&&u.sel.anchor!=u.sel.head))m={start:l.from,endA:l.to,endB:l.to};else{if(u.sel){let P=UC(e,e.state.doc,u.sel);if(P&&!P.eq(e.state.selection)){let q=e.state.tr.setSelection(P);s&&q.setMeta("composition",s),e.dispatch(q)}}return}e.state.selection.from<e.state.selection.to&&m.start==m.endB&&e.state.selection instanceof He&&(m.start>e.state.selection.from&&m.start<=e.state.selection.from+2&&e.state.selection.from>=u.from?m.start=e.state.selection.from:m.endA<e.state.selection.to&&m.endA>=e.state.selection.to-2&&e.state.selection.to<=u.to&&(m.endB+=e.state.selection.to-m.endA,m.endA=e.state.selection.to)),rr&&to<=11&&m.endB==m.start+1&&m.endA==m.start&&m.start>u.from&&u.doc.textBetween(m.start-u.from-1,m.start-u.from+1)=="  "&&(m.start--,m.endA--,m.endB--);let g=u.doc.resolveNoCache(m.start-u.from),b=u.doc.resolveNoCache(m.endB-u.from),y=c.resolve(m.start),E=g.sameParent(b)&&g.parent.inlineContent&&y.end()>=m.endA,v;if((cl&&e.input.lastIOSEnter>Date.now()-225&&(!E||i.some(P=>P.nodeName=="DIV"||P.nodeName=="P"))||!E&&g.pos<u.doc.content.size&&!g.sameParent(b)&&(v=Ue.findFrom(u.doc.resolve(g.pos+1),1,!0))&&v.head==b.pos)&&e.someProp("handleKeyDown",P=>P(e,Ro(13,"Enter")))){e.input.lastIOSEnter=0;return}if(e.state.selection.anchor>m.start&&Jae(c,m.start,m.endA,g,b)&&e.someProp("handleKeyDown",P=>P(e,Ro(8,"Backspace")))){as&&kn&&e.domObserver.suppressSelectionUpdates();return}kn&&m.endB==m.start&&(e.input.lastChromeDelete=Date.now()),as&&!E&&g.start()!=b.start()&&b.parentOffset==0&&g.depth==b.depth&&u.sel&&u.sel.anchor==u.sel.head&&u.sel.head==m.endA&&(m.endB-=2,b=u.doc.resolveNoCache(m.endB-u.from),setTimeout(()=>{e.someProp("handleKeyDown",function(P){return P(e,Ro(13,"Enter"))})},20));let w=m.start,R=m.endA,_,D,j;if(E){if(g.pos==b.pos)rr&&to<=11&&g.parentOffset==0&&(e.domObserver.suppressSelectionUpdates(),setTimeout(()=>fs(e),20)),_=e.state.tr.delete(w,R),D=c.resolve(m.start).marksAcross(c.resolve(m.endA));else if(m.endA==m.endB&&(j=Qae(g.parent.content.cut(g.parentOffset,b.parentOffset),y.parent.content.cut(y.parentOffset,m.endA-y.start()))))_=e.state.tr,j.type=="add"?_.addMark(w,R,j.mark):_.removeMark(w,R,j.mark);else if(g.parent.child(g.index()).isText&&g.index()==b.index()-(b.textOffset?0:1)){let P=g.parent.textBetween(g.parentOffset,b.parentOffset);if(e.someProp("handleTextInput",q=>q(e,w,R,P)))return;_=e.state.tr.insertText(P,w,R)}}if(_||(_=e.state.tr.replace(w,R,u.doc.slice(m.start-u.from,m.endB-u.from))),u.sel){let P=UC(e,_.doc,u.sel);P&&!(kn&&e.composing&&P.empty&&(m.start!=m.endB||e.input.lastChromeDelete<Date.now()-100)&&(P.head==w||P.head==_.mapping.map(R)-1)||rr&&P.empty&&P.head==w)&&_.setSelection(P)}D&&_.ensureMarks(D),s&&_.setMeta("composition",s),e.dispatch(_.scrollIntoView())}function UC(e,t,n){return Math.max(n.anchor,n.head)>t.content.size?null:K_(e,t.resolve(n.anchor),t.resolve(n.head))}function Qae(e,t){let n=e.firstChild.marks,r=t.firstChild.marks,i=n,s=r,o,a,l;for(let c=0;c<r.length;c++)i=r[c].removeFromSet(i);for(let c=0;c<n.length;c++)s=n[c].removeFromSet(s);if(i.length==1&&s.length==0)a=i[0],o="add",l=c=>c.mark(a.addToSet(c.marks));else if(i.length==0&&s.length==1)a=s[0],o="remove",l=c=>c.mark(a.removeFromSet(c.marks));else return null;let u=[];for(let c=0;c<t.childCount;c++)u.push(l(t.child(c)));if(se.from(u).eq(e))return{mark:a,type:o}}function Jae(e,t,n,r,i){if(n-t<=i.pos-r.pos||jm(r,!0,!1)<i.pos)return!1;let s=e.resolve(t);if(!r.parent.isTextblock){let a=s.nodeAfter;return a!=null&&n==t+a.nodeSize}if(s.parentOffset<s.parent.content.size||!s.parent.isTextblock)return!1;let o=e.resolve(jm(s,!0,!0));return!o.parent.isTextblock||o.pos>n||jm(o,!0,!1)<n?!1:r.parent.content.cut(r.parentOffset).eq(o.parent.content)}function jm(e,t,n){let r=e.depth,i=t?e.end():e.pos;for(;r>0&&(t||e.indexAfter(r)==e.node(r).childCount);)r--,i++,t=!1;if(n){let s=e.node(r).maybeChild(e.indexAfter(r));for(;s&&!s.isLeaf;)s=s.firstChild,i++}return i}function Zae(e,t,n,r,i){let s=e.findDiffStart(t,n);if(s==null)return null;let{a:o,b:a}=e.findDiffEnd(t,n+e.size,n+t.size);if(i=="end"){let l=Math.max(0,s-Math.min(o,a));r-=o+l-s}if(o<s&&e.size<t.size){let l=r<=s&&r>=o?s-r:0;s-=l,s&&s<t.size&&HC(t.textBetween(s-1,s+1))&&(s+=l?1:-1),a=s+(a-o),o=s}else if(a<s){let l=r<=s&&r>=a?s-r:0;s-=l,s&&s<e.size&&HC(e.textBetween(s-1,s+1))&&(s+=l?1:-1),o=s+(o-a),a=s}return{start:s,endA:o,endB:a}}function HC(e){if(e.length!=2)return!1;let t=e.charCodeAt(0),n=e.charCodeAt(1);return t>=56320&&t<=57343&&n>=55296&&n<=56319}class ele{constructor(t,n){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new _ae,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=n,this.state=n.state,this.directPlugins=n.plugins||[],this.directPlugins.forEach(WC),this.dispatch=this.dispatch.bind(this),this.dom=t&&t.mount||document.createElement("div"),t&&(t.appendChild?t.appendChild(this.dom):typeof t=="function"?t(this.dom):t.mount&&(this.mounted=!0)),this.editable=qC(this),jC(this),this.nodeViews=VC(this),this.docView=TC(this.state.doc,zC(this),zm(this),this.dom,this),this.domObserver=new jae(this,(r,i,s,o)=>Xae(this,r,i,s,o)),this.domObserver.start(),Eae(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let t=this._props;this._props={};for(let n in t)this._props[n]=t[n];this._props.state=this.state}return this._props}update(t){t.handleDOMEvents!=this._props.handleDOMEvents&&V1(this);let n=this._props;this._props=t,t.plugins&&(t.plugins.forEach(WC),this.directPlugins=t.plugins),this.updateStateInner(t.state,n)}setProps(t){let n={};for(let r in this._props)n[r]=this._props[r];n.state=this.state;for(let r in t)n[r]=t[r];this.update(n)}updateState(t){this.updateStateInner(t,this._props)}updateStateInner(t,n){var r;let i=this.state,s=!1,o=!1;t.storedMarks&&this.composing&&(fP(this),o=!0),this.state=t;let a=i.plugins!=t.plugins||this._props.plugins!=n.plugins;if(a||this._props.plugins!=n.plugins||this._props.nodeViews!=n.nodeViews){let p=VC(this);nle(p,this.nodeViews)&&(this.nodeViews=p,s=!0)}(a||n.handleDOMEvents!=this._props.handleDOMEvents)&&V1(this),this.editable=qC(this),jC(this);let l=zm(this),u=zC(this),c=i.plugins!=t.plugins&&!i.doc.eq(t.doc)?"reset":t.scrollToSelection>i.scrollToSelection?"to selection":"preserve",d=s||!this.docView.matchesNode(t.doc,u,l);(d||!t.selection.eq(i.selection))&&(o=!0);let f=c=="preserve"&&o&&this.dom.style.overflowAnchor==null&&Moe(this);if(o){this.domObserver.stop();let p=d&&(rr||kn)&&!this.composing&&!i.selection.empty&&!t.selection.empty&&tle(i.selection,t.selection);if(d){let m=kn?this.trackWrites=this.domSelectionRange().focusNode:null;this.composing&&(this.input.compositionNode=Dae(this)),(s||!this.docView.update(t.doc,u,l,this))&&(this.docView.updateOuterDeco(u),this.docView.destroy(),this.docView=TC(t.doc,u,l,this.dom,this)),m&&!this.trackWrites&&(p=!0)}p||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&iae(this))?fs(this,p):(eP(this,t.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(i),!((r=this.dragging)===null||r===void 0)&&r.node&&!i.doc.eq(t.doc)&&this.updateDraggedNode(this.dragging,i),c=="reset"?this.dom.scrollTop=0:c=="to selection"?this.scrollToSelection():f&&Poe(f)}scrollToSelection(){let t=this.domSelectionRange().focusNode;if(!(!t||!this.dom.contains(t.nodeType==1?t:t.parentNode))){if(!this.someProp("handleScrollToSelection",n=>n(this)))if(this.state.selection instanceof qe){let n=this.docView.domAfterPos(this.state.selection.from);n.nodeType==1&&gC(this,n.getBoundingClientRect(),t)}else gC(this,this.coordsAtPos(this.state.selection.head,1),t)}}destroyPluginViews(){let t;for(;t=this.pluginViews.pop();)t.destroy&&t.destroy()}updatePluginViews(t){if(!t||t.plugins!=this.state.plugins||this.directPlugins!=this.prevDirectPlugins){this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let n=0;n<this.directPlugins.length;n++){let r=this.directPlugins[n];r.spec.view&&this.pluginViews.push(r.spec.view(this))}for(let n=0;n<this.state.plugins.length;n++){let r=this.state.plugins[n];r.spec.view&&this.pluginViews.push(r.spec.view(this))}}else for(let n=0;n<this.pluginViews.length;n++){let r=this.pluginViews[n];r.update&&r.update(this,t)}}updateDraggedNode(t,n){let r=t.node,i=-1;if(this.state.doc.nodeAt(r.from)==r.node)i=r.from;else{let s=r.from+(this.state.doc.content.size-n.doc.content.size);(s>0&&this.state.doc.nodeAt(s))==r.node&&(i=s)}this.dragging=new hP(t.slice,t.move,i<0?void 0:qe.create(this.state.doc,i))}someProp(t,n){let r=this._props&&this._props[t],i;if(r!=null&&(i=n?n(r):r))return i;for(let o=0;o<this.directPlugins.length;o++){let a=this.directPlugins[o].props[t];if(a!=null&&(i=n?n(a):a))return i}let s=this.state.plugins;if(s)for(let o=0;o<s.length;o++){let a=s[o].props[t];if(a!=null&&(i=n?n(a):a))return i}}hasFocus(){if(rr){let t=this.root.activeElement;if(t==this.dom)return!0;if(!t||!this.dom.contains(t))return!1;for(;t&&this.dom!=t&&this.dom.contains(t);){if(t.contentEditable=="false")return!1;t=t.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&Loe(this.dom),fs(this),this.domObserver.start()}get root(){let t=this._root;if(t==null){for(let n=this.dom.parentNode;n;n=n.parentNode)if(n.nodeType==9||n.nodeType==11&&n.host)return n.getSelection||(Object.getPrototypeOf(n).getSelection=()=>n.ownerDocument.getSelection()),this._root=n}return t||document}updateRoot(){this._root=null}posAtCoords(t){return Hoe(this,t)}coordsAtPos(t,n=1){return WM(this,t,n)}domAtPos(t,n=0){return this.docView.domFromPos(t,n)}nodeDOM(t){let n=this.docView.descAt(t);return n?n.nodeDOM:null}posAtDOM(t,n,r=-1){let i=this.docView.posFromDOM(t,n,r);if(i==null)throw new RangeError("DOM position not inside the editor");return i}endOfTextblock(t,n){return Woe(this,n||this.state,t)}pasteHTML(t,n){return Ec(this,"",t,!1,n||new ClipboardEvent("paste"))}pasteText(t,n){return Ec(this,t,null,!0,n||new ClipboardEvent("paste"))}serializeForClipboard(t){return X_(this,t)}destroy(){this.docView&&(vae(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],zm(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null,woe())}get isDestroyed(){return this.docView==null}dispatchEvent(t){return wae(this,t)}dispatch(t){let n=this._props.dispatchTransaction;n?n.call(this,t):this.updateState(this.state.apply(t))}domSelectionRange(){let t=this.domSelection();return t?qn&&this.root.nodeType===11&&Ooe(this.dom.ownerDocument)==this.dom&&Vae(this,t)||t:{focusNode:null,focusOffset:0,anchorNode:null,anchorOffset:0}}domSelection(){return this.root.getSelection()}}function zC(e){let t=Object.create(null);return t.class="ProseMirror",t.contenteditable=String(e.editable),e.someProp("attributes",n=>{if(typeof n=="function"&&(n=n(e.state)),n)for(let r in n)r=="class"?t.class+=" "+n[r]:r=="style"?t.style=(t.style?t.style+";":"")+n[r]:!t[r]&&r!="contenteditable"&&r!="nodeName"&&(t[r]=String(n[r]))}),t.translate||(t.translate="no"),[dn.node(0,e.state.doc.content.size,t)]}function jC(e){if(e.markCursor){let t=document.createElement("img");t.className="ProseMirror-separator",t.setAttribute("mark-placeholder","true"),t.setAttribute("alt",""),e.cursorWrapper={dom:t,deco:dn.widget(e.state.selection.from,t,{raw:!0,marks:e.markCursor})}}else e.cursorWrapper=null}function qC(e){return!e.someProp("editable",t=>t(e.state)===!1)}function tle(e,t){let n=Math.min(e.$anchor.sharedDepth(e.head),t.$anchor.sharedDepth(t.head));return e.$anchor.start(n)!=t.$anchor.start(n)}function VC(e){let t=Object.create(null);function n(r){for(let i in r)Object.prototype.hasOwnProperty.call(t,i)||(t[i]=r[i])}return e.someProp("nodeViews",n),e.someProp("markViews",n),t}function nle(e,t){let n=0,r=0;for(let i in e){if(e[i]!=t[i])return!0;n++}for(let i in t)r++;return n!=r}function WC(e){if(e.spec.state||e.spec.filterTransaction||e.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}var Tc=rle;function rle(e,t){for(var n={},r=Object.keys(e),i=r.length,s=0;s<i;s++){var o=r[s];n[o]=t(e[o],o,e)}return n}var Nr=class extends Error{},ile=class extends Nr{constructor(){super("Unable to find editor. Pass it as an argument or call this function inside a ProseKit component.")}},_P=class extends Nr{constructor(){super("Unable to find browser Document. When not in the browser environment, you need to pass a DOM Document.")}};function Nl(e,t){if(typeof t=="string"){const n=e.marks[t];if(!n)throw new Nr(`Cannot find mark type "${t}"`);return n}return t}function fn(e,t="Assertion failed"){if(!e)throw new Nr(t)}function In(e,t){if(typeof t=="string"){const n=e.nodes[t];if(!n)throw new Nr(`Cannot find ProseMirror node type "${t}"`);return n}return t}var sle=0,EP=class{constructor(e,t,n,r){this._reducer=n,this._reduce=r,this.index=sle++,fn((r||n)&&!(r&&n)),this.parent=e,this.singleton=t,this.path=e?[...e.path,this.index]:[]}get reducer(){var e;return this._reducer??((e=this._reduce)==null?void 0:e.call(this))}};function mn(e){return new EP(e.parent,e.singleton??!1,e.reducer,e.reduce)}function nE(e){return e instanceof eo}function ole(e){return e instanceof Ue}function vP(e){return e instanceof He}function Ur(e){return e!=null}function ale(e){let t,n,r,i;for(const o of e)t=o.schema||t,n=o.commands||n,r=o.state||r,i=o.view||i;const s=t&&((r==null?void 0:r({schema:t}))??{schema:t});return{schema:t,state:s,commands:n,view:i}}var rE=new EP(null,!0,ale),TP=mn({reducer:e=>{fn(e.length<=1);const t=e[0];return{schema:t?new qse(t):null}},parent:rE,singleton:!0}),wP=class{constructor(){this.trees=[null,null,null,null,null]}getTree(e){var t;const n=e??this.priority??2;return(t=this.trees)[n]||(t[n]=this.createTree(n))}findFacetOutput(e){let t=this.getTree();for(const n of e.path)t=t==null?void 0:t.children.get(n);return(t==null?void 0:t.getOutput())??null}get schema(){var t;const e=this.findFacetOutput(TP);return((t=e==null?void 0:e.find(Boolean))==null?void 0:t.schema)??null}};function xP(e,t){const n=[...e];for(const r of t)n.includes(r)||n.push(r);return n}function lle(e,t){return e.filter(n=>!t.includes(n))}function CP(e){var t;return((t=e.toReversed)==null?void 0:t.call(e))??[...e].reverse()}function SP(e,t,n){return[n(e[0],t[0]),n(e[1],t[1]),n(e[2],t[2]),n(e[3],t[3]),n(e[4],t[4])]}function ule(e,t){return!e&&!t?null:xP(e??[],t??[])}function cle(e,t){return e?t?lle(e,t):[...e]:null}function dle(e,t){const n=new Map(e);for(const[r,i]of t.entries()){const s=e.get(r);n.set(r,s?iE(s,i):i)}return n}function fle(e,t){const n=new Map(e);for(const[r,i]of t.entries()){const s=e.get(r);s&&n.set(r,AP(s,i))}return n}function iE(e,t){return fn(e.facet===t.facet),new np(e.facet,SP(e.inputs,t.inputs,ule),dle(e.children,t.children),e.reducers)}function AP(e,t){return fn(e.facet===t.facet),new np(e.facet,SP(e.inputs,t.inputs,cle),fle(e.children,t.children),e.reducers)}var np=class{constructor(e,t=[null,null,null,null,null],n=new Map,r=[null,null,null,null,null]){this.facet=e,this.inputs=t,this.children=n,this.reducers=r,this.output=null}calcOutput(){var e,t,n;const r=[null,null,null,null,null],i=[null,null,null,null,null];for(let s=0;s<5;s++){const o=this.inputs[s];o&&(r[s]=[...o])}for(const s of this.children.values()){const o=s.getOutput();for(let a=0;a<5;a++)o[a]&&(r[a]||(r[a]=[])).push(o[a])}if(this.facet.singleton){const s=(e=this.reducers)[t=2]||(e[t]=this.facet.reducer),o=r.filter(Ur).flat();i[2]=s(o)}else for(let s=0;s<5;s++){const o=r[s];if(o){const a=(n=this.reducers)[s]||(n[s]=this.facet.reducer);i[s]=a(o)}}return i}getOutput(){return this.output||(this.output=this.calcOutput()),this.output}getSingletonOutput(){return fn(this.facet.singleton),this.getOutput()[2]}getRootOutput(){fn(this.isRoot());const e=this.getSingletonOutput();return fn(e),e}isRoot(){return!this.facet.parent}},ple=class extends wP{constructor(e,t){super(),this.facet=e,this.payloads=t}createTree(e){const t=this.priority??e,n=[null,null,null,null,null];n[t]=[...this.payloads];let r=new np(this.facet,n);for(;r.facet.parent;){const i=new Map([[r.facet.index,r]]);r=new np(r.facet.parent,void 0,i)}return r}};function Tr(e,t){return new ple(e,t)}function hle(e){return typeof e=="object"&&e!=null}var mle=1;function wc(e){return hle(e)&&e.nodeType===mle&&typeof e.nodeName=="string"}function gle(){if(typeof document<"u")return document;if(typeof globalThis<"u"&&globalThis.document)return globalThis.document}function OP(){if(typeof window<"u")return window;if(typeof globalThis<"u"&&globalThis.window)return globalThis.window}function kP(e){var t;return(e==null?void 0:e.document)??gle()??((t=OP())==null?void 0:t.document)}function ble(e){var t,n;return((t=e==null?void 0:e.document)==null?void 0:t.defaultView)??OP()??((n=kP(e))==null?void 0:n.defaultView)??void 0}function yle(e){const t=kP(e);if(t)return t;throw new _P}function _le(e){const t=ble(e);if(t)return t;throw new _P}function IP(e){return e.toJSON()}function Ele(e,t){const{DOMParser:n,schema:r,...i}=t;return(n||al).fromSchema(r).parse(e,i)}function vle(e,t){const n=(t==null?void 0:t.DOMSerializer)||si,r=yle(t),i=e.type.schema,s=n.fromSchema(i);return i.topNodeType!==e.type?s.serializeNode(e,{document:r}):s.serializeFragment(e.content,{document:r},r.createElement("div"))}function Tle(e,t){const n=_le(t);return new n.DOMParser().parseFromString(`<body><div>${e}</div></body>`,"text/html").body.firstElementChild}function wle(e,t){return vle(e,t).outerHTML}function NP(e,t){return IP(Ele(e,t))}function xle(e,t){return NP(Tle(e,t),t)}var RP=mn({reduce:()=>{let e=[];const t=n=>{const r=e.map(s=>s(n)),i={schema:n.schema,storedMarks:[],plugins:[]};for(const s of r)i.schema=i.schema??s.schema,i.doc=i.doc??s.doc,i.selection=i.selection??s.selection,i.storedMarks=[...i.storedMarks,...s.storedMarks??[]],i.plugins=xP(i.plugins??[],s.plugins??[]);return fn(i.doc||i.schema,"Can't create state without a schema nor a document"),i.doc&&(i.schema=void 0),i};return function(r){return e=r,{state:t}}},singleton:!0,parent:rE});function DP(e,t){return typeof t=="string"?xle(t,{schema:e}):wc(t)?NP(t,{schema:e}):t}function Cle(e,t){return nE(t)?t:e.nodeFromJSON(DP(e,t))}function Sle(e,t){const n=Cle(e,t);return fn(n.type.schema===e,"Document schema does not match editor schema"),fn(n.type===e.topNodeType,`Document type does not match editor top node type. Expected ${e.topNodeType.name}, got ${n.type.name}`),n}function Ale(e,t){return ole(t)?(fn(t.$head.doc===e,"Selection and doc do not match"),t):t==="start"?Ue.atStart(e):t==="end"?Ue.atEnd(e):Ue.fromJSON(e,t)}function Ole({defaultSelection:e,defaultContent:t,defaultDoc:n,defaultHTML:r}){const i=t||n||r;return Tr(RP,[({schema:s})=>{const o={};if(i){const a=DP(s,i);o.doc=s.nodeFromJSON(a),e&&(o.selection=Ue.fromJSON(o.doc,e))}return o}])}function kle(e,t){return Object.keys(e).every(n=>e[n]===t[n])}function MP(e,t,n){return n=n||{},e.some(r=>r.type===t&&kle(n,r.attrs))}function PP(e,t,n,r,i){let s=!1,o=!1;return e.nodesBetween(t,n,(a,l,u)=>{if(s)return!1;(u==null?void 0:u.type.allowsMarkType(r))&&!a.marks.some(d=>d.type!==r&&d.type.excludes(r))&&(o=!0,MP(a.marks,r,i)||(s=!0))}),o?s:!0}function Ile(e,t,n){const{from:r,$from:i,to:s,empty:o}=e.selection,a=Nl(e.schema,t);if(o){const l=e.storedMarks||i.marks();return MP(l,a,n)}else return!PP(e.doc,r,s,a,n)}var Nle=class extends wP{constructor(e=[]){super(),this.extension=e}createTree(e){const t=this.priority??e,n=[...this.extension];n.sort((s,o)=>(s.priority??t)-(o.priority??t));const r=n.map(s=>s.getTree(t));fn(r.length>0);let i=r[0];for(let s=1;s<r.length;s++)i=iE(i,r[s]);return i}};function Kt(...e){const t=e.flat();return fn(t.length>0,"At least one extension is required"),new Nle(t)}function qu(e,t){if(e===t)return!0;if(!e||!t)return!1;if(Array.isArray(e)&&Array.isArray(t))return e.length===t.length&&e.every((n,r)=>qu(n,t[r]));if(e instanceof Bt&&t instanceof Bt)return e.size===t.size&&qu(e.toObject(),t.toObject());if(typeof e=="object"&&typeof t=="object"){const n=Object.keys(e),r=Object.keys(t);return n.length===r.length&&n.every(i=>qu(e[i],t[i]))}return!1}function Rle(e,t){const n=e.attrs;for(const[r,i]of Object.entries(t))if(n[r]!==i)return!1;return!0}function sE(e,t,n){const r=e.selection.$from,i=In(e.schema,t);for(let s=r.depth;s>=0;s--){const o=r.node(s);if(o.type===i&&(!n||Rle(o,n)))return!0}return!1}function Dle(e,t,n=Ule){return Tc(e.nodes,r=>Mle(r,t,n))}function Mle(e,t,n){const r=(...i)=>$le(e,i,n);return r.isActive=i=>{const s=t();return s?sE(s,e,i):!1},r}function Ple(e,t,n=Fle){return Tc(e.marks,r=>Lle(r,t,n))}function Lle(e,t,n){const r=(...i)=>Ble(e,i,n);return r.isActive=i=>{const s=t();return s?Ile(s,e,i):!1},r}function Ble(e,t,n){const[r,i]=LP(t),s=e.create(r);return n(s,oE(e.schema,i))}var Fle=(e,t)=>t.map(n=>n.mark(e.addToSet(n.marks)));function $le(e,t,n){const[r,i]=LP(t);return n(e,r,oE(e.schema,i))}var Ule=(e,t,n)=>{const r=e.createAndFill(t,n);return fn(r,`Failed to create node ${e.name}`),r};function oE(e,t){const n=[];for(const r of t)if(typeof r=="string")r&&n.push(e.text(r,null));else if(Array.isArray(r))n.push(...oE(e,r));else if(nE(r))n.push(r);else throw new Nr(`Invalid node child: ${typeof r}`);return n}function LP(e){const[t,...n]=e;return Hle(t)?(n.unshift(t),[null,n]):typeof t=="object"?[t,n]:[null,n]}function Hle(e){return e?typeof e=="string"||Array.isArray(e)||nE(e):!1}function zle(e){return e.defaultContent||e.defaultDoc||e.defaultHTML?Kt(e.extension,Ole(e)):e.extension}function jle(e){const t=zle(e),n=new BP(t);return new qle(n)}var BP=class{constructor(e){this.view=null,this.commands={},this.afterMounted=[],this.getState=()=>{var s;return((s=this.view)==null?void 0:s.state)||this.directEditorProps.state},this.dispatch=s=>{this.view?this.view.dispatch(s):this.directEditorProps.state=this.directEditorProps.state.apply(s)},this.getDocJSON=()=>{const s=this.getState();return IP(s.doc)},this.getDocHTML=s=>{const o=this.getProp("clipboardSerializer"),a=o?{fromSchema:()=>o}:void 0,l=this.getDoc();return wle(l,{...s,DOMSerializer:a})},this.tree=e.getTree();const t=this.tree.getRootOutput(),n=t.schema,r=t.state;fn(n&&r,"Schema must be defined");const i=Mo.create(r);if(t.commands)for(const[s,o]of Object.entries(t.commands))this.defineCommand(s,o);this.nodes=Dle(i.schema,this.getState),this.marks=Ple(i.schema,this.getState),this.schema=i.schema,this.directEditorProps={state:i,...t.view}}getDoc(){return this.getState().doc}getProp(e){var t;return((t=this.view)==null?void 0:t.someProp(e))??this.directEditorProps[e]}updateState(e){this.view?this.view.updateState(e):this.directEditorProps.state=e}setContent(e,t){const n=Sle(this.schema,e);n.check();const r=Ale(n,t||"start"),i=this.getState();if(n.eq(i.doc)&&(!t||r.eq(i.selection)))return;const s=Mo.create({doc:n,selection:r,plugins:i.plugins});this.updateState(s)}updateExtension(e,t){var u,c;const n=this.view;if(!n||n.isDestroyed)return;const r=e.getTree(),i=r.getRootOutput();if(i!=null&&i.schema)throw new Nr("Schema cannot be changed");if(i!=null&&i.view)throw new Nr("View cannot be changed");const s=this.tree.getRootOutput(),o=[...((u=n.state)==null?void 0:u.plugins)??[]];this.tree=t?iE(this.tree,r):AP(this.tree,r);const a=this.tree.getRootOutput(),l=[...((c=a==null?void 0:a.state)==null?void 0:c.plugins)??[]];if(!qu(o,l)){const d=n.state.reconfigure({plugins:l});n.updateState(d)}if(a!=null&&a.commands&&!qu(s==null?void 0:s.commands,a==null?void 0:a.commands)){const d=a.commands,f=Object.keys(d);for(const p of f)this.defineCommand(p,d[p])}}use(e){if(!this.mounted){let t=!1,n=null;const r=()=>{t||(n=this.use(e))};return this.afterMounted.push(r),()=>{t=!0,n==null||n()}}return this.updateExtension(e,!0),()=>this.updateExtension(e,!1)}mount(e){if(this.view)throw new Nr("Editor is already mounted");this.view=new ele({mount:e},this.directEditorProps),this.afterMounted.forEach(t=>t())}unmount(){this.view&&(this.directEditorProps.state=this.view.state,this.view.destroy(),this.view=null)}get mounted(){return!!this.view&&!this.view.isDestroyed}get assertView(){if(!this.view)throw new Nr("Editor is not mounted");return this.view}definePlugins(e){const t=this.assertView,n=t.state,r=[...e,...n.plugins],i=n.reconfigure({plugins:r});t.setProps({state:i})}removePlugins(e){const t=this.view;if(!t)return;const n=t.state,r=n.plugins.filter(s=>!e.includes(s)),i=n.reconfigure({plugins:r});t.setProps({state:i})}exec(e){const t=this.getState();return e(t,this.dispatch,this.view??void 0)}canExec(e){const t=this.getState();return e(t,void 0,this.view??void 0)}defineCommand(e,t){const n=(...i)=>{const s=t(...i);return this.exec(s)},r=(...i)=>{const s=t(...i);return this.canExec(s)};n.canApply=r,n.canExec=r,this.commands[e]=n}removeCommand(e){delete this.commands[e]}},qle=class{constructor(e){if(this.mount=t=>{t?this.instance.mount(t):this.instance.unmount()},this.unmount=()=>{this.instance.unmount()},this.focus=()=>{var t;(t=this.instance.view)==null||t.focus()},this.blur=()=>{var t;(t=this.instance.view)==null||t.dom.blur()},this.use=t=>this.instance.use(t),this.updateState=t=>{this.instance.updateState(t)},this.setContent=(t,n)=>this.instance.setContent(t,n),this.getDocJSON=()=>this.instance.getDocJSON(),this.getDocHTML=t=>this.instance.getDocHTML(t),this.exec=t=>this.instance.exec(t),this.canExec=t=>this.instance.canExec(t),!(e instanceof BP))throw new TypeError("Invalid EditorInstance");this.instance=e}get mounted(){return this.instance.mounted}get view(){return this.instance.assertView}get schema(){return this.instance.schema}get state(){return this.instance.getState()}get focused(){var e;return((e=this.instance.view)==null?void 0:e.hasFocus())??!1}get commands(){return this.instance.commands}get nodes(){return this.instance.nodes}get marks(){return this.instance.marks}};const Rl=(e,t)=>e.selection.empty?!1:(t&&t(e.tr.deleteSelection().scrollIntoView()),!0);function FP(e,t){let{$cursor:n}=e.selection;return!n||(t?!t.endOfTextblock("backward",e):n.parentOffset>0)?null:n}const $P=(e,t,n)=>{let r=FP(e,n);if(!r)return!1;let i=lE(r);if(!i){let o=r.blockRange(),a=o&&Xc(o);return a==null?!1:(t&&t(e.tr.lift(o,a).scrollIntoView()),!0)}let s=i.nodeBefore;if(WP(e,i,t,-1))return!0;if(r.parent.content.size==0&&(dl(s,"end")||qe.isSelectable(s)))for(let o=r.depth;;o--){let a=Qc(e.doc,r.before(o),r.after(o),ge.empty);if(a&&a.slice.size<a.to-a.from){if(t){let l=e.tr.step(a);l.setSelection(dl(s,"end")?Ue.findFrom(l.doc.resolve(l.mapping.map(i.pos,-1)),-1):qe.create(l.doc,i.pos-s.nodeSize)),t(l.scrollIntoView())}return!0}if(o==1||r.node(o-1).childCount>1)break}return s.isAtom&&i.depth==r.depth-1?(t&&t(e.tr.delete(i.pos-s.nodeSize,i.pos).scrollIntoView()),!0):!1},UP=(e,t,n)=>{let r=FP(e,n);if(!r)return!1;let i=lE(r);return i?HP(e,i,t):!1},Vle=(e,t,n)=>{let r=zP(e,n);if(!r)return!1;let i=uE(r);return i?HP(e,i,t):!1};function HP(e,t,n){let r=t.nodeBefore,i=r,s=t.pos-1;for(;!i.isTextblock;s--){if(i.type.spec.isolating)return!1;let c=i.lastChild;if(!c)return!1;i=c}let o=t.nodeAfter,a=o,l=t.pos+1;for(;!a.isTextblock;l++){if(a.type.spec.isolating)return!1;let c=a.firstChild;if(!c)return!1;a=c}let u=Qc(e.doc,s,l,ge.empty);if(!u||u.from!=s||u instanceof ln&&u.slice.size>=l-s)return!1;if(n){let c=e.tr.step(u);c.setSelection(He.create(c.doc,s)),n(c.scrollIntoView())}return!0}function dl(e,t,n=!1){for(let r=e;r;r=t=="start"?r.firstChild:r.lastChild){if(r.isTextblock)return!0;if(n&&r.childCount!=1)return!1}return!1}const aE=(e,t,n)=>{let{$head:r,empty:i}=e.selection,s=r;if(!i)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("backward",e):r.parentOffset>0)return!1;s=lE(r)}let o=s&&s.nodeBefore;return!o||!qe.isSelectable(o)?!1:(t&&t(e.tr.setSelection(qe.create(e.doc,s.pos-o.nodeSize)).scrollIntoView()),!0)};function lE(e){if(!e.parent.type.spec.isolating)for(let t=e.depth-1;t>=0;t--){if(e.index(t)>0)return e.doc.resolve(e.before(t+1));if(e.node(t).type.spec.isolating)break}return null}function zP(e,t){let{$cursor:n}=e.selection;return!n||(t?!t.endOfTextblock("forward",e):n.parentOffset<n.parent.content.size)?null:n}const Wle=(e,t,n)=>{let r=zP(e,n);if(!r)return!1;let i=uE(r);if(!i)return!1;let s=i.nodeAfter;if(WP(e,i,t,1))return!0;if(r.parent.content.size==0&&(dl(s,"start")||qe.isSelectable(s))){let o=Qc(e.doc,r.before(),r.after(),ge.empty);if(o&&o.slice.size<o.to-o.from){if(t){let a=e.tr.step(o);a.setSelection(dl(s,"start")?Ue.findFrom(a.doc.resolve(a.mapping.map(i.pos)),1):qe.create(a.doc,a.mapping.map(i.pos))),t(a.scrollIntoView())}return!0}}return s.isAtom&&i.depth==r.depth-1?(t&&t(e.tr.delete(i.pos,i.pos+s.nodeSize).scrollIntoView()),!0):!1},jP=(e,t,n)=>{let{$head:r,empty:i}=e.selection,s=r;if(!i)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("forward",e):r.parentOffset<r.parent.content.size)return!1;s=uE(r)}let o=s&&s.nodeAfter;return!o||!qe.isSelectable(o)?!1:(t&&t(e.tr.setSelection(qe.create(e.doc,s.pos)).scrollIntoView()),!0)};function uE(e){if(!e.parent.type.spec.isolating)for(let t=e.depth-1;t>=0;t--){let n=e.node(t);if(e.index(t)+1<n.childCount)return e.doc.resolve(e.after(t+1));if(n.type.spec.isolating)break}return null}const Gle=(e,t)=>{let{$from:n,$to:r}=e.selection,i=n.blockRange(r),s=i&&Xc(i);return s==null?!1:(t&&t(e.tr.lift(i,s).scrollIntoView()),!0)},cE=(e,t)=>{let{$head:n,$anchor:r}=e.selection;return!n.parent.type.spec.code||!n.sameParent(r)?!1:(t&&t(e.tr.insertText(`
`).scrollIntoView()),!0)};function dE(e){for(let t=0;t<e.edgeCount;t++){let{type:n}=e.edge(t);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}const Yle=(e,t)=>{let{$head:n,$anchor:r}=e.selection;if(!n.parent.type.spec.code||!n.sameParent(r))return!1;let i=n.node(-1),s=n.indexAfter(-1),o=dE(i.contentMatchAt(s));if(!o||!i.canReplaceWith(s,s,o))return!1;if(t){let a=n.after(),l=e.tr.replaceWith(a,a,o.createAndFill());l.setSelection(Ue.near(l.doc.resolve(a),1)),t(l.scrollIntoView())}return!0},fE=(e,t)=>{let n=e.selection,{$from:r,$to:i}=n;if(n instanceof Hn||r.parent.inlineContent||i.parent.inlineContent)return!1;let s=dE(i.parent.contentMatchAt(i.indexAfter()));if(!s||!s.isTextblock)return!1;if(t){let o=(!r.parentOffset&&i.index()<i.parent.childCount?r:i).pos,a=e.tr.insert(o,s.createAndFill());a.setSelection(He.create(a.doc,o+1)),t(a.scrollIntoView())}return!0},qP=(e,t)=>{let{$cursor:n}=e.selection;if(!n||n.parent.content.size)return!1;if(n.depth>1&&n.after()!=n.end(-1)){let s=n.before();if(ds(e.doc,s))return t&&t(e.tr.split(s).scrollIntoView()),!0}let r=n.blockRange(),i=r&&Xc(r);return i==null?!1:(t&&t(e.tr.lift(r,i).scrollIntoView()),!0)};function Kle(e){return(t,n)=>{let{$from:r,$to:i}=t.selection;if(t.selection instanceof qe&&t.selection.node.isBlock)return!r.parentOffset||!ds(t.doc,r.pos)?!1:(n&&n(t.tr.split(r.pos).scrollIntoView()),!0);if(!r.depth)return!1;let s=[],o,a,l=!1,u=!1;for(let p=r.depth;;p--)if(r.node(p).isBlock){l=r.end(p)==r.pos+(r.depth-p),u=r.start(p)==r.pos-(r.depth-p),a=dE(r.node(p-1).contentMatchAt(r.indexAfter(p-1))),s.unshift(l&&a?{type:a}:null),o=p;break}else{if(p==1)return!1;s.unshift(null)}let c=t.tr;(t.selection instanceof He||t.selection instanceof Hn)&&c.deleteSelection();let d=c.mapping.map(r.pos),f=ds(c.doc,d,s.length,s);if(f||(s[0]=a?{type:a}:null,f=ds(c.doc,d,s.length,s)),c.split(d,s.length,s),!l&&u&&r.node(o).type!=a){let p=c.mapping.map(r.before(o)),m=c.doc.resolve(p);a&&r.node(o-1).canReplaceWith(m.index(),m.index()+1,a)&&c.setNodeMarkup(c.mapping.map(r.before(o)),a)}return n&&n(c.scrollIntoView()),!0}}const VP=Kle(),Xle=(e,t)=>(t&&t(e.tr.setSelection(new Hn(e.doc))),!0);function Qle(e,t,n){let r=t.nodeBefore,i=t.nodeAfter,s=t.index();return!r||!i||!r.type.compatibleContent(i.type)?!1:!r.content.size&&t.parent.canReplace(s-1,s)?(n&&n(e.tr.delete(t.pos-r.nodeSize,t.pos).scrollIntoView()),!0):!t.parent.canReplace(s,s+1)||!(i.isTextblock||th(e.doc,t.pos))?!1:(n&&n(e.tr.join(t.pos).scrollIntoView()),!0)}function WP(e,t,n,r){let i=t.nodeBefore,s=t.nodeAfter,o,a,l=i.type.spec.isolating||s.type.spec.isolating;if(!l&&Qle(e,t,n))return!0;let u=!l&&t.parent.canReplace(t.index(),t.index()+1);if(u&&(o=(a=i.contentMatchAt(i.childCount)).findWrapping(s.type))&&a.matchType(o[0]||s.type).validEnd){if(n){let p=t.pos+s.nodeSize,m=se.empty;for(let y=o.length-1;y>=0;y--)m=se.from(o[y].create(null,m));m=se.from(i.copy(m));let g=e.tr.step(new Jt(t.pos-1,p,t.pos,p,new ge(m,1,0),o.length,!0)),b=g.doc.resolve(p+2*o.length);b.nodeAfter&&b.nodeAfter.type==i.type&&th(g.doc,b.pos)&&g.join(b.pos),n(g.scrollIntoView())}return!0}let c=s.type.spec.isolating||r>0&&l?null:Ue.findFrom(t,1),d=c&&c.$from.blockRange(c.$to),f=d&&Xc(d);if(f!=null&&f>=t.depth)return n&&n(e.tr.lift(d,f).scrollIntoView()),!0;if(u&&dl(s,"start",!0)&&dl(i,"end")){let p=i,m=[];for(;m.push(p),!p.isTextblock;)p=p.lastChild;let g=s,b=1;for(;!g.isTextblock;g=g.firstChild)b++;if(p.canReplace(p.childCount,p.childCount,g.content)){if(n){let y=se.empty;for(let v=m.length-1;v>=0;v--)y=se.from(m[v].copy(y));let E=e.tr.step(new Jt(t.pos-m.length,t.pos+s.nodeSize,t.pos+b,t.pos+s.nodeSize-b,new ge(y,m.length,0),0,!0));n(E.scrollIntoView())}return!0}}return!1}function GP(e){return function(t,n){let r=t.selection,i=e<0?r.$from:r.$to,s=i.depth;for(;i.node(s).isInline;){if(!s)return!1;s--}return i.node(s).isTextblock?(n&&n(t.tr.setSelection(He.create(t.doc,e<0?i.start(s):i.end(s)))),!0):!1}}const Jle=GP(-1),Zle=GP(1);function GC(e,t=null){return function(n,r){let i=!1;for(let s=0;s<n.selection.ranges.length&&!i;s++){let{$from:{pos:o},$to:{pos:a}}=n.selection.ranges[s];n.doc.nodesBetween(o,a,(l,u)=>{if(i)return!1;if(!(!l.isTextblock||l.hasMarkup(e,t)))if(l.type==e)i=!0;else{let c=n.doc.resolve(u),d=c.index();i=c.parent.canReplaceWith(d,d+1,e)}})}if(!i)return!1;if(r){let s=n.tr;for(let o=0;o<n.selection.ranges.length;o++){let{$from:{pos:a},$to:{pos:l}}=n.selection.ranges[o];s.setBlockType(a,l,e,t)}r(s.scrollIntoView())}return!0}}function eue(e,t,n,r){for(let i=0;i<t.length;i++){let{$from:s,$to:o}=t[i],a=s.depth==0?e.inlineContent&&e.type.allowsMarkType(n):!1;if(e.nodesBetween(s.pos,o.pos,(l,u)=>{if(a||!r&&l.isAtom&&l.isInline&&u>=s.pos&&u+l.nodeSize<=o.pos)return!1;a=l.inlineContent&&l.type.allowsMarkType(n)}),a)return!0}return!1}function tue(e){let t=[];for(let n=0;n<e.length;n++){let{$from:r,$to:i}=e[n];r.doc.nodesBetween(r.pos,i.pos,(s,o)=>{if(s.isAtom&&s.content.size&&s.isInline&&o>=r.pos&&o+s.nodeSize<=i.pos)return o+1>r.pos&&t.push(new Xf(r,r.doc.resolve(o+1))),r=r.doc.resolve(o+1+s.content.size),!1}),r.pos<i.pos&&t.push(new Xf(r,i))}return t}function nue(e,t=null,n){let r=(n&&n.removeWhenPresent)!==!1,i=(n&&n.enterInlineAtoms)!==!1;return function(s,o){let{empty:a,$cursor:l,ranges:u}=s.selection;if(a&&!l||!eue(s.doc,u,e,i))return!1;if(o)if(l)e.isInSet(s.storedMarks||l.marks())?o(s.tr.removeStoredMark(e)):o(s.tr.addStoredMark(e.create(t)));else{let c,d=s.tr;i||(u=tue(u)),r?c=!u.some(f=>s.doc.rangeHasMark(f.$from.pos,f.$to.pos,e)):c=!u.every(f=>{let p=!1;return d.doc.nodesBetween(f.$from.pos,f.$to.pos,(m,g,b)=>{if(p)return!1;p=!e.isInSet(m.marks)&&!!b&&b.type.allowsMarkType(e)&&!(m.isText&&/^\s*$/.test(m.textBetween(Math.max(0,f.$from.pos-g),Math.min(m.nodeSize,f.$to.pos-g))))}),!p});for(let f=0;f<u.length;f++){let{$from:p,$to:m}=u[f];if(!c)d.removeMark(p.pos,m.pos,e);else{let g=p.pos,b=m.pos,y=p.nodeAfter,E=m.nodeBefore,v=y&&y.isText?/^\s*/.exec(y.text)[0].length:0,w=E&&E.isText?/\s*$/.exec(E.text)[0].length:0;g+v<b&&(g+=v,b-=w),d.addMark(g,b,e.create(t))}}o(d.scrollIntoView())}return!0}}function wr(...e){return function(t,n,r){for(let i=0;i<e.length;i++)if(e[i](t,n,r))return!0;return!1}}let qm=wr(Rl,$P,aE),YC=wr(Rl,Wle,jP);const es={Enter:wr(cE,fE,qP,VP),"Mod-Enter":Yle,Backspace:qm,"Mod-Backspace":qm,"Shift-Backspace":qm,Delete:YC,"Mod-Delete":YC,"Mod-a":Xle},YP={"Ctrl-h":es.Backspace,"Alt-Backspace":es["Mod-Backspace"],"Ctrl-d":es.Delete,"Ctrl-Alt-Backspace":es["Mod-Delete"],"Alt-Delete":es["Mod-Delete"],"Alt-d":es["Mod-Delete"],"Ctrl-a":Jle,"Ctrl-e":Zle};for(let e in es)YP[e]=es[e];const rue=typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os<"u"&&os.platform?os.platform()=="darwin":!1,iue=rue?YP:es;var KP=yu;function yu(e){let t=e;var n={}.toString.call(e).slice(8,-1);if(n=="Set")return new Set([...e].map(i=>yu(i)));if(n=="Map")return new Map([...e].map(i=>[yu(i[0]),yu(i[1])]));if(n=="Date")return new Date(e.getTime());if(n=="RegExp")return RegExp(e.source,sue(e));if(n=="Array"||n=="Object"){t=Array.isArray(e)?[]:{};for(var r in e)t[r]=yu(e[r])}return t}function sue(e){if(typeof e.source.flags=="string")return e.source.flags;var t=[];return e.global&&t.push("g"),e.ignoreCase&&t.push("i"),e.multiline&&t.push("m"),e.sticky&&t.push("y"),e.unicode&&t.push("u"),t.join("")}var rp=200,pn=function(){};pn.prototype.append=function(t){return t.length?(t=pn.from(t),!this.length&&t||t.length<rp&&this.leafAppend(t)||this.length<rp&&t.leafPrepend(this)||this.appendInner(t)):this};pn.prototype.prepend=function(t){return t.length?pn.from(t).append(this):this};pn.prototype.appendInner=function(t){return new oue(this,t)};pn.prototype.slice=function(t,n){return t===void 0&&(t=0),n===void 0&&(n=this.length),t>=n?pn.empty:this.sliceInner(Math.max(0,t),Math.min(this.length,n))};pn.prototype.get=function(t){if(!(t<0||t>=this.length))return this.getInner(t)};pn.prototype.forEach=function(t,n,r){n===void 0&&(n=0),r===void 0&&(r=this.length),n<=r?this.forEachInner(t,n,r,0):this.forEachInvertedInner(t,n,r,0)};pn.prototype.map=function(t,n,r){n===void 0&&(n=0),r===void 0&&(r=this.length);var i=[];return this.forEach(function(s,o){return i.push(t(s,o))},n,r),i};pn.from=function(t){return t instanceof pn?t:t&&t.length?new XP(t):pn.empty};var XP=function(e){function t(r){e.call(this),this.values=r}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={length:{configurable:!0},depth:{configurable:!0}};return t.prototype.flatten=function(){return this.values},t.prototype.sliceInner=function(i,s){return i==0&&s==this.length?this:new t(this.values.slice(i,s))},t.prototype.getInner=function(i){return this.values[i]},t.prototype.forEachInner=function(i,s,o,a){for(var l=s;l<o;l++)if(i(this.values[l],a+l)===!1)return!1},t.prototype.forEachInvertedInner=function(i,s,o,a){for(var l=s-1;l>=o;l--)if(i(this.values[l],a+l)===!1)return!1},t.prototype.leafAppend=function(i){if(this.length+i.length<=rp)return new t(this.values.concat(i.flatten()))},t.prototype.leafPrepend=function(i){if(this.length+i.length<=rp)return new t(i.flatten().concat(this.values))},n.length.get=function(){return this.values.length},n.depth.get=function(){return 0},Object.defineProperties(t.prototype,n),t}(pn);pn.empty=new XP([]);var oue=function(e){function t(n,r){e.call(this),this.left=n,this.right=r,this.length=n.length+r.length,this.depth=Math.max(n.depth,r.depth)+1}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},t.prototype.getInner=function(r){return r<this.left.length?this.left.get(r):this.right.get(r-this.left.length)},t.prototype.forEachInner=function(r,i,s,o){var a=this.left.length;if(i<a&&this.left.forEachInner(r,i,Math.min(s,a),o)===!1||s>a&&this.right.forEachInner(r,Math.max(i-a,0),Math.min(this.length,s)-a,o+a)===!1)return!1},t.prototype.forEachInvertedInner=function(r,i,s,o){var a=this.left.length;if(i>a&&this.right.forEachInvertedInner(r,i-a,Math.max(s,a)-a,o+a)===!1||s<a&&this.left.forEachInvertedInner(r,Math.min(i,a),s,o)===!1)return!1},t.prototype.sliceInner=function(r,i){if(r==0&&i==this.length)return this;var s=this.left.length;return i<=s?this.left.slice(r,i):r>=s?this.right.slice(r-s,i-s):this.left.slice(r,s).append(this.right.slice(0,i-s))},t.prototype.leafAppend=function(r){var i=this.right.leafAppend(r);if(i)return new t(this.left,i)},t.prototype.leafPrepend=function(r){var i=this.left.leafPrepend(r);if(i)return new t(i,this.right)},t.prototype.appendInner=function(r){return this.left.depth>=Math.max(this.right.depth,r.depth)+1?new t(this.left,new t(this.right,r)):new t(this,r)},t}(pn);const aue=500;class Qr{constructor(t,n){this.items=t,this.eventCount=n}popEvent(t,n){if(this.eventCount==0)return null;let r=this.items.length;for(;;r--)if(this.items.get(r-1).selection){--r;break}let i,s;n&&(i=this.remapping(r,this.items.length),s=i.maps.length);let o=t.tr,a,l,u=[],c=[];return this.items.forEach((d,f)=>{if(!d.step){i||(i=this.remapping(r,f+1),s=i.maps.length),s--,c.push(d);return}if(i){c.push(new Ci(d.map));let p=d.step.map(i.slice(s)),m;p&&o.maybeStep(p).doc&&(m=o.mapping.maps[o.mapping.maps.length-1],u.push(new Ci(m,void 0,void 0,u.length+c.length))),s--,m&&i.appendMap(m,s)}else o.maybeStep(d.step);if(d.selection)return a=i?d.selection.map(i.slice(s)):d.selection,l=new Qr(this.items.slice(0,r).append(c.reverse().concat(u)),this.eventCount-1),!1},this.items.length,0),{remaining:l,transform:o,selection:a}}addTransform(t,n,r,i){let s=[],o=this.eventCount,a=this.items,l=!i&&a.length?a.get(a.length-1):null;for(let c=0;c<t.steps.length;c++){let d=t.steps[c].invert(t.docs[c]),f=new Ci(t.mapping.maps[c],d,n),p;(p=l&&l.merge(f))&&(f=p,c?s.pop():a=a.slice(0,a.length-1)),s.push(f),n&&(o++,n=void 0),i||(l=f)}let u=o-r.depth;return u>uue&&(a=lue(a,u),o-=u),new Qr(a.append(s),o)}remapping(t,n){let r=new Wa;return this.items.forEach((i,s)=>{let o=i.mirrorOffset!=null&&s-i.mirrorOffset>=t?r.maps.length-i.mirrorOffset:void 0;r.appendMap(i.map,o)},t,n),r}addMaps(t){return this.eventCount==0?this:new Qr(this.items.append(t.map(n=>new Ci(n))),this.eventCount)}rebased(t,n){if(!this.eventCount)return this;let r=[],i=Math.max(0,this.items.length-n),s=t.mapping,o=t.steps.length,a=this.eventCount;this.items.forEach(f=>{f.selection&&a--},i);let l=n;this.items.forEach(f=>{let p=s.getMirror(--l);if(p==null)return;o=Math.min(o,p);let m=s.maps[p];if(f.step){let g=t.steps[p].invert(t.docs[p]),b=f.selection&&f.selection.map(s.slice(l+1,p));b&&a++,r.push(new Ci(m,g,b))}else r.push(new Ci(m))},i);let u=[];for(let f=n;f<o;f++)u.push(new Ci(s.maps[f]));let c=this.items.slice(0,i).append(u).append(r),d=new Qr(c,a);return d.emptyItemCount()>aue&&(d=d.compress(this.items.length-r.length)),d}emptyItemCount(){let t=0;return this.items.forEach(n=>{n.step||t++}),t}compress(t=this.items.length){let n=this.remapping(0,t),r=n.maps.length,i=[],s=0;return this.items.forEach((o,a)=>{if(a>=t)i.push(o),o.selection&&s++;else if(o.step){let l=o.step.map(n.slice(r)),u=l&&l.getMap();if(r--,u&&n.appendMap(u,r),l){let c=o.selection&&o.selection.map(n.slice(r));c&&s++;let d=new Ci(u.invert(),l,c),f,p=i.length-1;(f=i.length&&i[p].merge(d))?i[p]=f:i.push(d)}}else o.map&&r--},this.items.length,0),new Qr(pn.from(i.reverse()),s)}}Qr.empty=new Qr(pn.empty,0);function lue(e,t){let n;return e.forEach((r,i)=>{if(r.selection&&t--==0)return n=i,!1}),e.slice(n)}class Ci{constructor(t,n,r,i){this.map=t,this.step=n,this.selection=r,this.mirrorOffset=i}merge(t){if(this.step&&t.step&&!t.selection){let n=t.step.merge(this.step);if(n)return new Ci(n.getMap().invert(),n,this.selection)}}}class Us{constructor(t,n,r,i,s){this.done=t,this.undone=n,this.prevRanges=r,this.prevTime=i,this.prevComposition=s}}const uue=20;function cue(e,t,n,r){let i=n.getMeta(Wo),s;if(i)return i.historyState;n.getMeta(pue)&&(e=new Us(e.done,e.undone,null,0,-1));let o=n.getMeta("appendedTransaction");if(n.steps.length==0)return e;if(o&&o.getMeta(Wo))return o.getMeta(Wo).redo?new Us(e.done.addTransform(n,void 0,r,cf(t)),e.undone,KC(n.mapping.maps),e.prevTime,e.prevComposition):new Us(e.done,e.undone.addTransform(n,void 0,r,cf(t)),null,e.prevTime,e.prevComposition);if(n.getMeta("addToHistory")!==!1&&!(o&&o.getMeta("addToHistory")===!1)){let a=n.getMeta("composition"),l=e.prevTime==0||!o&&e.prevComposition!=a&&(e.prevTime<(n.time||0)-r.newGroupDelay||!due(n,e.prevRanges)),u=o?Vm(e.prevRanges,n.mapping):KC(n.mapping.maps);return new Us(e.done.addTransform(n,l?t.selection.getBookmark():void 0,r,cf(t)),Qr.empty,u,n.time,a??e.prevComposition)}else return(s=n.getMeta("rebased"))?new Us(e.done.rebased(n,s),e.undone.rebased(n,s),Vm(e.prevRanges,n.mapping),e.prevTime,e.prevComposition):new Us(e.done.addMaps(n.mapping.maps),e.undone.addMaps(n.mapping.maps),Vm(e.prevRanges,n.mapping),e.prevTime,e.prevComposition)}function due(e,t){if(!t)return!1;if(!e.docChanged)return!0;let n=!1;return e.mapping.maps[0].forEach((r,i)=>{for(let s=0;s<t.length;s+=2)r<=t[s+1]&&i>=t[s]&&(n=!0)}),n}function KC(e){let t=[];for(let n=e.length-1;n>=0&&t.length==0;n--)e[n].forEach((r,i,s,o)=>t.push(s,o));return t}function Vm(e,t){if(!e)return null;let n=[];for(let r=0;r<e.length;r+=2){let i=t.map(e[r],1),s=t.map(e[r+1],-1);i<=s&&n.push(i,s)}return n}function fue(e,t,n){let r=cf(t),i=Wo.get(t).spec.config,s=(n?e.undone:e.done).popEvent(t,r);if(!s)return null;let o=s.selection.resolve(s.transform.doc),a=(n?e.done:e.undone).addTransform(s.transform,t.selection.getBookmark(),i,r),l=new Us(n?a:s.remaining,n?s.remaining:a,null,0,-1);return s.transform.setSelection(o).setMeta(Wo,{redo:n,historyState:l})}let Wm=!1,XC=null;function cf(e){let t=e.plugins;if(XC!=t){Wm=!1,XC=t;for(let n=0;n<t.length;n++)if(t[n].spec.historyPreserveItems){Wm=!0;break}}return Wm}const Wo=new hn("history"),pue=new hn("closeHistory");function hue(e={}){return e={depth:e.depth||100,newGroupDelay:e.newGroupDelay||500},new At({key:Wo,state:{init(){return new Us(Qr.empty,Qr.empty,null,0,-1)},apply(t,n,r){return cue(n,r,t,e)}},config:e,props:{handleDOMEvents:{beforeinput(t,n){let r=n.inputType,i=r=="historyUndo"?pE:r=="historyRedo"?oh:null;return i?(n.preventDefault(),i(t.state,t.dispatch)):!1}}}})}function QP(e,t){return(n,r)=>{let i=Wo.getState(n);if(!i||(e?i.undone:i.done).eventCount==0)return!1;if(r){let s=fue(i,n,e);s&&r(t?s.scrollIntoView():s)}return!0}}const pE=QP(!1,!0),oh=QP(!0,!0);var fo={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},ip={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},mue=typeof navigator<"u"&&/Mac/.test(navigator.platform),gue=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var _n=0;_n<10;_n++)fo[48+_n]=fo[96+_n]=String(_n);for(var _n=1;_n<=24;_n++)fo[_n+111]="F"+_n;for(var _n=65;_n<=90;_n++)fo[_n]=String.fromCharCode(_n+32),ip[_n]=String.fromCharCode(_n);for(var Gm in fo)ip.hasOwnProperty(Gm)||(ip[Gm]=fo[Gm]);function bue(e){var t=mue&&e.metaKey&&e.shiftKey&&!e.ctrlKey&&!e.altKey||gue&&e.shiftKey&&e.key&&e.key.length==1||e.key=="Unidentified",n=!t&&e.key||(e.shiftKey?ip:fo)[e.keyCode]||e.key||"Unidentified";return n=="Esc"&&(n="Escape"),n=="Del"&&(n="Delete"),n=="Left"&&(n="ArrowLeft"),n=="Up"&&(n="ArrowUp"),n=="Right"&&(n="ArrowRight"),n=="Down"&&(n="ArrowDown"),n}const yue=typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):!1;function _ue(e){let t=e.split(/-(?!$)/),n=t[t.length-1];n=="Space"&&(n=" ");let r,i,s,o;for(let a=0;a<t.length-1;a++){let l=t[a];if(/^(cmd|meta|m)$/i.test(l))o=!0;else if(/^a(lt)?$/i.test(l))r=!0;else if(/^(c|ctrl|control)$/i.test(l))i=!0;else if(/^s(hift)?$/i.test(l))s=!0;else if(/^mod$/i.test(l))yue?o=!0:i=!0;else throw new Error("Unrecognized modifier name: "+l)}return r&&(n="Alt-"+n),i&&(n="Ctrl-"+n),o&&(n="Meta-"+n),s&&(n="Shift-"+n),n}function Eue(e){let t=Object.create(null);for(let n in e)t[_ue(n)]=e[n];return t}function Ym(e,t,n=!0){return t.altKey&&(e="Alt-"+e),t.ctrlKey&&(e="Ctrl-"+e),t.metaKey&&(e="Meta-"+e),n&&t.shiftKey&&(e="Shift-"+e),e}function ah(e){let t=Eue(e);return function(n,r){let i=bue(r),s,o=t[Ym(i,r)];if(o&&o(n.state,n.dispatch,n))return!0;if(i.length==1&&i!=" "){if(r.shiftKey){let a=t[Ym(i,r,!1)];if(a&&a(n.state,n.dispatch,n))return!0}if((r.shiftKey||r.altKey||r.metaKey||i.charCodeAt(0)>127)&&(s=fo[r.keyCode])&&s!=i){let a=t[Ym(s,r)];if(a&&a(n.state,n.dispatch,n))return!0}}return!1}}var vue=Tue((e,t,n)=>{if(!t)return null;const r=n.depth==0?null:JP(n.node(-1).contentMatchAt(n.indexAfter(-1)));if(!r)return null;const i=wue(e,r);return i?{type:r,attrs:i}:null});function Tue(e){return(t,n)=>{let{$from:r,$to:i}=t.selection;if(t.selection instanceof qe&&t.selection.node.isBlock)return!r.parentOffset||!ds(t.doc,r.pos)?!1:(n&&n(t.tr.split(r.pos).scrollIntoView()),!0);if(!r.parent.isBlock)return!1;if(n){let s=i.parentOffset==i.parent.content.size,o=t.tr;(t.selection instanceof He||t.selection instanceof Hn)&&o.deleteSelection();let a=r.depth==0?null:JP(r.node(-1).contentMatchAt(r.indexAfter(-1))),l=e&&e(i.parent,s,r),u=l?[l]:s&&a?[{type:a}]:void 0,c=ds(o.doc,o.mapping.map(r.pos),1,u);if(!u&&!c&&ds(o.doc,o.mapping.map(r.pos),1,a?[{type:a}]:void 0)&&(a&&(u=[{type:a}]),c=!0),c&&(o.split(o.mapping.map(r.pos),1,u),!s&&!r.parentOffset&&r.parent.type!=a)){let d=o.mapping.map(r.before()),f=o.doc.resolve(d);a&&r.node(-1).canReplaceWith(f.index(),f.index()+1,a)&&o.setNodeMarkup(o.mapping.map(r.before()),a)}n(o.scrollIntoView())}return!0}}function wue(e,t){const n=QC(e.type,!0),r=QC(t,!0),i=n.filter(s=>r.includes(s));return i.length===0?null:Object.fromEntries(i.map(s=>[s,e.attrs[s]]))}function QC(e,t){var n;const r=[];for(const[i,s]of Object.entries((n=e.spec.attrs)!=null?n:{}))s.splittable===t&&r.push(i);return r}function JP(e){for(let t=0;t<e.edgeCount;t++){const{type:n}=e.edge(t);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}function ZP(e){return(t,n)=>{const r=Nl(t.schema,e.type).create(e.attrs),i=e.from??t.selection.from,s=e.to??t.selection.to;return i>s?!1:(n==null||n(t.tr.addMark(i,s,r)),!0)}}function xue(e){return(t,n)=>{const r=Nl(t.schema,e.type),i=a=>a.type===r,s=Cue(t.selection.$from,i),o=Sue(t.selection.$to,i);return s===t.selection.from&&o===t.selection.to?!1:(n&&n(t.tr.setSelection(He.create(t.doc,s,o))),!0)}}function Cue(e,t){const{parent:n}=e;if(!e.marks().some(t))return e.pos;const r=e.index();let i=r;for(let s=r;s>=0&&n.child(s).marks.some(t);s--)i=s;return e.posAtIndex(i)}function Sue(e,t){const{parent:n}=e;if(!e.marks().some(t))return e.pos;const r=Math.max(0,e.indexAfter()-1),i=n.childCount;let s=r;for(let o=r;o<i&&n.child(o).marks.some(t);o++)s=o;return e.posAtIndex(s)+n.child(s).nodeSize}function e3(e){for(let t=0;t<e.edgeCount;t++){const{type:n}=e.edge(t);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}function Aue(e){return(t,n)=>{const r=(e==null?void 0:e.pos)==null?t.selection.$to:t.doc.resolve(e.pos),i=r.parent.isTextblock?r.depth-1:r.depth,s=r.node(i),o=r.indexAfter(i),a=e3(s.contentMatchAt(o));if(!a)return!1;if(n){const l=r.posAtIndex(o,i),u=a.createAndFill();if(!u)return!1;const c=t.tr.insert(l,u),d=He.findFrom(c.doc.resolve(l),1);if(!d)return!1;c.setSelection(d),n(c.scrollIntoView())}return!0}}function Oue(e,t){const n=e.doc.content.size,r=e.doc.resolve(t>n?n:t<0?0:t),i=He.between(r,r);e.setSelection(i)}function Dl(e){return(t,n)=>{const r=e.node?e.node:e.type?In(t.schema,e.type).createAndFill(e.attrs):null;fn(r,"You must provide either a node or a type");const i=NM(t.doc,e.pos??t.selection.anchor,r.type);if(i==null)return!1;if(n){const s=t.tr.insert(i,r);Oue(s,i+r.nodeSize),n(s)}return!0}}function t3(e){return(t,n)=>{const r=Nl(t.schema,e.type),i=e.attrs?r.create(e.attrs):r,s=e.from??t.selection.from,o=e.to??t.selection.to;return s>o?!1:(n==null||n(t.tr.removeMark(s,o,i)),!0)}}function n3(e,t){for(let n=t.depth;n>=0;n-=1){const r=t.node(n);if(e(r)){const i=n===0?0:t.before(n),s=t.start(n);return{node:r,pos:i,start:s,depth:n}}}}function kue(e,t){const n=In(t.doc.type.schema,e);return n3(r=>r.type===n,t)}function Iue(e){return(t,n)=>{const r=typeof e.pos=="number"?t.doc.resolve(e.pos):t.selection.$anchor,i=kue(e.type,r);if(!i)return!1;const{pos:s,node:o}=i;return n==null||n(t.tr.delete(s,s+o.nodeSize)),!0}}function Nue(e,t,n){const r=t??n;if(r!=null){const i=e.doc.resolve(t??r),s=e.doc.resolve(n??r);return He.between(i,s)}return e.selection}function r3(e){return(t,n)=>{const r=In(t.schema,e.type),i=Nue(t,e.from,e.to),s=e.attrs;let o=!1;for(let a=0;a<i.ranges.length&&!o;a++){const{$from:{pos:l},$to:{pos:u}}=i.ranges[a];t.doc.nodesBetween(l,u,(c,d)=>{if(o)return!1;if(!(!c.isTextblock||c.hasMarkup(r,s)))if(c.type==r)o=!0;else{const f=t.doc.resolve(d),p=f.index();o=f.parent.canReplaceWith(p,p+1,r)}})}if(!o)return!1;if(n){const a=t.tr;for(const l of i.ranges){const{$from:{pos:u},$to:{pos:c}}=l;a.setBlockType(u,c,r,s)}n(a.scrollIntoView())}return!0}}function Rue(e,t){return Array.isArray(t)?t.map(n=>In(e,n)):[In(e,t)]}function Due(e){return(t,n)=>{const r=Rue(t.schema,e.type),i=e.pos??t.selection.from,s=e.pos??t.selection.to,o=[];if(t.doc.nodesBetween(i,s,(a,l)=>{if(r.includes(a.type)&&o.push(l),!n&&o.length>0)return!1}),o.length===0)return!1;if(n){const{tr:a}=t;for(const l of o)for(const[u,c]of Object.entries(e.attrs))a.setNodeAttribute(l,u,c);n(a)}return!0}}function Hr({type:e,attrs:t,removeWhenPresent:n=!1,enterInlineAtoms:r=!0}){return(i,s,o)=>nue(Nl(i.schema,e),t,{removeWhenPresent:n,enterInlineAtoms:r})(i,s,o)}function i3({type:e,attrs:t}){return(n,r,i)=>{if(sE(n,e,t)){const s=n.schema.topNodeType.contentMatch.defaultType;return s?GC(s)(n,r,i):!1}else{const s=In(n.schema,e);return GC(s,t)(n,r,i)}}}function hE(e){return(t,n)=>{const{$from:r,$to:i}=t.selection,s=r.blockRange(i);if(!s)return!1;const o=In(t.schema,e.nodeType||e.type),a=eh(s,o,e.attrs);return a?(n==null||n(t.tr.wrap(s,a)),!0):!1}}function mE(e){const{type:t,attrs:n}=e;return(r,i)=>sE(r,t,n)?Gle(r,i):hE({type:t,attrs:n})(r,i)}function s3(e){return(t,n)=>{const r=(e==null?void 0:e.from)??t.selection.from,i=(e==null?void 0:e.to)??t.selection.to;if(r>i)return!1;const s=t.tr;return Mue(s,r,i)?(n==null||n(s),!0):!1}}function Mue(e,t,n){const r=e.steps.length;return e.doc.nodesBetween(t,n,(i,s,o,a)=>{if(!o||!i.isTextblock)return!0;const l=o.contentMatchAt(a).defaultType;if(l&&l.isTextblock&&i.type!==l&&l.validContent(i.content)){const u=e.mapping.slice(r),c=u.map(s,1),d=u.map(s+i.nodeSize,1),f=new Jt(c,d,c+1,d-1,new ge(se.from(l.create()),0,0),1,!0);e.step(f)}return!1}),e.steps.length>r}function Pue(e){return(t,n)=>{const r=(e==null?void 0:e.from)??t.selection.from,i=(e==null?void 0:e.to)??t.selection.to;return r>i?!1:(n==null||n(t.tr.removeMark(r,i)),!0)}}function gE(e,t){const n=Kt(e);return n.priority=t,n}function da(e){if(e instanceof At||Array.isArray(e)&&e.every(t=>t instanceof At))return JC(()=>e);if(typeof e=="function")return JC(e);throw new TypeError("Invalid plugin")}function JC(e){return Tr(qr,[e])}var qr=mn({reducer:e=>({schema:t})=>{const n=[];for(const r of e)if(r instanceof At)n.push(r);else if(Array.isArray(r)&&r.every(i=>i instanceof At))n.push(...r);else if(typeof r=="function")n.push(...[r({schema:t})].flat());else throw new Nr("Invalid plugin");return n.reverse(),{plugins:n}},parent:RP});function Ld(e){return t=>e.filter(Ur).reduce((n,r)=>r(n),t)}function sp(e,t){return t?t(e):e}var Lue=class extends si{constructor(e,t,n,r){super(e,t),this.serializeFragmentWrapper=n,this.serializeNodeWrapper=r}serializeFragment(...e){return sp((...n)=>super.serializeFragment(...n),this.serializeFragmentWrapper)(...e)}serializeNode(...e){return sp((...n)=>super.serializeNode(...n),this.serializeNodeWrapper)(...e)}};function Bue(e,t){const n=(...o)=>si.nodesFromSchema(...o),r=(...o)=>si.marksFromSchema(...o),i=sp(n,t.nodesFromSchemaWrapper)(e),s=sp(r,t.marksFromSchemaWrapper)(e);return new Lue(i,s,t.serializeFragmentWrapper,t.serializeNodeWrapper)}var Fue=mn({reducer:e=>{const t={serializeFragmentWrapper:Ld(e.map(n=>n.serializeFragmentWrapper)),serializeNodeWrapper:Ld(e.map(n=>n.serializeNodeWrapper)),nodesFromSchemaWrapper:Ld(e.map(n=>n.nodesFromSchemaWrapper)),marksFromSchemaWrapper:Ld(e.map(n=>n.marksFromSchemaWrapper))};return({schema:n})=>{const r=Bue(n,t);return[new At({key:new hn("prosekit-clipboard-serializer"),props:{clipboardSerializer:r}})]}},singleton:!0,parent:qr});function $ue(e){return Tr(Fue,[e])}function Uue({text:e,from:t,to:n}){return(r,i)=>(e&&(i==null||i(r.tr.insertText(e,t,n))),!0)}function Hue(){return(e,t)=>(t==null||t(e.tr.setSelection(new Hn(e.doc))),!0)}var zue=mn({reducer:e=>({commands:Object.assign({},...e)}),parent:rE,singleton:!0});function or(e){return Tr(zue,[e])}function jue(){return or({insertText:Uue,insertNode:Dl,removeNode:Iue,wrap:hE,toggleWrap:mE,setBlockType:r3,setNodeAttrs:Due,insertDefaultBlock:Aue,selectAll:Hue,addMark:ZP,removeMark:t3,unsetBlockType:s3,unsetMark:Pue})}var o3=mn({reducer:e=>{let t=Bt.from({}),n=Bt.from({}),r;for(const i of e)t=t.append(i.nodes),n=n.append(i.marks??{}),r=r??i.topNode;return{nodes:t,marks:n,topNode:r}},parent:TP,singleton:!0});function a3(e,t){const n={};for(const r of e){const i=t(r);(n[i]||(n[i]=[])).push(r)}return n}function l3(e){const t={};for(const[n,r]of e)(t[n]||(t[n]=[])).push(r);return t}function que(e){const t={};for(const[n,r]of Object.entries(e))r!==void 0&&(t[n]=r);return t}function ZC(...e){const t=e.filter(Ur).map(que);return Object.assign({},...t)}function u3(e,t){var s,o;const n={},r=new Set([...Object.keys(e.attrs??{}),...Object.keys(t.attrs??{})]);for(const a of r){const l=(s=e.attrs)==null?void 0:s[a],u=(o=t.attrs)==null?void 0:o[a],c=ZC(l,u);c&&(n[a]=c)}const i=[...e.parseDOM??[],...t.parseDOM??[]];return ZC(e,t,{attrs:n,parseDOM:i})}function c3(e,t){return(n,...r)=>{const i=e(n,...r),s=t.map(o=>{var a;return(a=o.toDOM)==null?void 0:a.call(o,n.attrs[o.attr])}).filter(Ur);return Vue(i,s)}}function d3(e,t){const n=e.getAttrs,r=e.attrs;return{...e,getAttrs:i=>{const s=(n==null?void 0:n(i))??r??{};if(s===!1||!i||!wc(i))return s??null;const o={};for(const a of t)a.parseDOM&&(o[a.attr]=a.parseDOM(i));return{...s,...o}}}}function Vue(e,t){if(!e)return e;if(Array.isArray(e)){const n=e.slice(1);let r;n.length>0&&(n[0]==null||typeof n[0]=="object")?r=n.shift():r={};const i=Wue(r,t);return[e[0],i,...n]}return wc(e)?eS(e,t):typeof e=="object"&&"dom"in e&&wc(e.dom)?{...e,dom:eS(e.dom,t)}:e}function Wue(e,t){e={...e};for(const[n,r]of t){const i=e[n],s=n==="style"?f3(r,typeof i=="string"?i:""):r;e[n]=s}return e}function eS(e,t){e=e.cloneNode(!0);for(const[n,r]of t){const i=e.getAttribute(n),s=n==="style"?f3(r,typeof i=="string"?i:""):r;e.setAttribute(n,s)}return e}function f3(...e){return e.map(t=>t.trim().replace(/;$/,"")).filter(Boolean).join("; ")}function Vr(e){return Tr(Gue,[[e,void 0]])}var Gue=mn({reducer:e=>{let t=Bt.from({}),n;const r=e.map(o=>o[0]).filter(Ur),i=e.map(o=>o[1]).filter(Ur);for(const{name:o,topNode:a,...l}of r){a&&(n=o);const u=t.get(o);u?t=t.update(o,u3(u,l)):t=t.addToStart(o,l)}const s=a3(i,o=>o.type);for(const[o,a]of Object.entries(s)){if(!a)continue;const l=t.get(o);fn(l,`Node type ${o} must be defined`);const u=KP(l);u.attrs||(u.attrs={});for(const c of a)u.attrs[c.attr]={default:c.default,validate:c.validate,splittable:c.splittable};u.toDOM&&(u.toDOM=c3(u.toDOM,a)),u.parseDOM&&(u.parseDOM=u.parseDOM.map(c=>d3(c,a))),t=t.update(o,u)}return{nodes:t,topNode:n}},parent:o3,singleton:!0});function Yue(){return Vr({name:"doc",content:"block+",topNode:!0})}function Kue(e){return p3(["mount",e])}function bE(e){return p3(["update",e])}function p3(e){return Tr(Xue,[e])}var Xue=mn({reduce:()=>{let e=[],t=[],n=[];const r=new At({key:Que,view:s=>(e.forEach(o=>o(s)),{update:(o,a)=>{t.forEach(l=>l(o,a))},destroy:()=>{n.forEach(o=>o())}})}),i=s=>{e=[],t=[],n=[];for(const o of s)switch(o[0]){case"mount":e.push(o[1]);break;case"update":t.push(o[1]);break;case"unmount":n.push(o[1]);break}};return function(o){return i(o),r}},parent:qr,singleton:!0}),Que=new hn("prosekit-plugin-view-handler");function Jue(e){return bE((t,n)=>{t.state.doc.eq(n.doc)||e(t,n)})}function ur(){let e=[];function t(r){e=CP(r)}function n(...r){for(const i of e)if(i(...r))return!0;return!1}return[t,n]}function Zue(...e){return Tr(ece,e)}var ece=mn({reduce:()=>{const e={},t={};let n;const r=i=>{let s=!1;for(const[a]of i)if(!e[a]){s=!0;const[l,u]=ur();e[a]=l;const c=(d,f)=>u(d,f);t[a]=c}const o=l3(i);for(const[a,l]of Object.entries(e)){const u=o[a]??[];l(u)}s&&(n=new At({key:new hn("prosekit-dom-event-handler"),props:{handleDOMEvents:t}}))};return function(s){return r(s),n??[]}},parent:qr,singleton:!0});mn({reduce:()=>{const[e,t]=tce();return n=>(e(n),t)},parent:qr,singleton:!0});function tce(){const[e,t]=ur(),[n,r]=ur(),[i,s]=ur(),[o,a]=ur(),[l,u]=ur(),[c,d]=ur(),[f,p]=ur(),[m,g]=ur(),[b,y]=ur(),[E,v]=ur(),[w,R]=ur(),[_,D]=ur(),j=q=>{const B=l3(q);e(B.keyDown??[]),n(B.keyPress??[]),i(B.textInput??[]),o(B.clickOn??[]),l(B.click??[]),c(B.doubleClickOn??[]),f(B.doubleClick??[]),m(B.tripleClickOn??[]),b(B.tripleClick??[]),E(B.paste??[]),w(B.drop??[]),_(B.scrollToSelection??[])},P=new At({key:new hn("prosekit-editor-event"),props:{handleKeyDown:t,handleKeyPress:r,handleTextInput:s,handleClickOn:a,handleClick:u,handleDoubleClickOn:d,handleDoubleClick:p,handleTripleClickOn:g,handleTripleClick:y,handlePaste:v,handleDrop:R,handleScrollToSelection:D}});return[j,P]}function nce(e){return Zue(["focus",()=>e(!0)],["blur",()=>e(!1)])}var h3=typeof navigator<"u"?/Mac|iP(hone|[ao]d)/.test(navigator.platform):!1;function gi(e){return Tr(rce,[e])}var rce=mn({reduce:()=>{let e;const t=(r,i)=>e?e(r,i):!1,n=new At({key:oce,props:{handleKeyDown:t}});return r=>(e=ah(ice(CP(r))),n)},parent:qr,singleton:!0});function ice(e){const t={};for(const n of e)for(const[r,i]of Object.entries(n))(t[r]||(t[r]=[])).push(i);return Tc(t,sce)}function sce(e){return wr(...e)}var oce=new hn("prosekit-keymap"),m3={"Mod-z":pE,"Shift-Mod-z":oh};h3||(m3["Mod-y"]=oh);var ace={undo:()=>pE,redo:()=>oh};function lce({depth:e=200,newGroupDelay:t=250}={}){return Kt(da(hue({depth:e,newGroupDelay:t})),gi(m3),or(ace))}var uce=wr(cE,fE,qP,vue),cce=wr(Rl,UP,aE),dce={...iue,Enter:uce,Backspace:cce};function fce(e){return gE(gi(dce),1)}function Ml(e){return Tr(pce,[[e,void 0]])}var pce=mn({reducer:e=>{let t=Bt.from({});const n=e.map(s=>s[0]).filter(Ur),r=e.map(s=>s[1]).filter(Ur);for(const{name:s,...o}of n){const a=t.get(s);a?t=t.update(s,u3(a,o)):t=t.addToStart(s,o)}const i=a3(r,s=>s.type);for(const[s,o]of Object.entries(i)){if(!o)continue;const a=t.get(s);fn(a,`Mark type ${s} must be defined`);const l=KP(a);l.attrs||(l.attrs={});for(const u of o)l.attrs[u.attr]={default:u.default,validate:u.validate};l.toDOM&&(l.toDOM=c3(l.toDOM,o)),l.parseDOM&&(l.parseDOM=l.parseDOM.map(u=>hce(u,o))),t=t.update(s,l)}return{marks:t,nodes:{}}},parent:o3,singleton:!0});function hce(e,t){return e.tag?d3(e,t):e}mn({reducer:e=>{const t={};for(const n of e)t[n.name]||(t[n.name]=n.constructor);return()=>[new At({key:new hn("prosekit-mark-view"),props:{markViews:t}})]},parent:qr});function mce(e){return Tr(bce,[[e,null]])}var gce=typeof window>"u",bce=mn({reducer:e=>{if(gce)return[];const t={},n=e.map(i=>i[0]).filter(Ur),r=e.map(i=>i[1]).filter(Ur);for(const{group:i,name:s,args:o}of r){const a=n.find(l=>l.group===i);a&&(t[s]=a.factory(o))}return()=>[new At({key:new hn("prosekit-mark-view-effect"),props:{markViews:t}})]},parent:qr});mn({reducer:e=>{const t={};for(const n of e)t[n.name]||(t[n.name]=n.constructor);return()=>[new At({key:new hn("prosekit-node-view"),props:{nodeViews:t}})]},parent:qr});function yce(e){return Tr(Ece,[[e,null]])}var _ce=typeof window>"u",Ece=mn({reducer:e=>{if(_ce)return[];const t={},n=e.map(i=>i[0]).filter(Ur),r=e.map(i=>i[1]).filter(Ur);for(const{group:i,name:s,args:o}of r){const a=n.find(l=>l.group===i);a&&(t[s]=a.factory(o))}return()=>[new At({key:new hn("prosekit-node-view-effect"),props:{nodeViews:t}})]},parent:qr});function vce(){return Vr({name:"paragraph",content:"inline*",group:"block",parseDOM:[{tag:"p"}],toDOM(){return["p",0]}})}function Tce(){return gE(vce(),4)}function wce(){return Vr({name:"text",group:"inline"})}function xce(e){let t;return()=>(t===void 0&&(t=e()),t)}var lh=xce(()=>{try{return"ab".replace(new RegExp("(?<=a)b","g"),"c")==="ac"}catch{return!1}});function Cce(e,t,n){let r=!1;return e.nodesBetween(t,n,i=>{if(r)return!1;i.isInline&&(r=!0)}),r}function g3(e,t){const{$cursor:n}=e.selection;return!n||(t?!t.endOfTextblock("backward",e):n.parentOffset>0)?null:n}function tS(e){return!!(e.spec.code&&e.isBlock)}function b3(e){return tS(e.$from.parent.type)||tS(e.$to.parent.type)}function Sce(e,...t){return typeof e=="function"?e(...t):e}var Ace="￼";function Oce(e){return(t,n,r)=>b3(t.selection)?!1:e(t,n,r)}class Wr{constructor(t,n,r={}){this.match=t,this.match=t,this.handler=typeof n=="string"?kce(n):n,this.undoable=r.undoable!==!1,this.inCode=r.inCode||!1}}function kce(e){return function(t,n,r,i){let s=e;if(n[1]){let o=n[0].lastIndexOf(n[1]);s+=n[0].slice(o+n[1].length),r+=o;let a=r-i;a>0&&(s=n[0].slice(o-a,o)+s,r=i)}return t.tr.insertText(s,r,i)}}const Ice=500;function Nce({rules:e}){let t=new At({state:{init(){return null},apply(n,r){let i=n.getMeta(this);return i||(n.selectionSet||n.docChanged?null:r)}},props:{handleTextInput(n,r,i,s){return nS(n,r,i,s,e,t)},handleDOMEvents:{compositionend:n=>{setTimeout(()=>{let{$cursor:r}=n.state.selection;r&&nS(n,r.pos,r.pos,"",e,t)})}}},isInputRules:!0});return t}function nS(e,t,n,r,i,s){if(e.composing)return!1;let o=e.state,a=o.doc.resolve(t),l=a.parent.textBetween(Math.max(0,a.parentOffset-Ice),a.parentOffset,null,"￼")+r;for(let u=0;u<i.length;u++){let c=i[u];if(a.parent.type.spec.code){if(!c.inCode)continue}else if(c.inCode==="only")continue;let d=c.match.exec(l),f=d&&c.handler(o,d,t-(d[0].length-r.length),n);if(f)return c.undoable&&f.setMeta(s,{transform:f,from:t,to:n,text:r}),e.dispatch(f),!0}return!1}new Wr(/--$/,"—");new Wr(/\.\.\.$/,"…");new Wr(/(?:^|[\s\{\[\(\<'"\u2018\u201C])(")$/,"“");new Wr(/"$/,"”");new Wr(/(?:^|[\s\{\[\(\<'"\u2018\u201C])(')$/,"‘");new Wr(/'$/,"’");function Rce(e,t,n=null,r){return new Wr(e,(i,s,o,a)=>{let l=n instanceof Function?n(s):n,u=i.tr.delete(o,a),c=u.doc.resolve(o),d=c.blockRange(),f=d&&eh(d,t,l);if(!f)return null;u.wrap(d,f);let p=u.doc.resolve(o-1).nodeBefore;return p&&p.type==t&&th(u.doc,o-1)&&(!r||r(s,p))&&u.join(o-1),u})}function Dce(e,t,n=null){return new Wr(e,(r,i,s,o)=>{let a=r.doc.resolve(s),l=n instanceof Function?n(i):n;return a.node(-1).canReplaceWith(a.index(-1),a.indexAfter(-1),t)?r.tr.delete(s,o).setBlockType(s,s,t,l):null})}function uh(e){return yE(()=>e)}function Mce({regex:e,type:t,attrs:n=null}){return new Wr(e,(i,s,o,a)=>{const{tr:l,schema:u}=i,[c,d]=s;if(!d)return null;const f=o+c.indexOf(d),p=f+d.length;if(!(o<=f&&f<p&&p<=a))return null;const m=Nl(u,t),g=m.create(Sce(n,s));if(!PP(l.doc,f,p,m,n))return null;const b=l.storedMarks??[];return l.addMark(f,p,g),p<a&&l.delete(p,a),o<f&&l.delete(o,f),l.setStoredMarks(b),l})}function ch(e){return uh(Mce(e))}function Pce({regex:e,type:t,attrs:n}){return yE(({schema:r})=>{const i=In(r,t);return Dce(e,i,n)})}function Lce({regex:e,type:t,attrs:n,join:r}){return yE(({schema:i})=>{const s=In(i,t);return Rce(e,s,n,r)})}function yE(e){return Tr(Bce,[e])}var Bce=mn({reducer:e=>t=>{const n=e.flatMap(r=>r(t));return[Nce({rules:n})]},parent:qr});function Fce(){return or({setBlockquote:()=>hE({type:"blockquote"}),insertBlockquote:()=>Dl({type:"blockquote"}),toggleBlockquote:()=>mE({type:"blockquote"})})}function $ce(){return Lce({regex:/^>\s/,type:"blockquote"})}function Uce(){return mE({type:"blockquote"})}function Hce(){return(e,t,n)=>{const r=g3(e,n);return(r==null?void 0:r.node(-1).type.name)==="blockquote"?$P(e,t,n):!1}}function zce(){return gi({"mod-shift-b":Uce(),Backspace:Hce()})}function jce(){return Vr({name:"blockquote",content:"block+",group:"block",defining:!0,parseDOM:[{tag:"blockquote"}],toDOM(){return["blockquote",0]}})}function qce(){return Kt(jce(),$ce(),Fce(),zce())}function Vce(){return or({toggleBold:()=>Hr({type:"bold"})})}function Wce(){return ch({regex:lh()?new RegExp("(?<=\\s|^)\\*\\*([^\\s*]|[^\\s*][^*]*[^\\s*])\\*\\*$"):/\*\*([^\s*]|[^\s*][^*]*[^\s*])\*\*$/,type:"bold"})}function Gce(){return gi({"Mod-b":Hr({type:"bold"})})}function Yce(){return Ml({name:"bold",parseDOM:[{tag:"strong"},{tag:"b",getAttrs:e=>typeof e!="string"&&e.style.fontWeight!=="normal"&&null},{style:"font-weight=400",clearMark:e=>e.type.name=="strong"},{style:"font-weight",getAttrs:e=>typeof e=="string"&&/^(bold(er)?|[5-9]\d{2,})$/.test(e)&&null}],toDOM(){return["strong",0]}})}function Kce(){return Kt(Yce(),Vce(),Gce(),Wce())}function Xce(){return or({toggleCode:()=>Hr({type:"code"})})}function Qce(){return ch({regex:lh()?new RegExp("(?<=\\s|^)`([^\\s`]|[^\\s`][^`]*[^\\s`])`$"):/`([^\s`]|[^\s`][^`]*[^\s`])`$/,type:"code"})}function Jce(){return gi({"Mod-e":Hr({type:"code"})})}function Zce(){return Ml({name:"code",parseDOM:[{tag:"code"}],toDOM(){return["code",0]}})}function ede(){return Kt(Zce(),Xce(),Jce(),Qce())}function tde(e={}){return new At({view(t){return new nde(t,e)}})}class nde{constructor(t,n){var r;this.editorView=t,this.cursorPos=null,this.element=null,this.timeout=-1,this.width=(r=n.width)!==null&&r!==void 0?r:1,this.color=n.color===!1?void 0:n.color||"black",this.class=n.class,this.handlers=["dragover","dragend","drop","dragleave"].map(i=>{let s=o=>{this[i](o)};return t.dom.addEventListener(i,s),{name:i,handler:s}})}destroy(){this.handlers.forEach(({name:t,handler:n})=>this.editorView.dom.removeEventListener(t,n))}update(t,n){this.cursorPos!=null&&n.doc!=t.state.doc&&(this.cursorPos>t.state.doc.content.size?this.setCursor(null):this.updateOverlay())}setCursor(t){t!=this.cursorPos&&(this.cursorPos=t,t==null?(this.element.parentNode.removeChild(this.element),this.element=null):this.updateOverlay())}updateOverlay(){let t=this.editorView.state.doc.resolve(this.cursorPos),n=!t.parent.inlineContent,r;if(n){let a=t.nodeBefore,l=t.nodeAfter;if(a||l){let u=this.editorView.nodeDOM(this.cursorPos-(a?a.nodeSize:0));if(u){let c=u.getBoundingClientRect(),d=a?c.bottom:c.top;a&&l&&(d=(d+this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top)/2),r={left:c.left,right:c.right,top:d-this.width/2,bottom:d+this.width/2}}}}if(!r){let a=this.editorView.coordsAtPos(this.cursorPos);r={left:a.left-this.width/2,right:a.left+this.width/2,top:a.top,bottom:a.bottom}}let i=this.editorView.dom.offsetParent;this.element||(this.element=i.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none;",this.color&&(this.element.style.backgroundColor=this.color)),this.element.classList.toggle("prosemirror-dropcursor-block",n),this.element.classList.toggle("prosemirror-dropcursor-inline",!n);let s,o;if(!i||i==document.body&&getComputedStyle(i).position=="static")s=-pageXOffset,o=-pageYOffset;else{let a=i.getBoundingClientRect();s=a.left-i.scrollLeft,o=a.top-i.scrollTop}this.element.style.left=r.left-s+"px",this.element.style.top=r.top-o+"px",this.element.style.width=r.right-r.left+"px",this.element.style.height=r.bottom-r.top+"px"}scheduleRemoval(t){clearTimeout(this.timeout),this.timeout=setTimeout(()=>this.setCursor(null),t)}dragover(t){if(!this.editorView.editable)return;let n=this.editorView.posAtCoords({left:t.clientX,top:t.clientY}),r=n&&n.inside>=0&&this.editorView.state.doc.nodeAt(n.inside),i=r&&r.type.spec.disableDropCursor,s=typeof i=="function"?i(this.editorView,n,t):i;if(n&&!s){let o=n.pos;if(this.editorView.dragging&&this.editorView.dragging.slice){let a=RM(this.editorView.state.doc,o,this.editorView.dragging.slice);a!=null&&(o=a)}this.setCursor(o),this.scheduleRemoval(5e3)}}dragend(){this.scheduleRemoval(20)}drop(){this.scheduleRemoval(20)}dragleave(t){(t.target==this.editorView.dom||!this.editorView.dom.contains(t.relatedTarget))&&this.setCursor(null)}}function rde(e){return da(()=>tde(e))}class Ut extends Ue{constructor(t){super(t,t)}map(t,n){let r=t.resolve(n.map(this.head));return Ut.valid(r)?new Ut(r):Ue.near(r)}content(){return ge.empty}eq(t){return t instanceof Ut&&t.head==this.head}toJSON(){return{type:"gapcursor",pos:this.head}}static fromJSON(t,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for GapCursor.fromJSON");return new Ut(t.resolve(n.pos))}getBookmark(){return new _E(this.anchor)}static valid(t){let n=t.parent;if(n.isTextblock||!ide(t)||!sde(t))return!1;let r=n.type.spec.allowGapCursor;if(r!=null)return r;let i=n.contentMatchAt(t.index()).defaultType;return i&&i.isTextblock}static findGapCursorFrom(t,n,r=!1){e:for(;;){if(!r&&Ut.valid(t))return t;let i=t.pos,s=null;for(let o=t.depth;;o--){let a=t.node(o);if(n>0?t.indexAfter(o)<a.childCount:t.index(o)>0){s=a.child(n>0?t.indexAfter(o):t.index(o)-1);break}else if(o==0)return null;i+=n;let l=t.doc.resolve(i);if(Ut.valid(l))return l}for(;;){let o=n>0?s.firstChild:s.lastChild;if(!o){if(s.isAtom&&!s.isText&&!qe.isSelectable(s)){t=t.doc.resolve(i+s.nodeSize*n),r=!1;continue e}break}s=o,i+=n;let a=t.doc.resolve(i);if(Ut.valid(a))return a}return null}}}Ut.prototype.visible=!1;Ut.findFrom=Ut.findGapCursorFrom;Ue.jsonID("gapcursor",Ut);class _E{constructor(t){this.pos=t}map(t){return new _E(t.map(this.pos))}resolve(t){let n=t.resolve(this.pos);return Ut.valid(n)?new Ut(n):Ue.near(n)}}function ide(e){for(let t=e.depth;t>=0;t--){let n=e.index(t),r=e.node(t);if(n==0){if(r.type.spec.isolating)return!0;continue}for(let i=r.child(n-1);;i=i.lastChild){if(i.childCount==0&&!i.inlineContent||i.isAtom||i.type.spec.isolating)return!0;if(i.inlineContent)return!1}}return!0}function sde(e){for(let t=e.depth;t>=0;t--){let n=e.indexAfter(t),r=e.node(t);if(n==r.childCount){if(r.type.spec.isolating)return!0;continue}for(let i=r.child(n);;i=i.firstChild){if(i.childCount==0&&!i.inlineContent||i.isAtom||i.type.spec.isolating)return!0;if(i.inlineContent)return!1}}return!0}function ode(){return new At({props:{decorations:cde,createSelectionBetween(e,t,n){return t.pos==n.pos&&Ut.valid(n)?new Ut(n):null},handleClick:lde,handleKeyDown:ade,handleDOMEvents:{beforeinput:ude}}})}const ade=ah({ArrowLeft:Bd("horiz",-1),ArrowRight:Bd("horiz",1),ArrowUp:Bd("vert",-1),ArrowDown:Bd("vert",1)});function Bd(e,t){const n=e=="vert"?t>0?"down":"up":t>0?"right":"left";return function(r,i,s){let o=r.selection,a=t>0?o.$to:o.$from,l=o.empty;if(o instanceof He){if(!s.endOfTextblock(n)||a.depth==0)return!1;l=!1,a=r.doc.resolve(t>0?a.after():a.before())}let u=Ut.findGapCursorFrom(a,t,l);return u?(i&&i(r.tr.setSelection(new Ut(u))),!0):!1}}function lde(e,t,n){if(!e||!e.editable)return!1;let r=e.state.doc.resolve(t);if(!Ut.valid(r))return!1;let i=e.posAtCoords({left:n.clientX,top:n.clientY});return i&&i.inside>-1&&qe.isSelectable(e.state.doc.nodeAt(i.inside))?!1:(e.dispatch(e.state.tr.setSelection(new Ut(r))),!0)}function ude(e,t){if(t.inputType!="insertCompositionText"||!(e.state.selection instanceof Ut))return!1;let{$from:n}=e.state.selection,r=n.parent.contentMatchAt(n.index()).findWrapping(e.state.schema.nodes.text);if(!r)return!1;let i=se.empty;for(let o=r.length-1;o>=0;o--)i=se.from(r[o].createAndFill(null,i));let s=e.state.tr.replace(n.pos,n.pos,new ge(i,0,0));return s.setSelection(He.near(s.doc.resolve(n.pos+1))),e.dispatch(s),!1}function cde(e){if(!(e.selection instanceof Ut))return null;let t=document.createElement("div");return t.className="ProseMirror-gapcursor",Pt.create(e.doc,[dn.widget(e.selection.head,t,{key:"gapcursor"})])}function dde(){return da(()=>ode())}function fde(){return or({setHeading:e=>r3({type:"heading",attrs:e}),insertHeading:e=>Dl({type:"heading",attrs:e}),toggleHeading:e=>i3({type:"heading",attrs:e})})}function pde(){return Pce({regex:/^(#{1,6})\s$/,type:"heading",attrs:e=>{var n;return{level:((n=e[1])==null?void 0:n.length)??1}}})}function Ca(e){return Oce(i3({type:"heading",attrs:{level:e}}))}var hde=(e,t,n)=>{const r=g3(e,n);return(r==null?void 0:r.parent.type.name)==="heading"?s3()(e,t,n):!1};function mde(){return gi({"mod-1":Ca(1),"mod-2":Ca(2),"mod-3":Ca(3),"mod-4":Ca(4),"mod-5":Ca(5),"mod-6":Ca(6),Backspace:hde})}function gde(){return Vr({name:"heading",attrs:{level:{default:1}},content:"inline*",group:"block",defining:!0,parseDOM:[{tag:"h1",attrs:{level:1}},{tag:"h2",attrs:{level:2}},{tag:"h3",attrs:{level:3}},{tag:"h4",attrs:{level:4}},{tag:"h5",attrs:{level:5}},{tag:"h6",attrs:{level:6}}],toDOM(e){return[`h${e.attrs.level}`,0]}})}function bde(){return Kt(gde(),pde(),mde(),fde())}function yde(){return(e,t)=>{if(!t)return!0;const{schema:n,tr:r}=e,s=In(n,"horizontalRule").createChecked(),o=r.selection.anchor;return r.replaceRange(o,o,new ge(se.from(s),0,0)),t(r),!0}}function _de(){return or({insertHorizontalRule:yde})}function Ede(){return Kt(uh(new Wr(/^---$/,(e,t,n,r)=>{const{schema:i}=e,{tr:s}=e,a=In(i,"horizontalRule").createChecked();return s.delete(n,r).insert(n-1,a),s.scrollIntoView()})))}function vde(){return Vr({name:"horizontalRule",group:"block",parseDOM:[{tag:"hr"}],toDOM:()=>["div",{class:"prosekit-horizontal-rule"},["hr"]]})}function y3(){return Kt(vde(),Ede(),_de())}function Tde(){return or({insertImage:e=>Dl({type:"image",attrs:e})})}function wde(){return Vr({name:"image",attrs:{src:{default:null},width:{default:null},height:{default:null}},group:"block",defining:!0,draggable:!0,parseDOM:[{tag:"img[src]",getAttrs:e=>{if(typeof e=="string")return{src:null};const t=e.getAttribute("src")||null;let n=null,r=null;const i=e.getBoundingClientRect();return i.width>0&&i.height>0?(n=i.width,r=i.height):e instanceof HTMLImageElement&&e.naturalWidth>0&&e.naturalHeight>0&&(n=e.naturalWidth,r=e.naturalHeight),{src:t,width:n,height:r}}}],toDOM(e){return["img",e.attrs]}})}function xde(){return Kt(wde(),Tde())}function Cde(){return or({toggleItalic:()=>Hr({type:"italic"})})}function Sde(){return ch({regex:lh()?new RegExp("(?<=\\s|^)\\*([^\\s*]|[^\\s*][^*]*[^\\s*])\\*$"):/\*([^\s*]|[^\s*][^*]*[^\s*])\*$/,type:"italic"})}function Ade(){return gi({"Mod-i":Hr({type:"italic"})})}function Ode(){return Ml({name:"italic",parseDOM:[{tag:"i"},{tag:"em"},{style:"font-style=italic"},{style:"font-style=normal",clearMark:e=>e.type.name==="italic"}],toDOM(){return["em",0]}})}function kde(){return Kt(Ode(),Cde(),Ade(),Sde())}function Ide({regex:e,handler:t,stop:n=!1}){const r=new Nde(e,t,n);return Tr(Rde,[r])}var Nde=class{constructor(e,t,n){this.regex=e,this.handler=t,this.stop=n}},Rde=mn({reduce:()=>{let e=[];const n=ah({Enter:(i,s,o)=>o?Dde(o,e,s):!1}),r=new At({key:new hn("prosekit-enter-rule"),props:{handleKeyDown:n}});return function(s){return e=s,r}},parent:qr});function Dde(e,t,n){if(e.composing)return!1;const r=e.state,i=r.selection;if(!vP(i))return!1;const s=i.$cursor;if(!s||s.parent.type.spec.code)return!1;const o=s.parent.textBetween(Math.max(0,s.parentOffset-Mde),s.parentOffset,null,Ace);for(const a of t){a.regex.lastIndex=0;const l=a.regex.exec(o),u=l&&a.handler({state:r,from:s.pos-l[0].length,to:s.pos,match:l});if(u&&(n==null||n(u),a.stop))return!0}return!1}var Mde=200,Pde="a(?:a(?:a|rp)|b(?:arth|b(?:ott|vie)?|c|le|ogado|udhabi)|c(?:ademy|c(?:enture|ountants?)|o|tor)?|d(?:s|ult)?|e(?:g|ro|tna)?|f(?:l|rica)?|g(?:akhan|ency)?|i(?:g|r(?:bus|force|tel))?|kdn|l(?:faromeo|i(?:baba|pay)|l(?:finanz|state|y)|s(?:ace|tom))?|m(?:azon|e(?:rican(?:express|family)|x)|fam|ica|sterdam)?|n(?:alytics|droid|quan|z)|ol?|p(?:artments|p(?:le)?)|q(?:uarelle)?|r(?:a(?:b|mco)|chi|my|pa|te?)?|s(?:da|ia|sociates)?|t(?:hleta|torney)?|u(?:ction|di(?:ble|o)?|spost|t(?:hor|os?))?|vianca|ws?|xa?|z(?:ure)?)|b(?:a(?:by|idu|n(?:a(?:mex|narepublic)|d|k)|r(?:c(?:elona|lay(?:card|s))|efoot|gains)?|s(?:eball|ketball)|uhaus|yern)?|b(?:c|t|va)?|c[gn]|d|e(?:a(?:ts|uty)|er|ntley|rlin|st(?:buy)?|t)?|f|g|h(?:arti)?|i(?:ble|d|ke|ngo?|o|z)?|j|l(?:ack(?:friday)?|o(?:ckbuster|g|omberg)|ue)|m[sw]?|n(?:pparibas)?|o(?:ats|ehringer|fa|m|nd|o(?:k(?:ing)?)?|s(?:ch|t(?:ik|on))|t|utique|x)?|r(?:adesco|idgestone|o(?:adway|ker|ther)|ussels)?|s|t|u(?:ild(?:ers)?|siness|y|zz)|v|w|y|zh?)|c(?:a(?:b|fe|l(?:l|vinklein)?|m(?:era|p)?|non|p(?:etown|ital(?:one)?)|r(?:avan|ds|e(?:ers?)?|s)?|s(?:a|e|h|ino)|t(?:ering|holic)?)?|b(?:a|n|re|s)|c|d|e(?:nter|o|rn)|f[ad]?|g|h(?:a(?:n(?:el|nel)|rity|se|t)|eap|intai|r(?:istmas|ome)|urch)?|i(?:priani|rcle|sco|t(?:adel|ic?|y(?:eats)?))?|k|l(?:aims|eaning|i(?:ck|ni(?:c|que))|o(?:thing|ud)|ub(?:med)?)?|m|n|o(?:ach|des|ffee|l(?:lege|ogne)|m(?:cast|m(?:bank|unity)|p(?:a(?:ny|re)|uter)|sec)?|n(?:dos|s(?:truction|ulting)|t(?:act|ractors))|o(?:king(?:channel)?|l|p)|rsica|u(?:ntry|pons?|rses))?|pa|r(?:edit(?:card|union)?|icket|own|s|uises?)?|u(?:isinella)?|v|w|x|y(?:mru|ou)?|z)|d(?:a(?:bur|d|nce|t(?:a|e|ing|sun)|y)|clk|ds|e(?:al(?:er|s)?|gree|l(?:ivery|l|oitte|ta)|mocrat|nt(?:al|ist)|si(?:gn)?|v)?|hl|i(?:amonds|et|gital|rect(?:ory)?|s(?:co(?:unt|ver)|h)|y)|j|k|m|np|o(?:c(?:s|tor)|g|mains|t|wnload)?|rive|tv|u(?:bai|nlop|pont|rban)|v(?:ag|r)|z)|e(?:a(?:rth|t)|co?|d(?:eka|u(?:cation)?)|e|g|m(?:ail|erck)|n(?:ergy|gineer(?:ing)?|terprises)|pson|quipment|r(?:icsson|ni)?|s(?:q|tate)?|t(?:isalat)?|u(?:rovision|s)?|vents|x(?:change|p(?:ert|osed|ress)|traspace))|f(?:a(?:ge|i(?:l|rwinds|th)|mily|ns?|rm(?:ers)?|s(?:hion|t))|e(?:dex|edback|rr(?:ari|ero))|i(?:at|d(?:elity|o)|lm|na(?:l|nc(?:e|ial))|r(?:e(?:stone)?|mdale)|sh(?:ing)?|t(?:ness)?)?|j|k|l(?:i(?:ckr|ghts|r)|o(?:rist|wers)|y)|m|o(?:o(?:d(?:network)?|tball)?|r(?:d|ex|sale|um)|undation|x)?|r(?:e(?:e|senius)|l|o(?:gans|nt(?:door|ier)))?|tr|u(?:jitsu|nd?|rniture|tbol)|yi)|g(?:a(?:l(?:l(?:ery|o|up))?|mes?|p|rden|y)?|b(?:iz)?|dn?|e(?:a|nt(?:ing)?|orge)?|f|g(?:ee)?|h|i(?:fts?|v(?:es|ing))?|l(?:ass|e|ob(?:al|o))?|m(?:ail|bh|o|x)?|n|o(?:daddy|l(?:d(?:point)?|f)|o(?:dyear|g(?:le)?)?|p|t|v)|p|q|r(?:a(?:inger|phics|tis)|een|ipe|o(?:cery|up))?|s|t|u(?:ardian|cci|ge|i(?:de|tars)|ru)?|w|y)|h(?:a(?:ir|mburg|ngout|us)|bo|dfc(?:bank)?|e(?:alth(?:care)?|l(?:p|sinki)|r(?:e|mes))|gtv|i(?:phop|samitsu|tachi|v)|kt?|m|n|o(?:ckey|l(?:dings|iday)|me(?:depot|goods|s(?:ense)?)|nda|rse|s(?:pital|t(?:ing)?)|t(?:el(?:es|s)|mail)?|use|w)|r|sbc|t|u(?:ghes)?|y(?:att|undai))|i(?:bm|c(?:bc|e|u)|d|e(?:ee)?|fm|kano|l|m(?:amat|db|mo(?:bilien)?)?|n(?:c|dustries|f(?:initi|o)|g|k|s(?:titute|ur(?:ance|e))|t(?:ernational|uit)?|vestments)?|o|piranga|q|r(?:ish)?|s(?:maili|t(?:anbul)?)?|t(?:au|v)?)|j(?:a(?:guar|va)|cb|e(?:ep|tzt|welry)?|io|ll|mp?|nj|o(?:b(?:s|urg)|t|y)?|p(?:morgan|rs)?|u(?:egos|niper))|k(?:aufen|ddi|e(?:rry(?:hotels|logistics|properties))?|fh|g|h|i(?:a|ds|m|nd(?:er|le)|tchen|wi)?|m|n|o(?:eln|matsu|sher)|p(?:mg|n)?|r(?:d|ed)?|uokgroup|w|y(?:oto)?|z)|l(?:a(?:caixa|m(?:borghini|er)|n(?:c(?:aster|ia)|d(?:rover)?|xess)|salle|t(?:ino|robe)?|w(?:yer)?)?|b|c|ds|e(?:ase|clerc|frak|g(?:al|o)|xus)|gbt|i(?:dl|fe(?:insurance|style)?|ghting|ke|lly|m(?:ited|o)|n(?:coln|de|k)|psy|v(?:e|ing))?|k|l[cp]|o(?:ans?|c(?:ker|us)|l|ndon|tt[eo]|ve)|pl(?:financial)?|r|s|t(?:da?)?|u(?:ndbeck|x(?:e|ury))?|v|y)|m(?:a(?:cys|drid|i(?:f|son)|keup|n(?:agement|go)?|p|r(?:ket(?:ing|s)?|riott|shalls)|serati|ttel)?|ba|c(?:kinsey)?|d|e(?:d(?:ia)?|et|lbourne|m(?:e|orial)|nu?|rckmsd)?|g|h|i(?:ami|crosoft|l|n[it]|t(?:subishi)?)|k|l[bs]?|ma?|n|o(?:bi(?:le)?|da|e|i|m|n(?:ash|ey|ster)|r(?:mon|tgage)|scow|to(?:rcycles)?|v(?:ie)?)?|p|q|r|sd?|t[nr]?|u(?:s(?:eum|ic)|tual)?|v|w|x|y|z)|n(?:a(?:b|goya|me|tura|vy)?|ba|c|e(?:c|t(?:bank|flix|work)?|ustar|ws?|x(?:t(?:direct)?|us))?|fl?|go?|hk|i(?:co|k(?:e|on)|nja|ssa[ny])?|l|o(?:kia|rt(?:hwesternmutual|on)|w(?:ruz|tv)?)?|p|r[aw]?|tt|u|yc|z)|o(?:b(?:i|server)|ffice|kinawa|l(?:ayan(?:group)?|dnavy|lo)|m(?:ega)?|n(?:e|g|l(?:ine)?)|oo|pen|r(?:a(?:cle|nge)|g(?:anic)?|igins)|saka|t(?:suka|t)|vh)|p(?:a(?:ge|nasonic|r(?:is|s|t(?:ners|s|y))|ssagens|y)?|ccw|et?|f(?:izer)?|g|h(?:armacy|d|ilips|o(?:ne|to(?:graphy|s)?)|ysio)?|i(?:c(?:s|t(?:et|ures))|d|n[gk]?|oneer|zza)|k|l(?:a(?:ce|y(?:station)?)|u(?:mbing|s))?|m|nc?|o(?:hl|ker|litie|rn|st)|r(?:a(?:merica|xi)|ess|ime|o(?:d(?:uctions)?|f|gressive|mo|pert(?:ies|y)|tection)?|u(?:dential)?)?|s|t|ub|wc?|y)|q(?:a|pon|ue(?:bec|st))|r(?:a(?:cing|dio)|e(?:a(?:d|l(?:estate|t(?:or|y)))|cipes|d(?:stone|umbrella)?|hab|i(?:sen?|t)|liance|n(?:t(?:als)?)?|p(?:air|ort|ublican)|st(?:aurant)?|views?|xroth)?|i(?:c(?:h(?:ardli)?|oh)|l|o|p)|o(?:c(?:her|ks)|deo|gers|om)?|s(?:vp)?|u(?:gby|hr|n)?|we?|yukyu)|s(?:a(?:arland|fe(?:ty)?|kura|l(?:e|on)|ms(?:club|ung)|n(?:dvik(?:coromant)?|ofi)|p|rl|s|ve|xo)?|b[is]?|c(?:a|b|h(?:aeffler|midt|o(?:larships|ol)|ule|warz)|ience|ot)?|d|e(?:a(?:rch|t)|cur(?:e|ity)|ek|lect|ner|rvices|ven|w|xy?)?|fr|g|h(?:a(?:ngrila|rp|w)|ell|i(?:a|ksha)|o(?:es|p(?:ping)?|uji|w(?:time)?))?|i(?:lk|n(?:a|gles)|te)?|j|k(?:in?|y(?:pe)?)?|l(?:ing)?|m(?:art|ile)?|n(?:cf)?|o(?:c(?:cer|ial)|ft(?:bank|ware)|hu|l(?:ar|utions)|n[gy]|y)?|p(?:a(?:ce)?|o(?:rt|t))|rl?|s|t(?:a(?:da|ples|r|te(?:bank|farm))|c(?:group)?|o(?:ckholm|r(?:age|e))|ream|ud(?:io|y)|yle)?|u(?:cks|pp(?:l(?:ies|y)|ort)|r(?:f|gery)|zuki)?|v|w(?:atch|iss)|x|y(?:dney|stems)?|z)|t(?:a(?:b|ipei|lk|obao|rget|t(?:a(?:motors|r)|too)|xi?)|ci?|dk?|e(?:am|ch(?:nology)?|l|masek|nnis|va)|f|g|h(?:d|eat(?:er|re))?|i(?:aa|ckets|enda|ffany|ps|r(?:es|ol))|j(?:maxx|x)?|k(?:maxx)?|l|m(?:all)?|n|o(?:day|kyo|ols|p|ray|shiba|tal|urs|wn|y(?:ota|s))?|r(?:a(?:d(?:e|ing)|ining|vel(?:channel|ers(?:insurance)?)?)|ust|v)?|t|u(?:be|i|nes|shu)|vs?|w|z)|u(?:a|b(?:ank|s)|g|k|n(?:i(?:com|versity)|o)|ol|ps|s|y|z)|v(?:a(?:cations|n(?:a|guard))?|c|e(?:gas|ntures|r(?:isign|sicherung)|t)?|g|i(?:ajes|deo|g|king|llas|n|p|rgin|s(?:a|ion)|v[ao])?|laanderen|n|o(?:dka|l(?:kswagen|vo)|t(?:e|ing|o)|yage)|u(?:elos)?)|w(?:a(?:l(?:es|mart|ter)|ng(?:gou)?|tch(?:es)?)|e(?:ather(?:channel)?|b(?:cam|er|site)|d(?:ding)?|i(?:bo|r))|f|hoswho|i(?:en|ki|lliamhill|n(?:dows|e|ners)?)|me|o(?:lterskluwer|odside|r(?:ks?|ld)|w)|s|t[cf])|x(?:box|erox|finity|i(?:huan|n)|xx|yz)|y(?:a(?:chts|hoo|maxun|ndex)|e|o(?:dobashi|ga|kohama|u(?:tube)?)|t|un)|z(?:a(?:ppos|ra)?|ero|ip|m|one|uerich|w)",_3="\\.\\,\\;\\!\\?",E3="["+_3+"]",Km="[^\\s"+_3+"]",v3="((?:(?:(?:https?:)?\\/\\/)?(?:(?:[a-z0-9\\u00a1-\\uffff][a-z0-9\\u00a1-\\uffff_-]{0,62})?[a-z0-9\\u00a1-\\uffff]\\.)+(?:"+Pde+"))(?::\\d{2,5})?(?:/(?:\\S*"+Km+")?)?(?:\\?(?:\\S*"+Km+"))?(?:\\#(?:\\S*"+Km+")?)?)",Lde=v3+E3+"?$",Bde=v3+E3+"?\\s$",Fde=new RegExp(Lde,"gi"),$de=new RegExp(Bde,"gi");function Ude(){return Ml({name:"link",inclusive:!1,attrs:{href:{}},parseDOM:[{tag:"a[href]",getAttrs:e=>({href:e.getAttribute("href")})}],toDOM(e){const{href:t}=e.attrs;return["a",{href:t},0]}})}function Hde(){return or({addLink:e=>ZP({type:"link",attrs:e}),removeLink:()=>t3({type:"link"}),toggleLink:e=>Hr({type:"link",attrs:e}),expandLink:()=>xue({type:"link"})})}function zde(){return uh(new Wr($de,(e,t,n)=>{const r=t[1];if(!r)return null;const i=e.schema.marks.link.create({href:r});return e.tr.addMark(n,n+r.length,i).insertText(" ")}))}function jde(){return Ide({regex:Fde,handler:({state:e,from:t,match:n})=>{const r=n[1];if(!r)return null;const i=e.schema.marks.link.create({href:r}),s=e.tr.addMark(t,t+r.length,i);return s.docChanged?s:null}})}function qde(){return Kt(Ude(),Hde(),zde(),jde())}var op=typeof navigator<"u"?navigator:null,EE=op&&op.userAgent||"",Vde=/Edge\/(\d+)/.exec(EE),Wde=/MSIE \d/.exec(EE),Gde=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(EE),Yde=!!(Wde||Gde||Vde),Kde=!Yde&&!!op&&/Apple Computer/.test(op.vendor),T3=new hn("safari-ime-span"),W1=!1,Xde={key:T3,props:{decorations:Qde,handleDOMEvents:{compositionstart:()=>{W1=!0},compositionend:()=>{W1=!1}}}};function Qde(e){const{$from:t,$to:n,to:r}=e.selection;if(W1&&t.sameParent(n)){const i=dn.widget(r,Jde,{ignoreSelection:!0,key:"safari-ime-span"});return Pt.create(e.doc,[i])}}function Jde(e){const t=e.dom.ownerDocument.createElement("span");return t.className="ProseMirror-safari-ime-span",t}var Zde=new At(Kde?Xde:{key:T3});function df(e){if(e==null)return null;const t=Number.parseInt(e,10);return Number.isInteger(t)?t:null}function efe(){return[{tag:"div[data-list-kind]",getAttrs:e=>typeof e=="string"?{}:{kind:e.getAttribute("data-list-kind")||"bullet",order:df(e.getAttribute("data-list-order")),checked:e.hasAttribute("data-list-checked"),collapsed:e.hasAttribute("data-list-collapsed")}},{tag:"div[data-list]",getAttrs:e=>typeof e=="string"?{}:{kind:e.getAttribute("data-list-kind")||"bullet",order:df(e.getAttribute("data-list-order")),checked:e.hasAttribute("data-list-checked"),collapsed:e.hasAttribute("data-list-collapsed")}},{tag:"ul > li",getAttrs:e=>{var t;if(typeof e!="string"){let n=e.firstChild;for(let r=0;r<3&&n&&!["INPUT","UL","OL","LI"].includes(n.nodeName);r++)n=n.firstChild;if(n&&n.nodeName==="INPUT"&&n.getAttribute("type")==="checkbox")return{kind:"task",checked:n.hasAttribute("checked")};if(e.hasAttribute("data-task-list-item")||e.getAttribute("data-list-kind")==="task")return{kind:"task",checked:e.hasAttribute("data-list-checked")||e.hasAttribute("data-checked")};if(e.hasAttribute("data-toggle-list-item")||e.getAttribute("data-list-kind")==="toggle")return{kind:"toggle",collapsed:e.hasAttribute("data-list-collapsed")};if(((t=e.firstChild)==null?void 0:t.nodeType)===3){const r=e.firstChild.textContent;if(r&&/^\[[\sx|]]\s{1,2}/.test(r))return e.firstChild.textContent=r.replace(/^\[[\sx|]]\s{1,2}/,""),{kind:"task",checked:r.startsWith("[x]")}}}return{kind:"bullet"}}},{tag:"ol > li",getAttrs:e=>typeof e=="string"?{kind:"ordered"}:{kind:"ordered",order:df(e.getAttribute("data-list-order"))}},{tag:":is(ul, ol) > :is(ul, ol)",getAttrs:()=>({kind:"bullet"})}]}function w3({node:e,nativeList:t=!1,getMarkers:n=tfe,getAttributes:r=nfe}){var i;const s=e.attrs,a=((i=e.firstChild)==null?void 0:i.type)===e.type?null:n(e),l=r(e),u=["div",{class:"list-content"},0],c=a&&["div",{class:"list-marker list-marker-click-target",contenteditable:"false"},...a];if(t){const d=s.kind==="ordered"?"ol":"ul";return c?[d,["li",l,c,u]]:[d,["li",l,0]]}else return c?["div",l,c,u]:["div",l,u]}function tfe(e){const t=e.attrs;switch(t.kind){case"task":return[["label",["input",{type:"checkbox",checked:t.checked?"":void 0}]]];case"toggle":return[];default:return null}}function nfe(e){var t;const n=e.attrs;return{class:"prosemirror-flat-list","data-list-kind":((t=e.firstChild)==null?void 0:t.type)===e.type?void 0:n.kind||"bullet","data-list-order":n.order!=null?String(n.order):void 0,"data-list-checked":n.checked?"":void 0,"data-list-collapsed":n.collapsed?"":void 0,"data-list-collapsable":e.childCount>=2?"":void 0,style:n.order!=null?`--prosemirror-flat-list-order: ${n.order};`:void 0}}var x3="flatList";function rfe(){return{content:"block+",group:`${x3} block`,definingForContent:!0,definingAsContext:!1,attrs:{kind:{default:"bullet"},order:{default:null},checked:{default:!1},collapsed:{default:!1}},toDOM:e=>w3({node:e}),parseDOM:efe()}}function td(e){let t=e.cached.PROSEMIRROR_FLAT_LIST_LIST_TYPE_NAME;if(!t){for(const n of Object.values(e.nodes))if((n.spec.group||"").split(" ").includes(x3)){t=n.name;break}if(!t)throw new TypeError("[prosemirror-flat-list] Unable to find a flat list type in the schema");e.cached.PROSEMIRROR_FLAT_LIST_LIST_TYPE_NAME=t}return e.nodes[t]}function ife(e){return td(e.schema)===e}function ut(e){return e?ife(e.type):!1}function vE(e){return n=>(i,s,o)=>n(i,s?a=>s(e(a)):void 0,o)}function*sfe(e){const t=[];let n=0;for(;;){for(;n<e.mapping.maps.length;n++){const r=e.mapping.maps[n];for(let i=0;i<t.length;i++)t[i]=r.map(t[i]);r.forEach((i,s,o,a)=>t.push(o,a))}yield t}}function rS(e,t,n){const r=new Set,i=[];for(const s of e){const o=t.resolve(s);for(let a=o.depth;a>=0;a--){const l=o.before(a+1);if(r.has(l))break;r.add(l);const u=o.index(a),c=o.node(a),d=c.maybeChild(u-1);if(!d)continue;const f=c.maybeChild(u);f&&n(d,f,c,u)&&i.push(l)}}return i.sort((s,o)=>o-s)}function ofe(e,t){return ut(e)&&ut(t)&&ut(t.firstChild)}function afe(e,t,n,r){return!!(r===1&&ut(n)&&ut(e)&&!ut(t))}function lfe(e){const t=sfe(e),n=rS(t.next().value,e.doc,ofe);for(const i of n)th(e.doc,i)&&e.join(i);const r=rS(t.next().value,e.doc,afe);for(const i of r)ds(e.doc,i)&&e.split(i);return e}var dh=vE(lfe);function C3(e,t){for(let n=t;n<=e.depth;n++){if(e.node(n).isTextblock)continue;if(e.index(n)!==0)return!1}return!0}function S3(e,t){for(let n=t;n<=e.depth;n++){if(e.node(n).isTextblock)continue;if(e.index(n)!==e.node(n).childCount-1)return!1}return!0}function fh(e,t=e){if(t.pos<e.pos)return fh(t,e);let n=e.blockRange(t);for(;n;){if(A3(n))return n;if(n.depth<=0)break;n=new _r(e,t,n.depth-1)}return null}function A3(e){const{startIndex:t,endIndex:n,parent:r}=e;for(let i=t;i<n;i++)if(!ut(r.child(i)))return!1;return!0}function fl(e,t){let n=e.steps.length;return()=>{if(n<e.steps.length){const i=e.mapping.slice(n);n=e.steps.length,t=i.map(t)}return t}}function pl(e,t){const n=Xc(t);return n==null?!1:(e.lift(t,n),!0)}function iS(e,t,n){const r=e.doc.resolve(t),i=e.doc.resolve(n),s=r.blockRange(i);return s?pl(e,s):!1}function ap(e){const{$from:t,$to:n,depth:r,start:i,end:s}=e,o=t.doc,a=(t.pos>i?t:o.resolve(i+1)).blockRange(n.pos<s?n:o.resolve(s-1));return a&&a.depth>r?a:null}function TE(e){return!!(ut(e)&&e.attrs.collapsed)}function wE(e,t,n,r){let i=!1;for(const s of Object.keys(r))r[s]!==n[s]&&(e.setNodeAttribute(t,s,r[s]),i=!0);return i}function ufe(e,t,n){const i=e.doc.resolve(t).nodeAfter;if(i&&ut(i)){const s=i.attrs,o={...s,...n};return wE(e,t,s,o)}return!1}function sS(e,t){for(let n=t;n<=e.depth;n++)if(TE(e.node(n))&&e.index(n)>=1){const r=e.posAtIndex(1,n),i=e.doc.resolve(r);return He.near(i,-1)}return null}function O3(e){const{$from:t,$to:n,to:r}=e.selection,i=sS(t,0)||sS(n,t.sharedDepth(r));return i&&e.setSelection(i),e}var cfe=vE(O3);function oS(e,t){for(let n=t;n<=e.depth;n++)if(TE(e.node(n))&&e.index(n)>=1)return e.before(n);return null}function dfe(e){var t;const{$from:n,$to:r,to:i}=e.selection,s=(t=oS(n,0))!=null?t:oS(r,n.sharedDepth(i));return s!=null&&(e.doc.resolve(s),ufe(e,s,{collapsed:!1})),e}var k3=vE(dfe);function I3(e){return k3(dh((n,r)=>{const i=n.tr,s=(e==null?void 0:e.from)==null?i.selection.$from:i.doc.resolve(e.from),o=(e==null?void 0:e.to)==null?i.selection.$to:i.doc.resolve(e.to),a=fh(s,o);return a&&xc(a,i)?(r==null||r(i),!0):!1}))}function xc(e,t,n,r){const{depth:i,$from:s,$to:o}=e;if(n=n||C3(s,i+1),!n){const{startIndex:a,endIndex:l}=e;if(l-a===1){const u=ap(e);return u?xc(u,t):!1}else return ffe(e,t,a+1)}if(r=r||S3(o,i+1),!r){R3(e,t);const a=o.end(i);return e=new _r(t.doc.resolve(s.pos),t.doc.resolve(a),i),xc(e,t,void 0,!0)}return e.startIndex===0&&e.endIndex===e.parent.childCount&&ut(e.parent)?G1(new _r(s,o,i-1),t):G1(e,t)}function ffe(e,t,n){const{$from:r,$to:i,depth:s}=e,o=r.posAtIndex(n,s),a=r.blockRange(t.doc.resolve(o-1));if(!a)return!1;const l=fl(t,o+1),u=fl(t,i.pos);xc(a,t,void 0,!0);let c=t.doc.resolve(l()).blockRange(t.doc.resolve(u()));return c&&c.depth>=s&&(c=new _r(c.$from,c.$to,s),xc(c,t,!0,void 0)),!0}function G1(e,t){return ut(e.parent)?aS(t,e):A3(e)?D3(t,e):aS(t,e)}function aS(e,t){if(N3(e,t)){const n=e.doc.resolve(t.$from.pos),r=e.doc.resolve(t.$to.pos);t=new _r(n,r,t.depth)}return pl(e,t)}function N3(e,t){const n=td(e.doc.type.schema),{$to:r,depth:i,end:s,parent:o,endIndex:a}=t,l=r.end(i);if(s<l){const u=o.maybeChild(a-1);return u?a<o.childCount&&u.canReplace(u.childCount,u.childCount,o.content,a,o.childCount)?(e.step(new Jt(s-1,l,s,l,new ge(se.from(n.create(null)),1,0),0,!0)),!0):(e.step(new Jt(s,l,s,l,new ge(se.from(n.create(null)),0,0),1,!0)),!0):!1}return!1}function R3(e,t){e.endIndex-e.startIndex>=2&&(e=new _r(e.$to.doc.resolve(e.$to.posAtIndex(e.endIndex-1,e.depth)),e.$to,e.depth));const n=ap(e);n&&(R3(n,t),e=new _r(t.doc.resolve(e.$from.pos),t.doc.resolve(e.$to.pos),e.depth)),N3(t,e)}function D3(e,t){const{startIndex:n,endIndex:r,parent:i}=t,s=fl(e,t.start),o=fl(e,t.end);for(let d=o(),f=r-1;f>n;f--)d-=i.child(f).nodeSize,e.delete(d-1,d+1);const a=e.doc.resolve(s()),l=a.nodeAfter;if(!l)return!1;const u=t.start,c=u+l.nodeSize;return o()!==c||!a.parent.canReplace(n,n+1,se.from(l))?!1:(e.step(new Jt(u,c,u+1,c-1,new ge(se.empty,0,0),0,!0)),!0)}var pfe=wr(cE,fE,VP);function hfe(e){for(let t=e.depth;t>=0;t--){const n=e.node(t);if(ut(n)&&n.attrs.collapsed)return!0}return!1}function M3(e){return k3(dh((n,r)=>{const i=n.tr,s=(e==null?void 0:e.from)==null?i.selection.$from:i.doc.resolve(e.from),o=(e==null?void 0:e.to)==null?i.selection.$to:i.doc.resolve(e.to),a=fh(s,o)||s.blockRange(o);return a&&Cc(a,i)?(r==null||r(i),!0):!1}))}function Cc(e,t,n,r){const{depth:i,$from:s,$to:o}=e;if(n=n||C3(s,i+1),!n){const{startIndex:a,endIndex:l}=e;if(l-a===1){const u=ap(e);return u?Cc(u,t):!1}else return lS(e,t,a+1)}if(r=r||S3(o,i+1),!r&&!hfe(o)){const{startIndex:a,endIndex:l}=e;if(l-a===1){const u=ap(e);return u?Cc(u,t):!1}else return lS(e,t,l-1)}return mfe(e,t)}function lS(e,t,n){const{$from:r,$to:i,depth:s}=e,o=r.posAtIndex(n,s),a=r.blockRange(t.doc.resolve(o-1));if(!a)return!1;const l=fl(t,o+1),u=fl(t,i.pos);Cc(a,t,void 0,!0);const c=t.doc.resolve(l()).blockRange(t.doc.resolve(u()));return c&&Cc(c,t,!0,void 0),!0}function mfe(e,t){const n=td(t.doc.type.schema),{parent:r,startIndex:i}=e,s=i>=1&&r.child(i-1);if(s&&ut(s)){const{start:l,end:u}=e;return t.step(new Jt(l-1,u,l,u,new ge(se.from(n.create(null)),1,0),0,!0)),!0}const o=ut(r),a=ut(r.maybeChild(i));if(i===0&&o||a){const{start:l,end:u}=e,c=a?r.child(i).attrs:o?r.attrs:null;return t.step(new Jt(l,u,l,u,new ge(se.from(n.create(c)),0,0),1,!0)),!0}return!1}function P3(e,t){const{$cursor:n}=e.selection;return!n||(t?!t.endOfTextblock("backward",e):n.parentOffset>0)?null:n}function gfe(e,t,n){let r=t.nodeBefore,i=r,s=t.pos-1;for(;!i.isTextblock;s--){if(i.type.spec.isolating)return!1;let c=i.lastChild;if(!c)return!1;i=c}let o=t.nodeAfter,a=o,l=t.pos+1;for(;!a.isTextblock;l++){if(a.type.spec.isolating)return!1;let c=a.firstChild;if(!c)return!1;a=c}let u=Qc(e.doc,s,l,ge.empty);return!u||u.from!=s||u instanceof ln&&u.slice.size>=l-s?!1:(n&&(e.step(u),e.setSelection(He.create(e.doc,s)),n(e.scrollIntoView())),!0)}var L3=(e,t,n)=>{const r=P3(e,n);if(!r)return!1;const i=bfe(r);if(!i)return!1;const{nodeBefore:s,nodeAfter:o}=i;if(s&&o&&ut(s)&&s.attrs.collapsed&&o.isBlock){const a=e.tr,l=i.pos-s.nodeSize;a.delete(i.pos,i.pos+o.nodeSize);const u=l+1+s.child(0).nodeSize;a.insert(u,o);const c=a.doc.resolve(u);if(a.setSelection(He.near(c)),gfe(a,c,t))return!0}return!1};function bfe(e){if(!e.parent.type.spec.isolating)for(let t=e.depth-1;t>=0;t--){if(e.index(t)>0)return e.doc.resolve(e.before(t+1));if(e.node(t).type.spec.isolating)break}return null}var B3=(e,t,n)=>{const r=P3(e,n);if(!r)return!1;const{depth:i}=r;if(i<2)return!1;const s=i-1,o=r.node(s);if(!ut(o))return!1;const a=r.index(s);return a===0?(t&&yfe(e,t,r),!0):a===o.childCount-1?(t&&_fe(e,t,r),!0):!1};function yfe(e,t,n){const r=e.tr,i=n.depth-1,s=new _r(n,r.doc.resolve(n.end(i)),i);pl(r,s)&&t(r)}function _fe(e,t,n){const r=e.tr,i=n.blockRange();i&&pl(r,i)&&t(r)}var ph=(e,t)=>{const n=e.tr;let r=!1;const{from:i,to:s}=e.selection;return e.doc.nodesBetween(i,s,(o,a,l,u)=>{if(r&&!t)return!1;if(l&&TE(l)&&u>=1){if(r=!0,!t)return!1;const c=e.doc.resolve(a);n.setNodeAttribute(c.before(c.depth),"collapsed",!1)}}),r&&(t==null||t(n)),r};function uS(e,t,n,r){const i=e.createAndFill(t,n,r);if(!i)throw new RangeError(`Failed to create '${e.name}' node`);return i.check(),i}function F3(e){return!!e.node}function $3(e){return F3(e)&&e.node.type.isBlock}function Efe(e){return!!(e&&e instanceof He)}function U3(){return dh(wr(vfe,Tfe))}function H3(e){return{kind:e.attrs.kind}}var vfe=(e,t)=>{if(!$3(e.selection))return!1;const n=e.selection,{$to:r,node:i}=n,s=r.parent;if(ut(i)||!ut(s)||s.childCount!==1||s.firstChild!==i)return!1;const o=s.type,a=o.createAndFill(H3(s));if(!a)return!1;if(t){const l=e.tr,u=r.pos;l.replace(u,u,new ge(se.fromArray([o.create(),a]),1,1));const c=He.near(l.doc.resolve(u));Efe(c)&&(l.setSelection(c),t(l))}return!0},Tfe=(e,t)=>{if($3(e.selection))return!1;const{$from:n,$to:r}=e.selection;if(!n.sameParent(r)||n.depth<2)return!1;const i=n.depth-1,s=n.node(i);if(!ut(s))return!1;const o=n.parent,a=n.index(i),l=o.content.size===0;if(a===0)if(l){const u=e.doc.resolve(n.end(i)),c=i-1,d=n.node(c),m=n.index(c)===d.childCount-1?new _r(n,u,c):new _r(n,u,i),g=e.tr;return m&&G1(m,g)?(t==null||t(g),!0):!1}else return wfe(e,s,t);else return l?pfe(e,t):!1};function wfe(e,t,n){const r=e.tr,i=t.type,s=t.attrs,o=H3(t);r.delete(r.selection.from,r.selection.to);const{$from:a,$to:l}=r.selection,{parentOffset:u}=l,c=u==0,d=u==l.parent.content.size;if(c){if(n){const m=a.before(-1);r.insert(m,uS(i,o)),n(r.scrollIntoView())}return!0}if(d&&s.collapsed){if(n){const m=a.after(-1);r.insert(m,uS(i,o)),r.setSelection(Ue.near(r.doc.resolve(m))),n(r.scrollIntoView())}return!0}const f=d?t.contentMatchAt(0).defaultType:void 0,p=[{type:i,attrs:o},f?{type:f}:null];return ds(r.doc,a.pos,2,p)?(n==null||n(r.split(a.pos,2,p).scrollIntoView()),!0):!1}var xfe=wr(ph,U3());wr(ph,Rl,B3,L3,UP,aE);var Cfe=wr(ph,Rl,Vle,jP);function Fd(e,t,n){return e.cutByIndex(t,n)}function Sfe(e){return dh((n,r)=>{const i=n.tr;return Y1(i,e,!0,!!r)?(r==null||r(i),!0):!1})}function Y1(e,t,n,r){const{$from:i,$to:s}=e.selection,o=fh(i,s);if(!o)return!1;const{parent:a,depth:l,startIndex:u,endIndex:c}=o;if(t==="up")if(u>=2||u===1&&ut(a.child(0))){const d=Fd(a.content,u-1,u),f=Fd(a.content,u,c);return a.canReplace(u-1,c,f.append(d))?(r&&(e.insert(i.posAtIndex(c,l),d),e.delete(i.posAtIndex(u-1,l),i.posAtIndex(u,l))),!0):!1}else return n&&ut(a)?pl(e,o)&&Y1(e,t,!1,r):!1;else if(c<a.childCount){const d=Fd(a.content,u,c),f=Fd(a.content,c,c+1);return a.canReplace(u,c+1,f.append(d))?(r&&(e.delete(i.posAtIndex(c,l),i.posAtIndex(c+1,l)),e.insert(i.posAtIndex(u,l),f)),!0):!1}else return n&&ut(a)?pl(e,o)&&Y1(e,t,!1,r):!1}function Afe({collapsed:e=void 0,isToggleable:t=Ofe}={}){return(r,i)=>{const{$from:s}=r.selection;for(let o=s.depth;o>=0;o--){const a=s.node(o);if(ut(a)&&t(a)){if(i){const l=s.before(o),u=a.attrs,c=r.tr;c.setNodeAttribute(l,"collapsed",e??!u.collapsed),i(O3(c))}return!0}}return!1}}function Ofe(e){return e.attrs.kind==="toggle"&&e.childCount>=2&&!ut(e.firstChild)}function z3(e){const t=e==null?void 0:e.kind;return(r,i)=>{const s=r.selection;if(F3(s)&&K1(s.node,t)){if(i){const a=r.tr;iS(a,a.selection.from+1,a.selection.to-1),i(a.scrollIntoView())}return!0}const o=s.$from.blockRange(s.$to);if(o&&kfe(o,t)){const a=r.tr;if(D3(a,o))return i==null||i(a),!0}if(o&&K1(o.parent,t)){if(i){const a=r.tr;iS(a,o.$from.start(o.depth),o.$to.end(o.depth)),i(a.scrollIntoView())}return!0}return!1}}function K1(e,t){return ut(e)?t?e.attrs.kind===t:!0:!1}function kfe(e,t){const{startIndex:n,endIndex:r,parent:i}=e;for(let s=n;s<r;s++)if(!K1(i.child(s),t))return!1;return!0}function j3(e){return(n,r)=>{const{$from:i,$to:s}=n.selection;let o=i.blockRange(s);if(!o)return!1;Ife(o)&&ut(o.parent)&&o.depth>0&&o.startIndex===0&&(o=new _r(i,s,o.depth-1));const a=typeof e=="function"?e(o):e;if(!a)return!1;const{parent:l,startIndex:u,endIndex:c,depth:d}=o,f=n.tr,p=td(n.schema);for(let m=c-1;m>=u;m--){const g=l.child(m);if(ut(g)){const b=g.attrs,y={...b,...a};wE(f,i.posAtIndex(m,d),b,y)}else{const b=i.posAtIndex(m,d),y=i.posAtIndex(m+1,d);let E=b+1,v=y-1;E>v&&([E,v]=[v,E]);const w=new _r(f.doc.resolve(E),f.doc.resolve(v),d),R=eh(w,p,a);R&&f.wrap(w,R)}}return r==null||r(f),!0}}function Ife(e){const{parent:t,startIndex:n,endIndex:r}=e;for(let i=n;i<r;i++)if(t.child(i).inlineContent)return!0;return!1}function Nfe(e){const t=z3({kind:e.kind}),n=j3(e);return wr(t,n)}function Rfe({view:e,event:t,onListClick:n=Mfe}){const r=t.target;if(r!=null&&r.closest(".list-marker-click-target")){t.preventDefault();const i=e.posAtDOM(r,-10,-10);return Dfe(i,n)(e.state,s=>e.dispatch(s))}return!1}function Dfe(e,t){return cfe((r,i)=>{const s=r.tr,o=s.doc.resolve(e),a=o.parent;if(!ut(a))return!1;const l=o.before(o.depth),u=t(a);return wE(s,l,a.attrs,u)&&(i==null||i(s)),!0})}var Mfe=e=>{const t=e.attrs;return t.kind==="task"?{...t,checked:!t.checked}:t.kind==="toggle"?{...t,collapsed:!t.collapsed}:t};function $d(e,t){return new Wr(e,(n,r,i,s)=>{const o=n.tr;o.deleteRange(i,s);const a=o.selection.$from,l=a.index(-1)===0&&a.node(-1);if(l&&ut(l)){const p=l.attrs,m=typeof t=="function"?t({match:r,attributes:p}):t,g=Object.entries(m).filter(([b,y])=>p[b]!==y);if(g.length===0)return null;{const b=a.before(-1);for(const[y,E]of g)o.setNodeAttribute(b,y,E);return o}}const c=o.doc.resolve(i).blockRange();if(!c)return null;const d=typeof t=="function"?t({match:r}):t,f=eh(c,td(n.schema),d);return f?o.wrap(c,f):null})}var Pfe=[$d(/^\s?([*-])\s$/,{kind:"bullet",collapsed:!1}),$d(/^\s?(\d+)\.\s$/,({match:e})=>{const t=df(e[1]);return{kind:"ordered",collapsed:!1,order:t!=null&&t>=2?t:null}}),$d(/^\s?\[([\sXx]?)]\s$/,({match:e})=>({kind:"task",checked:["x","X"].includes(e[1]),collapsed:!1})),$d(/^\s?>>\s$/,{kind:"toggle"})],lp=typeof navigator<"u"?navigator:null,xE=lp&&lp.userAgent||"",Lfe=/Edge\/(\d+)/.exec(xE),Bfe=/MSIE \d/.exec(xE),Ffe=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(xE),$fe=!!(Bfe||Ffe||Lfe),Ufe=!$fe&&!!lp&&/Apple Computer/.test(lp.vendor),Hfe=e=>{var t,n;let r=e;const i=((t=e.firstChild)==null?void 0:t.type)===e.type,s=e.childCount===1,o=e.type.spec.toDOM(e),{dom:a,contentDOM:l}=si.renderSpec(document,o);return Ufe&&e.attrs.kind==="toggle"&&((n=a.querySelector(".list-marker-click-target"))==null||n.appendChild(document.createElement("span"))),{dom:a,contentDOM:l,update:c=>{var d;if(!c.sameMarkup(r))return!1;const f=((d=c.firstChild)==null?void 0:d.type)===c.type,p=c.childCount===1;return i!==f||s!==p?!1:(r=c,!0)}}};function X1(e){for(let t=0;t<e.childNodes.length;t++){const n=e.children.item(t);if(n){if(n.tagName==="UL"||n.tagName==="OL"){let r=null;for(;r=n.nextElementSibling,(r==null?void 0:r.tagName)===n.tagName;)n.append(...Array.from(r.children)),r.remove()}X1(n)}}return e}function zfe(e){for(;e.openStart>=2&&e.openEnd>=2&&e.content.childCount===1&&ut(e.content.child(0));)e=new ge(e.content.child(0).content,e.openStart-1,e.openEnd-1);return e}function jfe(){return new At({props:{handleDOMEvents:{mousedown:(e,t)=>Rfe({view:e,event:t})}}})}function qfe(){return new At({props:{nodeViews:{list:Hfe}}})}function Vfe(){return Zde}function Wfe(e){return Dl({type:"list",attrs:e})}function Gfe(){return or({dedentList:I3,indentList:M3,moveList:Sfe,splitList:U3,toggleCollapsed:Afe,unwrapList:z3,toggleList:Nfe,wrapInList:j3,insertList:Wfe})}function Yfe(){return Kt(Pfe.map(uh))}var Kfe=wr(ph,Rl,B3,L3),cS=I3(),dS=M3(),Xfe={Enter:xfe,Backspace:Kfe,Delete:Cfe,"Mod-]":dS,"Mod-[":cS,Tab:dS,"Shift-Tab":cS};function Qfe(){return gi(Xfe)}function Jfe(){return new At({props:{transformCopied:zfe}})}function Zfe(){return[jfe(),qfe(),Jfe(),Vfe()]}function epe(){return da(Zfe)}function tpe(){return $ue({serializeFragmentWrapper:e=>(...t)=>{const n=e(...t);return X1(n)},serializeNodeWrapper:e=>(...t)=>{const n=e(...t);return wc(n)?X1(n):n},nodesFromSchemaWrapper:e=>(...t)=>({...e(...t),list:r=>w3({node:r,nativeList:!0,getMarkers:()=>null})})})}function npe(){return Vr({...rfe(),name:"list"})}function rpe(){return Kt(npe(),epe(),Qfe(),Yfe(),Gfe(),tpe())}function ipe(){return da(new At({key:spe,props:{handleClick:ope}}))}var spe=new hn("prosekit-mod-click-prevention");function ope(e,t,n){return!!n[ape]}var ape=h3?"metaKey":"ctrlKey";function lpe(){return Ml({name:"strike",parseDOM:[{tag:"s"},{tag:"strike"},{tag:"del"},{style:"text-decoration=line-through"},{style:"text-decoration-line=line-through"}],toDOM(){return["s",0]}})}function upe(){return or({toggleStrike:()=>Hr({type:"strike"})})}function cpe(){return gi({"Mod-shift-s":Hr({type:"strike"}),"Mod-shift-x":Hr({type:"strike"})})}function dpe(){return ch({regex:lh()?new RegExp("(?<=\\s|^)~~([^\\s~]|[^\\s~][^~]*[^\\s~])~~$"):/~~([^\s~]|[^\s~][^~]*[^\s~])~~$/,type:"strike"})}function fpe(){return Kt(lpe(),upe(),cpe(),dpe())}var Q1,J1;if(typeof WeakMap<"u"){let e=new WeakMap;Q1=t=>e.get(t),J1=(t,n)=>(e.set(t,n),n)}else{const e=[];let n=0;Q1=r=>{for(let i=0;i<e.length;i+=2)if(e[i]==r)return e[i+1]},J1=(r,i)=>(n==10&&(n=0),e[n++]=r,e[n++]=i)}var Ft=class{constructor(e,t,n,r){this.width=e,this.height=t,this.map=n,this.problems=r}findCell(e){for(let t=0;t<this.map.length;t++){const n=this.map[t];if(n!=e)continue;const r=t%this.width,i=t/this.width|0;let s=r+1,o=i+1;for(let a=1;s<this.width&&this.map[t+a]==n;a++)s++;for(let a=1;o<this.height&&this.map[t+this.width*a]==n;a++)o++;return{left:r,top:i,right:s,bottom:o}}throw new RangeError(`No cell with offset ${e} found`)}colCount(e){for(let t=0;t<this.map.length;t++)if(this.map[t]==e)return t%this.width;throw new RangeError(`No cell with offset ${e} found`)}nextCell(e,t,n){const{left:r,right:i,top:s,bottom:o}=this.findCell(e);return t=="horiz"?(n<0?r==0:i==this.width)?null:this.map[s*this.width+(n<0?r-1:i)]:(n<0?s==0:o==this.height)?null:this.map[r+this.width*(n<0?s-1:o)]}rectBetween(e,t){const{left:n,right:r,top:i,bottom:s}=this.findCell(e),{left:o,right:a,top:l,bottom:u}=this.findCell(t);return{left:Math.min(n,o),top:Math.min(i,l),right:Math.max(r,a),bottom:Math.max(s,u)}}cellsInRect(e){const t=[],n={};for(let r=e.top;r<e.bottom;r++)for(let i=e.left;i<e.right;i++){const s=r*this.width+i,o=this.map[s];n[o]||(n[o]=!0,!(i==e.left&&i&&this.map[s-1]==o||r==e.top&&r&&this.map[s-this.width]==o)&&t.push(o))}return t}positionAt(e,t,n){for(let r=0,i=0;;r++){const s=i+n.child(r).nodeSize;if(r==e){let o=t+e*this.width;const a=(e+1)*this.width;for(;o<a&&this.map[o]<i;)o++;return o==a?s-1:this.map[o]}i=s}}static get(e){return Q1(e)||J1(e,ppe(e))}};function ppe(e){if(e.type.spec.tableRole!="table")throw new RangeError("Not a table node: "+e.type.name);const t=hpe(e),n=e.childCount,r=[];let i=0,s=null;const o=[];for(let u=0,c=t*n;u<c;u++)r[u]=0;for(let u=0,c=0;u<n;u++){const d=e.child(u);c++;for(let m=0;;m++){for(;i<r.length&&r[i]!=0;)i++;if(m==d.childCount)break;const g=d.child(m),{colspan:b,rowspan:y,colwidth:E}=g.attrs;for(let v=0;v<y;v++){if(v+u>=n){(s||(s=[])).push({type:"overlong_rowspan",pos:c,n:y-v});break}const w=i+v*t;for(let R=0;R<b;R++){r[w+R]==0?r[w+R]=c:(s||(s=[])).push({type:"collision",row:u,pos:c,n:b-R});const _=E&&E[R];if(_){const D=(w+R)%t*2,j=o[D];j==null||j!=_&&o[D+1]==1?(o[D]=_,o[D+1]=1):j==_&&o[D+1]++}}}i+=b,c+=g.nodeSize}const f=(u+1)*t;let p=0;for(;i<f;)r[i++]==0&&p++;p&&(s||(s=[])).push({type:"missing",row:u,n:p}),c++}(t===0||n===0)&&(s||(s=[])).push({type:"zero_sized"});const a=new Ft(t,n,r,s);let l=!1;for(let u=0;!l&&u<o.length;u+=2)o[u]!=null&&o[u+1]<n&&(l=!0);return l&&mpe(a,o,e),a}function hpe(e){let t=-1,n=!1;for(let r=0;r<e.childCount;r++){const i=e.child(r);let s=0;if(n)for(let o=0;o<r;o++){const a=e.child(o);for(let l=0;l<a.childCount;l++){const u=a.child(l);o+u.attrs.rowspan>r&&(s+=u.attrs.colspan)}}for(let o=0;o<i.childCount;o++){const a=i.child(o);s+=a.attrs.colspan,a.attrs.rowspan>1&&(n=!0)}t==-1?t=s:t!=s&&(t=Math.max(t,s))}return t}function mpe(e,t,n){e.problems||(e.problems=[]);const r={};for(let i=0;i<e.map.length;i++){const s=e.map[i];if(r[s])continue;r[s]=!0;const o=n.nodeAt(s);if(!o)throw new RangeError(`No cell with offset ${s} found`);let a=null;const l=o.attrs;for(let u=0;u<l.colspan;u++){const c=(i+u)%e.width,d=t[c*2];d!=null&&(!l.colwidth||l.colwidth[u]!=d)&&((a||(a=gpe(l)))[u]=d)}a&&e.problems.unshift({type:"colwidth mismatch",pos:s,colwidth:a})}}function gpe(e){if(e.colwidth)return e.colwidth.slice();const t=[];for(let n=0;n<e.colspan;n++)t.push(0);return t}function fS(e,t){if(typeof e=="string")return{};const n=e.getAttribute("data-colwidth"),r=n&&/^\d+(,\d+)*$/.test(n)?n.split(",").map(o=>Number(o)):null,i=Number(e.getAttribute("colspan")||1),s={colspan:i,rowspan:Number(e.getAttribute("rowspan")||1),colwidth:r&&r.length==i?r:null};for(const o in t){const a=t[o].getFromDOM,l=a&&a(e);l!=null&&(s[o]=l)}return s}function pS(e,t){const n={};e.attrs.colspan!=1&&(n.colspan=e.attrs.colspan),e.attrs.rowspan!=1&&(n.rowspan=e.attrs.rowspan),e.attrs.colwidth&&(n["data-colwidth"]=e.attrs.colwidth.join(","));for(const r in t){const i=t[r].setDOMAttr;i&&i(e.attrs[r],n)}return n}function bpe(e){const t=e.cellAttributes||{},n={colspan:{default:1},rowspan:{default:1},colwidth:{default:null}};for(const r in t)n[r]={default:t[r].default};return{table:{content:"table_row+",tableRole:"table",isolating:!0,group:e.tableGroup,parseDOM:[{tag:"table"}],toDOM(){return["table",["tbody",0]]}},table_row:{content:"(table_cell | table_header)*",tableRole:"row",parseDOM:[{tag:"tr"}],toDOM(){return["tr",0]}},table_cell:{content:e.cellContent,attrs:n,tableRole:"cell",isolating:!0,parseDOM:[{tag:"td",getAttrs:r=>fS(r,t)}],toDOM(r){return["td",pS(r,t),0]}},table_header:{content:e.cellContent,attrs:n,tableRole:"header_cell",isolating:!0,parseDOM:[{tag:"th",getAttrs:r=>fS(r,t)}],toDOM(r){return["th",pS(r,t),0]}}}}function Rn(e){let t=e.cached.tableNodeTypes;if(!t){t=e.cached.tableNodeTypes={};for(const n in e.nodes){const r=e.nodes[n],i=r.spec.tableRole;i&&(t[i]=r)}}return t}var Vs=new hn("selectingCells");function fa(e){for(let t=e.depth-1;t>0;t--)if(e.node(t).type.spec.tableRole=="row")return e.node(0).resolve(e.before(t+1));return null}function ype(e){for(let t=e.depth;t>0;t--){const n=e.node(t).type.spec.tableRole;if(n==="cell"||n==="header_cell")return e.node(t)}return null}function Ts(e){const t=e.selection.$head;for(let n=t.depth;n>0;n--)if(t.node(n).type.spec.tableRole=="row")return!0;return!1}function q3(e){const t=e.selection;if("$anchorCell"in t&&t.$anchorCell)return t.$anchorCell.pos>t.$headCell.pos?t.$anchorCell:t.$headCell;if("node"in t&&t.node&&t.node.type.spec.tableRole=="cell")return t.$anchor;const n=fa(t.$head)||V3(t.$head);if(n)return n;throw new RangeError(`No cell found around position ${t.head}`)}function V3(e){for(let t=e.nodeAfter,n=e.pos;t;t=t.firstChild,n++){const r=t.type.spec.tableRole;if(r=="cell"||r=="header_cell")return e.doc.resolve(n)}for(let t=e.nodeBefore,n=e.pos;t;t=t.lastChild,n--){const r=t.type.spec.tableRole;if(r=="cell"||r=="header_cell")return e.doc.resolve(n-t.nodeSize)}}function Z1(e){return e.parent.type.spec.tableRole=="row"&&!!e.nodeAfter}function hh(e,t){return e.depth==t.depth&&e.pos>=t.start(-1)&&e.pos<=t.end(-1)}function W3(e,t,n){const r=e.node(-1),i=Ft.get(r),s=e.start(-1),o=i.nextCell(e.pos-s,t,n);return o==null?null:e.node(0).resolve(s+o)}function na(e,t,n=1){const r={...e,colspan:e.colspan-n};return r.colwidth&&(r.colwidth=r.colwidth.slice(),r.colwidth.splice(t,n),r.colwidth.some(i=>i>0)||(r.colwidth=null)),r}function G3(e,t,n=1){const r={...e,colspan:e.colspan+n};if(r.colwidth){r.colwidth=r.colwidth.slice();for(let i=0;i<n;i++)r.colwidth.splice(t,0,0)}return r}function _pe(e,t,n){const r=Rn(t.type.schema).header_cell;for(let i=0;i<e.height;i++)if(t.nodeAt(e.map[n+i*e.width]).type!=r)return!1;return!0}var ht=class Qi extends Ue{constructor(t,n=t){const r=t.node(-1),i=Ft.get(r),s=t.start(-1),o=i.rectBetween(t.pos-s,n.pos-s),a=t.node(0),l=i.cellsInRect(o).filter(c=>c!=n.pos-s);l.unshift(n.pos-s);const u=l.map(c=>{const d=r.nodeAt(c);if(!d)throw RangeError(`No cell with offset ${c} found`);const f=s+c+1;return new Xf(a.resolve(f),a.resolve(f+d.content.size))});super(u[0].$from,u[0].$to,u),this.$anchorCell=t,this.$headCell=n}map(t,n){const r=t.resolve(n.map(this.$anchorCell.pos)),i=t.resolve(n.map(this.$headCell.pos));if(Z1(r)&&Z1(i)&&hh(r,i)){const s=this.$anchorCell.node(-1)!=r.node(-1);return s&&this.isRowSelection()?Qi.rowSelection(r,i):s&&this.isColSelection()?Qi.colSelection(r,i):new Qi(r,i)}return He.between(r,i)}content(){const t=this.$anchorCell.node(-1),n=Ft.get(t),r=this.$anchorCell.start(-1),i=n.rectBetween(this.$anchorCell.pos-r,this.$headCell.pos-r),s={},o=[];for(let l=i.top;l<i.bottom;l++){const u=[];for(let c=l*n.width+i.left,d=i.left;d<i.right;d++,c++){const f=n.map[c];if(s[f])continue;s[f]=!0;const p=n.findCell(f);let m=t.nodeAt(f);if(!m)throw RangeError(`No cell with offset ${f} found`);const g=i.left-p.left,b=p.right-i.right;if(g>0||b>0){let y=m.attrs;if(g>0&&(y=na(y,0,g)),b>0&&(y=na(y,y.colspan-b,b)),p.left<i.left){if(m=m.type.createAndFill(y),!m)throw RangeError(`Could not create cell with attrs ${JSON.stringify(y)}`)}else m=m.type.create(y,m.content)}if(p.top<i.top||p.bottom>i.bottom){const y={...m.attrs,rowspan:Math.min(p.bottom,i.bottom)-Math.max(p.top,i.top)};p.top<i.top?m=m.type.createAndFill(y):m=m.type.create(y,m.content)}u.push(m)}o.push(t.child(l).copy(se.from(u)))}const a=this.isColSelection()&&this.isRowSelection()?t:o;return new ge(se.from(a),1,1)}replace(t,n=ge.empty){const r=t.steps.length,i=this.ranges;for(let o=0;o<i.length;o++){const{$from:a,$to:l}=i[o],u=t.mapping.slice(r);t.replace(u.map(a.pos),u.map(l.pos),o?ge.empty:n)}const s=Ue.findFrom(t.doc.resolve(t.mapping.slice(r).map(this.to)),-1);s&&t.setSelection(s)}replaceWith(t,n){this.replace(t,new ge(se.from(n),0,0))}forEachCell(t){const n=this.$anchorCell.node(-1),r=Ft.get(n),i=this.$anchorCell.start(-1),s=r.cellsInRect(r.rectBetween(this.$anchorCell.pos-i,this.$headCell.pos-i));for(let o=0;o<s.length;o++)t(n.nodeAt(s[o]),i+s[o])}isColSelection(){const t=this.$anchorCell.index(-1),n=this.$headCell.index(-1);if(Math.min(t,n)>0)return!1;const r=t+this.$anchorCell.nodeAfter.attrs.rowspan,i=n+this.$headCell.nodeAfter.attrs.rowspan;return Math.max(r,i)==this.$headCell.node(-1).childCount}static colSelection(t,n=t){const r=t.node(-1),i=Ft.get(r),s=t.start(-1),o=i.findCell(t.pos-s),a=i.findCell(n.pos-s),l=t.node(0);return o.top<=a.top?(o.top>0&&(t=l.resolve(s+i.map[o.left])),a.bottom<i.height&&(n=l.resolve(s+i.map[i.width*(i.height-1)+a.right-1]))):(a.top>0&&(n=l.resolve(s+i.map[a.left])),o.bottom<i.height&&(t=l.resolve(s+i.map[i.width*(i.height-1)+o.right-1]))),new Qi(t,n)}isRowSelection(){const t=this.$anchorCell.node(-1),n=Ft.get(t),r=this.$anchorCell.start(-1),i=n.colCount(this.$anchorCell.pos-r),s=n.colCount(this.$headCell.pos-r);if(Math.min(i,s)>0)return!1;const o=i+this.$anchorCell.nodeAfter.attrs.colspan,a=s+this.$headCell.nodeAfter.attrs.colspan;return Math.max(o,a)==n.width}eq(t){return t instanceof Qi&&t.$anchorCell.pos==this.$anchorCell.pos&&t.$headCell.pos==this.$headCell.pos}static rowSelection(t,n=t){const r=t.node(-1),i=Ft.get(r),s=t.start(-1),o=i.findCell(t.pos-s),a=i.findCell(n.pos-s),l=t.node(0);return o.left<=a.left?(o.left>0&&(t=l.resolve(s+i.map[o.top*i.width])),a.right<i.width&&(n=l.resolve(s+i.map[i.width*(a.top+1)-1]))):(a.left>0&&(n=l.resolve(s+i.map[a.top*i.width])),o.right<i.width&&(t=l.resolve(s+i.map[i.width*(o.top+1)-1]))),new Qi(t,n)}toJSON(){return{type:"cell",anchor:this.$anchorCell.pos,head:this.$headCell.pos}}static fromJSON(t,n){return new Qi(t.resolve(n.anchor),t.resolve(n.head))}static create(t,n,r=n){return new Qi(t.resolve(n),t.resolve(r))}getBookmark(){return new Epe(this.$anchorCell.pos,this.$headCell.pos)}};ht.prototype.visible=!1;Ue.jsonID("cell",ht);var Epe=class Y3{constructor(t,n){this.anchor=t,this.head=n}map(t){return new Y3(t.map(this.anchor),t.map(this.head))}resolve(t){const n=t.resolve(this.anchor),r=t.resolve(this.head);return n.parent.type.spec.tableRole=="row"&&r.parent.type.spec.tableRole=="row"&&n.index()<n.parent.childCount&&r.index()<r.parent.childCount&&hh(n,r)?new ht(n,r):Ue.near(r,1)}};function vpe(e){if(!(e.selection instanceof ht))return null;const t=[];return e.selection.forEachCell((n,r)=>{t.push(dn.node(r,r+n.nodeSize,{class:"selectedCell"}))}),Pt.create(e.doc,t)}function Tpe({$from:e,$to:t}){if(e.pos==t.pos||e.pos<t.pos-6)return!1;let n=e.pos,r=t.pos,i=e.depth;for(;i>=0&&!(e.after(i+1)<e.end(i));i--,n++);for(let s=t.depth;s>=0&&!(t.before(s+1)>t.start(s));s--,r--);return n==r&&/row|table/.test(e.node(i).type.spec.tableRole)}function wpe({$from:e,$to:t}){let n,r;for(let i=e.depth;i>0;i--){const s=e.node(i);if(s.type.spec.tableRole==="cell"||s.type.spec.tableRole==="header_cell"){n=s;break}}for(let i=t.depth;i>0;i--){const s=t.node(i);if(s.type.spec.tableRole==="cell"||s.type.spec.tableRole==="header_cell"){r=s;break}}return n!==r&&t.parentOffset===0}function xpe(e,t,n){const r=(t||e).selection,i=(t||e).doc;let s,o;if(r instanceof qe&&(o=r.node.type.spec.tableRole)){if(o=="cell"||o=="header_cell")s=ht.create(i,r.from);else if(o=="row"){const a=i.resolve(r.from+1);s=ht.rowSelection(a,a)}else if(!n){const a=Ft.get(r.node),l=r.from+1,u=l+a.map[a.width*a.height-1];s=ht.create(i,l+1,u)}}else r instanceof He&&Tpe(r)?s=He.create(i,r.from):r instanceof He&&wpe(r)&&(s=He.create(i,r.$from.start(),r.$from.end()));return s&&(t||(t=e.tr)).setSelection(s),t}var Cpe=new hn("fix-tables");function K3(e,t,n,r){const i=e.childCount,s=t.childCount;e:for(let o=0,a=0;o<s;o++){const l=t.child(o);for(let u=a,c=Math.min(i,o+3);u<c;u++)if(e.child(u)==l){a=u+1,n+=l.nodeSize;continue e}r(l,n),a<i&&e.child(a).sameMarkup(l)?K3(e.child(a),l,n+1,r):l.nodesBetween(0,l.content.size,r,n+1),n+=l.nodeSize}}function Spe(e,t){let n;const r=(i,s)=>{i.type.spec.tableRole=="table"&&(n=Ape(e,i,s,n))};return t?t.doc!=e.doc&&K3(t.doc,e.doc,0,r):e.doc.descendants(r),n}function Ape(e,t,n,r){const i=Ft.get(t);if(!i.problems)return r;r||(r=e.tr);const s=[];for(let l=0;l<i.height;l++)s.push(0);for(let l=0;l<i.problems.length;l++){const u=i.problems[l];if(u.type=="collision"){const c=t.nodeAt(u.pos);if(!c)continue;const d=c.attrs;for(let f=0;f<d.rowspan;f++)s[u.row+f]+=u.n;r.setNodeMarkup(r.mapping.map(n+1+u.pos),null,na(d,d.colspan-u.n,u.n))}else if(u.type=="missing")s[u.row]+=u.n;else if(u.type=="overlong_rowspan"){const c=t.nodeAt(u.pos);if(!c)continue;r.setNodeMarkup(r.mapping.map(n+1+u.pos),null,{...c.attrs,rowspan:c.attrs.rowspan-u.n})}else if(u.type=="colwidth mismatch"){const c=t.nodeAt(u.pos);if(!c)continue;r.setNodeMarkup(r.mapping.map(n+1+u.pos),null,{...c.attrs,colwidth:u.colwidth})}else if(u.type=="zero_sized"){const c=r.mapping.map(n);r.delete(c,c+t.nodeSize)}}let o,a;for(let l=0;l<s.length;l++)s[l]&&(o==null&&(o=l),a=l);for(let l=0,u=n+1;l<i.height;l++){const c=t.child(l),d=u+c.nodeSize,f=s[l];if(f>0){let p="cell";c.firstChild&&(p=c.firstChild.type.spec.tableRole);const m=[];for(let b=0;b<f;b++){const y=Rn(e.schema)[p].createAndFill();y&&m.push(y)}const g=(l==0||o==l-1)&&a==l?u+1:d-1;r.insert(r.mapping.map(g),m)}u=d}return r.setMeta(Cpe,{fixTables:!0})}function ji(e){const t=e.selection,n=q3(e),r=n.node(-1),i=n.start(-1),s=Ft.get(r);return{...t instanceof ht?s.rectBetween(t.$anchorCell.pos-i,t.$headCell.pos-i):s.findCell(n.pos-i),tableStart:i,map:s,table:r}}function X3(e,{map:t,tableStart:n,table:r},i){let s=i>0?-1:0;_pe(t,r,i+s)&&(s=i==0||i==t.width?null:0);for(let o=0;o<t.height;o++){const a=o*t.width+i;if(i>0&&i<t.width&&t.map[a-1]==t.map[a]){const l=t.map[a],u=r.nodeAt(l);e.setNodeMarkup(e.mapping.map(n+l),null,G3(u.attrs,i-t.colCount(l))),o+=u.attrs.rowspan-1}else{const l=s==null?Rn(r.type.schema).cell:r.nodeAt(t.map[a+s]).type,u=t.positionAt(o,i,r);e.insert(e.mapping.map(n+u),l.createAndFill())}}return e}function Ope(e,t){if(!Ts(e))return!1;if(t){const n=ji(e);t(X3(e.tr,n,n.left))}return!0}function kpe(e,t){if(!Ts(e))return!1;if(t){const n=ji(e);t(X3(e.tr,n,n.right))}return!0}function Ipe(e,{map:t,table:n,tableStart:r},i){const s=e.mapping.maps.length;for(let o=0;o<t.height;){const a=o*t.width+i,l=t.map[a],u=n.nodeAt(l),c=u.attrs;if(i>0&&t.map[a-1]==l||i<t.width-1&&t.map[a+1]==l)e.setNodeMarkup(e.mapping.slice(s).map(r+l),null,na(c,i-t.colCount(l)));else{const d=e.mapping.slice(s).map(r+l);e.delete(d,d+u.nodeSize)}o+=c.rowspan}}function Npe(e,t){if(!Ts(e))return!1;if(t){const n=ji(e),r=e.tr;if(n.left==0&&n.right==n.map.width)return!1;for(let i=n.right-1;Ipe(r,n,i),i!=n.left;i--){const s=n.tableStart?r.doc.nodeAt(n.tableStart-1):r.doc;if(!s)throw RangeError("No table found");n.table=s,n.map=Ft.get(s)}t(r)}return!0}function Rpe(e,t,n){var r;const i=Rn(t.type.schema).header_cell;for(let s=0;s<e.width;s++)if(((r=t.nodeAt(e.map[s+n*e.width]))==null?void 0:r.type)!=i)return!1;return!0}function Q3(e,{map:t,tableStart:n,table:r},i){var s;let o=n;for(let u=0;u<i;u++)o+=r.child(u).nodeSize;const a=[];let l=i>0?-1:0;Rpe(t,r,i+l)&&(l=i==0||i==t.height?null:0);for(let u=0,c=t.width*i;u<t.width;u++,c++)if(i>0&&i<t.height&&t.map[c]==t.map[c-t.width]){const d=t.map[c],f=r.nodeAt(d).attrs;e.setNodeMarkup(n+d,null,{...f,rowspan:f.rowspan+1}),u+=f.colspan-1}else{const d=l==null?Rn(r.type.schema).cell:(s=r.nodeAt(t.map[c+l*t.width]))==null?void 0:s.type,f=d==null?void 0:d.createAndFill();f&&a.push(f)}return e.insert(o,Rn(r.type.schema).row.create(null,a)),e}function Dpe(e,t){if(!Ts(e))return!1;if(t){const n=ji(e);t(Q3(e.tr,n,n.top))}return!0}function Mpe(e,t){if(!Ts(e))return!1;if(t){const n=ji(e);t(Q3(e.tr,n,n.bottom))}return!0}function Ppe(e,{map:t,table:n,tableStart:r},i){let s=0;for(let u=0;u<i;u++)s+=n.child(u).nodeSize;const o=s+n.child(i).nodeSize,a=e.mapping.maps.length;e.delete(s+r,o+r);const l=new Set;for(let u=0,c=i*t.width;u<t.width;u++,c++){const d=t.map[c];if(!l.has(d)){if(l.add(d),i>0&&d==t.map[c-t.width]){const f=n.nodeAt(d).attrs;e.setNodeMarkup(e.mapping.slice(a).map(d+r),null,{...f,rowspan:f.rowspan-1}),u+=f.colspan-1}else if(i<t.height&&d==t.map[c+t.width]){const f=n.nodeAt(d),p=f.attrs,m=f.type.create({...p,rowspan:f.attrs.rowspan-1},f.content),g=t.positionAt(i+1,u,n);e.insert(e.mapping.slice(a).map(r+g),m),u+=p.colspan-1}}}}function Lpe(e,t){if(!Ts(e))return!1;if(t){const n=ji(e),r=e.tr;if(n.top==0&&n.bottom==n.map.height)return!1;for(let i=n.bottom-1;Ppe(r,n,i),i!=n.top;i--){const s=n.tableStart?r.doc.nodeAt(n.tableStart-1):r.doc;if(!s)throw RangeError("No table found");n.table=s,n.map=Ft.get(n.table)}t(r)}return!0}function hS(e){const t=e.content;return t.childCount==1&&t.child(0).isTextblock&&t.child(0).childCount==0}function Bpe({width:e,height:t,map:n},r){let i=r.top*e+r.left,s=i,o=(r.bottom-1)*e+r.left,a=i+(r.right-r.left-1);for(let l=r.top;l<r.bottom;l++){if(r.left>0&&n[s]==n[s-1]||r.right<e&&n[a]==n[a+1])return!0;s+=e,a+=e}for(let l=r.left;l<r.right;l++){if(r.top>0&&n[i]==n[i-e]||r.bottom<t&&n[o]==n[o+e])return!0;i++,o++}return!1}function Fpe(e,t){const n=e.selection;if(!(n instanceof ht)||n.$anchorCell.pos==n.$headCell.pos)return!1;const r=ji(e),{map:i}=r;if(Bpe(i,r))return!1;if(t){const s=e.tr,o={};let a=se.empty,l,u;for(let c=r.top;c<r.bottom;c++)for(let d=r.left;d<r.right;d++){const f=i.map[c*i.width+d],p=r.table.nodeAt(f);if(!(o[f]||!p))if(o[f]=!0,l==null)l=f,u=p;else{hS(p)||(a=a.append(p.content));const m=s.mapping.map(f+r.tableStart);s.delete(m,m+p.nodeSize)}}if(l==null||u==null)return!0;if(s.setNodeMarkup(l+r.tableStart,null,{...G3(u.attrs,u.attrs.colspan,r.right-r.left-u.attrs.colspan),rowspan:r.bottom-r.top}),a.size){const c=l+1+u.content.size,d=hS(u)?l+1:c;s.replaceWith(d+r.tableStart,c+r.tableStart,a)}s.setSelection(new ht(s.doc.resolve(l+r.tableStart))),t(s)}return!0}function $pe(e,t){const n=Rn(e.schema);return Upe(({node:r})=>n[r.type.spec.tableRole])(e,t)}function Upe(e){return(t,n)=>{var r;const i=t.selection;let s,o;if(i instanceof ht){if(i.$anchorCell.pos!=i.$headCell.pos)return!1;s=i.$anchorCell.nodeAfter,o=i.$anchorCell.pos}else{if(s=ype(i.$from),!s)return!1;o=(r=fa(i.$from))==null?void 0:r.pos}if(s==null||o==null||s.attrs.colspan==1&&s.attrs.rowspan==1)return!1;if(n){let a=s.attrs;const l=[],u=a.colwidth;a.rowspan>1&&(a={...a,rowspan:1}),a.colspan>1&&(a={...a,colspan:1});const c=ji(t),d=t.tr;for(let p=0;p<c.right-c.left;p++)l.push(u?{...a,colwidth:u&&u[p]?[u[p]]:null}:a);let f;for(let p=c.top;p<c.bottom;p++){let m=c.map.positionAt(p,c.left,c.table);p==c.top&&(m+=s.nodeSize);for(let g=c.left,b=0;g<c.right;g++,b++)g==c.left&&p==c.top||d.insert(f=d.mapping.map(m+c.tableStart,1),e({node:s,row:p,col:g}).createAndFill(l[b]))}d.setNodeMarkup(o,e({node:s,row:c.top,col:c.left}),l[0]),i instanceof ht&&d.setSelection(new ht(d.doc.resolve(i.$anchorCell.pos),f?d.doc.resolve(f):void 0)),n(d)}return!0}}function Hpe(e){return function(t,n){if(!Ts(t))return!1;if(n){const r=Rn(t.schema),i=ji(t),s=t.tr,o=i.map.cellsInRect(e=="column"?{left:i.left,top:0,right:i.right,bottom:i.map.height}:e=="row"?{left:0,top:i.top,right:i.map.width,bottom:i.bottom}:i),a=o.map(l=>i.table.nodeAt(l));for(let l=0;l<o.length;l++)a[l].type==r.header_cell&&s.setNodeMarkup(i.tableStart+o[l],r.cell,a[l].attrs);if(s.steps.length==0)for(let l=0;l<o.length;l++)s.setNodeMarkup(i.tableStart+o[l],r.header_cell,a[l].attrs);n(s)}return!0}}function mS(e,t,n){const r=t.map.cellsInRect({left:0,top:0,right:e=="row"?t.map.width:1,bottom:e=="column"?t.map.height:1});for(let i=0;i<r.length;i++){const s=t.table.nodeAt(r[i]);if(s&&s.type!==n.header_cell)return!1}return!0}function CE(e,t){return t=t||{useDeprecatedLogic:!1},t.useDeprecatedLogic?Hpe(e):function(n,r){if(!Ts(n))return!1;if(r){const i=Rn(n.schema),s=ji(n),o=n.tr,a=mS("row",s,i),l=mS("column",s,i),c=(e==="column"?a:e==="row"?l:!1)?1:0,d=e=="column"?{left:0,top:c,right:1,bottom:s.map.height}:e=="row"?{left:c,top:0,right:s.map.width,bottom:1}:s,f=e=="column"?l?i.cell:i.header_cell:e=="row"?a?i.cell:i.header_cell:i.cell;s.map.cellsInRect(d).forEach(p=>{const m=p+s.tableStart,g=o.doc.nodeAt(m);g&&o.setNodeMarkup(m,f,g.attrs)}),r(o)}return!0}}CE("row",{useDeprecatedLogic:!0});CE("column",{useDeprecatedLogic:!0});CE("cell",{useDeprecatedLogic:!0});function zpe(e,t){const n=e.selection.$anchor;for(let r=n.depth;r>0;r--)if(n.node(r).type.spec.tableRole=="table")return t&&t(e.tr.delete(n.before(r),n.after(r)).scrollIntoView()),!0;return!1}function _u(e,t){const n=e.selection;if(!(n instanceof ht))return!1;if(t){const r=e.tr,i=Rn(e.schema).cell.createAndFill().content;n.forEachCell((s,o)=>{s.content.eq(i)||r.replace(r.mapping.map(o+1),r.mapping.map(o+s.nodeSize-1),new ge(i,0,0))}),r.docChanged&&t(r)}return!0}function jpe(e){if(!e.size)return null;let{content:t,openStart:n,openEnd:r}=e;for(;t.childCount==1&&(n>0&&r>0||t.child(0).type.spec.tableRole=="table");)n--,r--,t=t.child(0).content;const i=t.child(0),s=i.type.spec.tableRole,o=i.type.schema,a=[];if(s=="row")for(let l=0;l<t.childCount;l++){let u=t.child(l).content;const c=l?0:Math.max(0,n-1),d=l<t.childCount-1?0:Math.max(0,r-1);(c||d)&&(u=ey(Rn(o).row,new ge(u,c,d)).content),a.push(u)}else if(s=="cell"||s=="header_cell")a.push(n||r?ey(Rn(o).row,new ge(t,n,r)).content:t);else return null;return qpe(o,a)}function qpe(e,t){const n=[];for(let i=0;i<t.length;i++){const s=t[i];for(let o=s.childCount-1;o>=0;o--){const{rowspan:a,colspan:l}=s.child(o).attrs;for(let u=i;u<i+a;u++)n[u]=(n[u]||0)+l}}let r=0;for(let i=0;i<n.length;i++)r=Math.max(r,n[i]);for(let i=0;i<n.length;i++)if(i>=t.length&&t.push(se.empty),n[i]<r){const s=Rn(e).cell.createAndFill(),o=[];for(let a=n[i];a<r;a++)o.push(s);t[i]=t[i].append(se.from(o))}return{height:t.length,width:r,rows:t}}function ey(e,t){const n=e.createAndFill();return new BM(n).replace(0,n.content.size,t).doc}function Vpe({width:e,height:t,rows:n},r,i){if(e!=r){const s=[],o=[];for(let a=0;a<n.length;a++){const l=n[a],u=[];for(let c=s[a]||0,d=0;c<r;d++){let f=l.child(d%l.childCount);c+f.attrs.colspan>r&&(f=f.type.createChecked(na(f.attrs,f.attrs.colspan,c+f.attrs.colspan-r),f.content)),u.push(f),c+=f.attrs.colspan;for(let p=1;p<f.attrs.rowspan;p++)s[a+p]=(s[a+p]||0)+f.attrs.colspan}o.push(se.from(u))}n=o,e=r}if(t!=i){const s=[];for(let o=0,a=0;o<i;o++,a++){const l=[],u=n[a%t];for(let c=0;c<u.childCount;c++){let d=u.child(c);o+d.attrs.rowspan>i&&(d=d.type.create({...d.attrs,rowspan:Math.max(1,i-d.attrs.rowspan)},d.content)),l.push(d)}s.push(se.from(l))}n=s,t=i}return{width:e,height:t,rows:n}}function Wpe(e,t,n,r,i,s,o){const a=e.doc.type.schema,l=Rn(a);let u,c;if(i>t.width)for(let d=0,f=0;d<t.height;d++){const p=n.child(d);f+=p.nodeSize;const m=[];let g;p.lastChild==null||p.lastChild.type==l.cell?g=u||(u=l.cell.createAndFill()):g=c||(c=l.header_cell.createAndFill());for(let b=t.width;b<i;b++)m.push(g);e.insert(e.mapping.slice(o).map(f-1+r),m)}if(s>t.height){const d=[];for(let m=0,g=(t.height-1)*t.width;m<Math.max(t.width,i);m++){const b=m>=t.width?!1:n.nodeAt(t.map[g+m]).type==l.header_cell;d.push(b?c||(c=l.header_cell.createAndFill()):u||(u=l.cell.createAndFill()))}const f=l.row.create(null,se.from(d)),p=[];for(let m=t.height;m<s;m++)p.push(f);e.insert(e.mapping.slice(o).map(r+n.nodeSize-2),p)}return!!(u||c)}function gS(e,t,n,r,i,s,o,a){if(o==0||o==t.height)return!1;let l=!1;for(let u=i;u<s;u++){const c=o*t.width+u,d=t.map[c];if(t.map[c-t.width]==d){l=!0;const f=n.nodeAt(d),{top:p,left:m}=t.findCell(d);e.setNodeMarkup(e.mapping.slice(a).map(d+r),null,{...f.attrs,rowspan:o-p}),e.insert(e.mapping.slice(a).map(t.positionAt(o,m,n)),f.type.createAndFill({...f.attrs,rowspan:p+f.attrs.rowspan-o})),u+=f.attrs.colspan-1}}return l}function bS(e,t,n,r,i,s,o,a){if(o==0||o==t.width)return!1;let l=!1;for(let u=i;u<s;u++){const c=u*t.width+o,d=t.map[c];if(t.map[c-1]==d){l=!0;const f=n.nodeAt(d),p=t.colCount(d),m=e.mapping.slice(a).map(d+r);e.setNodeMarkup(m,null,na(f.attrs,o-p,f.attrs.colspan-(o-p))),e.insert(m+f.nodeSize,f.type.createAndFill(na(f.attrs,0,o-p))),u+=f.attrs.rowspan-1}}return l}function yS(e,t,n,r,i){let s=n?e.doc.nodeAt(n-1):e.doc;if(!s)throw new Error("No table found");let o=Ft.get(s);const{top:a,left:l}=r,u=l+i.width,c=a+i.height,d=e.tr;let f=0;function p(){if(s=n?d.doc.nodeAt(n-1):d.doc,!s)throw new Error("No table found");o=Ft.get(s),f=d.mapping.maps.length}Wpe(d,o,s,n,u,c,f)&&p(),gS(d,o,s,n,l,u,a,f)&&p(),gS(d,o,s,n,l,u,c,f)&&p(),bS(d,o,s,n,a,c,l,f)&&p(),bS(d,o,s,n,a,c,u,f)&&p();for(let m=a;m<c;m++){const g=o.positionAt(m,l,s),b=o.positionAt(m,u,s);d.replace(d.mapping.slice(f).map(g+n),d.mapping.slice(f).map(b+n),new ge(i.rows[m-a],0,0))}p(),d.setSelection(new ht(d.doc.resolve(n+o.positionAt(a,l,s)),d.doc.resolve(n+o.positionAt(c-1,u-1,s)))),t(d)}var Gpe=ah({ArrowLeft:Ud("horiz",-1),ArrowRight:Ud("horiz",1),ArrowUp:Ud("vert",-1),ArrowDown:Ud("vert",1),"Shift-ArrowLeft":Hd("horiz",-1),"Shift-ArrowRight":Hd("horiz",1),"Shift-ArrowUp":Hd("vert",-1),"Shift-ArrowDown":Hd("vert",1),Backspace:_u,"Mod-Backspace":_u,Delete:_u,"Mod-Delete":_u});function ff(e,t,n){return n.eq(e.selection)?!1:(t&&t(e.tr.setSelection(n).scrollIntoView()),!0)}function Ud(e,t){return(n,r,i)=>{if(!i)return!1;const s=n.selection;if(s instanceof ht)return ff(n,r,Ue.near(s.$headCell,t));if(e!="horiz"&&!s.empty)return!1;const o=J3(i,e,t);if(o==null)return!1;if(e=="horiz")return ff(n,r,Ue.near(n.doc.resolve(s.head+t),t));{const a=n.doc.resolve(o),l=W3(a,e,t);let u;return l?u=Ue.near(l,1):t<0?u=Ue.near(n.doc.resolve(a.before(-1)),-1):u=Ue.near(n.doc.resolve(a.after(-1)),1),ff(n,r,u)}}}function Hd(e,t){return(n,r,i)=>{if(!i)return!1;const s=n.selection;let o;if(s instanceof ht)o=s;else{const l=J3(i,e,t);if(l==null)return!1;o=new ht(n.doc.resolve(l))}const a=W3(o.$headCell,e,t);return a?ff(n,r,new ht(o.$anchorCell,a)):!1}}function Ype(e,t){const n=e.state.doc,r=fa(n.resolve(t));return r?(e.dispatch(e.state.tr.setSelection(new ht(r))),!0):!1}function Kpe(e,t,n){if(!Ts(e.state))return!1;let r=jpe(n);const i=e.state.selection;if(i instanceof ht){r||(r={width:1,height:1,rows:[se.from(ey(Rn(e.state.schema).cell,n))]});const s=i.$anchorCell.node(-1),o=i.$anchorCell.start(-1),a=Ft.get(s).rectBetween(i.$anchorCell.pos-o,i.$headCell.pos-o);return r=Vpe(r,a.right-a.left,a.bottom-a.top),yS(e.state,e.dispatch,o,a,r),!0}else if(r){const s=q3(e.state),o=s.start(-1);return yS(e.state,e.dispatch,o,Ft.get(s.node(-1)).findCell(s.pos-o),r),!0}else return!1}function Xpe(e,t){var n;if(t.ctrlKey||t.metaKey)return;const r=_S(e,t.target);let i;if(t.shiftKey&&e.state.selection instanceof ht)s(e.state.selection.$anchorCell,t),t.preventDefault();else if(t.shiftKey&&r&&(i=fa(e.state.selection.$anchor))!=null&&((n=Xm(e,t))==null?void 0:n.pos)!=i.pos)s(i,t),t.preventDefault();else if(!r)return;function s(l,u){let c=Xm(e,u);const d=Vs.getState(e.state)==null;if(!c||!hh(l,c))if(d)c=l;else return;const f=new ht(l,c);if(d||!e.state.selection.eq(f)){const p=e.state.tr.setSelection(f);d&&p.setMeta(Vs,l.pos),e.dispatch(p)}}function o(){e.root.removeEventListener("mouseup",o),e.root.removeEventListener("dragstart",o),e.root.removeEventListener("mousemove",a),Vs.getState(e.state)!=null&&e.dispatch(e.state.tr.setMeta(Vs,-1))}function a(l){const u=l,c=Vs.getState(e.state);let d;if(c!=null)d=e.state.doc.resolve(c);else if(_S(e,u.target)!=r&&(d=Xm(e,t),!d))return o();d&&s(d,u)}e.root.addEventListener("mouseup",o),e.root.addEventListener("dragstart",o),e.root.addEventListener("mousemove",a)}function J3(e,t,n){if(!(e.state.selection instanceof He))return null;const{$head:r}=e.state.selection;for(let i=r.depth-1;i>=0;i--){const s=r.node(i);if((n<0?r.index(i):r.indexAfter(i))!=(n<0?0:s.childCount))return null;if(s.type.spec.tableRole=="cell"||s.type.spec.tableRole=="header_cell"){const a=r.before(i),l=t=="vert"?n>0?"down":"up":n>0?"right":"left";return e.endOfTextblock(l)?a:null}}return null}function _S(e,t){for(;t&&t!=e.dom;t=t.parentNode)if(t.nodeName=="TD"||t.nodeName=="TH")return t;return null}function Xm(e,t){const n=e.posAtCoords({left:t.clientX,top:t.clientY});return n&&n?fa(e.state.doc.resolve(n.pos)):null}var Qpe=class{constructor(e,t){this.node=e,this.defaultCellMinWidth=t,this.dom=document.createElement("div"),this.dom.className="tableWrapper",this.table=this.dom.appendChild(document.createElement("table")),this.table.style.setProperty("--default-cell-min-width",`${t}px`),this.colgroup=this.table.appendChild(document.createElement("colgroup")),ty(e,this.colgroup,this.table,t),this.contentDOM=this.table.appendChild(document.createElement("tbody"))}update(e){return e.type!=this.node.type?!1:(this.node=e,ty(e,this.colgroup,this.table,this.defaultCellMinWidth),!0)}ignoreMutation(e){return e.type=="attributes"&&(e.target==this.table||this.colgroup.contains(e.target))}};function ty(e,t,n,r,i,s){var o;let a=0,l=!0,u=t.firstChild;const c=e.firstChild;if(c){for(let d=0,f=0;d<c.childCount;d++){const{colspan:p,colwidth:m}=c.child(d).attrs;for(let g=0;g<p;g++,f++){const b=i==f?s:m&&m[g],y=b?b+"px":"";if(a+=b||r,b||(l=!1),u)u.style.width!=y&&(u.style.width=y),u=u.nextSibling;else{const E=document.createElement("col");E.style.width=y,t.appendChild(E)}}}for(;u;){const d=u.nextSibling;(o=u.parentNode)==null||o.removeChild(u),u=d}l?(n.style.width=a+"px",n.style.minWidth=""):(n.style.width="",n.style.minWidth=a+"px")}}var fr=new hn("tableColumnResizing");function Jpe({handleWidth:e=5,cellMinWidth:t=25,defaultCellMinWidth:n=100,View:r=Qpe,lastColumnResizable:i=!0}={}){const s=new At({key:fr,state:{init(o,a){var l,u;const c=(u=(l=s.spec)==null?void 0:l.props)==null?void 0:u.nodeViews,d=Rn(a.schema).table.name;return r&&c&&(c[d]=(f,p)=>new r(f,n,p)),new Zpe(-1,!1)},apply(o,a){return a.apply(o)}},props:{attributes:o=>{const a=fr.getState(o);return a&&a.activeHandle>-1?{class:"resize-cursor"}:{}},handleDOMEvents:{mousemove:(o,a)=>{ehe(o,a,e,i)},mouseleave:o=>{the(o)},mousedown:(o,a)=>{nhe(o,a,t,n)}},decorations:o=>{const a=fr.getState(o);if(a&&a.activeHandle>-1)return ahe(o,a.activeHandle)},nodeViews:{}}});return s}var Zpe=class pf{constructor(t,n){this.activeHandle=t,this.dragging=n}apply(t){const n=this,r=t.getMeta(fr);if(r&&r.setHandle!=null)return new pf(r.setHandle,!1);if(r&&r.setDragging!==void 0)return new pf(n.activeHandle,r.setDragging);if(n.activeHandle>-1&&t.docChanged){let i=t.mapping.map(n.activeHandle,-1);return Z1(t.doc.resolve(i))||(i=-1),new pf(i,n.dragging)}return n}};function ehe(e,t,n,r){if(!e.editable)return;const i=fr.getState(e.state);if(i&&!i.dragging){const s=ihe(t.target);let o=-1;if(s){const{left:a,right:l}=s.getBoundingClientRect();t.clientX-a<=n?o=ES(e,t,"left",n):l-t.clientX<=n&&(o=ES(e,t,"right",n))}if(o!=i.activeHandle){if(!r&&o!==-1){const a=e.state.doc.resolve(o),l=a.node(-1),u=Ft.get(l),c=a.start(-1);if(u.colCount(a.pos-c)+a.nodeAfter.attrs.colspan-1==u.width-1)return}Z3(e,o)}}}function the(e){if(!e.editable)return;const t=fr.getState(e.state);t&&t.activeHandle>-1&&!t.dragging&&Z3(e,-1)}function nhe(e,t,n,r){var i;if(!e.editable)return!1;const s=(i=e.dom.ownerDocument.defaultView)!=null?i:window,o=fr.getState(e.state);if(!o||o.activeHandle==-1||o.dragging)return!1;const a=e.state.doc.nodeAt(o.activeHandle),l=rhe(e,o.activeHandle,a.attrs);e.dispatch(e.state.tr.setMeta(fr,{setDragging:{startX:t.clientX,startWidth:l}}));function u(d){s.removeEventListener("mouseup",u),s.removeEventListener("mousemove",c);const f=fr.getState(e.state);f!=null&&f.dragging&&(she(e,f.activeHandle,vS(f.dragging,d,n)),e.dispatch(e.state.tr.setMeta(fr,{setDragging:null})))}function c(d){if(!d.which)return u(d);const f=fr.getState(e.state);if(f&&f.dragging){const p=vS(f.dragging,d,n);TS(e,f.activeHandle,p,r)}}return TS(e,o.activeHandle,l,r),s.addEventListener("mouseup",u),s.addEventListener("mousemove",c),t.preventDefault(),!0}function rhe(e,t,{colspan:n,colwidth:r}){const i=r&&r[r.length-1];if(i)return i;const s=e.domAtPos(t);let a=s.node.childNodes[s.offset].offsetWidth,l=n;if(r)for(let u=0;u<n;u++)r[u]&&(a-=r[u],l--);return a/l}function ihe(e){for(;e&&e.nodeName!="TD"&&e.nodeName!="TH";)e=e.classList&&e.classList.contains("ProseMirror")?null:e.parentNode;return e}function ES(e,t,n,r){const i=n=="right"?-r:r,s=e.posAtCoords({left:t.clientX+i,top:t.clientY});if(!s)return-1;const{pos:o}=s,a=fa(e.state.doc.resolve(o));if(!a)return-1;if(n=="right")return a.pos;const l=Ft.get(a.node(-1)),u=a.start(-1),c=l.map.indexOf(a.pos-u);return c%l.width==0?-1:u+l.map[c-1]}function vS(e,t,n){const r=t.clientX-e.startX;return Math.max(n,e.startWidth+r)}function Z3(e,t){e.dispatch(e.state.tr.setMeta(fr,{setHandle:t}))}function she(e,t,n){const r=e.state.doc.resolve(t),i=r.node(-1),s=Ft.get(i),o=r.start(-1),a=s.colCount(r.pos-o)+r.nodeAfter.attrs.colspan-1,l=e.state.tr;for(let u=0;u<s.height;u++){const c=u*s.width+a;if(u&&s.map[c]==s.map[c-s.width])continue;const d=s.map[c],f=i.nodeAt(d).attrs,p=f.colspan==1?0:a-s.colCount(d);if(f.colwidth&&f.colwidth[p]==n)continue;const m=f.colwidth?f.colwidth.slice():ohe(f.colspan);m[p]=n,l.setNodeMarkup(o+d,null,{...f,colwidth:m})}l.docChanged&&e.dispatch(l)}function TS(e,t,n,r){const i=e.state.doc.resolve(t),s=i.node(-1),o=i.start(-1),a=Ft.get(s).colCount(i.pos-o)+i.nodeAfter.attrs.colspan-1;let l=e.domAtPos(i.start(-1)).node;for(;l&&l.nodeName!="TABLE";)l=l.parentNode;l&&ty(s,l.firstChild,l,r,a,n)}function ohe(e){return Array(e).fill(0)}function ahe(e,t){var n;const r=[],i=e.doc.resolve(t),s=i.node(-1);if(!s)return Pt.empty;const o=Ft.get(s),a=i.start(-1),l=o.colCount(i.pos-a)+i.nodeAfter.attrs.colspan-1;for(let u=0;u<o.height;u++){const c=l+u*o.width;if((l==o.width-1||o.map[c]!=o.map[c+1])&&(u==0||o.map[c]!=o.map[c-o.width])){const d=o.map[c],f=a+d+s.nodeAt(d).nodeSize-1,p=document.createElement("div");p.className="column-resize-handle",(n=fr.getState(e))!=null&&n.dragging&&r.push(dn.node(a+d,a+d+s.nodeAt(d).nodeSize,{class:"column-resize-dragging"})),r.push(dn.widget(f,p))}}return Pt.create(e.doc,r)}function lhe({allowTableNodeSelection:e=!1}={}){return new At({key:Vs,state:{init(){return null},apply(t,n){const r=t.getMeta(Vs);if(r!=null)return r==-1?null:r;if(n==null||!t.docChanged)return n;const{deleted:i,pos:s}=t.mapping.mapResult(n);return i?null:s}},props:{decorations:vpe,handleDOMEvents:{mousedown:Xpe},createSelectionBetween(t){return Vs.getState(t.state)!=null?t.state.selection:null},handleTripleClick:Ype,handleKeyDown:Gpe,handlePaste:Kpe},appendTransaction(t,n,r){return xpe(r,Spe(r,n),e)}})}function uhe(e){return e instanceof ht}function che(e){return n3(t=>t.type.spec.tableRole==="table",e)}function eL(e,t,n){if(t==null&&n==null&&uhe(e))return[e.$anchorCell,e.$headCell];const r=t??n??e.anchor,i=n??t??e.head,s=e.$head.doc,o=ny(s,r),a=ny(s,i);if(o&&a&&hh(o,a))return[o,a]}function ny(e,t){const n=e.resolve(t);return fa(n)||V3(n)}function dhe(e,t,n,r){const i=In(e,"table"),s=In(e,"tableRow"),o=In(e,"tableCell"),a=In(e,"tableHeaderCell");if(r){const l=a.createAndFill(),u=ou(l,n),c=s.createAndFill(null,u),d=o.createAndFill(),f=ou(d,n),p=s.createAndFill(null,f),m=ou(p,t-1);return i.createAndFill(null,[c,...m])}else{const l=o.createAndFill(),u=ou(l,n),c=s.createAndFill(null,u),d=ou(c,t);return i.createAndFill(null,d)}}function ou(e,t){return Array(t).fill(e)}function fhe(e){return(t,n,r)=>{const{row:i,col:s,header:o}=e,a=dhe(t.schema,i,s,o);return Dl({node:a})(t,n,r)}}var phe=(e,t)=>{const{$head:n,$anchor:r}=e.selection;if(!n.sameParent(r))return!1;let i=-1,s=-1;for(let c=n.depth;c>=0;c--)n.node(c).type.spec.tableRole==="table"&&(i=n.before(c),s=c);if(i<0||s<=0)return!1;const o=n.node(s-1),a=n.indexAfter(s-1),l=e3(o.contentMatchAt(a)),u=l==null?void 0:l.createAndFill();if(!l||!u||!o.canReplaceWith(a,a,l))return!1;if(t){const c=n.after(s),d=e.tr.replaceWith(c,c,u);d.setSelection(He.near(d.doc.resolve(c),1)),t(d.scrollIntoView())}return!0};function hhe(e){return(t,n)=>{const r=eL(t.selection,e==null?void 0:e.anchor,e==null?void 0:e.head);if(!r)return!1;if(n){const[i,s]=r,o=ht.colSelection(i,s);n(t.tr.setSelection(o))}return!0}}function mhe(e){return(t,n)=>{const r=eL(t.selection,e==null?void 0:e.anchor,e==null?void 0:e.head);if(!r)return!1;if(n){const[i,s]=r,o=ht.rowSelection(i,s);n(t.tr.setSelection(o))}return!0}}function ghe(e){return(t,n)=>{const r=ny(t.doc,(e==null?void 0:e.pos)??t.selection.anchor);if(!r)return!1;if(n){const i=new ht(r);n(t.tr.setSelection(i))}return!0}}function bhe(e){return(t,n)=>{const r=e!=null&&e.pos?t.doc.resolve(e.pos):t.selection.$anchor,i=che(r);if(!i)return!1;const s=Ft.get(i.node);if(s.map.length===0)return!1;if(n){let o=t.tr;const a=s.map[0],l=s.map[s.map.length-1],u=i.pos+a+1,c=i.pos+l+1,d=o.doc.resolve(u),f=o.doc.resolve(c),p=new ht(d,f);o=o.setSelection(p),n==null||n(o)}return!0}}function yhe(){return or({insertTable:fhe,exitTable:()=>phe,selectTable:bhe,selectTableCell:ghe,selectTableColumn:hhe,selectTableRow:mhe,addTableColumnBefore:()=>Ope,addTableColumnAfter:()=>kpe,addTableRowAbove:()=>Dpe,addTableRowBelow:()=>Mpe,deleteTable:()=>zpe,deleteTableColumn:()=>Npe,deleteTableRow:()=>Lpe,deleteCellSelection:()=>_u,mergeTableCells:()=>Fpe,splitTableCell:()=>$pe})}function _he(){return da([lhe(),Jpe()])}var Ehe="block+",tL={colspan:{default:1},rowspan:{default:1},colwidth:{default:null}},mh=bpe({tableGroup:"block",cellContent:Ehe,cellAttributes:{}});function vhe(){return Vr({...mh.table,content:"tableRow+",name:"table"})}function The(){return Vr({...mh.table_row,content:"(tableCell | tableHeaderCell)*",name:"tableRow"})}function whe(){return Vr({...mh.table_cell,name:"tableCell",attrs:tL})}function xhe(){return Vr({...mh.table_header,name:"tableHeaderCell",attrs:tL})}function Che(){return Kt(vhe(),The(),whe(),xhe(),_he(),yhe())}function She(){return Ml({name:"underline",parseDOM:[{tag:"u"},{tag:"underline"},{style:"text-decoration=underline"},{style:"text-decoration-line=underline"}],toDOM(){return["u",0]}})}function Ahe(){return or({toggleUnderline:()=>Hr({type:"underline"})})}function Ohe(){return gi({"Mod-u":Hr({type:"underline"})})}function khe(){return Kt(She(),Ahe(),Ohe())}function Ihe(){return da(Dhe)}var gh=new hn("prosekit-virtual-selection");function Nhe(e){return e.getMeta(gh)}function wS(e,t){return e.setMeta(gh,t)}function Rhe(e){return gh.getState(e)}var Dhe=new At({key:gh,state:{init:()=>!1,apply:(e,t)=>Nhe(e)??t},props:{handleDOMEvents:{focus:e=>{e.dispatch(wS(e.state.tr,!1))},blur:e=>{const{dom:t,root:n}=e;n.activeElement!==t&&e.dispatch(wS(e.state.tr,!0))}},decorations:e=>{const{selection:t,doc:n}=e;return t.empty||!Rhe(e)?null:Pt.create(n,[dn.inline(t.from,t.to,{class:"prosekit-virtual-selection"})])}}});function Mhe(){return Kt(Yue(),wce(),bde(),lce(),rpe(),qce(),fce(),jue(),kde(),Kce(),khe(),fpe(),ede(),qde(),xde(),Tce(),rde(),dde(),y3(),Ihe(),ipe(),Che())}function Phe(){return Kt(Mhe(),y3())}var nL=Symbol("prosekit-vue-editor-context");function Lhe(e){pr(nL,e)}function SE(){return Un(nL,void 0)}var rL=e=>{throw TypeError(e)},Bhe=(e,t,n)=>t.has(e)||rL("Cannot "+n),AE=(e,t,n)=>t.has(e)?rL("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),Sc=(e,t,n)=>(Bhe(e,t,"access private method"),n),hf,ry;class Fhe{constructor({mark:t,view:n,inline:r,options:i}){AE(this,hf),this.shouldIgnoreMutation=s=>!this.dom||!this.contentDOM?!0:s.type==="selection"?!1:this.contentDOM===s.target&&s.type==="attributes"?!0:!this.contentDOM.contains(s.target),this.ignoreMutation=s=>{if(!this.dom||!this.contentDOM)return!0;let o;const a=this.options.ignoreMutation;return a&&(o=a(s)),typeof o!="boolean"&&(o=this.shouldIgnoreMutation(s)),o},this.destroy=()=>{var s,o;(o=(s=this.options).destroy)==null||o.call(s),this.dom.remove(),this.contentDOM.remove()},this.mark=t,this.view=n,this.inline=r,this.options=i,this.dom=this.createDOM(i.as),this.contentDOM=this.createContentDOM(i.contentAs),this.dom.setAttribute("data-mark-view-root","true"),this.contentDOM.setAttribute("data-mark-view-content","true"),this.contentDOM.style.whiteSpace="inherit"}createDOM(t){return Sc(this,hf,ry).call(this,t)}createContentDOM(t){return Sc(this,hf,ry).call(this,t)}get component(){return this.options.component}}hf=new WeakSet,ry=function(e){const{inline:t,mark:n}=this;return e==null?document.createElement(t?"span":"div"):e instanceof HTMLElement?e:e instanceof Function?e(n):document.createElement(e)};var mf,iy;class $he{constructor({node:t,view:n,getPos:r,decorations:i,innerDecorations:s,options:o}){AE(this,mf),this.selected=!1,this.selectNode=()=>{var a,l;this.selected=!0,(l=(a=this.options).selectNode)==null||l.call(a)},this.deselectNode=()=>{var a,l;this.selected=!1,(l=(a=this.options).deselectNode)==null||l.call(a)},this.shouldUpdate=a=>!(a.type!==this.node.type||a.sameMarkup(this.node)&&a.content.eq(this.node.content)),this.update=(a,l,u)=>{var c,d;const f=this.options.update;let p;return f&&(p=f(a,l,u)),typeof p!="boolean"&&(p=this.shouldUpdate(a)),this.node=a,this.decorations=l,this.innerDecorations=u,p&&((d=(c=this.options).onUpdate)==null||d.call(c)),p},this.shouldIgnoreMutation=a=>!this.dom||!this.contentDOM||this.node.isLeaf||this.node.isAtom?!0:a.type==="selection"?!1:this.contentDOM===a.target&&a.type==="attributes"?!0:!this.contentDOM.contains(a.target),this.ignoreMutation=a=>{if(!this.dom||!this.contentDOM)return!0;let l;const u=this.options.ignoreMutation;return u&&(l=u(a)),typeof l!="boolean"&&(l=this.shouldIgnoreMutation(a)),l},this.destroy=()=>{var a,l,u;(l=(a=this.options).destroy)==null||l.call(a),this.dom.remove(),(u=this.contentDOM)==null||u.remove()},this.setAttrs=a=>{const{dispatch:l,state:u}=this.view,c=this.getPos();if(typeof c=="number")return l(u.tr.setNodeMarkup(c,void 0,{...this.node.attrs,...a}))},this.node=t,this.view=n,this.getPos=r,this.decorations=i,this.innerDecorations=s,this.options=o,this.dom=this.createDOM(o.as),this.contentDOM=t.isLeaf?null:this.createContentDOM(o.contentAs),this.dom.setAttribute("data-node-view-root","true"),this.contentDOM&&(this.contentDOM.setAttribute("data-node-view-content","true"),this.contentDOM.style.whiteSpace="inherit"),this.setSelection=o.setSelection,this.stopEvent=o.stopEvent}createDOM(t){return Sc(this,mf,iy).call(this,t)}createContentDOM(t){return Sc(this,mf,iy).call(this,t)}get component(){return this.options.component}}mf=new WeakSet,iy=function(e){const{node:t}=this;return e==null?document.createElement(t.isInline?"span":"div"):e instanceof HTMLElement?e:e instanceof Function?e(t):document.createElement(e)};let Uhe=class{constructor(t){this.view=t.view,this.options=t.options}get component(){return this.options.component}get root(){var t,n;let r=(n=(t=this.options).root)==null?void 0:n.call(t,this.view.dom);return r||(r=this.view.dom.parentElement??document.body),r}update(t,n){var r,i;this.view=t,this.prevState=n,(i=(r=this.options).update)==null||i.call(r,t,n)}destroy(){var t,n;(n=(t=this.options).destroy)==null||n.call(t)}};var sy,iL;let Hhe=class{constructor({pos:t,spec:n,options:r}){AE(this,sy),this.pos=t,this.options=r,this.spec=n,this.dom=Sc(this,sy,iL).call(this,r.as),this.dom.setAttribute("data-widget-view-root","true")}bind(t,n){this.view=t,this.getPos=n}get component(){return this.options.component}};sy=new WeakSet,iL=function(e){return e instanceof HTMLElement?e:document.createElement(e)};const zhe="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict";let bh=(e=21)=>{let t="",n=crypto.getRandomValues(new Uint8Array(e|=0));for(;e--;)t+=zhe[n[e]&63];return t};var jhe=Object.defineProperty,qhe=(e,t,n)=>t in e?jhe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Nn=(e,t,n)=>qhe(e,typeof t!="symbol"?t+"":t,n);const Vhe=Symbol("[ProsemirrorAdapter]nodeViewContext"),sL=Symbol("[ProsemirrorAdapter]useNodeViewFactory"),Whe=()=>Un(sL);class Ghe extends $he{constructor(){super(...arguments),Nn(this,"key",bh()),Nn(this,"context",{contentRef:t=>{t&&t instanceof HTMLElement&&this.contentDOM&&t.firstChild!==this.contentDOM&&t.appendChild(this.contentDOM)},view:this.view,getPos:this.getPos,setAttrs:this.setAttrs,node:ss(this.node),selected:ss(this.selected),decorations:ss(this.decorations),innerDecorations:ss(this.innerDecorations)}),Nn(this,"updateContext",()=>{Object.entries({node:this.node,selected:this.selected,decorations:this.decorations,innerDecorations:this.innerDecorations}).forEach(([t,n])=>{const r=this.context[t];r.value!==n&&(r.value=n)})}),Nn(this,"render",()=>{const t=this.component;return vl(ir({name:"ProsemirrorNodeView",setup:()=>(pr(Vhe,this.context),()=>z(Er,{key:this.key,to:this.dom},{default:()=>[z(t,null,null)]}))}))})}}function Yhe(e,t){return n=>(r,i,s,o,a)=>{const l=new Ghe({node:r,view:i,getPos:s,decorations:o,innerDecorations:a,options:{...n,onUpdate(){var u;(u=n.onUpdate)==null||u.call(n),l.updateContext()},selectNode(){var u;(u=n.selectNode)==null||u.call(n),l.updateContext()},deselectNode(){var u;(u=n.deselectNode)==null||u.call(n),l.updateContext()},destroy(){var u;(u=n.destroy)==null||u.call(n),t(l)}}});return e(l),l}}const Khe=Symbol("[ProsemirrorAdapter]nodeViewContext"),Xhe=Symbol("[ProsemirrorAdapter]usePluginViewFactory");class Qhe extends Uhe{constructor(){super(...arguments),Nn(this,"key",bh()),Nn(this,"context",{view:ss(this.view),prevState:ss(this.prevState)}),Nn(this,"updateContext",()=>{Object.entries({view:this.view,prevState:this.prevState}).forEach(([t,n])=>{const r=this.context[t];if(t==="view"){const i=Object.assign(Object.create(Object.getPrototypeOf(n)),n);r.value=i;return}r.value=n})}),Nn(this,"render",()=>{const t=this.component;return vl(ir({name:"ProsemirrorNodeView",setup:()=>(pr(Khe,this.context),()=>z(Er,{key:this.key,to:this.root},{default:()=>[z(t,null,null)]}))}))})}}function Jhe(e,t){return n=>r=>{const i=new Qhe({view:r,options:{...n,update:(s,o)=>{var a;(a=n.update)==null||a.call(n,s,o),i.updateContext()},destroy:()=>{var s;(s=n.destroy)==null||s.call(n),t(i)}}});return e(i),i}}function Zhe(){const e=yt({}),t=xl(),n=vl({});return bI(()=>{n.updater=()=>{t==null||t.update()}}),wl(()=>{n.updater=void 0}),{portals:e,renderVueRenderer:r=>{var i;e.value[r.key]=r.render(),(i=n.updater)==null||i.call(n)},removeVueRenderer:r=>{delete e.value[r.key]}}}const eme=Symbol("[ProsemirrorAdapter]widgetViewContext"),tme=Symbol("[ProsemirrorAdapter]useWidgetViewFactory");class nme extends Hhe{constructor(){super(...arguments),Nn(this,"key",bh()),Nn(this,"context",{view:this.view,getPos:this.getPos,spec:this.spec}),Nn(this,"updateContext",()=>{Object.assign(this.context,{view:this.view,getPos:this.getPos,spec:this.spec})}),Nn(this,"render",()=>{const t=this.component;return vl(ir({name:"ProsemirrorWidgetView",setup:()=>(pr(eme,this.context),()=>z(Er,{key:this.key,to:this.dom},{default:()=>[z(t,null,null)]}))}))})}}function rme(e,t){return n=>(r,i={})=>{const s=new nme({pos:r,options:n}),o={...i,destroy:a=>{var l;(l=i.destroy)==null||l.call(i,a),t(s)}};return s.spec=o,dn.widget(r,(a,l)=>(s.bind(a,l),s.updateContext(),e(s),s.dom),o)}}const ime=Symbol("[ProsemirrorAdapter]markViewContext"),oL=Symbol("[ProsemirrorAdapter]useMarkViewFactory"),sme=()=>Un(oL);class ome extends Fhe{constructor(){super(...arguments),Nn(this,"key",bh()),Nn(this,"context",{contentRef:t=>{t&&t instanceof HTMLElement&&this.contentDOM&&t.firstChild!==this.contentDOM&&t.appendChild(this.contentDOM)},view:this.view,mark:ss(this.mark)}),Nn(this,"updateContext",()=>{Object.entries({mark:this.mark}).forEach(([t,n])=>{const r=this.context[t];r.value!==n&&(r.value=n)})}),Nn(this,"render",()=>{const t=this.component;return vl(ir({name:"ProsemirrorMarkView",setup:()=>(pr(ime,this.context),()=>z(Er,{key:this.key,to:this.dom},{default:()=>[z(t,null,null)]}))}))})}}function ame(e,t){return n=>(r,i,s)=>{const o=new ome({mark:r,view:i,inline:s,options:{...n,destroy(){var a;(a=n.destroy)==null||a.call(n),t(o)}}});return e(o),o}}const lme=ir({name:"ProsemirrorAdapterProvider",setup:(e,{slots:t})=>{const{portals:n,renderVueRenderer:r,removeVueRenderer:i}=Zhe(),s=Yhe(r,i),o=ame(r,i),a=Jhe(r,i),l=rme(r,i);return pr(sL,s),pr(oL,o),pr(Xhe,a),pr(tme,l),()=>{var u;return z(Xe,null,[(u=t.default)==null?void 0:u.call(t),Object.values(n.value).map(c=>Qt(c))])}}});function ume(e,t){const n=SE();Nb(r=>{const i=Gd(e)||Gd(n),s=Gd(t);if(!i)throw new ile;s&&r(i.use(s))})}function cme(e,t){return bt(()=>{const n=Gd(e);return n&&t?gE(n,t):n})}function OE(e,t){ume(t==null?void 0:t.editor,cme(e,t==null?void 0:t.priority))}var dme=ir({name:"VueMarkViewsConsumer",setup:()=>{const e=sme(),t=bt(()=>fme(e));return OE(t),()=>null}});function fme(e){return mce({group:"vue",factory:e})}var pme=ir({name:"VueNodeViewsConsumer",setup:()=>{const e=Whe(),t=bt(()=>hme(e));return OE(t),()=>null}});function hme(e){return yce({group:"vue",factory:e})}var mme=ir((e,{slots:t})=>(Lhe(e.editor),()=>Qt(lme,null,()=>{var n;return[Qt(pme),Qt(dme),(n=t.default)==null?void 0:n.call(t)]})),{props:{editor:{type:Object,required:!0}}});function gme(e,t){const n=Jue(r=>e(r.state.doc));return OE(n,t)}function aL(e){const t=(e==null?void 0:e.update)??!1,n=SE();if(!n)throw new Nr("useEditor must be used within the ProseKit component");const r=ss(n);return t&&vr(()=>{const i=()=>c4(r),s=Kt(Kue(i),bE(i)),o=n.use(s);wl(o)}),r}function yh(e,t,n,r){const i=n.includes("editor");return ir((o,{slots:a,emit:l})=>{const u=SE(),c=yt(!1);vr(()=>{c.value=!0});const d=yt(null);return Ib(f=>{const p=d.value;if(!p)return;const m={};for(const g of r){const b=g.endsWith("Change");m[g]=y=>{l(g,b?y.detail:y)}}for(const[g,b]of Object.entries(m))p.addEventListener(g,b);f(()=>{for(const[g,b]of Object.entries(m))p.removeEventListener(g,b)})}),()=>{var p;const f={};for(const[m,g]of Object.entries(o))g!==void 0&&!m.startsWith(".")&&(f[n.includes(m)?"."+m:m]=g);return i&&u&&!f.editor&&(f.editor=u),f.key=c.value?1:0,f.ref=d,Qt(e,f,(p=a.default)==null?void 0:p.call(a))}},{name:t,props:n,emits:r})}var bme=Symbol.for("preact-signals");function kE(){if(Ka>1)Ka--;else{for(var e,t=!1;Vu!==void 0;){var n=Vu;for(Vu=void 0,oy++;n!==void 0;){var r=n.o;if(n.o=void 0,n.f&=-3,!(8&n.f)&&uL(n))try{n.c()}catch(i){t||(e=i,t=!0)}n=r}}if(oy=0,Ka--,t)throw e}}var mt=void 0,Vu=void 0,Ka=0,oy=0,up=0;function lL(e){if(mt!==void 0){var t=e.n;if(t===void 0||t.t!==mt)return t={i:0,S:e,p:mt.s,n:void 0,t:mt,e:void 0,x:void 0,r:t},mt.s!==void 0&&(mt.s.n=t),mt.s=t,e.n=t,32&mt.f&&e.S(t),t;if(t.i===-1)return t.i=0,t.n!==void 0&&(t.n.p=t.p,t.p!==void 0&&(t.p.n=t.n),t.p=mt.s,t.n=void 0,mt.s.n=t,mt.s=t),t}}function Yn(e){this.v=e,this.i=0,this.n=void 0,this.t=void 0}Yn.prototype.brand=bme;Yn.prototype.h=function(){return!0};Yn.prototype.S=function(e){this.t!==e&&e.e===void 0&&(e.x=this.t,this.t!==void 0&&(this.t.e=e),this.t=e)};Yn.prototype.U=function(e){if(this.t!==void 0){var t=e.e,n=e.x;t!==void 0&&(t.x=n,e.e=void 0),n!==void 0&&(n.e=t,e.x=void 0),e===this.t&&(this.t=n)}};Yn.prototype.subscribe=function(e){var t=this;return NE(function(){var n=t.value,r=mt;mt=void 0;try{e(n)}finally{mt=r}})};Yn.prototype.valueOf=function(){return this.value};Yn.prototype.toString=function(){return this.value+""};Yn.prototype.toJSON=function(){return this.value};Yn.prototype.peek=function(){var e=mt;mt=void 0;try{return this.value}finally{mt=e}};Object.defineProperty(Yn.prototype,"value",{get:function(){var e=lL(this);return e!==void 0&&(e.i=this.i),this.v},set:function(e){if(e!==this.v){if(oy>100)throw new Error("Cycle detected");this.v=e,this.i++,up++,Ka++;try{for(var t=this.t;t!==void 0;t=t.x)t.t.N()}finally{kE()}}}});function yme(e){return new Yn(e)}function uL(e){for(var t=e.s;t!==void 0;t=t.n)if(t.S.i!==t.i||!t.S.h()||t.S.i!==t.i)return!0;return!1}function cL(e){for(var t=e.s;t!==void 0;t=t.n){var n=t.S.n;if(n!==void 0&&(t.r=n),t.S.n=t,t.i=-1,t.n===void 0){e.s=t;break}}}function dL(e){for(var t=e.s,n=void 0;t!==void 0;){var r=t.p;t.i===-1?(t.S.U(t),r!==void 0&&(r.n=t.n),t.n!==void 0&&(t.n.p=r)):n=t,t.S.n=t.r,t.r!==void 0&&(t.r=void 0),t=r}e.s=n}function Pl(e){Yn.call(this,void 0),this.x=e,this.s=void 0,this.g=up-1,this.f=4}(Pl.prototype=new Yn).h=function(){if(this.f&=-3,1&this.f)return!1;if((36&this.f)==32||(this.f&=-5,this.g===up))return!0;if(this.g=up,this.f|=1,this.i>0&&!uL(this))return this.f&=-2,!0;var e=mt;try{cL(this),mt=this;var t=this.x();(16&this.f||this.v!==t||this.i===0)&&(this.v=t,this.f&=-17,this.i++)}catch(n){this.v=n,this.f|=16,this.i++}return mt=e,dL(this),this.f&=-2,!0};Pl.prototype.S=function(e){if(this.t===void 0){this.f|=36;for(var t=this.s;t!==void 0;t=t.n)t.S.S(t)}Yn.prototype.S.call(this,e)};Pl.prototype.U=function(e){if(this.t!==void 0&&(Yn.prototype.U.call(this,e),this.t===void 0)){this.f&=-33;for(var t=this.s;t!==void 0;t=t.n)t.S.U(t)}};Pl.prototype.N=function(){if(!(2&this.f)){this.f|=6;for(var e=this.t;e!==void 0;e=e.x)e.t.N()}};Object.defineProperty(Pl.prototype,"value",{get:function(){if(1&this.f)throw new Error("Cycle detected");var e=lL(this);if(this.h(),e!==void 0&&(e.i=this.i),16&this.f)throw this.v;return this.v}});function _me(e){return new Pl(e)}function fL(e){var t=e.u;if(e.u=void 0,typeof t=="function"){Ka++;var n=mt;mt=void 0;try{t()}catch(r){throw e.f&=-2,e.f|=8,IE(e),r}finally{mt=n,kE()}}}function IE(e){for(var t=e.s;t!==void 0;t=t.n)t.S.U(t);e.x=void 0,e.s=void 0,fL(e)}function Eme(e){if(mt!==this)throw new Error("Out-of-order effect");dL(this),mt=e,this.f&=-2,8&this.f&&IE(this),kE()}function nd(e){this.x=e,this.u=void 0,this.s=void 0,this.o=void 0,this.f=32}nd.prototype.c=function(){var e=this.S();try{if(8&this.f||this.x===void 0)return;var t=this.x();typeof t=="function"&&(this.u=t)}finally{e()}};nd.prototype.S=function(){if(1&this.f)throw new Error("Cycle detected");this.f|=1,this.f&=-9,fL(this),cL(this),Ka++;var e=mt;return mt=this,Eme.bind(this,e)};nd.prototype.N=function(){2&this.f||(this.f|=2,this.o=Vu,Vu=this)};nd.prototype.d=function(){this.f|=8,1&this.f||IE(this)};function NE(e){var t=new nd(e);try{t.c()}catch(n){throw t.d(),n}return t.d.bind(t)}var vme=9,pL=e=>typeof e=="object"&&e!==null,Tme=e=>pL(e)&&e.nodeType===vme,wme=e=>pL(e)&&e===e.window;function xme(e){return Tme(e)?e:wme(e)?e.document:(e==null?void 0:e.ownerDocument)??document}function xS(e){return xme(e).documentElement}function Cme(e){var t,n,r;return((t=e.composedPath)==null?void 0:t.call(e))??((r=(n=e.nativeEvent)==null?void 0:n.composedPath)==null?void 0:r.call(n))}function ay(e){const t=Cme(e);return(t==null?void 0:t[0])??e.target}const Sme=HTMLElement;var Ame=Nme,Ome=/[\s\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,\-.\/:;<=>?@\[\]^_`{|}~]+/,kme=/[A-ZÀ-Ý\u00C0-\u00D6\u00D9-\u00DD][a-zà-ÿ]/g,Ime=/[A-ZÀ-Ý\u00C0-\u00D6\u00D9-\u00DD]+/g;function Nme(e){return e=e.replace(kme,function(t){return" "+(t[0].toLowerCase()||t[0])+t[1]}),e=e.replace(Ime,function(t){return" "+t.toLowerCase()}),e.trim().split(Ome).join("-").replace(/^-/,"").replace(/-\s*$/,"")}var Rme=class{constructor(e){this.impl=yme(e)}get value(){return this.impl.value}set value(e){this.impl.value=e}get(){return this.impl.value}set(e){this.impl.value=e}peek(){return this.impl.peek()}},Dme=class{constructor(e){this.impl=_me(e)}get value(){return this.impl.value}get(){return this.impl.value}peek(){return this.impl.peek()}};function Ni(e){return new Rme(e)}function ly(e){return new Dme(e)}function ai(e,t){let n;const r=()=>{n==null||n(),n=void 0};return e.addConnectedCallback(()=>(n==null||n(),n=NE(t),r)),r}var uy=class extends Event{constructor(e,t){super("aria-ui/context-request",{bubbles:!0,composed:!0}),this.key=e,this.callback=t}},Mme=class extends Event{constructor(e){super("aria-ui/context-provider",{bubbles:!0,composed:!0}),this.key=e}},Pme=class{constructor(e,t){this.key=e,this.defaultValue=t,this.provide=this.provide.bind(this),this.consume=this.consume.bind(this)}provide(e,t){const n=new Map,r=s=>{const o=ay(s);e===o||s.key!==this.key||n.has(s.callback)||!o||(s.stopPropagation(),s.callback(t),n.set(s.callback,o))},i=s=>{const o=ay(s);if(e===o||s.key!==this.key||!o)return;s.stopPropagation();const a=Array.from(n.entries());n.clear();for(const[l,u]of a)u.dispatchEvent(new uy(this.key,l))};e.addConnectedCallback(()=>(SS(xS(e)),e.addEventListener("aria-ui/context-request",r),e.addEventListener("aria-ui/context-provider",i),e.dispatchEvent(new Mme(this.key)),()=>{e.removeEventListener("aria-ui/context-request",r),e.removeEventListener("aria-ui/context-provider",i)}))}consume(e){const t=Ni(this.defaultValue);let n,r,i;e.addConnectedCallback(()=>{SS(xS(e));const l=u=>{n==null||n(),n=NE(()=>{t.set(u.get())}),r=u,i!==void 0&&(u.set(i),i=void 0)};return e.dispatchEvent(new uy(this.key,l)),()=>{n==null||n(),n=void 0,r=void 0}});const s=()=>t.peek(),o=()=>t.get(),a=l=>{r?r.set(l):i=l};return{get:o,get value(){return o()},set:a,set value(l){a(l)},peek:s}}};function rd(e,t){return new Pme(typeof e=="string"?`aria-ui/context/${e}`:e,t)}var CS=new WeakSet;function SS(e){CS.has(e)||(CS.add(e),Lme(e))}function Lme(e){const t=new Map,n=o=>{const a=t.get(o);if(a!==void 0)return t.delete(o),a},r=o=>{let a=t.get(o);return a===void 0&&(a={callbacks:new WeakMap,requests:[]},t.set(o,a)),a},i=o=>{const a=n(o.key);if(a===void 0)return;const{requests:l}=a;for(const{elementRef:u,callbackRef:c}of l){const d=u.deref(),f=c.deref();d===void 0||f===void 0||d.dispatchEvent(new uy(o.key,f))}},s=o=>{const a=ay(o);if(!a)return;const l=o.callback,u=r(o.key);let c=u.callbacks.get(a);c===void 0&&(c=new WeakSet,u.callbacks.set(a,c)),!c.has(l)&&(c.add(l),u.requests.push({elementRef:new WeakRef(a),callbackRef:new WeakRef(l)}))};e.addEventListener("aria-ui/context-request",s),e.addEventListener("aria-ui/context-provider",i)}function Sa(e,t,n,r){return ai(e,()=>(e.addEventListener(t,n,r),()=>{e.removeEventListener(t,n,r)}))}function Ac(e,t,n){return ai(e,()=>{const r=n();r==null?e.removeAttribute(t):e.setAttribute(t,String(r))})}function hL(e,t,n){return Ac(e,t,n)}function Bme(e,t){return ai(e,()=>{const n=t();if(!n)return;let r;const i=requestAnimationFrame(()=>{r==null||r(),r=n()||void 0});return()=>{cancelAnimationFrame(i),r==null||r(),r=void 0}})}function Fme(e,t){return function(r,i){var s,o,a;const l=t[r];if(!l)throw new Error(`[aria-ui] Event type "${String(r)}" is not defined`);const u=(s=l.bubbles)!=null?s:!1,c=(o=l.cancelable)!=null?o:!0,d=(a=l.composed)!=null?a:!1,f=new CustomEvent(r,{detail:i,bubbles:u,cancelable:c,composed:d});e.dispatchEvent(f)}}function $me(e){if(e.fromAttribute)return e.fromAttribute;switch(typeof e.default){case"string":return t=>t==null?e.default:String(t);case"number":return t=>t==null?e.default:Number(t);case"boolean":return t=>t==null?e.default:t!=="false"}}function Ume(e){if(e.toAttribute)return e.toAttribute;switch(typeof e.default){case"string":case"number":case"boolean":return String}}function Hme(e){const t=[],n=new Map,r=new Map;for(const[i,s]of Object.entries(e)){if(s.attribute===!1)continue;const o=typeof s.attribute=="string"?s.attribute:Ame(i);t.push(o),n.set(o,i),r.set(i,o)}return[t,n,r]}function zme(e){const[t,n,r]=Hme(e),i=Tc(e,$me),s=Tc(e,Ume);return[t,(l,u,c)=>{const d=n.get(u);if(!d)return;const f=l[d];if(!f)return;const p=i[d];p&&f.set(p(c))},(l,u)=>{for(const[c,d]of r.entries()){const f=u[c];if(!f)continue;const p=s[c];p&&Ac(l,d,()=>{var m;const g=f.get();return g!==((m=e[c])==null?void 0:m.default)?p(g):null})}}]}var mL=Object.entries;function jme(e){const t={};for(const[n,r]of mL(e))t[n]=r.get();return t}function qme(e){const t={};for(const[n,r]of mL(e))t[n]=Ni(r.default);return t}var Vme=class extends Sme{constructor(){super(...arguments),this._connectedCallbacks=[],this._disconnectedCallbacks=[],this._connected=!1}connectedCallback(){if(!this._connected){this._connected=!0;for(const e of this._connectedCallbacks){const t=e();t&&this._disconnectedCallbacks.push(t)}}}disconnectedCallback(){if(this._connected){this._connected=!1;for(const e of this._disconnectedCallbacks)e();this._disconnectedCallbacks=[]}}addConnectedCallback(e){if(this._connectedCallbacks.push(e),!this._connected)return;const t=e();t&&this._disconnectedCallbacks.push(t)}};function qi({props:e,events:t,setup:n}){const[r,i,s]=zme(e);class o extends Vme{constructor(){super(),this._s=qme(e);const l=Fme(this,t);n(this,{state:this._s,emit:l}),s(this,this._s)}attributeChangedCallback(l,u,c){i(this._s,l,c)}}return o.observedAttributes=r,Wme(o,e),o}function Wme(e,t){for(const n of Object.keys(t))Object.defineProperty(e.prototype,n,{get(){return this._s[n].get()},set(r){this._s[n].set(r)}})}function pa(e,t){typeof customElements>"u"||customElements.get(e)||customElements.define(e,t)}const Gme=["top","right","bottom","left"],ms=Math.min,Sn=Math.max,cp=Math.round,zd=Math.floor,Mi=e=>({x:e,y:e}),Yme={left:"right",right:"left",bottom:"top",top:"bottom"},Kme={start:"end",end:"start"};function AS(e,t,n){return Sn(e,ms(t,n))}function ha(e,t){return typeof e=="function"?e(t):e}function Hi(e){return e.split("-")[0]}function id(e){return e.split("-")[1]}function gL(e){return e==="x"?"y":"x"}function bL(e){return e==="y"?"height":"width"}function po(e){return["top","bottom"].includes(Hi(e))?"y":"x"}function yL(e){return gL(po(e))}function Xme(e,t,n){n===void 0&&(n=!1);const r=id(e),i=yL(e),s=bL(i);let o=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[s]>t.floating[s]&&(o=dp(o)),[o,dp(o)]}function Qme(e){const t=dp(e);return[cy(e),t,cy(t)]}function cy(e){return e.replace(/start|end/g,t=>Kme[t])}function Jme(e,t,n){const r=["left","right"],i=["right","left"],s=["top","bottom"],o=["bottom","top"];switch(e){case"top":case"bottom":return n?t?i:r:t?r:i;case"left":case"right":return t?s:o;default:return[]}}function Zme(e,t,n,r){const i=id(e);let s=Jme(Hi(e),n==="start",r);return i&&(s=s.map(o=>o+"-"+i),t&&(s=s.concat(s.map(cy)))),s}function dp(e){return e.replace(/left|right|bottom|top/g,t=>Yme[t])}function ege(e){return{top:0,right:0,bottom:0,left:0,...e}}function _L(e){return typeof e!="number"?ege(e):{top:e,right:e,bottom:e,left:e}}function hl(e){const{x:t,y:n,width:r,height:i}=e;return{width:r,height:i,top:n,left:t,right:t+r,bottom:n+i,x:t,y:n}}function OS(e,t,n){let{reference:r,floating:i}=e;const s=po(t),o=yL(t),a=bL(o),l=Hi(t),u=s==="y",c=r.x+r.width/2-i.width/2,d=r.y+r.height/2-i.height/2,f=r[a]/2-i[a]/2;let p;switch(l){case"top":p={x:c,y:r.y-i.height};break;case"bottom":p={x:c,y:r.y+r.height};break;case"right":p={x:r.x+r.width,y:d};break;case"left":p={x:r.x-i.width,y:d};break;default:p={x:r.x,y:r.y}}switch(id(t)){case"start":p[o]-=f*(n&&u?-1:1);break;case"end":p[o]+=f*(n&&u?-1:1);break}return p}const tge=async(e,t,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:s=[],platform:o}=n,a=s.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(t));let u=await o.getElementRects({reference:e,floating:t,strategy:i}),{x:c,y:d}=OS(u,r,l),f=r,p={},m=0;for(let g=0;g<a.length;g++){const{name:b,fn:y}=a[g],{x:E,y:v,data:w,reset:R}=await y({x:c,y:d,initialPlacement:r,placement:f,strategy:i,middlewareData:p,rects:u,platform:o,elements:{reference:e,floating:t}});c=E??c,d=v??d,p={...p,[b]:{...p[b],...w}},R&&m<=50&&(m++,typeof R=="object"&&(R.placement&&(f=R.placement),R.rects&&(u=R.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:i}):R.rects),{x:c,y:d}=OS(u,f,l)),g=-1)}return{x:c,y:d,placement:f,strategy:i,middlewareData:p}};async function Oc(e,t){var n;t===void 0&&(t={});const{x:r,y:i,platform:s,rects:o,elements:a,strategy:l}=e,{boundary:u="clippingAncestors",rootBoundary:c="viewport",elementContext:d="floating",altBoundary:f=!1,padding:p=0}=ha(t,e),m=_L(p),b=a[f?d==="floating"?"reference":"floating":d],y=hl(await s.getClippingRect({element:(n=await(s.isElement==null?void 0:s.isElement(b)))==null||n?b:b.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(a.floating)),boundary:u,rootBoundary:c,strategy:l})),E=d==="floating"?{x:r,y:i,width:o.floating.width,height:o.floating.height}:o.reference,v=await(s.getOffsetParent==null?void 0:s.getOffsetParent(a.floating)),w=await(s.isElement==null?void 0:s.isElement(v))?await(s.getScale==null?void 0:s.getScale(v))||{x:1,y:1}:{x:1,y:1},R=hl(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:E,offsetParent:v,strategy:l}):E);return{top:(y.top-R.top+m.top)/w.y,bottom:(R.bottom-y.bottom+m.bottom)/w.y,left:(y.left-R.left+m.left)/w.x,right:(R.right-y.right+m.right)/w.x}}const nge=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:i,middlewareData:s,rects:o,initialPlacement:a,platform:l,elements:u}=t,{mainAxis:c=!0,crossAxis:d=!0,fallbackPlacements:f,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:m="none",flipAlignment:g=!0,...b}=ha(e,t);if((n=s.arrow)!=null&&n.alignmentOffset)return{};const y=Hi(i),E=po(a),v=Hi(a)===a,w=await(l.isRTL==null?void 0:l.isRTL(u.floating)),R=f||(v||!g?[dp(a)]:Qme(a)),_=m!=="none";!f&&_&&R.push(...Zme(a,g,m,w));const D=[a,...R],j=await Oc(t,b),P=[];let q=((r=s.flip)==null?void 0:r.overflows)||[];if(c&&P.push(j[y]),d){const ye=Xme(i,o,w);P.push(j[ye[0]],j[ye[1]])}if(q=[...q,{placement:i,overflows:P}],!P.every(ye=>ye<=0)){var B,H;const ye=(((B=s.flip)==null?void 0:B.index)||0)+1,pe=D[ye];if(pe)return{data:{index:ye,overflows:q},reset:{placement:pe}};let xe=(H=q.filter(Ce=>Ce.overflows[0]<=0).sort((Ce,Ee)=>Ce.overflows[1]-Ee.overflows[1])[0])==null?void 0:H.placement;if(!xe)switch(p){case"bestFit":{var ee;const Ce=(ee=q.filter(Ee=>{if(_){const $e=po(Ee.placement);return $e===E||$e==="y"}return!0}).map(Ee=>[Ee.placement,Ee.overflows.filter($e=>$e>0).reduce(($e,O)=>$e+O,0)]).sort((Ee,$e)=>Ee[1]-$e[1])[0])==null?void 0:ee[0];Ce&&(xe=Ce);break}case"initialPlacement":xe=a;break}if(i!==xe)return{reset:{placement:xe}}}return{}}}};function kS(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function IS(e){return Gme.some(t=>e[t]>=0)}const rge=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:r="referenceHidden",...i}=ha(e,t);switch(r){case"referenceHidden":{const s=await Oc(t,{...i,elementContext:"reference"}),o=kS(s,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:IS(o)}}}case"escaped":{const s=await Oc(t,{...i,altBoundary:!0}),o=kS(s,n.floating);return{data:{escapedOffsets:o,escaped:IS(o)}}}default:return{}}}}};function EL(e){const t=ms(...e.map(s=>s.left)),n=ms(...e.map(s=>s.top)),r=Sn(...e.map(s=>s.right)),i=Sn(...e.map(s=>s.bottom));return{x:t,y:n,width:r-t,height:i-n}}function ige(e){const t=e.slice().sort((i,s)=>i.y-s.y),n=[];let r=null;for(let i=0;i<t.length;i++){const s=t[i];!r||s.y-r.y>r.height/2?n.push([s]):n[n.length-1].push(s),r=s}return n.map(i=>hl(EL(i)))}const sge=function(e){return e===void 0&&(e={}),{name:"inline",options:e,async fn(t){const{placement:n,elements:r,rects:i,platform:s,strategy:o}=t,{padding:a=2,x:l,y:u}=ha(e,t),c=Array.from(await(s.getClientRects==null?void 0:s.getClientRects(r.reference))||[]),d=ige(c),f=hl(EL(c)),p=_L(a);function m(){if(d.length===2&&d[0].left>d[1].right&&l!=null&&u!=null)return d.find(b=>l>b.left-p.left&&l<b.right+p.right&&u>b.top-p.top&&u<b.bottom+p.bottom)||f;if(d.length>=2){if(po(n)==="y"){const q=d[0],B=d[d.length-1],H=Hi(n)==="top",ee=q.top,ye=B.bottom,pe=H?q.left:B.left,xe=H?q.right:B.right,Ce=xe-pe,Ee=ye-ee;return{top:ee,bottom:ye,left:pe,right:xe,width:Ce,height:Ee,x:pe,y:ee}}const b=Hi(n)==="left",y=Sn(...d.map(q=>q.right)),E=ms(...d.map(q=>q.left)),v=d.filter(q=>b?q.left===E:q.right===y),w=v[0].top,R=v[v.length-1].bottom,_=E,D=y,j=D-_,P=R-w;return{top:w,bottom:R,left:_,right:D,width:j,height:P,x:_,y:w}}return f}const g=await s.getElementRects({reference:{getBoundingClientRect:m},floating:r.floating,strategy:o});return i.reference.x!==g.reference.x||i.reference.y!==g.reference.y||i.reference.width!==g.reference.width||i.reference.height!==g.reference.height?{reset:{rects:g}}:{}}}};async function oge(e,t){const{placement:n,platform:r,elements:i}=e,s=await(r.isRTL==null?void 0:r.isRTL(i.floating)),o=Hi(n),a=id(n),l=po(n)==="y",u=["left","top"].includes(o)?-1:1,c=s&&l?-1:1,d=ha(t,e);let{mainAxis:f,crossAxis:p,alignmentAxis:m}=typeof d=="number"?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:d.mainAxis||0,crossAxis:d.crossAxis||0,alignmentAxis:d.alignmentAxis};return a&&typeof m=="number"&&(p=a==="end"?m*-1:m),l?{x:p*c,y:f*u}:{x:f*u,y:p*c}}const age=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:i,y:s,placement:o,middlewareData:a}=t,l=await oge(t,e);return o===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:i+l.x,y:s+l.y,data:{...l,placement:o}}}}},lge=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:i}=t,{mainAxis:s=!0,crossAxis:o=!1,limiter:a={fn:b=>{let{x:y,y:E}=b;return{x:y,y:E}}},...l}=ha(e,t),u={x:n,y:r},c=await Oc(t,l),d=po(Hi(i)),f=gL(d);let p=u[f],m=u[d];if(s){const b=f==="y"?"top":"left",y=f==="y"?"bottom":"right",E=p+c[b],v=p-c[y];p=AS(E,p,v)}if(o){const b=d==="y"?"top":"left",y=d==="y"?"bottom":"right",E=m+c[b],v=m-c[y];m=AS(E,m,v)}const g=a.fn({...t,[f]:p,[d]:m});return{...g,data:{x:g.x-n,y:g.y-r,enabled:{[f]:s,[d]:o}}}}}},uge=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:i,rects:s,platform:o,elements:a}=t,{apply:l=()=>{},...u}=ha(e,t),c=await Oc(t,u),d=Hi(i),f=id(i),p=po(i)==="y",{width:m,height:g}=s.floating;let b,y;d==="top"||d==="bottom"?(b=d,y=f===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(y=d,b=f==="end"?"top":"bottom");const E=g-c.top-c.bottom,v=m-c.left-c.right,w=ms(g-c[b],E),R=ms(m-c[y],v),_=!t.middlewareData.shift;let D=w,j=R;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(j=v),(r=t.middlewareData.shift)!=null&&r.enabled.y&&(D=E),_&&!f){const q=Sn(c.left,0),B=Sn(c.right,0),H=Sn(c.top,0),ee=Sn(c.bottom,0);p?j=m-2*(q!==0||B!==0?q+B:Sn(c.left,c.right)):D=g-2*(H!==0||ee!==0?H+ee:Sn(c.top,c.bottom))}await l({...t,availableWidth:j,availableHeight:D});const P=await o.getDimensions(a.floating);return m!==P.width||g!==P.height?{reset:{rects:!0}}:{}}}};function _h(){return typeof window<"u"}function Ll(e){return vL(e)?(e.nodeName||"").toLowerCase():"#document"}function br(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Vi(e){var t;return(t=(vL(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function vL(e){return _h()?e instanceof Node||e instanceof br(e).Node:!1}function zr(e){return _h()?e instanceof Element||e instanceof br(e).Element:!1}function zi(e){return _h()?e instanceof HTMLElement||e instanceof br(e).HTMLElement:!1}function NS(e){return!_h()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof br(e).ShadowRoot}function sd(e){const{overflow:t,overflowX:n,overflowY:r,display:i}=li(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!["inline","contents"].includes(i)}function cge(e){return["table","td","th"].includes(Ll(e))}function Eh(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function RE(e){const t=DE(),n=zr(e)?li(e):e;return["transform","translate","scale","rotate","perspective"].some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function dge(e){let t=ho(e);for(;zi(t)&&!ml(t);){if(RE(t))return t;if(Eh(t))return null;t=ho(t)}return null}function DE(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function ml(e){return["html","body","#document"].includes(Ll(e))}function li(e){return br(e).getComputedStyle(e)}function vh(e){return zr(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function ho(e){if(Ll(e)==="html")return e;const t=e.assignedSlot||e.parentNode||NS(e)&&e.host||Vi(e);return NS(t)?t.host:t}function TL(e){const t=ho(e);return ml(t)?e.ownerDocument?e.ownerDocument.body:e.body:zi(t)&&sd(t)?t:TL(t)}function kc(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const i=TL(e),s=i===((r=e.ownerDocument)==null?void 0:r.body),o=br(i);if(s){const a=dy(o);return t.concat(o,o.visualViewport||[],sd(i)?i:[],a&&n?kc(a):[])}return t.concat(i,kc(i,[],n))}function dy(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function wL(e){const t=li(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const i=zi(e),s=i?e.offsetWidth:n,o=i?e.offsetHeight:r,a=cp(n)!==s||cp(r)!==o;return a&&(n=s,r=o),{width:n,height:r,$:a}}function ME(e){return zr(e)?e:e.contextElement}function Xa(e){const t=ME(e);if(!zi(t))return Mi(1);const n=t.getBoundingClientRect(),{width:r,height:i,$:s}=wL(t);let o=(s?cp(n.width):n.width)/r,a=(s?cp(n.height):n.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const fge=Mi(0);function xL(e){const t=br(e);return!DE()||!t.visualViewport?fge:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function pge(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==br(e)?!1:t}function ra(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const i=e.getBoundingClientRect(),s=ME(e);let o=Mi(1);t&&(r?zr(r)&&(o=Xa(r)):o=Xa(e));const a=pge(s,n,r)?xL(s):Mi(0);let l=(i.left+a.x)/o.x,u=(i.top+a.y)/o.y,c=i.width/o.x,d=i.height/o.y;if(s){const f=br(s),p=r&&zr(r)?br(r):r;let m=f,g=dy(m);for(;g&&r&&p!==m;){const b=Xa(g),y=g.getBoundingClientRect(),E=li(g),v=y.left+(g.clientLeft+parseFloat(E.paddingLeft))*b.x,w=y.top+(g.clientTop+parseFloat(E.paddingTop))*b.y;l*=b.x,u*=b.y,c*=b.x,d*=b.y,l+=v,u+=w,m=br(g),g=dy(m)}}return hl({width:c,height:d,x:l,y:u})}function PE(e,t){const n=vh(e).scrollLeft;return t?t.left+n:ra(Vi(e)).left+n}function CL(e,t,n){n===void 0&&(n=!1);const r=e.getBoundingClientRect(),i=r.left+t.scrollLeft-(n?0:PE(e,r)),s=r.top+t.scrollTop;return{x:i,y:s}}function hge(e){let{elements:t,rect:n,offsetParent:r,strategy:i}=e;const s=i==="fixed",o=Vi(r),a=t?Eh(t.floating):!1;if(r===o||a&&s)return n;let l={scrollLeft:0,scrollTop:0},u=Mi(1);const c=Mi(0),d=zi(r);if((d||!d&&!s)&&((Ll(r)!=="body"||sd(o))&&(l=vh(r)),zi(r))){const p=ra(r);u=Xa(r),c.x=p.x+r.clientLeft,c.y=p.y+r.clientTop}const f=o&&!d&&!s?CL(o,l,!0):Mi(0);return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-l.scrollLeft*u.x+c.x+f.x,y:n.y*u.y-l.scrollTop*u.y+c.y+f.y}}function mge(e){return Array.from(e.getClientRects())}function gge(e){const t=Vi(e),n=vh(e),r=e.ownerDocument.body,i=Sn(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),s=Sn(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+PE(e);const a=-n.scrollTop;return li(r).direction==="rtl"&&(o+=Sn(t.clientWidth,r.clientWidth)-i),{width:i,height:s,x:o,y:a}}function bge(e,t){const n=br(e),r=Vi(e),i=n.visualViewport;let s=r.clientWidth,o=r.clientHeight,a=0,l=0;if(i){s=i.width,o=i.height;const u=DE();(!u||u&&t==="fixed")&&(a=i.offsetLeft,l=i.offsetTop)}return{width:s,height:o,x:a,y:l}}function yge(e,t){const n=ra(e,!0,t==="fixed"),r=n.top+e.clientTop,i=n.left+e.clientLeft,s=zi(e)?Xa(e):Mi(1),o=e.clientWidth*s.x,a=e.clientHeight*s.y,l=i*s.x,u=r*s.y;return{width:o,height:a,x:l,y:u}}function RS(e,t,n){let r;if(t==="viewport")r=bge(e,n);else if(t==="document")r=gge(Vi(e));else if(zr(t))r=yge(t,n);else{const i=xL(e);r={x:t.x-i.x,y:t.y-i.y,width:t.width,height:t.height}}return hl(r)}function SL(e,t){const n=ho(e);return n===t||!zr(n)||ml(n)?!1:li(n).position==="fixed"||SL(n,t)}function _ge(e,t){const n=t.get(e);if(n)return n;let r=kc(e,[],!1).filter(a=>zr(a)&&Ll(a)!=="body"),i=null;const s=li(e).position==="fixed";let o=s?ho(e):e;for(;zr(o)&&!ml(o);){const a=li(o),l=RE(o);!l&&a.position==="fixed"&&(i=null),(s?!l&&!i:!l&&a.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||sd(o)&&!l&&SL(e,o))?r=r.filter(c=>c!==o):i=a,o=ho(o)}return t.set(e,r),r}function Ege(e){let{element:t,boundary:n,rootBoundary:r,strategy:i}=e;const o=[...n==="clippingAncestors"?Eh(t)?[]:_ge(t,this._c):[].concat(n),r],a=o[0],l=o.reduce((u,c)=>{const d=RS(t,c,i);return u.top=Sn(d.top,u.top),u.right=ms(d.right,u.right),u.bottom=ms(d.bottom,u.bottom),u.left=Sn(d.left,u.left),u},RS(t,a,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function vge(e){const{width:t,height:n}=wL(e);return{width:t,height:n}}function Tge(e,t,n){const r=zi(t),i=Vi(t),s=n==="fixed",o=ra(e,!0,s,t);let a={scrollLeft:0,scrollTop:0};const l=Mi(0);if(r||!r&&!s)if((Ll(t)!=="body"||sd(i))&&(a=vh(t)),r){const f=ra(t,!0,s,t);l.x=f.x+t.clientLeft,l.y=f.y+t.clientTop}else i&&(l.x=PE(i));const u=i&&!r&&!s?CL(i,a):Mi(0),c=o.left+a.scrollLeft-l.x-u.x,d=o.top+a.scrollTop-l.y-u.y;return{x:c,y:d,width:o.width,height:o.height}}function Qm(e){return li(e).position==="static"}function DS(e,t){if(!zi(e)||li(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return Vi(e)===n&&(n=n.ownerDocument.body),n}function AL(e,t){const n=br(e);if(Eh(e))return n;if(!zi(e)){let i=ho(e);for(;i&&!ml(i);){if(zr(i)&&!Qm(i))return i;i=ho(i)}return n}let r=DS(e,t);for(;r&&cge(r)&&Qm(r);)r=DS(r,t);return r&&ml(r)&&Qm(r)&&!RE(r)?n:r||dge(e)||n}const wge=async function(e){const t=this.getOffsetParent||AL,n=this.getDimensions,r=await n(e.floating);return{reference:Tge(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function xge(e){return li(e).direction==="rtl"}const Cge={convertOffsetParentRelativeRectToViewportRelativeRect:hge,getDocumentElement:Vi,getClippingRect:Ege,getOffsetParent:AL,getElementRects:wge,getClientRects:mge,getDimensions:vge,getScale:Xa,isElement:zr,isRTL:xge};function OL(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function Sge(e,t){let n=null,r;const i=Vi(e);function s(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),s();const u=e.getBoundingClientRect(),{left:c,top:d,width:f,height:p}=u;if(a||t(),!f||!p)return;const m=zd(d),g=zd(i.clientWidth-(c+f)),b=zd(i.clientHeight-(d+p)),y=zd(c),v={rootMargin:-m+"px "+-g+"px "+-b+"px "+-y+"px",threshold:Sn(0,ms(1,l))||1};let w=!0;function R(_){const D=_[0].intersectionRatio;if(D!==l){if(!w)return o();D?o(!1,D):r=setTimeout(()=>{o(!1,1e-7)},1e3)}D===1&&!OL(u,e.getBoundingClientRect())&&o(),w=!1}try{n=new IntersectionObserver(R,{...v,root:i.ownerDocument})}catch{n=new IntersectionObserver(R,v)}n.observe(e)}return o(!0),s}function Age(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,u=ME(e),c=i||s?[...u?kc(u):[],...kc(t)]:[];c.forEach(y=>{i&&y.addEventListener("scroll",n,{passive:!0}),s&&y.addEventListener("resize",n)});const d=u&&a?Sge(u,n):null;let f=-1,p=null;o&&(p=new ResizeObserver(y=>{let[E]=y;E&&E.target===u&&p&&(p.unobserve(t),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{var v;(v=p)==null||v.observe(t)})),n()}),u&&!l&&p.observe(u),p.observe(t));let m,g=l?ra(e):null;l&&b();function b(){const y=ra(e);g&&!OL(g,y)&&n(),g=y,m=requestAnimationFrame(b)}return n(),()=>{var y;c.forEach(E=>{i&&E.removeEventListener("scroll",n),s&&E.removeEventListener("resize",n)}),d==null||d(),(y=p)==null||y.disconnect(),p=null,l&&cancelAnimationFrame(m)}}const Oge=age,kge=lge,Ige=nge,Nge=uge,Rge=rge,Dge=sge,Mge=(e,t,n)=>{const r=new Map,i={platform:Cge,...n},s={...i.platform,_c:r};return tge(e,t,{...i,platform:s})};var Pge=1,Lge=9,Bge=11,LE=e=>typeof e=="object"&&e!==null,Fge=e=>LE(e)&&e.nodeType===Pge&&typeof e.nodeName=="string",$ge=e=>LE(e)&&e.nodeType===Lge,Uge=e=>LE(e)&&e.nodeType!==void 0,Hge=e=>Uge(e)&&e.nodeType===Bge&&"host"in e;function kL(e){var t;return Hge(e)?kL(e.host):$ge(e)?e.defaultView??window:Fge(e)?((t=e.ownerDocument)==null?void 0:t.defaultView)??window:window}var BE=rd("overlay/reference",null);function IL(e){const t=BE.consume(e);ai(e,()=>{t.set(e)})}var zge={},jge={};function qge(e,t,n){if(!e||!t)return;const r=[Vge(n),Wge(n),Gge(n),Yge(n),Kge(n),Xge(n)],{placement:i,strategy:s}=n;let o=!1;const a=async()=>{var c,d,f;if(!t||!e||o)return;const p=Zge(t);if(p&&!p.isConnected)return;n.hoist&&Jge&&(e.style.margin="unset",e.setAttribute("popover","manual"),(c=e.showPopover)==null||c.call(e));const m=await Mge(t,e,{placement:i,middleware:r,strategy:s});if(o)return;if(n.hide){const w=((d=m.middlewareData.hide)==null?void 0:d.escaped)||((f=m.middlewareData.hide)==null?void 0:f.referenceHidden);e.style.visibility=w?"hidden":"visible"}const g=MS(e,m.x),b=MS(e,m.y);e.style.position=m.strategy,n.transform?(e.style.left="0",e.style.top="0",e.style.transform=`translate3d(${g}px,${b}px,0)`,NL(e)>=1.5&&(e.style.willChange="transform")):(e.style.left=`${g}px`,e.style.top=`${b}px`,e.style.removeProperty("transform"));const[y,E]=Qge(m.placement),v={"data-side":y,"data-align":E,"data-mounted":""};for(const[w,R]of Object.entries(v))e.setAttribute(w,R)},l=typeof n.autoUpdate=="boolean"?void 0:n.autoUpdate,u=n.autoUpdate?Age(t,e,a,l):void 0;return n.autoUpdate||a(),()=>{o=!0,u==null||u()}}function FE(e){return{boundary:e.boundary,rootBoundary:e.rootBoundary,elementContext:e.elementContext,altBoundary:e.altBoundary,padding:e.overflowPadding}}function Vge(e){if(e.offset!=null)return Oge(e.offset)}function Wge(e){if(e.flip)return Ige({...FE(e),fallbackPlacements:e.flip===!0?void 0:e.flip,crossAxis:!1})}function Gge(e){if(e.shift)return kge({...FE(e),mainAxis:e.shift,crossAxis:e.overlap})}function Yge(e){if(!(!e.fitViewport&&!e.sameWidth&&!e.sameHeight))return Nge({...FE(e),apply({elements:t,rects:n,availableHeight:r,availableWidth:i}){const s=t.floating;e.sameWidth&&(s.style.width=`${Math.round(n.reference.width)}px`),e.sameHeight&&(s.style.height=`${Math.round(n.reference.height)}px`),e.fitViewport&&(s.style.maxWidth=`${Math.floor(i)}px`,s.style.maxHeight=`${Math.floor(r)}px`)}})}function Kge(e){if(e.inline)return Dge()}function Xge(e){if(e.hide)return Rge({padding:e.overflowPadding,elementContext:"reference"})}function MS(e,t){const n=NL(e);return Math.round(t*n)/n}function NL(e){return kL(e).devicePixelRatio||1}function Qge(e){const[t,n="center"]=e.split("-");return[t,n]}var Jge=typeof HTMLElement<"u"&&Object.hasOwn(HTMLElement.prototype,"popover");function Zge(e){return zr(e)?e:e.contextElement}function RL(e,{state:t}){const n=BE.consume(e);DL(e,t,{reference:n})}function DL(e,t,n){Bme(e,()=>{const r=jme(t),i=n.reference.get();return()=>qge(e,i,r)})}var $E={strategy:{default:"absolute"},placement:{default:"top"},autoUpdate:{default:!0},hoist:{default:!0},transform:{default:!1},offset:{default:6,fromAttribute:e=>{if(e!=null)try{return JSON.parse(e)}catch{return}},toAttribute:JSON.stringify},flip:{default:!0},shift:{default:!0},overlap:{default:!1},fitViewport:{default:!1},sameWidth:{default:!1},sameHeight:{default:!1},inline:{default:!1},hide:{default:!1},boundary:{default:"clippingAncestors"},rootBoundary:{default:"viewport"},overflowPadding:{default:4},elementContext:{default:"floating"},altBoundary:{default:!1}},UE={};function ML(e){const t=Ni(null);BE.provide(e,t)}var e0e={},t0e={},n0e=class extends qi({props:zge,events:jge,setup:IL}){},r0e=class extends qi({props:$E,events:UE,setup:RL}){},i0e=class extends qi({props:e0e,events:t0e,setup:ML}){};function PL(e,t){const n=Ni(t.peek());return ai(e,()=>{n.get()?s0e(e):o0e(e)}),ai(e,()=>{if(t.get()){n.set(!0);return}const r=e.getAnimations();if(r.length===0){n.set(!1);return}let i=!1;return Promise.allSettled(r.map(s=>s.finished)).then(()=>{i||n.set(!1)}),()=>{i=!0}}),n}function s0e(e){e.style.display==="none"&&(e.style.display="")}function o0e(e){e.style.display="none"}pa("aria-ui-overlay-anchor",n0e);pa("aria-ui-overlay-positioner",r0e);pa("aria-ui-overlay-root",i0e);const a0e="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict";let l0e=(e=21)=>{let t="",n=crypto.getRandomValues(new Uint8Array(e|=0));for(;e--;)t+=a0e[n[e]&63];return t};var LL=rd("tooltip/hovering",!1),BL=rd("tooltip/focused",!1),HE=rd("tooltip/open",!1),zE=rd("tooltip/id",null);function FL(e,{state:t,emit:n}){const r=HE.consume(e),i=zE.consume(e),s=Ni(t.hoist.peek()),o=PL(e,r);ai(e,()=>{s.set(o.get()?t.hoist.get():!1)}),RL(e,{state:{...t,hoist:s}}),hL(e,"aria-hidden",()=>`${!r.get()}`),Ac(e,"id",()=>i.get()||void 0),Ac(e,"data-state",()=>r.get()?"open":"closed")}var jE={...$E},qE=UE,PS=0,Jm=0,jd=null,au=null;function $L(e,{state:t,emit:n}){ML(e);const r=Ni(!1),i=Ni(!1),s=ly(()=>r.get()||i.get()),o=Ni(!1),a=l0e(),l=c=>{o.peek()!==c&&(o.set(c),n("openChange",c))},u=()=>{const c=Date.now();s.peek()?(c-PS>=t.openDelay.peek()||au&&c-Jm<=t.closeDelay.peek())&&(l(!0),jd&&au!==a&&jd.set(!1),jd=o,au=a):c-Jm>=t.closeDelay.peek()&&(l(!1),au===a&&(jd=null,au=null))};ai(e,()=>{s.get()?PS=Date.now():Jm=Date.now();for(const c of new Set([0,t.openDelay.peek(),t.closeDelay.peek()]))setTimeout(u,c)}),LL.provide(e,r),BL.provide(e,i),HE.provide(e,ly(()=>o.get())),zE.provide(e,Ni(a))}var VE={openDelay:{default:700},closeDelay:{default:300},open:{default:!1}},WE={openChange:{}};function UL(e){IL(e);const t=LL.consume(e),n=BL.consume(e),r=HE.consume(e),i=zE.consume(e);Sa(e,"pointerenter",()=>{t.set(!0)}),Sa(e,"pointerleave",()=>{t.set(!1)}),Sa(e,"focusin",()=>{n.set(!0)}),Sa(e,"focusout",()=>{n.set(!1)});const s=()=>{t.set(!1),n.set(!1)};Sa(e,"click",s),Sa(e,"keydown",s),hL(e,"aria-describedby",()=>{const o=r.get(),a=i.get();return o&&a?a:void 0})}var GE={},YE={};(class extends qi({props:jE,events:qE,setup:FL}){});(class extends qi({props:VE,events:WE,setup:$L}){});(class extends qi({props:GE,events:YE,setup:UL}){});var u0e=class extends qi({props:jE,events:qE,setup:FL}){};pa("prosekit-tooltip-content",u0e);var c0e=class extends qi({props:VE,events:WE,setup:$L}){};pa("prosekit-tooltip-root",c0e);var d0e=class extends qi({props:GE,events:YE,setup:UL}){};pa("prosekit-tooltip-trigger",d0e);var f0e=yh("prosekit-tooltip-content","TooltipContent",Object.keys(jE),Object.keys(qE)),p0e=yh("prosekit-tooltip-root","TooltipRoot",Object.keys(VE),Object.keys(WE)),h0e=yh("prosekit-tooltip-trigger","TooltipTrigger",Object.keys(GE),Object.keys(YE));const m0e=["data-state","disabled"],g0e={key:0,class:"sr-only"},sn=ir({__name:"ProsekitButton",props:{pressed:{type:Boolean},disabled:{type:Boolean},tooltip:{}},emits:["click"],setup(e,{emit:t}){const n=t;return(r,i)=>(x(),fe(_e(p0e),null,{default:V(()=>[z(_e(h0e),{class:"block"},{default:V(()=>[S("button",{"data-state":r.pressed?"on":"off",disabled:r.disabled?!0:void 0,class:"outline-unset focus-visible:outline-unset flex items-center justify-center rounded-md p-2 font-medium transition focus-visible:ring-2 text-sm focus-visible:ring-zinc-900 dark:focus-visible:ring-zinc-300 disabled:pointer-events-none min-w-9 min-h-9 disabled:opacity-50 hover:disabled:opacity-50 bg-transparent hover:bg-zinc-100 dark:hover:bg-zinc-800 data-[state=on]:bg-gray-200 dark:data-[state=on]:bg-gray-700",onClick:i[0]||(i[0]=()=>n("click")),onMousedown:i[1]||(i[1]=ic(()=>{},["prevent"]))},[Ae(r.$slots,"default"),r.tooltip?(x(),L("span",g0e,le(r.tooltip),1)):Oe("",!0)],40,m0e)]),_:3}),r.tooltip?(x(),fe(_e(f0e),{key:0,class:"z-50 overflow-hidden rounded-md border border-solid bg-zinc-900 dark:bg-zinc-50 px-3 py-1.5 text-xs text-zinc-50 dark:text-zinc-900 shadow-sm [&:not([data-state])]:hidden will-change-transform data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=open]:fade-in-0 data-[state=closed]:fade-out-0 data-[state=open]:zoom-in-95 data-[state=closed]:zoom-out-95 data-[state=open]:animate-duration-150 data-[state=closed]:animate-duration-200 data-[side=bottom]:slide-in-from-top-2 data-[side=bottom]:slide-out-to-top-2 data-[side=left]:slide-in-from-right-2 data-[side=left]:slide-out-to-right-2 data-[side=right]:slide-in-from-left-2 data-[side=right]:slide-out-to-left-2 data-[side=top]:slide-in-from-bottom-2 data-[side=top]:slide-out-to-bottom-2"},{default:V(()=>[we(le(r.tooltip),1)]),_:1})):Oe("",!0)]),_:3}))}}),b0e={class:"z-2 box-border border-zinc-200 dark:border-zinc-800 border-solid border-l-0 border-r-0 border-t-0 border-b flex flex-wrap gap-1 p-2 items-center"},y0e=ir({__name:"ProsekitToolbar",setup(e){const t=aL({update:!0});return(n,r)=>(x(),L("div",b0e,[z(sn,{pressed:!1,disabled:!_e(t).commands.undo.canExec(),onClick:r[0]||(r[0]=()=>_e(t).commands.undo())},{default:V(()=>r[14]||(r[14]=[S("div",{class:"i-lucide-undo-2 h-5 w-5"},null,-1)])),_:1},8,["disabled"]),z(sn,{pressed:!1,disabled:!_e(t).commands.redo.canExec(),onClick:r[1]||(r[1]=()=>_e(t).commands.redo())},{default:V(()=>r[15]||(r[15]=[S("div",{class:"i-lucide-redo-2 h-5 w-5"},null,-1)])),_:1},8,["disabled"]),z(sn,{pressed:_e(t).marks.bold.isActive(),disabled:!_e(t).commands.toggleBold.canExec(),onClick:r[2]||(r[2]=()=>_e(t).commands.toggleBold())},{default:V(()=>r[16]||(r[16]=[S("div",{class:"i-lucide-bold h-5 w-5"},null,-1)])),_:1},8,["pressed","disabled"]),z(sn,{pressed:_e(t).marks.italic.isActive(),disabled:!_e(t).commands.toggleItalic.canExec(),onClick:r[3]||(r[3]=()=>_e(t).commands.toggleItalic())},{default:V(()=>r[17]||(r[17]=[S("div",{class:"i-lucide-italic h-5 w-5"},null,-1)])),_:1},8,["pressed","disabled"]),z(sn,{pressed:_e(t).marks.underline.isActive(),disabled:!_e(t).commands.toggleUnderline.canExec(),onClick:r[4]||(r[4]=()=>_e(t).commands.toggleUnderline())},{default:V(()=>r[18]||(r[18]=[S("div",{class:"i-lucide-underline h-5 w-5"},null,-1)])),_:1},8,["pressed","disabled"]),z(sn,{pressed:_e(t).nodes.horizontalRule.isActive(),disabled:!_e(t).commands.insertHorizontalRule.canExec(),onClick:r[5]||(r[5]=()=>_e(t).commands.insertHorizontalRule())},{default:V(()=>r[19]||(r[19]=[S("div",{class:"i-lucide-minus h-5 w-5"},null,-1)])),_:1},8,["pressed","disabled"]),z(sn,{pressed:_e(t).nodes.list.isActive({kind:"bullet"}),disabled:!_e(t).commands.toggleList.canExec({kind:"bullet"}),onClick:r[6]||(r[6]=()=>_e(t).commands.toggleList({kind:"bullet"}))},{default:V(()=>r[20]||(r[20]=[S("div",{class:"i-lucide-list h-5 w-5"},null,-1)])),_:1},8,["pressed","disabled"]),z(sn,{pressed:_e(t).nodes.list.isActive({kind:"ordered"}),disabled:!_e(t).commands.toggleList.canExec({kind:"ordered"}),onClick:r[7]||(r[7]=()=>_e(t).commands.toggleList({kind:"ordered"}))},{default:V(()=>r[21]||(r[21]=[S("div",{class:"i-lucide-list-ordered h-5 w-5"},null,-1)])),_:1},8,["pressed","disabled"]),z(sn,{pressed:!1,disabled:!_e(t).commands.indentList.canExec(),onClick:r[8]||(r[8]=()=>_e(t).commands.indentList())},{default:V(()=>r[22]||(r[22]=[S("div",{class:"i-lucide-indent-increase h-5 w-5"},null,-1)])),_:1},8,["disabled"]),z(sn,{pressed:!1,disabled:!_e(t).commands.dedentList.canExec(),onClick:r[9]||(r[9]=()=>_e(t).commands.dedentList())},{default:V(()=>r[23]||(r[23]=[S("div",{class:"i-lucide-indent-decrease h-5 w-5"},null,-1)])),_:1},8,["disabled"]),z(sn,{pressed:_e(t).nodes.blockquote.isActive(),disabled:!_e(t).commands.toggleBlockquote.canExec(),onClick:r[10]||(r[10]=()=>_e(t).commands.toggleBlockquote())},{default:V(()=>r[24]||(r[24]=[S("div",{class:"i-lucide-quote h-5 w-5"},null,-1)])),_:1},8,["pressed","disabled"]),z(sn,{pressed:_e(t).nodes.heading.isActive({level:1}),disabled:!_e(t).commands.toggleHeading.canExec({level:1}),onClick:r[11]||(r[11]=()=>_e(t).commands.toggleHeading({level:1}))},{default:V(()=>r[25]||(r[25]=[S("div",{class:"i-lucide-heading-1 h-5 w-5"},null,-1)])),_:1},8,["pressed","disabled"]),z(sn,{pressed:_e(t).nodes.heading.isActive({level:2}),disabled:!_e(t).commands.toggleHeading.canExec({level:2}),onClick:r[12]||(r[12]=()=>_e(t).commands.toggleHeading({level:2}))},{default:V(()=>r[26]||(r[26]=[S("div",{class:"i-lucide-heading-2 h-5 w-5"},null,-1)])),_:1},8,["pressed","disabled"]),z(sn,{pressed:_e(t).nodes.heading.isActive({level:3}),disabled:!_e(t).commands.toggleHeading.canExec({level:3}),onClick:r[13]||(r[13]=()=>_e(t).commands.toggleHeading({level:3}))},{default:V(()=>r[27]||(r[27]=[S("div",{class:"i-lucide-heading-3 h-5 w-5"},null,-1)])),_:1},8,["pressed","disabled"])]))}});function KE(e,t,n){ai(e,()=>{var r;return(r=t.get())==null?void 0:r.use(n)})}function _0e(e,t,n){const r=nce(n);KE(e,t,r)}function E0e(e,t,n){const r=bE(n);KE(e,t,r)}function v0e(e,t,n){const r=gi(n);return KE(e,t,r)}function T0e(e){if(typeof window>"u"||e.isDestroyed)return;const t=e.state.selection;if(!t.empty&&!b3(t)&&vP(t)&&Cce(e.state.doc,t.from,t.to))return w0e(e)||C0e(e)}function w0e(e){const t=x0e(e);if(t)return{contextElement:e.dom,getBoundingClientRect:()=>t.getBoundingClientRect(),getClientRects:()=>t.getClientRects()}}function x0e(e){const t=e.dom.ownerDocument.defaultView,n=t==null?void 0:t.getSelection();if(!n||n.isCollapsed)return;const r=typeof n.rangeCount=="number"&&n.rangeCount>0&&n.getRangeAt(0);if(r)return r}function C0e(e){const t=e.dom.querySelectorAll(".prosekit-virtual-selection");if(t.length===0)return;if(t.length===1)return t[0];const n=Array.from(t);return{contextElement:n[0],getBoundingClientRect:()=>n[0].getBoundingClientRect(),getClientRects:()=>n.map(r=>r.getBoundingClientRect())}}function S0e(e,{state:t,emit:n}){const{editor:r,defaultOpen:i,open:s,...o}=t,a=A0e(e,r),l=ly(()=>!!a.get());ai(e,()=>{const u=l.get(),c=i.peek(),d=s.peek();(c||d)&&n("openChange",u)}),ai(e,()=>{const u=l.get(),c=i.peek();u&&c?s.set(!0):u||s.set(!1)}),v0e(e,r,{Escape:()=>!t.dismissOnEscape.peek()||!s.peek()?!1:(s.set(!1),n("openChange",!1),!0)}),DL(e,o,{reference:a}),Ac(e,"data-state",()=>s.get()?"open":"closed"),PL(e,s)}function A0e(e,t){const n=Ni(null);let r=!1;return _0e(e,t,i=>{r=i}),E0e(e,t,i=>{!r&&e.contains(e.ownerDocument.activeElement)||n.set(T0e(i)||null)}),n}var HL=Object.freeze({...$E,editor:{default:null},defaultOpen:{default:!0},open:{default:!1},dismissOnEscape:{default:!0},placement:{default:"top"},offset:{default:12},hide:{default:!0},overlap:{default:!0},inline:{default:!0},overflowPadding:{default:8}}),zL={...UE,openChange:{}},O0e=class extends qi({props:HL,events:zL,setup:S0e}){};pa("prosekit-inline-popover",O0e);var LS=yh("prosekit-inline-popover","InlinePopover",Object.keys(HL),Object.keys(zL));const k0e=["defaultValue"],I0e=ir({__name:"ProsekitInlineMenu",setup(e){const t=aL({update:!0}),n=yt(!1);function r(a){n.value=a}function i(){n.value=!n.value}function s(a){const{$from:l}=a.selection,u=l.marksAcross(l);if(u){for(const c of u)if(c.type.name==="link")return c.attrs.href}}function o(a){a?t.value.commands.addLink({href:a}):t.value.commands.removeLink(),n.value=!1,t.value.focus()}return(a,l)=>(x(),L(Xe,null,[z(_e(LS),{"data-testid":"inline-menu-main",class:"z-10 box-border border border-zinc-200 bg-white shadow-lg [&:not([data-state])]:hidden relative flex min-w-[8rem] space-x-1 overflow-auto whitespace-nowrap rounded-md p-1"},{default:V(()=>[z(sn,{pressed:_e(t).marks.bold.isActive(),disabled:!_e(t).commands.toggleBold.canExec(),tooltip:"Bold",onClick:l[0]||(l[0]=()=>_e(t).commands.toggleBold())},{default:V(()=>l[7]||(l[7]=[S("div",{class:"i-lucide-bold h-5 w-5"},null,-1)])),_:1},8,["pressed","disabled"]),z(sn,{pressed:_e(t).marks.italic.isActive(),disabled:!_e(t).commands.toggleItalic.canExec(),tooltip:"Italic",onClick:l[1]||(l[1]=()=>_e(t).commands.toggleItalic())},{default:V(()=>l[8]||(l[8]=[S("div",{class:"i-lucide-italic h-5 w-5"},null,-1)])),_:1},8,["pressed","disabled"]),z(sn,{pressed:_e(t).marks.underline.isActive(),disabled:!_e(t).commands.toggleUnderline.canExec(),tooltip:"Underline",onClick:l[2]||(l[2]=()=>_e(t).commands.toggleUnderline())},{default:V(()=>l[9]||(l[9]=[S("div",{class:"i-lucide-underline h-5 w-5"},null,-1)])),_:1},8,["pressed","disabled"]),_e(t).commands.addLink.canExec({href:""})?(x(),fe(sn,{key:0,pressed:_e(t).marks.link.isActive(),tooltip:"Link",onClick:l[3]||(l[3]=()=>{_e(t).commands.expandLink(),i()})},{default:V(()=>l[10]||(l[10]=[S("div",{class:"i-lucide-link h-5 w-5"},null,-1)])),_:1},8,["pressed"])):Oe("",!0)]),_:1}),z(_e(LS),{placement:"bottom","default-open":!1,open:n.value,"data-testid":"inline-menu-link",class:"z-10 box-border border border-zinc-200 bg-white shadow-lg [&:not([data-state])]:hidden relative flex flex-col w-xs rounded-lg p-4 gap-y-2 items-stretch",onOpenChange:r},{default:V(()=>[n.value?(x(),L("form",{key:0,onSubmit:l[4]||(l[4]=ic(u=>{var f,p;const c=u.target,d=(p=(f=c==null?void 0:c.querySelector("input"))==null?void 0:f.value)==null?void 0:p.trim();o(d)},["prevent"]))},[S("input",{placeholder:"Paste the link...",defaultValue:s(_e(t).state),class:"flex h-9 rounded-md w-full bg-white px-3 py-2 text-sm placeholder:text-zinc-500 transition border box-border border-zinc-200 border-solid ring-0 ring-transparent focus-visible:ring-2 focus-visible:ring-zinc-900 focus-visible:ring-offset-0 outline-none focus-visible:outline-none file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:cursor-not-allowed disabled:opacity-50"},null,8,k0e)],32)):Oe("",!0),_e(t).marks.link.isActive()?(x(),L("button",{key:1,class:"inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-white transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-zinc-900 focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 border-0 bg-zinc-900 text-zinc-50 hover:bg-zinc-900/90 h-9 px-3",onClick:l[5]||(l[5]=u=>o()),onMousedown:l[6]||(l[6]=ic(()=>{},["prevent"]))}," Remove link ",32)):Oe("",!0)]),_:1},8,["open"])],64))}}),N0e={class:"box-border h-full w-full min-h-36 overflow-y-hidden overflow-x-hidden rounded-md border border-solid border-gray-200 shadow flex flex-col bg-white"},R0e={class:"relative w-full flex-1 box-border overflow-y-scroll"},D0e={__name:"RichTextEditor",props:{modelValue:{type:String,required:!0},markdownFormat:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(e,{emit:t}){const n=e,r=t,i=Phe(),s=u=>n.markdownFormat?Ix(u):O1.sanitize(u),o=s(n.modelValue),a=jle({extension:i,defaultContent:o});gme(()=>{const u=n.markdownFormat?Ix(a.getDocHTML()):O1.sanitize(a.getDocHTML());r("update:modelValue",u)},{editor:a});const l=yt(null);return Nb(u=>{a.mount(l.value),u(()=>a.unmount())}),Nb(()=>{const u=s(n.modelValue);a.getDocHTML()!==u&&a.setContent(u)}),(u,c)=>(x(),fe(_e(mme),{editor:_e(a)},{default:V(()=>[S("div",N0e,[z(y0e),z(I0e),S("div",R0e,[S("div",{ref_key:"editorRef",ref:l,class:'ProseMirror box-border min-h-full px-4 py-4 outline-none outline-0 [&_span[data-mention="user"]]:text-blue-500 [&_span[data-mention="tag"]]:text-violet-500'},null,512)])])]),_:1},8,["editor"]))}},M0e={name:"ComponentName",components:{RichTextEditor:D0e},props:{modelValue:{type:Object,default:()=>({})}},emits:["update:email"],data(){return{}},computed:{group(){return this.$store.getters["groups/currentItemOrNew"]},workingEmail:{get(){return this.modelValue},set(e){this.emitEmailUpdate(e)}},application(){return this.group.expert_panel},emailCced(){return Number.parseInt(this.application.current_step)===1||Number.parseInt(this.application.current_step)===4},ccAddresses(){return this.modelValue.cc.map(e=>e.address).join(", ")}},methods:{handleAttachments(){this.emitEmailUpdate(this.workingEmail)},emitEmailUpdate(e){const t={...e};Array.from(this.$refs.attachmentsField.files).forEach(n=>{t.files.push(n)}),this.$emit("update:email",e)}}},P0e={key:1},L0e={key:0},B0e={key:1,class:"text-gray-500"};function F0e(e,t,n,r,i,s){const o=Y("static-alert"),a=Y("router-link"),l=Y("dictionary-row"),u=Y("truncate-expander"),c=Y("input-row"),d=Y("RichTextEditor"),f=Y("note");return x(),L("div",null,[t[5]||(t[5]=S("h4",{class:"font-bold border-b"}," Email ",-1)),z(l,{label:"To","label-class":"w-36"},{default:V(()=>[s.group.hasContacts?Oe("",!0):(x(),fe(o,{key:0,class:"flex-1",variant:"danger"},{default:V(()=>t[3]||(t[3]=[we(" There are no contacts to notify!! ")])),_:1})),s.group.hasContacts?(x(),L("ul",P0e,[(x(!0),L(Xe,null,$t(s.workingEmail.to,p=>(x(),L("li",{key:p.email},[z(a,{to:{name:"PersonDetail",params:{uuid:p.uuid}},class:"text-blue-600 hover:underline",target:"person"},{default:V(()=>[we(le(p.name)+" <"+le(p.email)+"> ",1)]),_:2},1032,["to"])]))),128))])):Oe("",!0)]),_:1}),z(l,{label:"Cc","label-class":"w-36"},{default:V(()=>[s.workingEmail.cc.length>0?(x(),L("div",L0e,[z(u,{value:s.ccAddresses,"truncate-length":100},null,8,["value"])])):(x(),L("div",B0e," None "))]),_:1}),z(c,{label:"Subject"},{default:V(()=>[Ct(S("input",{"onUpdate:modelValue":t[0]||(t[0]=p=>s.workingEmail.subject=p),type:"text",class:"w-full"},null,512),[[js,s.workingEmail.subject]])]),_:1}),z(c,{label:"Body"},{default:V(()=>[z(d,{modelValue:s.workingEmail.body,"onUpdate:modelValue":t[1]||(t[1]=p=>s.workingEmail.body=p)},null,8,["modelValue"])]),_:1}),z(c,{label:"Attachments"},{default:V(()=>[S("input",{ref:"attachmentsField",type:"file",multiple:"",onChange:t[2]||(t[2]=(...p)=>s.handleAttachments&&s.handleAttachments(...p))},null,544)]),_:1}),s.emailCced?(x(),fe(f,{key:0},{default:V(()=>t[4]||(t[4]=[we(" ClinGen Services will be carbon copied on this email. ")])),_:1})):Oe("",!0)])}const $0e=ne(M0e,[["render",F0e]]),U0e=Object.freeze(Object.defineProperty({__proto__:null,default:$0e},Symbol.toStringTag,{value:"Module"})),H0e={name:"RequirementsItem",props:{requirement:{type:Object,required:!0}}},z0e={class:"flex space-x-2"};function j0e(e,t,n,r,i,s){const o=Y("icon-checkmark"),a=Y("icon-exclamation");return x(),L("div",z0e,[n.requirement.isMet?(x(),fe(o,{key:0,class:"text-green-600"})):(x(),fe(a,{key:1,class:"text-yellow-400"})),S("div",null,le(n.requirement.label),1)])}const q0e=ne(H0e,[["render",j0e]]),V0e={name:"RequirementsBadge",components:{RequirementsItem:q0e},props:{section:{type:Object,required:!0}},data(){return{}},computed:{group(){return this.$store.getters["groups/currentItemOrNew"]},meetsRequirements(){return this.section.meetsRequirements(this.group)},badgeColor(){return this.meetsRequirements?"green":"yellow"},badgeText(){return`Requirements: ${this.section.metRequirements(this.group).length} / ${this.section.requirements.length}`},evaledRequirements(){return this.section.evaluateRequirements(this.group)},hasRequirements(){return this.section.hasRequirements}},methods:{}},W0e={key:0};function G0e(e,t,n,r,i,s){const o=Y("RequirementsItem"),a=Y("badge"),l=Y("popover");return s.hasRequirements?(x(),L("div",W0e,[z(l,{arrow:"",hover:""},{content:V(()=>[S("div",null,[(x(!0),L(Xe,null,$t(s.evaledRequirements,(u,c)=>(x(),fe(o,{key:c,requirement:u},null,8,["requirement"]))),128))])]),default:V(()=>[z(a,{color:s.badgeColor,class:"cursor-pointer"},{default:V(()=>[we(le(s.badgeText),1)]),_:1},8,["color"])]),_:1})])):Oe("",!0)}const Y0e=ne(V0e,[["render",G0e]]);class mo{constructor(t={}){this.attributes={},this.setAttributes({...this.constructor.defaults,...t}),this.original={},this.setOriginal(this.attributes);for(const n in this.attributes)this.defineAttributeGettersAndSetters(n)}setAttributes(t){this.attributes=Kb(t)}setOriginal(t){this.original=Kb(t)}defineAttributeGettersAndSetters(t){let n=i=>{this.attributes[t]=i},r=()=>this.attributes[t];this.constructor.dates.includes(t)&&(r=()=>this.attributes[t]?new Date(Date.parse(this.attributes[t])):null,n=i=>{this.attributes[t]=i?new Date(Date.parse(i)):null}),Object.defineProperty(this,t,{get:r,set:n})}setAttribute(t,n=null){typeof Object.getOwnPropertyDescriptor(this,t)>"u"&&this.defineAttributeGettersAndSetters(t),this[t]=n}isPersisted(){return!!this.attributes.id}clone(){return new this.constructor(this.attributes)}getAttributes(){return this.attributes}getOriginal(){return this.original}clearChanges(){this.original={}}isDirty(t=null){return t?this.original[t]!==this.attributes[t]:Object.keys(this.original).some(n=>!Lf(this.original[n],this.attributes[n]))}getDirty(t=null){if(!this.isDirty(t))return{};let n=Object.keys(this.original);t&&(Array.isArray(t)&&(n=t),typeof t=="string"&&(n=[t]));const r={};return n.forEach(i=>{this.isDirty(i)&&(r[i]={original:this.original[i],new:this.attributes[i]})}),r}revertDirty(){this.attributes={...this.attributes,...this.original},this.clearChanges()}}Ln(mo,"defaults",{created_at:null,updated_at:null,deleted_at:null}),Ln(mo,"dates",["updated_at","created_at","deleted_at"]);const Ku=class Ku extends mo{constructor(t={}){t instanceof Ku&&(t={...t.attributes,memberships:[t.memberships.map(i=>i.attributes)]});const n=t.memberships||[];delete t.memberships;const r=t.mailLog||[];delete t.mailLog,super({...t}),this.memberships=n.map(i=>new io(i)),this.mailLog=r}get institutionName(){return this.institution?this.institution.name:null}get credentialsString(){return this.credentials?this.credentials.map(t=>t.name).join(", "):null}get primaryOccupationName(){return this.primary_occupation_id===100?this.primary_occupation_other:this.primary_occupation?this.primary_occupation.name:null}get raceName(){return this.race_id===100?this.race_other||"Other":this.race?this.race.name:null}get ethnicityName(){return this.ethnicity?this.ethnicity.name:null}get genderName(){return this.gender_id===100?this.gender_other||"Not specified.":this.gender?this.gender.name:null}get membershipsWithPendingCois(){return this.membershipsWithCoiRequirement.filter(t=>t.coi_needed)}get membershipsWithCompletedCois(){return this.membershipsWithCoiRequirement.filter(t=>!t.coi_needed)}get membershipsWithOutdatedCois(){return this.membershipsWithCoiRequirement.filter(t=>t.coi_needed&&t.cois.length>0)}get completedCois(){return this.membershipsWithCompletedCois.map(t=>t.cois).flat()}get hasPendingCois(){return this.membershipsWithPendingCois.length>0}get hasCompletedCois(){return this.membershipsWithCompletedCois.length>0}get hasOutdatedCois(){return this.membershipsWithOutdatedCois.length>0}get expertPanelMemberships(){return this.memberships.filter(t=>[3,4].includes(t.group.group_type_id))}get membershipsWithCoiRequirement(){return this.memberships.filter(t=>t.has_coi_requirement)}get needsCredentials(){return!this.credentials||this.credentials.length===0}get hasExpertise(){return this.expertises&&this.expertises.length>0}get needsExpertise(){return!this.hasExpertise}matchesKeyword(t){const{first_name:n,last_name:r,email:i}=this.attributes,s=new RegExp(t,"i");if(n&&n.toLowerCase().match(s)||r&&r.toLowerCase().match(s)||i&&i.toLowerCase().match(s))return!0;if(n&&r){const o=`${n} ${r}`;if(o&&o.toLowerCase().match(s))return!0}return!1}};Ln(Ku,"defaults",{uuid:null,first_name:null,last_name:null,email:null,phone:null,institution_id:null,institution:{},credentials:[],expertises:[],primary_occupation_id:null,primary_occupation:{},profile_photo:null,race_id:null,race:{},race_other:null,ethnicity_id:null,ethnicity:{},ethnicity_other:null,gender_id:null,gender:{},gender_other:null,created_at:null,updated_at:null,deleted_at:null}),Ln(Ku,"dates",["created_at","updated_at","deleted_at"]);let gs=Ku;const Wu=(e,t)=>t?typeof e=="string"?t.map(n=>n.name).includes(e):typeof e=="object"?t.map(n=>n.id).includes(e.id):t.map(n=>n.id).includes(e):!1,LCe=e=>an.appFeatures[n2(e)],Zm=an.groups.roles,BS=e=>{let t=e;if(typeof t=="string"&&(t=Object.values(Zm).find(n=>n.name===e)),typeof t=="number"&&(t=Object.values(Zm).find(n=>n.id===e)),typeof t!="object"||!t||!Object.values(Zm).includes(t)){let n=e;throw typeof e=="object"&&(n=JSON.stringify(e)),new Error(`Role not found for identifier ${n}`)}return t},Xu=class Xu extends mo{constructor(t={}){t instanceof Xu&&(t={...t.attributes,person:t.person.attributes});const n=t.person;delete t.person,super(t),this.person=n?new gs(n):new gs}get latestCoiDate(){return this.attributes.coi_last_completed?this.attributes.coi_last_completed:null}get first_name(){return this.person.first_name}set first_name(t){this.person.first_name=t}get last_name(){return this.person.last_name}set last_name(t){this.person.last_name=t}get email(){return this.person.email}set email(t){this.person.email=t}get isActive(){return this.attributes.end_date===null}get isRetired(){return!this.isActive}get roleIds(){return this.roles.map(t=>t.id)}get roleNames(){return this.roles.map(t=>t.name)}get addedRoles(){const t=this.original.roles;return this.roles.filter(n=>!t.map(r=>r.id).includes(n.id))}get removedRoles(){return this.original.roles.filter(n=>!this.roles.map(r=>r.id).includes(n.id))}get needsCoi(){if(!this.latestCoiDate)return!0;const t=new Date,n=new Date;return n.setFullYear(t.getFullYear()-1),this.latestCoiDate.valueOf()<=n.valueOf()}get hasLegacyExpertise(){return this.legacy_expertise!==null&&typeof this.legacy_expertise<"u"&&this.legacy_expertise!==""}get hasAnyExpertise(){return this.hasLegacyExpertise||this.person.hasExpertise}matchesKeyword(t){if(this.person.matchesKeyword(t))return!0;const n=new RegExp(`.*${t}.*`,"i");return!!(this.attributes.notes&&this.attributes.notes.match(n)||this.attributes.expertise&&this.attributes.expertise.match(n))}addRole(t){this.hasRole(t)||this.roles.push(BS(t))}addRoles(t){t.forEach(n=>this.addRole(n))}removeRole(t){if(this.hasRole(t)){const n=BS(t),r=this.roles.findIndex(i=>i.id===n.id);this.roles.splice(r,1)}}removeRoles(t){t.forEach(n=>this.removeRole(n))}hasRole(t){return Wu(t,this.roles)}hasPermission(t){return this.hasDirectPermission(t)||this.hasPermissionThroughRole(t)}hasDirectPermission(t){return Wu(t,this.attributes.permissions)}hasPermissionThroughRole(t){let n=t;if(typeof n=="object"&&(n=t.id),typeof n=="string"){if(!an.groups.permissions[t])throw new Error(`Can not find permission ${t} in configs`);n=an.groups.permissions[t].id}const r=this.roles.map(i=>i.name.toLowerCase());for(const i in an.groups.rolePermissions)if(r.includes(i)&&an.groups.rolePermissions[i].includes(n))return!0;return!1}coiUpToDate(){if(!this.coi_last_completed)return!1;const t=new Date;return t.setFullYear(t.getFullYear()-1),Date.parse(t)<=this.coi_last_completed}trainingComplete(){return this.attributes.needs_training?!!this.attributes.training_completed_at:!0}clone(){const t=this.person;return new this.constructor({...this.attributes,person:t.attributes})}};Ln(Xu,"dates",["start_date","end_date","coi_last_completed"]),Ln(Xu,"defaults",{person_id:null,group_id:null,start_date:null,end_date:null,v1_contact:!1,roles:[],permissions:[],coi_last_completed:null,coi_needed:null,expertise:null,notes:null,training_level_1:null,training_level_2:null});let io=Xu;const qd={1:"Definition",2:"Draft",3:"Pilot",4:"Sustained Curation"},{submissions:K0e}=an;class fy extends mo{constructor(t={}){const n=t.specifications?[...t.specifications]:[];delete t.specifications;const r=t.genes?[...t.genes]:[];delete t.genes;const i=t.submissions?[...t.submissions]:[];delete t.submissions;const s=t.documents?[...t.documents]:[];delete t.documents;const o=t.next_actions?[...t.next_actions]:[];delete t.next_actions,super(t),this.specfications=n,this.genes=r,this.submissions=i,this.documents=s,this.nextActions=o}get next_actions(){return this.nextActions}get nhgriSigned(){return!!this.attributes.nhgri_attestation_date}set nhgriSigned(t){this.attributes.nhgri_attestation_date=t?new Date:null}get approvedDraftSpecifications(){return[]}get approvedPilotedSpecifications(){return[]}get defIsApproved(){return this.step_1_approval_date!==null}get definitionIsApproved(){return this.step_1_approval_date!==null}get draftSpecificationsIsApproved(){return this.step_2_approval_date!==null}get draftSpecApproved(){return this.step_2_approval_date!==null}get pilotSpecificationsIsApproved(){return this.step_3_approval_date!==null}get pilotSpecApproved(){return this.step_3_approval_date!==null}get sustainedCurationIsApproved(){return this.step_4_approval_date!==null}get pendingSubmission(){return this.submissions.find(t=>t.is_pending)||{}}get hasPendingSubmission(){return this.submissions.filter(t=>t.is_pending).length>0}get hasPendingSubmissionForCurrentStep(){return this.hasPendingSubmission&&this.pendingSubmission.type.name===this.currentStepName}get hasCompletedSubmission(){return this.submissions.filter(t=>t.submission_status_id===K0e.statuses.approved.id&&this.pendingSubmission.type.name===this.currentStepName)}get isCompleted(){return!!this.attributes.date_completed}get steps(){if(this.expert_panel_type_id===1)return[1];if(this.expert_panel_type_id===2||this.expert_panel_type_id===null)return[1,2,3,4];throw new Error("Unknown expert_panel_type_id found when determining applicaiton steps.")}get currentStepName(){switch(this.current_step){case 1:return"Definition";case 2:return"Draft Specifications";case 3:return"Pilot Specifications";case 4:return"Sustained Curation";default:throw new Error("Unknown step ".this.current_step)}}get currentStepAbbr(){switch(this.current_step){case 1:return"Definition";case 2:return"Draft";case 3:return"Pilot";case 4:return"Sustained";default:throw new Error("Unknown step ".this.current_step)}}get pendingNextActions(){return this.next_actions?this.next_actions.filter(t=>t.date_completed===null):[]}get pendingActionsByAssignee(){const t=Object.values(an.nextActions.assignees).map(r=>r.id),n={};for(const r in t){const i=t[r];n[i]=[]}if(!this.next_actions)return n;for(const r in this.pendingNextActions){const i=this.pendingNextActions[r].assigned_to;n[i].push(this.pendingNextActions[r])}return n}get isApplying(){return this.date_completed===null}submissionsForStep(t){const n=typeof t=="number"?qd[t]:t;return this.submissions.filter(r=>r.type.name=n)}hasPendingSubmissionForStep(t){return this.hasPendingSubmission&&this.pendingSubmission.type.name===t}hasPendingSubmissionForStepNumber(t){return this.hasPendingSubmission&&this.pendingSubmission.type.name===qd[t]}latestPendingSubmissionForStep(t){const n=typeof t=="number"?qd[t]:t,r=this.submissions.filter(i=>i.type.name=n);return r.length===0?null:r[r.length-1]}stepHasBeenSubmitted(t){return this.submissions.some(n=>n.type.name===qd[t])}isWaitingOnCdwgOc(){return this.pendingActionsAssigneeCounts.cdwg_oc>0}isWaitingOnExpertPanel(){return this.pendingActionsAssigneeCounts.expert_panel>0}stepIsApproved(t){if(!t)return!1;if(!this.steps.includes(t))throw new Error(`Step ${t} out of bounds`);return!!this[`step_${t}_approval_date`]}approvalDateForStep(t){if(!this.steps.includes(t))throw new Error(`Step ${t} out of bounds`);const n=`step_${t}_approval_date`;return this[n]?new Date(Date.parse(this[n])):null}updateApprovalDate(t,n){if(!this.steps.includes(n))throw new Error(`Step ${n} out of bounds`);const r=`step_${n}_approval_date`;this[r]=t}firstDocumentOfType(t){return this.documents.filter(r=>r.document_type_id===t).sort((r,i)=>r.date_reviewed===i.date_reviewed?r.version>i.version?1:-1:r.date_reviewed>i.date_reviewed?1:-1)[0]||{}}finalDocumentOfType(t){const n=this.documents.filter(r=>r.document_type_id===t).sort((r,i)=>r.date_reviewed===i.date_reviewed?r.version>i.version?1:-1:r.date_reviewed>i.date_reviewed?1:-1);return n[n.length-1]||{}}}Ln(fy,"dates",["date_completed","date_initiated","step_1_received_date","step_1_approval_date","step_2_approval_date","step_3_approval_date","step_4_received_date","step_4_approval_date","created_at","updated_at","deleted_at","gcep_attestation_date","gci_training_date","nhgri_attestation_date","reanalysis_attestation_date"]),Ln(fy,"defaults",{id:null,uuid:null,group_id:null,expert_panel_type_id:null,long_base_name:null,short_base_name:null,affiliation_id:null,current_step:1,date_initiated:null,step_1_received_date:null,step_1_approval_date:null,step_2_approval_date:null,step_3_approval_date:null,step_4_received_date:null,step_4_approval_date:null,date_completed:null,coi_code:null,hypothesis_group:null,membership_description:null,scope_description:null,nhgri_attestation_date:null,curation_review_protocol_id:null,curation_review_protocol_other:null,curation_review_process_notes:null,meeting_frequency:null,reanalysis_conflicting:null,reanalysis_review_lp:null,reanalysis_review_lb:null,reanalysis_other:null,reanalysis_attestation_date:null,utilize_gt:null,utilize_gci:null,curations_publicly_available:null,pub_policy_reviewed:null,biocurator_training:null,biocurator_mailing_list:null,draft_manuscripts:null,gci_training_date:null,gcep_attestation_date:null,recuration_process_review:null,review_protocol:{},type:{},evidence_summaries:[]});const Qu=class Qu extends mo{constructor(t={}){t instanceof Qu&&(t={...t.attributes,members:[t.members.map(s=>s.attributes)],expert_panel:t.expert_panel.attributes});const n=t.members?[...t.members]:[];delete t.members;const r=t.documents?[...t.documents]:[];delete t.documents;const i=t.expert_panel?{...t.expert_panel}:{};delete t.expert_panel,super(t),this.members=[],n&&n.forEach(s=>this.addMember(s)),this.expert_panel=new fy(i),this.documents=r}get coordinators(){return this.findMembersWithRole("coordinator").filter(t=>t.isActive)}get chairs(){return this.findMembersWithRole("chair").filter(t=>t.isActive)}get biocurators(){return this.findMembersWithRole("biocurator").filter(t=>t.isActive)}get trainedBiocurators(){return this.findMembersWithRole("biocurator").filter(t=>t.isActive&&t.training_level_1&&t.training_level_2)}get biocuratorTrainers(){return this.findMembersWithRole("biocurator-trainer").filter(t=>t.isActive)}get coreApprovalMembers(){return this.findMembersWithRole("core-approval-member").filter(t=>t.isActive)}get activeMembers(){return this.members.filter(t=>t.isActive)}get typeName(){return this.expert_panel.type.display_name||this.type.name}get displayName(){return this.expert_panel.display_name||this.name}get displayStatus(){return this.expertPanelLoaded()?this.status.name:this.status.name}get statusColor(){return an.groups.statusColors[this.group_status_id]}get contacts(){return this.members.filter(t=>!!t.is_contact)}get hasContacts(){return this.contacts.length>0}get isApplying(){return this.expert_panel.isApplying}get hasChildren(){return this.children&&this.children.length>0}addMembers(t){t.forEach(n=>{this.addMember(n)})}addMember(t){const n=this.members.findIndex(r=>r&&Number.parseInt(r.id)===Number.parseInt(t.id));if(n>-1){this.members.splice(n,1,new io({...t}));return}this.members.push(new io({...t}))}removeMember(t){const n=this.members.findIndex(r=>Number.parseInt(r.id)===Number.parseInt(t.id));n>-1&&this.members.splice(n,1)}findMember(t){const n=this.members.find(r=>Number.parseInt(r.id)===Number.parseInt(t));if(n)return n;throw new Error(`Member with id ${t} not found in group.`)}findMembersWithRole(t){let n=t;if(typeof t=="object"&&(n=t.id),typeof t=="string"){const r=an.groups.roles[t];if(!r)throw new Error(`No role matching ${t}`);n=r.id}return this.members.filter(r=>r.hasRole(n))}expertPanelLoaded(){return this.isEp()&&this.expert_panel.id}isEp(){return Number.parseInt(this.attributes.group_type_id)===Number.parseInt(an.groups.types.gcep.id)||Number.parseInt(this.attributes.group_type_id)===Number.parseInt(an.groups.types.vcep.id)}isWorkingGroup(){return Number.parseInt(this.attributes.group_type_id)===Number.parseInt(an.groups.types.wg.id)}isWg(){return this.isWorkingGroup()}isCdwg(){return Number.parseInt(this.attributes.group_type_id)===Number.parseInt(an.groups.types.cdwg.id)}documentsOfType(t){return this.documents.filter(n=>n.document_type_id===t)}hasDocumentsOfType(t){return this.documentsOfType(t).length}clone(){const t={...this.attributes,members:[this.members.map(r=>r.attributes)],expert_panel:this.expert_panel.attributes};return super.clone(t)}};Ln(Qu,"dates",["created_at","updated_at","deleted_at"]),Ln(Qu,"defaults",{id:null,uuid:null,name:null,parent_id:null,group_type_id:null,group_status_id:null,type:{},parent:{}});let Ic=Qu;class gf extends mo{constructor(t={}){const{person:n={},memberships:r=[]}=t;delete t.person,delete t.memberships,super(t),this.person=new gs(n),this.memberships=r.map(i=>new io(i))}get rolePermissions(){return this.attributes.roles.map(t=>t.permissions).flat()}get allPermissions(){return[...this.permissions,...this.rolePermissions]}get needsCredentials(){return this.person.needsCredentials}get needsExpertise(){return this.person.needsExpertise}get profileIncomplete(){return!this.person.country_id||!this.person.timezone||!this.person.institution_id}get hasPendingCois(){return this.person.hasPendingCois}hasRole(t,n=null){return Wu(t,this.roles)||this.hasGroupRole(t,n)}hasNoRole(){return this.roles.length===0}hasGroupRole(t,n){if(!n)return!1;const r=this.memberships.find(i=>i.group_id===n.id);return!!(r&&r.hasRole(t))}hasRoleForAnyGroup(t,n){return n.some(r=>this.hasGroupRole(t,r))}hasAnyPermission(t){if(!Array.isArray(t))throw new TypeError(`user.hasAnyArray expected array got ${typeof t}`);return t.map(n=>{let r=n,i=null;return Array.isArray(n)&&(r=n[0],i=n[1]),this.hasDirectPermission(r)||this.hasPermissionThroughRole(r)||this.hasGroupPermission(r,i)}).filter(n=>n).length>0}hasPermission(t,n=null){return this.hasDirectPermission(t)||this.hasPermissionThroughRole(t)||this.hasGroupPermission(t,n)}hasDirectPermission(t){return Wu(t,this.permissions)}hasPermissionThroughRole(t){return Wu(t,this.roles.map(n=>n.permissions).flat())}hasGroupPermission(t,n){if(!n)return!1;let r=this.memberships.find(i=>i.group_id===n.id);return r instanceof io||(r=new io(r)),!!(r&&r.hasPermission(t))}coordinatesPerson(t){return this.hasRoleForAnyGroup("coordinator",t.memberships.map(n=>n.group))}}Ln(gf,"defaults",{id:null,email:null,name:null,roles:[],permissions:[],preferences:[],person:new gs,memberships:[]});class zt{constructor(t,n){this.label=t,this.evaluator=n}isMet(t){return this.evaluator(t)}}const bi=e=>{switch(typeof e){case"undefined":return!0;case"object":return e===null?!0:e.constructor.name==="Date"?!e:Object.keys(e).length===0;case"array":return e.length===0;case"string":return e.trim()==="";default:return!e}},X0e=new zt("Long Base Name",e=>!bi(e.expert_panel.long_base_name)),Q0e=new zt("Short Base Name",e=>!bi(e.expert_panel.short_base_name)),J0e=new zt("1+ Co-chairs",e=>!bi(e.chairs)),Z0e=new zt("1+ Coordinator",e=>!bi(e.coordinators)),ebe=new zt("All members completed COI",e=>bi(e.members.filter(t=>t.isActive&&t.needsCoi))),tbe=new zt("3+ institutions represented",e=>{const t=e.members.filter(n=>!!n.person.institution).map(n=>n.person.institution.id);return new Set(t).size>2}),nbe=new zt("Description of expertise",e=>!bi(e.expert_panel.membership_description)),rbe=new zt("1+ genes in scope",e=>e.expert_panel.genes.length>0),ibe=new zt("Description of scope",e=>!bi(e.expert_panel.scope_description)),sbe=new zt("Plans for sustained curation",e=>!!e.expert_panel.curation_review_protocol_id),obe=new zt("Meeting frequency",e=>!bi(e.expert_panel.meeting_frequency)),abe=new zt("NHGRI Attestation",e=>!bi(e.expert_panel.nhgri_attestation_date)),lbe=new zt("GCEP processes Attestation",e=>!bi(e.expert_panel.gcep_attestation_date)),ube=new zt("Reanalysis & discrepany resolution",e=>!bi(e.expert_panel.reanalysis_attestation_date)),cbe=new zt("5+ Example Evidence Summaries",e=>e.expert_panel.evidence_summaries.length>4),dbe=new zt("1+ Approved piloted, specifications document.",e=>e.expert_panel.approvedDraftSpecifications.length>0),fbe=new zt("1+ Approved piloted, specifications document.",e=>e.expert_panel.approvedPilotedSpecifications.length>0),pbe=new zt("3+ trained biocurators.",e=>e.biocurators.filter(t=>t.training_level_1&&t.training_level_2).length>2),hbe=new zt("1+ biocurator trainers.",e=>e.biocuratorTrainers.length>0),mbe=new zt("1+ core approval members",e=>e.coreApprovalMembers.length>0),gbe=new zt("Expertise information must be provided for each group member",e=>e.members.filter(t=>!t.hasAnyExpertise).length===0),ot={longName:X0e,shortName:Q0e,chairs:J0e,coordinators:Z0e,coisComplete:ebe,institutions:tbe,expertiseDescription:nbe,genes:rbe,scopeDescription:ibe,curationProcess:sbe,meetingFrequency:obe,nhgri:abe,gcepAttestation:lbe,reanalysisAttestation:ube,exampleSummaries:cbe,draftApprovedSpecifications:dbe,pilotedApprovedSpecifications:fbe,minimumBiocurators:pbe,biocuratorTrainers:hbe,coreApprovalMembers:mbe,memberExpertise:gbe};class XE{get hasRequirements(){return this.requirements.length>0}evaluateRequirements(t){return this.requirements.map(n=>({label:n.label,isMet:n.isMet(t)}))}meetsRequirements(t){return this.requirements.every(n=>n.isMet(t))}metRequirements(t){return this.requirements.filter(n=>n.isMet(t))}unmetRequirements(t){return this.requirements.filter(n=>!n.isMet(t))}}let bbe=class extends XE{constructor(t,n,r,i){super(),this.name=t,this.title=n,this.requirements=r,this.components=i}};class ybe extends XE{constructor(t,n,r,i,s){super(),this.name=t,this.sections=n,this.title=r,this.completeFunction=i,this.disabledFunction=s,this.sections.forEach(o=>{Object.defineProperty(this,o.name,{get:()=>this.sections.find(a=>a.name===o.name)})})}get requirements(){return this.sections.map(t=>t.requirements).flat()}isComplete(t){return this.completeFunction?this.completeFunction(t):!1}isDisabled(t){return this.disabledFunction?this.disabledFunction(t):!1}}class _be extends XE{constructor(t){super(),this.steps=t,this.steps.forEach(n=>{Object.defineProperty(this,n.name,{get:()=>this.steps.find(r=>r.name===n.name)})})}get sections(){return this.steps.map(t=>t.sections).flat()}get requirements(){return this.sections.map(t=>t.requirements).flat()}getStep(t){if(Number.isNaN(Number.parseInt(t))){const n=this.steps.find(r=>r.name===t);if(!n)throw new Error(`Step with name ${t} not found.`);return n}return this.steps[t-1]}getSection(t){return this.sections.find(n=>n.name===t)}getCurrentStep(t){return this.getStep(t.expert_panel.current_step)}}const jL=e=>{const t=Object.keys(e.steps).map(n=>{const r=e.steps[n],i=Object.keys(r.sections).map(s=>{const o=r.sections[s];return new bbe(s,o.name,o.requirements,o.components)});return new ybe(n,i,r.name,r.completed,r.disabled)});return new _be(t)},Ebe=jL({steps:{definition:{name:"Group Definition",sections:{basicInfo:{name:"Basic Information",requirements:[ot.longName,ot.shortName]},membership:{name:"Membership",requirements:[ot.chairs,ot.coordinators,ot.coisComplete,ot.institutions,ot.expertiseDescription,ot.memberExpertise]},scope:{name:"Scope of Work",requirements:[ot.genes,ot.scopeDescription]},reanalysis:{name:"Reanalysis & Discrepency Resolution",requirements:[ot.reanalysisAttestation]},nhgri:{name:"NHGRI Data Availability",requirements:[ot.nhgri]}},completed:e=>e.expert_panel.defIsApproved,disabled:()=>!1},"draft-specifications":{name:"Draft Specifications",sections:{draftSpecs:{name:"Draft Specfications",title:null,requirements:[ot.draftApprovedSpecifications]}},completed:e=>e.expert_panel.draftSpecificationsIsApproved,disabled:e=>!e.expert_panel.defIsApproved},"pilot-specifications":{name:"Specifications Pilot",sections:{pilotSpecs:{name:"Pilot Specifications",requirements:[ot.pilotedApprovedSpecifications]}},completed:e=>e.expert_panel.pilotSpecificationsIsApproved,disabled:e=>!e.expert_panel.draftSpecificationsIsApproved},"sustained-curation":{name:"Sustained Curation",sections:{curationReviewProcess:{name:"Curation and Review Process",requirements:[ot.meetingFrequency,ot.curationProcess]},evidenceSummaries:{name:"Example Evidence Summaries",requirements:[ot.exampleSummaries]},designations:{name:"Member Designation",requirements:[ot.minimumBiocurators,ot.biocuratorTrainers,ot.coreApprovalMembers]}},completed:e=>e.expert_panel.sustainedCurationIsApproved,disabled:e=>!e.expert_panel.pilotSpecificationsIsApproved}}}),vbe=jL({steps:{definition:{title:"Group Definition",sections:{basicInfo:{name:"Basic Information",requirements:[ot.longName,ot.shortName]},membership:{name:"Membership",requirements:[ot.chairs,ot.coisComplete,ot.coordinators,ot.institutions,ot.memberExpertise]},scope:{name:"Scope of Work",requirements:[ot.genes,ot.scopeDescription]},attestations:{name:"Attestations",requirements:[ot.gcepAttestation]},curationReviewProcess:{name:"Curation and Review Process",requirements:[ot.curationProcess]},nhgri:{name:"NHGRI Data Availability",requirements:[ot.nhgri]}}}}}),Tbe=e=>e.is_vcep_or_scvcep?Ebe:vbe,wbe={name:"ApplicationSection",components:{RequirementsBadge:Y0e},props:{title:{type:String,required:!1},id:{type:String,required:!1}},computed:{group:{get(){return this.$store.getters["groups/currentItemOrNew"]}},application(){return Tbe(this.group)},section(){return this.application.getSection(this.id)}}},xbe=["id"],Cbe={class:"application-section"},Sbe={class:"mb-2 flex justify-between"};function Abe(e,t,n,r,i,s){const o=Y("RequirementsBadge");return x(),L("div",{id:n.id,class:"section-wrapper"},[S("div",Cbe,[S("header",Sbe,[Ae(e.$slots,"title",{},()=>[S("h2",null,le(n.title),1)],!0),n.id?(x(),fe(o,{key:0,section:s.section,group:s.group},null,8,["section","group"])):Oe("",!0)]),S("div",null,[Ae(e.$slots,"default",{},void 0,!0)])])],8,xbe)}const Obe=ne(wbe,[["render",Abe],["__scopeId","data-v-56d1f9da"]]),kbe={name:"WebsiteAttestation",components:{ApplicationSection:Obe},props:{...cs.props,errors:{type:Object,required:!0}},emits:[...cs.emits],setup(e,t){const{workingCopy:n}=cs.setup(e,t);return{workingCopy:n}},computed:{isComplete(){return!!this.modelValue.completed_at}}};function Ibe(e,t,n,r,i,s){const o=Y("coordinator-resource-link"),a=Y("checkbox"),l=Y("input-row"),u=Y("ApplicationSection");return x(),fe(u,{title:"Webpage Updates"},{default:V(()=>[z(l,{errors:n.errors.website_attestation,vertical:""},{label:V(()=>[S("p",null,[t[1]||(t[1]=we(" Please review your ClinGen EP webpage, including description, membership, and relevant documentation, including publications. See the ")),z(o),t[2]||(t[2]=we(" for instructions on how to update web pages. "))])]),default:V(()=>[z(a,{modelValue:r.workingCopy.data.website_attestation,"onUpdate:modelValue":t[0]||(t[0]=c=>r.workingCopy.data.website_attestation=c),label:"I attest that the information on the webpage is up-to-date and accurate.",disabled:s.isComplete},null,8,["modelValue","disabled"])]),_:1},8,["errors"])]),_:1})}const Nbe=ne(kbe,[["render",Ibe]]),Rbe=Object.freeze(Object.defineProperty({__proto__:null,default:Nbe},Symbol.toStringTag,{value:"Module"})),Dbe={props:{},data(){return{}},computed:{},methods:{}},Mbe={class:"btn btn-xs"};function Pbe(e,t,n,r,i,s){const o=Y("icon-checkmark");return x(),L("button",Mbe,[z(o,{width:"12",height:"16"})])}const Lbe=ne(Dbe,[["render",Pbe]]),Bbe=Object.freeze(Object.defineProperty({__proto__:null,default:Lbe},Symbol.toStringTag,{value:"Module"})),Fbe={props:{},data(){return{}},computed:{},methods:{}},$be={class:"btn btn-xs"};function Ube(e,t,n,r,i,s){const o=Y("icon-edit");return x(),L("button",$be,[z(o,{width:"12",height:"16"})])}const Hbe=ne(Fbe,[["render",Ube]]),zbe=Object.freeze(Object.defineProperty({__proto__:null,default:Hbe},Symbol.toStringTag,{value:"Module"})),jbe={name:"ComponentName",props:{loading:{type:Boolean,default:!1}},emits:["click"]};function qbe(e,t,n,r,i,s){const o=Y("icon-refresh");return x(),L("button",{class:"btn btn-icon-sm",onClick:t[0]||(t[0]=a=>e.$emit("click"))},[z(o,{class:nt({rotate:n.loading}),width:"16",height:"16"},null,8,["class"])])}const Vbe=ne(jbe,[["render",qbe]]),Wbe=Object.freeze(Object.defineProperty({__proto__:null,default:Vbe},Symbol.toStringTag,{value:"Module"})),Gbe={props:{size:{required:!1,default:"md"}},data(){return{}},computed:{dimension(){return this.size==="xs"?8:this.size==="sm"?10:this.size==="md"?12:this.size==="lg"?14:this.size==="xl"?18:10}},methods:{}};function Ybe(e,t,n,r,i,s){const o=Y("icon-close");return x(),L("button",{class:"btn-delete",onClick:t[0]||(t[0]=(...a)=>e.confirmRemove&&e.confirmRemove(...a))},[z(o,{height:s.dimension,width:s.dimension},null,8,["height","width"])])}const Kbe=ne(Gbe,[["render",Ybe]]),Xbe=Object.freeze(Object.defineProperty({__proto__:null,default:Kbe},Symbol.toStringTag,{value:"Module"})),Qbe={props:{},data(){return{}},computed:{},methods:{}},Jbe={class:"btn btn-xs"};function Zbe(e,t,n,r,i,s){const o=Y("icon-trash");return x(),L("button",Jbe,[z(o,{width:"12",height:"16"})])}const e1e=ne(Qbe,[["render",Zbe]]),t1e=Object.freeze(Object.defineProperty({__proto__:null,default:e1e},Symbol.toStringTag,{value:"Module"})),n1e={name:"IconBug",props:{},data(){return{}},computed:{},methods:{}};function r1e(e,t,n,r,i,s){const o=Y("icon-base");return x(),fe(o,null,{default:V(()=>t[0]||(t[0]=[S("path",{d:"M11 9V5H9v4H5v2h4v4h2v-4h4V9h-4zm-1 11a10 10 0 1 1 0-20 10 10 0 0 1 0 20z"},null,-1)])),_:1})}const i1e=ne(n1e,[["render",r1e]]),s1e=Object.freeze(Object.defineProperty({__proto__:null,default:i1e},Symbol.toStringTag,{value:"Module"})),o1e={name:"IconBug",props:{},data(){return{}},computed:{},methods:{}};function a1e(e,t,n,r,i,s){const o=Y("icon-base");return x(),fe(o,null,{default:V(()=>t[0]||(t[0]=[S("path",{d:"M7 10V2h6v8h5l-8 8-8-8h5z"},null,-1)])),_:1})}const l1e=ne(o1e,[["render",a1e]]),u1e=Object.freeze(Object.defineProperty({__proto__:null,default:l1e},Symbol.toStringTag,{value:"Module"})),c1e={name:"IconBug",props:{},data(){return{}},computed:{},methods:{}};function d1e(e,t,n,r,i,s){const o=Y("icon-base");return x(),fe(o,null,{default:V(()=>t[0]||(t[0]=[S("path",{d:"M10 7H2v6h8v5l8-8-8-8v5z"},null,-1)])),_:1})}const f1e=ne(c1e,[["render",d1e]]),p1e=Object.freeze(Object.defineProperty({__proto__:null,default:f1e},Symbol.toStringTag,{value:"Module"})),h1e={props:{iconName:{type:String,default:"box"},width:{type:[Number,String],default:18},height:{type:[Number,String],default:18},iconColor:{type:String,default:"currentColor"}},computed:{calcHeight(){return this.height},calcWidth(){return this.width}}},m1e=["width","height","aria-labelledby"],g1e=["id"],b1e=["fill"];function y1e(e,t,n,r,i,s){return x(),L("svg",{xmlns:"http://www.w3.org/2000/svg",width:s.calcWidth,height:s.calcHeight,viewBox:"0 0 20 20","aria-labelledby":n.iconName,role:"presentation"},[S("title",{id:n.iconName,lang:"en"},le(n.iconName),9,g1e),S("g",{fill:n.iconColor},[Ae(e.$slots,"default",{},()=>[t[0]||(t[0]=S("path",{d:"M11.5 11H10V7.5a.5.5 0 0 0-.5-.5h-3a.5.5 0 0 0-.5.5v1a.5.5 0 0 0 .5.5H8v2H6.5a.5.5 0 0 0-.5.5v1a.5.5 0 0 0 .5.5h5a.5.5 0 0 0 .5-.5v-1a.5.5 0 0 0-.5-.5zM16 1H2a1 1 0 0 0-1 1v14a1 1 0 0 0 1 1h14a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1zm-1 13.5a.5.5 0 0 1-.5.5h-11a.5.5 0 0 1-.5-.5v-9a.5.5 0 0 1 .5-.5h11a.5.5 0 0 1 .5.5v9z"},null,-1))])],8,b1e)],8,m1e)}const _1e=ne(h1e,[["render",y1e]]),E1e=Object.freeze(Object.defineProperty({__proto__:null,default:_1e},Symbol.toStringTag,{value:"Module"})),v1e={name:"IconBug",props:{},data(){return{}},computed:{},methods:{}};function T1e(e,t,n,r,i,s){const o=Y("icon-base");return x(),fe(o,null,{default:V(()=>t[0]||(t[0]=[S("path",{d:"M15.3 14.89l2.77 2.77a1 1 0 0 1 0 1.41 1 1 0 0 1-1.41 0l-2.59-2.58A5.99 5.99 0 0 1 11 18V9.04a1 1 0 0 0-2 0V18a5.98 5.98 0 0 1-3.07-1.51l-2.59 2.58a1 1 0 0 1-1.41 0 1 1 0 0 1 0-1.41l2.77-2.77A5.95 5.95 0 0 1 4.07 13H1a1 1 0 1 1 0-2h3V8.41L.93 5.34a1 1 0 0 1 0-1.41 1 1 0 0 1 1.41 0l2.1 2.1h11.12l2.1-2.1a1 1 0 0 1 1.41 0 1 1 0 0 1 0 1.41L16 8.41V11h3a1 1 0 1 1 0 2h-3.07c-.1.67-.32 1.31-.63 1.89zM15 5H5a5 5 0 1 1 10 0z"},null,-1)])),_:1})}const w1e=ne(v1e,[["render",T1e]]),x1e=Object.freeze(Object.defineProperty({__proto__:null,default:w1e},Symbol.toStringTag,{value:"Module"})),C1e={props:{title:{required:!1,type:String}}};function S1e(e,t,n,r,i,s){const o=Y("icon-base");return x(),fe(o,{"icon-name":n.title||"checkmark icon"},{default:V(()=>t[0]||(t[0]=[S("path",{d:"M0 11l2-2 5 5L18 3l2 2L7 18z"},null,-1)])),_:1},8,["icon-name"])}const A1e=ne(C1e,[["render",S1e]]),O1e=Object.freeze(Object.defineProperty({__proto__:null,default:A1e},Symbol.toStringTag,{value:"Module"})),k1e={};function I1e(e,t,n,r,i,s){const o=Y("icon-base");return x(),fe(o,{name:"cheveron-down"},{default:V(()=>t[0]||(t[0]=[S("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"},null,-1)])),_:1})}const N1e=ne(k1e,[["render",I1e]]),R1e=Object.freeze(Object.defineProperty({__proto__:null,default:N1e},Symbol.toStringTag,{value:"Module"})),D1e={};function M1e(e,t,n,r,i,s){const o=Y("icon-base");return x(),fe(o,{name:"cheveron-left"},{default:V(()=>t[0]||(t[0]=[S("path",{d:"M7.05 9.293L6.343 10 12 15.657l1.414-1.414L9.172 10l4.242-4.243L12 4.343z"},null,-1)])),_:1})}const P1e=ne(D1e,[["render",M1e]]),L1e=Object.freeze(Object.defineProperty({__proto__:null,default:P1e},Symbol.toStringTag,{value:"Module"})),B1e={};function F1e(e,t,n,r,i,s){const o=Y("icon-base");return x(),fe(o,{name:"cheveron-down"},{default:V(()=>t[0]||(t[0]=[S("path",{d:"M12.95 10.707l.707-.707L8 4.343 6.586 5.757 10.828 10l-4.242 4.243L8 15.657l4.95-4.95z"},null,-1)])),_:1})}const $1e=ne(B1e,[["render",F1e]]),U1e=Object.freeze(Object.defineProperty({__proto__:null,default:$1e},Symbol.toStringTag,{value:"Module"})),H1e={};function z1e(e,t,n,r,i,s){const o=Y("icon-base");return x(),fe(o,{name:"cheveron-down"},{default:V(()=>t[0]||(t[0]=[S("path",{d:"M10.707 7.05L10 6.343 4.343 12l1.414 1.414L10 9.172l4.243 4.242L15.657 12z"},null,-1)])),_:1})}const j1e=ne(H1e,[["render",z1e]]),q1e=Object.freeze(Object.defineProperty({__proto__:null,default:j1e},Symbol.toStringTag,{value:"Module"})),V1e={};function W1e(e,t,n,r,i,s){const o=Y("icon-base");return x(),fe(o,null,{default:V(()=>t[0]||(t[0]=[S("g",null,[S("path",{d:"M10 8.586L2.929 1.515 1.515 2.929 8.586 10l-7.071 7.071 1.414 1.414L10 11.414l7.071 7.071 1.414-1.414L11.414 10l7.071-7.071-1.414-1.414L10 8.586z"})],-1)])),_:1})}const G1e=ne(V1e,[["render",W1e]]),Y1e=Object.freeze(Object.defineProperty({__proto__:null,default:G1e},Symbol.toStringTag,{value:"Module"})),K1e={};function X1e(e,t,n,r,i,s){const o=Y("icon-base");return x(),fe(o,null,{default:V(()=>t[0]||(t[0]=[S("g",null,[S("g",{id:"Canvas_1_Layer_1"},[S("g",{id:"bolt"},[S("path",{d:"M 10.7 9 L 12.3 0.3 L 7.8 13.1 L 10.1 11.6 L 8.2 20.3 L 12.6 7.8 Z"})]),S("g",{id:"left"},[S("path",{d:"M 3 8.6 L -0.7 8.6 L -0.7 12.8 L 3 12.8 L 3 16.3 L 7.7 10.5 L 3 5.1 Z"})]),S("g",{id:"right"},[S("path",{d:"M 17.6 12.8 L 21.3 12.8 L 21.3 8.6 L 17.6 8.6 L 17.6 5.1 L 12.9 10.8 L 17.6 16.3 Z"})])])],-1)])),_:1})}const Q1e=ne(K1e,[["render",X1e]]),J1e=Object.freeze(Object.defineProperty({__proto__:null,default:Q1e},Symbol.toStringTag,{value:"Module"})),Z1e={};function eye(e,t,n,r,i,s){const o=Y("icon-base");return x(),fe(o,null,{default:V(()=>t[0]||(t[0]=[S("g",null,[S("path",{d:"M13 8V2H7v6H2l8 8 8-8h-5zM0 18h20v2H0v-2z"})],-1)])),_:1})}const tye=ne(Z1e,[["render",eye]]),nye=Object.freeze(Object.defineProperty({__proto__:null,default:tye},Symbol.toStringTag,{value:"Module"})),rye={};function iye(e,t,n,r,i,s){const o=Y("icon-base");return x(),fe(o,{"icon-name":"Edit"},{default:V(()=>t[0]||(t[0]=[S("g",null,[S("path",{d:"M12.3 3.7l4 4L4 20H0v-4L12.3 3.7zm1.4-1.4L16 0l4 4-2.3 2.3-4-4z"})],-1)])),_:1})}const sye=ne(rye,[["render",iye]]),oye=Object.freeze(Object.defineProperty({__proto__:null,default:sye},Symbol.toStringTag,{value:"Module"})),aye={name:"EnvelopeIcon"};function lye(e,t,n,r,i,s){const o=Y("icon-base");return x(),fe(o,{"icon-name":"Envelope"},{default:V(()=>t[0]||(t[0]=[S("g",null,[S("path",{d:"M18 2a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V4c0-1.1.9-2 2-2h16zm-4.37 9.1L20 16v-2l-5.12-3.9L20 6V4l-10 8L0 4v2l5.12 4.1L0 14v2l6.37-4.9L10 14l3.63-2.9z"})],-1)])),_:1})}const uye=ne(aye,[["render",lye]]),cye=Object.freeze(Object.defineProperty({__proto__:null,default:uye},Symbol.toStringTag,{value:"Module"})),dye={props:{title:{required:!1,type:String},outline:{required:!1,type:Boolean,default:!1}}},fye={key:0,d:"M2.93 17.07A10 10 0 1 1 17.07 2.93 10 10 0 0 1 2.93 17.07zM9 5v6h2V5H9zm0 8v2h2v-2H9z"},pye={key:1,d:"M2.93 17.07A10 10 0 1 1 17.07 2.93 10 10 0 0 1 2.93 17.07zm12.73-1.41A8 8 0 1 0 4.34 4.34a8 8 0 0 0 11.32 11.32zM9 5h2v6H9V5zm0 8h2v2H9v-2z"};function hye(e,t,n,r,i,s){const o=Y("icon-base");return x(),fe(o,{"icon-name":n.title||"checkmark icon"},{default:V(()=>[n.outline?(x(),L("path",pye)):(x(),L("path",fye))]),_:1},8,["icon-name"])}const mye=ne(dye,[["render",hye]]),gye=Object.freeze(Object.defineProperty({__proto__:null,default:mye},Symbol.toStringTag,{value:"Module"})),bye={name:"IconExternalLink"};function yye(e,t,n,r,i,s){const o=Y("icon-base");return x(),fe(o,{"icon-name":"external-link"},{default:V(()=>t[0]||(t[0]=[S("path",{d:`M185.818,2.161h-57.04c-4.971,0-9,4.029-9,9s4.029,9,9,9h35.312l-86.3,86.3c-3.515,3.515-3.515,9.213,0,12.728
		c1.758,1.757,4.061,2.636,6.364,2.636s4.606-0.879,6.364-2.636l86.3-86.3v35.313c0,4.971,4.029,9,9,9s9-4.029,9-9v-57.04
		C194.818,6.19,190.789,2.161,185.818,2.161z`},null,-1),S("path",{d:`M149,77.201c-4.971,0-9,4.029-9,9v88.456H18v-122h93.778c4.971,0,9-4.029,9-9s-4.029-9-9-9H9c-4.971,0-9,4.029-9,9v140
		c0,4.971,4.029,9,9,9h140c4.971,0,9-4.029,9-9V86.201C158,81.23,153.971,77.201,149,77.201z`},null,-1)])),_:1})}const _ye=ne(bye,[["render",yye]]),Eye=Object.freeze(Object.defineProperty({__proto__:null,default:_ye},Symbol.toStringTag,{value:"Module"})),vye={props:{title:{required:!1,type:String}}};function Tye(e,t,n,r,i,s){const o=Y("icon-base");return x(),fe(o,{"icon-name":n.title||"filter"},{default:V(()=>t[0]||(t[0]=[S("path",{d:"M12 12l8-8V0H0v4l8 8v8l4-4v-4z"},null,-1)])),_:1},8,["icon-name"])}const wye=ne(vye,[["render",Tye]]),xye=Object.freeze(Object.defineProperty({__proto__:null,default:wye},Symbol.toStringTag,{value:"Module"})),Cye={name:"IconInfo"};function Sye(e,t,n,r,i,s){const o=Y("icon-base");return x(),fe(o,{"icon-name":"Info"},{default:V(()=>t[0]||(t[0]=[S("path",{d:"M2.93 17.07A10 10 0 1 1 17.07 2.93 10 10 0 0 1 2.93 17.07zM9 11v4h2V9H9v2zm0-6v2h2V5H9z"},null,-1)])),_:1})}const Aye=ne(Cye,[["render",Sye]]),Oye=Object.freeze(Object.defineProperty({__proto__:null,default:Aye},Symbol.toStringTag,{value:"Module"})),kye={name:"IconLock",props:{iconName:{required:!1,default:"lock"}},data(){return{}},computed:{},methods:{}};function Iye(e,t,n,r,i,s){const o=Y("icon-base");return x(),fe(o,{"icon-name":"iconName"},{default:V(()=>t[0]||(t[0]=[S("path",{d:"M4 8V6a6 6 0 1 1 12 0v2h1a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2v-8c0-1.1.9-2 2-2h1zm5 6.73V17h2v-2.27a2 2 0 1 0-2 0zM7 6v2h6V6a3 3 0 0 0-6 0z"},null,-1)])),_:1})}const Nye=ne(kye,[["render",Iye]]),Rye=Object.freeze(Object.defineProperty({__proto__:null,default:Nye},Symbol.toStringTag,{value:"Module"})),Dye={};function Mye(e,t,n,r,i,s){const o=Y("icon-base");return x(),fe(o,null,{default:V(()=>t[0]||(t[0]=[S("g",null,[S("path",{d:"M0 3h20v2H0V3zm0 6h20v2H0V9zm0 6h20v2H0v-2z"})],-1)])),_:1})}const Pye=ne(Dye,[["render",Mye]]),Lye=Object.freeze(Object.defineProperty({__proto__:null,default:Pye},Symbol.toStringTag,{value:"Module"})),Bye={name:"NotificationIcon",props:{iconName:{type:String,required:!1,default:"Notification"}}};function Fye(e,t,n,r,i,s){const o=Y("icon-base");return x(),fe(o,{"icon-name":n.iconName},{default:V(()=>t[0]||(t[0]=[S("g",null,[S("path",{d:"M4 8a6 6 0 0 1 4.03-5.67 2 2 0 1 1 3.95 0A6 6 0 0 1 16 8v6l3 2v1H1v-1l3-2V8zm8 10a2 2 0 1 1-4 0h4z"})],-1)])),_:1},8,["icon-name"])}const $ye=ne(Bye,[["render",Fye]]),Uye=Object.freeze(Object.defineProperty({__proto__:null,default:$ye},Symbol.toStringTag,{value:"Module"})),Hye={name:"IconBug",props:{},data(){return{}},computed:{},methods:{}};function zye(e,t,n,r,i,s){const o=Y("icon-base");return x(),fe(o,null,{default:V(()=>t[0]||(t[0]=[S("path",{d:"M4 16H0V6h20v10h-4v4H4v-4zm2-4v6h8v-6H6zM4 0h12v5H4V0zM2 8v2h2V8H2zm4 0v2h2V8H6z"},null,-1)])),_:1})}const jye=ne(Hye,[["render",zye]]),qye=Object.freeze(Object.defineProperty({__proto__:null,default:jye},Symbol.toStringTag,{value:"Module"})),Vye={name:"IconBug",props:{},data(){return{}},computed:{},methods:{}};function Wye(e,t,n,r,i,s){const o=Y("icon-base");return x(),fe(o,null,{default:V(()=>t[0]||(t[0]=[S("path",{d:"M10 20a10 10 0 1 1 0-20 10 10 0 0 1 0 20zm2-13c0 .28-.21.8-.42 1L10 9.58c-.57.58-1 1.6-1 2.42v1h2v-1c0-.29.21-.8.42-1L13 9.42c.57-.58 1-1.6 1-2.42a4 4 0 1 0-8 0h2a2 2 0 1 1 4 0zm-3 8v2h2v-2H9z"},null,-1)])),_:1})}const Gye=ne(Vye,[["render",Wye]]),Yye=Object.freeze(Object.defineProperty({__proto__:null,default:Gye},Symbol.toStringTag,{value:"Module"})),Kye={props:{},data(){return{}},computed:{},methods:{}};function Xye(e,t,n,r,i,s){const o=Y("icon-base");return x(),fe(o,null,{default:V(()=>t[0]||(t[0]=[S("g",null,[S("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[S("path",{d:"M10 3v2a5 5 0 0 0-3.54 8.54l-1.41 1.41A7 7 0 0 1 10 3zm4.95 2.05A7 7 0 0 1 10 17v-2a5 5 0 0 0 3.54-8.54l1.41-1.41zM10 20l-4-4 4-4v8zm0-12V0l4 4-4 4z"})])],-1)])),_:1})}const Qye=ne(Kye,[["render",Xye]]),Jye=Object.freeze(Object.defineProperty({__proto__:null,default:Qye},Symbol.toStringTag,{value:"Module"})),Zye={name:"IconReply",props:{},data(){return{}},computed:{},methods:{}};function e_e(e,t,n,r,i,s){const o=Y("icon-base");return x(),fe(o,null,{default:V(()=>t[0]||(t[0]=[S("path",{d:"M15 17v-2.99A4 4 0 0 0 11 10H8v5L2 9l6-6v5h3a6 6 0 0 1 6 6v3h-2z"},null,-1)])),_:1})}const t_e=ne(Zye,[["render",e_e]]),n_e=Object.freeze(Object.defineProperty({__proto__:null,default:t_e},Symbol.toStringTag,{value:"Module"})),r_e={};function i_e(e,t,n,r,i,s){const o=Y("icon-base");return x(),fe(o,null,{default:V(()=>t[0]||(t[0]=[S("g",null,[S("g",{id:"document"},[S("path",{d:"M 4 18 h 12 V 6 h -4 V 2 H 4 v 16 z m -2 1 V 0 h 12 l 4 4 v 16 H 2 v -1 z"})]),S("g",{id:"magnifier"},[S("path",{transform:"matrix(0.6,0,0,0.6,5.1,4.2)",d:"M 12.1 16.9 C 8.8 19.5 4 19.1 1.2 15.9 C -1.6 12.8 -1.5 8 1.5 5 C 4.5 2 9.3 1.8 12.5 4.6 C 15.7 7.4 16.1 12.2 13.5 15.5 l 5.3 5.3 l -1.4 1.4 l -5.3 -5.3 z M 7.2 16.6 C 10.5 16.6 13.2 14 13.2 10.6 C 13.2 7.3 10.5 4.6 7.2 4.6 C 3.9 4.6 1.2 7.3 1.2 10.6 C 1.2 14 3.9 16.6 7.2 16.6 z"})])],-1)])),_:1})}const s_e=ne(r_e,[["render",i_e]]),o_e=Object.freeze(Object.defineProperty({__proto__:null,default:s_e},Symbol.toStringTag,{value:"Module"})),a_e={props:{},data(){return{}},computed:{},methods:{}};function l_e(e,t,n,r,i,s){const o=Y("icon-base");return x(),fe(o,null,{default:V(()=>t[0]||(t[0]=[S("g",null,[S("path",{d:"M12.9 14.32a8 8 0 1 1 1.41-1.41l5.35 5.33-1.42 1.42-5.33-5.34zM8 14A6 6 0 1 0 8 2a6 6 0 0 0 0 12z"})],-1)])),_:1})}const u_e=ne(a_e,[["render",l_e]]),c_e=Object.freeze(Object.defineProperty({__proto__:null,default:u_e},Symbol.toStringTag,{value:"Module"})),d_e={};function f_e(e,t,n,r,i,s){const o=Y("icon-base");return x(),fe(o,null,{default:V(()=>t[0]||(t[0]=[S("g",null,[S("path",{d:"M6 2l2-2h4l2 2h4v2H2V2h4zM3 6h14l-1 14H4L3 6zm5 2v10h1V8H8zm3 0v10h1V8h-1z"})],-1)])),_:1})}const p_e=ne(d_e,[["render",f_e]]),h_e=Object.freeze(Object.defineProperty({__proto__:null,default:p_e},Symbol.toStringTag,{value:"Module"})),m_e={name:"IconUser"};function g_e(e,t,n,r,i,s){const o=Y("icon-base");return x(),fe(o,null,{default:V(()=>t[0]||(t[0]=[S("g",null,[S("path",{d:"M5 5a5 5 0 0 1 10 0v2A5 5 0 0 1 5 7V5zM0 16.68A19.9 19.9 0 0 1 10 14c3.64 0 7.06.97 10 2.68V20H0v-3.32z"})],-1)])),_:1})}const b_e=ne(m_e,[["render",g_e]]),y_e=Object.freeze(Object.defineProperty({__proto__:null,default:b_e},Symbol.toStringTag,{value:"Module"})),__e={name:"IconView"};function E_e(e,t,n,r,i,s){const o=Y("icon-base");return x(),fe(o,null,{default:V(()=>t[0]||(t[0]=[S("path",{d:"M.2 10a11 11 0 0 1 19.6 0A11 11 0 0 1 .2 10zm9.8 4a4 4 0 1 0 0-8 4 4 0 0 0 0 8zm0-2a2 2 0 1 1 0-4 2 2 0 0 1 0 4z"},null,-1)])),_:1})}const v_e=ne(__e,[["render",E_e]]),T_e=Object.freeze(Object.defineProperty({__proto__:null,default:v_e},Symbol.toStringTag,{value:"Module"})),w_e={name:"IconBug",props:{},data(){return{}},computed:{},methods:{}};function x_e(e,t,n,r,i,s){const o=Y("icon-base");return x(),fe(o,null,{default:V(()=>t[0]||(t[0]=[S("path",{d:"M12.81 4.36l-1.77 1.78a4 4 0 0 0-4.9 4.9l-2.76 2.75C2.06 12.79.96 11.49.2 10a11 11 0 0 1 12.6-5.64zm3.8 1.85c1.33 1 2.43 2.3 3.2 3.79a11 11 0 0 1-12.62 5.64l1.77-1.78a4 4 0 0 0 4.9-4.9l2.76-2.75zm-.25-3.99l1.42 1.42L3.64 17.78l-1.42-1.42L16.36 2.22z"},null,-1)])),_:1})}const C_e=ne(w_e,[["render",x_e]]),S_e=Object.freeze(Object.defineProperty({__proto__:null,default:C_e},Symbol.toStringTag,{value:"Module"})),A_e={name:"IconBug",props:{},data(){return{}},computed:{},methods:{}};function O_e(e,t,n,r,i,s){const o=Y("icon-base");return x(),fe(o,null,{default:V(()=>t[0]||(t[0]=[S("path",{"fill-rule":"evenodd",d:"M12.9 14.32a8 8 0 1 1 1.41-1.41l5.35 5.33-1.42 1.42-5.33-5.34zM8 14A6 6 0 1 0 8 2a6 6 0 0 0 0 12zM7 7V5h2v2h2v2H9v2H7V9H5V7h2z"},null,-1)])),_:1})}const k_e=ne(A_e,[["render",O_e]]),I_e=Object.freeze(Object.defineProperty({__proto__:null,default:k_e},Symbol.toStringTag,{value:"Module"})),N_e={name:"IconBug",props:{},data(){return{}},computed:{},methods:{}};function R_e(e,t,n,r,i,s){const o=Y("icon-base");return x(),fe(o,null,{default:V(()=>t[0]||(t[0]=[S("path",{"fill-rule":"evenodd",d:"M12.9 14.32a8 8 0 1 1 1.41-1.41l5.35 5.33-1.42 1.42-5.33-5.34zM8 14A6 6 0 1 0 8 2a6 6 0 0 0 0 12zM5 7h6v2H5V7z"},null,-1)])),_:1})}const D_e=ne(N_e,[["render",R_e]]),M_e=Object.freeze(Object.defineProperty({__proto__:null,default:D_e},Symbol.toStringTag,{value:"Module"})),P_e={name:"CoiPolicyLink"},L_e={href:"https://www.clinicalgenome.org/docs/clingen-expert-panel-conflict-of-interest-policy/",target:"coi-policy"};function B_e(e,t,n,r,i,s){return x(),L("a",L_e,[Ae(e.$slots,"default",{},()=>[t[0]||(t[0]=we("Expert Panel Conflict of Interest Policy"))])])}const F_e=ne(P_e,[["render",B_e]]),$_e=Object.freeze(Object.defineProperty({__proto__:null,default:F_e},Symbol.toStringTag,{value:"Module"})),U_e={name:"CoordinatorResourceDocument"},H_e={href:"https://docs.google.com/document/d/1GeyR1CBqlzLHOdlPLJt0uA29Z-2ysmTX1dtH9PDmqRo/edit?usp=sharing",target:"coordinator-resource"};function z_e(e,t,n,r,i,s){return x(),L("a",H_e,[Ae(e.$slots,"default",{},()=>[t[0]||(t[0]=we("Coordinator Resource Document"))])])}const j_e=ne(U_e,[["render",z_e]]),q_e=Object.freeze(Object.defineProperty({__proto__:null,default:j_e},Symbol.toStringTag,{value:"Module"})),FS="https://docs.google.com/document/d/1adqRiW8UYTOKpIfBPWDcA-tO7I9Q5UGGYHVpTP9n-6E",V_e={name:"FAQLink",props:{hash:{default:()=>null}},data(){return{}},computed:{url(){return this.hash?FS+this.hash:FS}},methods:{}},W_e=["href"];function G_e(e,t,n,r,i,s){return x(),L("a",Ja(e.$attrs,{href:s.url,target:"FAQ"}),[Ae(e.$slots,"default",{},()=>[t[0]||(t[0]=we("FAQ"))])],16,W_e)}const Y_e=ne(V_e,[["render",G_e]]),K_e=Object.freeze(Object.defineProperty({__proto__:null,default:Y_e},Symbol.toStringTag,{value:"Module"})),X_e={name:"GcepQuickGuideLink"},Q_e={href:"https://www.clinicalgenome.org/site/assets/files/3263/gcep_quick_guide_jan_2021.pdf",target:"gcep-quick-guide"};function J_e(e,t,n,r,i,s){return x(),L("a",Q_e,[Ae(e.$slots,"default",{},()=>[t[0]||(t[0]=we("GCEP Quick Guide"))])])}const Z_e=ne(X_e,[["render",J_e]]),eEe=Object.freeze(Object.defineProperty({__proto__:null,default:Z_e},Symbol.toStringTag,{value:"Module"})),tEe={name:"GcepRecurationProcessLink",props:{},data(){return{}},computed:{},methods:{}},nEe={target:"gcep-recuration-process",href:"https://clinicalgenome.org/site/assets/files/2164/clingen_standard_gene-disease_validity_recuration_procedures_v1.pdf"};function rEe(e,t,n,r,i,s){return x(),L("a",nEe,[Ae(e.$slots,"default",{},()=>[t[0]||(t[0]=we("Gene-Disease Validity Recuration Process document"))])])}const iEe=ne(tEe,[["render",rEe]]),sEe=Object.freeze(Object.defineProperty({__proto__:null,default:iEe},Symbol.toStringTag,{value:"Module"})),oEe={name:"GciLink"},aEe={target:"gci",href:"https://curation.clinicalgenome.org/dashboard"};function lEe(e,t,n,r,i,s){return x(),L("a",aEe,[Ae(e.$slots,"default",{},()=>[t[0]||(t[0]=we("Gene Curation Interface"))])])}const uEe=ne(oEe,[["render",lEe]]),cEe=Object.freeze(Object.defineProperty({__proto__:null,default:uEe},Symbol.toStringTag,{value:"Module"})),dEe={name:"GeneTrackerLink"},fEe={target:"gene-tracker",href:"https://gene-tracker.clinicalgenome.org"};function pEe(e,t,n,r,i,s){return x(),L("a",fEe,[Ae(e.$slots,"default",{},()=>[t[0]||(t[0]=we("Gene Tracker"))])])}const hEe=ne(dEe,[["render",pEe]]),mEe=Object.freeze(Object.defineProperty({__proto__:null,default:hEe},Symbol.toStringTag,{value:"Module"})),gEe={name:"LumpingAndSplittingLink"},bEe={target:"lumping-splitting-guidelines",href:"https://clinicalgenome.org/working-groups/lumping-and-splitting/"};function yEe(e,t,n,r,i,s){return x(),L("a",bEe,[Ae(e.$slots,"default",{},()=>[t[0]||(t[0]=we("ClinGen Lumping and Splitting guidance"))])])}const _Ee=ne(gEe,[["render",yEe]]),EEe=Object.freeze(Object.defineProperty({__proto__:null,default:_Ee},Symbol.toStringTag,{value:"Module"})),vEe={name:"PublicationPolicy"},TEe={href:"https://www.clinicalgenome.org/docs/clingen-publication-policy-and-manuscript-concept-form/",target:"publication-policy"};function wEe(e,t,n,r,i,s){return x(),L("a",TEe,"ClinGen publication policy")}const xEe=ne(vEe,[["render",wEe]]),CEe=Object.freeze(Object.defineProperty({__proto__:null,default:xEe},Symbol.toStringTag,{value:"Module"})),SEe={name:"TrainingMaterialsLink"},AEe={href:"https://clinicalgenome.org/docs/?doc-type=training-materials#list_documentation_table",target:"clinicalgenome"};function OEe(e,t,n,r,i,s){return x(),L("a",AEe,[Ae(e.$slots,"default",{},()=>[t[0]||(t[0]=we(" training materials "))])])}const kEe=ne(SEe,[["render",OEe]]),IEe=Object.freeze(Object.defineProperty({__proto__:null,default:kEe},Symbol.toStringTag,{value:"Module"})),NEe={name:"VcepProtocolLink"},REe={href:"https://www.clinicalgenome.org/docs/clingen-variant-curation-expert-panel-vcep-protocol/",target:"vcep-protocol"};function DEe(e,t,n,r,i,s){return x(),L("a",REe,[Ae(e.$slots,"default",{},()=>[t[0]||(t[0]=we("VCEP Protocol"))])])}const MEe=ne(NEe,[["render",DEe]]),PEe=Object.freeze(Object.defineProperty({__proto__:null,default:MEe},Symbol.toStringTag,{value:"Module"})),LEe={name:"WebsiteLink"},BEe={href:"https://clinicalgenome.org",target:"clinicalgenome.org"};function FEe(e,t,n,r,i,s){return x(),L("a",BEe,[Ae(e.$slots,"default",{},()=>[t[0]||(t[0]=we("ClinicalGenome.org"))])])}const $Ee=ne(LEe,[["render",FEe]]),UEe=Object.freeze(Object.defineProperty({__proto__:null,default:$Ee},Symbol.toStringTag,{value:"Module"}));var Bo;let No=(Bo=class{constructor(t,n="info"){if(this.message=t,Bo.types.findIndex(r=>r===n)===-1)throw new Error(`Unknown alert type: ${n}`);this.type=n,this.uuid=co()}},Ln(Bo,"types",["info","success","warning","error"]),Bo);const HEe={state:{alerts:[],timeouts:[]},getters:{info:e=>e.alerts.filter(t=>t.type==="info"),success:e=>e.alerts.filter(t=>t.type==="success"),warning:e=>e.alerts.filter(t=>t.type==="warning"),error:e=>e.alerts.filter(t=>t.type==="error")},mutations:{pushAlert(e,{message:t,type:n}){const r=new No(t,n);e.alerts.push(r)},pushError(e,t){e.alerts.push(new No(t,"error"))},pushInfo(e,t){e.alerts.push(new No(t,"info"))},pushSuccess(e,t){e.alerts.push(new No(t,"success"))},pushWarning(e,t){e.alerts.push(new No(t,"warning"))},removeAlert(e,t){const n=e.alerts.findIndex(r=>r.uuid===t);n<0||e.alerts.splice(n,1)},unshiftAlert(e,{message:t,type:n}){e.alerts.unshift(new No(t,n))}}},zEe={name:"Alert",props:{alert:{required:!0,type:No},timeout:{type:Number,required:!1,default:10}},data(){return{timer:null,countdown:0,interval:null}},computed:{},mounted(){this.startTimer(),this.countdown=this.timeout},methods:{startTimer(){this.interval=setInterval(()=>this.countdown-=1,1e3),this.timer=setTimeout(()=>{this.clearAlert()},this.timeout*1e3)},clearAlert(){this.$store.commit("removeAlert",this.alert.uuid),clearInterval(this.interval)},clearTimer(){this.timer&&(clearTimeout(this.timer),clearInterval(this.interval))},clearAlertAndTimer(){this.clearTimer(),this.clearAlert()}}};function jEe(e,t,n,r,i,s){return x(),L("div",{class:nt(["flex justify-between rounded px-3 py-2 my-2 alert-item shadow-lg",`alert-${n.alert.type}`])},[we(le(n.alert.message)+" ",1),S("button",{class:"hover:underline",onClick:t[0]||(t[0]=(...o)=>s.clearAlertAndTimer&&s.clearAlertAndTimer(...o))}," x ")],2)}const qEe=ne(zEe,[["render",jEe]]),VEe={name:"AlertViewer",components:{Alert:qEe}},WEe={class:"fixed right-4 top-8 w-64",style:{"z-index":"100"}};function GEe(e,t,n,r,i,s){const o=Y("Alert");return x(),L("div",WEe,[S("ul",null,[z(JI,{name:"slide-fade",tag:"li"},{default:V(()=>[(x(!0),L(Xe,null,$t(e.$store.state.alerts.alerts,a=>(x(),fe(o,{key:a.uuid,alert:a},null,8,["alert"]))),128))]),_:1})])])}const YEe=ne(VEe,[["render",GEe]]),KEe={components:{UserMenu:rM,AlertViewer:YEe,IssueReportForm:LN},data(){return{showLogin:!1,systemInfo:an.systemInfo}},computed:{...l_(["isAuthed"]),appName(){return this.$store.state&&this.$store.state.systemInfo&&this.$store.state.systemInfo.app?this.$store.state.systemInfo.app.name:"GPM"}},watch:{isAuthed(){this.$route.meta&&this.$route.meta.protected&&!this.isAuthed&&this.$route.name!=="login"&&this.$router.push({name:"login"})}},mounted(){this.getLookupResources(),this.$store.dispatch("getCurrentUser")},methods:{getLookupResources(){this.$store.dispatch("cdwgs/getAll")},refreshCurrentRoute(){this.$router.push(this.$route)}}},XEe={id:"epam-app-root"},QEe={id:"nav",class:"border-b bg-gray-100 print:hidden"},JEe={class:"container mx-auto py-3 flex"},ZEe={id:"main-menu",class:"flex-grow"},eve={class:"inline-block pr-4"},tve={key:0},nve={class:"my-6 container mx-auto"},rve={class:"fixed right-0 top-20 space-y-2"},ive={key:0,class:"container mx-auto note border-t mt-4 pt-4"};function sve(e,t,n,r,i,s){const o=Y("router-link"),a=Y("UserMenu"),l=Y("router-view"),u=Y("AlertViewer"),c=Y("help-button"),d=Y("IssueReportForm");return x(),L("div",XEe,[S("header",QEe,[S("div",JEe,[S("div",ZEe,[S("div",eve,[z(o,{to:"/",class:"text-black hover:text-black"},{default:V(()=>[we(le(s.appName),1)]),_:1})]),e.$store.getters.isAuthed?(x(),L("span",tve,[e.hasPermission("ep-applications-manage")?(x(),fe(o,{key:0,to:"/applications",class:"link nav-item"},{default:V(()=>t[0]||(t[0]=[we("Applications")])),_:1})):Oe("",!0),e.hasPermission("annual-updates-manage")?(x(),fe(o,{key:1,to:"/annual-updates",class:"link nav-item"},{default:V(()=>t[1]||(t[1]=[we("Annual Updates")])),_:1})):Oe("",!0),z(o,{to:"/people",class:"link nav-item"},{default:V(()=>t[2]||(t[2]=[we("People")])),_:1}),z(o,{to:{name:"GroupList"},class:"link nav-item"},{default:V(()=>t[3]||(t[3]=[we("Groups")])),_:1}),e.hasPermission("users-manage")?(x(),fe(o,{key:2,to:{name:"UserList"},class:"link nav-item"},{default:V(()=>t[4]||(t[4]=[we("Users")])),_:1})):Oe("",!0),e.hasPermission("reports-pull")?(x(),fe(o,{key:3,to:"/reports",class:"link nav-item"},{default:V(()=>t[5]||(t[5]=[we("Reports ")])),_:1})):Oe("",!0)])):Oe("",!0)]),t[6]||(t[6]=S("a",{href:"mailto:gpm_support@clinicalgenome.org?subject=New ExpertPanel Request",class:"btn btn-xs mr-4"},"Request a new group",-1)),z(a)])]),S("div",nve,[S("div",null,[S("div",null,[z(l)])])]),z(u),S("div",rve,[z(c),z(d,{class:"print:hidden"})]),(x(),fe(Er,{to:"body"},[e.hasRole("super-user")?(x(),L("div",ive," Build: "+le(e.$store.state.systemInfo.build.name)+" | Commit: "+le(e.$store.state.systemInfo.build.commit||"--")+" | Env: "+le(e.$store.state.systemInfo.env),1)):Oe("",!0)]))])}const ove=ne(KEe,[["render",sve]]),ave="modulepreload",lve=function(e){return"/build/"+e},$S={},Fe=function(t,n,r){let i=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));i=Promise.allSettled(n.map(l=>{if(l=lve(l),l in $S)return;$S[l]=!0;const u=l.endsWith(".css"),c=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${c}`))return;const d=document.createElement("link");if(d.rel=u?"stylesheet":ave,u||(d.as="script"),d.crossOrigin="",d.href=l,a&&d.setAttribute("nonce",a),document.head.appendChild(d),u)return new Promise((f,p)=>{d.addEventListener("load",f),d.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${l}`)))})}))}function s(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return i.then(o=>{for(const a of o||[])a.status==="rejected"&&s(a.reason);return t().catch(s)})};/*!
  * vue-router v4.5.0
  * (c) 2024 Eduardo San Martin Morote
  * @license MIT
  */const Na=typeof document<"u";function qL(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function uve(e){return e.__esModule||e[Symbol.toStringTag]==="Module"||e.default&&qL(e.default)}const ct=Object.assign;function eg(e,t){const n={};for(const r in t){const i=t[r];n[r]=ui(i)?i.map(e):e(i)}return n}const Gu=()=>{},ui=Array.isArray,VL=/#/g,cve=/&/g,dve=/\//g,fve=/=/g,pve=/\?/g,WL=/\+/g,hve=/%5B/g,mve=/%5D/g,GL=/%5E/g,gve=/%60/g,YL=/%7B/g,bve=/%7C/g,KL=/%7D/g,yve=/%20/g;function QE(e){return encodeURI(""+e).replace(bve,"|").replace(hve,"[").replace(mve,"]")}function _ve(e){return QE(e).replace(YL,"{").replace(KL,"}").replace(GL,"^")}function py(e){return QE(e).replace(WL,"%2B").replace(yve,"+").replace(VL,"%23").replace(cve,"%26").replace(gve,"`").replace(YL,"{").replace(KL,"}").replace(GL,"^")}function Eve(e){return py(e).replace(fve,"%3D")}function vve(e){return QE(e).replace(VL,"%23").replace(pve,"%3F")}function Tve(e){return e==null?"":vve(e).replace(dve,"%2F")}function Nc(e){try{return decodeURIComponent(""+e)}catch{}return""+e}const wve=/\/$/,xve=e=>e.replace(wve,"");function tg(e,t,n="/"){let r,i={},s="",o="";const a=t.indexOf("#");let l=t.indexOf("?");return a<l&&a>=0&&(l=-1),l>-1&&(r=t.slice(0,l),s=t.slice(l+1,a>-1?a:t.length),i=e(s)),a>-1&&(r=r||t.slice(0,a),o=t.slice(a,t.length)),r=Ove(r??t,n),{fullPath:r+(s&&"?")+s+o,path:r,query:i,hash:Nc(o)}}function Cve(e,t){const n=t.query?e(t.query):"";return t.path+(n&&"?")+n+(t.hash||"")}function US(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||"/"}function Sve(e,t,n){const r=t.matched.length-1,i=n.matched.length-1;return r>-1&&r===i&&gl(t.matched[r],n.matched[i])&&XL(t.params,n.params)&&e(t.query)===e(n.query)&&t.hash===n.hash}function gl(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function XL(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(!Ave(e[n],t[n]))return!1;return!0}function Ave(e,t){return ui(e)?HS(e,t):ui(t)?HS(t,e):e===t}function HS(e,t){return ui(t)?e.length===t.length&&e.every((n,r)=>n===t[r]):e.length===1&&e[0]===t}function Ove(e,t){if(e.startsWith("/"))return e;if(!e)return t;const n=t.split("/"),r=e.split("/"),i=r[r.length-1];(i===".."||i===".")&&r.push("");let s=n.length-1,o,a;for(o=0;o<r.length;o++)if(a=r[o],a!==".")if(a==="..")s>1&&s--;else break;return n.slice(0,s).join("/")+"/"+r.slice(o).join("/")}const ks={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var Rc;(function(e){e.pop="pop",e.push="push"})(Rc||(Rc={}));var Yu;(function(e){e.back="back",e.forward="forward",e.unknown=""})(Yu||(Yu={}));function kve(e){if(!e)if(Na){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),xve(e)}const Ive=/^[^#]+#/;function Nve(e,t){return e.replace(Ive,"#")+t}function Rve(e,t){const n=document.documentElement.getBoundingClientRect(),r=e.getBoundingClientRect();return{behavior:t.behavior,left:r.left-n.left-(t.left||0),top:r.top-n.top-(t.top||0)}}const Th=()=>({left:window.scrollX,top:window.scrollY});function Dve(e){let t;if("el"in e){const n=e.el,r=typeof n=="string"&&n.startsWith("#"),i=typeof n=="string"?r?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!i)return;t=Rve(i,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.scrollX,t.top!=null?t.top:window.scrollY)}function zS(e,t){return(history.state?history.state.position-t:-1)+e}const hy=new Map;function Mve(e,t){hy.set(e,t)}function Pve(e){const t=hy.get(e);return hy.delete(e),t}let Lve=()=>location.protocol+"//"+location.host;function QL(e,t){const{pathname:n,search:r,hash:i}=t,s=e.indexOf("#");if(s>-1){let a=i.includes(e.slice(s))?e.slice(s).length:1,l=i.slice(a);return l[0]!=="/"&&(l="/"+l),US(l,"")}return US(n,e)+r+i}function Bve(e,t,n,r){let i=[],s=[],o=null;const a=({state:f})=>{const p=QL(e,location),m=n.value,g=t.value;let b=0;if(f){if(n.value=p,t.value=f,o&&o===m){o=null;return}b=g?f.position-g.position:0}else r(p);i.forEach(y=>{y(n.value,m,{delta:b,type:Rc.pop,direction:b?b>0?Yu.forward:Yu.back:Yu.unknown})})};function l(){o=n.value}function u(f){i.push(f);const p=()=>{const m=i.indexOf(f);m>-1&&i.splice(m,1)};return s.push(p),p}function c(){const{history:f}=window;f.state&&f.replaceState(ct({},f.state,{scroll:Th()}),"")}function d(){for(const f of s)f();s=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",c)}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",c,{passive:!0}),{pauseListeners:l,listen:u,destroy:d}}function jS(e,t,n,r=!1,i=!1){return{back:e,current:t,forward:n,replaced:r,position:window.history.length,scroll:i?Th():null}}function Fve(e){const{history:t,location:n}=window,r={value:QL(e,n)},i={value:t.state};i.value||s(r.value,{back:null,current:r.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function s(l,u,c){const d=e.indexOf("#"),f=d>-1?(n.host&&document.querySelector("base")?e:e.slice(d))+l:Lve()+e+l;try{t[c?"replaceState":"pushState"](u,"",f),i.value=u}catch(p){console.error(p),n[c?"replace":"assign"](f)}}function o(l,u){const c=ct({},t.state,jS(i.value.back,l,i.value.forward,!0),u,{position:i.value.position});s(l,c,!0),r.value=l}function a(l,u){const c=ct({},i.value,t.state,{forward:l,scroll:Th()});s(c.current,c,!0);const d=ct({},jS(r.value,l,null),{position:c.position+1},u);s(l,d,!1),r.value=l}return{location:r,state:i,push:a,replace:o}}function $ve(e){e=kve(e);const t=Fve(e),n=Bve(e,t.state,t.location,t.replace);function r(s,o=!0){o||n.pauseListeners(),history.go(s)}const i=ct({location:"",base:e,go:r,createHref:Nve.bind(null,e)},t,n);return Object.defineProperty(i,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(i,"state",{enumerable:!0,get:()=>t.state.value}),i}function Uve(e){return typeof e=="string"||e&&typeof e=="object"}function JL(e){return typeof e=="string"||typeof e=="symbol"}const ZL=Symbol("");var qS;(function(e){e[e.aborted=4]="aborted",e[e.cancelled=8]="cancelled",e[e.duplicated=16]="duplicated"})(qS||(qS={}));function bl(e,t){return ct(new Error,{type:e,[ZL]:!0},t)}function Ki(e,t){return e instanceof Error&&ZL in e&&(t==null||!!(e.type&t))}const VS="[^/]+?",Hve={sensitive:!1,strict:!1,start:!0,end:!0},zve=/[.+*?^${}()[\]/\\]/g;function jve(e,t){const n=ct({},Hve,t),r=[];let i=n.start?"^":"";const s=[];for(const u of e){const c=u.length?[]:[90];n.strict&&!u.length&&(i+="/");for(let d=0;d<u.length;d++){const f=u[d];let p=40+(n.sensitive?.25:0);if(f.type===0)d||(i+="/"),i+=f.value.replace(zve,"\\$&"),p+=40;else if(f.type===1){const{value:m,repeatable:g,optional:b,regexp:y}=f;s.push({name:m,repeatable:g,optional:b});const E=y||VS;if(E!==VS){p+=10;try{new RegExp(`(${E})`)}catch(w){throw new Error(`Invalid custom RegExp for param "${m}" (${E}): `+w.message)}}let v=g?`((?:${E})(?:/(?:${E}))*)`:`(${E})`;d||(v=b&&u.length<2?`(?:/${v})`:"/"+v),b&&(v+="?"),i+=v,p+=20,b&&(p+=-8),g&&(p+=-20),E===".*"&&(p+=-50)}c.push(p)}r.push(c)}if(n.strict&&n.end){const u=r.length-1;r[u][r[u].length-1]+=.7000000000000001}n.strict||(i+="/?"),n.end?i+="$":n.strict&&!i.endsWith("/")&&(i+="(?:/|$)");const o=new RegExp(i,n.sensitive?"":"i");function a(u){const c=u.match(o),d={};if(!c)return null;for(let f=1;f<c.length;f++){const p=c[f]||"",m=s[f-1];d[m.name]=p&&m.repeatable?p.split("/"):p}return d}function l(u){let c="",d=!1;for(const f of e){(!d||!c.endsWith("/"))&&(c+="/"),d=!1;for(const p of f)if(p.type===0)c+=p.value;else if(p.type===1){const{value:m,repeatable:g,optional:b}=p,y=m in u?u[m]:"";if(ui(y)&&!g)throw new Error(`Provided param "${m}" is an array but it is not repeatable (* or + modifiers)`);const E=ui(y)?y.join("/"):y;if(!E)if(b)f.length<2&&(c.endsWith("/")?c=c.slice(0,-1):d=!0);else throw new Error(`Missing required param "${m}"`);c+=E}}return c||"/"}return{re:o,score:r,keys:s,parse:a,stringify:l}}function qve(e,t){let n=0;for(;n<e.length&&n<t.length;){const r=t[n]-e[n];if(r)return r;n++}return e.length<t.length?e.length===1&&e[0]===80?-1:1:e.length>t.length?t.length===1&&t[0]===80?1:-1:0}function e6(e,t){let n=0;const r=e.score,i=t.score;for(;n<r.length&&n<i.length;){const s=qve(r[n],i[n]);if(s)return s;n++}if(Math.abs(i.length-r.length)===1){if(WS(r))return 1;if(WS(i))return-1}return i.length-r.length}function WS(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const Vve={type:0,value:""},Wve=/[a-zA-Z0-9_]/;function Gve(e){if(!e)return[[]];if(e==="/")return[[Vve]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(p){throw new Error(`ERR (${n})/"${u}": ${p}`)}let n=0,r=n;const i=[];let s;function o(){s&&i.push(s),s=[]}let a=0,l,u="",c="";function d(){u&&(n===0?s.push({type:0,value:u}):n===1||n===2||n===3?(s.length>1&&(l==="*"||l==="+")&&t(`A repeatable param (${u}) must be alone in its segment. eg: '/:ids+.`),s.push({type:1,value:u,regexp:c,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):t("Invalid state to consume buffer"),u="")}function f(){u+=l}for(;a<e.length;){if(l=e[a++],l==="\\"&&n!==2){r=n,n=4;continue}switch(n){case 0:l==="/"?(u&&d(),o()):l===":"?(d(),n=1):f();break;case 4:f(),n=r;break;case 1:l==="("?n=2:Wve.test(l)?f():(d(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&a--);break;case 2:l===")"?c[c.length-1]=="\\"?c=c.slice(0,-1)+l:n=3:c+=l;break;case 3:d(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&a--,c="";break;default:t("Unknown state");break}}return n===2&&t(`Unfinished custom RegExp for param "${u}"`),d(),o(),i}function Yve(e,t,n){const r=jve(Gve(e.path),n),i=ct(r,{record:e,parent:t,children:[],alias:[]});return t&&!i.record.aliasOf==!t.record.aliasOf&&t.children.push(i),i}function Kve(e,t){const n=[],r=new Map;t=XS({strict:!1,end:!0,sensitive:!1},t);function i(d){return r.get(d)}function s(d,f,p){const m=!p,g=YS(d);g.aliasOf=p&&p.record;const b=XS(t,d),y=[g];if("alias"in d){const w=typeof d.alias=="string"?[d.alias]:d.alias;for(const R of w)y.push(YS(ct({},g,{components:p?p.record.components:g.components,path:R,aliasOf:p?p.record:g})))}let E,v;for(const w of y){const{path:R}=w;if(f&&R[0]!=="/"){const _=f.record.path,D=_[_.length-1]==="/"?"":"/";w.path=f.record.path+(R&&D+R)}if(E=Yve(w,f,b),p?p.alias.push(E):(v=v||E,v!==E&&v.alias.push(E),m&&d.name&&!KS(E)&&o(d.name)),t6(E)&&l(E),g.children){const _=g.children;for(let D=0;D<_.length;D++)s(_[D],E,p&&p.children[D])}p=p||E}return v?()=>{o(v)}:Gu}function o(d){if(JL(d)){const f=r.get(d);f&&(r.delete(d),n.splice(n.indexOf(f),1),f.children.forEach(o),f.alias.forEach(o))}else{const f=n.indexOf(d);f>-1&&(n.splice(f,1),d.record.name&&r.delete(d.record.name),d.children.forEach(o),d.alias.forEach(o))}}function a(){return n}function l(d){const f=Jve(d,n);n.splice(f,0,d),d.record.name&&!KS(d)&&r.set(d.record.name,d)}function u(d,f){let p,m={},g,b;if("name"in d&&d.name){if(p=r.get(d.name),!p)throw bl(1,{location:d});b=p.record.name,m=ct(GS(f.params,p.keys.filter(v=>!v.optional).concat(p.parent?p.parent.keys.filter(v=>v.optional):[]).map(v=>v.name)),d.params&&GS(d.params,p.keys.map(v=>v.name))),g=p.stringify(m)}else if(d.path!=null)g=d.path,p=n.find(v=>v.re.test(g)),p&&(m=p.parse(g),b=p.record.name);else{if(p=f.name?r.get(f.name):n.find(v=>v.re.test(f.path)),!p)throw bl(1,{location:d,currentLocation:f});b=p.record.name,m=ct({},f.params,d.params),g=p.stringify(m)}const y=[];let E=p;for(;E;)y.unshift(E.record),E=E.parent;return{name:b,path:g,params:m,matched:y,meta:Qve(y)}}e.forEach(d=>s(d));function c(){n.length=0,r.clear()}return{addRoute:s,resolve:u,removeRoute:o,clearRoutes:c,getRoutes:a,getRecordMatcher:i}}function GS(e,t){const n={};for(const r of t)r in e&&(n[r]=e[r]);return n}function YS(e){const t={path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:e.aliasOf,beforeEnter:e.beforeEnter,props:Xve(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}};return Object.defineProperty(t,"mods",{value:{}}),t}function Xve(e){const t={},n=e.props||!1;if("component"in e)t.default=n;else for(const r in e.components)t[r]=typeof n=="object"?n[r]:n;return t}function KS(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function Qve(e){return e.reduce((t,n)=>ct(t,n.meta),{})}function XS(e,t){const n={};for(const r in e)n[r]=r in t?t[r]:e[r];return n}function Jve(e,t){let n=0,r=t.length;for(;n!==r;){const s=n+r>>1;e6(e,t[s])<0?r=s:n=s+1}const i=Zve(e);return i&&(r=t.lastIndexOf(i,r-1)),r}function Zve(e){let t=e;for(;t=t.parent;)if(t6(t)&&e6(e,t)===0)return t}function t6({record:e}){return!!(e.name||e.components&&Object.keys(e.components).length||e.redirect)}function eTe(e){const t={};if(e===""||e==="?")return t;const r=(e[0]==="?"?e.slice(1):e).split("&");for(let i=0;i<r.length;++i){const s=r[i].replace(WL," "),o=s.indexOf("="),a=Nc(o<0?s:s.slice(0,o)),l=o<0?null:Nc(s.slice(o+1));if(a in t){let u=t[a];ui(u)||(u=t[a]=[u]),u.push(l)}else t[a]=l}return t}function QS(e){let t="";for(let n in e){const r=e[n];if(n=Eve(n),r==null){r!==void 0&&(t+=(t.length?"&":"")+n);continue}(ui(r)?r.map(s=>s&&py(s)):[r&&py(r)]).forEach(s=>{s!==void 0&&(t+=(t.length?"&":"")+n,s!=null&&(t+="="+s))})}return t}function tTe(e){const t={};for(const n in e){const r=e[n];r!==void 0&&(t[n]=ui(r)?r.map(i=>i==null?null:""+i):r==null?r:""+r)}return t}const nTe=Symbol(""),JS=Symbol(""),wh=Symbol(""),JE=Symbol(""),my=Symbol("");function lu(){let e=[];function t(r){return e.push(r),()=>{const i=e.indexOf(r);i>-1&&e.splice(i,1)}}function n(){e=[]}return{add:t,list:()=>e.slice(),reset:n}}function Hs(e,t,n,r,i,s=o=>o()){const o=r&&(r.enterCallbacks[i]=r.enterCallbacks[i]||[]);return()=>new Promise((a,l)=>{const u=f=>{f===!1?l(bl(4,{from:n,to:t})):f instanceof Error?l(f):Uve(f)?l(bl(2,{from:t,to:f})):(o&&r.enterCallbacks[i]===o&&typeof f=="function"&&o.push(f),a())},c=s(()=>e.call(r&&r.instances[i],t,n,u));let d=Promise.resolve(c);e.length<3&&(d=d.then(u)),d.catch(f=>l(f))})}function ng(e,t,n,r,i=s=>s()){const s=[];for(const o of e)for(const a in o.components){let l=o.components[a];if(!(t!=="beforeRouteEnter"&&!o.instances[a]))if(qL(l)){const c=(l.__vccOpts||l)[t];c&&s.push(Hs(c,n,r,o,a,i))}else{let u=l();s.push(()=>u.then(c=>{if(!c)throw new Error(`Couldn't resolve component "${a}" at "${o.path}"`);const d=uve(c)?c.default:c;o.mods[a]=c,o.components[a]=d;const p=(d.__vccOpts||d)[t];return p&&Hs(p,n,r,o,a,i)()}))}}return s}function ZS(e){const t=Un(wh),n=Un(JE),r=bt(()=>{const l=_e(e.to);return t.resolve(l)}),i=bt(()=>{const{matched:l}=r.value,{length:u}=l,c=l[u-1],d=n.matched;if(!c||!d.length)return-1;const f=d.findIndex(gl.bind(null,c));if(f>-1)return f;const p=eA(l[u-2]);return u>1&&eA(c)===p&&d[d.length-1].path!==p?d.findIndex(gl.bind(null,l[u-2])):f}),s=bt(()=>i.value>-1&&aTe(n.params,r.value.params)),o=bt(()=>i.value>-1&&i.value===n.matched.length-1&&XL(n.params,r.value.params));function a(l={}){if(oTe(l)){const u=t[_e(e.replace)?"replace":"push"](_e(e.to)).catch(Gu);return e.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>u),u}return Promise.resolve()}return{route:r,href:bt(()=>r.value.href),isActive:s,isExactActive:o,navigate:a}}function rTe(e){return e.length===1?e[0]:e}const iTe=ir({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:ZS,setup(e,{slots:t}){const n=El(ZS(e)),{options:r}=Un(wh),i=bt(()=>({[tA(e.activeClass,r.linkActiveClass,"router-link-active")]:n.isActive,[tA(e.exactActiveClass,r.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const s=t.default&&rTe(t.default(n));return e.custom?s:Qt("a",{"aria-current":n.isExactActive?e.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:i.value},s)}}}),sTe=iTe;function oTe(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function aTe(e,t){for(const n in t){const r=t[n],i=e[n];if(typeof r=="string"){if(r!==i)return!1}else if(!ui(i)||i.length!==r.length||r.some((s,o)=>s!==i[o]))return!1}return!0}function eA(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const tA=(e,t,n)=>e??t??n,lTe=ir({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:n}){const r=Un(my),i=bt(()=>e.route||r.value),s=Un(JS,0),o=bt(()=>{let u=_e(s);const{matched:c}=i.value;let d;for(;(d=c[u])&&!d.components;)u++;return u}),a=bt(()=>i.value.matched[o.value]);pr(JS,bt(()=>o.value+1)),pr(nTe,a),pr(my,i);const l=yt();return vn(()=>[l.value,a.value,e.name],([u,c,d],[f,p,m])=>{c&&(c.instances[d]=u,p&&p!==c&&u&&u===f&&(c.leaveGuards.size||(c.leaveGuards=p.leaveGuards),c.updateGuards.size||(c.updateGuards=p.updateGuards))),u&&c&&(!p||!gl(c,p)||!f)&&(c.enterCallbacks[d]||[]).forEach(g=>g(u))},{flush:"post"}),()=>{const u=i.value,c=e.name,d=a.value,f=d&&d.components[c];if(!f)return nA(n.default,{Component:f,route:u});const p=d.props[c],m=p?p===!0?u.params:typeof p=="function"?p(u):p:null,b=Qt(f,ct({},m,t,{onVnodeUnmounted:y=>{y.component.isUnmounted&&(d.instances[c]=null)},ref:l}));return nA(n.default,{Component:b,route:u})||b}}});function nA(e,t){if(!e)return null;const n=e(t);return n.length===1?n[0]:n}const uTe=lTe;function cTe(e){const t=Kve(e.routes,e),n=e.parseQuery||eTe,r=e.stringifyQuery||QS,i=e.history,s=lu(),o=lu(),a=lu(),l=ss(ks);let u=ks;Na&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const c=eg.bind(null,K=>""+K),d=eg.bind(null,Tve),f=eg.bind(null,Nc);function p(K,me){let de,Se;return JL(K)?(de=t.getRecordMatcher(K),Se=me):Se=K,t.addRoute(Se,de)}function m(K){const me=t.getRecordMatcher(K);me&&t.removeRoute(me)}function g(){return t.getRoutes().map(K=>K.record)}function b(K){return!!t.getRecordMatcher(K)}function y(K,me){if(me=ct({},me||l.value),typeof K=="string"){const F=tg(n,K,me.path),Q=t.resolve({path:F.path},me),J=i.createHref(F.fullPath);return ct(F,Q,{params:f(Q.params),hash:Nc(F.hash),redirectedFrom:void 0,href:J})}let de;if(K.path!=null)de=ct({},K,{path:tg(n,K.path,me.path).path});else{const F=ct({},K.params);for(const Q in F)F[Q]==null&&delete F[Q];de=ct({},K,{params:d(F)}),me.params=d(me.params)}const Se=t.resolve(de,me),Qe=K.hash||"";Se.params=c(f(Se.params));const A=Cve(r,ct({},K,{hash:_ve(Qe),path:Se.path})),N=i.createHref(A);return ct({fullPath:A,hash:Qe,query:r===QS?tTe(K.query):K.query||{}},Se,{redirectedFrom:void 0,href:N})}function E(K){return typeof K=="string"?tg(n,K,l.value.path):ct({},K)}function v(K,me){if(u!==K)return bl(8,{from:me,to:K})}function w(K){return D(K)}function R(K){return w(ct(E(K),{replace:!0}))}function _(K){const me=K.matched[K.matched.length-1];if(me&&me.redirect){const{redirect:de}=me;let Se=typeof de=="function"?de(K):de;return typeof Se=="string"&&(Se=Se.includes("?")||Se.includes("#")?Se=E(Se):{path:Se},Se.params={}),ct({query:K.query,hash:K.hash,params:Se.path!=null?{}:K.params},Se)}}function D(K,me){const de=u=y(K),Se=l.value,Qe=K.state,A=K.force,N=K.replace===!0,F=_(de);if(F)return D(ct(E(F),{state:typeof F=="object"?ct({},Qe,F.state):Qe,force:A,replace:N}),me||de);const Q=de;Q.redirectedFrom=me;let J;return!A&&Sve(r,Se,de)&&(J=bl(16,{to:Q,from:Se}),Me(Se,Se,!0,!1)),(J?Promise.resolve(J):q(Q,Se)).catch(X=>Ki(X)?Ki(X,2)?X:O(X):Ee(X,Q,Se)).then(X=>{if(X){if(Ki(X,2))return D(ct({replace:N},E(X.to),{state:typeof X.to=="object"?ct({},Qe,X.to.state):Qe,force:A}),me||Q)}else X=H(Q,Se,!0,N,Qe);return B(Q,Se,X),X})}function j(K,me){const de=v(K,me);return de?Promise.reject(de):Promise.resolve()}function P(K){const me=at.values().next().value;return me&&typeof me.runWithContext=="function"?me.runWithContext(K):K()}function q(K,me){let de;const[Se,Qe,A]=dTe(K,me);de=ng(Se.reverse(),"beforeRouteLeave",K,me);for(const F of Se)F.leaveGuards.forEach(Q=>{de.push(Hs(Q,K,me))});const N=j.bind(null,K,me);return de.push(N),Ke(de).then(()=>{de=[];for(const F of s.list())de.push(Hs(F,K,me));return de.push(N),Ke(de)}).then(()=>{de=ng(Qe,"beforeRouteUpdate",K,me);for(const F of Qe)F.updateGuards.forEach(Q=>{de.push(Hs(Q,K,me))});return de.push(N),Ke(de)}).then(()=>{de=[];for(const F of A)if(F.beforeEnter)if(ui(F.beforeEnter))for(const Q of F.beforeEnter)de.push(Hs(Q,K,me));else de.push(Hs(F.beforeEnter,K,me));return de.push(N),Ke(de)}).then(()=>(K.matched.forEach(F=>F.enterCallbacks={}),de=ng(A,"beforeRouteEnter",K,me,P),de.push(N),Ke(de))).then(()=>{de=[];for(const F of o.list())de.push(Hs(F,K,me));return de.push(N),Ke(de)}).catch(F=>Ki(F,8)?F:Promise.reject(F))}function B(K,me,de){a.list().forEach(Se=>P(()=>Se(K,me,de)))}function H(K,me,de,Se,Qe){const A=v(K,me);if(A)return A;const N=me===ks,F=Na?history.state:{};de&&(Se||N?i.replace(K.fullPath,ct({scroll:N&&F&&F.scroll},Qe)):i.push(K.fullPath,Qe)),l.value=K,Me(K,me,de,N),O()}let ee;function ye(){ee||(ee=i.listen((K,me,de)=>{if(!ze.listening)return;const Se=y(K),Qe=_(Se);if(Qe){D(ct(Qe,{replace:!0,force:!0}),Se).catch(Gu);return}u=Se;const A=l.value;Na&&Mve(zS(A.fullPath,de.delta),Th()),q(Se,A).catch(N=>Ki(N,12)?N:Ki(N,2)?(D(ct(E(N.to),{force:!0}),Se).then(F=>{Ki(F,20)&&!de.delta&&de.type===Rc.pop&&i.go(-1,!1)}).catch(Gu),Promise.reject()):(de.delta&&i.go(-de.delta,!1),Ee(N,Se,A))).then(N=>{N=N||H(Se,A,!1),N&&(de.delta&&!Ki(N,8)?i.go(-de.delta,!1):de.type===Rc.pop&&Ki(N,20)&&i.go(-1,!1)),B(Se,A,N)}).catch(Gu)}))}let pe=lu(),xe=lu(),Ce;function Ee(K,me,de){O(K);const Se=xe.list();return Se.length?Se.forEach(Qe=>Qe(K,me,de)):console.error(K),Promise.reject(K)}function $e(){return Ce&&l.value!==ks?Promise.resolve():new Promise((K,me)=>{pe.add([K,me])})}function O(K){return Ce||(Ce=!K,ye(),pe.list().forEach(([me,de])=>K?de(K):me()),pe.reset()),K}function Me(K,me,de,Se){const{scrollBehavior:Qe}=e;if(!Na||!Qe)return Promise.resolve();const A=!de&&Pve(zS(K.fullPath,0))||(Se||!de)&&history.state&&history.state.scroll||null;return Mc().then(()=>Qe(K,me,A)).then(N=>N&&Dve(N)).catch(N=>Ee(N,K,me))}const et=K=>i.go(K);let I;const at=new Set,ze={currentRoute:l,listening:!0,addRoute:p,removeRoute:m,clearRoutes:t.clearRoutes,hasRoute:b,getRoutes:g,resolve:y,options:e,push:w,replace:R,go:et,back:()=>et(-1),forward:()=>et(1),beforeEach:s.add,beforeResolve:o.add,afterEach:a.add,onError:xe.add,isReady:$e,install(K){const me=this;K.component("RouterLink",sTe),K.component("RouterView",uTe),K.config.globalProperties.$router=me,Object.defineProperty(K.config.globalProperties,"$route",{enumerable:!0,get:()=>_e(l)}),Na&&!I&&l.value===ks&&(I=!0,w(i.location).catch(Qe=>{}));const de={};for(const Qe in ks)Object.defineProperty(de,Qe,{get:()=>l.value[Qe],enumerable:!0});K.provide(wh,me),K.provide(JE,Kk(de)),K.provide(my,l);const Se=K.unmount;at.add(K),K.unmount=function(){at.delete(K),at.size<1&&(u=ks,ee&&ee(),ee=null,l.value=ks,I=!1,Ce=!1),Se()}}};function Ke(K){return K.reduce((me,de)=>me.then(()=>P(de)),Promise.resolve())}return ze}function dTe(e,t){const n=[],r=[],i=[],s=Math.max(t.matched.length,e.matched.length);for(let o=0;o<s;o++){const a=t.matched[o];a&&(e.matched.find(u=>gl(u,a))?r.push(a):n.push(a));const l=e.matched[o];l&&(t.matched.find(u=>gl(u,l))||i.push(l))}return[n,r,i]}function FCe(){return Un(wh)}function $Ce(e){return Un(JE)}class fp extends mo{get isCompleted(){return!!this.attributes.date_completed}get steps(){if(this.is_gcep===1)return[1];if(this.is_vcep_or_scvcep)return[1,2,3,4];throw console.log(this),new Error(`Unknown expert_panel_type_id found when determining application steps. Value: ${this}`)}get pendingNextActions(){return this.next_actions?this.next_actions.filter(t=>t.date_completed===null):[]}get pendingActionsByAssignee(){const t=Object.values(an.nextActions.assignees).map(r=>r.id),n={};for(const r in t){const i=t[r];n[i]=[]}if(!this.next_actions)return n;for(const r in this.pendingNextActions){const i=this.pendingNextActions[r].assigned_to;n[i].push(this.pendingNextActions[r])}return n}get hasContacts(){return this.contacts.length>0}isWaitingOnCdwgOc(){return this.pendingActionsAssigneeCounts.cdwg_oc>0}isWaitingOnExpertPanel(){return this.pendingActionsAssigneeCounts.expert_panel>0}stepIsApproved(t){if(!t)return!1;if(!this.steps.includes(t))throw new Error(`Step ${t} out of bounds`);return!!this[`step_${t}_approval_date`]}approvalDateForStep(t){if(!this.steps.includes(t))throw new Error(`Step ${t} out of bounds`);const n=`step_${t}_approval_date`;return this[n]?new Date(Date.parse(this[n])):null}firstDocumentOfType(t){return this.documents.filter(r=>r.document_type_id===t).sort((r,i)=>r.date_reviewed===i.date_reviewed?r.version>i.version?1:-1:r.date_reviewed>i.date_reviewed?1:-1)[0]||{}}finalDocumentOfType(t){const n=this.documents.filter(r=>r.document_type_id===t).sort((r,i)=>r.date_reviewed===i.date_reviewed?r.version>i.version?1:-1:r.date_reviewed>i.date_reviewed?1:-1);return n[n.length-1]||{}}}Ln(fp,"dates",["date_completed","date_initiated","created_at","updated_at","deleted_at"]),Ln(fp,"defaults",{working_name:null,expert_panel_type_id:null,cdwg_id:null,id:null,uuid:null,name:null,documents:[],approval_dates:{},date_completed:null,date_initiated:null,cdwg:{},latest_log_entry:{},latest_pending_next_action:null,log_entries:[],type:{},contacts:[]});const ws="/api/applications";function bs(e){if(!e.uuid)throw new Error("Entity must have a uuid to complete the transaction.")}async function fTe(e){return await Z.get(ws+ls(e)).then(n=>n.data.data)}async function pTe(e,t){return await Z.get(`${ws}/${e}${ls(t)}`).then(r=>r.data.data)}async function hTe(e){return e.uuid||(e.uuid=co()),await Z.post(ws,e).then(t=>t.data)}async function mTe(e,t,n,r){bs(e);const i=`${ws}/${e.uuid}/current-step/approve`;return await Z.post(i,{date_approved:t,notify_contacts:n,notify_clingen:r}).then(s=>s.data)}async function gTe(e){bs(e);const{long_base_name:t,short_base_name:n,affiliation_id:r,cdwg_id:i}=e,s={long_base_name:t,short_base_name:n,affiliation_id:r,cdwg_id:i};return await Z.put(`${ws}/${e.uuid}`,s).then(o=>o.data)}async function bTe(e,t){bs(e),t.has("uuid")||t.append("uuid",co());const n=`${ws}/${e.uuid}/documents`;return await Z.postForm(n,t).then(r=>r.data)}async function yTe(e,t,n){bs(e),bs(t);const r=`${ws}/${e.uuid}/documents/${t.uuid}/review`;return await Z.post(r,{date_reviewed:n}).then(i=>i.data)}async function _Te(e,t){bs(e),bs(t);const n=`${ws}/${e.uuid}/contacts`;return await Z.post(n,{person_uuid:t.uuid}).then(r=>r.data)}async function ETe(e,t){bs(e),bs(t);const n=`${ws}/${e.uuid}/contacts/${t.uuid}`;return await Z.delete(n).then(r=>r.data)}const Ms={all:fTe,find:pTe,initiate:hTe,approveCurrentStep:mTe,updateEpAttributes:gTe,addDocument:bTe,markDocumentReviewed:yTe,addContact:_Te,removeContact:ETe},rg="/api/applications",vTe={namespaced:!0,state:()=>({requests:[],items:[],lastFetch:null,lastParams:{},currentItemIdx:null,lastFetchBy:null}),getters:{applications:e=>e.items,all:e=>e.items,requestCount:e=>e.requests.length,hasPendingRequests:e=>e.requests.length>0,gceps:e=>e.items.filter(t=>t.expert_panel_type_id===1),vceps:e=>e.items.filter(t=>t.expert_panel_type_id===2),currentItem:e=>e.currentItemIdx===null?new fp:e.items[e.currentItemIdx],getApplicationByUuid:e=>t=>e.items.find(n=>n.uuid===t)},mutations:{addApplication(e,t){const n=new fp(t),r=e.items.findIndex(i=>i.uuid===t.uuid);if(r>-1){e.items.splice(r,1,n);return}e.items.push(n)},clearApplications(e){e.items=[]},setLastFetch(e){e.lastFetch=new Date},setLastParams(e,t){e.lastParams=t},setCurrentItemIndex(e,t){const n=e.items.findIndex(r=>r.uuid===t.uuid);e.currentItemIdx=n},removeItem(e,t){const n=e.items.findIndex(r=>r.uuid===t.uuid);e.items.splice(n,1)},clearCurrentItemIdx(e){e.currentItemIdx=null}},actions:{getApplications({commit:e},t){Z.get(rg+ls(t)).then(n=>{n.data.data.forEach(r=>{e("addApplication",r)})})},async initiateApplication({commit:e,dispatch:t},n){await Ms.initiate(n).then(r=>{e("addApplication",r),t("getApplications")})},async getApplication({commit:e},t){await Ms.find(t,{with:["group.logEntries","group.documents","contacts","group.logEntries.causer","cois","group.documents.type","nextActions"]}).then(n=>{e("addApplication",n),e("setCurrentItemIndex",n)})},async updateEpAttributes({dispatch:e},t){await Ms.updateEpAttributes(t).then(()=>{e("getApplication",t.uuid)})},async addNextAction({commit:e},{application:t,nextActionData:n}){return n.uuid||(n.uuid=co()),await Z.post(`${rg}/${t.uuid}/next-actions`,n).then(r=>(t.nextActions.push(r.data),r))},async updateNextAction({dispatch:e},{application:t,updatedAction:n}){return n.uuid||(n.uuid=co()),await Z.put(`${rg}/${t.uuid}/next-actions/${n.id}`,n).then(r=>{const i=t.nextActions.findIndex(s=>s.id===r.data.id);return t.nextActions[i]=r.data,r})},async deleteNextAction({dispatch:e},{application:t,nextAction:n}){const r=`/api/applications/${t.uuid}/next-actions/${n.id}`;await Z.delete(r).then(i=>{const s=t.nextActions.findIndex(o=>o.id===n.id);return t.nextActions.splice(s,1),i})},async completeNextAction({dispatch:e},{application:t,nextAction:n,dateCompleted:r}){const i=`/api/applications/${t.uuid}/next-actions/${n.uuid}/complete`;await Z.post(i,{date_completed:r}).then(s=>{const o=t.nextActions.findIndex(a=>a.id===s.data.id);return t.nextActions[o]=s.data,s})},async addLogEntry({dispatch:e},{application:t,logEntryData:n}){const r=`/api/applications/${t.uuid}/log-entries`;await Z.post(r,n).then(()=>{e("getApplication",t.uuid)})},async updateLogEntry({dispatch:e},{application:t,updatedEntry:n}){const r=`/api/applications/${t.uuid}/log-entries/${n.id}`;await Z.put(r,n).then(()=>{e("getApplication",t.uuid)})},async deleteLogEntry({dispatch:e},{application:t,logEntry:n}){const r=`/api/applications/${t.uuid}/log-entries/${n.id}`;await Z.delete(r).then(()=>{e("getApplication",t.uuid)})},async addDocument({dispatch:e},{application:t,documentData:n}){await Ms.addDocument(t,n).then(r=>(e("getApplication",t.uuid),r))},async markDocumentReviewed({dispatch:e},{application:t,document:n,dateReviewed:r,isFinal:i}){await Ms.markDocumentReviewed(t,n,r,i).then(()=>{e("getApplication",t.uuid)})},async markDocumentVersionFinal({dispatch:e},{application:t,document:n}){await Z.post(`/api/applications/${t.uuid}/documents/${n.uuid}/final`).then(r=>{const i=t.documents.findIndex(a=>a.metadata.is_final===1),s=t.documents[i];s&&(s.metadata.is_final=0,s.is_final=0,t.documents[i]=s);const o=t.documents.findIndex(a=>a.id===r.data.id);t.documents[o]=r.data})},async updateDocumentInfo({dispatch:e},{application:t,document:n}){return await Z.putForm(`/api/applications/${t.uuid}/documents/${n.uuid}`,n).then(()=>{e("getApplication",t.uuid)})},async deleteDocument({dispatch:e},{application:t,document:n}){return await Z.delete(`/api/applications/${t.uuid}/documents/${n.uuid}`).then(()=>{e("getApplication",t.uuid)})},async approveCurrentStep({dispatch:e},{application:t,dateApproved:n,notifyContacts:r,subject:i,body:s,attachments:o}){const a=new FormData;a.append("date_approved",n),a.append("notify_contacts",r),a.append("subject",i),a.append("body",s),Array.from(o).forEach((u,c)=>{a.append(`attachments[${c}]`,u)});const l=`/api/applications/${t.uuid}/current-step/approve`;return await Z.postForm(l,a).then(()=>{e("getApplication",t.uuid)})},async updateApprovalDate({dispatch:e},{application:t,dateApproved:n,step:r}){await Z.put(`/api/applications/${t.uuid}/approve`,{date_approved:n,step:r}).then(()=>{e("getApplication",t.uuid)})},async addContact({dispatch:e},{application:t,contact:n}){await Ms.addContact(t,n).then(()=>{e("getApplication",t.uuid)})},async removeContact({dispatch:e},{application:t,contact:n}){await Ms.removeContact(t,n).then(()=>{e("getApplication",t.uuid)})},async deleteApplication({commit:e},{application:t}){return await Z.delete(`/api/applications/${t.uuid}`).then(()=>{e("removeItem",t),e("clearCurrentItemIdx")})}}},TTe={namespaced:!0,state:()=>({items:[]}),getters:{all:e=>e.items},mutations:{addItem(e,t){const n=e.items.findIndex(r=>r.id===t.id);if(n>-1){e.items.splice(n,1,t);return}e.items.push(t)}},actions:{async getAll({commit:e}){await Z.get("/api/cdwgs").then(t=>{t.data.forEach(n=>{e("addItem",n)})})}}},wTe={state:{},mutations:{},actions:{async storeCoi({commit:e},{code:t,groupMemberId:n,coiData:r}){const i={...r,group_member_id:n};await Z.post(`/api/coi/${t}`,i)},async storeLegacyCoi({commit:e},{application:t,coiData:n}){await Ms.addDocument(t,n).then(async r=>{const i={document_uuid:r.uuid,download_url:r.download_url};await Ne.dispatch("storeCoi",{code:t.coi_code,coiData:i}),Ne.dispatch("applications/getApplication",t.uuid)})}}};var ig,rA;function n6(){if(rA)return ig;rA=1;var e=typeof Od=="object"&&Od&&Od.Object===Object&&Od;return ig=e,ig}var sg,iA;function xs(){if(iA)return sg;iA=1;var e=n6(),t=typeof self=="object"&&self&&self.Object===Object&&self,n=e||t||Function("return this")();return sg=n,sg}var og,sA;function xh(){if(sA)return og;sA=1;var e=xs(),t=e.Symbol;return og=t,og}var ag,oA;function xTe(){if(oA)return ag;oA=1;var e=xh(),t=Object.prototype,n=t.hasOwnProperty,r=t.toString,i=e?e.toStringTag:void 0;function s(o){var a=n.call(o,i),l=o[i];try{o[i]=void 0;var u=!0}catch{}var c=r.call(o);return u&&(a?o[i]=l:delete o[i]),c}return ag=s,ag}var lg,aA;function CTe(){if(aA)return lg;aA=1;var e=Object.prototype,t=e.toString;function n(r){return t.call(r)}return lg=n,lg}var ug,lA;function od(){if(lA)return ug;lA=1;var e=xh(),t=xTe(),n=CTe(),r="[object Null]",i="[object Undefined]",s=e?e.toStringTag:void 0;function o(a){return a==null?a===void 0?i:r:s&&s in Object(a)?t(a):n(a)}return ug=o,ug}var cg,uA;function ZE(){if(uA)return cg;uA=1;function e(t){var n=typeof t;return t!=null&&(n=="object"||n=="function")}return cg=e,cg}var dg,cA;function r6(){if(cA)return dg;cA=1;var e=od(),t=ZE(),n="[object AsyncFunction]",r="[object Function]",i="[object GeneratorFunction]",s="[object Proxy]";function o(a){if(!t(a))return!1;var l=e(a);return l==r||l==i||l==n||l==s}return dg=o,dg}var fg,dA;function STe(){if(dA)return fg;dA=1;var e=xs(),t=e["__core-js_shared__"];return fg=t,fg}var pg,fA;function ATe(){if(fA)return pg;fA=1;var e=STe(),t=function(){var r=/[^.]+$/.exec(e&&e.keys&&e.keys.IE_PROTO||"");return r?"Symbol(src)_1."+r:""}();function n(r){return!!t&&t in r}return pg=n,pg}var hg,pA;function i6(){if(pA)return hg;pA=1;var e=Function.prototype,t=e.toString;function n(r){if(r!=null){try{return t.call(r)}catch{}try{return r+""}catch{}}return""}return hg=n,hg}var mg,hA;function OTe(){if(hA)return mg;hA=1;var e=r6(),t=ATe(),n=ZE(),r=i6(),i=/[\\^$.*+?()[\]{}|]/g,s=/^\[object .+?Constructor\]$/,o=Function.prototype,a=Object.prototype,l=o.toString,u=a.hasOwnProperty,c=RegExp("^"+l.call(u).replace(i,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function d(f){if(!n(f)||t(f))return!1;var p=e(f)?c:s;return p.test(r(f))}return mg=d,mg}var gg,mA;function kTe(){if(mA)return gg;mA=1;function e(t,n){return t==null?void 0:t[n]}return gg=e,gg}var bg,gA;function ma(){if(gA)return bg;gA=1;var e=OTe(),t=kTe();function n(r,i){var s=t(r,i);return e(s)?s:void 0}return bg=n,bg}var yg,bA;function ITe(){if(bA)return yg;bA=1;var e=ma(),t=function(){try{var n=e(Object,"defineProperty");return n({},"",{}),n}catch{}}();return yg=t,yg}var _g,yA;function NTe(){if(yA)return _g;yA=1;var e=ITe();function t(n,r,i){r=="__proto__"&&e?e(n,r,{configurable:!0,enumerable:!0,value:i,writable:!0}):n[r]=i}return _g=t,_g}var Eg,_A;function RTe(){if(_A)return Eg;_A=1;function e(t,n,r,i){for(var s=-1,o=t==null?0:t.length;++s<o;){var a=t[s];n(i,a,r(a),t)}return i}return Eg=e,Eg}var vg,EA;function DTe(){if(EA)return vg;EA=1;function e(t){return function(n,r,i){for(var s=-1,o=Object(n),a=i(n),l=a.length;l--;){var u=a[t?l:++s];if(r(o[u],u,o)===!1)break}return n}}return vg=e,vg}var Tg,vA;function MTe(){if(vA)return Tg;vA=1;var e=DTe(),t=e();return Tg=t,Tg}var wg,TA;function PTe(){if(TA)return wg;TA=1;function e(t,n){for(var r=-1,i=Array(t);++r<t;)i[r]=n(r);return i}return wg=e,wg}var xg,wA;function ad(){if(wA)return xg;wA=1;function e(t){return t!=null&&typeof t=="object"}return xg=e,xg}var Cg,xA;function LTe(){if(xA)return Cg;xA=1;var e=od(),t=ad(),n="[object Arguments]";function r(i){return t(i)&&e(i)==n}return Cg=r,Cg}var Sg,CA;function s6(){if(CA)return Sg;CA=1;var e=LTe(),t=ad(),n=Object.prototype,r=n.hasOwnProperty,i=n.propertyIsEnumerable,s=e(function(){return arguments}())?e:function(o){return t(o)&&r.call(o,"callee")&&!i.call(o,"callee")};return Sg=s,Sg}var Ag,SA;function Cs(){if(SA)return Ag;SA=1;var e=Array.isArray;return Ag=e,Ag}var Eu={exports:{}},Og,AA;function BTe(){if(AA)return Og;AA=1;function e(){return!1}return Og=e,Og}Eu.exports;var OA;function o6(){return OA||(OA=1,function(e,t){var n=xs(),r=BTe(),i=t&&!t.nodeType&&t,s=i&&!0&&e&&!e.nodeType&&e,o=s&&s.exports===i,a=o?n.Buffer:void 0,l=a?a.isBuffer:void 0,u=l||r;e.exports=u}(Eu,Eu.exports)),Eu.exports}var kg,kA;function a6(){if(kA)return kg;kA=1;var e=9007199254740991,t=/^(?:0|[1-9]\d*)$/;function n(r,i){var s=typeof r;return i=i??e,!!i&&(s=="number"||s!="symbol"&&t.test(r))&&r>-1&&r%1==0&&r<i}return kg=n,kg}var Ig,IA;function ev(){if(IA)return Ig;IA=1;var e=9007199254740991;function t(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=e}return Ig=t,Ig}var Ng,NA;function FTe(){if(NA)return Ng;NA=1;var e=od(),t=ev(),n=ad(),r="[object Arguments]",i="[object Array]",s="[object Boolean]",o="[object Date]",a="[object Error]",l="[object Function]",u="[object Map]",c="[object Number]",d="[object Object]",f="[object RegExp]",p="[object Set]",m="[object String]",g="[object WeakMap]",b="[object ArrayBuffer]",y="[object DataView]",E="[object Float32Array]",v="[object Float64Array]",w="[object Int8Array]",R="[object Int16Array]",_="[object Int32Array]",D="[object Uint8Array]",j="[object Uint8ClampedArray]",P="[object Uint16Array]",q="[object Uint32Array]",B={};B[E]=B[v]=B[w]=B[R]=B[_]=B[D]=B[j]=B[P]=B[q]=!0,B[r]=B[i]=B[b]=B[s]=B[y]=B[o]=B[a]=B[l]=B[u]=B[c]=B[d]=B[f]=B[p]=B[m]=B[g]=!1;function H(ee){return n(ee)&&t(ee.length)&&!!B[e(ee)]}return Ng=H,Ng}var Rg,RA;function $Te(){if(RA)return Rg;RA=1;function e(t){return function(n){return t(n)}}return Rg=e,Rg}var vu={exports:{}};vu.exports;var DA;function UTe(){return DA||(DA=1,function(e,t){var n=n6(),r=t&&!t.nodeType&&t,i=r&&!0&&e&&!e.nodeType&&e,s=i&&i.exports===r,o=s&&n.process,a=function(){try{var l=i&&i.require&&i.require("util").types;return l||o&&o.binding&&o.binding("util")}catch{}}();e.exports=a}(vu,vu.exports)),vu.exports}var Dg,MA;function l6(){if(MA)return Dg;MA=1;var e=FTe(),t=$Te(),n=UTe(),r=n&&n.isTypedArray,i=r?t(r):e;return Dg=i,Dg}var Mg,PA;function HTe(){if(PA)return Mg;PA=1;var e=PTe(),t=s6(),n=Cs(),r=o6(),i=a6(),s=l6(),o=Object.prototype,a=o.hasOwnProperty;function l(u,c){var d=n(u),f=!d&&t(u),p=!d&&!f&&r(u),m=!d&&!f&&!p&&s(u),g=d||f||p||m,b=g?e(u.length,String):[],y=b.length;for(var E in u)(c||a.call(u,E))&&!(g&&(E=="length"||p&&(E=="offset"||E=="parent")||m&&(E=="buffer"||E=="byteLength"||E=="byteOffset")||i(E,y)))&&b.push(E);return b}return Mg=l,Mg}var Pg,LA;function zTe(){if(LA)return Pg;LA=1;var e=Object.prototype;function t(n){var r=n&&n.constructor,i=typeof r=="function"&&r.prototype||e;return n===i}return Pg=t,Pg}var Lg,BA;function jTe(){if(BA)return Lg;BA=1;function e(t,n){return function(r){return t(n(r))}}return Lg=e,Lg}var Bg,FA;function qTe(){if(FA)return Bg;FA=1;var e=jTe(),t=e(Object.keys,Object);return Bg=t,Bg}var Fg,$A;function VTe(){if($A)return Fg;$A=1;var e=zTe(),t=qTe(),n=Object.prototype,r=n.hasOwnProperty;function i(s){if(!e(s))return t(s);var o=[];for(var a in Object(s))r.call(s,a)&&a!="constructor"&&o.push(a);return o}return Fg=i,Fg}var $g,UA;function u6(){if(UA)return $g;UA=1;var e=r6(),t=ev();function n(r){return r!=null&&t(r.length)&&!e(r)}return $g=n,$g}var Ug,HA;function tv(){if(HA)return Ug;HA=1;var e=HTe(),t=VTe(),n=u6();function r(i){return n(i)?e(i):t(i)}return Ug=r,Ug}var Hg,zA;function WTe(){if(zA)return Hg;zA=1;var e=MTe(),t=tv();function n(r,i){return r&&e(r,i,t)}return Hg=n,Hg}var zg,jA;function GTe(){if(jA)return zg;jA=1;var e=u6();function t(n,r){return function(i,s){if(i==null)return i;if(!e(i))return n(i,s);for(var o=i.length,a=r?o:-1,l=Object(i);(r?a--:++a<o)&&s(l[a],a,l)!==!1;);return i}}return zg=t,zg}var jg,qA;function YTe(){if(qA)return jg;qA=1;var e=WTe(),t=GTe(),n=t(e);return jg=n,jg}var qg,VA;function KTe(){if(VA)return qg;VA=1;var e=YTe();function t(n,r,i,s){return e(n,function(o,a,l){r(s,o,i(o),l)}),s}return qg=t,qg}var Vg,WA;function XTe(){if(WA)return Vg;WA=1;function e(){this.__data__=[],this.size=0}return Vg=e,Vg}var Wg,GA;function c6(){if(GA)return Wg;GA=1;function e(t,n){return t===n||t!==t&&n!==n}return Wg=e,Wg}var Gg,YA;function Ch(){if(YA)return Gg;YA=1;var e=c6();function t(n,r){for(var i=n.length;i--;)if(e(n[i][0],r))return i;return-1}return Gg=t,Gg}var Yg,KA;function QTe(){if(KA)return Yg;KA=1;var e=Ch(),t=Array.prototype,n=t.splice;function r(i){var s=this.__data__,o=e(s,i);if(o<0)return!1;var a=s.length-1;return o==a?s.pop():n.call(s,o,1),--this.size,!0}return Yg=r,Yg}var Kg,XA;function JTe(){if(XA)return Kg;XA=1;var e=Ch();function t(n){var r=this.__data__,i=e(r,n);return i<0?void 0:r[i][1]}return Kg=t,Kg}var Xg,QA;function ZTe(){if(QA)return Xg;QA=1;var e=Ch();function t(n){return e(this.__data__,n)>-1}return Xg=t,Xg}var Qg,JA;function ewe(){if(JA)return Qg;JA=1;var e=Ch();function t(n,r){var i=this.__data__,s=e(i,n);return s<0?(++this.size,i.push([n,r])):i[s][1]=r,this}return Qg=t,Qg}var Jg,ZA;function Sh(){if(ZA)return Jg;ZA=1;var e=XTe(),t=QTe(),n=JTe(),r=ZTe(),i=ewe();function s(o){var a=-1,l=o==null?0:o.length;for(this.clear();++a<l;){var u=o[a];this.set(u[0],u[1])}}return s.prototype.clear=e,s.prototype.delete=t,s.prototype.get=n,s.prototype.has=r,s.prototype.set=i,Jg=s,Jg}var Zg,eO;function twe(){if(eO)return Zg;eO=1;var e=Sh();function t(){this.__data__=new e,this.size=0}return Zg=t,Zg}var e0,tO;function nwe(){if(tO)return e0;tO=1;function e(t){var n=this.__data__,r=n.delete(t);return this.size=n.size,r}return e0=e,e0}var t0,nO;function rwe(){if(nO)return t0;nO=1;function e(t){return this.__data__.get(t)}return t0=e,t0}var n0,rO;function iwe(){if(rO)return n0;rO=1;function e(t){return this.__data__.has(t)}return n0=e,n0}var r0,iO;function nv(){if(iO)return r0;iO=1;var e=ma(),t=xs(),n=e(t,"Map");return r0=n,r0}var i0,sO;function Ah(){if(sO)return i0;sO=1;var e=ma(),t=e(Object,"create");return i0=t,i0}var s0,oO;function swe(){if(oO)return s0;oO=1;var e=Ah();function t(){this.__data__=e?e(null):{},this.size=0}return s0=t,s0}var o0,aO;function owe(){if(aO)return o0;aO=1;function e(t){var n=this.has(t)&&delete this.__data__[t];return this.size-=n?1:0,n}return o0=e,o0}var a0,lO;function awe(){if(lO)return a0;lO=1;var e=Ah(),t="__lodash_hash_undefined__",n=Object.prototype,r=n.hasOwnProperty;function i(s){var o=this.__data__;if(e){var a=o[s];return a===t?void 0:a}return r.call(o,s)?o[s]:void 0}return a0=i,a0}var l0,uO;function lwe(){if(uO)return l0;uO=1;var e=Ah(),t=Object.prototype,n=t.hasOwnProperty;function r(i){var s=this.__data__;return e?s[i]!==void 0:n.call(s,i)}return l0=r,l0}var u0,cO;function uwe(){if(cO)return u0;cO=1;var e=Ah(),t="__lodash_hash_undefined__";function n(r,i){var s=this.__data__;return this.size+=this.has(r)?0:1,s[r]=e&&i===void 0?t:i,this}return u0=n,u0}var c0,dO;function cwe(){if(dO)return c0;dO=1;var e=swe(),t=owe(),n=awe(),r=lwe(),i=uwe();function s(o){var a=-1,l=o==null?0:o.length;for(this.clear();++a<l;){var u=o[a];this.set(u[0],u[1])}}return s.prototype.clear=e,s.prototype.delete=t,s.prototype.get=n,s.prototype.has=r,s.prototype.set=i,c0=s,c0}var d0,fO;function dwe(){if(fO)return d0;fO=1;var e=cwe(),t=Sh(),n=nv();function r(){this.size=0,this.__data__={hash:new e,map:new(n||t),string:new e}}return d0=r,d0}var f0,pO;function fwe(){if(pO)return f0;pO=1;function e(t){var n=typeof t;return n=="string"||n=="number"||n=="symbol"||n=="boolean"?t!=="__proto__":t===null}return f0=e,f0}var p0,hO;function Oh(){if(hO)return p0;hO=1;var e=fwe();function t(n,r){var i=n.__data__;return e(r)?i[typeof r=="string"?"string":"hash"]:i.map}return p0=t,p0}var h0,mO;function pwe(){if(mO)return h0;mO=1;var e=Oh();function t(n){var r=e(this,n).delete(n);return this.size-=r?1:0,r}return h0=t,h0}var m0,gO;function hwe(){if(gO)return m0;gO=1;var e=Oh();function t(n){return e(this,n).get(n)}return m0=t,m0}var g0,bO;function mwe(){if(bO)return g0;bO=1;var e=Oh();function t(n){return e(this,n).has(n)}return g0=t,g0}var b0,yO;function gwe(){if(yO)return b0;yO=1;var e=Oh();function t(n,r){var i=e(this,n),s=i.size;return i.set(n,r),this.size+=i.size==s?0:1,this}return b0=t,b0}var y0,_O;function rv(){if(_O)return y0;_O=1;var e=dwe(),t=pwe(),n=hwe(),r=mwe(),i=gwe();function s(o){var a=-1,l=o==null?0:o.length;for(this.clear();++a<l;){var u=o[a];this.set(u[0],u[1])}}return s.prototype.clear=e,s.prototype.delete=t,s.prototype.get=n,s.prototype.has=r,s.prototype.set=i,y0=s,y0}var _0,EO;function bwe(){if(EO)return _0;EO=1;var e=Sh(),t=nv(),n=rv(),r=200;function i(s,o){var a=this.__data__;if(a instanceof e){var l=a.__data__;if(!t||l.length<r-1)return l.push([s,o]),this.size=++a.size,this;a=this.__data__=new n(l)}return a.set(s,o),this.size=a.size,this}return _0=i,_0}var E0,vO;function d6(){if(vO)return E0;vO=1;var e=Sh(),t=twe(),n=nwe(),r=rwe(),i=iwe(),s=bwe();function o(a){var l=this.__data__=new e(a);this.size=l.size}return o.prototype.clear=t,o.prototype.delete=n,o.prototype.get=r,o.prototype.has=i,o.prototype.set=s,E0=o,E0}var v0,TO;function ywe(){if(TO)return v0;TO=1;var e="__lodash_hash_undefined__";function t(n){return this.__data__.set(n,e),this}return v0=t,v0}var T0,wO;function _we(){if(wO)return T0;wO=1;function e(t){return this.__data__.has(t)}return T0=e,T0}var w0,xO;function Ewe(){if(xO)return w0;xO=1;var e=rv(),t=ywe(),n=_we();function r(i){var s=-1,o=i==null?0:i.length;for(this.__data__=new e;++s<o;)this.add(i[s])}return r.prototype.add=r.prototype.push=t,r.prototype.has=n,w0=r,w0}var x0,CO;function vwe(){if(CO)return x0;CO=1;function e(t,n){for(var r=-1,i=t==null?0:t.length;++r<i;)if(n(t[r],r,t))return!0;return!1}return x0=e,x0}var C0,SO;function Twe(){if(SO)return C0;SO=1;function e(t,n){return t.has(n)}return C0=e,C0}var S0,AO;function f6(){if(AO)return S0;AO=1;var e=Ewe(),t=vwe(),n=Twe(),r=1,i=2;function s(o,a,l,u,c,d){var f=l&r,p=o.length,m=a.length;if(p!=m&&!(f&&m>p))return!1;var g=d.get(o),b=d.get(a);if(g&&b)return g==a&&b==o;var y=-1,E=!0,v=l&i?new e:void 0;for(d.set(o,a),d.set(a,o);++y<p;){var w=o[y],R=a[y];if(u)var _=f?u(R,w,y,a,o,d):u(w,R,y,o,a,d);if(_!==void 0){if(_)continue;E=!1;break}if(v){if(!t(a,function(D,j){if(!n(v,j)&&(w===D||c(w,D,l,u,d)))return v.push(j)})){E=!1;break}}else if(!(w===R||c(w,R,l,u,d))){E=!1;break}}return d.delete(o),d.delete(a),E}return S0=s,S0}var A0,OO;function wwe(){if(OO)return A0;OO=1;var e=xs(),t=e.Uint8Array;return A0=t,A0}var O0,kO;function xwe(){if(kO)return O0;kO=1;function e(t){var n=-1,r=Array(t.size);return t.forEach(function(i,s){r[++n]=[s,i]}),r}return O0=e,O0}var k0,IO;function Cwe(){if(IO)return k0;IO=1;function e(t){var n=-1,r=Array(t.size);return t.forEach(function(i){r[++n]=i}),r}return k0=e,k0}var I0,NO;function Swe(){if(NO)return I0;NO=1;var e=xh(),t=wwe(),n=c6(),r=f6(),i=xwe(),s=Cwe(),o=1,a=2,l="[object Boolean]",u="[object Date]",c="[object Error]",d="[object Map]",f="[object Number]",p="[object RegExp]",m="[object Set]",g="[object String]",b="[object Symbol]",y="[object ArrayBuffer]",E="[object DataView]",v=e?e.prototype:void 0,w=v?v.valueOf:void 0;function R(_,D,j,P,q,B,H){switch(j){case E:if(_.byteLength!=D.byteLength||_.byteOffset!=D.byteOffset)return!1;_=_.buffer,D=D.buffer;case y:return!(_.byteLength!=D.byteLength||!B(new t(_),new t(D)));case l:case u:case f:return n(+_,+D);case c:return _.name==D.name&&_.message==D.message;case p:case g:return _==D+"";case d:var ee=i;case m:var ye=P&o;if(ee||(ee=s),_.size!=D.size&&!ye)return!1;var pe=H.get(_);if(pe)return pe==D;P|=a,H.set(_,D);var xe=r(ee(_),ee(D),P,q,B,H);return H.delete(_),xe;case b:if(w)return w.call(_)==w.call(D)}return!1}return I0=R,I0}var N0,RO;function Awe(){if(RO)return N0;RO=1;function e(t,n){for(var r=-1,i=n.length,s=t.length;++r<i;)t[s+r]=n[r];return t}return N0=e,N0}var R0,DO;function Owe(){if(DO)return R0;DO=1;var e=Awe(),t=Cs();function n(r,i,s){var o=i(r);return t(r)?o:e(o,s(r))}return R0=n,R0}var D0,MO;function kwe(){if(MO)return D0;MO=1;function e(t,n){for(var r=-1,i=t==null?0:t.length,s=0,o=[];++r<i;){var a=t[r];n(a,r,t)&&(o[s++]=a)}return o}return D0=e,D0}var M0,PO;function Iwe(){if(PO)return M0;PO=1;function e(){return[]}return M0=e,M0}var P0,LO;function Nwe(){if(LO)return P0;LO=1;var e=kwe(),t=Iwe(),n=Object.prototype,r=n.propertyIsEnumerable,i=Object.getOwnPropertySymbols,s=i?function(o){return o==null?[]:(o=Object(o),e(i(o),function(a){return r.call(o,a)}))}:t;return P0=s,P0}var L0,BO;function Rwe(){if(BO)return L0;BO=1;var e=Owe(),t=Nwe(),n=tv();function r(i){return e(i,n,t)}return L0=r,L0}var B0,FO;function Dwe(){if(FO)return B0;FO=1;var e=Rwe(),t=1,n=Object.prototype,r=n.hasOwnProperty;function i(s,o,a,l,u,c){var d=a&t,f=e(s),p=f.length,m=e(o),g=m.length;if(p!=g&&!d)return!1;for(var b=p;b--;){var y=f[b];if(!(d?y in o:r.call(o,y)))return!1}var E=c.get(s),v=c.get(o);if(E&&v)return E==o&&v==s;var w=!0;c.set(s,o),c.set(o,s);for(var R=d;++b<p;){y=f[b];var _=s[y],D=o[y];if(l)var j=d?l(D,_,y,o,s,c):l(_,D,y,s,o,c);if(!(j===void 0?_===D||u(_,D,a,l,c):j)){w=!1;break}R||(R=y=="constructor")}if(w&&!R){var P=s.constructor,q=o.constructor;P!=q&&"constructor"in s&&"constructor"in o&&!(typeof P=="function"&&P instanceof P&&typeof q=="function"&&q instanceof q)&&(w=!1)}return c.delete(s),c.delete(o),w}return B0=i,B0}var F0,$O;function Mwe(){if($O)return F0;$O=1;var e=ma(),t=xs(),n=e(t,"DataView");return F0=n,F0}var $0,UO;function Pwe(){if(UO)return $0;UO=1;var e=ma(),t=xs(),n=e(t,"Promise");return $0=n,$0}var U0,HO;function Lwe(){if(HO)return U0;HO=1;var e=ma(),t=xs(),n=e(t,"Set");return U0=n,U0}var H0,zO;function Bwe(){if(zO)return H0;zO=1;var e=ma(),t=xs(),n=e(t,"WeakMap");return H0=n,H0}var z0,jO;function Fwe(){if(jO)return z0;jO=1;var e=Mwe(),t=nv(),n=Pwe(),r=Lwe(),i=Bwe(),s=od(),o=i6(),a="[object Map]",l="[object Object]",u="[object Promise]",c="[object Set]",d="[object WeakMap]",f="[object DataView]",p=o(e),m=o(t),g=o(n),b=o(r),y=o(i),E=s;return(e&&E(new e(new ArrayBuffer(1)))!=f||t&&E(new t)!=a||n&&E(n.resolve())!=u||r&&E(new r)!=c||i&&E(new i)!=d)&&(E=function(v){var w=s(v),R=w==l?v.constructor:void 0,_=R?o(R):"";if(_)switch(_){case p:return f;case m:return a;case g:return u;case b:return c;case y:return d}return w}),z0=E,z0}var j0,qO;function $we(){if(qO)return j0;qO=1;var e=d6(),t=f6(),n=Swe(),r=Dwe(),i=Fwe(),s=Cs(),o=o6(),a=l6(),l=1,u="[object Arguments]",c="[object Array]",d="[object Object]",f=Object.prototype,p=f.hasOwnProperty;function m(g,b,y,E,v,w){var R=s(g),_=s(b),D=R?c:i(g),j=_?c:i(b);D=D==u?d:D,j=j==u?d:j;var P=D==d,q=j==d,B=D==j;if(B&&o(g)){if(!o(b))return!1;R=!0,P=!1}if(B&&!P)return w||(w=new e),R||a(g)?t(g,b,y,E,v,w):n(g,b,D,y,E,v,w);if(!(y&l)){var H=P&&p.call(g,"__wrapped__"),ee=q&&p.call(b,"__wrapped__");if(H||ee){var ye=H?g.value():g,pe=ee?b.value():b;return w||(w=new e),v(ye,pe,y,E,w)}}return B?(w||(w=new e),r(g,b,y,E,v,w)):!1}return j0=m,j0}var q0,VO;function p6(){if(VO)return q0;VO=1;var e=$we(),t=ad();function n(r,i,s,o,a){return r===i?!0:r==null||i==null||!t(r)&&!t(i)?r!==r&&i!==i:e(r,i,s,o,n,a)}return q0=n,q0}var V0,WO;function Uwe(){if(WO)return V0;WO=1;var e=d6(),t=p6(),n=1,r=2;function i(s,o,a,l){var u=a.length,c=u,d=!l;if(s==null)return!c;for(s=Object(s);u--;){var f=a[u];if(d&&f[2]?f[1]!==s[f[0]]:!(f[0]in s))return!1}for(;++u<c;){f=a[u];var p=f[0],m=s[p],g=f[1];if(d&&f[2]){if(m===void 0&&!(p in s))return!1}else{var b=new e;if(l)var y=l(m,g,p,s,o,b);if(!(y===void 0?t(g,m,n|r,l,b):y))return!1}}return!0}return V0=i,V0}var W0,GO;function h6(){if(GO)return W0;GO=1;var e=ZE();function t(n){return n===n&&!e(n)}return W0=t,W0}var G0,YO;function Hwe(){if(YO)return G0;YO=1;var e=h6(),t=tv();function n(r){for(var i=t(r),s=i.length;s--;){var o=i[s],a=r[o];i[s]=[o,a,e(a)]}return i}return G0=n,G0}var Y0,KO;function m6(){if(KO)return Y0;KO=1;function e(t,n){return function(r){return r==null?!1:r[t]===n&&(n!==void 0||t in Object(r))}}return Y0=e,Y0}var K0,XO;function zwe(){if(XO)return K0;XO=1;var e=Uwe(),t=Hwe(),n=m6();function r(i){var s=t(i);return s.length==1&&s[0][2]?n(s[0][0],s[0][1]):function(o){return o===i||e(o,i,s)}}return K0=r,K0}var X0,QO;function iv(){if(QO)return X0;QO=1;var e=od(),t=ad(),n="[object Symbol]";function r(i){return typeof i=="symbol"||t(i)&&e(i)==n}return X0=r,X0}var Q0,JO;function sv(){if(JO)return Q0;JO=1;var e=Cs(),t=iv(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(s,o){if(e(s))return!1;var a=typeof s;return a=="number"||a=="symbol"||a=="boolean"||s==null||t(s)?!0:r.test(s)||!n.test(s)||o!=null&&s in Object(o)}return Q0=i,Q0}var J0,ZO;function jwe(){if(ZO)return J0;ZO=1;var e=rv(),t="Expected a function";function n(r,i){if(typeof r!="function"||i!=null&&typeof i!="function")throw new TypeError(t);var s=function(){var o=arguments,a=i?i.apply(this,o):o[0],l=s.cache;if(l.has(a))return l.get(a);var u=r.apply(this,o);return s.cache=l.set(a,u)||l,u};return s.cache=new(n.Cache||e),s}return n.Cache=e,J0=n,J0}var Z0,ek;function qwe(){if(ek)return Z0;ek=1;var e=jwe(),t=500;function n(r){var i=e(r,function(o){return s.size===t&&s.clear(),o}),s=i.cache;return i}return Z0=n,Z0}var eb,tk;function Vwe(){if(tk)return eb;tk=1;var e=qwe(),t=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,n=/\\(\\)?/g,r=e(function(i){var s=[];return i.charCodeAt(0)===46&&s.push(""),i.replace(t,function(o,a,l,u){s.push(l?u.replace(n,"$1"):a||o)}),s});return eb=r,eb}var tb,nk;function Wwe(){if(nk)return tb;nk=1;function e(t,n){for(var r=-1,i=t==null?0:t.length,s=Array(i);++r<i;)s[r]=n(t[r],r,t);return s}return tb=e,tb}var nb,rk;function Gwe(){if(rk)return nb;rk=1;var e=xh(),t=Wwe(),n=Cs(),r=iv(),i=e?e.prototype:void 0,s=i?i.toString:void 0;function o(a){if(typeof a=="string")return a;if(n(a))return t(a,o)+"";if(r(a))return s?s.call(a):"";var l=a+"";return l=="0"&&1/a==-1/0?"-0":l}return nb=o,nb}var rb,ik;function Ywe(){if(ik)return rb;ik=1;var e=Gwe();function t(n){return n==null?"":e(n)}return rb=t,rb}var ib,sk;function g6(){if(sk)return ib;sk=1;var e=Cs(),t=sv(),n=Vwe(),r=Ywe();function i(s,o){return e(s)?s:t(s,o)?[s]:n(r(s))}return ib=i,ib}var sb,ok;function kh(){if(ok)return sb;ok=1;var e=iv();function t(n){if(typeof n=="string"||e(n))return n;var r=n+"";return r=="0"&&1/n==-1/0?"-0":r}return sb=t,sb}var ob,ak;function b6(){if(ak)return ob;ak=1;var e=g6(),t=kh();function n(r,i){i=e(i,r);for(var s=0,o=i.length;r!=null&&s<o;)r=r[t(i[s++])];return s&&s==o?r:void 0}return ob=n,ob}var ab,lk;function Kwe(){if(lk)return ab;lk=1;var e=b6();function t(n,r,i){var s=n==null?void 0:e(n,r);return s===void 0?i:s}return ab=t,ab}var lb,uk;function Xwe(){if(uk)return lb;uk=1;function e(t,n){return t!=null&&n in Object(t)}return lb=e,lb}var ub,ck;function Qwe(){if(ck)return ub;ck=1;var e=g6(),t=s6(),n=Cs(),r=a6(),i=ev(),s=kh();function o(a,l,u){l=e(l,a);for(var c=-1,d=l.length,f=!1;++c<d;){var p=s(l[c]);if(!(f=a!=null&&u(a,p)))break;a=a[p]}return f||++c!=d?f:(d=a==null?0:a.length,!!d&&i(d)&&r(p,d)&&(n(a)||t(a)))}return ub=o,ub}var cb,dk;function Jwe(){if(dk)return cb;dk=1;var e=Xwe(),t=Qwe();function n(r,i){return r!=null&&t(r,i,e)}return cb=n,cb}var db,fk;function Zwe(){if(fk)return db;fk=1;var e=p6(),t=Kwe(),n=Jwe(),r=sv(),i=h6(),s=m6(),o=kh(),a=1,l=2;function u(c,d){return r(c)&&i(d)?s(o(c),d):function(f){var p=t(f,c);return p===void 0&&p===d?n(f,c):e(d,p,a|l)}}return db=u,db}var fb,pk;function exe(){if(pk)return fb;pk=1;function e(t){return t}return fb=e,fb}var pb,hk;function txe(){if(hk)return pb;hk=1;function e(t){return function(n){return n==null?void 0:n[t]}}return pb=e,pb}var hb,mk;function nxe(){if(mk)return hb;mk=1;var e=b6();function t(n){return function(r){return e(r,n)}}return hb=t,hb}var mb,gk;function rxe(){if(gk)return mb;gk=1;var e=txe(),t=nxe(),n=sv(),r=kh();function i(s){return n(s)?e(r(s)):t(s)}return mb=i,mb}var gb,bk;function ixe(){if(bk)return gb;bk=1;var e=zwe(),t=Zwe(),n=exe(),r=Cs(),i=rxe();function s(o){return typeof o=="function"?o:o==null?n:typeof o=="object"?r(o)?t(o[0],o[1]):e(o):i(o)}return gb=s,gb}var bb,yk;function sxe(){if(yk)return bb;yk=1;var e=RTe(),t=KTe(),n=ixe(),r=Cs();function i(s,o){return function(a,l){var u=r(a)?e:t,c=o?o():{};return u(a,s,n(l,2),c)}}return bb=i,bb}var yb,_k;function oxe(){if(_k)return yb;_k=1;var e=NTe(),t=sxe(),n=Object.prototype,r=n.hasOwnProperty,i=t(function(s,o,a){r.call(s,a)?s[a].push(o):e(s,a,[o])});return yb=i,yb}var axe=oxe();const lxe=LD(axe),vt="/api/groups",uu=e=>`${vt}/${e}/expert-panel`,gy={groups:e=>e.items,items:e=>e.items,all:e=>e.items,requestCount:e=>e.requests.length,hasPendingRequests:e=>e.requests.length>0,eps:e=>e.items.filter(t=>t.group_type_id===3),cdwgs:e=>e.items.filter(t=>t.group_type_id===2),wgs:e=>e.items.filter(t=>t.group_type_id===1),currentItem:e=>e.items[e.currentItemIdx],currentItemOrNew:e=>e.items[e.currentItemIdx]||new Ic,getItemByUuid:e=>t=>e.items.find(r=>r.uuid===t),getItemById:e=>t=>e.items.find(r=>r.id===t)},uxe={addItem(e,t){if(!t.id)throw new Error("404: group item id is required");const n=Object.prototype.hasOwnProperty.call(t,"attributes")?t:new Ic(t),r=e.items.findIndex(i=>i.id===t.id);if(r>-1){e.items.splice(r,1,n);return}e.items.push(n)},setCurrentItemIndex(e,t){const n=e.items.findIndex(r=>r.uuid===t.uuid);e.currentItemIdx=n},removeItem(e,t){const n=e.items.findIndex(r=>r.uuid===t.uuid);e.items.splice(n,1)},clearCurrentItemIdx(e){e.currentItemIdx=null},clearCurrentItem(e){e.currentItemIdx=null},addMemberToGroup(e,t){const n=gy.getItemById(e)(t.group_id);if(!n)throw new Error(`could not find group with id ${t.group_id} in items.`);n.addMember(t)},removeMember(e,t){const n=gy.getItemById(e)(t.group_id);if(!n)throw new Error(`could not find group with id ${t.group_id} in items.`);n.removeMember(t)},setCurrentItemIndexByUuid(e,t){if(e.items.length>0){const n=e.items.findIndex(r=>r.uuid===t);if(n>-1){e.currentItemIdx=n;return}throw new Error(`Item with uuid ${t} not found in groups.items with length ${e.items.length}`)}}},cxe={async create({commit:e},t){return await Z.post(vt,t).then(n=>(e("addItem",n.data.data),n))},async getItems({commit:e},t){const n=vt+ls(t);(await Z.get(n).then(i=>i.data)).forEach(i=>{e("addItem",i)})},async find({commit:e},t){const n=`${vt}/${t}${ls({with:[]})}`;return await Z.get(n).then(r=>(e("addItem",r.data.data),r))},delete({commit:e,getters:t},n){return Z.delete(`${vt}/${n}`).then(()=>{const r=t.getItemByUuid(n);e("removeItem",r)})},findAndSetCurrent({dispatch:e,commit:t},n){return e("find",n).then(r=>(t("setCurrentItemIndexByUuid",n),r))},async memberAdd({commit:e},{uuid:t,personId:n,roleIds:r,data:i}){const s=`${vt}/${t}/members`;return await Z.post(s,{person_id:n,role_ids:r,...i}).then(o=>(e("addMemberToGroup",o.data.data),o.data.data))},async getMembers({commit:e},t){(await Z.get(`${vt}/${t.uuid}/members`).then(r=>r.data.data)).forEach(r=>{e("addMemberToGroup",r)})},async memberInvite({commit:e},{uuid:t,data:n}){const r=`${vt}/${t}/invites`,i={first_name:n.firstName,last_name:n.lastName,email:n.email,role_ids:n.roleIds||null,...n};return await Z.post(r,i).then(s=>(e("addMemberToGroup",s.data.data),s.data))},async memberUpdate({commit:e},{groupUuid:t,memberId:n,data:r}){const i=`${vt}/${t}/members/${n}`;return await Z.put(i,r).then(s=>(e("addMemberToGroup",s.data.data),s.data))},async memberAssignRole(e,{uuid:t,memberId:n,roleIds:r}){const i=`${vt}/${t}/members/${n}/roles`;return await Z.post(i,{role_ids:r}).then(s=>(e.getters.getItemByUuid(t).findMember(n).addRoles(r),s.data))},async memberRemoveRole({commit:e},{uuid:t,memberId:n,roleId:r}){const i=`${vt}/${t}/members/${n}/roles/${r}`;return await Z.delete(i).then(s=>(e("addMemberToGroup",s.data.data),s))},async memberSyncRoles({dispatch:e},{group:t,member:n}){const r=[];return n.addedRoles.length>0&&r.push(e("memberAssignRole",{uuid:t.uuid,memberId:n.id,roleIds:n.addedRoles.map(i=>i.id)})),n.removedRoles.forEach(i=>{r.push(e("memberRemoveRole",{uuid:t.uuid,memberId:n.id,roleId:i.id}))}),r},async memberGrantPermission({commit:e},{uuid:t,memberId:n,permissionIds:r}){const i=`${vt}/${t}/members/${n}/permissions`;return await Z.post(i,{permission_ids:r}).then(s=>(e("addMemberToGroup",s.data.data),s))},async memberRevokePermission({commit:e},{uuid:t,memberId:n,permissionId:r}){const i=`${vt}/${t}/members/${n}/permissions/${r}`;return await Z.delete(i).then(s=>(e("addMemberToGroup",s.data.data),s))},async memberRetire({commit:e},{uuid:t,memberId:n,startDate:r,endDate:i}){const s=`${vt}/${t}/members/${n}/retire`;return await Z.post(s,{start_date:r,end_date:i}).then(o=>(e("addMemberToGroup",o.data.data),o))},async memberUnretire({commit:e},{uuid:t,memberId:n}){const r=`${vt}/${t}/members/${n}/unretire`;return await Z.post(r).then(i=>(e("addMemberToGroup",i.data.data),i))},async memberRemove({commit:e},{uuid:t,memberId:n,endDate:r}){const i=`${vt}/${t}/members/${n}`;return await Z.delete(i,{data:{end_date:r}}).then(s=>(e("removeMember",s.data.data),s))},async descriptionUpdate({commit:e,getters:t},{uuid:n,description:r}){return await Z.put(`${vt}/${n}`,{description:r}).then(i=>{const s=t.getItemByUuid(n);return s.description=i.data.description,e("addItem",s),i})},async membershipDescriptionUpdate({commit:e,getters:t},{uuid:n,membershipDescription:r}){return await Z.put(`${uu(n)}/membership-description`,{membership_description:r}).then(i=>{const s=t.getItemByUuid(n);return s.memberDescription=i.data.data.expert_panel.memberDescription,e("addItem",s),i})},async scopeDescriptionUpdate({commit:e,getters:t},{uuid:n,scopeDescription:r}){return await Z.put(`${uu(n)}/scope-description`,{scope_description:r}).then(i=>{const s=t.getItemByUuid(n);return s.memberDescription=i.data.data.expert_panel.scopeDescription,e("addItem",s),i})},async curationReviewProtocolUpdate({commit:e},{uuid:t,expertPanel:n}){return n.curation_review_protocol_id!==100&&(n.curation_review_protocol_other=null),Z.put(`${uu(t)}/curation-review-protocols`,n.attributes)},getSpecifications({commit:e},t){if(!t.is_vcep_or_scvcep)throw new Error("Can not retreive specfications. Only VCEPS have specifications.");return Z.get(`${vt}/${t.uuid}/specifications`).then(n=>{t.expert_panel.specifications=n.data,e("addItem",t)})},async getGenes({commit:e,getters:t,dispatch:n},r){const s=(await Z.get(`${uu(r.uuid)}/genes`)).data,o=t.getItemByUuid(r.uuid),a=s.map(u=>u.gene_symbol).filter(Boolean),l=s.map(u=>{var c;return(c=u.plan)==null?void 0:c.curation_id}).filter(Boolean);if(a.length&&r.is_gcep){const u=await n("loadCurationStatuses",a),c=Object.fromEntries(u.map(d=>[d.gene_symbol,d]));o.expert_panel.genes=s.map(d=>{var f,p;return{...d,statuses:((f=c[d.gene_symbol])==null?void 0:f.statuses)||["Not Curated"],details:((p=c[d.gene_symbol])==null?void 0:p.entries)||[]}})}else if(r.is_vcep_or_scvcep){console.log("group.is_vcep_or_scvcep",r.is_vcep_or_scvcep);const c=(await Z.post("/api/curationids",{curation_ids:l.join(",")})).data.data,d=Object.fromEntries(c.map(f=>[String(f.curation_id),f]));o.expert_panel.genes=s.map(f=>{const p=f.plan||{},m=(p==null?void 0:p.curation_id)!=null?String(p.curation_id):null,g=m?d[m]:void 0,b=(p==null?void 0:p.checkKey)||null,y=(g==null?void 0:g.checkKey)||null;let E=!1,v=null;return b&&y&&(E=b!==y,E&&(v=g)),{...f,is_outdated:E,gt_data:v}})}else o.expert_panel.genes=s;return console.log("item.expert_panel.genes: ",o.expert_panel.genes),e("addItem",o),s},async loadCurationStatuses(e,t){if(!t||t.length===0)return[];try{const n=t.map(a=>a.toUpperCase()),i=((await Z.post("/api/genes/check-genes",{gene_symbol:t.join(", ")})).data.data||[]).map(a=>({...a,gene_symbol:a.gene_symbol.toUpperCase()})),s=lxe(i,"gene_symbol");return n.map((a,l)=>{const u=s[a]||[];if(u.length===0)return{gene_symbol:t[l],entries:[],statuses:["Not Curated"]};const c=[...new Set(u.map(d=>d.current_status||"Unknown"))];return{gene_symbol:t[l],entries:u,statuses:c,tier:null}})}catch(n){return console.error("Failed to load curation status:",n),[]}},getEvidenceSummaries({commit:e,getters:t},n){return Z.get(`${uu(n.uuid)}/evidence-summaries`).then(r=>{const i=t.getItemByUuid(n.uuid);return i.expert_panel.evidence_summaries=r.data.data,e("addItem",i),r.data.data})},saveApplicationData({commit:e},t){const n=qH(t.expert_panel.attributes);return delete n.group,Z.put(`${vt}/${t.uuid}/application`,n).then(r=>r)},submitApplicationStep({commit:e},{group:t,notes:n}){return Z.post(`${vt}/${t.uuid}/application/submission`,{notes:n}).then(r=>(t.expert_panel.submissions.push(r.data),e("addItem",t),r))},getSubmissions({commit:e},t){return Z.get(`${vt}/${t.uuid}/application/submission`).then(n=>(t.expert_panel.submissions=n.data,e("addItem",t),n))},getNextActions({commit:e},t){return Z.get(`${vt}/${t.uuid}/next-actions`).then(n=>(t.expert_panel.nextActions=n.data,e("addItem",t),n))},getDocuments({commit:e},t){return Z.get(`${vt}/${t.uuid}/documents`).then(n=>(t.expert_panel.documents=n.data.filter(r=>r.document_type_id<8),t.documents=n.data,e("addItem",t),n))},addApplicationDocument({commit:e},{group:t,data:n}){return n.has("uuid")||n.append("uuid",co()),Z.postForm(`/api/applications/${t.expert_panel.uuid}/documents`,n).then(r=>(t.documents.push(r.data),r.data.document_type_id<8&&(t.expert_panel.documents.push(r.data),e("addItem",t)),r.data))},addDocument({commit:e},{group:t,data:n}){return n.has("uuid")||n.append("uuid",co()),Z.postForm(`${vt}/${t.uuid}/documents`,n).then(r=>(t.documents.push(r.data),r.data.document_type_id<8&&(t.expert_panel.documents.push(r.data),e("addItem",t)),r.data))},async updateDocument({commit:e},{group:t,document:n}){return Z.putForm(`/api/groups/${t.uuid}/documents/${n.uuid}`,n).then(r=>{const i=t.documents.findIndex(s=>s.id===n.id);return t.documents[i]=r.data,r})},async deleteDocument({commit:e},{group:t,document:n}){await Z.delete(`/api/applications/${t.expert_panel.uuid}/documents/${n.uuid}`).then(r=>{const i=t.documents.indexOf(n);return t.documents.splice(i,1),r})},async addLogEntry({dispatch:e},{group:t,logEntryData:n}){const r=`/api/groups/${t.uuid}/log-entries`;await Z.post(r,n).then(()=>{})},getPendingTasks({getters:e},t){const n=`${vt}/${t.uuid}/tasks?pending`;return Z.get(n).then(r=>{const i=e.getItemByUuid(t.uuid);return i.pendingTasks=r.data,r})},completeSustainedCurationReview({getters:e},t){const n=`${vt}/${t.uuid}/expert-panel/sustained-curation-reviews`;return Z.put(n).then(r=>{const i=e.getItemByUuid(t.uuid),s=i.pendingTasks||[];return r.data.forEach(o=>{const a=s.indexOf(l=>l.id===o.id);a>-1&&o.completed_at&&delete i.pendingTasks[a]}),r})},async updateApprovalDate({commit:e},{group:t,dateApproved:n,step:r}){return Z.put(`/api/applications/${t.expert_panel.uuid}/approve`,{date_approved:n,step:r}).then(()=>{t.expert_panel.updateApprovalDate(n,r)})},getAnnualUpdate(e,t){Z.get(`/api/groups/${t.uuid}/expert-panel/annual-updates`,{headers:{"X-Ignore-Missing":1}}).then(n=>{t.expert_panel.annualUpdate=n.data})},createAnnualUpdateForLatestWindow(e,t){return Z.post(`/api/groups/${t.uuid}/expert-panel/annual-updates`).then(n=>{t.expert_panel.annualUpdate=n.data})},getChildren(e,t){return Z.get(`/api/groups/${t.uuid}/children`).then(n=>{t.children=n.data.data})},async approveCurrentStep({dispatch:e},{group:t,dateApproved:n,notifyContacts:r,subject:i,body:s,attachments:o}){const a=new FormData;a.append("date_approved",n),a.append("notify_contacts",r),a.append("subject",i),a.append("body",s),Array.from(o).forEach((u,c)=>{a.append(`attachments[${c}]`,u)});const l=`/api/applications/${t.uuid}/current-step/approve`;return await Z.postForm(l,a).then(()=>{e("findAndSetCurrent",t.uuid)})}},dxe={namespaced:!0,state:()=>({requests:[],items:[],currentItemIdx:null}),getters:gy,mutations:uxe,actions:cxe},cu="/api/people",fxe=()=>({requests:[],items:[],lastFetch:null,currentItemIdx:null}),pxe={people:e=>e.items,all:e=>e.items,personWithUuid:e=>t=>e.items.find(n=>n.uuid===t),getPersonWithUuid:e=>t=>e.items.find(n=>n.uuid===t),indexForPersonWithUuid:e=>t=>e.items.findIndex(n=>n.uuid===t),currentItem:e=>typeof e.currentItemIdx>"u"||e.currentItemIdx==null||e.currentItemIdx<0?new gs:e.items[e.currentItemIdx]},hxe={addItem(e,t){let n=t;t instanceof gs||(n=new gs(t));const r=e.items.findIndex(i=>i.uuid===t.uuid);if(r>-1){e.items.splice(r,1,n);return}e.items.push(n)},removeItem(e,t){const n=e.items.findIndex(r=>r.id===t.id);n>-1&&e.items.splice(n,1)},clearItems(e){e.items=[]},setLastFetch(e){e.lastFetch=new Date},setLastParams(e,t){e.lastParams=t},setCurrentItemIndex(e,t){const n=e.items.findIndex(r=>r.uuid===t.uuid);n>-1&&(e.currentItemIdx=n)},clearCurrentItem(e){e.currentItemIdx=null}},mxe={async all({dispatch:e},t){e("getAll",{params:t})},async getAll({commit:e},{params:t}){e("setLastParams",t),await Z.get(cu+ls(t)).then(n=>{n.data.data.forEach(r=>{e("addItem",r),e("setLastFetch",new Date)})})},async getPeopleSinceLastFetch({commit:e,state:t},n=null){n===null&&(n=t.lastParams),(typeof n>"u"||n===null)&&(n={}),n.where||(n.where={}),n.where.since=t.lastFetch.toISOString(),await Z.get(cu+ls(n)).then(r=>{r.data.forEach(i=>{e("addItem",i),e("setLastFetch",new Date)})})},getPerson({commit:e},{uuid:t,params:n}){return Z.get(`${cu}/${t}${ls(n)}`).then(r=>(e("addItem",r.data.data),e("setCurrentItemIndex",r.data.data),r))},async updateAttributes({commit:e},{uuid:t,attributes:n}){await Z.put(`${cu}/${t}`,n).then(r=>{e("addItem",r.data)})},async updateProfile({commit:e},{uuid:t,attributes:n}){return Z.put(`${cu}/${t}/profile`,n).then(r=>(e("addItem",r.data),r))},getMail({commit:e},t){return t.uuid==null?!1:Z.get(`/api/people/${t.uuid}/email`).then(n=>(t.mailLog=n.data,n))},deletePerson({commit:e},t){return Z.delete(`/api/people/${t.uuid}`).then(n=>(e("removeItem",t),n))},mergePeople({commit:e},{authority:t,obsolete:n}){return Z.put("/api/people/merge",{authority_id:t.id,obsolete_id:n.id}).then(r=>{e("addItem",r.data),e("removeItem",n)})}},gxe={namespaced:!0,state:fxe,getters:pxe,mutations:hxe,actions:mxe},_b="/api/credentials",bxe={namespaced:!0,state:()=>({items:[],currentItemIdx:null}),getters:{items:e=>e.items},mutations:{addItem(e,t){if(!t.id)throw new Error("404: Item must have an id");const n=e.items.findIndex(r=>r.id===t.id);if(n>-1){e.items.splice(n,1,t);return}e.items.push(t)},setItems(e,t){e.items=t},removeItem(e,t){const n=e.items.findIndex(r=>r.id===t.id);e.items.splice(n,1)}},actions:{getItems({commit:e}){return Z.get(`${_b}?withCount[]=people`).then(t=>(e("setItems",t.data),t.data))},create({commit:e},t){return Z.post(_b,t).then(n=>(e("addItem",n.data),n))},update({commit:e},t){return Z.put(`${_b}/${t.id}`,t).then(n=>(console.log({rsp:n}),e("addItem",n.data),n))},merge({commit:e},{authority:t,obsolete:n}){return Z.put("/api/credentials/merge",{authority_id:t.id,obsolete_id:n.id}).then(r=>(e("removeItem",n),e("addItem",r.data),r))},delete({commit:e},t){return Z.delete(`/api/credentials/${t.id}`).then(n=>(e("removeItem",t),n))}}},Vd="/api/expertises",yxe={namespaced:!0,state:()=>({items:[],currentItemIdx:null}),getters:{items:e=>e.items},mutations:{addItem(e,t){if(!t.id)throw new Error("404: no id in expertise item");const n=e.items.findIndex(r=>r.id===t.id);if(n>-1){e.items.splice(n,1,t);return}e.items.push(t)},setItems(e,t){e.items=t},removeItem(e,t){const n=e.items.findIndex(r=>r.id===t.id);e.items.splice(n,1)}},actions:{getItems({commit:e}){return Z.get(`${Vd}?withCount[]=people`).then(t=>(e("setItems",t.data),t.data))},create({commit:e},t){return Z.post(Vd,t).then(n=>(e("addItem",n.data),n))},update({commit:e},t){return Z.put(`${Vd}/${t.id}`,t).then(n=>(console.log({rsp:n}),e("addItem",n.data),n))},delete({commit:e},t){return Z.delete(`${Vd}/${t.id}`).then(n=>(e("removeItem",t),n))}}},_xe=e=>{if(!e.baseUrl)throw new Error("Store module config baseUrl must be set.")};function y6(e={}){return _xe(e),{namespaced:!!e.namespace,state:{items:[],currentItemIdx:null},getters:{items:n=>n.items,getItems:n=>n.items,getItemById:n=>r=>n.items.find(i=>i.id===r),currentItem:n=>n.currentItemIdx===null?e.modelClass?new e.modelClass:{}:n.items[n.currentItemIdx]},mutations:{addItem(n,r){e.modelClass&&(r=new e.modelClass(r));const i=n.items.findIndex(s=>s.id===r.id);if(i>-1){n.items.splice(i,1,r);return}n.items.push(r)},clearItems(n){n.items=[]},setCurrentItemIndex(n,r){const i=n.items.findIndex(s=>s.uuid===r.uuid);n.currentItemIdx=i},...e.mutations},actions:{async getItems({commit:n}){const r=await Z.get(e.baseUrl).then(i=>i.data);for(const i in r)n("addItem",r[i])},...e.actions}}}const Exe=y6({baseUrl:"/api/document-types",namespace:"doctypes"}),vxe=y6({baseUrl:"/api/countries",namespace:"countries"}),Ne=Zz({state:{hostname:void 0,user:new gf,openRequests:0,authenticating:!0,authenticated:null,documentTypes:null,features:{legacyCoi:!1},systemInfo:{build:{},app:{features:{}}}},getters:{currentUser:e=>e.user,authed:e=>e.authenticated,isAuthed:e=>e.authenticated},mutations:{addRequest(e){e.openRequests++},removeRequest(e){e.openRequests--},setCurrentUser(e,t){e.user=new gf(t),Ne.commit("setAuthenticated",!0)},clearCurrentUser(e){e.user=new gf,Ne.commit("setAuthenticated",!1)},setAuthenticated(e,t){e.authenticated=t},startAuthenticating(e){e.authenticating=!0},stopAuthenticating(e){e.authenticating=!1}},actions:{async getCurrentUser({commit:e,dispatch:t,state:n}){if(!n.authenticated||n.user.id===null)try{await Z.get("/api/current-user").then(r=>{e("setCurrentUser",r.data.data)}),t("getSystemInfo")}catch(r){console.log(r),e("clearCurrentUser")}},async forceGetCurrentUser({commit:e}){try{await Z.get("/api/current-user").then(t=>{e("setCurrentUser",t.data.data)})}catch(t){console.log(t),e("clearCurrentUser")}},async login({commit:e},{email:t,password:n}){await Z.get("/sanctum/csrf-cookie"),await Z.post("/api/login",{email:t,password:n}).then(()=>{e("setAuthenticated",!0),Ne.dispatch("getCurrentUser",!0)})},async logout({commit:e}){try{await Z.post("/api/logout").then(()=>{e("clearCurrentUser")})}catch(t){I2(t)&&alert("You cannot log out because you are not logged in")}},async checkAuth({commit:e,state:t}){t.authenticated||await Z.get("/api/authenticated").then(()=>{e("setAuthenticated",!0)}).catch(n=>{n.response.status&&n.response.status===401&&e("setAuthenticated",!1)})},getSystemInfo({state:e}){e.authenticated&&Z.get("/api/system-info").then(t=>{e.systemInfo=t.data})}},modules:{alerts:HEe,applications:vTe,coiStore:wTe,cdwgs:TTe,credentials:bxe,groups:dxe,doctypes:Exe,people:gxe,expertises:yxe,countries:vxe}});Z.interceptors.request.use(e=>(Ne.commit("addRequest"),e),e=>(Ne.commit("removeRequest"),Promise.reject(e)));Z.interceptors.response.use(e=>(Ne.commit("removeRequest"),e),e=>{switch(Ne.commit("removeRequest"),e.response.status){case 401:return Ne.commit("setAuthenticated",!1),e;case 403:if(e.response.data.includes("The request to access this resource was rejected.")){const n=e.response.data.match(/Reference this support identifier:\s*(\d+)/)[1]||null;Ne.commit("pushError",`There is a Network Firewall issue.  Please contact support GPM Support ASAP at "gpm_support@clinicalgenome.org", providing details on your network connection and the following support ID: ${n}`)}else Ne.commit("pushError","You do not have permission to complete that action.  If you think this is an error please contact support at gpm_support@clinicalgenome.org");return e;case 404:return e.config.headers["X-Ignore-Missing"]!=="1"&&Ne.commit("pushError","We couldn't find something you're looking for."),e;case 500:return Ne.commit("pushError","We've encountered a problem trying to complete your request.  Support has been notified and we will be in touch."),e}return Promise.reject(e)});const Txe=()=>Fe(()=>import("./ApplicationsIndex-Dppwh3ck.js"),__vite__mapDeps([0,1,2])),Wd=()=>Fe(()=>import("./ApplicationDetail-BsJkR7nG.js"),__vite__mapDeps([3,4,5,6,7,8,9,10,11,12,13,14,15])),Eb=()=>Fe(()=>import("./CreateApplicationForm-BalXQv_h.js"),[]),Ek=()=>Fe(()=>import("./NextActionForm-BLU0gTnS.js"),[]),vk=()=>Fe(()=>import("./LogEntryForm-DRtzJoOd.js"),__vite__mapDeps([5,6])),Tk=()=>Fe(()=>import("./MemberForm-ltUlfvyV.js"),__vite__mapDeps([16,9,17,18])),wxe=()=>Fe(()=>import("./ConfirmDeleteLogEntry-Bw1iCnct.js"),__vite__mapDeps([19,6,20])),xxe=()=>Fe(()=>import("./ConfirmDeleteNextAction-BqmJNs-R.js"),__vite__mapDeps([21,20])),Cxe=()=>Fe(()=>import("./ConfirmDeleteApplication-CoR0enKy.js"),[]),Sxe=[{name:"ApplicationsIndex",path:"/applications",redirect:"/applications/vceps",components:{default:Txe,modal:Eb},meta:{protected:!0,permissions:["ep-applications-manage"]},children:[{name:"gceps",path:"gceps",components:{default:()=>Fe(()=>import("./GcepsList-Vag_6MBi.js"),__vite__mapDeps([22,23,24])),modal:Eb},meta:{protected:!0,permissions:["ep-applications-manage"]}},{name:"vceps",path:"vceps",components:{default:()=>Fe(()=>import("./VcepsList-BfSIiXKD.js"),__vite__mapDeps([25,23,24])),modal:Eb},meta:{protected:!0,permissions:["ep-applications-manage"]}}]},{name:"ApplicationDetail",path:"/applications/:uuid",component:Wd,props:!0,meta:{protected:!0,permissions:["ep-applications-manage","ep-applications-comment","ep-applications-approve"]},children:[{name:"NextAction",path:"next-action",component:Ek,meta:{default:Wd,showModal:!0,protected:!0,title:"Add Next Action",permissions:["ep-applications-manage"]},props:!0},{name:"EditNextAction",path:"next-actions/:id/edit",component:Ek,meta:{default:Wd,showModal:!0,protected:!0,title:"Add Next Action",permissions:["ep-applications-manage"]},props:!0},{name:"ConfirmDeleteNextAction",path:"next-actions/:id/delete",component:xxe,meta:{showModal:!0,protected:!0,title:"Delete Next Action",permissions:["ep-applications-manage"]},props:!0},{name:"LogEntry",path:"log-entry",component:vk,meta:{showModal:!0,protected:!0,permissions:["ep-applications-manage"],title:"Add Log Entry"},props:!0},{name:"EditLogEntry",path:"log-entries/:id/edit",component:vk,meta:{showModal:!0,protected:!0,permissions:["ep-applications-manage"],title:"Edit Log Entry"},props:!0},{name:"ConfirmDeleteLogEntry",path:"log-entries/:id/delete",component:wxe,meta:{showModal:!0,protected:!0,permissions:["ep-applications-manage"]},props:!0},{name:"AddMemberToApplication",path:"members/add",component:Tk,meta:{title:"Add Group Member",showModal:!0,protected:!0,permissions:["ep-applications-manage"]},props:!0},{name:"EditMemberOnApplication",path:"members/:memberId",component:Tk,meta:{showModal:!0,protected:!0,title:"Add Group Member"},props:!0},{name:"ConfirmDeleteApplication",path:"delete",component:Cxe,props:!0,meta:{default:Wd,showModal:!0,protected:!0,permissions:["ep-applications-manage"]}}]}],Axe=async e=>Ne.getters.currentUser.hasPermission("people-manage")||((!Ne.getters["people/currentItem"]||Ne.getters["people/currentItem"].uuid!==e.params.uuid)&&await Ne.dispatch("people/getPerson",{uuid:e.params.uuid}),Ne.getters["people/currentItem"].user_id===Ne.getters.currentUser.id)||Ne.getters.currentUser.coordinatesPerson(Ne.getters["people/currentItem"])?!0:(Ne.commit("pushError","You don't have permission to edit this person's information"),!1),Xi=async(e,t)=>{if(Ne.getters.currentUser.hasPermission("groups-manage"))return!0;(!Ne.getters["groups/currentItem"]||Ne.getters["groups/currentItem"].uuid!==e.params.uuid)&&await Ne.dispatch("groups/findAndSetCurrent",e.params.uuid);const n=Ne.getters["groups/currentItem"];return Ne.getters.currentUser.hasGroupPermission(t,n)?!0:(Ne.commit("pushError","Permission denied"),!1)},wk=()=>Fe(()=>import("./PersonDetail-BzCeGMJe.js"),__vite__mapDeps([26,6,27,17,28,29,9,30,31,32,33,34])),Oxe=()=>Fe(()=>import("./PersonEdit-yAof-sd_.js"),__vite__mapDeps([35,17])),kxe=()=>Fe(()=>import("./PeopleList-DqueJB0V.js"),__vite__mapDeps([36,24])),xk=()=>Fe(()=>import("./OnboardingWizard-DF1-YYa3.js"),__vite__mapDeps([37,38])),Ixe=()=>Fe(()=>import("./RequiredProfileUpdate-D1G_-ieS.js"),__vite__mapDeps([39,17])),Nxe=[{name:"people-index",path:"/people",component:kxe,meta:{protected:!0}},{name:"PersonDetail",path:"/people/:uuid",component:wk,props:!0,meta:{protected:!0},children:[{name:"PersonEdit",path:"edit",components:{default:wk,modal:Oxe},meta:{showModal:!0,protected:!0,title:"Update Information"},props:!0,beforeEnter:[Axe]}]},{name:"InviteWithCode",path:"/invites/:code",component:xk,beforeEnter:()=>(Ne.getters.currentUser.id!==null&&ki.replace({name:"Dashboard"}),!0),meta:{protected:!1},props:!0},{name:"RedeemInvite",path:"/invites",component:xk,beforeEnter:()=>(Ne.getters.currentUser.id!==null&&ki.replace({name:"Dashboard"}),!0),meta:{protected:!1}},{name:"InitialProfileForm",path:"/onboarding/profile",component:()=>Fe(()=>import("./OnboardingProfileForm-Ci_T_mg4.js"),__vite__mapDeps([40,17]))},{name:"RequiredDemographicsUpdateForm",path:"/required-demographics-update",component:()=>Fe(()=>import("./RequiredDemographicsUpdateForm-CbDV-Q84.js"),__vite__mapDeps([41,33,34])),meta:{protected:!0}},{name:"DemographicsForm",path:"/demographics/:uuid",props:!0,component:()=>Fe(()=>import("./DemographicsForm-DKIcq2zL.js"),__vite__mapDeps([33,34])),meta:{protected:!0}},{name:"MandatoryProfileUpdate",path:"/required-profile-update",component:Ixe,meta:{protected:!0}}],Rxe=[{name:"login",path:"/login",component:()=>Fe(()=>import("./LoginPage-C_OEOeUL.js"),[])},{name:"reset-password",path:"/reset-password",component:()=>Fe(()=>import("./ResetPassword-lwjCLCUZ.js"),[])}],Dxe=[{name:"cdwg-index",path:"/cdwgs",component:()=>Fe(()=>import("./CdwgIndex-C8mUePJd.js"),[])}],Aa=()=>Fe(()=>import("./MemberForm-ltUlfvyV.js"),__vite__mapDeps([16,9,17,18])),Mxe=[{name:"GroupList",path:"/groups",components:{default:()=>Fe(()=>import("./GroupList-OaIOHlP5.js"),__vite__mapDeps([42,14]))},meta:{protected:!0},props:!0},{name:"GroupDetail",path:"/groups/:uuid",components:{default:()=>Fe(()=>import("./GroupDetail-qD8W7Yc0.js"),__vite__mapDeps([43,6,30,31,44,14,10,11,12,45,24,28,29,9,46,47,48,4,5,7,8,13,49]))},meta:{protected:!0},props:!0,children:[{name:"AddMember",path:"members/add",component:Aa,meta:{showModal:!0,protected:!0,title:"Add Group Member"},props:!0,beforeEnter:async e=>await Xi(e,"members-invite")},{name:"EditMember",path:"members/:memberId",component:Aa,meta:{showModal:!0,protected:!0,title:"Add Group Member"},props:!0,beforeEnter:async e=>await Xi(e,"members-update")}]},{name:"GroupApplication",path:"/groups/:uuid/application",components:{default:()=>Fe(()=>import("./GroupApplication-CCEe05G4.js"),__vite__mapDeps([50,14,44,10,11,45,24,28,29,9,46,12,51,52,47,53]))},meta:{protected:!0},props:!0,beforeEnter:async e=>await Xi(e,"application-edit"),children:[{name:"AppAddMember",path:"members/add",component:Aa,meta:{showModal:!0,protected:!0,title:"Add Group Member"},props:!0,beforeEnter:async e=>await Xi(e,"members-invite")},{name:"AppEditMember",path:"members/:memberId",component:Aa,meta:{showModal:!0,protected:!0,title:"Add Group Member"},props:!0,beforeEnter:async e=>await Xi(e,"members-update")}]},{name:"ReviewApplication",path:"/groups/:uuid/application/review",component:()=>Fe(()=>import("./ApplicationResponse-CGztnqqG.js"),__vite__mapDeps([54,8,9,10,11,12,55])),props:!0,meta:{protected:!0}},{name:"AnnualUpdate",path:"/groups/:uuid/annual-update",components:{default:()=>Fe(()=>import("./AnnualUpdateForm-C_p4eyuy.js"),__vite__mapDeps([56,51,52,45,24,28,29,9,46,47,57]))},meta:{protected:!0},props:!0,beforeEnter:async e=>await Xi(e,"application-edit"),children:[{name:"ReviewAddMember",path:"members/add",component:Aa,meta:{showModal:!0,protected:!0,title:"Add Group Member"},props:!0,beforeEnter:async e=>await Xi(e,"members-invite")},{name:"ReviewEditMember",path:"members/:memberId",component:Aa,meta:{showModal:!0,protected:!0,title:"Add Group Member"},props:!0,beforeEnter:async e=>await Xi(e,"members-update")}]},{name:"SustainedCurationReview",path:"/groups/:uuid/sustained-curation-review",components:{default:()=>Fe(()=>import("./SustainedCurationReview-1wD2qo59.js"),__vite__mapDeps([58,47,12,51,52,59]))},meta:{protected:!0},props:!0,beforeEnter:async e=>await Xi(e,"application-edit")}],Pxe=()=>Fe(()=>import("./UserAdmin-eLL2--Iz.js"),[]),Lxe=()=>Fe(()=>import("./InviteAdmin-BFhMpC3H.js"),[]),Bxe=[{name:"UserAdmin",path:"/admin/users",component:Pxe,props:!0,meta:{protected:!0,beforeEnter:async()=>await Ne.getters.currentUser.hasPermission("users-manage")}},{name:"InviteAdmin",path:"/admin/invites",component:Lxe,props:!0,meta:{protected:!0,beforeEnter:async()=>await Ne.getters.currentUser.hasPermission("people-manage")}},{name:"InstitutionList",path:"/admin/institutions",component:()=>Fe(()=>import("./InstitutionList-4ja1IraC.js"),__vite__mapDeps([60,24]))},{name:"CredentialList",path:"/admin/credentials",component:()=>Fe(()=>import("./CredentialsList-DJ9-AsSf.js"),__vite__mapDeps([61,24]))},{name:"ExpertiseList",path:"/admin/expertises",component:()=>Fe(()=>import("./ExpertiseList-DFqDulUQ.js"),__vite__mapDeps([62,24]))}],Ck=async e=>Ne.getters.currentUser.hasPermission(e)?!0:(Ne.commit("pushError","Permission denied"),!1),Fxe=[{name:"UserList",path:"/users",components:{default:()=>Fe(()=>import("./UserList-DB9TbwkB.js"),__vite__mapDeps([63,24]))},meta:{protected:!0},props:!0,beforeEnter(){return Ck("users-manage")}},{name:"UserDetail",path:"/users/:id",components:{default:()=>Fe(()=>import("./UserDetail-D1okRUmn.js"),[])},props:!0,meta:{protected:!0},async beforeEnter(){return Ck("users-manage")}}],$xe=[{name:"Dashboard",path:"/",component:()=>Fe(()=>import("./Dashboard-B5sgyiq-.js"),__vite__mapDeps([64,27,17,28,29,9,7,48,33,34,65])),meta:{protected:!0}},{name:"ApplicationSummary",path:"/application-summary",redirect:"/application-summary/vceps",component:()=>Fe(()=>import("./ApplicationSummary-CUpOgBRG.js"),__vite__mapDeps([66,67])),children:[{name:"GcepsSummary",path:"gceps",component:()=>Fe(()=>import("./SummaryGcep-B9cViT9J.js"),__vite__mapDeps([68,69,24]))},{name:"VcepsSummary",path:"vceps",component:()=>Fe(()=>import("./SummaryVcep-CjtcEeSQ.js"),__vite__mapDeps([70,69,24]))}]},{name:"AnnualUpdatesList",path:"/annual-updates",component:()=>Fe(()=>import("./AnnualUpdatesList-9_iepuDS.js"),__vite__mapDeps([71,24,72])),meta:{protected:!0,permissions:["annual-updates-manage"]}},{name:"AnnualUpdateDetail",path:"/annual-updates/:id",component:()=>Fe(()=>import("./AnnualUpdateDetail-BvPN9TYg.js"),__vite__mapDeps([73,56,51,52,45,24,28,29,9,46,47,57])),props:!0,meta:{protected:!0},children:[{name:"AnnualUpdateAddMember",path:"members/add",component:()=>Fe(()=>import("./MemberForm-ltUlfvyV.js"),__vite__mapDeps([16,9,17,18])),meta:{showModal:!0,protected:!0,title:"Add Group Member"},props:!0},{name:"AnnualUpdateEditMember",path:"members/:memberId",component:()=>Fe(()=>import("./MemberForm-ltUlfvyV.js"),__vite__mapDeps([16,9,17,18])),meta:{showModal:!0,protected:!0,title:"Add Group Member"},props:!0}]},...Sxe,...Mxe,...Nxe,...Rxe,...Dxe,...Bxe,...Fxe,{name:"CoiNoCode",path:"/coi",redirect:"/"},{name:"coi",path:"/coi/:code",component:()=>Fe(()=>import("./Coi-bUdlNcu9.js"),__vite__mapDeps([74,75])),props:!0,meta:{protected:!0}},{name:"alt-coi",path:"/expert-panels/:name/coi/:code",component:()=>Fe(()=>import("./Coi-bUdlNcu9.js"),__vite__mapDeps([74,75])),props:!0,meta:{protected:!0}},{name:"about",path:"/about",component:()=>Fe(()=>import("./About-DWz8B4EC.js"),[])},{name:"PendingCoiList",path:"/onboarding/cois",component:()=>Fe(()=>import("./PendingCoiList-CBT5Wdaj.js"),[]),props:!0,meta:{protected:!0}},{name:"mail-log",path:"/mail-log",component:()=>Fe(()=>import("./MailLog-9jZUAH3O.js"),__vite__mapDeps([76,24,32,77])),meta:{protected:!0}},{name:"not-found",path:"/:pathMatch(.*)*",component:()=>Fe(()=>import("./NotFound-CE1sZ96u.js"),[])},{name:"reports",path:"/reports",component:()=>Fe(()=>import("./Reports-BWw9Fw3H.js"),__vite__mapDeps([78,79])),meta:{protected:!0,permissions:["reports-pull"]}}],ki=cTe({history:$ve("/"),routes:$xe});ki.beforeEach(async(e,t,n)=>{if(!e.meta.protected){n();return}try{await Ne.dispatch("checkAuth"),await Ne.dispatch("getCurrentUser")}catch(r){console.log(r)}if(!e.name.includes("login")&&!Ne.getters.isAuthed){n({name:"login",query:{redirect:e.fullPath}});return}if(e.name==="login"&&Ne.getters.isAuthed){n({name:"Dashboard"});return}if(e.meta.permissions&&Array.isArray(e.meta.permissions)&&e.meta.permissions.length>0){if(Ne.getters.currentUser.hasAnyPermission(e.meta.permissions)){n();return}ki.replace({name:"Dashboard"}),Ne.commit("pushError",`You don't have permission to access ${e.path}`)}n()});ki.beforeEach(async(e,t,n)=>{if(!e.meta.protected){n();return}if(e.name==="MandatoryProfileUpdate"||e.name==="RequiredDemographicsUpdateForm"||e.name==="RedeemInvite"||e.name==="InviteWithCode"||e.name==="InitialProfileForm"||e.name==="PendingCoiList"||e.name==="coi"){n();return}if(Ne.getters.currentUser.profileIncomplete){ki.replace({name:"InitialProfileForm",params:{redirectTo:e}}),n();return}if(Ne.getters.currentUser.hasPendingCois){ki.replace({name:"PendingCoiList",params:{redirectTo:e}}),n();return}if(Ne.getters.currentUser.needsCredentials||Ne.getters.currentUser.needsExpertise){ki.replace({name:"MandatoryProfileUpdate",params:{redirectTo:e}}),n();return}if(Ne.getters.currentUser.person.demographics_completed_date===null&&!Ne.getters.currentUser.is_impersonating){ki.replace({name:"RequiredDemographicsUpdateForm",params:{redirectTo:e}}),n();return}n()});const Uxe={name:"StaticAlert",props:{variant:{type:String,required:!1,default:"info"}},data(){return{}},computed:{},methods:{}};function Hxe(e,t,n,r,i,s){return x(),L("div",{class:nt(["border p-2 rounded text-md-lg",n.variant])},[Ae(e.$slots,"default",{},void 0,!0)],2)}const zxe=ne(Uxe,[["render",Hxe],["__scopeId","data-v-d4d91c52"]]),jxe={name:"SubmissionWrapper",props:{showControls:{type:Boolean,required:!1,default:!0}},emits:["submitted","canceled"],data(){return{}},computed:{},methods:{}};function qxe(e,t,n,r,i,s){const o=Y("button-row");return x(),L("div",null,[Ae(e.$slots,"default"),z(sa,{name:"fade-slide-down"},{default:V(()=>[Ct(z(o,{"submit-text":"Save",onSubmitted:t[0]||(t[0]=a=>e.$emit("submitted")),onCanceled:t[1]||(t[1]=a=>e.$emit("canceled"))},null,512),[[yr,n.showControls]])]),_:1})])}const Vxe=ne(jxe,[["render",qxe]]);let du;const Wxe={beforeMount(e,t){du=n=>{n.stopPropagation();const{handler:r,exclude:i}=t.value,s=i.map(o=>t.instance.$refs[o]).includes(n.target);!e.contains(n.target)&&!s&&r()},document.addEventListener("click",du),document.addEventListener("touchstart",du)},unmounted(){document.removeEventListener("click",du),document.removeEventListener("touchstart",du)}},Gxe={mounted(e,t){const r=e.getBoundingClientRect().top,i=t.value?t.value:r+36;e.style.height=`calc(100vh - ${i}px)`,e.style.overflow="auto"},bind(e,t){const r=e.getBoundingClientRect().top,i=t.value?t.value:r+36;e.style.height=`calc(100vh - ${i}px)`,e.style.overflow="auto"}},Yxe={name:"GroupBreadcrumbs",props:{group:{required:!1,default:()=>new Ic}},computed:{items(){const e=[{route:{name:"GroupList"},label:"Groups"}];return this.group.uuid&&e.push({route:{name:"GroupDetail",params:{uuid:this.group.uuid}},label:this.group.displayName}),e}},methods:{}};function Kxe(e,t,n,r,i,s){const o=Y("breadcrumbs");return x(),fe(o,{items:s.items},null,8,["items"])}const Xxe=ne(Yxe,[["render",Kxe]]),Qxe=(e,t)=>Ne.state.user.hasPermission(e,t),Jxe=(e,t)=>Ne.state.user.hasPermission(e,t),Zxe=e=>Ne.state.user.hasAnyPermission(e),eCe=(e,t)=>Ne.state.user.hasRole(e,t),tCe=e=>Ne.state.user.person.memberships.map(t=>t.group_id).includes(e.id),nCe=e=>Ne.state.user.id===e.user_id,rCe=e=>Ne.state.user.coordinatesPerson(e);let Sk=0;const iCe={beforeMount(){this.uid=Sk.toString(),Sk+=1}},yi=ZB(ove),ld=e=>{for(const t in e){const n=t2(t.split("/").pop().split(".")[0]);yi.component(n,e[t].default)}};ld(Object.assign({"/resources/js/components/Badge.vue":s8,"/resources/js/components/Breadcrumbs.vue":u8,"/resources/js/components/Card.vue":m8,"/resources/js/components/Collapsible.vue":T8,"/resources/js/components/DataTable.vue":H8,"/resources/js/components/DictionaryRow.vue":q8,"/resources/js/components/DownloadLink.vue":G8,"/resources/js/components/DropdownItem.vue":J8,"/resources/js/components/DropdownMenu.vue":nF,"/resources/js/components/HelpButton.vue":Y$,"/resources/js/components/ImageCropper.vue":kz,"/resources/js/components/ImpersonateControl.vue":Ej,"/resources/js/components/IssueReportForm.vue":Aj,"/resources/js/components/LoginForm.vue":Rj,"/resources/js/components/MarkdownBlock.vue":uee,"/resources/js/components/ModalDialog.vue":yee,"/resources/js/components/Note.vue":wee,"/resources/js/components/NotificationItem.vue":kee,"/resources/js/components/NotificationList.vue":Nee,"/resources/js/components/ObjectDictionary.vue":Lee,"/resources/js/components/PaginationLinks.vue":jee,"/resources/js/components/PopOver.vue":one,"/resources/js/components/PubmedCitation.vue":une,"/resources/js/components/QuestionBlock.vue":mne,"/resources/js/components/ScreenTemplate.vue":vne,"/resources/js/components/SimpleTable.vue":Cne,"/resources/js/components/TabItem.vue":Ine,"/resources/js/components/TabsContainer.vue":Rne,"/resources/js/components/TruncateExpander.vue":Bne,"/resources/js/components/UserMenu.vue":are}));ld(Object.assign({"/resources/js/components/forms/AddressInput.vue":bre,"/resources/js/components/forms/ButtonRow.vue":xre,"/resources/js/components/forms/Checkbox.vue":Nre,"/resources/js/components/forms/CredentialsInput.vue":Mre,"/resources/js/components/forms/CuratedGeneSearchSelect.vue":Yre,"/resources/js/components/forms/DataForm.vue":cie,"/resources/js/components/forms/DataFormField.vue":rie,"/resources/js/components/forms/DateInput.vue":mie,"/resources/js/components/forms/DiseaseSearchSelect.vue":wie,"/resources/js/components/forms/ExpertisesInput.vue":Cie,"/resources/js/components/forms/FormContainer.vue":kie,"/resources/js/components/forms/GeneSearchSelect.vue":Bie,"/resources/js/components/forms/InputErrors.vue":dre,"/resources/js/components/forms/InputRow.vue":nie,"/resources/js/components/forms/InstitutionSearchSelect.vue":Qie,"/resources/js/components/forms/PersonSearchSelect.vue":rse,"/resources/js/components/forms/RadioButton.vue":use,"/resources/js/components/forms/RadioButtonGroup.vue":hse,"/resources/js/components/forms/SearchSelect.vue":mj,"/resources/js/components/forms/StepInput.vue":yse,"/resources/js/components/forms/TimezoneSearchSelect.vue":Ase,"/resources/js/components/forms/UserDefinedMailForm.vue":U0e,"/resources/js/components/forms/WebsiteAttestation.vue":Rbe}));ld(Object.assign({"/resources/js/components/buttons/CheckmarkIconButton.vue":Bbe,"/resources/js/components/buttons/EditIconButton.vue":zbe,"/resources/js/components/buttons/RefreshButton.vue":Wbe,"/resources/js/components/buttons/RemoveButton.vue":Xbe,"/resources/js/components/buttons/TrashIconButton.vue":t1e}));ld(Object.assign({"/resources/js/components/icons/IconAdd.vue":s1e,"/resources/js/components/icons/IconArrowDown.vue":u1e,"/resources/js/components/icons/IconArrowRight.vue":p1e,"/resources/js/components/icons/IconBase.vue":E1e,"/resources/js/components/icons/IconBug.vue":x1e,"/resources/js/components/icons/IconCheckmark.vue":O1e,"/resources/js/components/icons/IconCheveronDown.vue":R1e,"/resources/js/components/icons/IconCheveronLeft.vue":L1e,"/resources/js/components/icons/IconCheveronRight.vue":U1e,"/resources/js/components/icons/IconCheveronUp.vue":q1e,"/resources/js/components/icons/IconClose.vue":Y1e,"/resources/js/components/icons/IconCoi.vue":J1e,"/resources/js/components/icons/IconDownload.vue":nye,"/resources/js/components/icons/IconEdit.vue":oye,"/resources/js/components/icons/IconEnvelope.vue":cye,"/resources/js/components/icons/IconExclamation.vue":gye,"/resources/js/components/icons/IconExternalLink.vue":Eye,"/resources/js/components/icons/IconFilter.vue":xye,"/resources/js/components/icons/IconInfo.vue":Oye,"/resources/js/components/icons/IconLock.vue":Rye,"/resources/js/components/icons/IconMenu.vue":Lye,"/resources/js/components/icons/IconNotification.vue":Uye,"/resources/js/components/icons/IconPrinter.vue":qye,"/resources/js/components/icons/IconQuestion.vue":Yye,"/resources/js/components/icons/IconRefresh.vue":Jye,"/resources/js/components/icons/IconReply.vue":n_e,"/resources/js/components/icons/IconReview.vue":o_e,"/resources/js/components/icons/IconSearch.vue":c_e,"/resources/js/components/icons/IconTrash.vue":h_e,"/resources/js/components/icons/IconUser.vue":y_e,"/resources/js/components/icons/IconView.vue":T_e,"/resources/js/components/icons/IconViewHide.vue":S_e,"/resources/js/components/icons/ZoomInIcon.vue":I_e,"/resources/js/components/icons/ZoomOutIcon.vue":M_e}));ld(Object.assign({"/resources/js/components/links/CoiPolicyLink.vue":$_e,"/resources/js/components/links/CoordinatorResourceLink.vue":q_e,"/resources/js/components/links/FaqLink.vue":K_e,"/resources/js/components/links/GcepQuickGuideLink.vue":eEe,"/resources/js/components/links/GcepRecurationProcessLink.vue":sEe,"/resources/js/components/links/GciLink.vue":cEe,"/resources/js/components/links/GeneTrackerLink.vue":mEe,"/resources/js/components/links/LumpingAndSplittingLink.vue":EEe,"/resources/js/components/links/PublicationPolicyLink.vue":CEe,"/resources/js/components/links/TrainingMaterialsLink.vue":IEe,"/resources/js/components/links/VcepProtocolLink.vue":PEe,"/resources/js/components/links/WebsiteLink.vue":UEe}));yi.component("static-alert",zxe);yi.component("submission-wrapper",Vxe);yi.component("ScreenTemplate",tM);yi.directive("click-outside",Wxe);yi.directive("remaining-height",Gxe);yi.component("popper",H_);yi.component("popover",H_);yi.component("group-breadcrumbs",Xxe);yi.config.globalProperties.append=(e,t)=>e+(e.endsWith("/")?"":"/")+t;yi.use(Ne).mixin({methods:{userCan:Qxe,hasPermission:Jxe,hasAnyPermission:Zxe,hasRole:eCe,userIsPerson:nCe,coordinatesPerson:rCe,formatDate:$y,formatDateTime:w8,formatTime:x8,addDays:S8,yearAgo:C8,titleCase:Uy,camelCase:n2,snakeCase:A8,kebabCase:t2,userInGroup:tCe,sentenceCase:r2}}).mixin(iCe).mixin({mounted(){this.id&&this.$route.hash&&this.$route.hash.substr(1)===this.id&&(location.href="#",location.href=this.$route.hash)}}).use(ki).mount("#app");export{Ae as $,an as A,l_ as B,Ct as C,js as D,ia as E,Xe as F,Ic as G,tN as H,ni as I,Ky as J,j2 as K,q2 as L,L2 as M,qy as N,lo as O,gs as P,W5 as Q,MU as R,us as S,kT as T,f9 as U,Wy as V,Np as W,s5 as X,Yy as Y,If as Z,ne as _,Y as a,kCe as a$,sa as a0,Er as a1,$c as a2,io as a3,nN as a4,lCe as a5,lee as a6,GB as a7,yr as a8,ic as a9,gre as aA,Sse as aB,Ht as aC,$Ce as aD,cs as aE,Obe as aF,Q8 as aG,$0e as aH,aCe as aI,Ja as aJ,Kbe as aK,Gre as aL,Tie as aM,Lie as aN,JI as aO,x8 as aP,Vxe as aQ,Y0e as aR,Tbe as aS,Hbe as aT,O1 as aU,ACe as aV,MEe as aW,Z_e as aX,q0e as aY,NCe as aZ,Jp as a_,w8 as aa,_I as ab,e1e as ac,Lbe as ad,WB as ae,Un as af,Uy as ag,oCe as ah,tM as ai,ss as aj,pr as ak,Fy as al,$y as am,D0e as an,bse as ao,Nne as ap,nCe as aq,t2 as ar,iM as as,Zk as at,Nj as au,x4 as av,Oz as aw,Xie as ax,Dre as ay,xie as az,x as b,j_ as b0,$ie as b1,Fie as b2,RCe as b3,DCe as b4,ICe as b5,vs as b6,gf as b7,L as c,S as d,fe as e,z as f,_e as g,Oe as h,we as i,le as j,Jxe as k,LCe as l,$t as m,nt as n,vr as o,Z as p,bt as q,yt as r,ls as s,d9 as t,FCe as u,vN as v,V as w,vn as x,Zxe as y,Iee as z};
//# sourceMappingURL=app-CyWjTue0.js.map
