import{_ as v,p as y,e as c,h as f,w as u,d as t,f as m,a as o,c as g,i,j as w,b as s}from"./app-CfiFud4u.js";const k={name:"AnnualUpdateAlert",props:{group:{type:Object,required:!0},showGroupName:{type:Boolean,default:!1}},data(){return{annualReview:{},loading:!1}},computed:{window(){return this.annualReview.window?this.annualReview.window:{}},isPending(){return this.annualReview&&!this.annualReview.completed_at},variant(){const n=new Date;if(!this.window.end)return"warning";const e=new Date(Date.parse(this.window.end));return n>this.addDays(e,-7)?"danger":"warning"}},watch:{group:{immediate:!0,handler(){this.getAnnualUpdate()}}},methods:{getAnnualUpdate(){this.group.uuid&&this.group.expert_panel.definition_is_approved&&(this.loading=!0,y.get(`/api/groups/${this.group.uuid}/expert-panel/annual-updates`,{headers:{"X-Ignore-Missing":1}}).then(n=>{this.annualReview=n.data}),this.loading=!1)}}},x={class:"flex space-x-2 items-center mb-3"},A={key:0},R={key:1};function b(n,e,a,h,_,r){const d=o("icon-review"),l=o("router-link"),p=o("static-alert");return r.isPending&&_.annualReview.id?(s(),c(p,{key:0,variant:r.variant},{default:u(()=>[t("div",x,[m(d,{height:"30",width:"30"}),t("div",null,[t("p",null,[a.showGroupName?(s(),g("span",A,[t("strong",null,w(a.group.displayName),1),e[0]||(e[0]=i(" has"))])):(s(),g("span",R,"You have")),e[1]||(e[1]=i(" an ")),t("strong",null,"annual update for "+w(r.window.for_year),1),e[2]||(e[2]=i(" due on ")),t("strong",null,w(n.formatDate(r.window.end)),1),e[3]||(e[3]=i(". "))]),a.group.uuid?(s(),c(l,{key:0,class:"btn font-bold",to:{name:"AnnualUpdate",params:{uuid:a.group.uuid}}},{default:u(()=>e[4]||(e[4]=[i(" Complete the Annual Update ")])),_:1},8,["to"])):f("",!0)])])]),_:1},8,["variant"])):f("",!0)}const U=v(k,[["render",b]]),C={name:"SustainedCurationReviewAlert",props:{group:{type:Object,required:!0}}};function D(n,e,a,h,_,r){const d=o("icon-review"),l=o("router-link"),p=o("static-alert");return s(),c(p,{vartiant:"info",class:"flex space-x-2 items-center"},{default:u(()=>[m(d,{width:"30",height:"30"}),t("div",null,[e[1]||(e[1]=t("p",null,"Congratulations on your specifications pilot approval!",-1)),m(l,{to:{name:"SustainedCurationReview",params:{uuid:a.group.uuid}},class:"btn font-bold"},{default:u(()=>e[0]||(e[0]=[i(" Review your sustained curation information to finish. ")])),_:1},8,["to"])])]),_:1})}const B=v(C,[["render",D]]);export{U as A,B as S};
//# sourceMappingURL=SustainedCurationReviewAlert-CNWunufg.js.map
