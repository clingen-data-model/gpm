const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/ApplicationsIndex-_1T4hTXe.js","assets/CreateApplicationForm-BZSEXcWd.js","assets/ApplicationsIndex-h4WF41Bu.css","assets/ApplicationDetail-Bz3NanZg.js","assets/StepTabs-B9ZPpa_l.js","assets/LogEntryForm-CxHx5Law.js","assets/log_entry_repository-BXzcQ5D4.js","assets/judgement_utils-CQeBr_sj.js","assets/SustainedCurationReview-CLDqFA32.js","assets/ExpertisesView-D8uO4IkB.js","assets/EvidenceSummaryList-Daxo4iAk.js","assets/SpecificationsSection-DCozSiIm.js","assets/StepTabs-D1c90mSM.css","assets/GroupForm-FlF0d3B3.js","assets/_baseOrderBy-Cp_BrSnl.js","assets/ApplicationDetail-CIfU6vjc.css","assets/MemberForm-CQkonNYp.js","assets/ProfileForm-DOD19Vsn.js","assets/MemberForm-BBMVMUWs.css","assets/ConfirmDeleteLogEntry-Z7M6hsUR.js","assets/ConfirmDeleteLogEntry-DWb-y-B4.css","assets/ConfirmDeleteNextAction-CoOOYVWJ.js","assets/GcepsList-CGqtIVMC.js","assets/ApplicationsTable-BWl9SpNs.js","assets/router_aware_sort_and_filter-BuajIqLi.js","assets/VcepsList-Do1II0Ku.js","assets/PersonDetail-Dhlu7ANr.js","assets/CoiList-BzxEIQI4.js","assets/CoiDetail-8fBKGWnd.js","assets/CoiDetail-BMP6cGIg.css","assets/ActivityLog-n9WOae0U.js","assets/ActivityLog-B3k6ysgp.css","assets/CustomEmailForm-xsgeg_NA.js","assets/DemographicsForm-BWDwKWTh.js","assets/DemographicsForm-C8RUgn8n.css","assets/PersonEdit-Bmo-qNjl.js","assets/PeopleList-KNomGmoc.js","assets/OnboardingWizard-4SCohGvU.js","assets/OnboardingWizard-DqGVtz5g.css","assets/RequiredProfileUpdate-Covc0IqQ.js","assets/OnboardingProfileForm-vBA5tYRG.js","assets/RequiredDemographicsUpdateForm-BFKfi0Hm.js","assets/GroupList-wYppv2Z5.js","assets/GroupDetail-CaHBrwuB.js","assets/VcepGeneList-CF5D70tz.js","assets/MemberList-DZZY5XCF.js","assets/MemberList-00nml9fr.css","assets/VcepOngoingPlansForm-DHH9k53-.js","assets/SustainedCurationReviewAlert-vIPbIrwe.js","assets/GroupDetail-DT_wUWyq.css","assets/GroupApplication-CmbfiHin.js","assets/MemberDesignationForm-CYNgeHvc.js","assets/MemberDesignationForm-D4Bi1Xlw.css","assets/GroupApplication-Dilfo8eF.css","assets/ApplicationResponse-DSdAJiQy.js","assets/ApplicationResponse-BQHibsK3.css","assets/AnnualUpdateForm-nCOnMLyh.js","assets/AnnualUpdateForm-CUzY73DR.css","assets/SustainedCurationReview-D52RIC9R.js","assets/SustainedCurationReview-DmWouxLo.css","assets/InstitutionList-D57WkHFo.js","assets/CredentialsList-BiIYQXVZ.js","assets/ExpertiseList-CASYp6NT.js","assets/UserList-OckzM1mm.js","assets/Dashboard-NWKsuQbO.js","assets/Dashboard-CMU3Dijs.css","assets/ApplicationSummary-O-LVcWjc.js","assets/ApplicationSummary-B6csAuh8.css","assets/SummaryGcep-C7BiD6nv.js","assets/ApplicationsSummaryTable-Ctd6pdV3.js","assets/SummaryVcep-2pFkBjye.js","assets/AnnualUpdatesList-BHsN7MiH.js","assets/AnnualUpdatesList-CYY7b7Aq.css","assets/AnnualUpdateDetail-DRMXttU-.js","assets/Coi-CfdKj3EQ.js","assets/Coi-DQZ_i_cR.css","assets/MailLog-CeHPIINc.js","assets/MailLog-jv627Wk8.css","assets/Reports-CJbz1Rka.js","assets/Reports-Bh5Mskmt.css"])))=>i.map(i=>d[i]);
var aD=Object.defineProperty;var lD=(e,t,n)=>t in e?aD(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var Bn=(e,t,n)=>lD(e,typeof t!="symbol"?t+"":t,n);/**
* @vue/shared v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function W0(e){const t=Object.create(null);for(const n of e.split(","))t[n]=1;return n=>n in t}const bt={},Pa=[],ei=()=>{},uD=()=>!1,ip=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),Y0=e=>e.startsWith("onUpdate:"),Zt=Object.assign,G0=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},cD=Object.prototype.hasOwnProperty,pt=(e,t)=>cD.call(e,t),De=Array.isArray,La=e=>_l(e)==="[object Map]",yl=e=>_l(e)==="[object Set]",$y=e=>_l(e)==="[object Date]",dD=e=>_l(e)==="[object RegExp]",je=e=>typeof e=="function",It=e=>typeof e=="string",ni=e=>typeof e=="symbol",Et=e=>e!==null&&typeof e=="object",kx=e=>(Et(e)||je(e))&&je(e.then)&&je(e.catch),Ox=Object.prototype.toString,_l=e=>Ox.call(e),fD=e=>_l(e).slice(8,-1),Ix=e=>_l(e)==="[object Object]",K0=e=>It(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,mu=W0(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),sp=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},pD=/-(\w)/g,Fr=sp(e=>e.replace(pD,(t,n)=>n?n.toUpperCase():"")),hD=/\B([A-Z])/g,ho=sp(e=>e.replace(hD,"-$1").toLowerCase()),op=sp(e=>e.charAt(0).toUpperCase()+e.slice(1)),Eh=sp(e=>e?`on${op(e)}`:""),Xs=(e,t)=>!Object.is(e,t),Ba=(e,...t)=>{for(let n=0;n<e.length;n++)e[n](...t)},Nx=(e,t,n,r=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:r,value:n})},af=e=>{const t=parseFloat(e);return isNaN(t)?e:t},mD=e=>{const t=It(e)?Number(e):NaN;return isNaN(t)?e:t};let Fy;const ap=()=>Fy||(Fy=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function sa(e){if(De(e)){const t={};for(let n=0;n<e.length;n++){const r=e[n],i=It(r)?_D(r):sa(r);if(i)for(const s in i)t[s]=i[s]}return t}else if(It(e)||Et(e))return e}const gD=/;(?![^(]*\))/g,bD=/:([^]+)/,yD=/\/\*[^]*?\*\//g;function _D(e){const t={};return e.replace(yD,"").split(gD).forEach(n=>{if(n){const r=n.split(bD);r.length>1&&(t[r[0].trim()]=r[1].trim())}}),t}function nt(e){let t="";if(It(e))t=e;else if(De(e))for(let n=0;n<e.length;n++){const r=nt(e[n]);r&&(t+=r+" ")}else if(Et(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}function ED(e){if(!e)return null;let{class:t,style:n}=e;return t&&!It(t)&&(e.class=nt(t)),n&&(e.style=sa(n)),e}const vD="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",TD=W0(vD);function Rx(e){return!!e||e===""}function wD(e,t){if(e.length!==t.length)return!1;let n=!0;for(let r=0;n&&r<e.length;r++)n=Go(e[r],t[r]);return n}function Go(e,t){if(e===t)return!0;let n=$y(e),r=$y(t);if(n||r)return n&&r?e.getTime()===t.getTime():!1;if(n=ni(e),r=ni(t),n||r)return e===t;if(n=De(e),r=De(t),n||r)return n&&r?wD(e,t):!1;if(n=Et(e),r=Et(t),n||r){if(!n||!r)return!1;const i=Object.keys(e).length,s=Object.keys(t).length;if(i!==s)return!1;for(const o in e){const a=e.hasOwnProperty(o),l=t.hasOwnProperty(o);if(a&&!l||!a&&l||!Go(e[o],t[o]))return!1}}return String(e)===String(t)}function X0(e,t){return e.findIndex(n=>Go(n,t))}const Dx=e=>!!(e&&e.__v_isRef===!0),ye=e=>It(e)?e:e==null?"":De(e)||Et(e)&&(e.toString===Ox||!je(e.toString))?Dx(e)?ye(e.value):JSON.stringify(e,Mx,2):String(e),Mx=(e,t)=>Dx(t)?Mx(e,t.value):La(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((n,[r,i],s)=>(n[vh(r,s)+" =>"]=i,n),{})}:yl(t)?{[`Set(${t.size})`]:[...t.values()].map(n=>vh(n))}:ni(t)?vh(t):Et(t)&&!De(t)&&!Ix(t)?String(t):t,vh=(e,t="")=>{var n;return ni(e)?`Symbol(${(n=e.description)!=null?n:t})`:e};/**
* @vue/reactivity v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let cr;class Px{constructor(t=!1){this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=cr,!t&&cr&&(this.index=(cr.scopes||(cr.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let t,n;if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].pause();for(t=0,n=this.effects.length;t<n;t++)this.effects[t].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let t,n;if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].resume();for(t=0,n=this.effects.length;t<n;t++)this.effects[t].resume()}}run(t){if(this._active){const n=cr;try{return cr=this,t()}finally{cr=n}}}on(){cr=this}off(){cr=this.parent}stop(t){if(this._active){this._active=!1;let n,r;for(n=0,r=this.effects.length;n<r;n++)this.effects[n].stop();for(this.effects.length=0,n=0,r=this.cleanups.length;n<r;n++)this.cleanups[n]();if(this.cleanups.length=0,this.scopes){for(n=0,r=this.scopes.length;n<r;n++)this.scopes[n].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!t){const i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.parent=void 0}}}function xD(e){return new Px(e)}function CD(){return cr}let xt;const Th=new WeakSet;class Lx{constructor(t){this.fn=t,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,cr&&cr.active&&cr.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,Th.has(this)&&(Th.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||$x(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,Uy(this),Fx(this);const t=xt,n=ti;xt=this,ti=!0;try{return this.fn()}finally{Ux(this),xt=t,ti=n,this.flags&=-3}}stop(){if(this.flags&1){for(let t=this.deps;t;t=t.nextDep)Z0(t);this.deps=this.depsTail=void 0,Uy(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?Th.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){Km(this)&&this.run()}get dirty(){return Km(this)}}let Bx=0,gu,bu;function $x(e,t=!1){if(e.flags|=8,t){e.next=bu,bu=e;return}e.next=gu,gu=e}function Q0(){Bx++}function J0(){if(--Bx>0)return;if(bu){let t=bu;for(bu=void 0;t;){const n=t.next;t.next=void 0,t.flags&=-9,t=n}}let e;for(;gu;){let t=gu;for(gu=void 0;t;){const n=t.next;if(t.next=void 0,t.flags&=-9,t.flags&1)try{t.trigger()}catch(r){e||(e=r)}t=n}}if(e)throw e}function Fx(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function Ux(e){let t,n=e.depsTail,r=n;for(;r;){const i=r.prevDep;r.version===-1?(r===n&&(n=i),Z0(r),SD(r)):t=r,r.dep.activeLink=r.prevActiveLink,r.prevActiveLink=void 0,r=i}e.deps=t,e.depsTail=n}function Km(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(Hx(t.dep.computed)||t.dep.version!==t.version))return!0;return!!e._dirty}function Hx(e){if(e.flags&4&&!(e.flags&16)||(e.flags&=-17,e.globalVersion===qu))return;e.globalVersion=qu;const t=e.dep;if(e.flags|=2,t.version>0&&!e.isSSR&&e.deps&&!Km(e)){e.flags&=-3;return}const n=xt,r=ti;xt=e,ti=!0;try{Fx(e);const i=e.fn(e._value);(t.version===0||Xs(i,e._value))&&(e._value=i,t.version++)}catch(i){throw t.version++,i}finally{xt=n,ti=r,Ux(e),e.flags&=-3}}function Z0(e,t=!1){const{dep:n,prevSub:r,nextSub:i}=e;if(r&&(r.nextSub=i,e.prevSub=void 0),i&&(i.prevSub=r,e.nextSub=void 0),n.subs===e&&(n.subs=r,!r&&n.computed)){n.computed.flags&=-5;for(let s=n.computed.deps;s;s=s.nextDep)Z0(s,!0)}!t&&!--n.sc&&n.map&&n.map.delete(n.key)}function SD(e){const{prevDep:t,nextDep:n}=e;t&&(t.nextDep=n,e.prevDep=void 0),n&&(n.prevDep=t,e.nextDep=void 0)}let ti=!0;const zx=[];function mo(){zx.push(ti),ti=!1}function go(){const e=zx.pop();ti=e===void 0?!0:e}function Uy(e){const{cleanup:t}=e;if(e.cleanup=void 0,t){const n=xt;xt=void 0;try{t()}finally{xt=n}}}let qu=0;class AD{constructor(t,n){this.sub=t,this.dep=n,this.version=n.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class eb{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(t){if(!xt||!ti||xt===this.computed)return;let n=this.activeLink;if(n===void 0||n.sub!==xt)n=this.activeLink=new AD(xt,this),xt.deps?(n.prevDep=xt.depsTail,xt.depsTail.nextDep=n,xt.depsTail=n):xt.deps=xt.depsTail=n,Vx(n);else if(n.version===-1&&(n.version=this.version,n.nextDep)){const r=n.nextDep;r.prevDep=n.prevDep,n.prevDep&&(n.prevDep.nextDep=r),n.prevDep=xt.depsTail,n.nextDep=void 0,xt.depsTail.nextDep=n,xt.depsTail=n,xt.deps===n&&(xt.deps=r)}return n}trigger(t){this.version++,qu++,this.notify(t)}notify(t){Q0();try{for(let n=this.subs;n;n=n.prevSub)n.sub.notify()&&n.sub.dep.notify()}finally{J0()}}}function Vx(e){if(e.dep.sc++,e.sub.flags&4){const t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let r=t.deps;r;r=r.nextDep)Vx(r)}const n=e.dep.subs;n!==e&&(e.prevSub=n,n&&(n.nextSub=e)),e.dep.subs=e}}const lf=new WeakMap,Fo=Symbol(""),Xm=Symbol(""),Wu=Symbol("");function Sn(e,t,n){if(ti&&xt){let r=lf.get(e);r||lf.set(e,r=new Map);let i=r.get(n);i||(r.set(n,i=new eb),i.map=r,i.key=n),i.track()}}function ts(e,t,n,r,i,s){const o=lf.get(e);if(!o){qu++;return}const a=l=>{l&&l.trigger()};if(Q0(),t==="clear")o.forEach(a);else{const l=De(e),u=l&&K0(n);if(l&&n==="length"){const c=Number(r);o.forEach((d,f)=>{(f==="length"||f===Wu||!ni(f)&&f>=c)&&a(d)})}else switch((n!==void 0||o.has(void 0))&&a(o.get(n)),u&&a(o.get(Wu)),t){case"add":l?u&&a(o.get("length")):(a(o.get(Fo)),La(e)&&a(o.get(Xm)));break;case"delete":l||(a(o.get(Fo)),La(e)&&a(o.get(Xm)));break;case"set":La(e)&&a(o.get(Fo));break}}J0()}function kD(e,t){const n=lf.get(e);return n&&n.get(t)}function ba(e){const t=st(e);return t===e?t:(Sn(t,"iterate",Wu),Dr(e)?t:t.map(An))}function lp(e){return Sn(e=st(e),"iterate",Wu),e}const OD={__proto__:null,[Symbol.iterator](){return wh(this,Symbol.iterator,An)},concat(...e){return ba(this).concat(...e.map(t=>De(t)?ba(t):t))},entries(){return wh(this,"entries",e=>(e[1]=An(e[1]),e))},every(e,t){return Yi(this,"every",e,t,void 0,arguments)},filter(e,t){return Yi(this,"filter",e,t,n=>n.map(An),arguments)},find(e,t){return Yi(this,"find",e,t,An,arguments)},findIndex(e,t){return Yi(this,"findIndex",e,t,void 0,arguments)},findLast(e,t){return Yi(this,"findLast",e,t,An,arguments)},findLastIndex(e,t){return Yi(this,"findLastIndex",e,t,void 0,arguments)},forEach(e,t){return Yi(this,"forEach",e,t,void 0,arguments)},includes(...e){return xh(this,"includes",e)},indexOf(...e){return xh(this,"indexOf",e)},join(e){return ba(this).join(e)},lastIndexOf(...e){return xh(this,"lastIndexOf",e)},map(e,t){return Yi(this,"map",e,t,void 0,arguments)},pop(){return $l(this,"pop")},push(...e){return $l(this,"push",e)},reduce(e,...t){return Hy(this,"reduce",e,t)},reduceRight(e,...t){return Hy(this,"reduceRight",e,t)},shift(){return $l(this,"shift")},some(e,t){return Yi(this,"some",e,t,void 0,arguments)},splice(...e){return $l(this,"splice",e)},toReversed(){return ba(this).toReversed()},toSorted(e){return ba(this).toSorted(e)},toSpliced(...e){return ba(this).toSpliced(...e)},unshift(...e){return $l(this,"unshift",e)},values(){return wh(this,"values",An)}};function wh(e,t,n){const r=lp(e),i=r[t]();return r!==e&&!Dr(e)&&(i._next=i.next,i.next=()=>{const s=i._next();return s.value&&(s.value=n(s.value)),s}),i}const ID=Array.prototype;function Yi(e,t,n,r,i,s){const o=lp(e),a=o!==e&&!Dr(e),l=o[t];if(l!==ID[t]){const d=l.apply(e,s);return a?An(d):d}let u=n;o!==e&&(a?u=function(d,f){return n.call(this,An(d),f,e)}:n.length>2&&(u=function(d,f){return n.call(this,d,f,e)}));const c=l.call(o,u,r);return a&&i?i(c):c}function Hy(e,t,n,r){const i=lp(e);let s=n;return i!==e&&(Dr(e)?n.length>3&&(s=function(o,a,l){return n.call(this,o,a,l,e)}):s=function(o,a,l){return n.call(this,o,An(a),l,e)}),i[t](s,...r)}function xh(e,t,n){const r=st(e);Sn(r,"iterate",Wu);const i=r[t](...n);return(i===-1||i===!1)&&rb(n[0])?(n[0]=st(n[0]),r[t](...n)):i}function $l(e,t,n=[]){mo(),Q0();const r=st(e)[t].apply(e,n);return J0(),go(),r}const ND=W0("__proto__,__v_isRef,__isVue"),jx=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(ni));function RD(e){ni(e)||(e=String(e));const t=st(this);return Sn(t,"has",e),t.hasOwnProperty(e)}class qx{constructor(t=!1,n=!1){this._isReadonly=t,this._isShallow=n}get(t,n,r){if(n==="__v_skip")return t.__v_skip;const i=this._isReadonly,s=this._isShallow;if(n==="__v_isReactive")return!i;if(n==="__v_isReadonly")return i;if(n==="__v_isShallow")return s;if(n==="__v_raw")return r===(i?s?zD:Kx:s?Gx:Yx).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(r)?t:void 0;const o=De(t);if(!i){let l;if(o&&(l=OD[n]))return l;if(n==="hasOwnProperty")return RD}const a=Reflect.get(t,n,Yt(t)?t:r);return(ni(n)?jx.has(n):ND(n))||(i||Sn(t,"get",n),s)?a:Yt(a)?o&&K0(n)?a:a.value:Et(a)?i?Qx(a):El(a):a}}class Wx extends qx{constructor(t=!1){super(!1,t)}set(t,n,r,i){let s=t[n];if(!this._isShallow){const l=Ko(s);if(!Dr(r)&&!Ko(r)&&(s=st(s),r=st(r)),!De(t)&&Yt(s)&&!Yt(r))return l?!1:(s.value=r,!0)}const o=De(t)&&K0(n)?Number(n)<t.length:pt(t,n),a=Reflect.set(t,n,r,Yt(t)?t:i);return t===st(i)&&(o?Xs(r,s)&&ts(t,"set",n,r):ts(t,"add",n,r)),a}deleteProperty(t,n){const r=pt(t,n);t[n];const i=Reflect.deleteProperty(t,n);return i&&r&&ts(t,"delete",n,void 0),i}has(t,n){const r=Reflect.has(t,n);return(!ni(n)||!jx.has(n))&&Sn(t,"has",n),r}ownKeys(t){return Sn(t,"iterate",De(t)?"length":Fo),Reflect.ownKeys(t)}}class DD extends qx{constructor(t=!1){super(!0,t)}set(t,n){return!0}deleteProperty(t,n){return!0}}const MD=new Wx,PD=new DD,LD=new Wx(!0);const Qm=e=>e,nd=e=>Reflect.getPrototypeOf(e);function BD(e,t,n){return function(...r){const i=this.__v_raw,s=st(i),o=La(s),a=e==="entries"||e===Symbol.iterator&&o,l=e==="keys"&&o,u=i[e](...r),c=n?Qm:t?Jm:An;return!t&&Sn(s,"iterate",l?Xm:Fo),{next(){const{value:d,done:f}=u.next();return f?{value:d,done:f}:{value:a?[c(d[0]),c(d[1])]:c(d),done:f}},[Symbol.iterator](){return this}}}}function rd(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function $D(e,t){const n={get(i){const s=this.__v_raw,o=st(s),a=st(i);e||(Xs(i,a)&&Sn(o,"get",i),Sn(o,"get",a));const{has:l}=nd(o),u=t?Qm:e?Jm:An;if(l.call(o,i))return u(s.get(i));if(l.call(o,a))return u(s.get(a));s!==o&&s.get(i)},get size(){const i=this.__v_raw;return!e&&Sn(st(i),"iterate",Fo),Reflect.get(i,"size",i)},has(i){const s=this.__v_raw,o=st(s),a=st(i);return e||(Xs(i,a)&&Sn(o,"has",i),Sn(o,"has",a)),i===a?s.has(i):s.has(i)||s.has(a)},forEach(i,s){const o=this,a=o.__v_raw,l=st(a),u=t?Qm:e?Jm:An;return!e&&Sn(l,"iterate",Fo),a.forEach((c,d)=>i.call(s,u(c),u(d),o))}};return Zt(n,e?{add:rd("add"),set:rd("set"),delete:rd("delete"),clear:rd("clear")}:{add(i){!t&&!Dr(i)&&!Ko(i)&&(i=st(i));const s=st(this);return nd(s).has.call(s,i)||(s.add(i),ts(s,"add",i,i)),this},set(i,s){!t&&!Dr(s)&&!Ko(s)&&(s=st(s));const o=st(this),{has:a,get:l}=nd(o);let u=a.call(o,i);u||(i=st(i),u=a.call(o,i));const c=l.call(o,i);return o.set(i,s),u?Xs(s,c)&&ts(o,"set",i,s):ts(o,"add",i,s),this},delete(i){const s=st(this),{has:o,get:a}=nd(s);let l=o.call(s,i);l||(i=st(i),l=o.call(s,i)),a&&a.call(s,i);const u=s.delete(i);return l&&ts(s,"delete",i,void 0),u},clear(){const i=st(this),s=i.size!==0,o=i.clear();return s&&ts(i,"clear",void 0,void 0),o}}),["keys","values","entries",Symbol.iterator].forEach(i=>{n[i]=BD(i,e,t)}),n}function tb(e,t){const n=$D(e,t);return(r,i,s)=>i==="__v_isReactive"?!e:i==="__v_isReadonly"?e:i==="__v_raw"?r:Reflect.get(pt(n,i)&&i in r?n:r,i,s)}const FD={get:tb(!1,!1)},UD={get:tb(!1,!0)},HD={get:tb(!0,!1)};const Yx=new WeakMap,Gx=new WeakMap,Kx=new WeakMap,zD=new WeakMap;function VD(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function jD(e){return e.__v_skip||!Object.isExtensible(e)?0:VD(fD(e))}function El(e){return Ko(e)?e:nb(e,!1,MD,FD,Yx)}function Xx(e){return nb(e,!1,LD,UD,Gx)}function Qx(e){return nb(e,!0,PD,HD,Kx)}function nb(e,t,n,r,i){if(!Et(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const s=i.get(e);if(s)return s;const o=jD(e);if(o===0)return e;const a=new Proxy(e,o===2?r:n);return i.set(e,a),a}function $a(e){return Ko(e)?$a(e.__v_raw):!!(e&&e.__v_isReactive)}function Ko(e){return!!(e&&e.__v_isReadonly)}function Dr(e){return!!(e&&e.__v_isShallow)}function rb(e){return e?!!e.__v_raw:!1}function st(e){const t=e&&e.__v_raw;return t?st(t):e}function vl(e){return!pt(e,"__v_skip")&&Object.isExtensible(e)&&Nx(e,"__v_skip",!0),e}const An=e=>Et(e)?El(e):e,Jm=e=>Et(e)?Qx(e):e;function Yt(e){return e?e.__v_isRef===!0:!1}function _t(e){return Jx(e,!1)}function ss(e){return Jx(e,!0)}function Jx(e,t){return Yt(e)?e:new qD(e,t)}class qD{constructor(t,n){this.dep=new eb,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=n?t:st(t),this._value=n?t:An(t),this.__v_isShallow=n}get value(){return this.dep.track(),this._value}set value(t){const n=this._rawValue,r=this.__v_isShallow||Dr(t)||Ko(t);t=r?t:st(t),Xs(t,n)&&(this._rawValue=t,this._value=r?t:An(t),this.dep.trigger())}}function WD(e){e.dep&&e.dep.trigger()}function _e(e){return Yt(e)?e.value:e}function Ld(e){return je(e)?e():_e(e)}const YD={get:(e,t,n)=>t==="__v_raw"?e:_e(Reflect.get(e,t,n)),set:(e,t,n,r)=>{const i=e[t];return Yt(i)&&!Yt(n)?(i.value=n,!0):Reflect.set(e,t,n,r)}};function Zx(e){return $a(e)?e:new Proxy(e,YD)}function eC(e){const t=De(e)?new Array(e.length):{};for(const n in e)t[n]=KD(e,n);return t}class GD{constructor(t,n,r){this._object=t,this._key=n,this._defaultValue=r,this.__v_isRef=!0,this._value=void 0}get value(){const t=this._object[this._key];return this._value=t===void 0?this._defaultValue:t}set value(t){this._object[this._key]=t}get dep(){return kD(st(this._object),this._key)}}function KD(e,t,n){const r=e[t];return Yt(r)?r:new GD(e,t,n)}class XD{constructor(t,n,r){this.fn=t,this.setter=n,this._value=void 0,this.dep=new eb(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=qu-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!n,this.isSSR=r}notify(){if(this.flags|=16,!(this.flags&8)&&xt!==this)return $x(this,!0),!0}get value(){const t=this.dep.track();return Hx(this),t&&(t.version=this.dep.version),this._value}set value(t){this.setter&&this.setter(t)}}function QD(e,t,n=!1){let r,i;return je(e)?r=e:(r=e.get,i=e.set),new XD(r,i,n)}const id={},uf=new WeakMap;let No;function JD(e,t=!1,n=No){if(n){let r=uf.get(n);r||uf.set(n,r=[]),r.push(e)}}function ZD(e,t,n=bt){const{immediate:r,deep:i,once:s,scheduler:o,augmentJob:a,call:l}=n,u=C=>i?C:Dr(C)||i===!1||i===0?ns(C,1):ns(C);let c,d,f,p,m=!1,g=!1;if(Yt(e)?(d=()=>e.value,m=Dr(e)):$a(e)?(d=()=>u(e),m=!0):De(e)?(g=!0,m=e.some(C=>$a(C)||Dr(C)),d=()=>e.map(C=>{if(Yt(C))return C.value;if($a(C))return u(C);if(je(C))return l?l(C,2):C()})):je(e)?t?d=l?()=>l(e,2):e:d=()=>{if(f){mo();try{f()}finally{go()}}const C=No;No=c;try{return l?l(e,3,[p]):e(p)}finally{No=C}}:d=ei,t&&i){const C=d,D=i===!0?1/0:i;d=()=>ns(C(),D)}const b=CD(),y=()=>{c.stop(),b&&b.active&&G0(b.effects,c)};if(s&&t){const C=t;t=(...D)=>{C(...D),y()}}let E=g?new Array(e.length).fill(id):id;const T=C=>{if(!(!(c.flags&1)||!c.dirty&&!C))if(t){const D=c.run();if(i||m||(g?D.some((_,M)=>Xs(_,E[M])):Xs(D,E))){f&&f();const _=No;No=c;try{const M=[D,E===id?void 0:g&&E[0]===id?[]:E,p];l?l(t,3,M):t(...M),E=D}finally{No=_}}}else c.run()};return a&&a(T),c=new Lx(d),c.scheduler=o?()=>o(T,!1):T,p=C=>JD(C,!1,c),f=c.onStop=()=>{const C=uf.get(c);if(C){if(l)l(C,4);else for(const D of C)D();uf.delete(c)}},t?r?T(!0):E=c.run():o?o(T.bind(null,!0),!0):c.run(),y.pause=c.pause.bind(c),y.resume=c.resume.bind(c),y.stop=y,y}function ns(e,t=1/0,n){if(t<=0||!Et(e)||e.__v_skip||(n=n||new Set,n.has(e)))return e;if(n.add(e),t--,Yt(e))ns(e.value,t,n);else if(De(e))for(let r=0;r<e.length;r++)ns(e[r],t,n);else if(yl(e)||La(e))e.forEach(r=>{ns(r,t,n)});else if(Ix(e)){for(const r in e)ns(e[r],t,n);for(const r of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,r)&&ns(e[r],t,n)}return e}/**
* @vue/runtime-core v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Sc(e,t,n,r){try{return r?e(...r):e()}catch(i){up(i,t,n)}}function ri(e,t,n,r){if(je(e)){const i=Sc(e,t,n,r);return i&&kx(i)&&i.catch(s=>{up(s,t,n)}),i}if(De(e)){const i=[];for(let s=0;s<e.length;s++)i.push(ri(e[s],t,n,r));return i}}function up(e,t,n,r=!0){const i=t?t.vnode:null,{errorHandler:s,throwUnhandledErrorInProduction:o}=t&&t.appContext.config||bt;if(t){let a=t.parent;const l=t.proxy,u=`https://vuejs.org/error-reference/#runtime-${n}`;for(;a;){const c=a.ec;if(c){for(let d=0;d<c.length;d++)if(c[d](e,l,u)===!1)return}a=a.parent}if(s){mo(),Sc(s,null,10,[e,l,u]),go();return}}eM(e,n,i,r,o)}function eM(e,t,n,r=!0,i=!1){if(i)throw e;console.error(e)}const Fn=[];let wi=-1;const Fa=[];let Rs=null,ka=0;const tC=Promise.resolve();let cf=null;function Ac(e){const t=cf||tC;return e?t.then(this?e.bind(this):e):t}function tM(e){let t=wi+1,n=Fn.length;for(;t<n;){const r=t+n>>>1,i=Fn[r],s=Yu(i);s<e||s===e&&i.flags&2?t=r+1:n=r}return t}function ib(e){if(!(e.flags&1)){const t=Yu(e),n=Fn[Fn.length-1];!n||!(e.flags&2)&&t>=Yu(n)?Fn.push(e):Fn.splice(tM(t),0,e),e.flags|=1,nC()}}function nC(){cf||(cf=tC.then(sC))}function rC(e){De(e)?Fa.push(...e):Rs&&e.id===-1?Rs.splice(ka+1,0,e):e.flags&1||(Fa.push(e),e.flags|=1),nC()}function zy(e,t,n=wi+1){for(;n<Fn.length;n++){const r=Fn[n];if(r&&r.flags&2){if(e&&r.id!==e.uid)continue;Fn.splice(n,1),n--,r.flags&4&&(r.flags&=-2),r(),r.flags&4||(r.flags&=-2)}}}function iC(e){if(Fa.length){const t=[...new Set(Fa)].sort((n,r)=>Yu(n)-Yu(r));if(Fa.length=0,Rs){Rs.push(...t);return}for(Rs=t,ka=0;ka<Rs.length;ka++){const n=Rs[ka];n.flags&4&&(n.flags&=-2),n.flags&8||n(),n.flags&=-2}Rs=null,ka=0}}const Yu=e=>e.id==null?e.flags&2?-1:1/0:e.id;function sC(e){try{for(wi=0;wi<Fn.length;wi++){const t=Fn[wi];t&&!(t.flags&8)&&(t.flags&4&&(t.flags&=-2),Sc(t,t.i,t.i?15:14),t.flags&4||(t.flags&=-2))}}finally{for(;wi<Fn.length;wi++){const t=Fn[wi];t&&(t.flags&=-2)}wi=-1,Fn.length=0,iC(),cf=null,(Fn.length||Fa.length)&&sC()}}let cn=null,oC=null;function df(e){const t=cn;return cn=e,oC=e&&e.type.__scopeId||null,t}function W(e,t=cn,n){if(!t||e._n)return e;const r=(...i)=>{r._d&&t_(-1);const s=df(t);let o;try{o=e(...i)}finally{df(s),r._d&&t_(1)}return o};return r._n=!0,r._c=!0,r._d=!0,r}function Ct(e,t){if(cn===null)return e;const n=mp(cn),r=e.dirs||(e.dirs=[]);for(let i=0;i<t.length;i++){let[s,o,a,l=bt]=t[i];s&&(je(s)&&(s={mounted:s,updated:s}),s.deep&&ns(o),r.push({dir:s,instance:n,value:o,oldValue:void 0,arg:a,modifiers:l}))}return e}function wo(e,t,n,r){const i=e.dirs,s=t&&t.dirs;for(let o=0;o<i.length;o++){const a=i[o];s&&(a.oldValue=s[o].value);let l=a.dir[r];l&&(mo(),ri(l,n,8,[e.el,a,e,t]),go())}}const aC=Symbol("_vte"),lC=e=>e.__isTeleport,yu=e=>e&&(e.disabled||e.disabled===""),Vy=e=>e&&(e.defer||e.defer===""),jy=e=>typeof SVGElement<"u"&&e instanceof SVGElement,qy=e=>typeof MathMLElement=="function"&&e instanceof MathMLElement,Zm=(e,t)=>{const n=e&&e.to;return It(n)?t?t(n):null:n},uC={name:"Teleport",__isTeleport:!0,process(e,t,n,r,i,s,o,a,l,u){const{mc:c,pc:d,pbc:f,o:{insert:p,querySelector:m,createText:g,createComment:b}}=u,y=yu(t.props);let{shapeFlag:E,children:T,dynamicChildren:C}=t;if(e==null){const D=t.el=g(""),_=t.anchor=g("");p(D,n,r),p(_,n,r);const M=(B,K)=>{E&16&&(i&&i.isCE&&(i.ce._teleportTarget=B),c(T,B,K,i,s,o,a,l))},G=()=>{const B=t.target=Zm(t.props,m),K=cC(B,t,g,p);B&&(o!=="svg"&&jy(B)?o="svg":o!=="mathml"&&qy(B)&&(o="mathml"),y||(M(B,K),Bd(t,!1)))};y&&(M(n,_),Bd(t,!0)),Vy(t.props)?Xt(()=>{G(),t.el.__isMounted=!0},s):G()}else{if(Vy(t.props)&&!e.el.__isMounted){Xt(()=>{uC.process(e,t,n,r,i,s,o,a,l,u),delete e.el.__isMounted},s);return}t.el=e.el,t.targetStart=e.targetStart;const D=t.anchor=e.anchor,_=t.target=e.target,M=t.targetAnchor=e.targetAnchor,G=yu(e.props),B=G?n:_,K=G?D:M;if(o==="svg"||jy(_)?o="svg":(o==="mathml"||qy(_))&&(o="mathml"),C?(f(e.dynamicChildren,C,B,i,s,o,a),db(e,t,!0)):l||d(e,t,B,K,i,s,o,a,!1),y)G?t.props&&e.props&&t.props.to!==e.props.to&&(t.props.to=e.props.to):sd(t,n,D,u,1);else if((t.props&&t.props.to)!==(e.props&&e.props.to)){const V=t.target=Zm(t.props,m);V&&sd(t,V,null,u,0)}else G&&sd(t,_,M,u,1);Bd(t,y)}},remove(e,t,n,{um:r,o:{remove:i}},s){const{shapeFlag:o,children:a,anchor:l,targetStart:u,targetAnchor:c,target:d,props:f}=e;if(d&&(i(u),i(c)),s&&i(l),o&16){const p=s||!yu(f);for(let m=0;m<a.length;m++){const g=a[m];r(g,t,n,p,!!g.dynamicChildren)}}},move:sd,hydrate:nM};function sd(e,t,n,{o:{insert:r},m:i},s=2){s===0&&r(e.targetAnchor,t,n);const{el:o,anchor:a,shapeFlag:l,children:u,props:c}=e,d=s===2;if(d&&r(o,t,n),(!d||yu(c))&&l&16)for(let f=0;f<u.length;f++)i(u[f],t,n,2);d&&r(a,t,n)}function nM(e,t,n,r,i,s,{o:{nextSibling:o,parentNode:a,querySelector:l,insert:u,createText:c}},d){const f=t.target=Zm(t.props,l);if(f){const p=yu(t.props),m=f._lpa||f.firstChild;if(t.shapeFlag&16)if(p)t.anchor=d(o(e),t,a(e),n,r,i,s),t.targetStart=m,t.targetAnchor=m&&o(m);else{t.anchor=o(e);let g=m;for(;g;){if(g&&g.nodeType===8){if(g.data==="teleport start anchor")t.targetStart=g;else if(g.data==="teleport anchor"){t.targetAnchor=g,f._lpa=t.targetAnchor&&o(t.targetAnchor);break}}g=o(g)}t.targetAnchor||cC(f,t,c,u),d(m&&o(m),t,f,n,r,i,s)}Bd(t,p)}return t.anchor&&o(t.anchor)}const Er=uC;function Bd(e,t){const n=e.ctx;if(n&&n.ut){let r,i;for(t?(r=e.el,i=e.anchor):(r=e.targetStart,i=e.targetAnchor);r&&r!==i;)r.nodeType===1&&r.setAttribute("data-v-owner",n.uid),r=r.nextSibling;n.ut()}}function cC(e,t,n,r){const i=t.targetStart=n(""),s=t.targetAnchor=n("");return i[aC]=s,e&&(r(i,e),r(s,e)),s}const Ds=Symbol("_leaveCb"),od=Symbol("_enterCb");function dC(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return vr(()=>{e.isMounted=!0}),Tl(()=>{e.isUnmounting=!0}),e}const Cr=[Function,Array],fC={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Cr,onEnter:Cr,onAfterEnter:Cr,onEnterCancelled:Cr,onBeforeLeave:Cr,onLeave:Cr,onAfterLeave:Cr,onLeaveCancelled:Cr,onBeforeAppear:Cr,onAppear:Cr,onAfterAppear:Cr,onAppearCancelled:Cr},pC=e=>{const t=e.subTree;return t.component?pC(t.component):t},rM={name:"BaseTransition",props:fC,setup(e,{slots:t}){const n=xl(),r=dC();return()=>{const i=t.default&&sb(t.default(),!0);if(!i||!i.length)return;const s=hC(i),o=st(e),{mode:a}=o;if(r.isLeaving)return Ch(s);const l=Wy(s);if(!l)return Ch(s);let u=Gu(l,o,r,n,d=>u=d);l.type!==On&&ro(l,u);let c=n.subTree&&Wy(n.subTree);if(c&&c.type!==On&&!Fs(l,c)&&pC(n).type!==On){let d=Gu(c,o,r,n);if(ro(c,d),a==="out-in"&&l.type!==On)return r.isLeaving=!0,d.afterLeave=()=>{r.isLeaving=!1,n.job.flags&8||n.update(),delete d.afterLeave,c=void 0},Ch(s);a==="in-out"&&l.type!==On?d.delayLeave=(f,p,m)=>{const g=mC(r,c);g[String(c.key)]=c,f[Ds]=()=>{p(),f[Ds]=void 0,delete u.delayedLeave,c=void 0},u.delayedLeave=()=>{m(),delete u.delayedLeave,c=void 0}}:c=void 0}else c&&(c=void 0);return s}}};function hC(e){let t=e[0];if(e.length>1){for(const n of e)if(n.type!==On){t=n;break}}return t}const iM=rM;function mC(e,t){const{leavingVNodes:n}=e;let r=n.get(t.type);return r||(r=Object.create(null),n.set(t.type,r)),r}function Gu(e,t,n,r,i){const{appear:s,mode:o,persisted:a=!1,onBeforeEnter:l,onEnter:u,onAfterEnter:c,onEnterCancelled:d,onBeforeLeave:f,onLeave:p,onAfterLeave:m,onLeaveCancelled:g,onBeforeAppear:b,onAppear:y,onAfterAppear:E,onAppearCancelled:T}=t,C=String(e.key),D=mC(n,e),_=(B,K)=>{B&&ri(B,r,9,K)},M=(B,K)=>{const V=K[1];_(B,K),De(B)?B.every(H=>H.length<=1)&&V():B.length<=1&&V()},G={mode:o,persisted:a,beforeEnter(B){let K=l;if(!n.isMounted)if(s)K=b||l;else return;B[Ds]&&B[Ds](!0);const V=D[C];V&&Fs(e,V)&&V.el[Ds]&&V.el[Ds](),_(K,[B])},enter(B){let K=u,V=c,H=d;if(!n.isMounted)if(s)K=y||u,V=E||c,H=T||d;else return;let te=!1;const Ee=B[od]=me=>{te||(te=!0,me?_(H,[B]):_(V,[B]),G.delayedLeave&&G.delayedLeave(),B[od]=void 0)};K?M(K,[B,Ee]):Ee()},leave(B,K){const V=String(e.key);if(B[od]&&B[od](!0),n.isUnmounting)return K();_(f,[B]);let H=!1;const te=B[Ds]=Ee=>{H||(H=!0,K(),Ee?_(g,[B]):_(m,[B]),B[Ds]=void 0,D[V]===e&&delete D[V])};D[V]=e,p?M(p,[B,te]):te()},clone(B){const K=Gu(B,t,n,r,i);return i&&i(K),K}};return G}function Ch(e){if(cp(e))return e=ps(e),e.children=null,e}function Wy(e){if(!cp(e))return lC(e.type)&&e.children?hC(e.children):e;const{shapeFlag:t,children:n}=e;if(n){if(t&16)return n[0];if(t&32&&je(n.default))return n.default()}}function ro(e,t){e.shapeFlag&6&&e.component?(e.transition=t,ro(e.component.subTree,t)):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function sb(e,t=!1,n){let r=[],i=0;for(let s=0;s<e.length;s++){let o=e[s];const a=n==null?o.key:String(n)+String(o.key!=null?o.key:s);o.type===Ge?(o.patchFlag&128&&i++,r=r.concat(sb(o.children,t,a))):(t||o.type!==On)&&r.push(a!=null?ps(o,{key:a}):o)}if(i>1)for(let s=0;s<r.length;s++)r[s].patchFlag=-2;return r}/*! #__NO_SIDE_EFFECTS__ */function rr(e,t){return je(e)?Zt({name:e.name},t,{setup:e}):e}function gC(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}function ff(e,t,n,r,i=!1){if(De(e)){e.forEach((m,g)=>ff(m,t&&(De(t)?t[g]:t),n,r,i));return}if(Uo(r)&&!i){r.shapeFlag&512&&r.type.__asyncResolved&&r.component.subTree.component&&ff(e,t,n,r.component.subTree);return}const s=r.shapeFlag&4?mp(r.component):r.el,o=i?null:s,{i:a,r:l}=e,u=t&&t.r,c=a.refs===bt?a.refs={}:a.refs,d=a.setupState,f=st(d),p=d===bt?()=>!1:m=>pt(f,m);if(u!=null&&u!==l&&(It(u)?(c[u]=null,p(u)&&(d[u]=null)):Yt(u)&&(u.value=null)),je(l))Sc(l,a,12,[o,c]);else{const m=It(l),g=Yt(l);if(m||g){const b=()=>{if(e.f){const y=m?p(l)?d[l]:c[l]:l.value;i?De(y)&&G0(y,s):De(y)?y.includes(s)||y.push(s):m?(c[l]=[s],p(l)&&(d[l]=c[l])):(l.value=[s],e.k&&(c[e.k]=l.value))}else m?(c[l]=o,p(l)&&(d[l]=o)):g&&(l.value=o,e.k&&(c[e.k]=o))};o?(b.id=-1,Xt(b,n)):b()}}}ap().requestIdleCallback;ap().cancelIdleCallback;const Uo=e=>!!e.type.__asyncLoader,cp=e=>e.type.__isKeepAlive,sM={name:"KeepAlive",__isKeepAlive:!0,props:{include:[String,RegExp,Array],exclude:[String,RegExp,Array],max:[String,Number]},setup(e,{slots:t}){const n=xl(),r=n.ctx;if(!r.renderer)return()=>{const E=t.default&&t.default();return E&&E.length===1?E[0]:E};const i=new Map,s=new Set;let o=null;const a=n.suspense,{renderer:{p:l,m:u,um:c,o:{createElement:d}}}=r,f=d("div");r.activate=(E,T,C,D,_)=>{const M=E.component;u(E,T,C,0,a),l(M.vnode,E,T,C,M,a,D,E.slotScopeIds,_),Xt(()=>{M.isDeactivated=!1,M.a&&Ba(M.a);const G=E.props&&E.props.onVnodeMounted;G&&Ar(G,M.parent,E)},a)},r.deactivate=E=>{const T=E.component;hf(T.m),hf(T.a),u(E,f,null,1,a),Xt(()=>{T.da&&Ba(T.da);const C=E.props&&E.props.onVnodeUnmounted;C&&Ar(C,T.parent,E),T.isDeactivated=!0},a)};function p(E){Sh(E),c(E,n,a,!0)}function m(E){i.forEach((T,C)=>{const D=ag(T.type);D&&!E(D)&&g(C)})}function g(E){const T=i.get(E);T&&(!o||!Fs(T,o))?p(T):o&&Sh(o),i.delete(E),s.delete(E)}Tn(()=>[e.include,e.exclude],([E,T])=>{E&&m(C=>au(E,C)),T&&m(C=>!au(T,C))},{flush:"post",deep:!0});let b=null;const y=()=>{b!=null&&(mf(n.subTree.type)?Xt(()=>{i.set(b,ad(n.subTree))},n.subTree.suspense):i.set(b,ad(n.subTree)))};return vr(y),ab(y),Tl(()=>{i.forEach(E=>{const{subTree:T,suspense:C}=n,D=ad(T);if(E.type===D.type&&E.key===D.key){Sh(D);const _=D.component.da;_&&Xt(_,C);return}p(E)})}),()=>{if(b=null,!t.default)return o=null;const E=t.default(),T=E[0];if(E.length>1)return o=null,E;if(!Qa(T)||!(T.shapeFlag&4)&&!(T.shapeFlag&128))return o=null,T;let C=ad(T);if(C.type===On)return o=null,C;const D=C.type,_=ag(Uo(C)?C.type.__asyncResolved||{}:D),{include:M,exclude:G,max:B}=e;if(M&&(!_||!au(M,_))||G&&_&&au(G,_))return C.shapeFlag&=-257,o=C,T;const K=C.key==null?D:C.key,V=i.get(K);return C.el&&(C=ps(C),T.shapeFlag&128&&(T.ssContent=C)),b=K,V?(C.el=V.el,C.component=V.component,C.transition&&ro(C,C.transition),C.shapeFlag|=512,s.delete(K),s.add(K)):(s.add(K),B&&s.size>parseInt(B,10)&&g(s.values().next().value)),C.shapeFlag|=256,o=C,mf(T.type)?T:C}}},oM=sM;function au(e,t){return De(e)?e.some(n=>au(n,t)):It(e)?e.split(",").includes(t):dD(e)?(e.lastIndex=0,e.test(t)):!1}function aM(e,t){bC(e,"a",t)}function lM(e,t){bC(e,"da",t)}function bC(e,t,n=vn){const r=e.__wdc||(e.__wdc=()=>{let i=n;for(;i;){if(i.isDeactivated)return;i=i.parent}return e()});if(dp(t,r,n),n){let i=n.parent;for(;i&&i.parent;)cp(i.parent.vnode)&&uM(r,t,n,i),i=i.parent}}function uM(e,t,n,r){const i=dp(t,e,r,!0);wl(()=>{G0(r[t],i)},n)}function Sh(e){e.shapeFlag&=-257,e.shapeFlag&=-513}function ad(e){return e.shapeFlag&128?e.ssContent:e}function dp(e,t,n=vn,r=!1){if(n){const i=n[e]||(n[e]=[]),s=t.__weh||(t.__weh=(...o)=>{mo();const a=kc(n),l=ri(t,n,e,o);return a(),go(),l});return r?i.unshift(s):i.push(s),s}}const ys=e=>(t,n=vn)=>{(!Xu||e==="sp")&&dp(e,(...r)=>t(...r),n)},yC=ys("bm"),vr=ys("m"),ob=ys("bu"),ab=ys("u"),Tl=ys("bum"),wl=ys("um"),cM=ys("sp"),dM=ys("rtg"),fM=ys("rtc");function pM(e,t=vn){dp("ec",e,t)}const lb="components",hM="directives";function Y(e,t){return ub(lb,e,!0,t)||e}const _C=Symbol.for("v-ndc");function J1e(e){return It(e)?ub(lb,e,!1)||e:e||_C}function EC(e){return ub(hM,e)}function ub(e,t,n=!0,r=!1){const i=cn||vn;if(i){const s=i.type;if(e===lb){const a=ag(s,!1);if(a&&(a===t||a===Fr(t)||a===op(Fr(t))))return s}const o=Yy(i[e]||s[e],t)||Yy(i.appContext[e],t);return!o&&r?s:o}}function Yy(e,t){return e&&(e[t]||e[Fr(t)]||e[op(Fr(t))])}function $t(e,t,n,r){let i;const s=n,o=De(e);if(o||It(e)){const a=o&&$a(e);let l=!1;a&&(l=!Dr(e),e=lp(e)),i=new Array(e.length);for(let u=0,c=e.length;u<c;u++)i[u]=t(l?An(e[u]):e[u],u,void 0,s)}else if(typeof e=="number"){i=new Array(e);for(let a=0;a<e;a++)i[a]=t(a+1,a,void 0,s)}else if(Et(e))if(e[Symbol.iterator])i=Array.from(e,(a,l)=>t(a,l,void 0,s));else{const a=Object.keys(e);i=new Array(a.length);for(let l=0,u=a.length;l<u;l++){const c=a[l];i[l]=t(e[c],c,l,s)}}else i=[];return i}function mM(e,t){for(let n=0;n<t.length;n++){const r=t[n];if(De(r))for(let i=0;i<r.length;i++)e[r[i].name]=r[i].fn;else r&&(e[r.name]=r.key?(...i)=>{const s=r.fn(...i);return s&&(s.key=r.key),s}:r.fn)}return e}function ke(e,t,n={},r,i){if(cn.ce||cn.parent&&Uo(cn.parent)&&cn.parent.ce)return t!=="default"&&(n.name=t),x(),pe(Ge,null,[U("slot",n,r&&r())],64);let s=e[t];s&&s._c&&(s._d=!1),x();const o=s&&vC(s(n)),a=n.key||o&&o.key,l=pe(Ge,{key:(a&&!ni(a)?a:`_${t}`)+(!o&&r?"_fb":"")},o||(r?r():[]),o&&e._===1?64:-2);return!i&&l.scopeId&&(l.slotScopeIds=[l.scopeId+"-s"]),s&&s._c&&(s._d=!0),l}function vC(e){return e.some(t=>Qa(t)?!(t.type===On||t.type===Ge&&!vC(t.children)):!0)?e:null}const eg=e=>e?HC(e)?mp(e):eg(e.parent):null,_u=Zt(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>eg(e.parent),$root:e=>eg(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>xC(e),$forceUpdate:e=>e.f||(e.f=()=>{ib(e.update)}),$nextTick:e=>e.n||(e.n=Ac.bind(e.proxy)),$watch:e=>BM.bind(e)}),Ah=(e,t)=>e!==bt&&!e.__isScriptSetup&&pt(e,t),gM={get({_:e},t){if(t==="__v_skip")return!0;const{ctx:n,setupState:r,data:i,props:s,accessCache:o,type:a,appContext:l}=e;let u;if(t[0]!=="$"){const p=o[t];if(p!==void 0)switch(p){case 1:return r[t];case 2:return i[t];case 4:return n[t];case 3:return s[t]}else{if(Ah(r,t))return o[t]=1,r[t];if(i!==bt&&pt(i,t))return o[t]=2,i[t];if((u=e.propsOptions[0])&&pt(u,t))return o[t]=3,s[t];if(n!==bt&&pt(n,t))return o[t]=4,n[t];tg&&(o[t]=0)}}const c=_u[t];let d,f;if(c)return t==="$attrs"&&Sn(e.attrs,"get",""),c(e);if((d=a.__cssModules)&&(d=d[t]))return d;if(n!==bt&&pt(n,t))return o[t]=4,n[t];if(f=l.config.globalProperties,pt(f,t))return f[t]},set({_:e},t,n){const{data:r,setupState:i,ctx:s}=e;return Ah(i,t)?(i[t]=n,!0):r!==bt&&pt(r,t)?(r[t]=n,!0):pt(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(s[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:r,appContext:i,propsOptions:s}},o){let a;return!!n[o]||e!==bt&&pt(e,o)||Ah(t,o)||(a=s[0])&&pt(a,o)||pt(r,o)||pt(_u,o)||pt(i.config.globalProperties,o)},defineProperty(e,t,n){return n.get!=null?e._.accessCache[t]=0:pt(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};function bM(){return TC().slots}function Z1e(){return TC().attrs}function TC(){const e=xl();return e.setupContext||(e.setupContext=VC(e))}function Gy(e){return De(e)?e.reduce((t,n)=>(t[n]=null,t),{}):e}let tg=!0;function yM(e){const t=xC(e),n=e.proxy,r=e.ctx;tg=!1,t.beforeCreate&&Ky(t.beforeCreate,e,"bc");const{data:i,computed:s,methods:o,watch:a,provide:l,inject:u,created:c,beforeMount:d,mounted:f,beforeUpdate:p,updated:m,activated:g,deactivated:b,beforeDestroy:y,beforeUnmount:E,destroyed:T,unmounted:C,render:D,renderTracked:_,renderTriggered:M,errorCaptured:G,serverPrefetch:B,expose:K,inheritAttrs:V,components:H,directives:te,filters:Ee}=t;if(u&&_M(u,r,null),o)for(const Ce in o){const ve=o[Ce];je(ve)&&(r[Ce]=ve.bind(n))}if(i){const Ce=i.call(n,n);Et(Ce)&&(e.data=El(Ce))}if(tg=!0,s)for(const Ce in s){const ve=s[Ce],$e=je(ve)?ve.bind(n,n):je(ve.get)?ve.get.bind(n,n):ei,k=!je(ve)&&je(ve.set)?ve.set.bind(n):ei,tt=yt({get:$e,set:k});Object.defineProperty(r,Ce,{enumerable:!0,configurable:!0,get:()=>tt.value,set:Qe=>tt.value=Qe})}if(a)for(const Ce in a)wC(a[Ce],r,n,Ce);if(l){const Ce=je(l)?l.call(n):l;Reflect.ownKeys(Ce).forEach(ve=>{pr(ve,Ce[ve])})}c&&Ky(c,e,"c");function xe(Ce,ve){De(ve)?ve.forEach($e=>Ce($e.bind(n))):ve&&Ce(ve.bind(n))}if(xe(yC,d),xe(vr,f),xe(ob,p),xe(ab,m),xe(aM,g),xe(lM,b),xe(pM,G),xe(fM,_),xe(dM,M),xe(Tl,E),xe(wl,C),xe(cM,B),De(K))if(K.length){const Ce=e.exposed||(e.exposed={});K.forEach(ve=>{Object.defineProperty(Ce,ve,{get:()=>n[ve],set:$e=>n[ve]=$e})})}else e.exposed||(e.exposed={});D&&e.render===ei&&(e.render=D),V!=null&&(e.inheritAttrs=V),H&&(e.components=H),te&&(e.directives=te),B&&gC(e)}function _M(e,t,n=ei){De(e)&&(e=ng(e));for(const r in e){const i=e[r];let s;Et(i)?"default"in i?s=Un(i.from||r,i.default,!0):s=Un(i.from||r):s=Un(i),Yt(s)?Object.defineProperty(t,r,{enumerable:!0,configurable:!0,get:()=>s.value,set:o=>s.value=o}):t[r]=s}}function Ky(e,t,n){ri(De(e)?e.map(r=>r.bind(t.proxy)):e.bind(t.proxy),t,n)}function wC(e,t,n,r){let i=r.includes(".")?LC(n,r):()=>n[r];if(It(e)){const s=t[e];je(s)&&Tn(i,s)}else if(je(e))Tn(i,e.bind(n));else if(Et(e))if(De(e))e.forEach(s=>wC(s,t,n,r));else{const s=je(e.handler)?e.handler.bind(n):t[e.handler];je(s)&&Tn(i,s,e)}}function xC(e){const t=e.type,{mixins:n,extends:r}=t,{mixins:i,optionsCache:s,config:{optionMergeStrategies:o}}=e.appContext,a=s.get(t);let l;return a?l=a:!i.length&&!n&&!r?l=t:(l={},i.length&&i.forEach(u=>pf(l,u,o,!0)),pf(l,t,o)),Et(t)&&s.set(t,l),l}function pf(e,t,n,r=!1){const{mixins:i,extends:s}=t;s&&pf(e,s,n,!0),i&&i.forEach(o=>pf(e,o,n,!0));for(const o in t)if(!(r&&o==="expose")){const a=EM[o]||n&&n[o];e[o]=a?a(e[o],t[o]):t[o]}return e}const EM={data:Xy,props:Qy,emits:Qy,methods:lu,computed:lu,beforeCreate:$n,created:$n,beforeMount:$n,mounted:$n,beforeUpdate:$n,updated:$n,beforeDestroy:$n,beforeUnmount:$n,destroyed:$n,unmounted:$n,activated:$n,deactivated:$n,errorCaptured:$n,serverPrefetch:$n,components:lu,directives:lu,watch:TM,provide:Xy,inject:vM};function Xy(e,t){return t?e?function(){return Zt(je(e)?e.call(this,this):e,je(t)?t.call(this,this):t)}:t:e}function vM(e,t){return lu(ng(e),ng(t))}function ng(e){if(De(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function $n(e,t){return e?[...new Set([].concat(e,t))]:t}function lu(e,t){return e?Zt(Object.create(null),e,t):t}function Qy(e,t){return e?De(e)&&De(t)?[...new Set([...e,...t])]:Zt(Object.create(null),Gy(e),Gy(t??{})):t}function TM(e,t){if(!e)return t;if(!t)return e;const n=Zt(Object.create(null),e);for(const r in t)n[r]=$n(e[r],t[r]);return n}function CC(){return{app:null,config:{isNativeTag:uD,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let wM=0;function xM(e,t){return function(r,i=null){je(r)||(r=Zt({},r)),i!=null&&!Et(i)&&(i=null);const s=CC(),o=new WeakSet,a=[];let l=!1;const u=s.app={_uid:wM++,_component:r,_props:i,_container:null,_context:s,_instance:null,version:eP,get config(){return s.config},set config(c){},use(c,...d){return o.has(c)||(c&&je(c.install)?(o.add(c),c.install(u,...d)):je(c)&&(o.add(c),c(u,...d))),u},mixin(c){return s.mixins.includes(c)||s.mixins.push(c),u},component(c,d){return d?(s.components[c]=d,u):s.components[c]},directive(c,d){return d?(s.directives[c]=d,u):s.directives[c]},mount(c,d,f){if(!l){const p=u._ceVNode||U(r,i);return p.appContext=s,f===!0?f="svg":f===!1&&(f=void 0),e(p,c,f),l=!0,u._container=c,c.__vue_app__=u,mp(p.component)}},onUnmount(c){a.push(c)},unmount(){l&&(ri(a,u._instance,16),e(null,u._container),delete u._container.__vue_app__)},provide(c,d){return s.provides[c]=d,u},runWithContext(c){const d=Ua;Ua=u;try{return c()}finally{Ua=d}}};return u}}let Ua=null;function pr(e,t){if(vn){let n=vn.provides;const r=vn.parent&&vn.parent.provides;r===n&&(n=vn.provides=Object.create(r)),n[e]=t}}function Un(e,t,n=!1){const r=vn||cn;if(r||Ua){const i=Ua?Ua._context.provides:r?r.parent==null?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:void 0;if(i&&e in i)return i[e];if(arguments.length>1)return n&&je(t)?t.call(r&&r.proxy):t}}const SC={},AC=()=>Object.create(SC),kC=e=>Object.getPrototypeOf(e)===SC;function CM(e,t,n,r=!1){const i={},s=AC();e.propsDefaults=Object.create(null),OC(e,t,i,s);for(const o in e.propsOptions[0])o in i||(i[o]=void 0);n?e.props=r?i:Xx(i):e.type.props?e.props=i:e.props=s,e.attrs=s}function SM(e,t,n,r){const{props:i,attrs:s,vnode:{patchFlag:o}}=e,a=st(i),[l]=e.propsOptions;let u=!1;if((r||o>0)&&!(o&16)){if(o&8){const c=e.vnode.dynamicProps;for(let d=0;d<c.length;d++){let f=c[d];if(pp(e.emitsOptions,f))continue;const p=t[f];if(l)if(pt(s,f))p!==s[f]&&(s[f]=p,u=!0);else{const m=Fr(f);i[m]=rg(l,a,m,p,e,!1)}else p!==s[f]&&(s[f]=p,u=!0)}}}else{OC(e,t,i,s)&&(u=!0);let c;for(const d in a)(!t||!pt(t,d)&&((c=ho(d))===d||!pt(t,c)))&&(l?n&&(n[d]!==void 0||n[c]!==void 0)&&(i[d]=rg(l,a,d,void 0,e,!0)):delete i[d]);if(s!==a)for(const d in s)(!t||!pt(t,d))&&(delete s[d],u=!0)}u&&ts(e.attrs,"set","")}function OC(e,t,n,r){const[i,s]=e.propsOptions;let o=!1,a;if(t)for(let l in t){if(mu(l))continue;const u=t[l];let c;i&&pt(i,c=Fr(l))?!s||!s.includes(c)?n[c]=u:(a||(a={}))[c]=u:pp(e.emitsOptions,l)||(!(l in r)||u!==r[l])&&(r[l]=u,o=!0)}if(s){const l=st(n),u=a||bt;for(let c=0;c<s.length;c++){const d=s[c];n[d]=rg(i,l,d,u[d],e,!pt(u,d))}}return o}function rg(e,t,n,r,i,s){const o=e[n];if(o!=null){const a=pt(o,"default");if(a&&r===void 0){const l=o.default;if(o.type!==Function&&!o.skipFactory&&je(l)){const{propsDefaults:u}=i;if(n in u)r=u[n];else{const c=kc(i);r=u[n]=l.call(null,t),c()}}else r=l;i.ce&&i.ce._setProp(n,r)}o[0]&&(s&&!a?r=!1:o[1]&&(r===""||r===ho(n))&&(r=!0))}return r}const AM=new WeakMap;function IC(e,t,n=!1){const r=n?AM:t.propsCache,i=r.get(e);if(i)return i;const s=e.props,o={},a=[];let l=!1;if(!je(e)){const c=d=>{l=!0;const[f,p]=IC(d,t,!0);Zt(o,f),p&&a.push(...p)};!n&&t.mixins.length&&t.mixins.forEach(c),e.extends&&c(e.extends),e.mixins&&e.mixins.forEach(c)}if(!s&&!l)return Et(e)&&r.set(e,Pa),Pa;if(De(s))for(let c=0;c<s.length;c++){const d=Fr(s[c]);Jy(d)&&(o[d]=bt)}else if(s)for(const c in s){const d=Fr(c);if(Jy(d)){const f=s[c],p=o[d]=De(f)||je(f)?{type:f}:Zt({},f),m=p.type;let g=!1,b=!0;if(De(m))for(let y=0;y<m.length;++y){const E=m[y],T=je(E)&&E.name;if(T==="Boolean"){g=!0;break}else T==="String"&&(b=!1)}else g=je(m)&&m.name==="Boolean";p[0]=g,p[1]=b,(g||pt(p,"default"))&&a.push(d)}}const u=[o,a];return Et(e)&&r.set(e,u),u}function Jy(e){return e[0]!=="$"&&!mu(e)}const NC=e=>e[0]==="_"||e==="$stable",cb=e=>De(e)?e.map(Si):[Si(e)],kM=(e,t,n)=>{if(t._n)return t;const r=W((...i)=>cb(t(...i)),n);return r._c=!1,r},RC=(e,t,n)=>{const r=e._ctx;for(const i in e){if(NC(i))continue;const s=e[i];if(je(s))t[i]=kM(i,s,r);else if(s!=null){const o=cb(s);t[i]=()=>o}}},DC=(e,t)=>{const n=cb(t);e.slots.default=()=>n},MC=(e,t,n)=>{for(const r in t)(n||r!=="_")&&(e[r]=t[r])},OM=(e,t,n)=>{const r=e.slots=AC();if(e.vnode.shapeFlag&32){const i=t._;i?(MC(r,t,n),n&&Nx(r,"_",i,!0)):RC(t,r)}else t&&DC(e,t)},IM=(e,t,n)=>{const{vnode:r,slots:i}=e;let s=!0,o=bt;if(r.shapeFlag&32){const a=t._;a?n&&a===1?s=!1:MC(i,t,n):(s=!t.$stable,RC(t,i)),o=t}else t&&(DC(e,t),o={default:1});if(s)for(const a in i)!NC(a)&&o[a]==null&&delete i[a]},Xt=jM;function NM(e){return RM(e)}function RM(e,t){const n=ap();n.__VUE__=!0;const{insert:r,remove:i,patchProp:s,createElement:o,createText:a,createComment:l,setText:u,setElementText:c,parentNode:d,nextSibling:f,setScopeId:p=ei,insertStaticContent:m}=e,g=(A,N,L,X=null,Q=null,J=null,ge=void 0,ae=null,de=!!N.dynamicChildren)=>{if(A===N)return;A&&!Fs(A,N)&&(X=z(A),Qe(A,Q,J,!0),A=null),N.patchFlag===-2&&(de=!1,N.dynamicChildren=null);const{type:ie,ref:Me,shapeFlag:Te}=N;switch(ie){case hp:b(A,N,L,X);break;case On:y(A,N,L,X);break;case Eu:A==null&&E(N,L,X,ge);break;case Ge:H(A,N,L,X,Q,J,ge,ae,de);break;default:Te&1?D(A,N,L,X,Q,J,ge,ae,de):Te&6?te(A,N,L,X,Q,J,ge,ae,de):(Te&64||Te&128)&&ie.process(A,N,L,X,Q,J,ge,ae,de,Se)}Me!=null&&Q&&ff(Me,A&&A.ref,J,N||A,!N)},b=(A,N,L,X)=>{if(A==null)r(N.el=a(N.children),L,X);else{const Q=N.el=A.el;N.children!==A.children&&u(Q,N.children)}},y=(A,N,L,X)=>{A==null?r(N.el=l(N.children||""),L,X):N.el=A.el},E=(A,N,L,X)=>{[A.el,A.anchor]=m(A.children,N,L,X,A.el,A.anchor)},T=({el:A,anchor:N},L,X)=>{let Q;for(;A&&A!==N;)Q=f(A),r(A,L,X),A=Q;r(N,L,X)},C=({el:A,anchor:N})=>{let L;for(;A&&A!==N;)L=f(A),i(A),A=L;i(N)},D=(A,N,L,X,Q,J,ge,ae,de)=>{N.type==="svg"?ge="svg":N.type==="math"&&(ge="mathml"),A==null?_(N,L,X,Q,J,ge,ae,de):B(A,N,Q,J,ge,ae,de)},_=(A,N,L,X,Q,J,ge,ae)=>{let de,ie;const{props:Me,shapeFlag:Te,transition:Ie,dirs:Le}=A;if(de=A.el=o(A.type,J,Me&&Me.is,Me),Te&8?c(de,A.children):Te&16&&G(A.children,de,null,X,Q,kh(A,J),ge,ae),Le&&wo(A,null,X,"created"),M(de,A,A.scopeId,ge,X),Me){for(const Z in Me)Z!=="value"&&!mu(Z)&&s(de,Z,null,Me[Z],J,X);"value"in Me&&s(de,"value",null,Me.value,J),(ie=Me.onVnodeBeforeMount)&&Ar(ie,X,A)}Le&&wo(A,null,X,"beforeMount");const F=DM(Q,Ie);F&&Ie.beforeEnter(de),r(de,N,L),((ie=Me&&Me.onVnodeMounted)||F||Le)&&Xt(()=>{ie&&Ar(ie,X,A),F&&Ie.enter(de),Le&&wo(A,null,X,"mounted")},Q)},M=(A,N,L,X,Q)=>{if(L&&p(A,L),X)for(let J=0;J<X.length;J++)p(A,X[J]);if(Q){let J=Q.subTree;if(N===J||mf(J.type)&&(J.ssContent===N||J.ssFallback===N)){const ge=Q.vnode;M(A,ge,ge.scopeId,ge.slotScopeIds,Q.parent)}}},G=(A,N,L,X,Q,J,ge,ae,de=0)=>{for(let ie=de;ie<A.length;ie++){const Me=A[ie]=ae?Ms(A[ie]):Si(A[ie]);g(null,Me,N,L,X,Q,J,ge,ae)}},B=(A,N,L,X,Q,J,ge)=>{const ae=N.el=A.el;let{patchFlag:de,dynamicChildren:ie,dirs:Me}=N;de|=A.patchFlag&16;const Te=A.props||bt,Ie=N.props||bt;let Le;if(L&&xo(L,!1),(Le=Ie.onVnodeBeforeUpdate)&&Ar(Le,L,N,A),Me&&wo(N,A,L,"beforeUpdate"),L&&xo(L,!0),(Te.innerHTML&&Ie.innerHTML==null||Te.textContent&&Ie.textContent==null)&&c(ae,""),ie?K(A.dynamicChildren,ie,ae,L,X,kh(N,Q),J):ge||ve(A,N,ae,null,L,X,kh(N,Q),J,!1),de>0){if(de&16)V(ae,Te,Ie,L,Q);else if(de&2&&Te.class!==Ie.class&&s(ae,"class",null,Ie.class,Q),de&4&&s(ae,"style",Te.style,Ie.style,Q),de&8){const F=N.dynamicProps;for(let Z=0;Z<F.length;Z++){const be=F[Z],Pe=Te[be],Ve=Ie[be];(Ve!==Pe||be==="value")&&s(ae,be,Pe,Ve,Q,L)}}de&1&&A.children!==N.children&&c(ae,N.children)}else!ge&&ie==null&&V(ae,Te,Ie,L,Q);((Le=Ie.onVnodeUpdated)||Me)&&Xt(()=>{Le&&Ar(Le,L,N,A),Me&&wo(N,A,L,"updated")},X)},K=(A,N,L,X,Q,J,ge)=>{for(let ae=0;ae<N.length;ae++){const de=A[ae],ie=N[ae],Me=de.el&&(de.type===Ge||!Fs(de,ie)||de.shapeFlag&70)?d(de.el):L;g(de,ie,Me,null,X,Q,J,ge,!0)}},V=(A,N,L,X,Q)=>{if(N!==L){if(N!==bt)for(const J in N)!mu(J)&&!(J in L)&&s(A,J,N[J],null,Q,X);for(const J in L){if(mu(J))continue;const ge=L[J],ae=N[J];ge!==ae&&J!=="value"&&s(A,J,ae,ge,Q,X)}"value"in L&&s(A,"value",N.value,L.value,Q)}},H=(A,N,L,X,Q,J,ge,ae,de)=>{const ie=N.el=A?A.el:a(""),Me=N.anchor=A?A.anchor:a("");let{patchFlag:Te,dynamicChildren:Ie,slotScopeIds:Le}=N;Le&&(ae=ae?ae.concat(Le):Le),A==null?(r(ie,L,X),r(Me,L,X),G(N.children||[],L,Me,Q,J,ge,ae,de)):Te>0&&Te&64&&Ie&&A.dynamicChildren?(K(A.dynamicChildren,Ie,L,Q,J,ge,ae),(N.key!=null||Q&&N===Q.subTree)&&db(A,N,!0)):ve(A,N,L,Me,Q,J,ge,ae,de)},te=(A,N,L,X,Q,J,ge,ae,de)=>{N.slotScopeIds=ae,A==null?N.shapeFlag&512?Q.ctx.activate(N,L,X,ge,de):Ee(N,L,X,Q,J,ge,de):me(A,N,de)},Ee=(A,N,L,X,Q,J,ge)=>{const ae=A.component=KM(A,X,Q);if(cp(A)&&(ae.ctx.renderer=Se),XM(ae,!1,ge),ae.asyncDep){if(Q&&Q.registerDep(ae,xe,ge),!A.el){const de=ae.subTree=U(On);y(null,de,N,L)}}else xe(ae,A,N,L,Q,J,ge)},me=(A,N,L)=>{const X=N.component=A.component;if(zM(A,N,L))if(X.asyncDep&&!X.asyncResolved){Ce(X,N,L);return}else X.next=N,X.update();else N.el=A.el,X.vnode=N},xe=(A,N,L,X,Q,J,ge)=>{const ae=()=>{if(A.isMounted){let{next:Te,bu:Ie,u:Le,parent:F,vnode:Z}=A;{const Ft=PC(A);if(Ft){Te&&(Te.el=Z.el,Ce(A,Te,ge)),Ft.asyncDep.then(()=>{A.isUnmounted||ae()});return}}let be=Te,Pe;xo(A,!1),Te?(Te.el=Z.el,Ce(A,Te,ge)):Te=Z,Ie&&Ba(Ie),(Pe=Te.props&&Te.props.onVnodeBeforeUpdate)&&Ar(Pe,F,Te,Z),xo(A,!0);const Ve=Zy(A),kt=A.subTree;A.subTree=Ve,g(kt,Ve,d(kt.el),z(kt),A,Q,J),Te.el=Ve.el,be===null&&VM(A,Ve.el),Le&&Xt(Le,Q),(Pe=Te.props&&Te.props.onVnodeUpdated)&&Xt(()=>Ar(Pe,F,Te,Z),Q)}else{let Te;const{el:Ie,props:Le}=N,{bm:F,m:Z,parent:be,root:Pe,type:Ve}=A,kt=Uo(N);xo(A,!1),F&&Ba(F),!kt&&(Te=Le&&Le.onVnodeBeforeMount)&&Ar(Te,be,N),xo(A,!0);{Pe.ce&&Pe.ce._injectChildStyle(Ve);const Ft=A.subTree=Zy(A);g(null,Ft,L,X,A,Q,J),N.el=Ft.el}if(Z&&Xt(Z,Q),!kt&&(Te=Le&&Le.onVnodeMounted)){const Ft=N;Xt(()=>Ar(Te,be,Ft),Q)}(N.shapeFlag&256||be&&Uo(be.vnode)&&be.vnode.shapeFlag&256)&&A.a&&Xt(A.a,Q),A.isMounted=!0,N=L=X=null}};A.scope.on();const de=A.effect=new Lx(ae);A.scope.off();const ie=A.update=de.run.bind(de),Me=A.job=de.runIfDirty.bind(de);Me.i=A,Me.id=A.uid,de.scheduler=()=>ib(Me),xo(A,!0),ie()},Ce=(A,N,L)=>{N.component=A;const X=A.vnode.props;A.vnode=N,A.next=null,SM(A,N.props,X,L),IM(A,N.children,L),mo(),zy(A),go()},ve=(A,N,L,X,Q,J,ge,ae,de=!1)=>{const ie=A&&A.children,Me=A?A.shapeFlag:0,Te=N.children,{patchFlag:Ie,shapeFlag:Le}=N;if(Ie>0){if(Ie&128){k(ie,Te,L,X,Q,J,ge,ae,de);return}else if(Ie&256){$e(ie,Te,L,X,Q,J,ge,ae,de);return}}Le&8?(Me&16&&Je(ie,Q,J),Te!==ie&&c(L,Te)):Me&16?Le&16?k(ie,Te,L,X,Q,J,ge,ae,de):Je(ie,Q,J,!0):(Me&8&&c(L,""),Le&16&&G(Te,L,X,Q,J,ge,ae,de))},$e=(A,N,L,X,Q,J,ge,ae,de)=>{A=A||Pa,N=N||Pa;const ie=A.length,Me=N.length,Te=Math.min(ie,Me);let Ie;for(Ie=0;Ie<Te;Ie++){const Le=N[Ie]=de?Ms(N[Ie]):Si(N[Ie]);g(A[Ie],Le,L,null,Q,J,ge,ae,de)}ie>Me?Je(A,Q,J,!0,!1,Te):G(N,L,X,Q,J,ge,ae,de,Te)},k=(A,N,L,X,Q,J,ge,ae,de)=>{let ie=0;const Me=N.length;let Te=A.length-1,Ie=Me-1;for(;ie<=Te&&ie<=Ie;){const Le=A[ie],F=N[ie]=de?Ms(N[ie]):Si(N[ie]);if(Fs(Le,F))g(Le,F,L,null,Q,J,ge,ae,de);else break;ie++}for(;ie<=Te&&ie<=Ie;){const Le=A[Te],F=N[Ie]=de?Ms(N[Ie]):Si(N[Ie]);if(Fs(Le,F))g(Le,F,L,null,Q,J,ge,ae,de);else break;Te--,Ie--}if(ie>Te){if(ie<=Ie){const Le=Ie+1,F=Le<Me?N[Le].el:X;for(;ie<=Ie;)g(null,N[ie]=de?Ms(N[ie]):Si(N[ie]),L,F,Q,J,ge,ae,de),ie++}}else if(ie>Ie)for(;ie<=Te;)Qe(A[ie],Q,J,!0),ie++;else{const Le=ie,F=ie,Z=new Map;for(ie=F;ie<=Ie;ie++){const Nt=N[ie]=de?Ms(N[ie]):Si(N[ie]);Nt.key!=null&&Z.set(Nt.key,ie)}let be,Pe=0;const Ve=Ie-F+1;let kt=!1,Ft=0;const tn=new Array(Ve);for(ie=0;ie<Ve;ie++)tn[ie]=0;for(ie=Le;ie<=Te;ie++){const Nt=A[ie];if(Pe>=Ve){Qe(Nt,Q,J,!0);continue}let it;if(Nt.key!=null)it=Z.get(Nt.key);else for(be=F;be<=Ie;be++)if(tn[be-F]===0&&Fs(Nt,N[be])){it=be;break}it===void 0?Qe(Nt,Q,J,!0):(tn[it-F]=ie+1,it>=Ft?Ft=it:kt=!0,g(Nt,N[it],L,null,Q,J,ge,ae,de),Pe++)}const or=kt?MM(tn):Pa;for(be=or.length-1,ie=Ve-1;ie>=0;ie--){const Nt=F+ie,it=N[Nt],wn=Nt+1<Me?N[Nt+1].el:X;tn[ie]===0?g(null,it,L,wn,Q,J,ge,ae,de):kt&&(be<0||ie!==or[be]?tt(it,L,wn,2):be--)}}},tt=(A,N,L,X,Q=null)=>{const{el:J,type:ge,transition:ae,children:de,shapeFlag:ie}=A;if(ie&6){tt(A.component.subTree,N,L,X);return}if(ie&128){A.suspense.move(N,L,X);return}if(ie&64){ge.move(A,N,L,Se);return}if(ge===Ge){r(J,N,L);for(let Te=0;Te<de.length;Te++)tt(de[Te],N,L,X);r(A.anchor,N,L);return}if(ge===Eu){T(A,N,L);return}if(X!==2&&ie&1&&ae)if(X===0)ae.beforeEnter(J),r(J,N,L),Xt(()=>ae.enter(J),Q);else{const{leave:Te,delayLeave:Ie,afterLeave:Le}=ae,F=()=>r(J,N,L),Z=()=>{Te(J,()=>{F(),Le&&Le()})};Ie?Ie(J,F,Z):Z()}else r(J,N,L)},Qe=(A,N,L,X=!1,Q=!1)=>{const{type:J,props:ge,ref:ae,children:de,dynamicChildren:ie,shapeFlag:Me,patchFlag:Te,dirs:Ie,cacheIndex:Le}=A;if(Te===-2&&(Q=!1),ae!=null&&ff(ae,null,L,A,!0),Le!=null&&(N.renderCache[Le]=void 0),Me&256){N.ctx.deactivate(A);return}const F=Me&1&&Ie,Z=!Uo(A);let be;if(Z&&(be=ge&&ge.onVnodeBeforeUnmount)&&Ar(be,N,A),Me&6)qe(A.component,L,X);else{if(Me&128){A.suspense.unmount(L,X);return}F&&wo(A,null,N,"beforeUnmount"),Me&64?A.type.remove(A,N,L,Se,X):ie&&!ie.hasOnce&&(J!==Ge||Te>0&&Te&64)?Je(ie,N,L,!1,!0):(J===Ge&&Te&384||!Q&&Me&16)&&Je(de,N,L),X&&I(A)}(Z&&(be=ge&&ge.onVnodeUnmounted)||F)&&Xt(()=>{be&&Ar(be,N,A),F&&wo(A,null,N,"unmounted")},L)},I=A=>{const{type:N,el:L,anchor:X,transition:Q}=A;if(N===Ge){lt(L,X);return}if(N===Eu){C(A);return}const J=()=>{i(L),Q&&!Q.persisted&&Q.afterLeave&&Q.afterLeave()};if(A.shapeFlag&1&&Q&&!Q.persisted){const{leave:ge,delayLeave:ae}=Q,de=()=>ge(L,J);ae?ae(A.el,J,de):de()}else J()},lt=(A,N)=>{let L;for(;A!==N;)L=f(A),i(A),A=L;i(N)},qe=(A,N,L)=>{const{bum:X,scope:Q,job:J,subTree:ge,um:ae,m:de,a:ie}=A;hf(de),hf(ie),X&&Ba(X),Q.stop(),J&&(J.flags|=8,Qe(ge,A,N,L)),ae&&Xt(ae,N),Xt(()=>{A.isUnmounted=!0},N),N&&N.pendingBranch&&!N.isUnmounted&&A.asyncDep&&!A.asyncResolved&&A.suspenseId===N.pendingId&&(N.deps--,N.deps===0&&N.resolve())},Je=(A,N,L,X=!1,Q=!1,J=0)=>{for(let ge=J;ge<A.length;ge++)Qe(A[ge],N,L,X,Q)},z=A=>{if(A.shapeFlag&6)return z(A.component.subTree);if(A.shapeFlag&128)return A.suspense.next();const N=f(A.anchor||A.el),L=N&&N[aC];return L?f(L):N};let ce=!1;const fe=(A,N,L)=>{A==null?N._vnode&&Qe(N._vnode,null,null,!0):g(N._vnode||null,A,N,null,null,null,L),N._vnode=A,ce||(ce=!0,zy(),iC(),ce=!1)},Se={p:g,um:Qe,m:tt,r:I,mt:Ee,mc:G,pc:ve,pbc:K,n:z,o:e};return{render:fe,hydrate:void 0,createApp:xM(fe)}}function kh({type:e,props:t},n){return n==="svg"&&e==="foreignObject"||n==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:n}function xo({effect:e,job:t},n){n?(e.flags|=32,t.flags|=4):(e.flags&=-33,t.flags&=-5)}function DM(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function db(e,t,n=!1){const r=e.children,i=t.children;if(De(r)&&De(i))for(let s=0;s<r.length;s++){const o=r[s];let a=i[s];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=i[s]=Ms(i[s]),a.el=o.el),!n&&a.patchFlag!==-2&&db(o,a)),a.type===hp&&(a.el=o.el)}}function MM(e){const t=e.slice(),n=[0];let r,i,s,o,a;const l=e.length;for(r=0;r<l;r++){const u=e[r];if(u!==0){if(i=n[n.length-1],e[i]<u){t[r]=i,n.push(r);continue}for(s=0,o=n.length-1;s<o;)a=s+o>>1,e[n[a]]<u?s=a+1:o=a;u<e[n[s]]&&(s>0&&(t[r]=n[s-1]),n[s]=r)}}for(s=n.length,o=n[s-1];s-- >0;)n[s]=o,o=t[o];return n}function PC(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:PC(t)}function hf(e){if(e)for(let t=0;t<e.length;t++)e[t].flags|=8}const PM=Symbol.for("v-scx"),LM=()=>Un(PM);function ig(e,t){return fp(e,null,t)}function sg(e,t){return fp(e,null,{flush:"post"})}function Tn(e,t,n){return fp(e,t,n)}function fp(e,t,n=bt){const{immediate:r,deep:i,flush:s,once:o}=n,a=Zt({},n),l=t&&r||!t&&s!=="post";let u;if(Xu){if(s==="sync"){const p=LM();u=p.__watcherHandles||(p.__watcherHandles=[])}else if(!l){const p=()=>{};return p.stop=ei,p.resume=ei,p.pause=ei,p}}const c=vn;a.call=(p,m,g)=>ri(p,c,m,g);let d=!1;s==="post"?a.scheduler=p=>{Xt(p,c&&c.suspense)}:s!=="sync"&&(d=!0,a.scheduler=(p,m)=>{m?p():ib(p)}),a.augmentJob=p=>{t&&(p.flags|=4),d&&(p.flags|=2,c&&(p.id=c.uid,p.i=c))};const f=ZD(e,t,a);return Xu&&(u?u.push(f):l&&f()),f}function BM(e,t,n){const r=this.proxy,i=It(e)?e.includes(".")?LC(r,e):()=>r[e]:e.bind(r,r);let s;je(t)?s=t:(s=t.handler,n=t);const o=kc(this),a=fp(i,s.bind(r),n);return o(),a}function LC(e,t){const n=t.split(".");return()=>{let r=e;for(let i=0;i<n.length&&r;i++)r=r[n[i]];return r}}const $M=(e,t)=>t==="modelValue"||t==="model-value"?e.modelModifiers:e[`${t}Modifiers`]||e[`${Fr(t)}Modifiers`]||e[`${ho(t)}Modifiers`];function FM(e,t,...n){if(e.isUnmounted)return;const r=e.vnode.props||bt;let i=n;const s=t.startsWith("update:"),o=s&&$M(r,t.slice(7));o&&(o.trim&&(i=n.map(c=>It(c)?c.trim():c)),o.number&&(i=n.map(af)));let a,l=r[a=Eh(t)]||r[a=Eh(Fr(t))];!l&&s&&(l=r[a=Eh(ho(t))]),l&&ri(l,e,6,i);const u=r[a+"Once"];if(u){if(!e.emitted)e.emitted={};else if(e.emitted[a])return;e.emitted[a]=!0,ri(u,e,6,i)}}function BC(e,t,n=!1){const r=t.emitsCache,i=r.get(e);if(i!==void 0)return i;const s=e.emits;let o={},a=!1;if(!je(e)){const l=u=>{const c=BC(u,t,!0);c&&(a=!0,Zt(o,c))};!n&&t.mixins.length&&t.mixins.forEach(l),e.extends&&l(e.extends),e.mixins&&e.mixins.forEach(l)}return!s&&!a?(Et(e)&&r.set(e,null),null):(De(s)?s.forEach(l=>o[l]=null):Zt(o,s),Et(e)&&r.set(e,o),o)}function pp(e,t){return!e||!ip(t)?!1:(t=t.slice(2).replace(/Once$/,""),pt(e,t[0].toLowerCase()+t.slice(1))||pt(e,ho(t))||pt(e,t))}function Zy(e){const{type:t,vnode:n,proxy:r,withProxy:i,propsOptions:[s],slots:o,attrs:a,emit:l,render:u,renderCache:c,props:d,data:f,setupState:p,ctx:m,inheritAttrs:g}=e,b=df(e);let y,E;try{if(n.shapeFlag&4){const C=i||r,D=C;y=Si(u.call(D,C,c,d,p,f,m)),E=a}else{const C=t;y=Si(C.length>1?C(d,{attrs:a,slots:o,emit:l}):C(d,null)),E=t.props?a:UM(a)}}catch(C){vu.length=0,up(C,e,1),y=U(On)}let T=y;if(E&&g!==!1){const C=Object.keys(E),{shapeFlag:D}=T;C.length&&D&7&&(s&&C.some(Y0)&&(E=HM(E,s)),T=ps(T,E,!1,!0))}return n.dirs&&(T=ps(T,null,!1,!0),T.dirs=T.dirs?T.dirs.concat(n.dirs):n.dirs),n.transition&&ro(T,n.transition),y=T,df(b),y}const UM=e=>{let t;for(const n in e)(n==="class"||n==="style"||ip(n))&&((t||(t={}))[n]=e[n]);return t},HM=(e,t)=>{const n={};for(const r in e)(!Y0(r)||!(r.slice(9)in t))&&(n[r]=e[r]);return n};function zM(e,t,n){const{props:r,children:i,component:s}=e,{props:o,children:a,patchFlag:l}=t,u=s.emitsOptions;if(t.dirs||t.transition)return!0;if(n&&l>=0){if(l&1024)return!0;if(l&16)return r?e_(r,o,u):!!o;if(l&8){const c=t.dynamicProps;for(let d=0;d<c.length;d++){const f=c[d];if(o[f]!==r[f]&&!pp(u,f))return!0}}}else return(i||a)&&(!a||!a.$stable)?!0:r===o?!1:r?o?e_(r,o,u):!0:!!o;return!1}function e_(e,t,n){const r=Object.keys(t);if(r.length!==Object.keys(e).length)return!0;for(let i=0;i<r.length;i++){const s=r[i];if(t[s]!==e[s]&&!pp(n,s))return!0}return!1}function VM({vnode:e,parent:t},n){for(;t;){const r=t.subTree;if(r.suspense&&r.suspense.activeBranch===e&&(r.el=e.el),r===e)(e=t.vnode).el=n,t=t.parent;else break}}const mf=e=>e.__isSuspense;function jM(e,t){t&&t.pendingBranch?De(e)?t.effects.push(...e):t.effects.push(e):rC(e)}const Ge=Symbol.for("v-fgt"),hp=Symbol.for("v-txt"),On=Symbol.for("v-cmt"),Eu=Symbol.for("v-stc"),vu=[];let hr=null;function x(e=!1){vu.push(hr=e?null:[])}function qM(){vu.pop(),hr=vu[vu.length-1]||null}let Ku=1;function t_(e,t=!1){Ku+=e,e<0&&hr&&t&&(hr.hasOnce=!0)}function $C(e){return e.dynamicChildren=Ku>0?hr||Pa:null,qM(),Ku>0&&hr&&hr.push(e),e}function P(e,t,n,r,i,s){return $C(S(e,t,n,r,i,s,!0))}function pe(e,t,n,r,i){return $C(U(e,t,n,r,i,!0))}function Qa(e){return e?e.__v_isVNode===!0:!1}function Fs(e,t){return e.type===t.type&&e.key===t.key}const FC=({key:e})=>e??null,$d=({ref:e,ref_key:t,ref_for:n})=>(typeof e=="number"&&(e=""+e),e!=null?It(e)||Yt(e)||je(e)?{i:cn,r:e,k:t,f:!!n}:e:null);function S(e,t=null,n=null,r=0,i=null,s=e===Ge?0:1,o=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&FC(t),ref:t&&$d(t),scopeId:oC,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:s,patchFlag:r,dynamicProps:i,dynamicChildren:null,appContext:null,ctx:cn};return a?(fb(l,n),s&128&&e.normalize(l)):n&&(l.shapeFlag|=It(n)?8:16),Ku>0&&!o&&hr&&(l.patchFlag>0||s&6)&&l.patchFlag!==32&&hr.push(l),l}const U=WM;function WM(e,t=null,n=null,r=0,i=null,s=!1){if((!e||e===_C)&&(e=On),Qa(e)){const a=ps(e,t,!0);return n&&fb(a,n),Ku>0&&!s&&hr&&(a.shapeFlag&6?hr[hr.indexOf(e)]=a:hr.push(a)),a.patchFlag=-2,a}if(ZM(e)&&(e=e.__vccOpts),t){t=UC(t);let{class:a,style:l}=t;a&&!It(a)&&(t.class=nt(a)),Et(l)&&(rb(l)&&!De(l)&&(l=Zt({},l)),t.style=sa(l))}const o=It(e)?1:mf(e)?128:lC(e)?64:Et(e)?4:je(e)?2:0;return S(e,t,n,r,i,o,s,!0)}function UC(e){return e?rb(e)||kC(e)?Zt({},e):e:null}function ps(e,t,n=!1,r=!1){const{props:i,ref:s,patchFlag:o,children:a,transition:l}=e,u=t?Ja(i||{},t):i,c={__v_isVNode:!0,__v_skip:!0,type:e.type,props:u,key:u&&FC(u),ref:t&&t.ref?n&&s?De(s)?s.concat($d(t)):[s,$d(t)]:$d(t):s,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:a,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==Ge?o===-1?16:o|16:o,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:l,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&ps(e.ssContent),ssFallback:e.ssFallback&&ps(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return l&&r&&ro(c,l.clone(c)),c}function Ae(e=" ",t=0){return U(hp,null,e,t)}function eye(e,t){const n=U(Eu,null,e);return n.staticCount=t,n}function Oe(e="",t=!1){return t?(x(),pe(On,null,e)):U(On,null,e)}function Si(e){return e==null||typeof e=="boolean"?U(On):De(e)?U(Ge,null,e.slice()):Qa(e)?Ms(e):U(hp,null,String(e))}function Ms(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:ps(e)}function fb(e,t){let n=0;const{shapeFlag:r}=e;if(t==null)t=null;else if(De(t))n=16;else if(typeof t=="object")if(r&65){const i=t.default;i&&(i._c&&(i._d=!1),fb(e,i()),i._c&&(i._d=!0));return}else{n=32;const i=t._;!i&&!kC(t)?t._ctx=cn:i===3&&cn&&(cn.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else je(t)?(t={default:t,_ctx:cn},n=32):(t=String(t),r&64?(n=16,t=[Ae(t)]):n=8);e.children=t,e.shapeFlag|=n}function Ja(...e){const t={};for(let n=0;n<e.length;n++){const r=e[n];for(const i in r)if(i==="class")t.class!==r.class&&(t.class=nt([t.class,r.class]));else if(i==="style")t.style=sa([t.style,r.style]);else if(ip(i)){const s=t[i],o=r[i];o&&s!==o&&!(De(s)&&s.includes(o))&&(t[i]=s?[].concat(s,o):o)}else i!==""&&(t[i]=r[i])}return t}function Ar(e,t,n,r=null){ri(e,t,7,[n,r])}const YM=CC();let GM=0;function KM(e,t,n){const r=e.type,i=(t?t.appContext:e.appContext)||YM,s={uid:GM++,vnode:e,type:r,parent:t,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new Px(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(i.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:IC(r,i),emitsOptions:BC(r,i),emit:null,emitted:null,propsDefaults:bt,inheritAttrs:r.inheritAttrs,ctx:bt,data:bt,props:bt,attrs:bt,slots:bt,refs:bt,setupState:bt,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return s.ctx={_:s},s.root=t?t.root:s,s.emit=FM.bind(null,s),e.ce&&e.ce(s),s}let vn=null;const xl=()=>vn||cn;let gf,og;{const e=ap(),t=(n,r)=>{let i;return(i=e[n])||(i=e[n]=[]),i.push(r),s=>{i.length>1?i.forEach(o=>o(s)):i[0](s)}};gf=t("__VUE_INSTANCE_SETTERS__",n=>vn=n),og=t("__VUE_SSR_SETTERS__",n=>Xu=n)}const kc=e=>{const t=vn;return gf(e),e.scope.on(),()=>{e.scope.off(),gf(t)}},n_=()=>{vn&&vn.scope.off(),gf(null)};function HC(e){return e.vnode.shapeFlag&4}let Xu=!1;function XM(e,t=!1,n=!1){t&&og(t);const{props:r,children:i}=e.vnode,s=HC(e);CM(e,r,s,t),OM(e,i,n);const o=s?QM(e,t):void 0;return t&&og(!1),o}function QM(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,gM);const{setup:r}=n;if(r){mo();const i=e.setupContext=r.length>1?VC(e):null,s=kc(e),o=Sc(r,e,0,[e.props,i]),a=kx(o);if(go(),s(),(a||e.sp)&&!Uo(e)&&gC(e),a){if(o.then(n_,n_),t)return o.then(l=>{r_(e,l)}).catch(l=>{up(l,e,0)});e.asyncDep=o}else r_(e,o)}else zC(e)}function r_(e,t,n){je(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:Et(t)&&(e.setupState=Zx(t)),zC(e)}function zC(e,t,n){const r=e.type;e.render||(e.render=r.render||ei);{const i=kc(e);mo();try{yM(e)}finally{go(),i()}}}const JM={get(e,t){return Sn(e,"get",""),e[t]}};function VC(e){const t=n=>{e.exposed=n||{}};return{attrs:new Proxy(e.attrs,JM),slots:e.slots,emit:e.emit,expose:t}}function mp(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(Zx(vl(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in _u)return _u[n](e)},has(t,n){return n in t||n in _u}})):e.proxy}function ag(e,t=!0){return je(e)?e.displayName||e.name:e.name||t&&e.__name}function ZM(e){return je(e)&&"__vccOpts"in e}const yt=(e,t)=>QD(e,t,Xu);function Qt(e,t,n){const r=arguments.length;return r===2?Et(t)&&!De(t)?Qa(t)?U(e,null,[t]):U(e,t):U(e,null,t):(r>3?n=Array.prototype.slice.call(arguments,2):r===3&&Qa(n)&&(n=[n]),U(e,t,n))}const eP="3.5.13";/**
* @vue/runtime-dom v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let lg;const i_=typeof window<"u"&&window.trustedTypes;if(i_)try{lg=i_.createPolicy("vue",{createHTML:e=>e})}catch{}const jC=lg?e=>lg.createHTML(e):e=>e,tP="http://www.w3.org/2000/svg",nP="http://www.w3.org/1998/Math/MathML",Ji=typeof document<"u"?document:null,s_=Ji&&Ji.createElement("template"),rP={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,r)=>{const i=t==="svg"?Ji.createElementNS(tP,e):t==="mathml"?Ji.createElementNS(nP,e):n?Ji.createElement(e,{is:n}):Ji.createElement(e);return e==="select"&&r&&r.multiple!=null&&i.setAttribute("multiple",r.multiple),i},createText:e=>Ji.createTextNode(e),createComment:e=>Ji.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>Ji.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,r,i,s){const o=n?n.previousSibling:t.lastChild;if(i&&(i===s||i.nextSibling))for(;t.insertBefore(i.cloneNode(!0),n),!(i===s||!(i=i.nextSibling)););else{s_.innerHTML=jC(r==="svg"?`<svg>${e}</svg>`:r==="mathml"?`<math>${e}</math>`:e);const a=s_.content;if(r==="svg"||r==="mathml"){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}t.insertBefore(a,n)}return[o?o.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}},ws="transition",Fl="animation",Za=Symbol("_vtc"),qC={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},WC=Zt({},fC,qC),iP=e=>(e.displayName="Transition",e.props=WC,e),oa=iP((e,{slots:t})=>Qt(iM,YC(e),t)),Co=(e,t=[])=>{De(e)?e.forEach(n=>n(...t)):e&&e(...t)},o_=e=>e?De(e)?e.some(t=>t.length>1):e.length>1:!1;function YC(e){const t={};for(const H in e)H in qC||(t[H]=e[H]);if(e.css===!1)return t;const{name:n="v",type:r,duration:i,enterFromClass:s=`${n}-enter-from`,enterActiveClass:o=`${n}-enter-active`,enterToClass:a=`${n}-enter-to`,appearFromClass:l=s,appearActiveClass:u=o,appearToClass:c=a,leaveFromClass:d=`${n}-leave-from`,leaveActiveClass:f=`${n}-leave-active`,leaveToClass:p=`${n}-leave-to`}=e,m=sP(i),g=m&&m[0],b=m&&m[1],{onBeforeEnter:y,onEnter:E,onEnterCancelled:T,onLeave:C,onLeaveCancelled:D,onBeforeAppear:_=y,onAppear:M=E,onAppearCancelled:G=T}=t,B=(H,te,Ee,me)=>{H._enterCancelled=me,As(H,te?c:a),As(H,te?u:o),Ee&&Ee()},K=(H,te)=>{H._isLeaving=!1,As(H,d),As(H,p),As(H,f),te&&te()},V=H=>(te,Ee)=>{const me=H?M:E,xe=()=>B(te,H,Ee);Co(me,[te,xe]),a_(()=>{As(te,H?l:s),Ti(te,H?c:a),o_(me)||l_(te,r,g,xe)})};return Zt(t,{onBeforeEnter(H){Co(y,[H]),Ti(H,s),Ti(H,o)},onBeforeAppear(H){Co(_,[H]),Ti(H,l),Ti(H,u)},onEnter:V(!1),onAppear:V(!0),onLeave(H,te){H._isLeaving=!0;const Ee=()=>K(H,te);Ti(H,d),H._enterCancelled?(Ti(H,f),ug()):(ug(),Ti(H,f)),a_(()=>{H._isLeaving&&(As(H,d),Ti(H,p),o_(C)||l_(H,r,b,Ee))}),Co(C,[H,Ee])},onEnterCancelled(H){B(H,!1,void 0,!0),Co(T,[H])},onAppearCancelled(H){B(H,!0,void 0,!0),Co(G,[H])},onLeaveCancelled(H){K(H),Co(D,[H])}})}function sP(e){if(e==null)return null;if(Et(e))return[Oh(e.enter),Oh(e.leave)];{const t=Oh(e);return[t,t]}}function Oh(e){return mD(e)}function Ti(e,t){t.split(/\s+/).forEach(n=>n&&e.classList.add(n)),(e[Za]||(e[Za]=new Set)).add(t)}function As(e,t){t.split(/\s+/).forEach(r=>r&&e.classList.remove(r));const n=e[Za];n&&(n.delete(t),n.size||(e[Za]=void 0))}function a_(e){requestAnimationFrame(()=>{requestAnimationFrame(e)})}let oP=0;function l_(e,t,n,r){const i=e._endId=++oP,s=()=>{i===e._endId&&r()};if(n!=null)return setTimeout(s,n);const{type:o,timeout:a,propCount:l}=GC(e,t);if(!o)return r();const u=o+"end";let c=0;const d=()=>{e.removeEventListener(u,f),s()},f=p=>{p.target===e&&++c>=l&&d()};setTimeout(()=>{c<l&&d()},a+1),e.addEventListener(u,f)}function GC(e,t){const n=window.getComputedStyle(e),r=m=>(n[m]||"").split(", "),i=r(`${ws}Delay`),s=r(`${ws}Duration`),o=u_(i,s),a=r(`${Fl}Delay`),l=r(`${Fl}Duration`),u=u_(a,l);let c=null,d=0,f=0;t===ws?o>0&&(c=ws,d=o,f=s.length):t===Fl?u>0&&(c=Fl,d=u,f=l.length):(d=Math.max(o,u),c=d>0?o>u?ws:Fl:null,f=c?c===ws?s.length:l.length:0);const p=c===ws&&/\b(transform|all)(,|$)/.test(r(`${ws}Property`).toString());return{type:c,timeout:d,propCount:f,hasTransform:p}}function u_(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max(...t.map((n,r)=>c_(n)+c_(e[r])))}function c_(e){return e==="auto"?0:Number(e.slice(0,-1).replace(",","."))*1e3}function ug(){return document.body.offsetHeight}function aP(e,t,n){const r=e[Za];r&&(t=(t?[t,...r]:[...r]).join(" ")),t==null?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}const bf=Symbol("_vod"),KC=Symbol("_vsh"),yr={beforeMount(e,{value:t},{transition:n}){e[bf]=e.style.display==="none"?"":e.style.display,n&&t?n.beforeEnter(e):Ul(e,t)},mounted(e,{value:t},{transition:n}){n&&t&&n.enter(e)},updated(e,{value:t,oldValue:n},{transition:r}){!t!=!n&&(r?t?(r.beforeEnter(e),Ul(e,!0),r.enter(e)):r.leave(e,()=>{Ul(e,!1)}):Ul(e,t))},beforeUnmount(e,{value:t}){Ul(e,t)}};function Ul(e,t){e.style.display=t?e[bf]:"none",e[KC]=!t}const XC=Symbol("");function lP(e){const t=xl();if(!t)return;const n=t.ut=(i=e(t.proxy))=>{Array.from(document.querySelectorAll(`[data-v-owner="${t.uid}"]`)).forEach(s=>yf(s,i))},r=()=>{const i=e(t.proxy);t.ce?yf(t.ce,i):cg(t.subTree,i),n(i)};ob(()=>{rC(r)}),vr(()=>{Tn(r,ei,{flush:"post"});const i=new MutationObserver(r);i.observe(t.subTree.el.parentNode,{childList:!0}),wl(()=>i.disconnect())})}function cg(e,t){if(e.shapeFlag&128){const n=e.suspense;e=n.activeBranch,n.pendingBranch&&!n.isHydrating&&n.effects.push(()=>{cg(n.activeBranch,t)})}for(;e.component;)e=e.component.subTree;if(e.shapeFlag&1&&e.el)yf(e.el,t);else if(e.type===Ge)e.children.forEach(n=>cg(n,t));else if(e.type===Eu){let{el:n,anchor:r}=e;for(;n&&(yf(n,t),n!==r);)n=n.nextSibling}}function yf(e,t){if(e.nodeType===1){const n=e.style;let r="";for(const i in t)n.setProperty(`--${i}`,t[i]),r+=`--${i}: ${t[i]};`;n[XC]=r}}const uP=/(^|;)\s*display\s*:/;function cP(e,t,n){const r=e.style,i=It(n);let s=!1;if(n&&!i){if(t)if(It(t))for(const o of t.split(";")){const a=o.slice(0,o.indexOf(":")).trim();n[a]==null&&Fd(r,a,"")}else for(const o in t)n[o]==null&&Fd(r,o,"");for(const o in n)o==="display"&&(s=!0),Fd(r,o,n[o])}else if(i){if(t!==n){const o=r[XC];o&&(n+=";"+o),r.cssText=n,s=uP.test(n)}}else t&&e.removeAttribute("style");bf in e&&(e[bf]=s?r.display:"",e[KC]&&(r.display="none"))}const d_=/\s*!important$/;function Fd(e,t,n){if(De(n))n.forEach(r=>Fd(e,t,r));else if(n==null&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const r=dP(e,t);d_.test(n)?e.setProperty(ho(r),n.replace(d_,""),"important"):e[r]=n}}const f_=["Webkit","Moz","ms"],Ih={};function dP(e,t){const n=Ih[t];if(n)return n;let r=Fr(t);if(r!=="filter"&&r in e)return Ih[t]=r;r=op(r);for(let i=0;i<f_.length;i++){const s=f_[i]+r;if(s in e)return Ih[t]=s}return t}const p_="http://www.w3.org/1999/xlink";function h_(e,t,n,r,i,s=TD(t)){r&&t.startsWith("xlink:")?n==null?e.removeAttributeNS(p_,t.slice(6,t.length)):e.setAttributeNS(p_,t,n):n==null||s&&!Rx(n)?e.removeAttribute(t):e.setAttribute(t,s?"":ni(n)?String(n):n)}function m_(e,t,n,r,i){if(t==="innerHTML"||t==="textContent"){n!=null&&(e[t]=t==="innerHTML"?jC(n):n);return}const s=e.tagName;if(t==="value"&&s!=="PROGRESS"&&!s.includes("-")){const a=s==="OPTION"?e.getAttribute("value")||"":e.value,l=n==null?e.type==="checkbox"?"on":"":String(n);(a!==l||!("_value"in e))&&(e.value=l),n==null&&e.removeAttribute(t),e._value=n;return}let o=!1;if(n===""||n==null){const a=typeof e[t];a==="boolean"?n=Rx(n):n==null&&a==="string"?(n="",o=!0):a==="number"&&(n=0,o=!0)}try{e[t]=n}catch{}o&&e.removeAttribute(i||t)}function rs(e,t,n,r){e.addEventListener(t,n,r)}function fP(e,t,n,r){e.removeEventListener(t,n,r)}const g_=Symbol("_vei");function pP(e,t,n,r,i=null){const s=e[g_]||(e[g_]={}),o=s[t];if(r&&o)o.value=r;else{const[a,l]=hP(t);if(r){const u=s[t]=bP(r,i);rs(e,a,u,l)}else o&&(fP(e,a,o,l),s[t]=void 0)}}const b_=/(?:Once|Passive|Capture)$/;function hP(e){let t;if(b_.test(e)){t={};let r;for(;r=e.match(b_);)e=e.slice(0,e.length-r[0].length),t[r[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):ho(e.slice(2)),t]}let Nh=0;const mP=Promise.resolve(),gP=()=>Nh||(mP.then(()=>Nh=0),Nh=Date.now());function bP(e,t){const n=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=n.attached)return;ri(yP(r,n.value),t,5,[r])};return n.value=e,n.attached=gP(),n}function yP(e,t){if(De(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(r=>i=>!i._stopped&&r&&r(i))}else return t}const y_=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,_P=(e,t,n,r,i,s)=>{const o=i==="svg";t==="class"?aP(e,r,o):t==="style"?cP(e,n,r):ip(t)?Y0(t)||pP(e,t,n,r,s):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):EP(e,t,r,o))?(m_(e,t,r),!e.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&h_(e,t,r,o,s,t!=="value")):e._isVueCE&&(/[A-Z]/.test(t)||!It(r))?m_(e,Fr(t),r,s,t):(t==="true-value"?e._trueValue=r:t==="false-value"&&(e._falseValue=r),h_(e,t,r,o))};function EP(e,t,n,r){if(r)return!!(t==="innerHTML"||t==="textContent"||t in e&&y_(t)&&je(n));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const i=e.tagName;if(i==="IMG"||i==="VIDEO"||i==="CANVAS"||i==="SOURCE")return!1}return y_(t)&&It(n)?!1:t in e}const QC=new WeakMap,JC=new WeakMap,_f=Symbol("_moveCb"),__=Symbol("_enterCb"),vP=e=>(delete e.props.mode,e),TP=vP({name:"TransitionGroup",props:Zt({},WC,{tag:String,moveClass:String}),setup(e,{slots:t}){const n=xl(),r=dC();let i,s;return ab(()=>{if(!i.length)return;const o=e.moveClass||`${e.name||"v"}-move`;if(!SP(i[0].el,n.vnode.el,o))return;i.forEach(wP),i.forEach(xP);const a=i.filter(CP);ug(),a.forEach(l=>{const u=l.el,c=u.style;Ti(u,o),c.transform=c.webkitTransform=c.transitionDuration="";const d=u[_f]=f=>{f&&f.target!==u||(!f||/transform$/.test(f.propertyName))&&(u.removeEventListener("transitionend",d),u[_f]=null,As(u,o))};u.addEventListener("transitionend",d)})}),()=>{const o=st(e),a=YC(o);let l=o.tag||Ge;if(i=[],s)for(let u=0;u<s.length;u++){const c=s[u];c.el&&c.el instanceof Element&&(i.push(c),ro(c,Gu(c,a,r,n)),QC.set(c,c.el.getBoundingClientRect()))}s=t.default?sb(t.default()):[];for(let u=0;u<s.length;u++){const c=s[u];c.key!=null&&ro(c,Gu(c,a,r,n))}return U(l,null,s)}}}),ZC=TP;function wP(e){const t=e.el;t[_f]&&t[_f](),t[__]&&t[__]()}function xP(e){JC.set(e,e.el.getBoundingClientRect())}function CP(e){const t=QC.get(e),n=JC.get(e),r=t.left-n.left,i=t.top-n.top;if(r||i){const s=e.el.style;return s.transform=s.webkitTransform=`translate(${r}px,${i}px)`,s.transitionDuration="0s",e}}function SP(e,t,n){const r=e.cloneNode(),i=e[Za];i&&i.forEach(a=>{a.split(/\s+/).forEach(l=>l&&r.classList.remove(l))}),n.split(/\s+/).forEach(a=>a&&r.classList.add(a)),r.style.display="none";const s=t.nodeType===1?t:t.parentNode;s.appendChild(r);const{hasTransform:o}=GC(r);return s.removeChild(r),o}const io=e=>{const t=e.props["onUpdate:modelValue"]||!1;return De(t)?n=>Ba(t,n):t};function AP(e){e.target.composing=!0}function E_(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const Mr=Symbol("_assign"),Us={created(e,{modifiers:{lazy:t,trim:n,number:r}},i){e[Mr]=io(i);const s=r||i.props&&i.props.type==="number";rs(e,t?"change":"input",o=>{if(o.target.composing)return;let a=e.value;n&&(a=a.trim()),s&&(a=af(a)),e[Mr](a)}),n&&rs(e,"change",()=>{e.value=e.value.trim()}),t||(rs(e,"compositionstart",AP),rs(e,"compositionend",E_),rs(e,"change",E_))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,oldValue:n,modifiers:{lazy:r,trim:i,number:s}},o){if(e[Mr]=io(o),e.composing)return;const a=(s||e.type==="number")&&!/^0\d/.test(e.value)?af(e.value):e.value,l=t??"";a!==l&&(document.activeElement===e&&e.type!=="range"&&(r&&t===n||i&&e.value.trim()===l)||(e.value=l))}},kP={deep:!0,created(e,t,n){e[Mr]=io(n),rs(e,"change",()=>{const r=e._modelValue,i=el(e),s=e.checked,o=e[Mr];if(De(r)){const a=X0(r,i),l=a!==-1;if(s&&!l)o(r.concat(i));else if(!s&&l){const u=[...r];u.splice(a,1),o(u)}}else if(yl(r)){const a=new Set(r);s?a.add(i):a.delete(i),o(a)}else o(eS(e,s))})},mounted:v_,beforeUpdate(e,t,n){e[Mr]=io(n),v_(e,t,n)}};function v_(e,{value:t,oldValue:n},r){e._modelValue=t;let i;if(De(t))i=X0(t,r.props.value)>-1;else if(yl(t))i=t.has(r.props.value);else{if(t===n)return;i=Go(t,eS(e,!0))}e.checked!==i&&(e.checked=i)}const OP={created(e,{value:t},n){e.checked=Go(t,n.props.value),e[Mr]=io(n),rs(e,"change",()=>{e[Mr](el(e))})},beforeUpdate(e,{value:t,oldValue:n},r){e[Mr]=io(r),t!==n&&(e.checked=Go(t,r.props.value))}},Ef={deep:!0,created(e,{value:t,modifiers:{number:n}},r){const i=yl(t);rs(e,"change",()=>{const s=Array.prototype.filter.call(e.options,o=>o.selected).map(o=>n?af(el(o)):el(o));e[Mr](e.multiple?i?new Set(s):s:s[0]),e._assigning=!0,Ac(()=>{e._assigning=!1})}),e[Mr]=io(r)},mounted(e,{value:t}){T_(e,t)},beforeUpdate(e,t,n){e[Mr]=io(n)},updated(e,{value:t}){e._assigning||T_(e,t)}};function T_(e,t){const n=e.multiple,r=De(t);if(!(n&&!r&&!yl(t))){for(let i=0,s=e.options.length;i<s;i++){const o=e.options[i],a=el(o);if(n)if(r){const l=typeof a;l==="string"||l==="number"?o.selected=t.some(u=>String(u)===String(a)):o.selected=X0(t,a)>-1}else o.selected=t.has(a);else if(Go(el(o),t)){e.selectedIndex!==i&&(e.selectedIndex=i);return}}!n&&e.selectedIndex!==-1&&(e.selectedIndex=-1)}}function el(e){return"_value"in e?e._value:e.value}function eS(e,t){const n=t?"_trueValue":"_falseValue";return n in e?e[n]:t}const IP=["ctrl","shift","alt","meta"],NP={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>IP.some(n=>e[`${n}Key`]&&!t.includes(n))},Qu=(e,t)=>{const n=e._withMods||(e._withMods={}),r=t.join(".");return n[r]||(n[r]=(i,...s)=>{for(let o=0;o<t.length;o++){const a=NP[t[o]];if(a&&a(i,t))return}return e(i,...s)})},RP={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},pb=(e,t)=>{const n=e._withKeys||(e._withKeys={}),r=t.join(".");return n[r]||(n[r]=i=>{if(!("key"in i))return;const s=ho(i.key);if(t.some(o=>o===s||RP[o]===s))return e(i)})},DP=Zt({patchProp:_P},rP);let w_;function MP(){return w_||(w_=NM(DP))}const PP=(...e)=>{const t=MP().createApp(...e),{mount:n}=t;return t.mount=r=>{const i=BP(r);if(!i)return;const s=t._component;!je(s)&&!s.render&&!s.template&&(s.template=i.innerHTML),i.nodeType===1&&(i.textContent="");const o=n(i,!1,LP(i));return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),o},t};function LP(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function BP(e){return It(e)?document.querySelector(e):e}const ne=(e,t)=>{const n=e.__vccOpts||e;for(const[r,i]of t)n[r]=i;return n},$P={name:"ComponentName",props:{color:{type:String,required:!1,default:"gray"},size:{type:String,default:"xs"}},computed:{textSize(){return`text-${this.size}`},padding(){const e="px-2",t="py-1";return this.size==="xxs"?`${e} py-0.5`:`${e} ${t}`}}};function FP(e,t,n,r,i,s){return x(),P("span",{class:nt(["rounded-xl text-white font-bold",`${n.color} ${s.textSize} ${s.padding}`])},[ke(e.$slots,"default",{},void 0,!0)],2)}const UP=ne($P,[["render",FP],["__scopeId","data-v-15fef4a5"]]),HP=Object.freeze(Object.defineProperty({__proto__:null,default:UP},Symbol.toStringTag,{value:"Module"})),zP={name:"Breadcrumbs",props:{items:{type:Array,required:!0}}},VP={key:0,class:"note"};function jP(e,t,n,r,i,s){const o=Y("router-link");return x(),P("ul",null,[(x(!0),P(Ge,null,$t(n.items,(a,l)=>(x(),P("li",{key:l,class:"inline"},[U(o,{to:a.route,class:"note"},{default:W(()=>[Ae(ye(a.label),1)]),_:2},1032,["to"]),l!==n.items.length-1?(x(),P("span",VP," > ")):Oe("",!0)]))),128))])}const tS=ne(zP,[["render",jP]]),qP=Object.freeze(Object.defineProperty({__proto__:null,default:tS},Symbol.toStringTag,{value:"Module"})),WP={props:{title:{type:String,required:!1}},data(){return{}},computed:{},methods:{}},YP={key:0,class:"bg-gray-200 px-4 py-2 sm:flex justify-between border border-gray-300 rounded-t"},GP={class:"bg-white border border-t-0 border-gray-300 rounded-b px-4 py-3 overflow-x-auto"};function KP(e,t,n,r,i,s){return x(),P("div",null,[ke(e.$slots,"header",{},()=>[n.title||e.$slots.title?(x(),P("div",YP,[ke(e.$slots,"title",{},()=>[S("h2",null,ye(n.title),1)]),ke(e.$slots,"header-right")])):Oe("",!0)]),S("div",GP,[ke(e.$slots,"default")])])}const XP=ne(WP,[["render",KP]]),QP=Object.freeze(Object.defineProperty({__proto__:null,default:XP},Symbol.toStringTag,{value:"Module"})),JP={name:"Collapsible",props:{modelValue:{type:Boolean,required:!1,default:null},title:{type:String,required:!1,default:null},showCheveron:{type:Boolean,default:!0}},emits:["expanded","collapsed","update:modelUpdate"],data(){return{opened:!1}},computed:{valueSet(){return this.modelValue!==null},expanded:{get(){return this.valueSet?this.modelValue:this.opened},set(e){this.opened=e,this.$emit("update:modelUpdate",e),this.opened?this.$emit("expanded"):this.$emit("collapsed")}}},methods:{}},ZP={class:"collapsible-container"},e3={class:"flex items-start"},t3={key:0};function n3(e,t,n,r,i,s){const o=Y("icon-cheveron-right"),a=Y("icon-cheveron-down");return x(),P("div",ZP,[S("div",{class:"collapsible-header",onClick:t[0]||(t[0]=l=>s.expanded=!s.expanded)},[S("div",e3,[n.showCheveron?(x(),P("div",t3,[s.expanded?Oe("",!0):(x(),pe(o,{key:0,class:"-ml-1 mt-1"})),s.expanded?(x(),pe(a,{key:1,class:"-ml-1 mt-1"})):Oe("",!0)])):Oe("",!0),ke(e.$slots,"title",{},()=>[S("strong",null,ye(n.title),1)])])]),U(oa,{name:"slide-fade-down"},{default:W(()=>[Ct(S("div",null,[ke(e.$slots,"default")],512),[[yr,s.expanded]])]),_:3})])}const r3=ne(JP,[["render",n3]]),i3=Object.freeze(Object.defineProperty({__proto__:null,default:r3},Symbol.toStringTag,{value:"Module"})),hb=function(e){return e===null||typeof e>"u"?null:new Date(e).toLocaleDateString()},s3=function(e){const t=new Date(e);return`${t.toLocaleDateString()} ${t.toLocaleTimeString([],{timeStyle:"medium"})}`},o3=function(e){return`${new Date(e).toLocaleTimeString([],{timeStyle:"medium"})}`},a3=()=>{const e=new Date;return e.setFullYear(e.getFullYear()-1)},l3=(e,t)=>{const n=new Date(e);return n.setDate(n.getDate()+t),n},Oc=e=>e&&e.replace(/[A-Z]/g,n=>` ${n.toLowerCase()}`).split(/[\s_-]/).filter(n=>n!==" "&&n!=="").map(n=>n.trim()).join(" ").trim(),mb=e=>e&&Oc(e).split(" ").map(n=>n.charAt(0).toUpperCase()+n.slice(1)).join(" "),nS=e=>e&&Oc(e).split(" ").join("-"),u3=e=>e&&Oc(e).split(" ").join("_"),c3=e=>e&&Oc(e).split(" ").map(n=>n.charAt(0).toUpperCase()+n.slice(1)).join(""),rS=e=>{const t=c3(e);return t.charAt(0).toLowerCase()+t.slice(1)},iS=e=>{if(e===null)return e;const t=Oc(e).split(" ");return t.join(" ").charAt(0).toUpperCase()+t.join(" ").slice(1)},d3={name:"DataTable",props:{data:{required:!1},fields:{required:!0,type:Array},paginated:{type:Boolean,default:!1},filterTerm:{required:!1,type:String},filter:{required:!1,type:Function},rowClickHandler:{required:!1,type:Function},rowClass:{required:!1,type:[String,Function,null],default:null},sort:{required:!1,type:Object,default:()=>({field:"id",desc:!1})},detailRows:{type:Boolean,required:!1,default:!1},pageSize:{type:[Number,null],default:20},resetPageOnDataChange:{type:Boolean,default:!0}},emits:["rowClick","update:sort","sort","sorted"],data(){return{realSort:{field:{},desc:!1},resolvedItems:[],currentPage:1,totalItems:0}},computed:{shouldPaginate(){return this.paginated},dataIsFunction(){return typeof this.data=="function"},filterFunction(){return this.filter?this.filter:this.defaultFilter},sortField(){return this.realSort.field},sortFieldName(){return this.realSort.field.sortName?this.realSort.field.sortName:this.realSort.field.Name}},watch:{sort:{immediate:!0,handler(){if(!this.sort){this.realSort={field:this.fields[0],desc:!1},this.getItems();return}this.realSort={field:this.fields.find(e=>e.name===this.sort.field),desc:this.sort.desc},this.resetCurrentPage(),this.getItems()}},filterTerm(){this.getItems()},data:{immediate:!0,deep:!0,handler(){this.resetPageOnDataChange&&this.resetCurrentPage(),this.getItems()}},currentPage:{immedate:!0,handler(){this.getItems()}}},methods:{async getItems(){if(this.dataIsFunction){this.resolvedItems=await this.data(this.currentPage,this.pageSize,this.realSort,this.setTotalItems);return}const e=this.sortData(this.filterData([...this.data]));this.resolvedItems=this.paginated?this.paginate(e):e,this.setTotalItems(e.length)},setTotalItems(e){this.totalItems=e},setCurrentPage(e){this.currentPage=e},paginate(e){if(this.dataIsFunction){this.getItems();return}const t=(this.currentPage-1)*this.pageSize,n=t+this.pageSize-1;return e.slice(t,n)},sortData(e){const t=this.realSort.field.type;if(this.dataIsFunction){this.getItems();return}if(this.realSort.field.sortFunction){const n=e.sort(this.realSort.field.sortFunction);return this.realSort.desc?n.reverse():n}return t===Date?e.sort(this.dateSort):e.sort(this.textAndNumberSort)},filterData(e){if(this.dataIsFunction){this.getItems();return}return this.filterTerm?e.filter(t=>t!==null).filter(t=>this.filterFunction(t,this.filterTerm.trim())):e},findFieldByName(e){return this.fields.find(t=>t.name===e)},getAttributeValue(e,t){if(t&&typeof t<"u"&&t.includes(".")){const n=t.split(".");let r=e;for(const i in n)if(r=r[n[i]],!r)return null;return r}return e[t]},resolveDisplayAttribute(e,t){if(t.resolveValue)return t.resolveValue(e);const n=this.getAttributeValue(e,t.name);return t.type===Date?n?hb(n):null:n},resolveSortAttribute(e,t){return t.resolveSort?t.resolveSort(e):t.sortName?this.getAttributeValue(e,t.sortName):this.resolveDisplayAttribute(e,t)},updateSort(e){const t=this.realSort.field,n={field:e.name,desc:!this.realSort.desc};t.name!==e.name&&(n.desc=!1),this.$emit("update:sort",n),this.$emit("sorted",n),this.$nextTick(()=>{this.getItems()})},textAndNumberSort(e,t){const n=this.realSort.desc?-1:1;let r=this.resolveSortAttribute(e,this.sortField),i=this.resolveSortAttribute(t,this.sortField);return r&&!i?-1*n:i&&!r?1*n:((this.realSort.field.type===String||typeof r=="string"&&typeof i=="string")&&(r=r&&r.toLowerCase(),i=i&&i.toLowerCase()),r===i?e.id>t.id?1*n:-1*n:n*(r>i?1:-1))},dateSort(e,t){const n=this.realSort.desc?-1:1;let r=Date.parse(this.resolveSortAttribute(e,this.sortField));Number.isNaN(Number.parseFloat(r))&&(r=0);let i=Date.parse(this.resolveSortAttribute(t,this.sortField));return Number.isNaN(Number.parseFloat(i))&&(i=0),r===i?0:n*(r>i?1:-1)},defaultFilter(e,t){const n=t.toLowerCase();for(const r in this.fields){let i=this.resolveDisplayAttribute(e,this.fields[r]);if(!(i===null||typeof i>"u")&&(i=i.toString().toLowerCase(),i&&i.includes(n)))return!0}return!1},handleRowClick(e){this.$emit("rowClick",e),this.rowClickHandler&&this.rowClickHandler(e)},getFieldLabel(e){return typeof e.label>"u"||e.label===null?mb(e.name):e.label},getHeaderClass(e){const t=e.class?[...e.class]:[];return e.sortable&&t.push("cursor-pointer underline hover:bg-gray-300"),e.colspan===1&&this.realSort.field===e&&t.push(e),e.headerClass&&t.push(...e.headerClass),t.join(" ")},getCellClass(e){return e.class},getSlotName(e){return`cell-${e.name.replace(" ","_").replace(".","_")}`},resolveRowClass(e){return typeof this.rowClass=="function"?this.rowClass(e):this.rowClass},resetCurrentPage(){this.currentPage=1},updateCurrentPage(e){this.currentPage=e}}},f3={class:"flex justify-between mb-2 items-center"},p3={class:"shadow-inner bg-gray-50"},h3={class:"border-none"},m3={class:"bg-gray-200"},g3=["title","colspan","onClick"],b3={class:"py-1 flex justify-between place-items-center"},y3={key:0},_3=["onClick"],E3=["colspan"];function v3(e,t,n,r,i,s){const o=Y("pagination-links"),a=Y("icon-cheveron-up"),l=Y("icon-cheveron-down"),u=Y("object-dictionary");return x(),P("div",null,[S("header",f3,[ke(e.$slots,"header",{},void 0,!0),s.shouldPaginate?(x(),pe(o,{key:0,"current-page":i.currentPage,"total-items":i.totalItems,"page-size":n.pageSize,"onUpdate:currentPage":s.updateCurrentPage},null,8,["current-page","total-items","page-size","onUpdate:currentPage"])):Oe("",!0)]),S("div",p3,[S("table",h3,[S("thead",null,[ke(e.$slots,"thead",{},()=>[S("tr",m3,[(x(!0),P(Ge,null,$t(n.fields.filter(c=>!c.hideHeader),c=>(x(),P("th",{key:c.name,title:c.sortable?"Click to sort":"",class:nt(s.getHeaderClass(c)),colspan:c.colspan?c.colspan:1,onClick:d=>c.sortable&&s.updateSort(c)},[S("div",b3,[S("div",null,[ke(e.$slots,`header-${c.name}`,{item:{field:c}},()=>[Ae(ye(s.getFieldLabel(c)),1)],!0)]),S("div",null,[c.sortable?(x(),P("div",y3,[i.realSort.field.name!=c.name?(x(),pe(a,{key:0,"icon-color":"#ccc"})):Oe("",!0),i.realSort.field.name==c.name&&!i.realSort.desc?(x(),pe(a,{key:1,"icon-color":"#333"})):Oe("",!0),i.realSort.field.name==c.name&&i.realSort.desc?(x(),pe(l,{key:2,"icon-color":"#333"})):Oe("",!0)])):Oe("",!0)])])],10,g3))),128))])],!0)]),(x(!0),P(Ge,null,$t(i.resolvedItems,c=>(x(),P("tbody",{key:c.uuid},[S("tr",{class:nt(s.resolveRowClass(c)),onClick:d=>s.handleRowClick(c)},[(x(!0),P(Ge,null,$t(n.fields,d=>(x(),P("td",{key:d.name,class:nt(s.getCellClass(d))},[ke(e.$slots,s.getSlotName(d),{item:c,field:d,value:s.resolveDisplayAttribute(c,d)},()=>[Ae(ye(s.resolveDisplayAttribute(c,d)),1)],!0)],2))),128))],10,_3),U(oa,{name:"fade-slide-down"},{default:W(()=>[n.detailRows&&c.showDetails?(x(),P("tr",{key:0,class:nt(["details",s.resolveRowClass(c)])},[S("td",{colspan:n.fields.length},[ke(e.$slots,"detail",{item:c},()=>[U(u,{obj:c},null,8,["obj"])],!0)],8,E3)],2)):Oe("",!0)]),_:2},1024)]))),128))])])])}const T3=ne(d3,[["render",v3],["__scopeId","data-v-bab98e77"]]),w3=Object.freeze(Object.defineProperty({__proto__:null,default:T3},Symbol.toStringTag,{value:"Module"})),x3={name:"DictionaryRow",props:{label:{type:String,required:!1},vertical:{type:Boolean,required:!1,default:!1},labelWidthClass:{type:String,default:"w-36"},labelClass:{type:String,required:!1}},data(){return{}},computed:{colon(){return this.label&&[":",";",".","?","!"].includes(this.label.substr(-1))?"":":"},fullLabelClass(){const e=[];return this.vertical&&e.push("mb-1"),this.labelClass&&e.push(this.labelClass.split(" ")),this.vertical||e.push(this.labelWidthClass||"w-36"),e}},methods:{}};function C3(e,t,n,r,i,s){return x(),P("div",{class:nt(["dictionary-row",{flex:!n.vertical}])},[S("div",{class:nt([s.fullLabelClass,"flex-shrink-0"])},[n.label?ke(e.$slots,"label",{key:0},()=>[S("label",{class:nt(s.fullLabelClass)},ye(n.label)+ye(s.colon),3)],!0):Oe("",!0)],2),S("div",null,[ke(e.$slots,"default",{},void 0,!0)]),t[0]||(t[0]=S("div",{class:"hidden w-36"},"   ",-1))],2)}const sS=ne(x3,[["render",C3],["__scopeId","data-v-0d4f92d3"]]),S3=Object.freeze(Object.defineProperty({__proto__:null,default:sS},Symbol.toStringTag,{value:"Module"})),A3=["href","title"],k3={__name:"DownloadLink",props:{url:{type:String,required:!0},title:{type:String,default:"download"}},setup(e){return(t,n)=>{const r=Y("icon-download");return x(),P("a",{href:e.url,title:e.title},[U(r,{class:"inline"}),n[0]||(n[0]=Ae("  ")),ke(t.$slots,"default")],8,A3)}}},O3=Object.freeze(Object.defineProperty({__proto__:null,default:k3},Symbol.toStringTag,{value:"Module"})),I3={name:"DropdownItem",data(){return{active:!1}},computed:{parentIsValid(){return this.$parent.$options.name==="DropdownMenu"}},mounted(){}},N3={class:"menu-item hover:bg-blue-100 cursor-pointer"};function R3(e,t,n,r,i,s){return x(),P("li",N3,[ke(e.$slots,"default")])}const D3=ne(I3,[["render",R3]]),M3=Object.freeze(Object.defineProperty({__proto__:null,default:D3},Symbol.toStringTag,{value:"Module"})),P3={name:"DropdownMenu",components:{Teleport:Er,Transition:oa},props:{label:{type:String,required:!1,default:"..."},orientation:{type:String,required:!1,default:"right"},hideCheveron:{type:Boolean,required:!1,default:!1}},data(){return{menuOpen:!1,menuItems:[],menuX:0,menuY:0}},computed:{},watch:{menuOpen(){this.positionMenu()}},mounted(){this.positionMenu(),Array.from(this.$refs.dropdownMenu.getElementsByClassName("menu-item")).forEach(e=>{e.addEventListener("click",t=>{this.toggleMenu(t)})})},methods:{addItem(e){this.menuItems.push(e)},handleOutsideClick(){this.menuOpen=!1},toggleMenu(e){e.stopPropagation(),this.menuOpen=!this.menuOpen,this.menuOpen&&this.$refs.dropdownMenu.focus()},renderItems(){return this.menuItems.map(e=>e.render())},positionMenu(){const e=window.pageXOffset||this.$refs.menuButton.scrollLeft,t=window.pageYOffset||this.$refs.menuButton.scrollTop,n=this.$refs.menuButton.offsetWidth,r=this.$refs.menuButton.offsetHeight,i=this.$el.getBoundingClientRect();this.menuX=i.left+e-Number.parseFloat(getComputedStyle(document.documentElement).fontSize)*12+n,this.menuY=i.top+t+r-14}}};function L3(e,t,n,r,i,s){const o=Y("icon-cheveron-down"),a=EC("click-outside");return x(),P("div",null,[S("div",{class:nt(["dropdown",n.orientation])},[S("div",{ref:"menuButton",class:"dropdown-label",onClick:t[0]||(t[0]=Qu((...l)=>s.toggleMenu&&s.toggleMenu(...l),["stop"]))},[Ct(S("span",null,[U(o)],512),[[yr,!n.hideCheveron]]),ke(e.$slots,"label",{},()=>[Ae(ye(n.label),1)])],512),(x(),pe(Er,{to:"body"},[U(oa,{name:"slide-fade-down"},{default:W(()=>[Ct((x(),P("div",{ref:"dropdownMenu",class:"dropdown-items-container z-50",style:sa({top:`${i.menuY}px`,left:`${i.menuX}px`})},[S("ul",{class:"dropdown-items",onClick:t[1]||(t[1]=(...l)=>s.toggleMenu&&s.toggleMenu(...l))},[ke(e.$slots,"default")])],4)),[[yr,i.menuOpen],[a,{exclude:["menuButton"],handler:s.handleOutsideClick}]])]),_:3})]))],2)])}const B3=ne(P3,[["render",L3]]),$3=Object.freeze(Object.defineProperty({__proto__:null,default:B3},Symbol.toStringTag,{value:"Module"}));function oS(e,t){return function(){return e.apply(t,arguments)}}const{toString:F3}=Object.prototype,{getPrototypeOf:gb}=Object,gp=(e=>t=>{const n=F3.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),fi=e=>(e=e.toLowerCase(),t=>gp(t)===e),bp=e=>t=>typeof t===e,{isArray:Cl}=Array,Ju=bp("undefined");function U3(e){return e!==null&&!Ju(e)&&e.constructor!==null&&!Ju(e.constructor)&&gr(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const aS=fi("ArrayBuffer");function H3(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&aS(e.buffer),t}const z3=bp("string"),gr=bp("function"),lS=bp("number"),yp=e=>e!==null&&typeof e=="object",V3=e=>e===!0||e===!1,Ud=e=>{if(gp(e)!=="object")return!1;const t=gb(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},j3=fi("Date"),q3=fi("File"),W3=fi("Blob"),Y3=fi("FileList"),G3=e=>yp(e)&&gr(e.pipe),K3=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||gr(e.append)&&((t=gp(e))==="formdata"||t==="object"&&gr(e.toString)&&e.toString()==="[object FormData]"))},X3=fi("URLSearchParams"),[Q3,J3,Z3,eL]=["ReadableStream","Request","Response","Headers"].map(fi),tL=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Ic(e,t,{allOwnKeys:n=!1}={}){if(e===null||typeof e>"u")return;let r,i;if(typeof e!="object"&&(e=[e]),Cl(e))for(r=0,i=e.length;r<i;r++)t.call(null,e[r],r,e);else{const s=n?Object.getOwnPropertyNames(e):Object.keys(e),o=s.length;let a;for(r=0;r<o;r++)a=s[r],t.call(null,e[a],a,e)}}function uS(e,t){t=t.toLowerCase();const n=Object.keys(e);let r=n.length,i;for(;r-- >0;)if(i=n[r],t===i.toLowerCase())return i;return null}const Mo=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,cS=e=>!Ju(e)&&e!==Mo;function dg(){const{caseless:e}=cS(this)&&this||{},t={},n=(r,i)=>{const s=e&&uS(t,i)||i;Ud(t[s])&&Ud(r)?t[s]=dg(t[s],r):Ud(r)?t[s]=dg({},r):Cl(r)?t[s]=r.slice():t[s]=r};for(let r=0,i=arguments.length;r<i;r++)arguments[r]&&Ic(arguments[r],n);return t}const nL=(e,t,n,{allOwnKeys:r}={})=>(Ic(t,(i,s)=>{n&&gr(i)?e[s]=oS(i,n):e[s]=i},{allOwnKeys:r}),e),rL=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),iL=(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},sL=(e,t,n,r)=>{let i,s,o;const a={};if(t=t||{},e==null)return t;do{for(i=Object.getOwnPropertyNames(e),s=i.length;s-- >0;)o=i[s],(!r||r(o,e,t))&&!a[o]&&(t[o]=e[o],a[o]=!0);e=n!==!1&&gb(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},oL=(e,t,n)=>{e=String(e),(n===void 0||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return r!==-1&&r===n},aL=e=>{if(!e)return null;if(Cl(e))return e;let t=e.length;if(!lS(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},lL=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&gb(Uint8Array)),uL=(e,t)=>{const r=(e&&e[Symbol.iterator]).call(e);let i;for(;(i=r.next())&&!i.done;){const s=i.value;t.call(e,s[0],s[1])}},cL=(e,t)=>{let n;const r=[];for(;(n=e.exec(t))!==null;)r.push(n);return r},dL=fi("HTMLFormElement"),fL=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,i){return r.toUpperCase()+i}),x_=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),pL=fi("RegExp"),dS=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};Ic(n,(i,s)=>{let o;(o=t(i,s,e))!==!1&&(r[s]=o||i)}),Object.defineProperties(e,r)},hL=e=>{dS(e,(t,n)=>{if(gr(e)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=e[n];if(gr(r)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},mL=(e,t)=>{const n={},r=i=>{i.forEach(s=>{n[s]=!0})};return Cl(e)?r(e):r(String(e).split(t)),n},gL=()=>{},bL=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t,Rh="abcdefghijklmnopqrstuvwxyz",C_="0123456789",fS={DIGIT:C_,ALPHA:Rh,ALPHA_DIGIT:Rh+Rh.toUpperCase()+C_},yL=(e=16,t=fS.ALPHA_DIGIT)=>{let n="";const{length:r}=t;for(;e--;)n+=t[Math.random()*r|0];return n};function _L(e){return!!(e&&gr(e.append)&&e[Symbol.toStringTag]==="FormData"&&e[Symbol.iterator])}const EL=e=>{const t=new Array(10),n=(r,i)=>{if(yp(r)){if(t.indexOf(r)>=0)return;if(!("toJSON"in r)){t[i]=r;const s=Cl(r)?[]:{};return Ic(r,(o,a)=>{const l=n(o,i+1);!Ju(l)&&(s[a]=l)}),t[i]=void 0,s}}return r};return n(e,0)},vL=fi("AsyncFunction"),TL=e=>e&&(yp(e)||gr(e))&&gr(e.then)&&gr(e.catch),pS=((e,t)=>e?setImmediate:t?((n,r)=>(Mo.addEventListener("message",({source:i,data:s})=>{i===Mo&&s===n&&r.length&&r.shift()()},!1),i=>{r.push(i),Mo.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",gr(Mo.postMessage)),wL=typeof queueMicrotask<"u"?queueMicrotask.bind(Mo):typeof process<"u"&&process.nextTick||pS,q={isArray:Cl,isArrayBuffer:aS,isBuffer:U3,isFormData:K3,isArrayBufferView:H3,isString:z3,isNumber:lS,isBoolean:V3,isObject:yp,isPlainObject:Ud,isReadableStream:Q3,isRequest:J3,isResponse:Z3,isHeaders:eL,isUndefined:Ju,isDate:j3,isFile:q3,isBlob:W3,isRegExp:pL,isFunction:gr,isStream:G3,isURLSearchParams:X3,isTypedArray:lL,isFileList:Y3,forEach:Ic,merge:dg,extend:nL,trim:tL,stripBOM:rL,inherits:iL,toFlatObject:sL,kindOf:gp,kindOfTest:fi,endsWith:oL,toArray:aL,forEachEntry:uL,matchAll:cL,isHTMLForm:dL,hasOwnProperty:x_,hasOwnProp:x_,reduceDescriptors:dS,freezeMethods:hL,toObjectSet:mL,toCamelCase:fL,noop:gL,toFiniteNumber:bL,findKey:uS,global:Mo,isContextDefined:cS,ALPHABET:fS,generateString:yL,isSpecCompliantForm:_L,toJSONObject:EL,isAsyncFn:vL,isThenable:TL,setImmediate:pS,asap:wL};function Ye(e,t,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i,this.status=i.status?i.status:null)}q.inherits(Ye,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:q.toJSONObject(this.config),code:this.code,status:this.status}}});const hS=Ye.prototype,mS={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{mS[e]={value:e}});Object.defineProperties(Ye,mS);Object.defineProperty(hS,"isAxiosError",{value:!0});Ye.from=(e,t,n,r,i,s)=>{const o=Object.create(hS);return q.toFlatObject(e,o,function(l){return l!==Error.prototype},a=>a!=="isAxiosError"),Ye.call(o,e.message,t,n,r,i),o.cause=e,o.name=e.name,s&&Object.assign(o,s),o};const xL=null;function fg(e){return q.isPlainObject(e)||q.isArray(e)}function gS(e){return q.endsWith(e,"[]")?e.slice(0,-2):e}function S_(e,t,n){return e?e.concat(t).map(function(i,s){return i=gS(i),!n&&s?"["+i+"]":i}).join(n?".":""):t}function CL(e){return q.isArray(e)&&!e.some(fg)}const SL=q.toFlatObject(q,{},null,function(t){return/^is[A-Z]/.test(t)});function _p(e,t,n){if(!q.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,n=q.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(g,b){return!q.isUndefined(b[g])});const r=n.metaTokens,i=n.visitor||c,s=n.dots,o=n.indexes,l=(n.Blob||typeof Blob<"u"&&Blob)&&q.isSpecCompliantForm(t);if(!q.isFunction(i))throw new TypeError("visitor must be a function");function u(m){if(m===null)return"";if(q.isDate(m))return m.toISOString();if(!l&&q.isBlob(m))throw new Ye("Blob is not supported. Use a Buffer instead.");return q.isArrayBuffer(m)||q.isTypedArray(m)?l&&typeof Blob=="function"?new Blob([m]):Buffer.from(m):m}function c(m,g,b){let y=m;if(m&&!b&&typeof m=="object"){if(q.endsWith(g,"{}"))g=r?g:g.slice(0,-2),m=JSON.stringify(m);else if(q.isArray(m)&&CL(m)||(q.isFileList(m)||q.endsWith(g,"[]"))&&(y=q.toArray(m)))return g=gS(g),y.forEach(function(T,C){!(q.isUndefined(T)||T===null)&&t.append(o===!0?S_([g],C,s):o===null?g:g+"[]",u(T))}),!1}return fg(m)?!0:(t.append(S_(b,g,s),u(m)),!1)}const d=[],f=Object.assign(SL,{defaultVisitor:c,convertValue:u,isVisitable:fg});function p(m,g){if(!q.isUndefined(m)){if(d.indexOf(m)!==-1)throw Error("Circular reference detected in "+g.join("."));d.push(m),q.forEach(m,function(y,E){(!(q.isUndefined(y)||y===null)&&i.call(t,y,q.isString(E)?E.trim():E,g,f))===!0&&p(y,g?g.concat(E):[E])}),d.pop()}}if(!q.isObject(e))throw new TypeError("data must be an object");return p(e),t}function A_(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(r){return t[r]})}function bb(e,t){this._pairs=[],e&&_p(e,this,t)}const bS=bb.prototype;bS.append=function(t,n){this._pairs.push([t,n])};bS.toString=function(t){const n=t?function(r){return t.call(this,r,A_)}:A_;return this._pairs.map(function(i){return n(i[0])+"="+n(i[1])},"").join("&")};function AL(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function yS(e,t,n){if(!t)return e;const r=n&&n.encode||AL;q.isFunction(n)&&(n={serialize:n});const i=n&&n.serialize;let s;if(i?s=i(t,n):s=q.isURLSearchParams(t)?t.toString():new bb(t,n).toString(r),s){const o=e.indexOf("#");o!==-1&&(e=e.slice(0,o)),e+=(e.indexOf("?")===-1?"?":"&")+s}return e}class k_{constructor(){this.handlers=[]}use(t,n,r){return this.handlers.push({fulfilled:t,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){q.forEach(this.handlers,function(r){r!==null&&t(r)})}}const _S={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},kL=typeof URLSearchParams<"u"?URLSearchParams:bb,OL=typeof FormData<"u"?FormData:null,IL=typeof Blob<"u"?Blob:null,NL={isBrowser:!0,classes:{URLSearchParams:kL,FormData:OL,Blob:IL},protocols:["http","https","file","blob","url","data"]},yb=typeof window<"u"&&typeof document<"u",pg=typeof navigator=="object"&&navigator||void 0,RL=yb&&(!pg||["ReactNative","NativeScript","NS"].indexOf(pg.product)<0),DL=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",ML=yb&&window.location.href||"http://localhost",PL=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:yb,hasStandardBrowserEnv:RL,hasStandardBrowserWebWorkerEnv:DL,navigator:pg,origin:ML},Symbol.toStringTag,{value:"Module"})),In={...PL,...NL};function LL(e,t){return _p(e,new In.classes.URLSearchParams,Object.assign({visitor:function(n,r,i,s){return In.isNode&&q.isBuffer(n)?(this.append(r,n.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)}},t))}function BL(e){return q.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function $L(e){const t={},n=Object.keys(e);let r;const i=n.length;let s;for(r=0;r<i;r++)s=n[r],t[s]=e[s];return t}function ES(e){function t(n,r,i,s){let o=n[s++];if(o==="__proto__")return!0;const a=Number.isFinite(+o),l=s>=n.length;return o=!o&&q.isArray(i)?i.length:o,l?(q.hasOwnProp(i,o)?i[o]=[i[o],r]:i[o]=r,!a):((!i[o]||!q.isObject(i[o]))&&(i[o]=[]),t(n,r,i[o],s)&&q.isArray(i[o])&&(i[o]=$L(i[o])),!a)}if(q.isFormData(e)&&q.isFunction(e.entries)){const n={};return q.forEachEntry(e,(r,i)=>{t(BL(r),i,n,0)}),n}return null}function FL(e,t,n){if(q.isString(e))try{return(t||JSON.parse)(e),q.trim(e)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(e)}const Nc={transitional:_S,adapter:["xhr","http","fetch"],transformRequest:[function(t,n){const r=n.getContentType()||"",i=r.indexOf("application/json")>-1,s=q.isObject(t);if(s&&q.isHTMLForm(t)&&(t=new FormData(t)),q.isFormData(t))return i?JSON.stringify(ES(t)):t;if(q.isArrayBuffer(t)||q.isBuffer(t)||q.isStream(t)||q.isFile(t)||q.isBlob(t)||q.isReadableStream(t))return t;if(q.isArrayBufferView(t))return t.buffer;if(q.isURLSearchParams(t))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let a;if(s){if(r.indexOf("application/x-www-form-urlencoded")>-1)return LL(t,this.formSerializer).toString();if((a=q.isFileList(t))||r.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return _p(a?{"files[]":t}:t,l&&new l,this.formSerializer)}}return s||i?(n.setContentType("application/json",!1),FL(t)):t}],transformResponse:[function(t){const n=this.transitional||Nc.transitional,r=n&&n.forcedJSONParsing,i=this.responseType==="json";if(q.isResponse(t)||q.isReadableStream(t))return t;if(t&&q.isString(t)&&(r&&!this.responseType||i)){const o=!(n&&n.silentJSONParsing)&&i;try{return JSON.parse(t)}catch(a){if(o)throw a.name==="SyntaxError"?Ye.from(a,Ye.ERR_BAD_RESPONSE,this,null,this.response):a}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:In.classes.FormData,Blob:In.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};q.forEach(["delete","get","head","post","put","patch"],e=>{Nc.headers[e]={}});const UL=q.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),HL=e=>{const t={};let n,r,i;return e&&e.split(`
`).forEach(function(o){i=o.indexOf(":"),n=o.substring(0,i).trim().toLowerCase(),r=o.substring(i+1).trim(),!(!n||t[n]&&UL[n])&&(n==="set-cookie"?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)}),t},O_=Symbol("internals");function Hl(e){return e&&String(e).trim().toLowerCase()}function Hd(e){return e===!1||e==null?e:q.isArray(e)?e.map(Hd):String(e)}function zL(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}const VL=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function Dh(e,t,n,r,i){if(q.isFunction(r))return r.call(this,t,n);if(i&&(t=n),!!q.isString(t)){if(q.isString(r))return t.indexOf(r)!==-1;if(q.isRegExp(r))return r.test(t)}}function jL(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,n,r)=>n.toUpperCase()+r)}function qL(e,t){const n=q.toCamelCase(" "+t);["get","set","has"].forEach(r=>{Object.defineProperty(e,r+n,{value:function(i,s,o){return this[r].call(this,t,i,s,o)},configurable:!0})})}let er=class{constructor(t){t&&this.set(t)}set(t,n,r){const i=this;function s(a,l,u){const c=Hl(l);if(!c)throw new Error("header name must be a non-empty string");const d=q.findKey(i,c);(!d||i[d]===void 0||u===!0||u===void 0&&i[d]!==!1)&&(i[d||l]=Hd(a))}const o=(a,l)=>q.forEach(a,(u,c)=>s(u,c,l));if(q.isPlainObject(t)||t instanceof this.constructor)o(t,n);else if(q.isString(t)&&(t=t.trim())&&!VL(t))o(HL(t),n);else if(q.isHeaders(t))for(const[a,l]of t.entries())s(l,a,r);else t!=null&&s(n,t,r);return this}get(t,n){if(t=Hl(t),t){const r=q.findKey(this,t);if(r){const i=this[r];if(!n)return i;if(n===!0)return zL(i);if(q.isFunction(n))return n.call(this,i,r);if(q.isRegExp(n))return n.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,n){if(t=Hl(t),t){const r=q.findKey(this,t);return!!(r&&this[r]!==void 0&&(!n||Dh(this,this[r],r,n)))}return!1}delete(t,n){const r=this;let i=!1;function s(o){if(o=Hl(o),o){const a=q.findKey(r,o);a&&(!n||Dh(r,r[a],a,n))&&(delete r[a],i=!0)}}return q.isArray(t)?t.forEach(s):s(t),i}clear(t){const n=Object.keys(this);let r=n.length,i=!1;for(;r--;){const s=n[r];(!t||Dh(this,this[s],s,t,!0))&&(delete this[s],i=!0)}return i}normalize(t){const n=this,r={};return q.forEach(this,(i,s)=>{const o=q.findKey(r,s);if(o){n[o]=Hd(i),delete n[s];return}const a=t?jL(s):String(s).trim();a!==s&&delete n[s],n[a]=Hd(i),r[a]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const n=Object.create(null);return q.forEach(this,(r,i)=>{r!=null&&r!==!1&&(n[i]=t&&q.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,n])=>t+": "+n).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...n){const r=new this(t);return n.forEach(i=>r.set(i)),r}static accessor(t){const r=(this[O_]=this[O_]={accessors:{}}).accessors,i=this.prototype;function s(o){const a=Hl(o);r[a]||(qL(i,o),r[a]=!0)}return q.isArray(t)?t.forEach(s):s(t),this}};er.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);q.reduceDescriptors(er.prototype,({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(r){this[n]=r}}});q.freezeMethods(er);function Mh(e,t){const n=this||Nc,r=t||n,i=er.from(r.headers);let s=r.data;return q.forEach(e,function(a){s=a.call(n,s,i.normalize(),t?t.status:void 0)}),i.normalize(),s}function vS(e){return!!(e&&e.__CANCEL__)}function Sl(e,t,n){Ye.call(this,e??"canceled",Ye.ERR_CANCELED,t,n),this.name="CanceledError"}q.inherits(Sl,Ye,{__CANCEL__:!0});function TS(e,t,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?e(n):t(new Ye("Request failed with status code "+n.status,[Ye.ERR_BAD_REQUEST,Ye.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function WL(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function YL(e,t){e=e||10;const n=new Array(e),r=new Array(e);let i=0,s=0,o;return t=t!==void 0?t:1e3,function(l){const u=Date.now(),c=r[s];o||(o=u),n[i]=l,r[i]=u;let d=s,f=0;for(;d!==i;)f+=n[d++],d=d%e;if(i=(i+1)%e,i===s&&(s=(s+1)%e),u-o<t)return;const p=c&&u-c;return p?Math.round(f*1e3/p):void 0}}function GL(e,t){let n=0,r=1e3/t,i,s;const o=(u,c=Date.now())=>{n=c,i=null,s&&(clearTimeout(s),s=null),e.apply(null,u)};return[(...u)=>{const c=Date.now(),d=c-n;d>=r?o(u,c):(i=u,s||(s=setTimeout(()=>{s=null,o(i)},r-d)))},()=>i&&o(i)]}const vf=(e,t,n=3)=>{let r=0;const i=YL(50,250);return GL(s=>{const o=s.loaded,a=s.lengthComputable?s.total:void 0,l=o-r,u=i(l),c=o<=a;r=o;const d={loaded:o,total:a,progress:a?o/a:void 0,bytes:l,rate:u||void 0,estimated:u&&a&&c?(a-o)/u:void 0,event:s,lengthComputable:a!=null,[t?"download":"upload"]:!0};e(d)},n)},I_=(e,t)=>{const n=e!=null;return[r=>t[0]({lengthComputable:n,total:e,loaded:r}),t[1]]},N_=e=>(...t)=>q.asap(()=>e(...t)),KL=In.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,In.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL(In.origin),In.navigator&&/(msie|trident)/i.test(In.navigator.userAgent)):()=>!0,XL=In.hasStandardBrowserEnv?{write(e,t,n,r,i,s){const o=[e+"="+encodeURIComponent(t)];q.isNumber(n)&&o.push("expires="+new Date(n).toGMTString()),q.isString(r)&&o.push("path="+r),q.isString(i)&&o.push("domain="+i),s===!0&&o.push("secure"),document.cookie=o.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function QL(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function JL(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function wS(e,t){return e&&!QL(t)?JL(e,t):t}const R_=e=>e instanceof er?{...e}:e;function Xo(e,t){t=t||{};const n={};function r(u,c,d,f){return q.isPlainObject(u)&&q.isPlainObject(c)?q.merge.call({caseless:f},u,c):q.isPlainObject(c)?q.merge({},c):q.isArray(c)?c.slice():c}function i(u,c,d,f){if(q.isUndefined(c)){if(!q.isUndefined(u))return r(void 0,u,d,f)}else return r(u,c,d,f)}function s(u,c){if(!q.isUndefined(c))return r(void 0,c)}function o(u,c){if(q.isUndefined(c)){if(!q.isUndefined(u))return r(void 0,u)}else return r(void 0,c)}function a(u,c,d){if(d in t)return r(u,c);if(d in e)return r(void 0,u)}const l={url:s,method:s,data:s,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:a,headers:(u,c,d)=>i(R_(u),R_(c),d,!0)};return q.forEach(Object.keys(Object.assign({},e,t)),function(c){const d=l[c]||i,f=d(e[c],t[c],c);q.isUndefined(f)&&d!==a||(n[c]=f)}),n}const xS=e=>{const t=Xo({},e);let{data:n,withXSRFToken:r,xsrfHeaderName:i,xsrfCookieName:s,headers:o,auth:a}=t;t.headers=o=er.from(o),t.url=yS(wS(t.baseURL,t.url),e.params,e.paramsSerializer),a&&o.set("Authorization","Basic "+btoa((a.username||"")+":"+(a.password?unescape(encodeURIComponent(a.password)):"")));let l;if(q.isFormData(n)){if(In.hasStandardBrowserEnv||In.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if((l=o.getContentType())!==!1){const[u,...c]=l?l.split(";").map(d=>d.trim()).filter(Boolean):[];o.setContentType([u||"multipart/form-data",...c].join("; "))}}if(In.hasStandardBrowserEnv&&(r&&q.isFunction(r)&&(r=r(t)),r||r!==!1&&KL(t.url))){const u=i&&s&&XL.read(s);u&&o.set(i,u)}return t},ZL=typeof XMLHttpRequest<"u",e6=ZL&&function(e){return new Promise(function(n,r){const i=xS(e);let s=i.data;const o=er.from(i.headers).normalize();let{responseType:a,onUploadProgress:l,onDownloadProgress:u}=i,c,d,f,p,m;function g(){p&&p(),m&&m(),i.cancelToken&&i.cancelToken.unsubscribe(c),i.signal&&i.signal.removeEventListener("abort",c)}let b=new XMLHttpRequest;b.open(i.method.toUpperCase(),i.url,!0),b.timeout=i.timeout;function y(){if(!b)return;const T=er.from("getAllResponseHeaders"in b&&b.getAllResponseHeaders()),D={data:!a||a==="text"||a==="json"?b.responseText:b.response,status:b.status,statusText:b.statusText,headers:T,config:e,request:b};TS(function(M){n(M),g()},function(M){r(M),g()},D),b=null}"onloadend"in b?b.onloadend=y:b.onreadystatechange=function(){!b||b.readyState!==4||b.status===0&&!(b.responseURL&&b.responseURL.indexOf("file:")===0)||setTimeout(y)},b.onabort=function(){b&&(r(new Ye("Request aborted",Ye.ECONNABORTED,e,b)),b=null)},b.onerror=function(){r(new Ye("Network Error",Ye.ERR_NETWORK,e,b)),b=null},b.ontimeout=function(){let C=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const D=i.transitional||_S;i.timeoutErrorMessage&&(C=i.timeoutErrorMessage),r(new Ye(C,D.clarifyTimeoutError?Ye.ETIMEDOUT:Ye.ECONNABORTED,e,b)),b=null},s===void 0&&o.setContentType(null),"setRequestHeader"in b&&q.forEach(o.toJSON(),function(C,D){b.setRequestHeader(D,C)}),q.isUndefined(i.withCredentials)||(b.withCredentials=!!i.withCredentials),a&&a!=="json"&&(b.responseType=i.responseType),u&&([f,m]=vf(u,!0),b.addEventListener("progress",f)),l&&b.upload&&([d,p]=vf(l),b.upload.addEventListener("progress",d),b.upload.addEventListener("loadend",p)),(i.cancelToken||i.signal)&&(c=T=>{b&&(r(!T||T.type?new Sl(null,e,b):T),b.abort(),b=null)},i.cancelToken&&i.cancelToken.subscribe(c),i.signal&&(i.signal.aborted?c():i.signal.addEventListener("abort",c)));const E=WL(i.url);if(E&&In.protocols.indexOf(E)===-1){r(new Ye("Unsupported protocol "+E+":",Ye.ERR_BAD_REQUEST,e));return}b.send(s||null)})},t6=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let r=new AbortController,i;const s=function(u){if(!i){i=!0,a();const c=u instanceof Error?u:this.reason;r.abort(c instanceof Ye?c:new Sl(c instanceof Error?c.message:c))}};let o=t&&setTimeout(()=>{o=null,s(new Ye(`timeout ${t} of ms exceeded`,Ye.ETIMEDOUT))},t);const a=()=>{e&&(o&&clearTimeout(o),o=null,e.forEach(u=>{u.unsubscribe?u.unsubscribe(s):u.removeEventListener("abort",s)}),e=null)};e.forEach(u=>u.addEventListener("abort",s));const{signal:l}=r;return l.unsubscribe=()=>q.asap(a),l}},n6=function*(e,t){let n=e.byteLength;if(n<t){yield e;return}let r=0,i;for(;r<n;)i=r+t,yield e.slice(r,i),r=i},r6=async function*(e,t){for await(const n of i6(e))yield*n6(n,t)},i6=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:n,value:r}=await t.read();if(n)break;yield r}}finally{await t.cancel()}},D_=(e,t,n,r)=>{const i=r6(e,t);let s=0,o,a=l=>{o||(o=!0,r&&r(l))};return new ReadableStream({async pull(l){try{const{done:u,value:c}=await i.next();if(u){a(),l.close();return}let d=c.byteLength;if(n){let f=s+=d;n(f)}l.enqueue(new Uint8Array(c))}catch(u){throw a(u),u}},cancel(l){return a(l),i.return()}},{highWaterMark:2})},Ep=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",CS=Ep&&typeof ReadableStream=="function",s6=Ep&&(typeof TextEncoder=="function"?(e=>t=>e.encode(t))(new TextEncoder):async e=>new Uint8Array(await new Response(e).arrayBuffer())),SS=(e,...t)=>{try{return!!e(...t)}catch{return!1}},o6=CS&&SS(()=>{let e=!1;const t=new Request(In.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),M_=64*1024,hg=CS&&SS(()=>q.isReadableStream(new Response("").body)),Tf={stream:hg&&(e=>e.body)};Ep&&(e=>{["text","arrayBuffer","blob","formData","stream"].forEach(t=>{!Tf[t]&&(Tf[t]=q.isFunction(e[t])?n=>n[t]():(n,r)=>{throw new Ye(`Response type '${t}' is not supported`,Ye.ERR_NOT_SUPPORT,r)})})})(new Response);const a6=async e=>{if(e==null)return 0;if(q.isBlob(e))return e.size;if(q.isSpecCompliantForm(e))return(await new Request(In.origin,{method:"POST",body:e}).arrayBuffer()).byteLength;if(q.isArrayBufferView(e)||q.isArrayBuffer(e))return e.byteLength;if(q.isURLSearchParams(e)&&(e=e+""),q.isString(e))return(await s6(e)).byteLength},l6=async(e,t)=>{const n=q.toFiniteNumber(e.getContentLength());return n??a6(t)},u6=Ep&&(async e=>{let{url:t,method:n,data:r,signal:i,cancelToken:s,timeout:o,onDownloadProgress:a,onUploadProgress:l,responseType:u,headers:c,withCredentials:d="same-origin",fetchOptions:f}=xS(e);u=u?(u+"").toLowerCase():"text";let p=t6([i,s&&s.toAbortSignal()],o),m;const g=p&&p.unsubscribe&&(()=>{p.unsubscribe()});let b;try{if(l&&o6&&n!=="get"&&n!=="head"&&(b=await l6(c,r))!==0){let D=new Request(t,{method:"POST",body:r,duplex:"half"}),_;if(q.isFormData(r)&&(_=D.headers.get("content-type"))&&c.setContentType(_),D.body){const[M,G]=I_(b,vf(N_(l)));r=D_(D.body,M_,M,G)}}q.isString(d)||(d=d?"include":"omit");const y="credentials"in Request.prototype;m=new Request(t,{...f,signal:p,method:n.toUpperCase(),headers:c.normalize().toJSON(),body:r,duplex:"half",credentials:y?d:void 0});let E=await fetch(m);const T=hg&&(u==="stream"||u==="response");if(hg&&(a||T&&g)){const D={};["status","statusText","headers"].forEach(B=>{D[B]=E[B]});const _=q.toFiniteNumber(E.headers.get("content-length")),[M,G]=a&&I_(_,vf(N_(a),!0))||[];E=new Response(D_(E.body,M_,M,()=>{G&&G(),g&&g()}),D)}u=u||"text";let C=await Tf[q.findKey(Tf,u)||"text"](E,e);return!T&&g&&g(),await new Promise((D,_)=>{TS(D,_,{data:C,headers:er.from(E.headers),status:E.status,statusText:E.statusText,config:e,request:m})})}catch(y){throw g&&g(),y&&y.name==="TypeError"&&/fetch/i.test(y.message)?Object.assign(new Ye("Network Error",Ye.ERR_NETWORK,e,m),{cause:y.cause||y}):Ye.from(y,y&&y.code,e,m)}}),mg={http:xL,xhr:e6,fetch:u6};q.forEach(mg,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const P_=e=>`- ${e}`,c6=e=>q.isFunction(e)||e===null||e===!1,AS={getAdapter:e=>{e=q.isArray(e)?e:[e];const{length:t}=e;let n,r;const i={};for(let s=0;s<t;s++){n=e[s];let o;if(r=n,!c6(n)&&(r=mg[(o=String(n)).toLowerCase()],r===void 0))throw new Ye(`Unknown adapter '${o}'`);if(r)break;i[o||"#"+s]=r}if(!r){const s=Object.entries(i).map(([a,l])=>`adapter ${a} `+(l===!1?"is not supported by the environment":"is not available in the build"));let o=t?s.length>1?`since :
`+s.map(P_).join(`
`):" "+P_(s[0]):"as no adapter specified";throw new Ye("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return r},adapters:mg};function Ph(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Sl(null,e)}function L_(e){return Ph(e),e.headers=er.from(e.headers),e.data=Mh.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),AS.getAdapter(e.adapter||Nc.adapter)(e).then(function(r){return Ph(e),r.data=Mh.call(e,e.transformResponse,r),r.headers=er.from(r.headers),r},function(r){return vS(r)||(Ph(e),r&&r.response&&(r.response.data=Mh.call(e,e.transformResponse,r.response),r.response.headers=er.from(r.response.headers))),Promise.reject(r)})}const kS="1.7.9",vp={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{vp[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}});const B_={};vp.transitional=function(t,n,r){function i(s,o){return"[Axios v"+kS+"] Transitional option '"+s+"'"+o+(r?". "+r:"")}return(s,o,a)=>{if(t===!1)throw new Ye(i(o," has been removed"+(n?" in "+n:"")),Ye.ERR_DEPRECATED);return n&&!B_[o]&&(B_[o]=!0,console.warn(i(o," has been deprecated since v"+n+" and will be removed in the near future"))),t?t(s,o,a):!0}};vp.spelling=function(t){return(n,r)=>(console.warn(`${r} is likely a misspelling of ${t}`),!0)};function d6(e,t,n){if(typeof e!="object")throw new Ye("options must be an object",Ye.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let i=r.length;for(;i-- >0;){const s=r[i],o=t[s];if(o){const a=e[s],l=a===void 0||o(a,s,e);if(l!==!0)throw new Ye("option "+s+" must be "+l,Ye.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new Ye("Unknown option "+s,Ye.ERR_BAD_OPTION)}}const zd={assertOptions:d6,validators:vp},vi=zd.validators;let Ho=class{constructor(t){this.defaults=t,this.interceptors={request:new k_,response:new k_}}async request(t,n){try{return await this._request(t,n)}catch(r){if(r instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const s=i.stack?i.stack.replace(/^.+\n/,""):"";try{r.stack?s&&!String(r.stack).endsWith(s.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+s):r.stack=s}catch{}}throw r}}_request(t,n){typeof t=="string"?(n=n||{},n.url=t):n=t||{},n=Xo(this.defaults,n);const{transitional:r,paramsSerializer:i,headers:s}=n;r!==void 0&&zd.assertOptions(r,{silentJSONParsing:vi.transitional(vi.boolean),forcedJSONParsing:vi.transitional(vi.boolean),clarifyTimeoutError:vi.transitional(vi.boolean)},!1),i!=null&&(q.isFunction(i)?n.paramsSerializer={serialize:i}:zd.assertOptions(i,{encode:vi.function,serialize:vi.function},!0)),zd.assertOptions(n,{baseUrl:vi.spelling("baseURL"),withXsrfToken:vi.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let o=s&&q.merge(s.common,s[n.method]);s&&q.forEach(["delete","get","head","post","put","patch","common"],m=>{delete s[m]}),n.headers=er.concat(o,s);const a=[];let l=!0;this.interceptors.request.forEach(function(g){typeof g.runWhen=="function"&&g.runWhen(n)===!1||(l=l&&g.synchronous,a.unshift(g.fulfilled,g.rejected))});const u=[];this.interceptors.response.forEach(function(g){u.push(g.fulfilled,g.rejected)});let c,d=0,f;if(!l){const m=[L_.bind(this),void 0];for(m.unshift.apply(m,a),m.push.apply(m,u),f=m.length,c=Promise.resolve(n);d<f;)c=c.then(m[d++],m[d++]);return c}f=a.length;let p=n;for(d=0;d<f;){const m=a[d++],g=a[d++];try{p=m(p)}catch(b){g.call(this,b);break}}try{c=L_.call(this,p)}catch(m){return Promise.reject(m)}for(d=0,f=u.length;d<f;)c=c.then(u[d++],u[d++]);return c}getUri(t){t=Xo(this.defaults,t);const n=wS(t.baseURL,t.url);return yS(n,t.params,t.paramsSerializer)}};q.forEach(["delete","get","head","options"],function(t){Ho.prototype[t]=function(n,r){return this.request(Xo(r||{},{method:t,url:n,data:(r||{}).data}))}});q.forEach(["post","put","patch"],function(t){function n(r){return function(s,o,a){return this.request(Xo(a||{},{method:t,headers:r?{"Content-Type":"multipart/form-data"}:{},url:s,data:o}))}}Ho.prototype[t]=n(),Ho.prototype[t+"Form"]=n(!0)});let f6=class OS{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(s){n=s});const r=this;this.promise.then(i=>{if(!r._listeners)return;let s=r._listeners.length;for(;s-- >0;)r._listeners[s](i);r._listeners=null}),this.promise.then=i=>{let s;const o=new Promise(a=>{r.subscribe(a),s=a}).then(i);return o.cancel=function(){r.unsubscribe(s)},o},t(function(s,o,a){r.reason||(r.reason=new Sl(s,o,a),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const n=this._listeners.indexOf(t);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const t=new AbortController,n=r=>{t.abort(r)};return this.subscribe(n),t.signal.unsubscribe=()=>this.unsubscribe(n),t.signal}static source(){let t;return{token:new OS(function(i){t=i}),cancel:t}}};function p6(e){return function(n){return e.apply(null,n)}}function h6(e){return q.isObject(e)&&e.isAxiosError===!0}const gg={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(gg).forEach(([e,t])=>{gg[t]=e});function IS(e){const t=new Ho(e),n=oS(Ho.prototype.request,t);return q.extend(n,Ho.prototype,t,{allOwnKeys:!0}),q.extend(n,t,null,{allOwnKeys:!0}),n.create=function(i){return IS(Xo(e,i))},n}const Ht=IS(Nc);Ht.Axios=Ho;Ht.CanceledError=Sl;Ht.CancelToken=f6;Ht.isCancel=vS;Ht.VERSION=kS;Ht.toFormData=_p;Ht.AxiosError=Ye;Ht.Cancel=Ht.CanceledError;Ht.all=function(t){return Promise.all(t)};Ht.spread=p6;Ht.isAxiosError=h6;Ht.mergeConfig=Xo;Ht.AxiosHeaders=er;Ht.formToJSON=e=>ES(q.isHTMLForm(e)?new FormData(e):e);Ht.getAdapter=AS.getAdapter;Ht.HttpStatusCode=gg;Ht.default=Ht;const{Axios:rye,AxiosError:iye,CanceledError:sye,isCancel:oye,CancelToken:aye,VERSION:lye,all:uye,Cancel:cye,isAxiosError:dye,spread:fye,toFormData:pye,AxiosHeaders:hye,HttpStatusCode:mye,formToJSON:gye,getAdapter:bye,mergeConfig:yye}=Ht,ee=Ht.create({baseURL:"",withCredentials:!0,headers:{Accept:"application/json","Content-Type":"application/json",common:{"X-Requested-With":"XMLHttpRequest"}}});function Rc(e){return e.response&&e.response.status===422&&e.response.data.errors}function NS(e){return e.response&&[401,402,403].includes(e.response.status)}const ls=function(e={},t){let n=e;if(Object.keys(e).includes("filter")){const{filter:i,...s}=e;n={...i,...s}}const r=[];delete n.currentPage;for(const i in n)n[i]===null||n[i]===void 0||(Array.isArray(n[i])?n[i].forEach(s=>{r.push(`${encodeURIComponent(i)}[]=${encodeURIComponent(s)}`)}):typeof n[i]=="object"&&n!==null?Object.keys(n[i]).forEach(s=>{const o=n[i][s];Array.isArray(o)?o.forEach((a,l)=>{r.push(`${encodeURIComponent(i)}[${s}][${l}]=${a}`)}):r.push(`${encodeURIComponent(i)}[${s}]=${o}`)}):r.push(`${encodeURIComponent(i)}=${encodeURIComponent(n[i])}`));return r.length>0?`?${r.join("&")}`:""},m6={notifications:{cc:{steps:[1,4],recipients:[["cdwg_oversightcommittee@clinicalgenome.org","CDWG Oversite Committee"],["clingentrackerhelp@unc.edu","Clingen Tracker Help"],["volunteer@clinicalgenome.org","CCDB Support"],["erepo@clinicalgenome.org","ERepo Support"],["clingen-helpdesk@lists.stanford.edu","GCI/VCI Support"]]}},steps:{1:"Group Definition",2:"Draft Specifications",3:"Pilot Specifications",4:"Sustained Curation"}},g6={assignees:{"cdwg-oc":{name:"CDWG OC",short_name:"CDWG",id:1},"expert-panel":{name:"Expert Panel",short_name:"EP",id:2},"svi-vcep-review-committee":{name:"SVI VCEP Review Committee",short_name:"SVI",id:3},"gene-curation-core-group":{name:"Gene Curation Core Group",short_name:"GC",id:4},chairs:{name:"CDWG OC chairs",short_name:"Chairs",id:5}},types:{"review-submission":{id:1,name:"review submission",description:"Admin group should review submission",default_entry:"Review application and respond to EP."},"make-revisions":{id:2,name:"make revisions",description:"The group has application revisions to complted",default_entry:"Update application and resubmit for approval."},"chair-review":{id:3,name:"chair review",description:"Chairs should review the application and provide feedback",default_entry:"Chairs review application and provide feedback."}}},b6={address:"gpm-test@test.com",name:"GPM"},y6={types:{wg:{id:1,name:"wg",fullname:"Working Group",display_name:"Working Group",description:"A working group that is not a Clinical Domain Working Group",can_be_parent:!0,curation_product:null},cdwg:{id:2,name:"cdwg",fullname:"Clinical Domain Working Group",display_name:"Clinical Domain Working Group",description:"A Clinical Domain Working Group that oversees Expert Panels.",can_be_parent:!0,curation_product:null},gcep:{id:3,name:"gcep",fullname:"Gene Curation Expert Panel",display_name:"GCEP",description:"A Gene curation expert panel",can_be_parent:!1,curation_product:"gene_disease_validity"},vcep:{id:4,name:"vcep",display_name:"VCEP",fullname:"Variant Curation Expert Panel",description:"A Variant curation expert panel",can_be_parent:!1,curation_product:"variant_pathogenicity"},scvcep:{id:5,name:"scvcep",fullname:"Somatic Cancer Variant Curation Expert Panel",display_name:"SCVCEP",description:"A Somatic cancer variant curation expert panel",can_be_parent:!1,curation_product:"variant_pathogenicity",is_somatic_cancer:!0}},statuses:{applying:{id:1,name:"applying"},active:{id:2,name:"active"},retired:{id:3,name:"retired"},removed:{id:4,name:"removed"},inactive:{id:5,name:"inactive"}},statusColors:{1:"blue",2:"green",3:"gray",4:"black",5:"gray"},roles:{coordinator:{id:101,name:"coordinator",display_name:"Coordinator",description:"The coordinator of the group. Has all group permissions."},chair:{id:102,name:"chair",display_name:"Chair",description:"A chair/co-chair of the group.  No default permissions."},biocurator:{id:103,name:"biocurator",display_name:"Biocurator",description:"Biocurator designation.  No default permissions."},expert:{id:104,name:"expert",display_name:"Expert",description:"Expert designation.  No default permissions."},"core-approval-member":{id:105,name:"core-approval-member",display_name:"Core Approval Member",description:"Core approval member designation.  No default permissions."},"biocurator-trainer":{id:106,name:"biocurator-trainer",display_name:"Biocurator trainer",description:"Biocurator trainer designation.  No default permissions."},"grant-liaison":{id:107,name:"grant-liaison",display_name:"Grant Liaison",description:"Grant liaison designation.  No default permissions."},annotator:{id:108,name:"annotator",display_name:"Annotator",description:"Annotator designation.  No default permissions."},"civic-editor":{id:109,name:"civic-editor",display_name:"CIViC Editor",description:"Individual who approves the submission of edits to CIViC. Indicates a higher level of training.  No default permissions."}},permissions:{"info-edit":{id:1001,name:"info-edit",display_name:"Edit Info",description:"Can edit group name."},"members-invite":{id:1002,name:"members-invite",display_name:"Invite Members",description:"Can invite people to join the group."},"members-retire":{id:1003,name:"members-retire",display_name:"Retire Members",description:"Can retire group members."},"members-remove":{id:1004,name:"members-remove",display_name:"Remove Members",description:"Can remove group members."},"members-update":{id:1005,name:"members-update",display_name:"Update Members",description:"Can update group member information."},"application-read":{id:1006,name:"application-read",display_name:"Read Application",description:"Can read the group's application (if applicable)."},"application-edit":{id:1007,name:"application-edit",display_name:"Edit Application",description:"Can update group's application (if applicable)."},"annual-update-manage":{id:1008,name:"annual-update-manage",display_name:"Manage Annual Update",description:"Can edit and submit an annual update."}},rolePermissions:{coordinator:[1001,1002,1003,1004,1005,1006,1007,1008],"grant-liaison":[1008]}},_6={roles:{"super-user":{id:1,name:"super-user",display_name:"SuperUser",description:"Full access user with ALL permissions.  Reserved for programmers and technically versed users charged with administering the application.",guard_name:"web",scope:"system"},"super-admin":{id:2,name:"super-admin",display_name:"SuperAdmin",description:"Administrator with full group, application, annual update, and person management permissions.  A super-admin should be able take any action that does not require technical expertise.",guard_name:"web",scope:"system"},admin:{id:3,name:"admin",display_name:"Admin",description:"Has standard admin privileges and can manage invites, groups, and people.",guard_name:"web",scope:"system"}},permissions:{"users-manage":{id:1,name:"users-manage",display_name:"Manage users",description:"Edit user roles and permissions (limited based on role).",guard_name:"web",scope:"system"},"logs-view":{id:2,name:"logs-view",display_name:"View System Logs",description:"View system logs.",guard_name:"web",scope:"system"},"mail-log-view":{id:3,name:"mail-log-view",display_name:"View Mail Logs",description:"View mail logs and resend email.",guard_name:"web",scope:"system"},"invites-view":{id:4,name:"invites-view",display_name:"View Invites",description:"Invite administration.",guard_name:"web",scope:"system"},"announcements-manage":{id:5,name:"announcements-manage",display_name:"Manage announcements",description:"Create announcements.",guard_name:"web",scope:"system"},"group-manage":{id:10,name:"groups-manage",display_name:"Manage groups",description:"Create, update, delete groups.",guard_name:"web",scope:"system"},"people-manage":{id:20,name:"people-manage",display_name:"Manage people",description:"Create, update, delete, merge people.",guard_name:"web",scope:"system"},"ep-applications-manage":{id:30,name:"ep-applications-manage",display_name:"Manage applications",description:"Create and update applications; mark aplications approved.",guard_name:"web",scope:"system"},"ep-applications-comment":{id:31,name:"ep-applications-comment",display_name:"Comment on applications",description:"Create and update comments on submitted EP applications",guard_name:"web",scope:"system"},"ep-applications-approve":{id:32,name:"ep-applications-approve",display_name:"Approve expert panel applications",description:"Approve a submitted application",guard_name:"web",scope:"system"},"annual-updates-manage":{id:40,name:"annual-updates-manage",display_name:"Manage Annual Updates",description:"Create and update applications; create a new annual update window.",guard_name:"web",scope:"system"},"comments-manage":{id:50,name:"comments-manage",display_name:"Manage comments",description:"Can edit/delete comments made by other users.",scope:"system",guard_name:"web"},"reports-pull":{id:6,name:"reports-pull",display_name:"Pull Reports",description:"Can pull predefined reports.",guard_name:"web",scope:"system"}},rolePermissions:{"super-user":[1,2,3,4,5,6,10,20,30,31,40,50],"super-admin":[1,3,4,5,6,10,20,30,40,50],admin:[3,4,6,10,20]}},E6={severities:{blocking:{name:"This bug is preventing me from completing my tasks.",id:"15555"},incorrect:{name:"This bug presents incorrect information and/or causes confusion.",id:"15558"},inconvenient:{name:"This bug is inconvenient but doesn't block my work.",id:"15556"},unsightly:{name:"This bug is unsightly.",id:"15557"}}},v6={types:{application:{definition:{id:1,name:"Definition",description:"VCEP step 1 and GCEP application"},"sustained-curation":{id:2,name:"Sustained Curation",description:"VCEP step 4"}}},typesByStep:{1:{id:1,name:"Definition",description:"VCEP step 1 and GCEP application"},2:null,3:null,4:{id:2,name:"Sustained Curation",description:"VCEP step 4"}},statuses:{pending:{id:1,name:"Pending",description:"Submission does not have a response."},"revisions-requested":{id:2,name:"Revisions Requested",description:"Submitted item must be revised and resubmitted with no promise of approval."},"under-chair-review":{id:3,name:"Under Chair Review",description:"Submitted item has been sent to CDWG OC Chairs for review."},approved:{id:4,name:"Approved",description:"Submitted item is unconditionally approved."}},decisions:["request-revisions","approve-after-revisions","approve"]},T6={notifyScopeChange:!0,specificationUpload:!0,cspecSummary:!0,chairReview:!0},w6={scope:{id:1,name:"scope",long_name:"scope and membership application",is_versioned:!0,application_document:!0},draftSpecs:{id:2,name:"draft-specs",long_name:"draft specifications",is_versioned:!0,application_document:!0},finalSpecs:{id:3,name:"final-specs",long_name:"final specifications",is_versioned:!0,application_document:!0},pilotClass:{id:4,name:"pilot-class",long_name:"pilot classifications",is_versioned:!0,application_document:!0},finalApp:{id:5,name:"final-app",long_name:"final approved application",is_versioned:!0,application_document:!0},coi:{id:6,name:"coi",long_name:"Conflict of interest (legacy)",is_versioned:!0,application_document:!0},pilotAdditional:{id:7,name:"pilot-additional",long_name:"additional pilot",is_versioned:!0,application_document:!0},miscellaneous:{id:100,name:"miscellaneous",long_name:"miscellaneous",is_versioned:!1,application_document:!1}},an={expertPanels:m6,nextActions:g6,mailFrom:b6,groups:y6,system:_6,feedback:E6,submissions:v6,appFeatures:T6,documentsTypes:w6},x6=an.feedback,C6={name:"ComponentName",props:{},data(){return{showFaq:!1,faqMarkdown:null,errors:{}}},computed:{severities(){return x6.severities}},methods:{showTheFaq(){this.fetchFaq(),this.showFaq=!0},fetchFaq(){ee.get("/api/docs/faq").then(e=>this.faqMarkdown=e.data)}}},S6={key:0},A6={key:0};function k6(e,t,n,r,i,s){const o=Y("icon-question"),a=Y("faq-link"),l=Y("popover"),u=Y("markdown-block"),c=Y("modal-dialog");return e.$store.getters.isAuthed?(x(),P("div",S6,[U(l,{hover:"",arrow:"",placement:"left"},{content:W(()=>t[1]||(t[1]=[S("div",{class:"whitespace-no-wrap w-28 text-xs"}," Read the GPM FAQ ",-1)])),default:W(()=>[U(a,{class:"block custom-text text-white bg-blue-600 border border-blue-700 border-r-0 pl-3 pr-3 py-2 rounded-l-lg shadow-lg print:hidden"},{default:W(()=>[U(o)]),_:1})]),_:1}),(x(),pe(Er,{to:"body"},[U(c,{modelValue:i.showFaq,"onUpdate:modelValue":t[0]||(t[0]=d=>i.showFaq=d),title:"ClinGen GPM Frequently Asked Questions"},{default:W(()=>[i.faqMarkdown?Oe("",!0):(x(),P("div",A6," Loading FAQ... ")),U(u,{markdown:i.faqMarkdown,class:"faq"},null,8,["markdown"])]),_:1},8,["modelValue"])]))])):Oe("",!0)}const O6=ne(C6,[["render",k6]]),I6=Object.freeze(Object.defineProperty({__proto__:null,default:O6},Symbol.toStringTag,{value:"Module"}));var RS=typeof global=="object"&&global&&global.Object===Object&&global,N6=typeof self=="object"&&self&&self.Object===Object&&self,pi=RS||N6||Function("return this")(),Pi=pi.Symbol,DS=Object.prototype,R6=DS.hasOwnProperty,D6=DS.toString,zl=Pi?Pi.toStringTag:void 0;function M6(e){var t=R6.call(e,zl),n=e[zl];try{e[zl]=void 0;var r=!0}catch{}var i=D6.call(e);return r&&(t?e[zl]=n:delete e[zl]),i}var P6=Object.prototype,L6=P6.toString;function B6(e){return L6.call(e)}var $6="[object Null]",F6="[object Undefined]",$_=Pi?Pi.toStringTag:void 0;function Al(e){return e==null?e===void 0?F6:$6:$_&&$_ in Object(e)?M6(e):B6(e)}function so(e){return e!=null&&typeof e=="object"}var U6="[object Symbol]";function Tp(e){return typeof e=="symbol"||so(e)&&Al(e)==U6}function H6(e,t){for(var n=-1,r=e==null?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}var oo=Array.isArray,F_=Pi?Pi.prototype:void 0,U_=F_?F_.toString:void 0;function MS(e){if(typeof e=="string")return e;if(oo(e))return H6(e,MS)+"";if(Tp(e))return U_?U_.call(e):"";var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}var z6=/\s/;function V6(e){for(var t=e.length;t--&&z6.test(e.charAt(t)););return t}var j6=/^\s+/;function q6(e){return e&&e.slice(0,V6(e)+1).replace(j6,"")}function ii(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var H_=NaN,W6=/^[-+]0x[0-9a-f]+$/i,Y6=/^0b[01]+$/i,G6=/^0o[0-7]+$/i,K6=parseInt;function bg(e){if(typeof e=="number")return e;if(Tp(e))return H_;if(ii(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=ii(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=q6(e);var n=Y6.test(e);return n||G6.test(e)?K6(e.slice(2),n?2:8):W6.test(e)?H_:+e}var X6=1/0,Q6=17976931348623157e292;function Lh(e){if(!e)return e===0?e:0;if(e=bg(e),e===X6||e===-1/0){var t=e<0?-1:1;return t*Q6}return e===e?e:0}var J6="[object AsyncFunction]",Z6="[object Function]",e4="[object GeneratorFunction]",t4="[object Proxy]";function PS(e){if(!ii(e))return!1;var t=Al(e);return t==Z6||t==e4||t==J6||t==t4}var Bh=pi["__core-js_shared__"],z_=function(){var e=/[^.]+$/.exec(Bh&&Bh.keys&&Bh.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function n4(e){return!!z_&&z_ in e}var r4=Function.prototype,i4=r4.toString;function aa(e){if(e!=null){try{return i4.call(e)}catch{}try{return e+""}catch{}}return""}var s4=/[\\^$.*+?()[\]{}|]/g,o4=/^\[object .+?Constructor\]$/,a4=Function.prototype,l4=Object.prototype,u4=a4.toString,c4=l4.hasOwnProperty,d4=RegExp("^"+u4.call(c4).replace(s4,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function f4(e){if(!ii(e)||n4(e))return!1;var t=PS(e)?d4:o4;return t.test(aa(e))}function p4(e,t){return e==null?void 0:e[t]}function la(e,t){var n=p4(e,t);return f4(n)?n:void 0}var yg=la(pi,"WeakMap"),V_=Object.create,h4=function(){function e(){}return function(t){if(!ii(t))return{};if(V_)return V_(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();function m4(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}var j_=function(){try{var e=la(Object,"defineProperty");return e({},"",{}),e}catch{}}();function g4(e,t){for(var n=-1,r=e==null?0:e.length;++n<r&&t(e[n],n,e)!==!1;);return e}var b4=9007199254740991,y4=/^(?:0|[1-9]\d*)$/;function _b(e,t){var n=typeof e;return t=t??b4,!!t&&(n=="number"||n!="symbol"&&y4.test(e))&&e>-1&&e%1==0&&e<t}function LS(e,t,n){t=="__proto__"&&j_?j_(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function wp(e,t){return e===t||e!==e&&t!==t}var _4=Object.prototype,E4=_4.hasOwnProperty;function Eb(e,t,n){var r=e[t];(!(E4.call(e,t)&&wp(r,n))||n===void 0&&!(t in e))&&LS(e,t,n)}function xp(e,t,n,r){var i=!n;n||(n={});for(var s=-1,o=t.length;++s<o;){var a=t[s],l=void 0;l===void 0&&(l=e[a]),i?LS(n,a,l):Eb(n,a,l)}return n}var v4=9007199254740991;function BS(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=v4}function vb(e){return e!=null&&BS(e.length)&&!PS(e)}function T4(e,t,n){if(!ii(n))return!1;var r=typeof t;return(r=="number"?vb(n)&&_b(t,n.length):r=="string"&&t in n)?wp(n[t],e):!1}var w4=Object.prototype;function Tb(e){var t=e&&e.constructor,n=typeof t=="function"&&t.prototype||w4;return e===n}function x4(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}var C4="[object Arguments]";function q_(e){return so(e)&&Al(e)==C4}var $S=Object.prototype,S4=$S.hasOwnProperty,A4=$S.propertyIsEnumerable,k4=q_(function(){return arguments}())?q_:function(e){return so(e)&&S4.call(e,"callee")&&!A4.call(e,"callee")};function O4(){return!1}var FS=typeof exports=="object"&&exports&&!exports.nodeType&&exports,W_=FS&&typeof module=="object"&&module&&!module.nodeType&&module,I4=W_&&W_.exports===FS,Y_=I4?pi.Buffer:void 0,N4=Y_?Y_.isBuffer:void 0,wf=N4||O4,R4="[object Arguments]",D4="[object Array]",M4="[object Boolean]",P4="[object Date]",L4="[object Error]",B4="[object Function]",$4="[object Map]",F4="[object Number]",U4="[object Object]",H4="[object RegExp]",z4="[object Set]",V4="[object String]",j4="[object WeakMap]",q4="[object ArrayBuffer]",W4="[object DataView]",Y4="[object Float32Array]",G4="[object Float64Array]",K4="[object Int8Array]",X4="[object Int16Array]",Q4="[object Int32Array]",J4="[object Uint8Array]",Z4="[object Uint8ClampedArray]",eB="[object Uint16Array]",tB="[object Uint32Array]",Ot={};Ot[Y4]=Ot[G4]=Ot[K4]=Ot[X4]=Ot[Q4]=Ot[J4]=Ot[Z4]=Ot[eB]=Ot[tB]=!0;Ot[R4]=Ot[D4]=Ot[q4]=Ot[M4]=Ot[W4]=Ot[P4]=Ot[L4]=Ot[B4]=Ot[$4]=Ot[F4]=Ot[U4]=Ot[H4]=Ot[z4]=Ot[V4]=Ot[j4]=!1;function nB(e){return so(e)&&BS(e.length)&&!!Ot[Al(e)]}function wb(e){return function(t){return e(t)}}var US=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Tu=US&&typeof module=="object"&&module&&!module.nodeType&&module,rB=Tu&&Tu.exports===US,$h=rB&&RS.process,tl=function(){try{var e=Tu&&Tu.require&&Tu.require("util").types;return e||$h&&$h.binding&&$h.binding("util")}catch{}}(),G_=tl&&tl.isTypedArray,HS=G_?wb(G_):nB,iB=Object.prototype,sB=iB.hasOwnProperty;function zS(e,t){var n=oo(e),r=!n&&k4(e),i=!n&&!r&&wf(e),s=!n&&!r&&!i&&HS(e),o=n||r||i||s,a=o?x4(e.length,String):[],l=a.length;for(var u in e)(t||sB.call(e,u))&&!(o&&(u=="length"||i&&(u=="offset"||u=="parent")||s&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||_b(u,l)))&&a.push(u);return a}function VS(e,t){return function(n){return e(t(n))}}var oB=VS(Object.keys,Object),aB=Object.prototype,lB=aB.hasOwnProperty;function uB(e){if(!Tb(e))return oB(e);var t=[];for(var n in Object(e))lB.call(e,n)&&n!="constructor"&&t.push(n);return t}function xb(e){return vb(e)?zS(e):uB(e)}function cB(e){var t=[];if(e!=null)for(var n in Object(e))t.push(n);return t}var dB=Object.prototype,fB=dB.hasOwnProperty;function pB(e){if(!ii(e))return cB(e);var t=Tb(e),n=[];for(var r in e)r=="constructor"&&(t||!fB.call(e,r))||n.push(r);return n}function Cb(e){return vb(e)?zS(e,!0):pB(e)}var hB=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,mB=/^\w*$/;function gB(e,t){if(oo(e))return!1;var n=typeof e;return n=="number"||n=="symbol"||n=="boolean"||e==null||Tp(e)?!0:mB.test(e)||!hB.test(e)||t!=null&&e in Object(t)}var Zu=la(Object,"create");function bB(){this.__data__=Zu?Zu(null):{},this.size=0}function yB(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var _B="__lodash_hash_undefined__",EB=Object.prototype,vB=EB.hasOwnProperty;function TB(e){var t=this.__data__;if(Zu){var n=t[e];return n===_B?void 0:n}return vB.call(t,e)?t[e]:void 0}var wB=Object.prototype,xB=wB.hasOwnProperty;function CB(e){var t=this.__data__;return Zu?t[e]!==void 0:xB.call(t,e)}var SB="__lodash_hash_undefined__";function AB(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=Zu&&t===void 0?SB:t,this}function Qo(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Qo.prototype.clear=bB;Qo.prototype.delete=yB;Qo.prototype.get=TB;Qo.prototype.has=CB;Qo.prototype.set=AB;function kB(){this.__data__=[],this.size=0}function Cp(e,t){for(var n=e.length;n--;)if(wp(e[n][0],t))return n;return-1}var OB=Array.prototype,IB=OB.splice;function NB(e){var t=this.__data__,n=Cp(t,e);if(n<0)return!1;var r=t.length-1;return n==r?t.pop():IB.call(t,n,1),--this.size,!0}function RB(e){var t=this.__data__,n=Cp(t,e);return n<0?void 0:t[n][1]}function DB(e){return Cp(this.__data__,e)>-1}function MB(e,t){var n=this.__data__,r=Cp(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this}function _s(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}_s.prototype.clear=kB;_s.prototype.delete=NB;_s.prototype.get=RB;_s.prototype.has=DB;_s.prototype.set=MB;var ec=la(pi,"Map");function PB(){this.size=0,this.__data__={hash:new Qo,map:new(ec||_s),string:new Qo}}function LB(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}function Sp(e,t){var n=e.__data__;return LB(t)?n[typeof t=="string"?"string":"hash"]:n.map}function BB(e){var t=Sp(this,e).delete(e);return this.size-=t?1:0,t}function $B(e){return Sp(this,e).get(e)}function FB(e){return Sp(this,e).has(e)}function UB(e,t){var n=Sp(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this}function Es(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Es.prototype.clear=PB;Es.prototype.delete=BB;Es.prototype.get=$B;Es.prototype.has=FB;Es.prototype.set=UB;var HB="Expected a function";function Sb(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(HB);var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],s=n.cache;if(s.has(i))return s.get(i);var o=e.apply(this,r);return n.cache=s.set(i,o)||s,o};return n.cache=new(Sb.Cache||Es),n}Sb.Cache=Es;var zB=500;function VB(e){var t=Sb(e,function(r){return n.size===zB&&n.clear(),r}),n=t.cache;return t}var jB=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,qB=/\\(\\)?/g,WB=VB(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(jB,function(n,r,i,s){t.push(i?s.replace(qB,"$1"):r||n)}),t});function YB(e){return e==null?"":MS(e)}function jS(e,t){return oo(e)?e:gB(e,t)?[e]:WB(YB(e))}function qS(e){if(typeof e=="string"||Tp(e))return e;var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}function GB(e,t){t=jS(t,e);for(var n=0,r=t.length;e!=null&&n<r;)e=e[qS(t[n++])];return n&&n==r?e:void 0}function K_(e,t,n){var r=e==null?void 0:GB(e,t);return r===void 0?n:r}function WS(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}var YS=VS(Object.getPrototypeOf,Object);function KB(){this.__data__=new _s,this.size=0}function XB(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}function QB(e){return this.__data__.get(e)}function JB(e){return this.__data__.has(e)}var ZB=200;function e8(e,t){var n=this.__data__;if(n instanceof _s){var r=n.__data__;if(!ec||r.length<ZB-1)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new Es(r)}return n.set(e,t),this.size=n.size,this}function us(e){var t=this.__data__=new _s(e);this.size=t.size}us.prototype.clear=KB;us.prototype.delete=XB;us.prototype.get=QB;us.prototype.has=JB;us.prototype.set=e8;function t8(e,t){return e&&xp(t,xb(t),e)}function n8(e,t){return e&&xp(t,Cb(t),e)}var GS=typeof exports=="object"&&exports&&!exports.nodeType&&exports,X_=GS&&typeof module=="object"&&module&&!module.nodeType&&module,r8=X_&&X_.exports===GS,Q_=r8?pi.Buffer:void 0,J_=Q_?Q_.allocUnsafe:void 0;function i8(e,t){if(t)return e.slice();var n=e.length,r=J_?J_(n):new e.constructor(n);return e.copy(r),r}function s8(e,t){for(var n=-1,r=e==null?0:e.length,i=0,s=[];++n<r;){var o=e[n];t(o,n,e)&&(s[i++]=o)}return s}function KS(){return[]}var o8=Object.prototype,a8=o8.propertyIsEnumerable,Z_=Object.getOwnPropertySymbols,Ab=Z_?function(e){return e==null?[]:(e=Object(e),s8(Z_(e),function(t){return a8.call(e,t)}))}:KS;function l8(e,t){return xp(e,Ab(e),t)}var u8=Object.getOwnPropertySymbols,XS=u8?function(e){for(var t=[];e;)WS(t,Ab(e)),e=YS(e);return t}:KS;function c8(e,t){return xp(e,XS(e),t)}function QS(e,t,n){var r=t(e);return oo(e)?r:WS(r,n(e))}function _g(e){return QS(e,xb,Ab)}function d8(e){return QS(e,Cb,XS)}var Eg=la(pi,"DataView"),vg=la(pi,"Promise"),Tg=la(pi,"Set"),eE="[object Map]",f8="[object Object]",tE="[object Promise]",nE="[object Set]",rE="[object WeakMap]",iE="[object DataView]",p8=aa(Eg),h8=aa(ec),m8=aa(vg),g8=aa(Tg),b8=aa(yg),Jr=Al;(Eg&&Jr(new Eg(new ArrayBuffer(1)))!=iE||ec&&Jr(new ec)!=eE||vg&&Jr(vg.resolve())!=tE||Tg&&Jr(new Tg)!=nE||yg&&Jr(new yg)!=rE)&&(Jr=function(e){var t=Al(e),n=t==f8?e.constructor:void 0,r=n?aa(n):"";if(r)switch(r){case p8:return iE;case h8:return eE;case m8:return tE;case g8:return nE;case b8:return rE}return t});var y8=Object.prototype,_8=y8.hasOwnProperty;function E8(e){var t=e.length,n=new e.constructor(t);return t&&typeof e[0]=="string"&&_8.call(e,"index")&&(n.index=e.index,n.input=e.input),n}var xf=pi.Uint8Array;function kb(e){var t=new e.constructor(e.byteLength);return new xf(t).set(new xf(e)),t}function v8(e,t){var n=t?kb(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}var T8=/\w*$/;function w8(e){var t=new e.constructor(e.source,T8.exec(e));return t.lastIndex=e.lastIndex,t}var sE=Pi?Pi.prototype:void 0,oE=sE?sE.valueOf:void 0;function x8(e){return oE?Object(oE.call(e)):{}}function C8(e,t){var n=t?kb(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}var S8="[object Boolean]",A8="[object Date]",k8="[object Map]",O8="[object Number]",I8="[object RegExp]",N8="[object Set]",R8="[object String]",D8="[object Symbol]",M8="[object ArrayBuffer]",P8="[object DataView]",L8="[object Float32Array]",B8="[object Float64Array]",$8="[object Int8Array]",F8="[object Int16Array]",U8="[object Int32Array]",H8="[object Uint8Array]",z8="[object Uint8ClampedArray]",V8="[object Uint16Array]",j8="[object Uint32Array]";function q8(e,t,n){var r=e.constructor;switch(t){case M8:return kb(e);case S8:case A8:return new r(+e);case P8:return v8(e,n);case L8:case B8:case $8:case F8:case U8:case H8:case z8:case V8:case j8:return C8(e,n);case k8:return new r;case O8:case R8:return new r(e);case I8:return w8(e);case N8:return new r;case D8:return x8(e)}}function W8(e){return typeof e.constructor=="function"&&!Tb(e)?h4(YS(e)):{}}var Y8="[object Map]";function G8(e){return so(e)&&Jr(e)==Y8}var aE=tl&&tl.isMap,K8=aE?wb(aE):G8,X8="[object Set]";function Q8(e){return so(e)&&Jr(e)==X8}var lE=tl&&tl.isSet,J8=lE?wb(lE):Q8,Z8=1,e$=2,t$=4,JS="[object Arguments]",n$="[object Array]",r$="[object Boolean]",i$="[object Date]",s$="[object Error]",ZS="[object Function]",o$="[object GeneratorFunction]",a$="[object Map]",l$="[object Number]",eA="[object Object]",u$="[object RegExp]",c$="[object Set]",d$="[object String]",f$="[object Symbol]",p$="[object WeakMap]",h$="[object ArrayBuffer]",m$="[object DataView]",g$="[object Float32Array]",b$="[object Float64Array]",y$="[object Int8Array]",_$="[object Int16Array]",E$="[object Int32Array]",v$="[object Uint8Array]",T$="[object Uint8ClampedArray]",w$="[object Uint16Array]",x$="[object Uint32Array]",Tt={};Tt[JS]=Tt[n$]=Tt[h$]=Tt[m$]=Tt[r$]=Tt[i$]=Tt[g$]=Tt[b$]=Tt[y$]=Tt[_$]=Tt[E$]=Tt[a$]=Tt[l$]=Tt[eA]=Tt[u$]=Tt[c$]=Tt[d$]=Tt[f$]=Tt[v$]=Tt[T$]=Tt[w$]=Tt[x$]=!0;Tt[s$]=Tt[ZS]=Tt[p$]=!1;function wu(e,t,n,r,i,s){var o,a=t&Z8,l=t&e$,u=t&t$;if(o!==void 0)return o;if(!ii(e))return e;var c=oo(e);if(c){if(o=E8(e),!a)return m4(e,o)}else{var d=Jr(e),f=d==ZS||d==o$;if(wf(e))return i8(e,a);if(d==eA||d==JS||f&&!i){if(o=l||f?{}:W8(e),!a)return l?c8(e,n8(o,e)):l8(e,t8(o,e))}else{if(!Tt[d])return i?e:{};o=q8(e,d,a)}}s||(s=new us);var p=s.get(e);if(p)return p;s.set(e,o),J8(e)?e.forEach(function(b){o.add(wu(b,t,n,b,e,s))}):K8(e)&&e.forEach(function(b,y){o.set(y,wu(b,t,n,y,e,s))});var m=u?l?d8:_g:l?Cb:xb,g=c?void 0:m(e);return g4(g||e,function(b,y){g&&(y=b,b=e[y]),Eb(o,y,wu(b,t,n,y,e,s))}),o}var C$=4;function S$(e){return wu(e,C$)}var A$=1,k$=4;function wg(e){return wu(e,A$|k$)}var O$="__lodash_hash_undefined__";function I$(e){return this.__data__.set(e,O$),this}function N$(e){return this.__data__.has(e)}function Cf(e){var t=-1,n=e==null?0:e.length;for(this.__data__=new Es;++t<n;)this.add(e[t])}Cf.prototype.add=Cf.prototype.push=I$;Cf.prototype.has=N$;function R$(e,t){for(var n=-1,r=e==null?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}function D$(e,t){return e.has(t)}var M$=1,P$=2;function tA(e,t,n,r,i,s){var o=n&M$,a=e.length,l=t.length;if(a!=l&&!(o&&l>a))return!1;var u=s.get(e),c=s.get(t);if(u&&c)return u==t&&c==e;var d=-1,f=!0,p=n&P$?new Cf:void 0;for(s.set(e,t),s.set(t,e);++d<a;){var m=e[d],g=t[d];if(r)var b=o?r(g,m,d,t,e,s):r(m,g,d,e,t,s);if(b!==void 0){if(b)continue;f=!1;break}if(p){if(!R$(t,function(y,E){if(!D$(p,E)&&(m===y||i(m,y,n,r,s)))return p.push(E)})){f=!1;break}}else if(!(m===g||i(m,g,n,r,s))){f=!1;break}}return s.delete(e),s.delete(t),f}function L$(e){var t=-1,n=Array(e.size);return e.forEach(function(r,i){n[++t]=[i,r]}),n}function B$(e){var t=-1,n=Array(e.size);return e.forEach(function(r){n[++t]=r}),n}var $$=1,F$=2,U$="[object Boolean]",H$="[object Date]",z$="[object Error]",V$="[object Map]",j$="[object Number]",q$="[object RegExp]",W$="[object Set]",Y$="[object String]",G$="[object Symbol]",K$="[object ArrayBuffer]",X$="[object DataView]",uE=Pi?Pi.prototype:void 0,Fh=uE?uE.valueOf:void 0;function Q$(e,t,n,r,i,s,o){switch(n){case X$:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case K$:return!(e.byteLength!=t.byteLength||!s(new xf(e),new xf(t)));case U$:case H$:case j$:return wp(+e,+t);case z$:return e.name==t.name&&e.message==t.message;case q$:case Y$:return e==t+"";case V$:var a=L$;case W$:var l=r&$$;if(a||(a=B$),e.size!=t.size&&!l)return!1;var u=o.get(e);if(u)return u==t;r|=F$,o.set(e,t);var c=tA(a(e),a(t),r,i,s,o);return o.delete(e),c;case G$:if(Fh)return Fh.call(e)==Fh.call(t)}return!1}var J$=1,Z$=Object.prototype,eF=Z$.hasOwnProperty;function tF(e,t,n,r,i,s){var o=n&J$,a=_g(e),l=a.length,u=_g(t),c=u.length;if(l!=c&&!o)return!1;for(var d=l;d--;){var f=a[d];if(!(o?f in t:eF.call(t,f)))return!1}var p=s.get(e),m=s.get(t);if(p&&m)return p==t&&m==e;var g=!0;s.set(e,t),s.set(t,e);for(var b=o;++d<l;){f=a[d];var y=e[f],E=t[f];if(r)var T=o?r(E,y,f,t,e,s):r(y,E,f,e,t,s);if(!(T===void 0?y===E||i(y,E,n,r,s):T)){g=!1;break}b||(b=f=="constructor")}if(g&&!b){var C=e.constructor,D=t.constructor;C!=D&&"constructor"in e&&"constructor"in t&&!(typeof C=="function"&&C instanceof C&&typeof D=="function"&&D instanceof D)&&(g=!1)}return s.delete(e),s.delete(t),g}var nF=1,cE="[object Arguments]",dE="[object Array]",ld="[object Object]",rF=Object.prototype,fE=rF.hasOwnProperty;function iF(e,t,n,r,i,s){var o=oo(e),a=oo(t),l=o?dE:Jr(e),u=a?dE:Jr(t);l=l==cE?ld:l,u=u==cE?ld:u;var c=l==ld,d=u==ld,f=l==u;if(f&&wf(e)){if(!wf(t))return!1;o=!0,c=!1}if(f&&!c)return s||(s=new us),o||HS(e)?tA(e,t,n,r,i,s):Q$(e,t,l,n,r,i,s);if(!(n&nF)){var p=c&&fE.call(e,"__wrapped__"),m=d&&fE.call(t,"__wrapped__");if(p||m){var g=p?e.value():e,b=m?t.value():t;return s||(s=new us),i(g,b,n,r,s)}}return f?(s||(s=new us),tF(e,t,n,r,i,s)):!1}function nA(e,t,n,r,i){return e===t?!0:e==null||t==null||!so(e)&&!so(t)?e!==e&&t!==t:iF(e,t,n,r,nA,i)}var Uh=function(){return pi.Date.now()},sF="Expected a function",oF=Math.max,aF=Math.min;function rA(e,t,n){var r,i,s,o,a,l,u=0,c=!1,d=!1,f=!0;if(typeof e!="function")throw new TypeError(sF);t=bg(t)||0,ii(n)&&(c=!!n.leading,d="maxWait"in n,s=d?oF(bg(n.maxWait)||0,t):s,f="trailing"in n?!!n.trailing:f);function p(_){var M=r,G=i;return r=i=void 0,u=_,o=e.apply(G,M),o}function m(_){return u=_,a=setTimeout(y,t),c?p(_):o}function g(_){var M=_-l,G=_-u,B=t-M;return d?aF(B,s-G):B}function b(_){var M=_-l,G=_-u;return l===void 0||M>=t||M<0||d&&G>=s}function y(){var _=Uh();if(b(_))return E(_);a=setTimeout(y,g(_))}function E(_){return a=void 0,f&&r?p(_):(r=i=void 0,o)}function T(){a!==void 0&&clearTimeout(a),u=0,r=l=i=a=void 0}function C(){return a===void 0?o:E(Uh())}function D(){var _=Uh(),M=b(_);if(r=arguments,i=this,l=_,M){if(a===void 0)return m(l);if(d)return clearTimeout(a),a=setTimeout(y,t),p(l)}return a===void 0&&(a=setTimeout(y,t)),o}return D.cancel=T,D.flush=C,D}function Sf(e,t){return nA(e,t)}function lF(e,t,n,r){if(!ii(e))return e;t=jS(t,e);for(var i=-1,s=t.length,o=s-1,a=e;a!=null&&++i<s;){var l=qS(t[i]),u=n;if(l==="__proto__"||l==="constructor"||l==="prototype")return e;if(i!=o){var c=a[l];u=void 0,u===void 0&&(u=ii(c)?c:_b(t[i+1])?[]:{})}Eb(a,l,u),a=a[l]}return e}var uF=Math.ceil,cF=Math.max;function dF(e,t,n,r){for(var i=-1,s=cF(uF((t-e)/(n||1)),0),o=Array(s);s--;)o[++i]=e,e+=n;return o}function fF(e){return function(t,n,r){return r&&typeof r!="number"&&T4(t,n,r)&&(n=r=void 0),t=Lh(t),n===void 0?(n=t,t=0):n=Lh(n),r=r===void 0?t<n?1:-1:Lh(r),dF(t,n,r)}}var pF=fF();function hF(e,t,n){return e==null?e:lF(e,t,n)}/*!
 * Cropper.js v1.6.2
 * https://fengyuanchen.github.io/cropperjs
 *
 * Copyright 2015-present Chen Fengyuan
 * Released under the MIT license
 *
 * Date: 2024-04-21T07:43:05.335Z
 */function pE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function iA(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?pE(Object(n),!0).forEach(function(r){yF(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pE(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function mF(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function sA(e){var t=mF(e,"string");return typeof t=="symbol"?t:t+""}function xg(e){"@babel/helpers - typeof";return xg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xg(e)}function gF(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function hE(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,sA(r.key),r)}}function bF(e,t,n){return t&&hE(e.prototype,t),n&&hE(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function yF(e,t,n){return t=sA(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function oA(e){return _F(e)||EF(e)||vF(e)||TF()}function _F(e){if(Array.isArray(e))return Cg(e)}function EF(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function vF(e,t){if(e){if(typeof e=="string")return Cg(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Cg(e,t)}}function Cg(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function TF(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Ap=typeof window<"u"&&typeof window.document<"u",Li=Ap?window:{},Ob=Ap&&Li.document.documentElement?"ontouchstart"in Li.document.documentElement:!1,Ib=Ap?"PointerEvent"in Li:!1,Dt="cropper",Nb="all",aA="crop",lA="move",uA="zoom",So="e",Ao="w",ya="s",xs="n",Vl="ne",jl="nw",ql="se",Wl="sw",Sg="".concat(Dt,"-crop"),mE="".concat(Dt,"-disabled"),Jn="".concat(Dt,"-hidden"),gE="".concat(Dt,"-hide"),wF="".concat(Dt,"-invisible"),Af="".concat(Dt,"-modal"),Ag="".concat(Dt,"-move"),tc="".concat(Dt,"Action"),ud="".concat(Dt,"Preview"),Rb="crop",cA="move",dA="none",kg="crop",Og="cropend",Ig="cropmove",Ng="cropstart",bE="dblclick",xF=Ob?"touchstart":"mousedown",CF=Ob?"touchmove":"mousemove",SF=Ob?"touchend touchcancel":"mouseup",yE=Ib?"pointerdown":xF,_E=Ib?"pointermove":CF,EE=Ib?"pointerup pointercancel":SF,vE="ready",TE="resize",wE="wheel",Rg="zoom",xE="image/jpeg",AF=/^e|w|s|n|se|sw|ne|nw|all|crop|move|zoom$/,kF=/^data:/,OF=/^data:image\/jpeg;base64,/,IF=/^img|canvas$/i,fA=200,pA=100,CE={viewMode:0,dragMode:Rb,initialAspectRatio:NaN,aspectRatio:NaN,data:null,preview:"",responsive:!0,restore:!0,checkCrossOrigin:!0,checkOrientation:!0,modal:!0,guides:!0,center:!0,highlight:!0,background:!0,autoCrop:!0,autoCropArea:.8,movable:!0,rotatable:!0,scalable:!0,zoomable:!0,zoomOnTouch:!0,zoomOnWheel:!0,wheelZoomRatio:.1,cropBoxMovable:!0,cropBoxResizable:!0,toggleDragModeOnDblclick:!0,minCanvasWidth:0,minCanvasHeight:0,minCropBoxWidth:0,minCropBoxHeight:0,minContainerWidth:fA,minContainerHeight:pA,ready:null,cropstart:null,cropmove:null,cropend:null,crop:null,zoom:null},NF='<div class="cropper-container" touch-action="none"><div class="cropper-wrap-box"><div class="cropper-canvas"></div></div><div class="cropper-drag-box"></div><div class="cropper-crop-box"><span class="cropper-view-box"></span><span class="cropper-dashed dashed-h"></span><span class="cropper-dashed dashed-v"></span><span class="cropper-center"></span><span class="cropper-face"></span><span class="cropper-line line-e" data-cropper-action="e"></span><span class="cropper-line line-n" data-cropper-action="n"></span><span class="cropper-line line-w" data-cropper-action="w"></span><span class="cropper-line line-s" data-cropper-action="s"></span><span class="cropper-point point-e" data-cropper-action="e"></span><span class="cropper-point point-n" data-cropper-action="n"></span><span class="cropper-point point-w" data-cropper-action="w"></span><span class="cropper-point point-s" data-cropper-action="s"></span><span class="cropper-point point-ne" data-cropper-action="ne"></span><span class="cropper-point point-nw" data-cropper-action="nw"></span><span class="cropper-point point-sw" data-cropper-action="sw"></span><span class="cropper-point point-se" data-cropper-action="se"></span></div></div>',RF=Number.isNaN||Li.isNaN;function rt(e){return typeof e=="number"&&!RF(e)}var SE=function(t){return t>0&&t<1/0};function Hh(e){return typeof e>"u"}function Jo(e){return xg(e)==="object"&&e!==null}var DF=Object.prototype.hasOwnProperty;function Ra(e){if(!Jo(e))return!1;try{var t=e.constructor,n=t.prototype;return t&&n&&DF.call(n,"isPrototypeOf")}catch{return!1}}function Qn(e){return typeof e=="function"}var MF=Array.prototype.slice;function hA(e){return Array.from?Array.from(e):MF.call(e)}function qt(e,t){return e&&Qn(t)&&(Array.isArray(e)||rt(e.length)?hA(e).forEach(function(n,r){t.call(e,n,r,e)}):Jo(e)&&Object.keys(e).forEach(function(n){t.call(e,e[n],n,e)})),e}var Mt=Object.assign||function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return Jo(t)&&r.length>0&&r.forEach(function(s){Jo(s)&&Object.keys(s).forEach(function(o){t[o]=s[o]})}),t},PF=/\.\d*(?:0|9){12}\d*$/;function Ha(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1e11;return PF.test(e)?Math.round(e*t)/t:e}var LF=/^width|height|left|top|marginLeft|marginTop$/;function js(e,t){var n=e.style;qt(t,function(r,i){LF.test(i)&&rt(r)&&(r="".concat(r,"px")),n[i]=r})}function BF(e,t){return e.classList?e.classList.contains(t):e.className.indexOf(t)>-1}function on(e,t){if(t){if(rt(e.length)){qt(e,function(r){on(r,t)});return}if(e.classList){e.classList.add(t);return}var n=e.className.trim();n?n.indexOf(t)<0&&(e.className="".concat(n," ").concat(t)):e.className=t}}function Ri(e,t){if(t){if(rt(e.length)){qt(e,function(n){Ri(n,t)});return}if(e.classList){e.classList.remove(t);return}e.className.indexOf(t)>=0&&(e.className=e.className.replace(t,""))}}function Da(e,t,n){if(t){if(rt(e.length)){qt(e,function(r){Da(r,t,n)});return}n?on(e,t):Ri(e,t)}}var $F=/([a-z\d])([A-Z])/g;function Db(e){return e.replace($F,"$1-$2").toLowerCase()}function Dg(e,t){return Jo(e[t])?e[t]:e.dataset?e.dataset[t]:e.getAttribute("data-".concat(Db(t)))}function nc(e,t,n){Jo(n)?e[t]=n:e.dataset?e.dataset[t]=n:e.setAttribute("data-".concat(Db(t)),n)}function FF(e,t){if(Jo(e[t]))try{delete e[t]}catch{e[t]=void 0}else if(e.dataset)try{delete e.dataset[t]}catch{e.dataset[t]=void 0}else e.removeAttribute("data-".concat(Db(t)))}var mA=/\s\s*/,gA=function(){var e=!1;if(Ap){var t=!1,n=function(){},r=Object.defineProperty({},"once",{get:function(){return e=!0,t},set:function(s){t=s}});Li.addEventListener("test",n,r),Li.removeEventListener("test",n,r)}return e}();function Kr(e,t,n){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},i=n;t.trim().split(mA).forEach(function(s){if(!gA){var o=e.listeners;o&&o[s]&&o[s][n]&&(i=o[s][n],delete o[s][n],Object.keys(o[s]).length===0&&delete o[s],Object.keys(o).length===0&&delete e.listeners)}e.removeEventListener(s,i,r)})}function Sr(e,t,n){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},i=n;t.trim().split(mA).forEach(function(s){if(r.once&&!gA){var o=e.listeners,a=o===void 0?{}:o;i=function(){delete a[s][n],e.removeEventListener(s,i,r);for(var u=arguments.length,c=new Array(u),d=0;d<u;d++)c[d]=arguments[d];n.apply(e,c)},a[s]||(a[s]={}),a[s][n]&&e.removeEventListener(s,a[s][n],r),a[s][n]=i,e.listeners=a}e.addEventListener(s,i,r)})}function za(e,t,n){var r;return Qn(Event)&&Qn(CustomEvent)?r=new CustomEvent(t,{detail:n,bubbles:!0,cancelable:!0}):(r=document.createEvent("CustomEvent"),r.initCustomEvent(t,!0,!0,n)),e.dispatchEvent(r)}function bA(e){var t=e.getBoundingClientRect();return{left:t.left+(window.pageXOffset-document.documentElement.clientLeft),top:t.top+(window.pageYOffset-document.documentElement.clientTop)}}var zh=Li.location,UF=/^(\w+:)\/\/([^:/?#]*):?(\d*)/i;function AE(e){var t=e.match(UF);return t!==null&&(t[1]!==zh.protocol||t[2]!==zh.hostname||t[3]!==zh.port)}function kE(e){var t="timestamp=".concat(new Date().getTime());return e+(e.indexOf("?")===-1?"?":"&")+t}function xu(e){var t=e.rotate,n=e.scaleX,r=e.scaleY,i=e.translateX,s=e.translateY,o=[];rt(i)&&i!==0&&o.push("translateX(".concat(i,"px)")),rt(s)&&s!==0&&o.push("translateY(".concat(s,"px)")),rt(t)&&t!==0&&o.push("rotate(".concat(t,"deg)")),rt(n)&&n!==1&&o.push("scaleX(".concat(n,")")),rt(r)&&r!==1&&o.push("scaleY(".concat(r,")"));var a=o.length?o.join(" "):"none";return{WebkitTransform:a,msTransform:a,transform:a}}function HF(e){var t=iA({},e),n=0;return qt(e,function(r,i){delete t[i],qt(t,function(s){var o=Math.abs(r.startX-s.startX),a=Math.abs(r.startY-s.startY),l=Math.abs(r.endX-s.endX),u=Math.abs(r.endY-s.endY),c=Math.sqrt(o*o+a*a),d=Math.sqrt(l*l+u*u),f=(d-c)/c;Math.abs(f)>Math.abs(n)&&(n=f)})}),n}function cd(e,t){var n=e.pageX,r=e.pageY,i={endX:n,endY:r};return t?i:iA({startX:n,startY:r},i)}function zF(e){var t=0,n=0,r=0;return qt(e,function(i){var s=i.startX,o=i.startY;t+=s,n+=o,r+=1}),t/=r,n/=r,{pageX:t,pageY:n}}function qs(e){var t=e.aspectRatio,n=e.height,r=e.width,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"contain",s=SE(r),o=SE(n);if(s&&o){var a=n*t;i==="contain"&&a>r||i==="cover"&&a<r?n=r/t:r=n*t}else s?n=r/t:o&&(r=n*t);return{width:r,height:n}}function VF(e){var t=e.width,n=e.height,r=e.degree;if(r=Math.abs(r)%180,r===90)return{width:n,height:t};var i=r%90*Math.PI/180,s=Math.sin(i),o=Math.cos(i),a=t*o+n*s,l=t*s+n*o;return r>90?{width:l,height:a}:{width:a,height:l}}function jF(e,t,n,r){var i=t.aspectRatio,s=t.naturalWidth,o=t.naturalHeight,a=t.rotate,l=a===void 0?0:a,u=t.scaleX,c=u===void 0?1:u,d=t.scaleY,f=d===void 0?1:d,p=n.aspectRatio,m=n.naturalWidth,g=n.naturalHeight,b=r.fillColor,y=b===void 0?"transparent":b,E=r.imageSmoothingEnabled,T=E===void 0?!0:E,C=r.imageSmoothingQuality,D=C===void 0?"low":C,_=r.maxWidth,M=_===void 0?1/0:_,G=r.maxHeight,B=G===void 0?1/0:G,K=r.minWidth,V=K===void 0?0:K,H=r.minHeight,te=H===void 0?0:H,Ee=document.createElement("canvas"),me=Ee.getContext("2d"),xe=qs({aspectRatio:p,width:M,height:B}),Ce=qs({aspectRatio:p,width:V,height:te},"cover"),ve=Math.min(xe.width,Math.max(Ce.width,m)),$e=Math.min(xe.height,Math.max(Ce.height,g)),k=qs({aspectRatio:i,width:M,height:B}),tt=qs({aspectRatio:i,width:V,height:te},"cover"),Qe=Math.min(k.width,Math.max(tt.width,s)),I=Math.min(k.height,Math.max(tt.height,o)),lt=[-Qe/2,-I/2,Qe,I];return Ee.width=Ha(ve),Ee.height=Ha($e),me.fillStyle=y,me.fillRect(0,0,ve,$e),me.save(),me.translate(ve/2,$e/2),me.rotate(l*Math.PI/180),me.scale(c,f),me.imageSmoothingEnabled=T,me.imageSmoothingQuality=D,me.drawImage.apply(me,[e].concat(oA(lt.map(function(qe){return Math.floor(Ha(qe))})))),me.restore(),Ee}var yA=String.fromCharCode;function qF(e,t,n){var r="";n+=t;for(var i=t;i<n;i+=1)r+=yA(e.getUint8(i));return r}var WF=/^data:.*,/;function YF(e){var t=e.replace(WF,""),n=atob(t),r=new ArrayBuffer(n.length),i=new Uint8Array(r);return qt(i,function(s,o){i[o]=n.charCodeAt(o)}),r}function GF(e,t){for(var n=[],r=8192,i=new Uint8Array(e);i.length>0;)n.push(yA.apply(null,hA(i.subarray(0,r)))),i=i.subarray(r);return"data:".concat(t,";base64,").concat(btoa(n.join("")))}function KF(e){var t=new DataView(e),n;try{var r,i,s;if(t.getUint8(0)===255&&t.getUint8(1)===216)for(var o=t.byteLength,a=2;a+1<o;){if(t.getUint8(a)===255&&t.getUint8(a+1)===225){i=a;break}a+=1}if(i){var l=i+4,u=i+10;if(qF(t,l,4)==="Exif"){var c=t.getUint16(u);if(r=c===18761,(r||c===19789)&&t.getUint16(u+2,r)===42){var d=t.getUint32(u+4,r);d>=8&&(s=u+d)}}}if(s){var f=t.getUint16(s,r),p,m;for(m=0;m<f;m+=1)if(p=s+m*12+2,t.getUint16(p,r)===274){p+=8,n=t.getUint16(p,r),t.setUint16(p,1,r);break}}}catch{n=1}return n}function XF(e){var t=0,n=1,r=1;switch(e){case 2:n=-1;break;case 3:t=-180;break;case 4:r=-1;break;case 5:t=90,r=-1;break;case 6:t=90;break;case 7:t=90,n=-1;break;case 8:t=-90;break}return{rotate:t,scaleX:n,scaleY:r}}var QF={render:function(){this.initContainer(),this.initCanvas(),this.initCropBox(),this.renderCanvas(),this.cropped&&this.renderCropBox()},initContainer:function(){var t=this.element,n=this.options,r=this.container,i=this.cropper,s=Number(n.minContainerWidth),o=Number(n.minContainerHeight);on(i,Jn),Ri(t,Jn);var a={width:Math.max(r.offsetWidth,s>=0?s:fA),height:Math.max(r.offsetHeight,o>=0?o:pA)};this.containerData=a,js(i,{width:a.width,height:a.height}),on(t,Jn),Ri(i,Jn)},initCanvas:function(){var t=this.containerData,n=this.imageData,r=this.options.viewMode,i=Math.abs(n.rotate)%180===90,s=i?n.naturalHeight:n.naturalWidth,o=i?n.naturalWidth:n.naturalHeight,a=s/o,l=t.width,u=t.height;t.height*a>t.width?r===3?l=t.height*a:u=t.width/a:r===3?u=t.width/a:l=t.height*a;var c={aspectRatio:a,naturalWidth:s,naturalHeight:o,width:l,height:u};this.canvasData=c,this.limited=r===1||r===2,this.limitCanvas(!0,!0),c.width=Math.min(Math.max(c.width,c.minWidth),c.maxWidth),c.height=Math.min(Math.max(c.height,c.minHeight),c.maxHeight),c.left=(t.width-c.width)/2,c.top=(t.height-c.height)/2,c.oldLeft=c.left,c.oldTop=c.top,this.initialCanvasData=Mt({},c)},limitCanvas:function(t,n){var r=this.options,i=this.containerData,s=this.canvasData,o=this.cropBoxData,a=r.viewMode,l=s.aspectRatio,u=this.cropped&&o;if(t){var c=Number(r.minCanvasWidth)||0,d=Number(r.minCanvasHeight)||0;a>1?(c=Math.max(c,i.width),d=Math.max(d,i.height),a===3&&(d*l>c?c=d*l:d=c/l)):a>0&&(c?c=Math.max(c,u?o.width:0):d?d=Math.max(d,u?o.height:0):u&&(c=o.width,d=o.height,d*l>c?c=d*l:d=c/l));var f=qs({aspectRatio:l,width:c,height:d});c=f.width,d=f.height,s.minWidth=c,s.minHeight=d,s.maxWidth=1/0,s.maxHeight=1/0}if(n)if(a>(u?0:1)){var p=i.width-s.width,m=i.height-s.height;s.minLeft=Math.min(0,p),s.minTop=Math.min(0,m),s.maxLeft=Math.max(0,p),s.maxTop=Math.max(0,m),u&&this.limited&&(s.minLeft=Math.min(o.left,o.left+(o.width-s.width)),s.minTop=Math.min(o.top,o.top+(o.height-s.height)),s.maxLeft=o.left,s.maxTop=o.top,a===2&&(s.width>=i.width&&(s.minLeft=Math.min(0,p),s.maxLeft=Math.max(0,p)),s.height>=i.height&&(s.minTop=Math.min(0,m),s.maxTop=Math.max(0,m))))}else s.minLeft=-s.width,s.minTop=-s.height,s.maxLeft=i.width,s.maxTop=i.height},renderCanvas:function(t,n){var r=this.canvasData,i=this.imageData;if(n){var s=VF({width:i.naturalWidth*Math.abs(i.scaleX||1),height:i.naturalHeight*Math.abs(i.scaleY||1),degree:i.rotate||0}),o=s.width,a=s.height,l=r.width*(o/r.naturalWidth),u=r.height*(a/r.naturalHeight);r.left-=(l-r.width)/2,r.top-=(u-r.height)/2,r.width=l,r.height=u,r.aspectRatio=o/a,r.naturalWidth=o,r.naturalHeight=a,this.limitCanvas(!0,!1)}(r.width>r.maxWidth||r.width<r.minWidth)&&(r.left=r.oldLeft),(r.height>r.maxHeight||r.height<r.minHeight)&&(r.top=r.oldTop),r.width=Math.min(Math.max(r.width,r.minWidth),r.maxWidth),r.height=Math.min(Math.max(r.height,r.minHeight),r.maxHeight),this.limitCanvas(!1,!0),r.left=Math.min(Math.max(r.left,r.minLeft),r.maxLeft),r.top=Math.min(Math.max(r.top,r.minTop),r.maxTop),r.oldLeft=r.left,r.oldTop=r.top,js(this.canvas,Mt({width:r.width,height:r.height},xu({translateX:r.left,translateY:r.top}))),this.renderImage(t),this.cropped&&this.limited&&this.limitCropBox(!0,!0)},renderImage:function(t){var n=this.canvasData,r=this.imageData,i=r.naturalWidth*(n.width/n.naturalWidth),s=r.naturalHeight*(n.height/n.naturalHeight);Mt(r,{width:i,height:s,left:(n.width-i)/2,top:(n.height-s)/2}),js(this.image,Mt({width:r.width,height:r.height},xu(Mt({translateX:r.left,translateY:r.top},r)))),t&&this.output()},initCropBox:function(){var t=this.options,n=this.canvasData,r=t.aspectRatio||t.initialAspectRatio,i=Number(t.autoCropArea)||.8,s={width:n.width,height:n.height};r&&(n.height*r>n.width?s.height=s.width/r:s.width=s.height*r),this.cropBoxData=s,this.limitCropBox(!0,!0),s.width=Math.min(Math.max(s.width,s.minWidth),s.maxWidth),s.height=Math.min(Math.max(s.height,s.minHeight),s.maxHeight),s.width=Math.max(s.minWidth,s.width*i),s.height=Math.max(s.minHeight,s.height*i),s.left=n.left+(n.width-s.width)/2,s.top=n.top+(n.height-s.height)/2,s.oldLeft=s.left,s.oldTop=s.top,this.initialCropBoxData=Mt({},s)},limitCropBox:function(t,n){var r=this.options,i=this.containerData,s=this.canvasData,o=this.cropBoxData,a=this.limited,l=r.aspectRatio;if(t){var u=Number(r.minCropBoxWidth)||0,c=Number(r.minCropBoxHeight)||0,d=a?Math.min(i.width,s.width,s.width+s.left,i.width-s.left):i.width,f=a?Math.min(i.height,s.height,s.height+s.top,i.height-s.top):i.height;u=Math.min(u,i.width),c=Math.min(c,i.height),l&&(u&&c?c*l>u?c=u/l:u=c*l:u?c=u/l:c&&(u=c*l),f*l>d?f=d/l:d=f*l),o.minWidth=Math.min(u,d),o.minHeight=Math.min(c,f),o.maxWidth=d,o.maxHeight=f}n&&(a?(o.minLeft=Math.max(0,s.left),o.minTop=Math.max(0,s.top),o.maxLeft=Math.min(i.width,s.left+s.width)-o.width,o.maxTop=Math.min(i.height,s.top+s.height)-o.height):(o.minLeft=0,o.minTop=0,o.maxLeft=i.width-o.width,o.maxTop=i.height-o.height))},renderCropBox:function(){var t=this.options,n=this.containerData,r=this.cropBoxData;(r.width>r.maxWidth||r.width<r.minWidth)&&(r.left=r.oldLeft),(r.height>r.maxHeight||r.height<r.minHeight)&&(r.top=r.oldTop),r.width=Math.min(Math.max(r.width,r.minWidth),r.maxWidth),r.height=Math.min(Math.max(r.height,r.minHeight),r.maxHeight),this.limitCropBox(!1,!0),r.left=Math.min(Math.max(r.left,r.minLeft),r.maxLeft),r.top=Math.min(Math.max(r.top,r.minTop),r.maxTop),r.oldLeft=r.left,r.oldTop=r.top,t.movable&&t.cropBoxMovable&&nc(this.face,tc,r.width>=n.width&&r.height>=n.height?lA:Nb),js(this.cropBox,Mt({width:r.width,height:r.height},xu({translateX:r.left,translateY:r.top}))),this.cropped&&this.limited&&this.limitCanvas(!0,!0),this.disabled||this.output()},output:function(){this.preview(),za(this.element,kg,this.getData())}},JF={initPreview:function(){var t=this.element,n=this.crossOrigin,r=this.options.preview,i=n?this.crossOriginUrl:this.url,s=t.alt||"The image to preview",o=document.createElement("img");if(n&&(o.crossOrigin=n),o.src=i,o.alt=s,this.viewBox.appendChild(o),this.viewBoxImage=o,!!r){var a=r;typeof r=="string"?a=t.ownerDocument.querySelectorAll(r):r.querySelector&&(a=[r]),this.previews=a,qt(a,function(l){var u=document.createElement("img");nc(l,ud,{width:l.offsetWidth,height:l.offsetHeight,html:l.innerHTML}),n&&(u.crossOrigin=n),u.src=i,u.alt=s,u.style.cssText='display:block;width:100%;height:auto;min-width:0!important;min-height:0!important;max-width:none!important;max-height:none!important;image-orientation:0deg!important;"',l.innerHTML="",l.appendChild(u)})}},resetPreview:function(){qt(this.previews,function(t){var n=Dg(t,ud);js(t,{width:n.width,height:n.height}),t.innerHTML=n.html,FF(t,ud)})},preview:function(){var t=this.imageData,n=this.canvasData,r=this.cropBoxData,i=r.width,s=r.height,o=t.width,a=t.height,l=r.left-n.left-t.left,u=r.top-n.top-t.top;!this.cropped||this.disabled||(js(this.viewBoxImage,Mt({width:o,height:a},xu(Mt({translateX:-l,translateY:-u},t)))),qt(this.previews,function(c){var d=Dg(c,ud),f=d.width,p=d.height,m=f,g=p,b=1;i&&(b=f/i,g=s*b),s&&g>p&&(b=p/s,m=i*b,g=p),js(c,{width:m,height:g}),js(c.getElementsByTagName("img")[0],Mt({width:o*b,height:a*b},xu(Mt({translateX:-l*b,translateY:-u*b},t))))}))}},ZF={bind:function(){var t=this.element,n=this.options,r=this.cropper;Qn(n.cropstart)&&Sr(t,Ng,n.cropstart),Qn(n.cropmove)&&Sr(t,Ig,n.cropmove),Qn(n.cropend)&&Sr(t,Og,n.cropend),Qn(n.crop)&&Sr(t,kg,n.crop),Qn(n.zoom)&&Sr(t,Rg,n.zoom),Sr(r,yE,this.onCropStart=this.cropStart.bind(this)),n.zoomable&&n.zoomOnWheel&&Sr(r,wE,this.onWheel=this.wheel.bind(this),{passive:!1,capture:!0}),n.toggleDragModeOnDblclick&&Sr(r,bE,this.onDblclick=this.dblclick.bind(this)),Sr(t.ownerDocument,_E,this.onCropMove=this.cropMove.bind(this)),Sr(t.ownerDocument,EE,this.onCropEnd=this.cropEnd.bind(this)),n.responsive&&Sr(window,TE,this.onResize=this.resize.bind(this))},unbind:function(){var t=this.element,n=this.options,r=this.cropper;Qn(n.cropstart)&&Kr(t,Ng,n.cropstart),Qn(n.cropmove)&&Kr(t,Ig,n.cropmove),Qn(n.cropend)&&Kr(t,Og,n.cropend),Qn(n.crop)&&Kr(t,kg,n.crop),Qn(n.zoom)&&Kr(t,Rg,n.zoom),Kr(r,yE,this.onCropStart),n.zoomable&&n.zoomOnWheel&&Kr(r,wE,this.onWheel,{passive:!1,capture:!0}),n.toggleDragModeOnDblclick&&Kr(r,bE,this.onDblclick),Kr(t.ownerDocument,_E,this.onCropMove),Kr(t.ownerDocument,EE,this.onCropEnd),n.responsive&&Kr(window,TE,this.onResize)}},e5={resize:function(){if(!this.disabled){var t=this.options,n=this.container,r=this.containerData,i=n.offsetWidth/r.width,s=n.offsetHeight/r.height,o=Math.abs(i-1)>Math.abs(s-1)?i:s;if(o!==1){var a,l;t.restore&&(a=this.getCanvasData(),l=this.getCropBoxData()),this.render(),t.restore&&(this.setCanvasData(qt(a,function(u,c){a[c]=u*o})),this.setCropBoxData(qt(l,function(u,c){l[c]=u*o})))}}},dblclick:function(){this.disabled||this.options.dragMode===dA||this.setDragMode(BF(this.dragBox,Sg)?cA:Rb)},wheel:function(t){var n=this,r=Number(this.options.wheelZoomRatio)||.1,i=1;this.disabled||(t.preventDefault(),!this.wheeling&&(this.wheeling=!0,setTimeout(function(){n.wheeling=!1},50),t.deltaY?i=t.deltaY>0?1:-1:t.wheelDelta?i=-t.wheelDelta/120:t.detail&&(i=t.detail>0?1:-1),this.zoom(-i*r,t)))},cropStart:function(t){var n=t.buttons,r=t.button;if(!(this.disabled||(t.type==="mousedown"||t.type==="pointerdown"&&t.pointerType==="mouse")&&(rt(n)&&n!==1||rt(r)&&r!==0||t.ctrlKey))){var i=this.options,s=this.pointers,o;t.changedTouches?qt(t.changedTouches,function(a){s[a.identifier]=cd(a)}):s[t.pointerId||0]=cd(t),Object.keys(s).length>1&&i.zoomable&&i.zoomOnTouch?o=uA:o=Dg(t.target,tc),AF.test(o)&&za(this.element,Ng,{originalEvent:t,action:o})!==!1&&(t.preventDefault(),this.action=o,this.cropping=!1,o===aA&&(this.cropping=!0,on(this.dragBox,Af)))}},cropMove:function(t){var n=this.action;if(!(this.disabled||!n)){var r=this.pointers;t.preventDefault(),za(this.element,Ig,{originalEvent:t,action:n})!==!1&&(t.changedTouches?qt(t.changedTouches,function(i){Mt(r[i.identifier]||{},cd(i,!0))}):Mt(r[t.pointerId||0]||{},cd(t,!0)),this.change(t))}},cropEnd:function(t){if(!this.disabled){var n=this.action,r=this.pointers;t.changedTouches?qt(t.changedTouches,function(i){delete r[i.identifier]}):delete r[t.pointerId||0],n&&(t.preventDefault(),Object.keys(r).length||(this.action=""),this.cropping&&(this.cropping=!1,Da(this.dragBox,Af,this.cropped&&this.options.modal)),za(this.element,Og,{originalEvent:t,action:n}))}}},t5={change:function(t){var n=this.options,r=this.canvasData,i=this.containerData,s=this.cropBoxData,o=this.pointers,a=this.action,l=n.aspectRatio,u=s.left,c=s.top,d=s.width,f=s.height,p=u+d,m=c+f,g=0,b=0,y=i.width,E=i.height,T=!0,C;!l&&t.shiftKey&&(l=d&&f?d/f:1),this.limited&&(g=s.minLeft,b=s.minTop,y=g+Math.min(i.width,r.width,r.left+r.width),E=b+Math.min(i.height,r.height,r.top+r.height));var D=o[Object.keys(o)[0]],_={x:D.endX-D.startX,y:D.endY-D.startY},M=function(B){switch(B){case So:p+_.x>y&&(_.x=y-p);break;case Ao:u+_.x<g&&(_.x=g-u);break;case xs:c+_.y<b&&(_.y=b-c);break;case ya:m+_.y>E&&(_.y=E-m);break}};switch(a){case Nb:u+=_.x,c+=_.y;break;case So:if(_.x>=0&&(p>=y||l&&(c<=b||m>=E))){T=!1;break}M(So),d+=_.x,d<0&&(a=Ao,d=-d,u-=d),l&&(f=d/l,c+=(s.height-f)/2);break;case xs:if(_.y<=0&&(c<=b||l&&(u<=g||p>=y))){T=!1;break}M(xs),f-=_.y,c+=_.y,f<0&&(a=ya,f=-f,c-=f),l&&(d=f*l,u+=(s.width-d)/2);break;case Ao:if(_.x<=0&&(u<=g||l&&(c<=b||m>=E))){T=!1;break}M(Ao),d-=_.x,u+=_.x,d<0&&(a=So,d=-d,u-=d),l&&(f=d/l,c+=(s.height-f)/2);break;case ya:if(_.y>=0&&(m>=E||l&&(u<=g||p>=y))){T=!1;break}M(ya),f+=_.y,f<0&&(a=xs,f=-f,c-=f),l&&(d=f*l,u+=(s.width-d)/2);break;case Vl:if(l){if(_.y<=0&&(c<=b||p>=y)){T=!1;break}M(xs),f-=_.y,c+=_.y,d=f*l}else M(xs),M(So),_.x>=0?p<y?d+=_.x:_.y<=0&&c<=b&&(T=!1):d+=_.x,_.y<=0?c>b&&(f-=_.y,c+=_.y):(f-=_.y,c+=_.y);d<0&&f<0?(a=Wl,f=-f,d=-d,c-=f,u-=d):d<0?(a=jl,d=-d,u-=d):f<0&&(a=ql,f=-f,c-=f);break;case jl:if(l){if(_.y<=0&&(c<=b||u<=g)){T=!1;break}M(xs),f-=_.y,c+=_.y,d=f*l,u+=s.width-d}else M(xs),M(Ao),_.x<=0?u>g?(d-=_.x,u+=_.x):_.y<=0&&c<=b&&(T=!1):(d-=_.x,u+=_.x),_.y<=0?c>b&&(f-=_.y,c+=_.y):(f-=_.y,c+=_.y);d<0&&f<0?(a=ql,f=-f,d=-d,c-=f,u-=d):d<0?(a=Vl,d=-d,u-=d):f<0&&(a=Wl,f=-f,c-=f);break;case Wl:if(l){if(_.x<=0&&(u<=g||m>=E)){T=!1;break}M(Ao),d-=_.x,u+=_.x,f=d/l}else M(ya),M(Ao),_.x<=0?u>g?(d-=_.x,u+=_.x):_.y>=0&&m>=E&&(T=!1):(d-=_.x,u+=_.x),_.y>=0?m<E&&(f+=_.y):f+=_.y;d<0&&f<0?(a=Vl,f=-f,d=-d,c-=f,u-=d):d<0?(a=ql,d=-d,u-=d):f<0&&(a=jl,f=-f,c-=f);break;case ql:if(l){if(_.x>=0&&(p>=y||m>=E)){T=!1;break}M(So),d+=_.x,f=d/l}else M(ya),M(So),_.x>=0?p<y?d+=_.x:_.y>=0&&m>=E&&(T=!1):d+=_.x,_.y>=0?m<E&&(f+=_.y):f+=_.y;d<0&&f<0?(a=jl,f=-f,d=-d,c-=f,u-=d):d<0?(a=Wl,d=-d,u-=d):f<0&&(a=Vl,f=-f,c-=f);break;case lA:this.move(_.x,_.y),T=!1;break;case uA:this.zoom(HF(o),t),T=!1;break;case aA:if(!_.x||!_.y){T=!1;break}C=bA(this.cropper),u=D.startX-C.left,c=D.startY-C.top,d=s.minWidth,f=s.minHeight,_.x>0?a=_.y>0?ql:Vl:_.x<0&&(u-=d,a=_.y>0?Wl:jl),_.y<0&&(c-=f),this.cropped||(Ri(this.cropBox,Jn),this.cropped=!0,this.limited&&this.limitCropBox(!0,!0));break}T&&(s.width=d,s.height=f,s.left=u,s.top=c,this.action=a,this.renderCropBox()),qt(o,function(G){G.startX=G.endX,G.startY=G.endY})}},n5={crop:function(){return this.ready&&!this.cropped&&!this.disabled&&(this.cropped=!0,this.limitCropBox(!0,!0),this.options.modal&&on(this.dragBox,Af),Ri(this.cropBox,Jn),this.setCropBoxData(this.initialCropBoxData)),this},reset:function(){return this.ready&&!this.disabled&&(this.imageData=Mt({},this.initialImageData),this.canvasData=Mt({},this.initialCanvasData),this.cropBoxData=Mt({},this.initialCropBoxData),this.renderCanvas(),this.cropped&&this.renderCropBox()),this},clear:function(){return this.cropped&&!this.disabled&&(Mt(this.cropBoxData,{left:0,top:0,width:0,height:0}),this.cropped=!1,this.renderCropBox(),this.limitCanvas(!0,!0),this.renderCanvas(),Ri(this.dragBox,Af),on(this.cropBox,Jn)),this},replace:function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return!this.disabled&&t&&(this.isImg&&(this.element.src=t),n?(this.url=t,this.image.src=t,this.ready&&(this.viewBoxImage.src=t,qt(this.previews,function(r){r.getElementsByTagName("img")[0].src=t}))):(this.isImg&&(this.replaced=!0),this.options.data=null,this.uncreate(),this.load(t))),this},enable:function(){return this.ready&&this.disabled&&(this.disabled=!1,Ri(this.cropper,mE)),this},disable:function(){return this.ready&&!this.disabled&&(this.disabled=!0,on(this.cropper,mE)),this},destroy:function(){var t=this.element;return t[Dt]?(t[Dt]=void 0,this.isImg&&this.replaced&&(t.src=this.originalUrl),this.uncreate(),this):this},move:function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:t,r=this.canvasData,i=r.left,s=r.top;return this.moveTo(Hh(t)?t:i+Number(t),Hh(n)?n:s+Number(n))},moveTo:function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:t,r=this.canvasData,i=!1;return t=Number(t),n=Number(n),this.ready&&!this.disabled&&this.options.movable&&(rt(t)&&(r.left=t,i=!0),rt(n)&&(r.top=n,i=!0),i&&this.renderCanvas(!0)),this},zoom:function(t,n){var r=this.canvasData;return t=Number(t),t<0?t=1/(1-t):t=1+t,this.zoomTo(r.width*t/r.naturalWidth,null,n)},zoomTo:function(t,n,r){var i=this.options,s=this.canvasData,o=s.width,a=s.height,l=s.naturalWidth,u=s.naturalHeight;if(t=Number(t),t>=0&&this.ready&&!this.disabled&&i.zoomable){var c=l*t,d=u*t;if(za(this.element,Rg,{ratio:t,oldRatio:o/l,originalEvent:r})===!1)return this;if(r){var f=this.pointers,p=bA(this.cropper),m=f&&Object.keys(f).length?zF(f):{pageX:r.pageX,pageY:r.pageY};s.left-=(c-o)*((m.pageX-p.left-s.left)/o),s.top-=(d-a)*((m.pageY-p.top-s.top)/a)}else Ra(n)&&rt(n.x)&&rt(n.y)?(s.left-=(c-o)*((n.x-s.left)/o),s.top-=(d-a)*((n.y-s.top)/a)):(s.left-=(c-o)/2,s.top-=(d-a)/2);s.width=c,s.height=d,this.renderCanvas(!0)}return this},rotate:function(t){return this.rotateTo((this.imageData.rotate||0)+Number(t))},rotateTo:function(t){return t=Number(t),rt(t)&&this.ready&&!this.disabled&&this.options.rotatable&&(this.imageData.rotate=t%360,this.renderCanvas(!0,!0)),this},scaleX:function(t){var n=this.imageData.scaleY;return this.scale(t,rt(n)?n:1)},scaleY:function(t){var n=this.imageData.scaleX;return this.scale(rt(n)?n:1,t)},scale:function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:t,r=this.imageData,i=!1;return t=Number(t),n=Number(n),this.ready&&!this.disabled&&this.options.scalable&&(rt(t)&&(r.scaleX=t,i=!0),rt(n)&&(r.scaleY=n,i=!0),i&&this.renderCanvas(!0,!0)),this},getData:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,n=this.options,r=this.imageData,i=this.canvasData,s=this.cropBoxData,o;if(this.ready&&this.cropped){o={x:s.left-i.left,y:s.top-i.top,width:s.width,height:s.height};var a=r.width/r.naturalWidth;if(qt(o,function(c,d){o[d]=c/a}),t){var l=Math.round(o.y+o.height),u=Math.round(o.x+o.width);o.x=Math.round(o.x),o.y=Math.round(o.y),o.width=u-o.x,o.height=l-o.y}}else o={x:0,y:0,width:0,height:0};return n.rotatable&&(o.rotate=r.rotate||0),n.scalable&&(o.scaleX=r.scaleX||1,o.scaleY=r.scaleY||1),o},setData:function(t){var n=this.options,r=this.imageData,i=this.canvasData,s={};if(this.ready&&!this.disabled&&Ra(t)){var o=!1;n.rotatable&&rt(t.rotate)&&t.rotate!==r.rotate&&(r.rotate=t.rotate,o=!0),n.scalable&&(rt(t.scaleX)&&t.scaleX!==r.scaleX&&(r.scaleX=t.scaleX,o=!0),rt(t.scaleY)&&t.scaleY!==r.scaleY&&(r.scaleY=t.scaleY,o=!0)),o&&this.renderCanvas(!0,!0);var a=r.width/r.naturalWidth;rt(t.x)&&(s.left=t.x*a+i.left),rt(t.y)&&(s.top=t.y*a+i.top),rt(t.width)&&(s.width=t.width*a),rt(t.height)&&(s.height=t.height*a),this.setCropBoxData(s)}return this},getContainerData:function(){return this.ready?Mt({},this.containerData):{}},getImageData:function(){return this.sized?Mt({},this.imageData):{}},getCanvasData:function(){var t=this.canvasData,n={};return this.ready&&qt(["left","top","width","height","naturalWidth","naturalHeight"],function(r){n[r]=t[r]}),n},setCanvasData:function(t){var n=this.canvasData,r=n.aspectRatio;return this.ready&&!this.disabled&&Ra(t)&&(rt(t.left)&&(n.left=t.left),rt(t.top)&&(n.top=t.top),rt(t.width)?(n.width=t.width,n.height=t.width/r):rt(t.height)&&(n.height=t.height,n.width=t.height*r),this.renderCanvas(!0)),this},getCropBoxData:function(){var t=this.cropBoxData,n;return this.ready&&this.cropped&&(n={left:t.left,top:t.top,width:t.width,height:t.height}),n||{}},setCropBoxData:function(t){var n=this.cropBoxData,r=this.options.aspectRatio,i,s;return this.ready&&this.cropped&&!this.disabled&&Ra(t)&&(rt(t.left)&&(n.left=t.left),rt(t.top)&&(n.top=t.top),rt(t.width)&&t.width!==n.width&&(i=!0,n.width=t.width),rt(t.height)&&t.height!==n.height&&(s=!0,n.height=t.height),r&&(i?n.height=n.width/r:s&&(n.width=n.height*r)),this.renderCropBox()),this},getCroppedCanvas:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!this.ready||!window.HTMLCanvasElement)return null;var n=this.canvasData,r=jF(this.image,this.imageData,n,t);if(!this.cropped)return r;var i=this.getData(t.rounded),s=i.x,o=i.y,a=i.width,l=i.height,u=r.width/Math.floor(n.naturalWidth);u!==1&&(s*=u,o*=u,a*=u,l*=u);var c=a/l,d=qs({aspectRatio:c,width:t.maxWidth||1/0,height:t.maxHeight||1/0}),f=qs({aspectRatio:c,width:t.minWidth||0,height:t.minHeight||0},"cover"),p=qs({aspectRatio:c,width:t.width||(u!==1?r.width:a),height:t.height||(u!==1?r.height:l)}),m=p.width,g=p.height;m=Math.min(d.width,Math.max(f.width,m)),g=Math.min(d.height,Math.max(f.height,g));var b=document.createElement("canvas"),y=b.getContext("2d");b.width=Ha(m),b.height=Ha(g),y.fillStyle=t.fillColor||"transparent",y.fillRect(0,0,m,g);var E=t.imageSmoothingEnabled,T=E===void 0?!0:E,C=t.imageSmoothingQuality;y.imageSmoothingEnabled=T,C&&(y.imageSmoothingQuality=C);var D=r.width,_=r.height,M=s,G=o,B,K,V,H,te,Ee;M<=-a||M>D?(M=0,B=0,V=0,te=0):M<=0?(V=-M,M=0,B=Math.min(D,a+M),te=B):M<=D&&(V=0,B=Math.min(a,D-M),te=B),B<=0||G<=-l||G>_?(G=0,K=0,H=0,Ee=0):G<=0?(H=-G,G=0,K=Math.min(_,l+G),Ee=K):G<=_&&(H=0,K=Math.min(l,_-G),Ee=K);var me=[M,G,B,K];if(te>0&&Ee>0){var xe=m/a;me.push(V*xe,H*xe,te*xe,Ee*xe)}return y.drawImage.apply(y,[r].concat(oA(me.map(function(Ce){return Math.floor(Ha(Ce))})))),b},setAspectRatio:function(t){var n=this.options;return!this.disabled&&!Hh(t)&&(n.aspectRatio=Math.max(0,t)||NaN,this.ready&&(this.initCropBox(),this.cropped&&this.renderCropBox())),this},setDragMode:function(t){var n=this.options,r=this.dragBox,i=this.face;if(this.ready&&!this.disabled){var s=t===Rb,o=n.movable&&t===cA;t=s||o?t:dA,n.dragMode=t,nc(r,tc,t),Da(r,Sg,s),Da(r,Ag,o),n.cropBoxMovable||(nc(i,tc,t),Da(i,Sg,s),Da(i,Ag,o))}return this}},r5=Li.Cropper,_A=function(){function e(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(gF(this,e),!t||!IF.test(t.tagName))throw new Error("The first argument is required and must be an <img> or <canvas> element.");this.element=t,this.options=Mt({},CE,Ra(n)&&n),this.cropped=!1,this.disabled=!1,this.pointers={},this.ready=!1,this.reloading=!1,this.replaced=!1,this.sized=!1,this.sizing=!1,this.init()}return bF(e,[{key:"init",value:function(){var n=this.element,r=n.tagName.toLowerCase(),i;if(!n[Dt]){if(n[Dt]=this,r==="img"){if(this.isImg=!0,i=n.getAttribute("src")||"",this.originalUrl=i,!i)return;i=n.src}else r==="canvas"&&window.HTMLCanvasElement&&(i=n.toDataURL());this.load(i)}}},{key:"load",value:function(n){var r=this;if(n){this.url=n,this.imageData={};var i=this.element,s=this.options;if(!s.rotatable&&!s.scalable&&(s.checkOrientation=!1),!s.checkOrientation||!window.ArrayBuffer){this.clone();return}if(kF.test(n)){OF.test(n)?this.read(YF(n)):this.clone();return}var o=new XMLHttpRequest,a=this.clone.bind(this);this.reloading=!0,this.xhr=o,o.onabort=a,o.onerror=a,o.ontimeout=a,o.onprogress=function(){o.getResponseHeader("content-type")!==xE&&o.abort()},o.onload=function(){r.read(o.response)},o.onloadend=function(){r.reloading=!1,r.xhr=null},s.checkCrossOrigin&&AE(n)&&i.crossOrigin&&(n=kE(n)),o.open("GET",n,!0),o.responseType="arraybuffer",o.withCredentials=i.crossOrigin==="use-credentials",o.send()}}},{key:"read",value:function(n){var r=this.options,i=this.imageData,s=KF(n),o=0,a=1,l=1;if(s>1){this.url=GF(n,xE);var u=XF(s);o=u.rotate,a=u.scaleX,l=u.scaleY}r.rotatable&&(i.rotate=o),r.scalable&&(i.scaleX=a,i.scaleY=l),this.clone()}},{key:"clone",value:function(){var n=this.element,r=this.url,i=n.crossOrigin,s=r;this.options.checkCrossOrigin&&AE(r)&&(i||(i="anonymous"),s=kE(r)),this.crossOrigin=i,this.crossOriginUrl=s;var o=document.createElement("img");i&&(o.crossOrigin=i),o.src=s||r,o.alt=n.alt||"The image to crop",this.image=o,o.onload=this.start.bind(this),o.onerror=this.stop.bind(this),on(o,gE),n.parentNode.insertBefore(o,n.nextSibling)}},{key:"start",value:function(){var n=this,r=this.image;r.onload=null,r.onerror=null,this.sizing=!0;var i=Li.navigator&&/(?:iPad|iPhone|iPod).*?AppleWebKit/i.test(Li.navigator.userAgent),s=function(u,c){Mt(n.imageData,{naturalWidth:u,naturalHeight:c,aspectRatio:u/c}),n.initialImageData=Mt({},n.imageData),n.sizing=!1,n.sized=!0,n.build()};if(r.naturalWidth&&!i){s(r.naturalWidth,r.naturalHeight);return}var o=document.createElement("img"),a=document.body||document.documentElement;this.sizingImage=o,o.onload=function(){s(o.width,o.height),i||a.removeChild(o)},o.src=r.src,i||(o.style.cssText="left:0;max-height:none!important;max-width:none!important;min-height:0!important;min-width:0!important;opacity:0;position:absolute;top:0;z-index:-1;",a.appendChild(o))}},{key:"stop",value:function(){var n=this.image;n.onload=null,n.onerror=null,n.parentNode.removeChild(n),this.image=null}},{key:"build",value:function(){if(!(!this.sized||this.ready)){var n=this.element,r=this.options,i=this.image,s=n.parentNode,o=document.createElement("div");o.innerHTML=NF;var a=o.querySelector(".".concat(Dt,"-container")),l=a.querySelector(".".concat(Dt,"-canvas")),u=a.querySelector(".".concat(Dt,"-drag-box")),c=a.querySelector(".".concat(Dt,"-crop-box")),d=c.querySelector(".".concat(Dt,"-face"));this.container=s,this.cropper=a,this.canvas=l,this.dragBox=u,this.cropBox=c,this.viewBox=a.querySelector(".".concat(Dt,"-view-box")),this.face=d,l.appendChild(i),on(n,Jn),s.insertBefore(a,n.nextSibling),Ri(i,gE),this.initPreview(),this.bind(),r.initialAspectRatio=Math.max(0,r.initialAspectRatio)||NaN,r.aspectRatio=Math.max(0,r.aspectRatio)||NaN,r.viewMode=Math.max(0,Math.min(3,Math.round(r.viewMode)))||0,on(c,Jn),r.guides||on(c.getElementsByClassName("".concat(Dt,"-dashed")),Jn),r.center||on(c.getElementsByClassName("".concat(Dt,"-center")),Jn),r.background&&on(a,"".concat(Dt,"-bg")),r.highlight||on(d,wF),r.cropBoxMovable&&(on(d,Ag),nc(d,tc,Nb)),r.cropBoxResizable||(on(c.getElementsByClassName("".concat(Dt,"-line")),Jn),on(c.getElementsByClassName("".concat(Dt,"-point")),Jn)),this.render(),this.ready=!0,this.setDragMode(r.dragMode),r.autoCrop&&this.crop(),this.setData(r.data),Qn(r.ready)&&Sr(n,vE,r.ready,{once:!0}),za(n,vE)}}},{key:"unbuild",value:function(){if(this.ready){this.ready=!1,this.unbind(),this.resetPreview();var n=this.cropper.parentNode;n&&n.removeChild(this.cropper),Ri(this.element,Jn)}}},{key:"uncreate",value:function(){this.ready?(this.unbuild(),this.ready=!1,this.cropped=!1):this.sizing?(this.sizingImage.onload=null,this.sizing=!1,this.sized=!1):this.reloading?(this.xhr.onabort=null,this.xhr.abort()):this.image&&this.stop()}}],[{key:"noConflict",value:function(){return window.Cropper=r5,e}},{key:"setDefaults",value:function(n){Mt(CE,Ra(n)&&n)}}])}();Mt(_A.prototype,QF,JF,ZF,e5,t5,n5);const i5={class:"flex justify-between w-3/4"},s5={class:"list-disc pl-6 text-xs"},o5={class:"flex space-x-4"},a5={class:"border w-3/4",style:{"max-height":"400px"}},l5=["src"],u5=["src"],c5={__name:"ImageCropper",props:{imageSrc:String},emits:["cropped"],setup(e,{emit:t}){const n=e,r=t,i=_t(null),s=_t(null),o=_t(null),a=rA(()=>{o.value&&o.value.getCroppedCanvas()&&o.value.getCroppedCanvas().toBlob(f=>{f&&(s.value=URL.createObjectURL(f),r("cropped",f))},"image/jpeg",.8)},500),l=()=>{const f=o.value.getImageData();o.value.setCropBoxData({width:f.width,height:f.height})},u=()=>{o.value=new _A(i.value,{viewMode:1,dragMode:"move",aspectRatio:1/1,backround:!1,zoomOnWheel:!1,ready(){l()},crop(){a()}})},c=()=>{o.value.zoom(.1)},d=()=>{o.value.zoom(-.1)};return Tn(()=>n.imageSrc,f=>{o.value.replace(f),l()}),vr(()=>{u()}),wl(()=>{o.value.destroy(),URL.revokeObjectURL(s.value)}),(f,p)=>{const m=Y("zoom-out-icon"),g=Y("zoom-in-icon"),b=Y("note"),y=Y("icon-question"),E=Y("popper");return x(),P("div",null,[S("div",i5,[S("div",null,[S("button",{class:"btn btn-xs",onClick:d},[U(m,{height:"12",width:"12"})]),p[0]||(p[0]=Ae("   ")),S("button",{class:"btn btn-xs",onClick:c},[U(g,{height:"12",width:"12"})])]),U(E,{arrow:"",hover:""},{content:W(()=>[p[8]||(p[8]=S("div",{class:"w-80"},null,-1)),p[9]||(p[9]=S("h4",null,"Tips on cropping images:",-1)),S("ul",s5,[p[4]||(p[4]=S("li",null,"Drag within the cropper to move the cropped region.",-1)),p[5]||(p[5]=S("li",null," Resize the cropped region by clicking on the edges or corners of the cropper and dragging. ",-1)),p[6]||(p[6]=S("li",null,"Drag the image outside of the cropper to move.",-1)),S("li",null,[p[1]||(p[1]=Ae(" Use the ")),U(g,{height:"12",width:"12",class:"inline-block"}),p[2]||(p[2]=Ae(" and ")),U(m,{height:"12",width:"12",class:"inline-block"}),p[3]||(p[3]=Ae(" to zoom in and out. "))])]),U(b,{class:"pl-6 mt-3"},{default:W(()=>p[7]||(p[7]=[Ae(" The cropper must be entirely on the image so you may need to reduce the cropped are or zoom out to move the image. ")])),_:1})]),default:W(()=>[U(y,{height:"14",width:"14"})]),_:1})]),S("div",o5,[S("div",a5,[S("img",{ref_key:"imageEl",ref:i,src:e.imageSrc,style:{"max-width":"100%"}},null,8,l5)]),S("div",null,[p[10]||(p[10]=S("h4",null,"Preview",-1)),S("img",{class:"border border-gray-700 overflow-hidden drop-shadow",style:{width:"100px",height:"100px"},src:s.value},null,8,u5)])])])}}},d5=Object.freeze(Object.defineProperty({__proto__:null,default:c5},Symbol.toStringTag,{value:"Module"}));function f5(){return EA().__VUE_DEVTOOLS_GLOBAL_HOOK__}function EA(){return typeof navigator<"u"&&typeof window<"u"?window:typeof globalThis<"u"?globalThis:{}}const p5=typeof Proxy=="function",h5="devtools-plugin:setup",m5="plugin:settings:set";let _a,Mg;function g5(){var e;return _a!==void 0||(typeof window<"u"&&window.performance?(_a=!0,Mg=window.performance):typeof globalThis<"u"&&(!((e=globalThis.perf_hooks)===null||e===void 0)&&e.performance)?(_a=!0,Mg=globalThis.perf_hooks.performance):_a=!1),_a}function b5(){return g5()?Mg.now():Date.now()}class y5{constructor(t,n){this.target=null,this.targetQueue=[],this.onQueue=[],this.plugin=t,this.hook=n;const r={};if(t.settings)for(const o in t.settings){const a=t.settings[o];r[o]=a.defaultValue}const i=`__vue-devtools-plugin-settings__${t.id}`;let s=Object.assign({},r);try{const o=localStorage.getItem(i),a=JSON.parse(o);Object.assign(s,a)}catch{}this.fallbacks={getSettings(){return s},setSettings(o){try{localStorage.setItem(i,JSON.stringify(o))}catch{}s=o},now(){return b5()}},n&&n.on(m5,(o,a)=>{o===this.plugin.id&&this.fallbacks.setSettings(a)}),this.proxiedOn=new Proxy({},{get:(o,a)=>this.target?this.target.on[a]:(...l)=>{this.onQueue.push({method:a,args:l})}}),this.proxiedTarget=new Proxy({},{get:(o,a)=>this.target?this.target[a]:a==="on"?this.proxiedOn:Object.keys(this.fallbacks).includes(a)?(...l)=>(this.targetQueue.push({method:a,args:l,resolve:()=>{}}),this.fallbacks[a](...l)):(...l)=>new Promise(u=>{this.targetQueue.push({method:a,args:l,resolve:u})})})}async setRealTarget(t){this.target=t;for(const n of this.onQueue)this.target.on[n.method](...n.args);for(const n of this.targetQueue)n.resolve(await this.target[n.method](...n.args))}}function _5(e,t){const n=e,r=EA(),i=f5(),s=p5&&n.enableEarlyProxy;if(i&&(r.__VUE_DEVTOOLS_PLUGIN_API_AVAILABLE__||!s))i.emit(h5,e,t);else{const o=s?new y5(n,i):null;(r.__VUE_DEVTOOLS_PLUGINS__=r.__VUE_DEVTOOLS_PLUGINS__||[]).push({pluginDescriptor:n,setupFn:t,proxy:o}),o&&t(o.proxiedTarget)}}/*!
 * vuex v4.1.0
 * (c) 2022 Evan You
 * @license MIT
 */var vA="store";function TA(e){return e===void 0&&(e=null),Un(e!==null?e:vA)}function kl(e,t){Object.keys(e).forEach(function(n){return t(e[n],n)})}function wA(e){return e!==null&&typeof e=="object"}function E5(e){return e&&typeof e.then=="function"}function v5(e,t){return function(){return e(t)}}function xA(e,t,n){return t.indexOf(e)<0&&(n&&n.prepend?t.unshift(e):t.push(e)),function(){var r=t.indexOf(e);r>-1&&t.splice(r,1)}}function CA(e,t){e._actions=Object.create(null),e._mutations=Object.create(null),e._wrappedGetters=Object.create(null),e._modulesNamespaceMap=Object.create(null);var n=e.state;kp(e,n,[],e._modules.root,!0),Mb(e,n,t)}function Mb(e,t,n){var r=e._state,i=e._scope;e.getters={},e._makeLocalGettersCache=Object.create(null);var s=e._wrappedGetters,o={},a={},l=xD(!0);l.run(function(){kl(s,function(u,c){o[c]=v5(u,e),a[c]=yt(function(){return o[c]()}),Object.defineProperty(e.getters,c,{get:function(){return a[c].value},enumerable:!0})})}),e._state=El({data:t}),e._scope=l,e.strict&&S5(e),r&&n&&e._withCommit(function(){r.data=null}),i&&i.stop()}function kp(e,t,n,r,i){var s=!n.length,o=e._modules.getNamespace(n);if(r.namespaced&&(e._modulesNamespaceMap[o],e._modulesNamespaceMap[o]=r),!s&&!i){var a=Pb(t,n.slice(0,-1)),l=n[n.length-1];e._withCommit(function(){a[l]=r.state})}var u=r.context=T5(e,o,n);r.forEachMutation(function(c,d){var f=o+d;w5(e,f,c,u)}),r.forEachAction(function(c,d){var f=c.root?d:o+d,p=c.handler||c;x5(e,f,p,u)}),r.forEachGetter(function(c,d){var f=o+d;C5(e,f,c,u)}),r.forEachChild(function(c,d){kp(e,t,n.concat(d),c,i)})}function T5(e,t,n){var r=t==="",i={dispatch:r?e.dispatch:function(s,o,a){var l=kf(s,o,a),u=l.payload,c=l.options,d=l.type;return(!c||!c.root)&&(d=t+d),e.dispatch(d,u)},commit:r?e.commit:function(s,o,a){var l=kf(s,o,a),u=l.payload,c=l.options,d=l.type;(!c||!c.root)&&(d=t+d),e.commit(d,u,c)}};return Object.defineProperties(i,{getters:{get:r?function(){return e.getters}:function(){return SA(e,t)}},state:{get:function(){return Pb(e.state,n)}}}),i}function SA(e,t){if(!e._makeLocalGettersCache[t]){var n={},r=t.length;Object.keys(e.getters).forEach(function(i){if(i.slice(0,r)===t){var s=i.slice(r);Object.defineProperty(n,s,{get:function(){return e.getters[i]},enumerable:!0})}}),e._makeLocalGettersCache[t]=n}return e._makeLocalGettersCache[t]}function w5(e,t,n,r){var i=e._mutations[t]||(e._mutations[t]=[]);i.push(function(o){n.call(e,r.state,o)})}function x5(e,t,n,r){var i=e._actions[t]||(e._actions[t]=[]);i.push(function(o){var a=n.call(e,{dispatch:r.dispatch,commit:r.commit,getters:r.getters,state:r.state,rootGetters:e.getters,rootState:e.state},o);return E5(a)||(a=Promise.resolve(a)),e._devtoolHook?a.catch(function(l){throw e._devtoolHook.emit("vuex:error",l),l}):a})}function C5(e,t,n,r){e._wrappedGetters[t]||(e._wrappedGetters[t]=function(s){return n(r.state,r.getters,s.state,s.getters)})}function S5(e){Tn(function(){return e._state.data},function(){},{deep:!0,flush:"sync"})}function Pb(e,t){return t.reduce(function(n,r){return n[r]},e)}function kf(e,t,n){return wA(e)&&e.type&&(n=t,t=e,e=e.type),{type:e,payload:t,options:n}}var A5="vuex bindings",OE="vuex:mutations",Vh="vuex:actions",Ea="vuex",k5=0;function O5(e,t){_5({id:"org.vuejs.vuex",app:e,label:"Vuex",homepage:"https://next.vuex.vuejs.org/",logo:"https://vuejs.org/images/icons/favicon-96x96.png",packageName:"vuex",componentStateTypes:[A5]},function(n){n.addTimelineLayer({id:OE,label:"Vuex Mutations",color:IE}),n.addTimelineLayer({id:Vh,label:"Vuex Actions",color:IE}),n.addInspector({id:Ea,label:"Vuex",icon:"storage",treeFilterPlaceholder:"Filter stores..."}),n.on.getInspectorTree(function(r){if(r.app===e&&r.inspectorId===Ea)if(r.filter){var i=[];IA(i,t._modules.root,r.filter,""),r.rootNodes=i}else r.rootNodes=[OA(t._modules.root,"")]}),n.on.getInspectorState(function(r){if(r.app===e&&r.inspectorId===Ea){var i=r.nodeId;SA(t,i),r.state=R5(M5(t._modules,i),i==="root"?t.getters:t._makeLocalGettersCache,i)}}),n.on.editInspectorState(function(r){if(r.app===e&&r.inspectorId===Ea){var i=r.nodeId,s=r.path;i!=="root"&&(s=i.split("/").filter(Boolean).concat(s)),t._withCommit(function(){r.set(t._state.data,s,r.state.value)})}}),t.subscribe(function(r,i){var s={};r.payload&&(s.payload=r.payload),s.state=i,n.notifyComponentUpdate(),n.sendInspectorTree(Ea),n.sendInspectorState(Ea),n.addTimelineEvent({layerId:OE,event:{time:Date.now(),title:r.type,data:s}})}),t.subscribeAction({before:function(r,i){var s={};r.payload&&(s.payload=r.payload),r._id=k5++,r._time=Date.now(),s.state=i,n.addTimelineEvent({layerId:Vh,event:{time:r._time,title:r.type,groupId:r._id,subtitle:"start",data:s}})},after:function(r,i){var s={},o=Date.now()-r._time;s.duration={_custom:{type:"duration",display:o+"ms",tooltip:"Action duration",value:o}},r.payload&&(s.payload=r.payload),s.state=i,n.addTimelineEvent({layerId:Vh,event:{time:Date.now(),title:r.type,groupId:r._id,subtitle:"end",data:s}})}})})}var IE=8702998,I5=6710886,N5=16777215,AA={label:"namespaced",textColor:N5,backgroundColor:I5};function kA(e){return e&&e!=="root"?e.split("/").slice(-2,-1)[0]:"Root"}function OA(e,t){return{id:t||"root",label:kA(t),tags:e.namespaced?[AA]:[],children:Object.keys(e._children).map(function(n){return OA(e._children[n],t+n+"/")})}}function IA(e,t,n,r){r.includes(n)&&e.push({id:r||"root",label:r.endsWith("/")?r.slice(0,r.length-1):r||"Root",tags:t.namespaced?[AA]:[]}),Object.keys(t._children).forEach(function(i){IA(e,t._children[i],n,r+i+"/")})}function R5(e,t,n){t=n==="root"?t:t[n];var r=Object.keys(t),i={state:Object.keys(e.state).map(function(o){return{key:o,editable:!0,value:e.state[o]}})};if(r.length){var s=D5(t);i.getters=Object.keys(s).map(function(o){return{key:o.endsWith("/")?kA(o):o,editable:!1,value:Pg(function(){return s[o]})}})}return i}function D5(e){var t={};return Object.keys(e).forEach(function(n){var r=n.split("/");if(r.length>1){var i=t,s=r.pop();r.forEach(function(o){i[o]||(i[o]={_custom:{value:{},display:o,tooltip:"Module",abstract:!0}}),i=i[o]._custom.value}),i[s]=Pg(function(){return e[n]})}else t[n]=Pg(function(){return e[n]})}),t}function M5(e,t){var n=t.split("/").filter(function(r){return r});return n.reduce(function(r,i,s){var o=r[i];if(!o)throw new Error('Missing module "'+i+'" for path "'+t+'".');return s===n.length-1?o:o._children},t==="root"?e:e.root._children)}function Pg(e){try{return e()}catch(t){return t}}var hi=function(t,n){this.runtime=n,this._children=Object.create(null),this._rawModule=t;var r=t.state;this.state=(typeof r=="function"?r():r)||{}},NA={namespaced:{configurable:!0}};NA.namespaced.get=function(){return!!this._rawModule.namespaced};hi.prototype.addChild=function(t,n){this._children[t]=n};hi.prototype.removeChild=function(t){delete this._children[t]};hi.prototype.getChild=function(t){return this._children[t]};hi.prototype.hasChild=function(t){return t in this._children};hi.prototype.update=function(t){this._rawModule.namespaced=t.namespaced,t.actions&&(this._rawModule.actions=t.actions),t.mutations&&(this._rawModule.mutations=t.mutations),t.getters&&(this._rawModule.getters=t.getters)};hi.prototype.forEachChild=function(t){kl(this._children,t)};hi.prototype.forEachGetter=function(t){this._rawModule.getters&&kl(this._rawModule.getters,t)};hi.prototype.forEachAction=function(t){this._rawModule.actions&&kl(this._rawModule.actions,t)};hi.prototype.forEachMutation=function(t){this._rawModule.mutations&&kl(this._rawModule.mutations,t)};Object.defineProperties(hi.prototype,NA);var ua=function(t){this.register([],t,!1)};ua.prototype.get=function(t){return t.reduce(function(n,r){return n.getChild(r)},this.root)};ua.prototype.getNamespace=function(t){var n=this.root;return t.reduce(function(r,i){return n=n.getChild(i),r+(n.namespaced?i+"/":"")},"")};ua.prototype.update=function(t){RA([],this.root,t)};ua.prototype.register=function(t,n,r){var i=this;r===void 0&&(r=!0);var s=new hi(n,r);if(t.length===0)this.root=s;else{var o=this.get(t.slice(0,-1));o.addChild(t[t.length-1],s)}n.modules&&kl(n.modules,function(a,l){i.register(t.concat(l),a,r)})};ua.prototype.unregister=function(t){var n=this.get(t.slice(0,-1)),r=t[t.length-1],i=n.getChild(r);i&&i.runtime&&n.removeChild(r)};ua.prototype.isRegistered=function(t){var n=this.get(t.slice(0,-1)),r=t[t.length-1];return n?n.hasChild(r):!1};function RA(e,t,n){if(t.update(n),n.modules)for(var r in n.modules){if(!t.getChild(r))return;RA(e.concat(r),t.getChild(r),n.modules[r])}}function P5(e){return new ir(e)}var ir=function(t){var n=this;t===void 0&&(t={});var r=t.plugins;r===void 0&&(r=[]);var i=t.strict;i===void 0&&(i=!1);var s=t.devtools;this._committing=!1,this._actions=Object.create(null),this._actionSubscribers=[],this._mutations=Object.create(null),this._wrappedGetters=Object.create(null),this._modules=new ua(t),this._modulesNamespaceMap=Object.create(null),this._subscribers=[],this._makeLocalGettersCache=Object.create(null),this._scope=null,this._devtools=s;var o=this,a=this,l=a.dispatch,u=a.commit;this.dispatch=function(f,p){return l.call(o,f,p)},this.commit=function(f,p,m){return u.call(o,f,p,m)},this.strict=i;var c=this._modules.root.state;kp(this,c,[],this._modules.root),Mb(this,c),r.forEach(function(d){return d(n)})},Lb={state:{configurable:!0}};ir.prototype.install=function(t,n){t.provide(n||vA,this),t.config.globalProperties.$store=this;var r=this._devtools!==void 0?this._devtools:!1;r&&O5(t,this)};Lb.state.get=function(){return this._state.data};Lb.state.set=function(e){};ir.prototype.commit=function(t,n,r){var i=this,s=kf(t,n,r),o=s.type,a=s.payload,l={type:o,payload:a},u=this._mutations[o];u&&(this._withCommit(function(){u.forEach(function(d){d(a)})}),this._subscribers.slice().forEach(function(c){return c(l,i.state)}))};ir.prototype.dispatch=function(t,n){var r=this,i=kf(t,n),s=i.type,o=i.payload,a={type:s,payload:o},l=this._actions[s];if(l){try{this._actionSubscribers.slice().filter(function(c){return c.before}).forEach(function(c){return c.before(a,r.state)})}catch{}var u=l.length>1?Promise.all(l.map(function(c){return c(o)})):l[0](o);return new Promise(function(c,d){u.then(function(f){try{r._actionSubscribers.filter(function(p){return p.after}).forEach(function(p){return p.after(a,r.state)})}catch{}c(f)},function(f){try{r._actionSubscribers.filter(function(p){return p.error}).forEach(function(p){return p.error(a,r.state,f)})}catch{}d(f)})})}};ir.prototype.subscribe=function(t,n){return xA(t,this._subscribers,n)};ir.prototype.subscribeAction=function(t,n){var r=typeof t=="function"?{before:t}:t;return xA(r,this._actionSubscribers,n)};ir.prototype.watch=function(t,n,r){var i=this;return Tn(function(){return t(i.state,i.getters)},n,Object.assign({},r))};ir.prototype.replaceState=function(t){var n=this;this._withCommit(function(){n._state.data=t})};ir.prototype.registerModule=function(t,n,r){r===void 0&&(r={}),typeof t=="string"&&(t=[t]),this._modules.register(t,n),kp(this,this.state,t,this._modules.get(t),r.preserveState),Mb(this,this.state)};ir.prototype.unregisterModule=function(t){var n=this;typeof t=="string"&&(t=[t]),this._modules.unregister(t),this._withCommit(function(){var r=Pb(n.state,t.slice(0,-1));delete r[t[t.length-1]]}),CA(this)};ir.prototype.hasModule=function(t){return typeof t=="string"&&(t=[t]),this._modules.isRegistered(t)};ir.prototype.hotUpdate=function(t){this._modules.update(t),CA(this,!0)};ir.prototype._withCommit=function(t){var n=this._committing;this._committing=!0,t(),this._committing=n};Object.defineProperties(ir.prototype,Lb);var _ye=MA(function(e,t){var n={};return DA(t).forEach(function(r){var i=r.key,s=r.val;n[i]=function(){var a=this.$store.state,l=this.$store.getters;if(e){var u=PA(this.$store,"mapState",e);if(!u)return;a=u.context.state,l=u.context.getters}return typeof s=="function"?s.call(this,a,l):a[s]},n[i].vuex=!0}),n}),Bb=MA(function(e,t){var n={};return DA(t).forEach(function(r){var i=r.key,s=r.val;s=e+s,n[i]=function(){if(!(e&&!PA(this.$store,"mapGetters",e)))return this.$store.getters[s]},n[i].vuex=!0}),n});function DA(e){return L5(e)?Array.isArray(e)?e.map(function(t){return{key:t,val:t}}):Object.keys(e).map(function(t){return{key:t,val:e[t]}}):[]}function L5(e){return Array.isArray(e)||wA(e)}function MA(e){return function(t,n){return typeof t!="string"?(n=t,t=""):t.charAt(t.length-1)!=="/"&&(t+="/"),e(t,n)}}function PA(e,t,n){var r=e._modulesNamespaceMap[n];return r}const B5=e=>{sessionStorage.clear(),window.location.href=`/impersonate/take/${e}`},$5=e=>ee.get(`/api/impersonate/search?query_string=${e}`).then(t=>t.data.data);function F5(e){const t=e.getBoundingClientRect();document.getElementById("block")&&document.getElementById("block").remove();const n=e.parentNode.getBoundingClientRect();return t.top>=n.top&&t.bottom<=n.bottom}const U5={name:"SearchSelect",props:{modelValue:{required:!0},searchFunction:{required:!1,type:Function,default:null},options:{required:!1,default:()=>[]},throttle:{required:!1,type:Number,default:250},optionsHeight:{required:!1,type:Number,default:200},placeholder:{required:!1,type:String,default:"type to search"},disabled:{required:!1,type:Boolean,default:!1},labelField:{type:String,default:"name"},showOptionsOnFocus:{type:Boolean,default:!1},showOptionsWhenEmpty:{type:Boolean,default:!1},multiple:{type:Boolean,default:!1},keyOptionsBy:{type:String,default:"id"}},emits:["update:modelValue","removed","added","searchTextUpdated"],data(){return{selections:[],searchText:null,cursorPosition:null,filteredOptions:[],clearInputTimeout:null,keydownTimer:null,currentKey:null,hasFocus:!1,debug:!1}},computed:{hasAdditionalOption(){return!!this.$slots.additionalOption},hasOptions(){return this.filteredOptions.length>0||this.hasAdditionalOption},optionsListHeight(){return this.showingOptions?this.optionsHeight:0},selection(){return this.modelValue},showInput(){return!this.hasSelection||this.multiple},showingOptions(){return(this.showOptionsWhenEmpty||this.hasAdditionalOption)&&(this.searchText||this.hasFocus)?!0:this.filteredOptions.length>0&&this.hasFocus},highlightedOption(){return this.showingOptions?null:this.filteredOptions[this.cursorPosition]},hasSelection(){return this.selections.length>0},filteredUniqueOptions(){const e=this.selections.map(t=>t[this.keyOptionsBy]);return this.filteredOptions.filter(t=>!e.includes(t[this.keyOptionsBy]))}},watch:{searchText(){this.search(this.searchText,this.options),this.$emit("searchTextUpdated",this.searchText)},filteredOptions(){this.cursorPosition=0},modelValue:{handler(e){e&&(this.selections=Array.isArray(e)?e:[e]),this.clearInput(),this.resetCursor()},immediate:!0}},created(){this.search=rA(async(e,t)=>{if(e===""||e===null||typeof e>"u"){if(this.showOptionsOnFocus){this.filteredOptions=[...t];return}return[]}if(!this.searchFunction){this.filteredOptions=this.defaultSearchFunction(e,t);return}this.filteredOptions=await this.searchFunction(e,t)},this.throttle)},methods:{handleInputFocus(){this.hasFocus=!0,this.showOptionsOnFocus&&this.search(this.searchText,this.options)},handleInputBlur(){this.log("handleInputBlur"),setTimeout(()=>{this.log("timedout"),this.clearInput(),this.resetCursor(),this.hasFocus=!1},200)},defaultSearchFunction(e,t){if(this.log("defaultSearchFunction"),!e)return[];const n=new RegExp(e,"gi");return t.filter(r=>{let i=null;return typeof r=="string"?i=r.match(n):i=r[this.labelField].match(n),i!==null})},removeSelection(e){if(this.disabled)return;this.log("removeSelection");const t=this.selections.splice(e,1);this.emitModelUpdate(),this.$emit("removed",t[0]),this.$nextTick(()=>{this.$refs.input.focus()})},setSelection(e){this.selections.push(e),this.emitModelUpdate(),this.clearInput(),this.resetCursor(),this.$emit("added",e)},emitModelUpdate(){this.multiple?this.$emit("update:modelValue",this.selections):this.$emit("update:modelValue",this.selections[0]??null)},clearInput(){this.log("clearInput"),this.clearSearchText(),this.clearOptions()},clearOptions(){this.log("clearOptions"),this.filteredOptions=[]},clearSearchText(){this.log("clearSearchText"),this.searchText=null},resetCursor(){this.log("resetCursor"),this.cursorPosition=0},startKeydownTimer(e){this.log("startKeydwonTimer"),e.key!==this.currentKey&&(this.cancelKeydownTimer(e),e.key==="ArrowUp"&&(this.keydownTimer=setInterval(()=>{this.moveUp()},100),this.currentKey="ArrowUp"),e.key==="ArrowDown"&&(this.keydownTimer=setInterval(()=>{this.moveDown()},100),this.currentKey="ArrowDown"))},handleKeyDown(e){if(this.log("handleKeyDown"),e.key==="Tab"){this.handleKeyEvent(e);return}this.startKeydownTimer(e)},cancelKeydownTimer(){this.log("cancelKeydwonTimer"),this.keydownTimer&&(clearInterval(this.keydownTimer),this.currentKey=null)},moveUp(){if(this.log("moveUp"),!this.cursorPosition){this.cursorPosition=0;return}this.cursorPosition-1<0||(this.cursorPosition--,this.scrollToHighlightedOption())},moveDown(){if(this.log("moveDown"),this.cursorPosition===null){this.cursorPosition=0;return}this.cursorPosition+1>=this.filteredOptions.length||(this.cursorPosition++,this.scrollToHighlightedOption())},handleKeyEvent(e){this.log("handleKeyEvent"),this.cancelKeydownTimer(e),this.showingOptions&&(e.key==="ArrowDown"&&this.moveDown(),e.key==="ArrowUp"&&this.moveUp(),["Enter"].includes(e.key)&&(e.preventDefault(),this.setSelection(this.filteredOptions[this.cursorPosition])),["Tab"].includes(e.key)&&this.setSelection(this.filteredOptions[this.cursorPosition]),e.key==="Escape"&&this.clearOptions())},scrollToHighlightedOption(){this.log("scrollToHighlightedOption"),F5(document.getElementById(`option-${this.cursorPosition}`))||document.getElementById(`option-${this.cursorPosition}`).scrollIntoView()},resolveDefaultOptionLabel(e){return typeof e=="object"?e[this.labelField]:e},resolveDefaultSelctionLabel(e){return this.resolveDefaultOptionLabel(e)},log(e){this.debug&&console.log(e)}}},H5={class:"search-select-component"},z5={class:"search-select-container bg-white"},V5={key:0},j5=["disabled","onClick"],q5=["placeholder","disabled"],W5={class:"result-container"},Y5=["id","onClick"],G5={key:0,class:"filtered-option additional-option"},K5={key:0,class:"bg-white p-2 border"};function X5(e,t,n,r,i,s){return x(),P("div",H5,[S("div",z5,[s.hasSelection?(x(),P("div",V5,[(x(!0),P(Ge,null,$t(i.selections,(o,a)=>(x(),P("div",{key:a,class:nt(["selection",{disabled:n.disabled}])},[S("label",null,[ke(e.$slots,"selection-label",{selection:o},()=>[Ae(ye(s.resolveDefaultOptionLabel(s.selection)),1)],!0)]),S("div",{disabled:n.disabled,class:"remove-btn",onClick:l=>s.removeSelection(a)}," x ",8,j5)],2))),128))])):Oe("",!0),Ct(S("input",{id:"search-select-input",ref:"input","onUpdate:modelValue":t[0]||(t[0]=o=>i.searchText=o),type:"text",class:"input",placeholder:n.placeholder,disabled:n.disabled,onKeydown:t[1]||(t[1]=(...o)=>s.handleKeyDown&&s.handleKeyDown(...o)),onKeyup:t[2]||(t[2]=(...o)=>s.handleKeyEvent&&s.handleKeyEvent(...o)),onFocus:t[3]||(t[3]=(...o)=>s.handleInputFocus&&s.handleInputFocus(...o)),onBlur:t[4]||(t[4]=(...o)=>s.handleInputBlur&&s.handleInputBlur(...o))},null,40,q5),[[yr,s.showInput],[Us,i.searchText]])]),Ct(S("div",W5,[S("div",null,[S("ul",{class:"option-list",style:sa(`max-height: ${s.optionsListHeight}px`)},[(x(!0),P(Ge,null,$t(s.filteredUniqueOptions,(o,a)=>(x(),P("li",{id:`option-${a}`,key:a,class:nt(["filtered-option",{highlighted:a===i.cursorPosition}]),onClick:l=>s.setSelection(o)},[ke(e.$slots,"option",{option:o,index:a},()=>[Ae(ye(s.resolveDefaultOptionLabel(o)),1)],!0)],10,Y5))),128)),e.$slots.additionalOption?(x(),P("li",G5,[ke(e.$slots,"additionalOption",{},void 0,!0)])):Oe("",!0)],4),e.$slots.fixedBottomOption?(x(),P("div",K5,[ke(e.$slots,"fixedBottomOption",{},void 0,!0)])):Oe("",!0)])],512),[[yr,s.showingOptions]])])}const bo=ne(U5,[["render",X5],["__scopeId","data-v-4e2ac52c"]]),Q5=Object.freeze(Object.defineProperty({__proto__:null,default:bo},Symbol.toStringTag,{value:"Module"})),J5={components:{SearchSelect:bo},emits:["impersonated"],data(){return{selectedUser:null,showSelector:!1,showProgress:!1,clearingImpersonate:!1}},computed:{...Bb({user:"currentUser"}),canImpersonate(){return this.$store.getters.currentUser.hasRole("super-user")||this.$store.getters.currentUser.hasRole("super-admin")||this.$store.getters.currentUser.hasRole("admin")},progressMessage(){return this.clearingImpersonate?"Clearing impersonation.":`Impersonating ${this.selectedUser.name}`}},methods:{impersonateSelected(){this.selectedUser&&(this.$emit("impersonated"),this.showProgress=!0,B5(this.selectedUser.id))},async search(e){return await $5(e)},cancelImpersonate(){this.selectedUser=null,this.showSelector=!this.showSelector}}},Z5={key:0},eU={key:0,class:"text-center"};function tU(e,t,n,r,i,s){const o=Y("SearchSelect"),a=Y("button-row"),l=Y("note"),u=Y("modal-dialog");return x(),P("div",null,[s.canImpersonate||e.user.is_impersonating?(x(),P("div",Z5,[e.user.is_impersonating?(x(),P("a",{key:1,href:"/impersonate/leave",class:"btn btn-secondary btn-xs",onClick:t[1]||(t[1]=c=>i.clearingImpersonate=!0)}," Stop impersonating ")):(x(),P("button",{key:0,class:"btn btn-xs border",onClick:t[0]||(t[0]=c=>i.showSelector=!i.showSelector)}," Impersonate a user ")),(x(),pe(Er,{to:"body"},[U(u,{modelValue:i.showSelector,"onUpdate:modelValue":t[3]||(t[3]=c=>i.showSelector=c),title:"Impersonate another user",onOk:s.impersonateSelected},{default:W(()=>[U(o,{modelValue:i.selectedUser,"onUpdate:modelValue":t[2]||(t[2]=c=>i.selectedUser=c),"search-function":s.search,placeholder:"search by name, email, or numeric id"},{"selection-label":W(({selection:c})=>[Ae(ye(c.name)+" ("+ye(c.email)+") ",1)]),option:W(({option:c})=>[Ae(ye(c.name)+" ("+ye(c.email)+") ",1)]),_:1},8,["modelValue","search-function"]),U(a,{onSubmitText:s.search,onSubmitted:s.impersonateSelected,onCancel:s.cancelImpersonate},null,8,["onSubmitText","onSubmitted","onCancel"]),t[6]||(t[6]=S("hr",null,null,-1)),U(l,null,{default:W(()=>t[5]||(t[5]=[Ae(" Note that only ClinGen members that have redeemed their invite will be users of the system. "),S("br",null,null,-1),Ae(" If they have not redeemed their invite you cannot impersonate them. "),S("br",null,null,-1),Ae(" Check the "),S("a",{href:"/admin/invites",target:"invites-admin"},"Invites Admin",-1),Ae(". ")])),_:1})]),_:1},8,["modelValue","onOk"]),U(u,{modelValue:i.showProgress,"onUpdate:modelValue":t[4]||(t[4]=c=>i.showProgress=c)},{default:W(()=>[i.selectedUser?(x(),P("h3",eU,ye(s.progressMessage),1)):Oe("",!0),t[7]||(t[7]=S("p",{class:"text-center"}," The page will reload in a moment... ",-1))]),_:1},8,["modelValue"])]))])):Oe("",!0)])}const LA=ne(J5,[["render",tU]]),nU=Object.freeze(Object.defineProperty({__proto__:null,default:LA},Symbol.toStringTag,{value:"Module"})),rU=an.feedback,iU={name:"ComponentName",props:{},data(){return{showReportIssue:!1,errors:{},url:null,type:"Bug",severity:"15555",description:`What I expected:

Steps to reproduce:
`,summary:null,saving:!1}},computed:{severities(){return rU.severities}},methods:{initReportIssue(){this.showReportIssue=!0,this.initForm()},initForm(){this.severity=null,this.description=`What I expected:


Steps to reproduce:


Additional information:

`,this.summary=null,this.url=this.$route.path,this.errors={},this.saving=!1},async submitIssue(){try{this.saving=!0,await ee.post("/api/feedback",{url:this.url,type:this.type,severity:this.severity,description:this.description,summary:this.summary}),this.saving=!1,this.$store.commit("pushSuccess","Your problem has been reported."),this.showReportIssue=!1}catch(e){if(Rc(e)){this.errors=e.response.data.errors,this.saving=!1;return}throw e}},cancelSubmission(){this.initForm(),this.showReportIssue=!1}}},sU={key:0},oU=["value"],aU={key:2,class:"pt-2 mt-2 border-t text-gray-500"};function lU(e,t,n,r,i,s){const o=Y("icon-bug"),a=Y("popover"),l=Y("input-row"),u=Y("button-row"),c=Y("modal-dialog");return e.$store.getters.isAuthed?(x(),P("div",sU,[U(a,{hover:"",arrow:"",placement:"left"},{content:W(()=>t[7]||(t[7]=[S("div",{class:"whitespace-no-wrap w-28 text-xs"}," Report a problem ",-1)])),default:W(()=>[S("button",{class:"text-white bg-red-600 border border-red-700 border-r-0 pl-3 pr-3 py-2 rounded-l-lg shadow-lg print:hidden",onClick:t[0]||(t[0]=(...d)=>s.initReportIssue&&s.initReportIssue(...d))},[U(o)])]),_:1}),(x(),pe(Er,{to:"body"},[U(c,{modelValue:i.showReportIssue,"onUpdate:modelValue":t[6]||(t[6]=d=>i.showReportIssue=d),title:"Report a problem"},{default:W(()=>[U(l,{modelValue:i.url,"onUpdate:modelValue":t[1]||(t[1]=d=>i.url=d),label:"URL",errors:i.errors.url,"input-class":"w-full"},null,8,["modelValue","errors"]),U(l,{label:"Type"},{default:W(()=>[Ct(S("select",{"onUpdate:modelValue":t[2]||(t[2]=d=>i.type=d),class:"w-full"},t[8]||(t[8]=[S("option",{value:"Bug"}," Bug ",-1),S("option",{value:"Task"}," Enhancement ",-1)]),512),[[Ef,i.type]])]),_:1}),i.type=="Bug"?(x(),pe(l,{key:0,label:"Severity",errors:i.errors.severity},{default:W(()=>[Ct(S("select",{id:"","onUpdate:modelValue":t[3]||(t[3]=d=>i.severity=d),name:""},[(x(!0),P(Ge,null,$t(s.severities,d=>(x(),P("option",{key:d.id,value:d.id},ye(d.name),9,oU))),128))],512),[[Ef,i.severity]])]),_:1},8,["errors"])):Oe("",!0),U(l,{modelValue:i.summary,"onUpdate:modelValue":t[4]||(t[4]=d=>i.summary=d),label:"Summary",errors:i.errors.summary,"input-class":"w-full"},null,8,["modelValue","errors"]),U(l,{label:"Description",errors:i.errors.description},{default:W(()=>[Ct(S("textarea",{"onUpdate:modelValue":t[5]||(t[5]=d=>i.description=d),class:"w-full",rows:"10",placeholder:"Please tell us what you expected to happen, and what actually happened, and the steps we should take to reproduce the problem."},null,512),[[Us,i.description]])]),_:1},8,["errors"]),i.saving?Oe("",!0):(x(),pe(u,{key:1,onSubmitted:s.submitIssue,onCanceled:s.cancelSubmission},null,8,["onSubmitted","onCanceled"])),i.saving?(x(),P("div",aU," Saving… ")):Oe("",!0)]),_:1},8,["modelValue"])]))])):Oe("",!0)}const BA=ne(iU,[["render",lU]]),uU=Object.freeze(Object.defineProperty({__proto__:null,default:BA},Symbol.toStringTag,{value:"Module"})),cU={props:{},emits:["authenticated","authenticationFailed"],data(){return{email:null,password:null,errors:{}}},computed:{},methods:{async authenticate(){try{await this.$store.dispatch("login",{email:this.email,password:this.password})}catch(e){throw Rc(e)&&(this.errors=e.response.data.errors,this.$emit("authenticationFailed")),e}try{await this.$store.dispatch("getCurrentUser")}catch(e){throw NS(e)&&this.$emit("authenticationFailed"),e}this.$emit("authenticated")}}},dU={class:"mt-2"};function fU(e,t,n,r,i,s){const o=Y("input-row"),a=Y("router-link"),l=Y("button-row"),u=Y("form-container");return x(),pe(u,{onKeyup:pb(s.authenticate,["enter"])},{default:W(()=>[U(o,{modelValue:i.email,"onUpdate:modelValue":t[0]||(t[0]=c=>i.email=c),label:"Email",type:"text",errors:i.errors.email,name:"email",required:""},null,8,["modelValue","errors"]),U(o,{modelValue:i.password,"onUpdate:modelValue":t[1]||(t[1]=c=>i.password=c),label:"Password",type:"password",errors:i.errors.password,name:"password",required:""},null,8,["modelValue","errors"]),S("div",dU,[U(a,{class:"text-blue-500 underline",to:{name:"reset-password"}},{default:W(()=>t[3]||(t[3]=[Ae(" Forgot your password? ")])),_:1}),t[5]||(t[5]=S("br",null,null,-1)),U(a,{class:"text-blue-500 underline",to:{name:"RedeemInvite"}},{default:W(()=>t[4]||(t[4]=[Ae(" Redeem your invite ")])),_:1})]),U(l,{class:"mt-4"},{default:W(()=>[S("button",{class:"btn blue w-auto px-4",name:"login-button",onClick:t[2]||(t[2]=(...c)=>s.authenticate&&s.authenticate(...c))}," Log in ")]),_:1})]),_:1},8,["onKeyup"])}const pU=ne(cU,[["render",fU]]),hU=Object.freeze(Object.defineProperty({__proto__:null,default:pU},Symbol.toStringTag,{value:"Module"}));let Dc=class{constructor(t,n,r){this.property=t,this.normal=n,r&&(this.space=r)}};Dc.prototype.property={};Dc.prototype.normal={};Dc.prototype.space=null;function $A(e,t){const n={},r={};let i=-1;for(;++i<e.length;)Object.assign(n,e[i].property),Object.assign(r,e[i].normal);return new Dc(n,r,t)}function rc(e){return e.toLowerCase()}class qr{constructor(t,n){this.property=t,this.attribute=n}}qr.prototype.space=null;qr.prototype.boolean=!1;qr.prototype.booleanish=!1;qr.prototype.overloadedBoolean=!1;qr.prototype.number=!1;qr.prototype.commaSeparated=!1;qr.prototype.spaceSeparated=!1;qr.prototype.commaOrSpaceSeparated=!1;qr.prototype.mustUseProperty=!1;qr.prototype.defined=!1;let mU=0;const We=ca(),jt=ca(),FA=ca(),ue=ca(),wt=ca(),Va=ca(),lr=ca();function ca(){return 2**++mU}const Lg=Object.freeze(Object.defineProperty({__proto__:null,boolean:We,booleanish:jt,commaOrSpaceSeparated:lr,commaSeparated:Va,number:ue,overloadedBoolean:FA,spaceSeparated:wt},Symbol.toStringTag,{value:"Module"})),jh=Object.keys(Lg);class $b extends qr{constructor(t,n,r,i){let s=-1;if(super(t,n),NE(this,"space",i),typeof r=="number")for(;++s<jh.length;){const o=jh[s];NE(this,jh[s],(r&Lg[o])===Lg[o])}}}$b.prototype.defined=!0;function NE(e,t,n){n&&(e[t]=n)}const gU={}.hasOwnProperty;function Ol(e){const t={},n={};let r;for(r in e.properties)if(gU.call(e.properties,r)){const i=e.properties[r],s=new $b(r,e.transform(e.attributes||{},r),i,e.space);e.mustUseProperty&&e.mustUseProperty.includes(r)&&(s.mustUseProperty=!0),t[r]=s,n[rc(r)]=r,n[rc(s.attribute)]=r}return new Dc(t,n,e.space)}const UA=Ol({space:"xlink",transform(e,t){return"xlink:"+t.slice(5).toLowerCase()},properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null}}),HA=Ol({space:"xml",transform(e,t){return"xml:"+t.slice(3).toLowerCase()},properties:{xmlLang:null,xmlBase:null,xmlSpace:null}});function zA(e,t){return t in e?e[t]:t}function VA(e,t){return zA(e,t.toLowerCase())}const jA=Ol({space:"xmlns",attributes:{xmlnsxlink:"xmlns:xlink"},transform:VA,properties:{xmlns:null,xmlnsXLink:null}}),qA=Ol({transform(e,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()},properties:{ariaActiveDescendant:null,ariaAtomic:jt,ariaAutoComplete:null,ariaBusy:jt,ariaChecked:jt,ariaColCount:ue,ariaColIndex:ue,ariaColSpan:ue,ariaControls:wt,ariaCurrent:null,ariaDescribedBy:wt,ariaDetails:null,ariaDisabled:jt,ariaDropEffect:wt,ariaErrorMessage:null,ariaExpanded:jt,ariaFlowTo:wt,ariaGrabbed:jt,ariaHasPopup:null,ariaHidden:jt,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:wt,ariaLevel:ue,ariaLive:null,ariaModal:jt,ariaMultiLine:jt,ariaMultiSelectable:jt,ariaOrientation:null,ariaOwns:wt,ariaPlaceholder:null,ariaPosInSet:ue,ariaPressed:jt,ariaReadOnly:jt,ariaRelevant:null,ariaRequired:jt,ariaRoleDescription:wt,ariaRowCount:ue,ariaRowIndex:ue,ariaRowSpan:ue,ariaSelected:jt,ariaSetSize:ue,ariaSort:null,ariaValueMax:ue,ariaValueMin:ue,ariaValueNow:ue,ariaValueText:null,role:null}}),bU=Ol({space:"html",attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},transform:VA,mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:Va,acceptCharset:wt,accessKey:wt,action:null,allow:null,allowFullScreen:We,allowPaymentRequest:We,allowUserMedia:We,alt:null,as:null,async:We,autoCapitalize:null,autoComplete:wt,autoFocus:We,autoPlay:We,blocking:wt,capture:null,charSet:null,checked:We,cite:null,className:wt,cols:ue,colSpan:null,content:null,contentEditable:jt,controls:We,controlsList:wt,coords:ue|Va,crossOrigin:null,data:null,dateTime:null,decoding:null,default:We,defer:We,dir:null,dirName:null,disabled:We,download:FA,draggable:jt,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:We,formTarget:null,headers:wt,height:ue,hidden:We,high:ue,href:null,hrefLang:null,htmlFor:wt,httpEquiv:wt,id:null,imageSizes:null,imageSrcSet:null,inert:We,inputMode:null,integrity:null,is:null,isMap:We,itemId:null,itemProp:wt,itemRef:wt,itemScope:We,itemType:wt,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:We,low:ue,manifest:null,max:null,maxLength:ue,media:null,method:null,min:null,minLength:ue,multiple:We,muted:We,name:null,nonce:null,noModule:We,noValidate:We,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:We,optimum:ue,pattern:null,ping:wt,placeholder:null,playsInline:We,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:We,referrerPolicy:null,rel:wt,required:We,reversed:We,rows:ue,rowSpan:ue,sandbox:wt,scope:null,scoped:We,seamless:We,selected:We,shadowRootClonable:We,shadowRootDelegatesFocus:We,shadowRootMode:null,shape:null,size:ue,sizes:null,slot:null,span:ue,spellCheck:jt,src:null,srcDoc:null,srcLang:null,srcSet:null,start:ue,step:null,style:null,tabIndex:ue,target:null,title:null,translate:null,type:null,typeMustMatch:We,useMap:null,value:jt,width:ue,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:wt,axis:null,background:null,bgColor:null,border:ue,borderColor:null,bottomMargin:ue,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:We,declare:We,event:null,face:null,frame:null,frameBorder:null,hSpace:ue,leftMargin:ue,link:null,longDesc:null,lowSrc:null,marginHeight:ue,marginWidth:ue,noResize:We,noHref:We,noShade:We,noWrap:We,object:null,profile:null,prompt:null,rev:null,rightMargin:ue,rules:null,scheme:null,scrolling:jt,standby:null,summary:null,text:null,topMargin:ue,valueType:null,version:null,vAlign:null,vLink:null,vSpace:ue,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:We,disableRemotePlayback:We,prefix:null,property:null,results:ue,security:null,unselectable:null}}),yU=Ol({space:"svg",attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},transform:zA,properties:{about:lr,accentHeight:ue,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:ue,amplitude:ue,arabicForm:null,ascent:ue,attributeName:null,attributeType:null,azimuth:ue,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:ue,by:null,calcMode:null,capHeight:ue,className:wt,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:ue,diffuseConstant:ue,direction:null,display:null,dur:null,divisor:ue,dominantBaseline:null,download:We,dx:null,dy:null,edgeMode:null,editable:null,elevation:ue,enableBackground:null,end:null,event:null,exponent:ue,externalResourcesRequired:null,fill:null,fillOpacity:ue,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:Va,g2:Va,glyphName:Va,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:ue,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:ue,horizOriginX:ue,horizOriginY:ue,id:null,ideographic:ue,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:ue,k:ue,k1:ue,k2:ue,k3:ue,k4:ue,kernelMatrix:lr,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:ue,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:ue,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:ue,overlineThickness:ue,paintOrder:null,panose1:null,path:null,pathLength:ue,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:wt,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:ue,pointsAtY:ue,pointsAtZ:ue,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:lr,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:lr,rev:lr,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:lr,requiredFeatures:lr,requiredFonts:lr,requiredFormats:lr,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:ue,specularExponent:ue,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:ue,strikethroughThickness:ue,string:null,stroke:null,strokeDashArray:lr,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:ue,strokeOpacity:ue,strokeWidth:null,style:null,surfaceScale:ue,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:lr,tabIndex:ue,tableValues:null,target:null,targetX:ue,targetY:ue,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:lr,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:ue,underlineThickness:ue,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:ue,values:null,vAlphabetic:ue,vMathematical:ue,vectorEffect:null,vHanging:ue,vIdeographic:ue,version:null,vertAdvY:ue,vertOriginX:ue,vertOriginY:ue,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:ue,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null}}),_U=/^data[-\w.:]+$/i,RE=/-[a-z]/g,EU=/[A-Z]/g;function Fb(e,t){const n=rc(t);let r=t,i=qr;if(n in e.normal)return e.property[e.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&_U.test(t)){if(t.charAt(4)==="-"){const s=t.slice(5).replace(RE,TU);r="data"+s.charAt(0).toUpperCase()+s.slice(1)}else{const s=t.slice(4);if(!RE.test(s)){let o=s.replace(EU,vU);o.charAt(0)!=="-"&&(o="-"+o),t="data"+o}}i=$b}return new i(r,t)}function vU(e){return"-"+e.toLowerCase()}function TU(e){return e.charAt(1).toUpperCase()}const Op=$A([HA,UA,jA,qA,bU],"html"),Mc=$A([HA,UA,jA,qA,yU],"svg");function DE(e){const t=[],n=String(e||"");let r=n.indexOf(","),i=0,s=!1;for(;!s;){r===-1&&(r=n.length,s=!0);const o=n.slice(i,r).trim();(o||!s)&&t.push(o),i=r+1,r=n.indexOf(",",i)}return t}function wU(e,t){const n=t||{};return(e[e.length-1]===""?[...e,""]:e).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const ME=/[#.]/g;function xU(e,t){const n=e||"",r={};let i=0,s,o;for(;i<n.length;){ME.lastIndex=i;const a=ME.exec(n),l=n.slice(i,a?a.index:n.length);l&&(s?s==="#"?r.id=l:Array.isArray(r.className)?r.className.push(l):r.className=[l]:o=l,i+=l.length),a&&(s=a[0],i++)}return{type:"element",tagName:o||t||"div",properties:r,children:[]}}function PE(e){const t=String(e||"").trim();return t?t.split(/[ \t\n\r\f]+/g):[]}function CU(e){return e.join(" ").trim()}const Bg={}.hasOwnProperty;function WA(e,t,n){const r=n&&OU(n);function i(s,o,...a){let l=-1,u;if(s==null){u={type:"root",children:[]};const c=o;a.unshift(c)}else if(u=xU(s,t),u.tagName=u.tagName.toLowerCase(),r&&Bg.call(r,u.tagName)&&(u.tagName=r[u.tagName]),SU(o))a.unshift(o);else{let c;for(c in o)Bg.call(o,c)&&AU(e,u.properties,c,o[c])}for(;++l<a.length;)$g(u.children,a[l]);return u.type==="element"&&u.tagName==="template"&&(u.content={type:"root",children:u.children},u.children=[]),u}return i}function SU(e){if(e===null||typeof e!="object"||Array.isArray(e))return!0;if(typeof e.type!="string")return!1;const t=e,n=Object.keys(e);for(const r of n){const i=t[r];if(i&&typeof i=="object"){if(!Array.isArray(i))return!0;const s=i;for(const o of s)if(typeof o!="number"&&typeof o!="string")return!0}}return!!("children"in e&&Array.isArray(e.children))}function AU(e,t,n,r){const i=Fb(e,n);let s=-1,o;if(r!=null){if(typeof r=="number"){if(Number.isNaN(r))return;o=r}else typeof r=="boolean"?o=r:typeof r=="string"?i.spaceSeparated?o=PE(r):i.commaSeparated?o=DE(r):i.commaOrSpaceSeparated?o=PE(DE(r).join(" ")):o=LE(i,i.property,r):Array.isArray(r)?o=r.concat():o=i.property==="style"?kU(r):String(r);if(Array.isArray(o)){const a=[];for(;++s<o.length;){const l=LE(i,i.property,o[s]);a[s]=l}o=a}if(i.property==="className"&&Array.isArray(t.className)){const a=o;o=t.className.concat(a)}t[i.property]=o}}function $g(e,t){let n=-1;if(t!=null)if(typeof t=="string"||typeof t=="number")e.push({type:"text",value:String(t)});else if(Array.isArray(t))for(;++n<t.length;)$g(e,t[n]);else if(typeof t=="object"&&"type"in t)t.type==="root"?$g(e,t.children):e.push(t);else throw new Error("Expected node, nodes, or string, got `"+t+"`")}function LE(e,t,n){if(typeof n=="string"){if(e.number&&n&&!Number.isNaN(Number(n)))return Number(n);if((e.boolean||e.overloadedBoolean)&&(n===""||rc(n)===rc(t)))return!0}return n}function kU(e){const t=[];let n;for(n in e)Bg.call(e,n)&&t.push([n,e[n]].join(": "));return t.join("; ")}function OU(e){const t={};let n=-1;for(;++n<e.length;)t[e[n].toLowerCase()]=e[n];return t}const IU=["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","solidColor","textArea","textPath"],NU=WA(Op,"div"),RU=WA(Mc,"g",IU);function DU(e){const t=String(e),n=[];return{toOffset:i,toPoint:r};function r(s){if(typeof s=="number"&&s>-1&&s<=t.length){let o=0;for(;;){let a=n[o];if(a===void 0){const l=BE(t,n[o-1]);a=l===-1?t.length+1:l+1,n[o]=a}if(a>s)return{line:o+1,column:s-(o>0?n[o-1]:0)+1,offset:s};o++}}}function i(s){if(s&&typeof s.line=="number"&&typeof s.column=="number"&&!Number.isNaN(s.line)&&!Number.isNaN(s.column)){for(;n.length<s.line;){const a=n[n.length-1],l=BE(t,a),u=l===-1?t.length+1:l+1;if(a===u)break;n.push(u)}const o=(s.line>1?n[s.line-2]:0)+s.column-1;if(o<n[s.line-1])return o}}}function BE(e,t){const n=e.indexOf("\r",t),r=e.indexOf(`
`,t);return r===-1?n:n===-1||n+1===r?r:n<r?n:r}const MU={svg:"http://www.w3.org/2000/svg"},YA={}.hasOwnProperty,PU=Object.prototype;function LU(e,t){const n=t||{};return Ub({file:n.file||void 0,location:!1,schema:n.space==="svg"?Mc:Op,verbose:n.verbose||!1},e)}function Ub(e,t){let n;switch(t.nodeName){case"#comment":{const r=t;return n={type:"comment",value:r.data},Vd(e,r,n),n}case"#document":case"#document-fragment":{const r=t,i="mode"in r?r.mode==="quirks"||r.mode==="limited-quirks":!1;if(n={type:"root",children:GA(e,t.childNodes),data:{quirksMode:i}},e.file&&e.location){const s=String(e.file),o=DU(s),a=o.toPoint(0),l=o.toPoint(s.length);n.position={start:a,end:l}}return n}case"#documentType":{const r=t;return n={type:"doctype"},Vd(e,r,n),n}case"#text":{const r=t;return n={type:"text",value:r.value},Vd(e,r,n),n}default:return n=BU(e,t),n}}function GA(e,t){let n=-1;const r=[];for(;++n<t.length;){const i=Ub(e,t[n]);r.push(i)}return r}function BU(e,t){const n=e.schema;e.schema=t.namespaceURI===MU.svg?Mc:Op;let r=-1;const i={};for(;++r<t.attrs.length;){const a=t.attrs[r],l=(a.prefix?a.prefix+":":"")+a.name;YA.call(PU,l)||(i[l]=a.value)}const o=(e.schema.space==="svg"?RU:NU)(t.tagName,i,GA(e,t.childNodes));if(Vd(e,t,o),o.tagName==="template"){const a=t,l=a.sourceCodeLocation,u=l&&l.startTag&&Ma(l.startTag),c=l&&l.endTag&&Ma(l.endTag),d=Ub(e,a.content);u&&c&&e.file&&(d.position={start:u.end,end:c.start}),o.content=d}return e.schema=n,o}function Vd(e,t,n){if("sourceCodeLocation"in t&&t.sourceCodeLocation&&e.file){const r=$U(e,n,t.sourceCodeLocation);r&&(e.location=!0,n.position=r)}}function $U(e,t,n){const r=Ma(n);if(t.type==="element"){const i=t.children[t.children.length-1];if(r&&!n.endTag&&i&&i.position&&i.position.end&&(r.end=Object.assign({},i.position.end)),e.verbose){const s={};let o;if(n.attrs)for(o in n.attrs)YA.call(n.attrs,o)&&(s[Fb(e.schema,o).property]=Ma(n.attrs[o]));n.startTag;const a=Ma(n.startTag),l=n.endTag?Ma(n.endTag):void 0,u={opening:a};l&&(u.closing=l),u.properties=s,t.data={position:u}}}return r}function Ma(e){const t=$E({line:e.startLine,column:e.startCol,offset:e.startOffset}),n=$E({line:e.endLine,column:e.endCol,offset:e.endOffset});return t||n?{start:t,end:n}:void 0}function $E(e){return e.line&&e.column?e:void 0}const FU=new Set([65534,65535,131070,131071,196606,196607,262142,262143,327678,327679,393214,393215,458750,458751,524286,524287,589822,589823,655358,655359,720894,720895,786430,786431,851966,851967,917502,917503,983038,983039,1048574,1048575,1114110,1114111]),Rt="�";var v;(function(e){e[e.EOF=-1]="EOF",e[e.NULL=0]="NULL",e[e.TABULATION=9]="TABULATION",e[e.CARRIAGE_RETURN=13]="CARRIAGE_RETURN",e[e.LINE_FEED=10]="LINE_FEED",e[e.FORM_FEED=12]="FORM_FEED",e[e.SPACE=32]="SPACE",e[e.EXCLAMATION_MARK=33]="EXCLAMATION_MARK",e[e.QUOTATION_MARK=34]="QUOTATION_MARK",e[e.AMPERSAND=38]="AMPERSAND",e[e.APOSTROPHE=39]="APOSTROPHE",e[e.HYPHEN_MINUS=45]="HYPHEN_MINUS",e[e.SOLIDUS=47]="SOLIDUS",e[e.DIGIT_0=48]="DIGIT_0",e[e.DIGIT_9=57]="DIGIT_9",e[e.SEMICOLON=59]="SEMICOLON",e[e.LESS_THAN_SIGN=60]="LESS_THAN_SIGN",e[e.EQUALS_SIGN=61]="EQUALS_SIGN",e[e.GREATER_THAN_SIGN=62]="GREATER_THAN_SIGN",e[e.QUESTION_MARK=63]="QUESTION_MARK",e[e.LATIN_CAPITAL_A=65]="LATIN_CAPITAL_A",e[e.LATIN_CAPITAL_Z=90]="LATIN_CAPITAL_Z",e[e.RIGHT_SQUARE_BRACKET=93]="RIGHT_SQUARE_BRACKET",e[e.GRAVE_ACCENT=96]="GRAVE_ACCENT",e[e.LATIN_SMALL_A=97]="LATIN_SMALL_A",e[e.LATIN_SMALL_Z=122]="LATIN_SMALL_Z"})(v||(v={}));const Kn={DASH_DASH:"--",CDATA_START:"[CDATA[",DOCTYPE:"doctype",SCRIPT:"script",PUBLIC:"public",SYSTEM:"system"};function KA(e){return e>=55296&&e<=57343}function UU(e){return e>=56320&&e<=57343}function HU(e,t){return(e-55296)*1024+9216+t}function XA(e){return e!==32&&e!==10&&e!==13&&e!==9&&e!==12&&e>=1&&e<=31||e>=127&&e<=159}function QA(e){return e>=64976&&e<=65007||FU.has(e)}var j;(function(e){e.controlCharacterInInputStream="control-character-in-input-stream",e.noncharacterInInputStream="noncharacter-in-input-stream",e.surrogateInInputStream="surrogate-in-input-stream",e.nonVoidHtmlElementStartTagWithTrailingSolidus="non-void-html-element-start-tag-with-trailing-solidus",e.endTagWithAttributes="end-tag-with-attributes",e.endTagWithTrailingSolidus="end-tag-with-trailing-solidus",e.unexpectedSolidusInTag="unexpected-solidus-in-tag",e.unexpectedNullCharacter="unexpected-null-character",e.unexpectedQuestionMarkInsteadOfTagName="unexpected-question-mark-instead-of-tag-name",e.invalidFirstCharacterOfTagName="invalid-first-character-of-tag-name",e.unexpectedEqualsSignBeforeAttributeName="unexpected-equals-sign-before-attribute-name",e.missingEndTagName="missing-end-tag-name",e.unexpectedCharacterInAttributeName="unexpected-character-in-attribute-name",e.unknownNamedCharacterReference="unknown-named-character-reference",e.missingSemicolonAfterCharacterReference="missing-semicolon-after-character-reference",e.unexpectedCharacterAfterDoctypeSystemIdentifier="unexpected-character-after-doctype-system-identifier",e.unexpectedCharacterInUnquotedAttributeValue="unexpected-character-in-unquoted-attribute-value",e.eofBeforeTagName="eof-before-tag-name",e.eofInTag="eof-in-tag",e.missingAttributeValue="missing-attribute-value",e.missingWhitespaceBetweenAttributes="missing-whitespace-between-attributes",e.missingWhitespaceAfterDoctypePublicKeyword="missing-whitespace-after-doctype-public-keyword",e.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers="missing-whitespace-between-doctype-public-and-system-identifiers",e.missingWhitespaceAfterDoctypeSystemKeyword="missing-whitespace-after-doctype-system-keyword",e.missingQuoteBeforeDoctypePublicIdentifier="missing-quote-before-doctype-public-identifier",e.missingQuoteBeforeDoctypeSystemIdentifier="missing-quote-before-doctype-system-identifier",e.missingDoctypePublicIdentifier="missing-doctype-public-identifier",e.missingDoctypeSystemIdentifier="missing-doctype-system-identifier",e.abruptDoctypePublicIdentifier="abrupt-doctype-public-identifier",e.abruptDoctypeSystemIdentifier="abrupt-doctype-system-identifier",e.cdataInHtmlContent="cdata-in-html-content",e.incorrectlyOpenedComment="incorrectly-opened-comment",e.eofInScriptHtmlCommentLikeText="eof-in-script-html-comment-like-text",e.eofInDoctype="eof-in-doctype",e.nestedComment="nested-comment",e.abruptClosingOfEmptyComment="abrupt-closing-of-empty-comment",e.eofInComment="eof-in-comment",e.incorrectlyClosedComment="incorrectly-closed-comment",e.eofInCdata="eof-in-cdata",e.absenceOfDigitsInNumericCharacterReference="absence-of-digits-in-numeric-character-reference",e.nullCharacterReference="null-character-reference",e.surrogateCharacterReference="surrogate-character-reference",e.characterReferenceOutsideUnicodeRange="character-reference-outside-unicode-range",e.controlCharacterReference="control-character-reference",e.noncharacterCharacterReference="noncharacter-character-reference",e.missingWhitespaceBeforeDoctypeName="missing-whitespace-before-doctype-name",e.missingDoctypeName="missing-doctype-name",e.invalidCharacterSequenceAfterDoctypeName="invalid-character-sequence-after-doctype-name",e.duplicateAttribute="duplicate-attribute",e.nonConformingDoctype="non-conforming-doctype",e.missingDoctype="missing-doctype",e.misplacedDoctype="misplaced-doctype",e.endTagWithoutMatchingOpenElement="end-tag-without-matching-open-element",e.closingOfElementWithOpenChildElements="closing-of-element-with-open-child-elements",e.disallowedContentInNoscriptInHead="disallowed-content-in-noscript-in-head",e.openElementsLeftAfterEof="open-elements-left-after-eof",e.abandonedHeadElementChild="abandoned-head-element-child",e.misplacedStartTagForHeadElement="misplaced-start-tag-for-head-element",e.nestedNoscriptInHead="nested-noscript-in-head",e.eofInElementThatCanContainOnlyText="eof-in-element-that-can-contain-only-text"})(j||(j={}));const zU=65536;class VU{constructor(t){this.handler=t,this.html="",this.pos=-1,this.lastGapPos=-2,this.gapStack=[],this.skipNextNewLine=!1,this.lastChunkWritten=!1,this.endOfChunkHit=!1,this.bufferWaterline=zU,this.isEol=!1,this.lineStartPos=0,this.droppedBufferSize=0,this.line=1,this.lastErrOffset=-1}get col(){return this.pos-this.lineStartPos+ +(this.lastGapPos!==this.pos)}get offset(){return this.droppedBufferSize+this.pos}getError(t,n){const{line:r,col:i,offset:s}=this,o=i+n,a=s+n;return{code:t,startLine:r,endLine:r,startCol:o,endCol:o,startOffset:a,endOffset:a}}_err(t){this.handler.onParseError&&this.lastErrOffset!==this.offset&&(this.lastErrOffset=this.offset,this.handler.onParseError(this.getError(t,0)))}_addGap(){this.gapStack.push(this.lastGapPos),this.lastGapPos=this.pos}_processSurrogate(t){if(this.pos!==this.html.length-1){const n=this.html.charCodeAt(this.pos+1);if(UU(n))return this.pos++,this._addGap(),HU(t,n)}else if(!this.lastChunkWritten)return this.endOfChunkHit=!0,v.EOF;return this._err(j.surrogateInInputStream),t}willDropParsedChunk(){return this.pos>this.bufferWaterline}dropParsedChunk(){this.willDropParsedChunk()&&(this.html=this.html.substring(this.pos),this.lineStartPos-=this.pos,this.droppedBufferSize+=this.pos,this.pos=0,this.lastGapPos=-2,this.gapStack.length=0)}write(t,n){this.html.length>0?this.html+=t:this.html=t,this.endOfChunkHit=!1,this.lastChunkWritten=n}insertHtmlAtCurrentPos(t){this.html=this.html.substring(0,this.pos+1)+t+this.html.substring(this.pos+1),this.endOfChunkHit=!1}startsWith(t,n){if(this.pos+t.length>this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,!1;if(n)return this.html.startsWith(t,this.pos);for(let r=0;r<t.length;r++)if((this.html.charCodeAt(this.pos+r)|32)!==t.charCodeAt(r))return!1;return!0}peek(t){const n=this.pos+t;if(n>=this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,v.EOF;const r=this.html.charCodeAt(n);return r===v.CARRIAGE_RETURN?v.LINE_FEED:r}advance(){if(this.pos++,this.isEol&&(this.isEol=!1,this.line++,this.lineStartPos=this.pos),this.pos>=this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,v.EOF;let t=this.html.charCodeAt(this.pos);return t===v.CARRIAGE_RETURN?(this.isEol=!0,this.skipNextNewLine=!0,v.LINE_FEED):t===v.LINE_FEED&&(this.isEol=!0,this.skipNextNewLine)?(this.line--,this.skipNextNewLine=!1,this._addGap(),this.advance()):(this.skipNextNewLine=!1,KA(t)&&(t=this._processSurrogate(t)),this.handler.onParseError===null||t>31&&t<127||t===v.LINE_FEED||t===v.CARRIAGE_RETURN||t>159&&t<64976||this._checkForProblematicCharacters(t),t)}_checkForProblematicCharacters(t){XA(t)?this._err(j.controlCharacterInInputStream):QA(t)&&this._err(j.noncharacterInInputStream)}retreat(t){for(this.pos-=t;this.pos<this.lastGapPos;)this.lastGapPos=this.gapStack.pop(),this.pos--;this.isEol=!1}}var ot;(function(e){e[e.CHARACTER=0]="CHARACTER",e[e.NULL_CHARACTER=1]="NULL_CHARACTER",e[e.WHITESPACE_CHARACTER=2]="WHITESPACE_CHARACTER",e[e.START_TAG=3]="START_TAG",e[e.END_TAG=4]="END_TAG",e[e.COMMENT=5]="COMMENT",e[e.DOCTYPE=6]="DOCTYPE",e[e.EOF=7]="EOF",e[e.HIBERNATION=8]="HIBERNATION"})(ot||(ot={}));function JA(e,t){for(let n=e.attrs.length-1;n>=0;n--)if(e.attrs[n].name===t)return e.attrs[n].value;return null}const ZA=new Uint16Array('ᵁ<Õıʊҝջאٵ۞ޢߖࠏ੊ઑඡ๭༉༦჊ረዡᐕᒝᓃᓟᔥ\0\0\0\0\0\0ᕫᛍᦍᰒᷝ὾⁠↰⊍⏀⏻⑂⠤⤒ⴈ⹈⿎〖㊺㘹㞬㣾㨨㩱㫠㬮ࠀEMabcfglmnoprstu\\bfms¦³¹ÈÏlig耻Æ䃆P耻&䀦cute耻Á䃁reve;䄂Āiyx}rc耻Â䃂;䐐r;쀀𝔄rave耻À䃀pha;䎑acr;䄀d;橓Āgp¡on;䄄f;쀀𝔸plyFunction;恡ing耻Å䃅Ācs¾Ãr;쀀𝒜ign;扔ilde耻Ã䃃ml耻Ä䃄ЀaceforsuåûþėĜĢħĪĀcrêòkslash;或Ŷöø;櫧ed;挆y;䐑ƀcrtąċĔause;戵noullis;愬a;䎒r;쀀𝔅pf;쀀𝔹eve;䋘còēmpeq;扎܀HOacdefhilorsuōőŖƀƞƢƵƷƺǜȕɳɸɾcy;䐧PY耻©䂩ƀcpyŝŢźute;䄆Ā;iŧŨ拒talDifferentialD;慅leys;愭ȀaeioƉƎƔƘron;䄌dil耻Ç䃇rc;䄈nint;戰ot;䄊ĀdnƧƭilla;䂸terDot;䂷òſi;䎧rcleȀDMPTǇǋǑǖot;抙inus;抖lus;投imes;抗oĀcsǢǸkwiseContourIntegral;戲eCurlyĀDQȃȏoubleQuote;思uote;怙ȀlnpuȞȨɇɕonĀ;eȥȦ户;橴ƀgitȯȶȺruent;扡nt;戯ourIntegral;戮ĀfrɌɎ;愂oduct;成nterClockwiseContourIntegral;戳oss;樯cr;쀀𝒞pĀ;Cʄʅ拓ap;才րDJSZacefiosʠʬʰʴʸˋ˗ˡ˦̳ҍĀ;oŹʥtrahd;椑cy;䐂cy;䐅cy;䐏ƀgrsʿ˄ˇger;怡r;憡hv;櫤Āayː˕ron;䄎;䐔lĀ;t˝˞戇a;䎔r;쀀𝔇Āaf˫̧Ācm˰̢riticalȀADGT̖̜̀̆cute;䂴oŴ̋̍;䋙bleAcute;䋝rave;䁠ilde;䋜ond;拄ferentialD;慆Ѱ̽\0\0\0͔͂\0Ѕf;쀀𝔻ƀ;DE͈͉͍䂨ot;惜qual;扐blèCDLRUVͣͲ΂ϏϢϸontourIntegraìȹoɴ͹\0\0ͻ»͉nArrow;懓Āeo·ΤftƀARTΐΖΡrrow;懐ightArrow;懔eåˊngĀLRΫτeftĀARγιrrow;柸ightArrow;柺ightArrow;柹ightĀATϘϞrrow;懒ee;抨pɁϩ\0\0ϯrrow;懑ownArrow;懕erticalBar;戥ǹABLRTaВЪаўѿͼrrowƀ;BUНОТ憓ar;椓pArrow;懵reve;䌑eft˒к\0ц\0ѐightVector;楐eeVector;楞ectorĀ;Bљњ憽ar;楖ightǔѧ\0ѱeeVector;楟ectorĀ;BѺѻ懁ar;楗eeĀ;A҆҇护rrow;憧ĀctҒҗr;쀀𝒟rok;䄐ࠀNTacdfglmopqstuxҽӀӄӋӞӢӧӮӵԡԯԶՒ՝ՠեG;䅊H耻Ð䃐cute耻É䃉ƀaiyӒӗӜron;䄚rc耻Ê䃊;䐭ot;䄖r;쀀𝔈rave耻È䃈ement;戈ĀapӺӾcr;䄒tyɓԆ\0\0ԒmallSquare;旻erySmallSquare;斫ĀgpԦԪon;䄘f;쀀𝔼silon;䎕uĀaiԼՉlĀ;TՂՃ橵ilde;扂librium;懌Āci՗՚r;愰m;橳a;䎗ml耻Ë䃋Āipժկsts;戃onentialE;慇ʀcfiosօֈ֍ֲ׌y;䐤r;쀀𝔉lledɓ֗\0\0֣mallSquare;旼erySmallSquare;斪Ͱֺ\0ֿ\0\0ׄf;쀀𝔽All;戀riertrf;愱cò׋؀JTabcdfgorstר׬ׯ׺؀ؒؖ؛؝أ٬ٲcy;䐃耻>䀾mmaĀ;d׷׸䎓;䏜reve;䄞ƀeiy؇،ؐdil;䄢rc;䄜;䐓ot;䄠r;쀀𝔊;拙pf;쀀𝔾eater̀EFGLSTصلَٖٛ٦qualĀ;Lؾؿ扥ess;招ullEqual;执reater;檢ess;扷lantEqual;橾ilde;扳cr;쀀𝒢;扫ЀAacfiosuڅڋږڛڞڪھۊRDcy;䐪Āctڐڔek;䋇;䁞irc;䄤r;愌lbertSpace;愋ǰگ\0ڲf;愍izontalLine;攀Āctۃۅòکrok;䄦mpńېۘownHumðįqual;扏܀EJOacdfgmnostuۺ۾܃܇܎ܚܞܡܨ݄ݸދޏޕcy;䐕lig;䄲cy;䐁cute耻Í䃍Āiyܓܘrc耻Î䃎;䐘ot;䄰r;愑rave耻Ì䃌ƀ;apܠܯܿĀcgܴܷr;䄪inaryI;慈lieóϝǴ݉\0ݢĀ;eݍݎ戬Āgrݓݘral;戫section;拂isibleĀCTݬݲomma;恣imes;恢ƀgptݿރވon;䄮f;쀀𝕀a;䎙cr;愐ilde;䄨ǫޚ\0ޞcy;䐆l耻Ï䃏ʀcfosuެ޷޼߂ߐĀiyޱ޵rc;䄴;䐙r;쀀𝔍pf;쀀𝕁ǣ߇\0ߌr;쀀𝒥rcy;䐈kcy;䐄΀HJacfosߤߨ߽߬߱ࠂࠈcy;䐥cy;䐌ppa;䎚Āey߶߻dil;䄶;䐚r;쀀𝔎pf;쀀𝕂cr;쀀𝒦րJTaceflmostࠥࠩࠬࡐࡣ঳সে্਷ੇcy;䐉耻<䀼ʀcmnpr࠷࠼ࡁࡄࡍute;䄹bda;䎛g;柪lacetrf;愒r;憞ƀaeyࡗ࡜ࡡron;䄽dil;䄻;䐛Āfsࡨ॰tԀACDFRTUVarࡾࢩࢱࣦ࣠ࣼयज़ΐ४Ānrࢃ࢏gleBracket;柨rowƀ;BR࢙࢚࢞憐ar;懤ightArrow;懆eiling;挈oǵࢷ\0ࣃbleBracket;柦nǔࣈ\0࣒eeVector;楡ectorĀ;Bࣛࣜ懃ar;楙loor;挊ightĀAV࣯ࣵrrow;憔ector;楎Āerँगeƀ;AVउऊऐ抣rrow;憤ector;楚iangleƀ;BEतथऩ抲ar;槏qual;抴pƀDTVषूौownVector;楑eeVector;楠ectorĀ;Bॖॗ憿ar;楘ectorĀ;B॥०憼ar;楒ightáΜs̀EFGLSTॾঋকঝঢভqualGreater;拚ullEqual;扦reater;扶ess;檡lantEqual;橽ilde;扲r;쀀𝔏Ā;eঽা拘ftarrow;懚idot;䄿ƀnpw৔ਖਛgȀLRlr৞৷ਂਐeftĀAR০৬rrow;柵ightArrow;柷ightArrow;柶eftĀarγਊightáοightáϊf;쀀𝕃erĀLRਢਬeftArrow;憙ightArrow;憘ƀchtਾੀੂòࡌ;憰rok;䅁;扪Ѐacefiosuਗ਼੝੠੷੼અઋ઎p;椅y;䐜Ādl੥੯iumSpace;恟lintrf;愳r;쀀𝔐nusPlus;戓pf;쀀𝕄cò੶;䎜ҀJacefostuણધભીଔଙඑ඗ඞcy;䐊cute;䅃ƀaey઴હાron;䅇dil;䅅;䐝ƀgswે૰଎ativeƀMTV૓૟૨ediumSpace;怋hiĀcn૦૘ë૙eryThiî૙tedĀGL૸ଆreaterGreateòٳessLesóੈLine;䀊r;쀀𝔑ȀBnptଢନଷ଺reak;恠BreakingSpace;䂠f;愕ڀ;CDEGHLNPRSTV୕ୖ୪୼஡௫ఄ౞಄ದ೘ൡඅ櫬Āou୛୤ngruent;扢pCap;扭oubleVerticalBar;戦ƀlqxஃஊ஛ement;戉ualĀ;Tஒஓ扠ilde;쀀≂̸ists;戄reater΀;EFGLSTஶஷ஽௉௓௘௥扯qual;扱ullEqual;쀀≧̸reater;쀀≫̸ess;批lantEqual;쀀⩾̸ilde;扵umpń௲௽ownHump;쀀≎̸qual;쀀≏̸eĀfsఊధtTriangleƀ;BEచఛడ拪ar;쀀⧏̸qual;括s̀;EGLSTవశ఼ౄోౘ扮qual;扰reater;扸ess;쀀≪̸lantEqual;쀀⩽̸ilde;扴estedĀGL౨౹reaterGreater;쀀⪢̸essLess;쀀⪡̸recedesƀ;ESಒಓಛ技qual;쀀⪯̸lantEqual;拠ĀeiಫಹverseElement;戌ghtTriangleƀ;BEೋೌ೒拫ar;쀀⧐̸qual;拭ĀquೝഌuareSuĀbp೨೹setĀ;E೰ೳ쀀⊏̸qual;拢ersetĀ;Eഃആ쀀⊐̸qual;拣ƀbcpഓതൎsetĀ;Eഛഞ쀀⊂⃒qual;抈ceedsȀ;ESTലള഻െ抁qual;쀀⪰̸lantEqual;拡ilde;쀀≿̸ersetĀ;E൘൛쀀⊃⃒qual;抉ildeȀ;EFT൮൯൵ൿ扁qual;扄ullEqual;扇ilde;扉erticalBar;戤cr;쀀𝒩ilde耻Ñ䃑;䎝܀Eacdfgmoprstuvලෂ෉෕ෛ෠෧෼ขภยา฿ไlig;䅒cute耻Ó䃓Āiy෎ීrc耻Ô䃔;䐞blac;䅐r;쀀𝔒rave耻Ò䃒ƀaei෮ෲ෶cr;䅌ga;䎩cron;䎟pf;쀀𝕆enCurlyĀDQฎบoubleQuote;怜uote;怘;橔Āclวฬr;쀀𝒪ash耻Ø䃘iŬื฼de耻Õ䃕es;樷ml耻Ö䃖erĀBP๋๠Āar๐๓r;怾acĀek๚๜;揞et;掴arenthesis;揜Ҁacfhilors๿ງຊຏຒດຝະ໼rtialD;戂y;䐟r;쀀𝔓i;䎦;䎠usMinus;䂱Āipຢອncareplanåڝf;愙Ȁ;eio຺ູ໠໤檻cedesȀ;EST່້໏໚扺qual;檯lantEqual;扼ilde;找me;怳Ādp໩໮uct;戏ortionĀ;aȥ໹l;戝Āci༁༆r;쀀𝒫;䎨ȀUfos༑༖༛༟OT耻"䀢r;쀀𝔔pf;愚cr;쀀𝒬؀BEacefhiorsu༾གྷཇའཱིྦྷྪྭ႖ႩႴႾarr;椐G耻®䂮ƀcnrཎནབute;䅔g;柫rĀ;tཛྷཝ憠l;椖ƀaeyཧཬཱron;䅘dil;䅖;䐠Ā;vླྀཹ愜erseĀEUྂྙĀlq྇ྎement;戋uilibrium;懋pEquilibrium;楯r»ཹo;䎡ghtЀACDFTUVa࿁࿫࿳ဢဨၛႇϘĀnr࿆࿒gleBracket;柩rowƀ;BL࿜࿝࿡憒ar;懥eftArrow;懄eiling;按oǵ࿹\0စbleBracket;柧nǔည\0နeeVector;楝ectorĀ;Bဝသ懂ar;楕loor;挋Āerိ၃eƀ;AVဵံြ抢rrow;憦ector;楛iangleƀ;BEၐၑၕ抳ar;槐qual;抵pƀDTVၣၮၸownVector;楏eeVector;楜ectorĀ;Bႂႃ憾ar;楔ectorĀ;B႑႒懀ar;楓Āpuႛ႞f;愝ndImplies;楰ightarrow;懛ĀchႹႼr;愛;憱leDelayed;槴ڀHOacfhimoqstuფჱჷჽᄙᄞᅑᅖᅡᅧᆵᆻᆿĀCcჩხHcy;䐩y;䐨FTcy;䐬cute;䅚ʀ;aeiyᄈᄉᄎᄓᄗ檼ron;䅠dil;䅞rc;䅜;䐡r;쀀𝔖ortȀDLRUᄪᄴᄾᅉownArrow»ОeftArrow»࢚ightArrow»࿝pArrow;憑gma;䎣allCircle;战pf;쀀𝕊ɲᅭ\0\0ᅰt;戚areȀ;ISUᅻᅼᆉᆯ斡ntersection;抓uĀbpᆏᆞsetĀ;Eᆗᆘ抏qual;抑ersetĀ;Eᆨᆩ抐qual;抒nion;抔cr;쀀𝒮ar;拆ȀbcmpᇈᇛሉላĀ;sᇍᇎ拐etĀ;Eᇍᇕqual;抆ĀchᇠህeedsȀ;ESTᇭᇮᇴᇿ扻qual;檰lantEqual;扽ilde;承Tháྌ;我ƀ;esሒሓሣ拑rsetĀ;Eሜም抃qual;抇et»ሓրHRSacfhiorsሾቄ቉ቕ቞ቱቶኟዂወዑORN耻Þ䃞ADE;愢ĀHc቎ቒcy;䐋y;䐦Ābuቚቜ;䀉;䎤ƀaeyብቪቯron;䅤dil;䅢;䐢r;쀀𝔗Āeiቻ኉ǲኀ\0ኇefore;戴a;䎘Ācn኎ኘkSpace;쀀  Space;怉ldeȀ;EFTካኬኲኼ戼qual;扃ullEqual;扅ilde;扈pf;쀀𝕋ipleDot;惛Āctዖዛr;쀀𝒯rok;䅦ૡዷጎጚጦ\0ጬጱ\0\0\0\0\0ጸጽ፷ᎅ\0᏿ᐄᐊᐐĀcrዻጁute耻Ú䃚rĀ;oጇገ憟cir;楉rǣጓ\0጖y;䐎ve;䅬Āiyጞጣrc耻Û䃛;䐣blac;䅰r;쀀𝔘rave耻Ù䃙acr;䅪Ādiፁ፩erĀBPፈ፝Āarፍፐr;䁟acĀekፗፙ;揟et;掵arenthesis;揝onĀ;P፰፱拃lus;抎Āgp፻፿on;䅲f;쀀𝕌ЀADETadps᎕ᎮᎸᏄϨᏒᏗᏳrrowƀ;BDᅐᎠᎤar;椒ownArrow;懅ownArrow;憕quilibrium;楮eeĀ;AᏋᏌ报rrow;憥ownáϳerĀLRᏞᏨeftArrow;憖ightArrow;憗iĀ;lᏹᏺ䏒on;䎥ing;䅮cr;쀀𝒰ilde;䅨ml耻Ü䃜ҀDbcdefosvᐧᐬᐰᐳᐾᒅᒊᒐᒖash;披ar;櫫y;䐒ashĀ;lᐻᐼ抩;櫦Āerᑃᑅ;拁ƀbtyᑌᑐᑺar;怖Ā;iᑏᑕcalȀBLSTᑡᑥᑪᑴar;戣ine;䁼eparator;杘ilde;所ThinSpace;怊r;쀀𝔙pf;쀀𝕍cr;쀀𝒱dash;抪ʀcefosᒧᒬᒱᒶᒼirc;䅴dge;拀r;쀀𝔚pf;쀀𝕎cr;쀀𝒲Ȁfiosᓋᓐᓒᓘr;쀀𝔛;䎞pf;쀀𝕏cr;쀀𝒳ҀAIUacfosuᓱᓵᓹᓽᔄᔏᔔᔚᔠcy;䐯cy;䐇cy;䐮cute耻Ý䃝Āiyᔉᔍrc;䅶;䐫r;쀀𝔜pf;쀀𝕐cr;쀀𝒴ml;䅸ЀHacdefosᔵᔹᔿᕋᕏᕝᕠᕤcy;䐖cute;䅹Āayᕄᕉron;䅽;䐗ot;䅻ǲᕔ\0ᕛoWidtè૙a;䎖r;愨pf;愤cr;쀀𝒵௡ᖃᖊᖐ\0ᖰᖶᖿ\0\0\0\0ᗆᗛᗫᙟ᙭\0ᚕ᚛ᚲᚹ\0ᚾcute耻á䃡reve;䄃̀;Ediuyᖜᖝᖡᖣᖨᖭ戾;쀀∾̳;房rc耻â䃢te肻´̆;䐰lig耻æ䃦Ā;r²ᖺ;쀀𝔞rave耻à䃠ĀepᗊᗖĀfpᗏᗔsym;愵èᗓha;䎱ĀapᗟcĀclᗤᗧr;䄁g;樿ɤᗰ\0\0ᘊʀ;adsvᗺᗻᗿᘁᘇ戧nd;橕;橜lope;橘;橚΀;elmrszᘘᘙᘛᘞᘿᙏᙙ戠;榤e»ᘙsdĀ;aᘥᘦ戡ѡᘰᘲᘴᘶᘸᘺᘼᘾ;榨;榩;榪;榫;榬;榭;榮;榯tĀ;vᙅᙆ戟bĀ;dᙌᙍ抾;榝Āptᙔᙗh;戢»¹arr;捼Āgpᙣᙧon;䄅f;쀀𝕒΀;Eaeiop዁ᙻᙽᚂᚄᚇᚊ;橰cir;橯;扊d;手s;䀧roxĀ;e዁ᚒñᚃing耻å䃥ƀctyᚡᚦᚨr;쀀𝒶;䀪mpĀ;e዁ᚯñʈilde耻ã䃣ml耻ä䃤Āciᛂᛈoninôɲnt;樑ࠀNabcdefiklnoprsu᛭ᛱᜰ᜼ᝃᝈ᝸᝽០៦ᠹᡐᜍ᤽᥈ᥰot;櫭Ācrᛶ᜞kȀcepsᜀᜅᜍᜓong;扌psilon;䏶rime;怵imĀ;e᜚᜛戽q;拍Ŷᜢᜦee;抽edĀ;gᜬᜭ挅e»ᜭrkĀ;t፜᜷brk;掶Āoyᜁᝁ;䐱quo;怞ʀcmprtᝓ᝛ᝡᝤᝨausĀ;eĊĉptyv;榰séᜌnoõēƀahwᝯ᝱ᝳ;䎲;愶een;扬r;쀀𝔟g΀costuvwឍឝឳេ៕៛៞ƀaiuបពរðݠrc;旯p»፱ƀdptឤឨឭot;樀lus;樁imes;樂ɱឹ\0\0ើcup;樆ar;昅riangleĀdu៍្own;施p;斳plus;樄eåᑄåᒭarow;植ƀako៭ᠦᠵĀcn៲ᠣkƀlst៺֫᠂ozenge;槫riangleȀ;dlr᠒᠓᠘᠝斴own;斾eft;旂ight;斸k;搣Ʊᠫ\0ᠳƲᠯ\0ᠱ;斒;斑4;斓ck;斈ĀeoᠾᡍĀ;qᡃᡆ쀀=⃥uiv;쀀≡⃥t;挐Ȁptwxᡙᡞᡧᡬf;쀀𝕓Ā;tᏋᡣom»Ꮜtie;拈؀DHUVbdhmptuvᢅᢖᢪᢻᣗᣛᣬ᣿ᤅᤊᤐᤡȀLRlrᢎᢐᢒᢔ;敗;敔;敖;敓ʀ;DUduᢡᢢᢤᢦᢨ敐;敦;敩;敤;敧ȀLRlrᢳᢵᢷᢹ;敝;敚;敜;教΀;HLRhlrᣊᣋᣍᣏᣑᣓᣕ救;敬;散;敠;敫;敢;敟ox;槉ȀLRlrᣤᣦᣨᣪ;敕;敒;攐;攌ʀ;DUduڽ᣷᣹᣻᣽;敥;敨;攬;攴inus;抟lus;択imes;抠ȀLRlrᤙᤛᤝ᤟;敛;敘;攘;攔΀;HLRhlrᤰᤱᤳᤵᤷ᤻᤹攂;敪;敡;敞;攼;攤;攜Āevģ᥂bar耻¦䂦Ȁceioᥑᥖᥚᥠr;쀀𝒷mi;恏mĀ;e᜚᜜lƀ;bhᥨᥩᥫ䁜;槅sub;柈Ŭᥴ᥾lĀ;e᥹᥺怢t»᥺pƀ;Eeįᦅᦇ;檮Ā;qۜۛೡᦧ\0᧨ᨑᨕᨲ\0ᨷᩐ\0\0᪴\0\0᫁\0\0ᬡᬮ᭍᭒\0᯽\0ᰌƀcpr᦭ᦲ᧝ute;䄇̀;abcdsᦿᧀᧄ᧊᧕᧙戩nd;橄rcup;橉Āau᧏᧒p;橋p;橇ot;橀;쀀∩︀Āeo᧢᧥t;恁îړȀaeiu᧰᧻ᨁᨅǰ᧵\0᧸s;橍on;䄍dil耻ç䃧rc;䄉psĀ;sᨌᨍ橌m;橐ot;䄋ƀdmnᨛᨠᨦil肻¸ƭptyv;榲t脀¢;eᨭᨮ䂢räƲr;쀀𝔠ƀceiᨽᩀᩍy;䑇ckĀ;mᩇᩈ朓ark»ᩈ;䏇r΀;Ecefms᩟᩠ᩢᩫ᪤᪪᪮旋;槃ƀ;elᩩᩪᩭ䋆q;扗eɡᩴ\0\0᪈rrowĀlr᩼᪁eft;憺ight;憻ʀRSacd᪒᪔᪖᪚᪟»ཇ;擈st;抛irc;抚ash;抝nint;樐id;櫯cir;槂ubsĀ;u᪻᪼晣it»᪼ˬ᫇᫔᫺\0ᬊonĀ;eᫍᫎ䀺Ā;qÇÆɭ᫙\0\0᫢aĀ;t᫞᫟䀬;䁀ƀ;fl᫨᫩᫫戁îᅠeĀmx᫱᫶ent»᫩eóɍǧ᫾\0ᬇĀ;dኻᬂot;橭nôɆƀfryᬐᬔᬗ;쀀𝕔oäɔ脀©;sŕᬝr;愗Āaoᬥᬩrr;憵ss;朗Ācuᬲᬷr;쀀𝒸Ābpᬼ᭄Ā;eᭁᭂ櫏;櫑Ā;eᭉᭊ櫐;櫒dot;拯΀delprvw᭠᭬᭷ᮂᮬᯔ᯹arrĀlr᭨᭪;椸;椵ɰ᭲\0\0᭵r;拞c;拟arrĀ;p᭿ᮀ憶;椽̀;bcdosᮏᮐᮖᮡᮥᮨ截rcap;橈Āauᮛᮞp;橆p;橊ot;抍r;橅;쀀∪︀Ȁalrv᮵ᮿᯞᯣrrĀ;mᮼᮽ憷;椼yƀevwᯇᯔᯘqɰᯎ\0\0ᯒreã᭳uã᭵ee;拎edge;拏en耻¤䂤earrowĀlrᯮ᯳eft»ᮀight»ᮽeäᯝĀciᰁᰇoninôǷnt;戱lcty;挭ঀAHabcdefhijlorstuwz᰸᰻᰿ᱝᱩᱵᲊᲞᲬᲷ᳻᳿ᴍᵻᶑᶫᶻ᷆᷍rò΁ar;楥Ȁglrs᱈ᱍ᱒᱔ger;怠eth;愸òᄳhĀ;vᱚᱛ怐»ऊūᱡᱧarow;椏aã̕Āayᱮᱳron;䄏;䐴ƀ;ao̲ᱼᲄĀgrʿᲁr;懊tseq;橷ƀglmᲑᲔᲘ耻°䂰ta;䎴ptyv;榱ĀirᲣᲨsht;楿;쀀𝔡arĀlrᲳᲵ»ࣜ»သʀaegsv᳂͸᳖᳜᳠mƀ;oș᳊᳔ndĀ;ș᳑uit;晦amma;䏝in;拲ƀ;io᳧᳨᳸䃷de脀÷;o᳧ᳰntimes;拇nø᳷cy;䑒cɯᴆ\0\0ᴊrn;挞op;挍ʀlptuwᴘᴝᴢᵉᵕlar;䀤f;쀀𝕕ʀ;emps̋ᴭᴷᴽᵂqĀ;d͒ᴳot;扑inus;戸lus;戔quare;抡blebarwedgåúnƀadhᄮᵝᵧownarrowóᲃarpoonĀlrᵲᵶefôᲴighôᲶŢᵿᶅkaro÷གɯᶊ\0\0ᶎrn;挟op;挌ƀcotᶘᶣᶦĀryᶝᶡ;쀀𝒹;䑕l;槶rok;䄑Ādrᶰᶴot;拱iĀ;fᶺ᠖斿Āah᷀᷃ròЩaòྦangle;榦Āci᷒ᷕy;䑟grarr;柿ऀDacdefglmnopqrstuxḁḉḙḸոḼṉṡṾấắẽỡἪἷὄ὎὚ĀDoḆᴴoôᲉĀcsḎḔute耻é䃩ter;橮ȀaioyḢḧḱḶron;䄛rĀ;cḭḮ扖耻ê䃪lon;払;䑍ot;䄗ĀDrṁṅot;扒;쀀𝔢ƀ;rsṐṑṗ檚ave耻è䃨Ā;dṜṝ檖ot;檘Ȁ;ilsṪṫṲṴ檙nters;揧;愓Ā;dṹṺ檕ot;檗ƀapsẅẉẗcr;䄓tyƀ;svẒẓẕ戅et»ẓpĀ1;ẝẤĳạả;怄;怅怃ĀgsẪẬ;䅋p;怂ĀgpẴẸon;䄙f;쀀𝕖ƀalsỄỎỒrĀ;sỊị拕l;槣us;橱iƀ;lvỚớở䎵on»ớ;䏵ȀcsuvỪỳἋἣĀioữḱrc»Ḯɩỹ\0\0ỻíՈantĀglἂἆtr»ṝess»Ṻƀaeiἒ἖Ἒls;䀽st;扟vĀ;DȵἠD;橸parsl;槥ĀDaἯἳot;打rr;楱ƀcdiἾὁỸr;愯oô͒ĀahὉὋ;䎷耻ð䃰Āmrὓὗl耻ë䃫o;悬ƀcipὡὤὧl;䀡sôծĀeoὬὴctatioîՙnentialåչৡᾒ\0ᾞ\0ᾡᾧ\0\0ῆῌ\0ΐ\0ῦῪ \0 ⁚llingdotseñṄy;䑄male;晀ƀilrᾭᾳ῁lig;耀ﬃɩᾹ\0\0᾽g;耀ﬀig;耀ﬄ;쀀𝔣lig;耀ﬁlig;쀀fjƀaltῙ῜ῡt;晭ig;耀ﬂns;斱of;䆒ǰ΅\0ῳf;쀀𝕗ĀakֿῷĀ;vῼ´拔;櫙artint;樍Āao‌⁕Ācs‑⁒α‚‰‸⁅⁈\0⁐β•‥‧‪‬\0‮耻½䂽;慓耻¼䂼;慕;慙;慛Ƴ‴\0‶;慔;慖ʴ‾⁁\0\0⁃耻¾䂾;慗;慜5;慘ƶ⁌\0⁎;慚;慝8;慞l;恄wn;挢cr;쀀𝒻ࢀEabcdefgijlnorstv₂₉₟₥₰₴⃰⃵⃺⃿℃ℒℸ̗ℾ⅒↞Ā;lٍ₇;檌ƀcmpₐₕ₝ute;䇵maĀ;dₜ᳚䎳;檆reve;䄟Āiy₪₮rc;䄝;䐳ot;䄡Ȁ;lqsؾق₽⃉ƀ;qsؾٌ⃄lanô٥Ȁ;cdl٥⃒⃥⃕c;檩otĀ;o⃜⃝檀Ā;l⃢⃣檂;檄Ā;e⃪⃭쀀⋛︀s;檔r;쀀𝔤Ā;gٳ؛mel;愷cy;䑓Ȁ;Eajٚℌℎℐ;檒;檥;檤ȀEaesℛℝ℩ℴ;扩pĀ;p℣ℤ檊rox»ℤĀ;q℮ℯ檈Ā;q℮ℛim;拧pf;쀀𝕘Āci⅃ⅆr;愊mƀ;el٫ⅎ⅐;檎;檐茀>;cdlqr׮ⅠⅪⅮⅳⅹĀciⅥⅧ;檧r;橺ot;拗Par;榕uest;橼ʀadelsↄⅪ←ٖ↛ǰ↉\0↎proø₞r;楸qĀlqؿ↖lesó₈ií٫Āen↣↭rtneqq;쀀≩︀Å↪ԀAabcefkosy⇄⇇⇱⇵⇺∘∝∯≨≽ròΠȀilmr⇐⇔⇗⇛rsðᒄf»․ilôکĀdr⇠⇤cy;䑊ƀ;cwࣴ⇫⇯ir;楈;憭ar;意irc;䄥ƀalr∁∎∓rtsĀ;u∉∊晥it»∊lip;怦con;抹r;쀀𝔥sĀew∣∩arow;椥arow;椦ʀamopr∺∾≃≞≣rr;懿tht;戻kĀlr≉≓eftarrow;憩ightarrow;憪f;쀀𝕙bar;怕ƀclt≯≴≸r;쀀𝒽asè⇴rok;䄧Ābp⊂⊇ull;恃hen»ᱛૡ⊣\0⊪\0⊸⋅⋎\0⋕⋳\0\0⋸⌢⍧⍢⍿\0⎆⎪⎴cute耻í䃭ƀ;iyݱ⊰⊵rc耻î䃮;䐸Ācx⊼⊿y;䐵cl耻¡䂡ĀfrΟ⋉;쀀𝔦rave耻ì䃬Ȁ;inoܾ⋝⋩⋮Āin⋢⋦nt;樌t;戭fin;槜ta;愩lig;䄳ƀaop⋾⌚⌝ƀcgt⌅⌈⌗r;䄫ƀelpܟ⌏⌓inåގarôܠh;䄱f;抷ed;䆵ʀ;cfotӴ⌬⌱⌽⍁are;愅inĀ;t⌸⌹戞ie;槝doô⌙ʀ;celpݗ⍌⍐⍛⍡al;抺Āgr⍕⍙eróᕣã⍍arhk;樗rod;樼Ȁcgpt⍯⍲⍶⍻y;䑑on;䄯f;쀀𝕚a;䎹uest耻¿䂿Āci⎊⎏r;쀀𝒾nʀ;EdsvӴ⎛⎝⎡ӳ;拹ot;拵Ā;v⎦⎧拴;拳Ā;iݷ⎮lde;䄩ǫ⎸\0⎼cy;䑖l耻ï䃯̀cfmosu⏌⏗⏜⏡⏧⏵Āiy⏑⏕rc;䄵;䐹r;쀀𝔧ath;䈷pf;쀀𝕛ǣ⏬\0⏱r;쀀𝒿rcy;䑘kcy;䑔Ѐacfghjos␋␖␢␧␭␱␵␻ppaĀ;v␓␔䎺;䏰Āey␛␠dil;䄷;䐺r;쀀𝔨reen;䄸cy;䑅cy;䑜pf;쀀𝕜cr;쀀𝓀஀ABEHabcdefghjlmnoprstuv⑰⒁⒆⒍⒑┎┽╚▀♎♞♥♹♽⚚⚲⛘❝❨➋⟀⠁⠒ƀart⑷⑺⑼rò৆òΕail;椛arr;椎Ā;gঔ⒋;檋ar;楢ॣ⒥\0⒪\0⒱\0\0\0\0\0⒵Ⓔ\0ⓆⓈⓍ\0⓹ute;䄺mptyv;榴raîࡌbda;䎻gƀ;dlࢎⓁⓃ;榑åࢎ;檅uo耻«䂫rЀ;bfhlpst࢙ⓞⓦⓩ⓫⓮⓱⓵Ā;f࢝ⓣs;椟s;椝ë≒p;憫l;椹im;楳l;憢ƀ;ae⓿─┄檫il;椙Ā;s┉┊檭;쀀⪭︀ƀabr┕┙┝rr;椌rk;杲Āak┢┬cĀek┨┪;䁻;䁛Āes┱┳;榋lĀdu┹┻;榏;榍Ȁaeuy╆╋╖╘ron;䄾Ādi═╔il;䄼ìࢰâ┩;䐻Ȁcqrs╣╦╭╽a;椶uoĀ;rนᝆĀdu╲╷har;楧shar;楋h;憲ʀ;fgqs▋▌উ◳◿扤tʀahlrt▘▤▷◂◨rrowĀ;t࢙□aé⓶arpoonĀdu▯▴own»њp»०eftarrows;懇ightƀahs◍◖◞rrowĀ;sࣴࢧarpoonó྘quigarro÷⇰hreetimes;拋ƀ;qs▋ও◺lanôবʀ;cdgsব☊☍☝☨c;檨otĀ;o☔☕橿Ā;r☚☛檁;檃Ā;e☢☥쀀⋚︀s;檓ʀadegs☳☹☽♉♋pproøⓆot;拖qĀgq♃♅ôউgtò⒌ôছiíলƀilr♕࣡♚sht;楼;쀀𝔩Ā;Eজ♣;檑š♩♶rĀdu▲♮Ā;l॥♳;楪lk;斄cy;䑙ʀ;achtੈ⚈⚋⚑⚖rò◁orneòᴈard;楫ri;旺Āio⚟⚤dot;䅀ustĀ;a⚬⚭掰che»⚭ȀEaes⚻⚽⛉⛔;扨pĀ;p⛃⛄檉rox»⛄Ā;q⛎⛏檇Ā;q⛎⚻im;拦Ѐabnoptwz⛩⛴⛷✚✯❁❇❐Ānr⛮⛱g;柬r;懽rëࣁgƀlmr⛿✍✔eftĀar০✇ightá৲apsto;柼ightá৽parrowĀlr✥✩efô⓭ight;憬ƀafl✶✹✽r;榅;쀀𝕝us;樭imes;樴š❋❏st;戗áፎƀ;ef❗❘᠀旊nge»❘arĀ;l❤❥䀨t;榓ʀachmt❳❶❼➅➇ròࢨorneòᶌarĀ;d྘➃;業;怎ri;抿̀achiqt➘➝ੀ➢➮➻quo;怹r;쀀𝓁mƀ;egল➪➬;檍;檏Ābu┪➳oĀ;rฟ➹;怚rok;䅂萀<;cdhilqrࠫ⟒☹⟜⟠⟥⟪⟰Āci⟗⟙;檦r;橹reå◲mes;拉arr;楶uest;橻ĀPi⟵⟹ar;榖ƀ;ef⠀भ᠛旃rĀdu⠇⠍shar;楊har;楦Āen⠗⠡rtneqq;쀀≨︀Å⠞܀Dacdefhilnopsu⡀⡅⢂⢎⢓⢠⢥⢨⣚⣢⣤ઃ⣳⤂Dot;戺Ȁclpr⡎⡒⡣⡽r耻¯䂯Āet⡗⡙;時Ā;e⡞⡟朠se»⡟Ā;sျ⡨toȀ;dluျ⡳⡷⡻owîҌefôएðᏑker;斮Āoy⢇⢌mma;権;䐼ash;怔asuredangle»ᘦr;쀀𝔪o;愧ƀcdn⢯⢴⣉ro耻µ䂵Ȁ;acdᑤ⢽⣀⣄sôᚧir;櫰ot肻·Ƶusƀ;bd⣒ᤃ⣓戒Ā;uᴼ⣘;横ţ⣞⣡p;櫛ò−ðઁĀdp⣩⣮els;抧f;쀀𝕞Āct⣸⣽r;쀀𝓂pos»ᖝƀ;lm⤉⤊⤍䎼timap;抸ఀGLRVabcdefghijlmoprstuvw⥂⥓⥾⦉⦘⧚⧩⨕⨚⩘⩝⪃⪕⪤⪨⬄⬇⭄⭿⮮ⰴⱧⱼ⳩Āgt⥇⥋;쀀⋙̸Ā;v⥐௏쀀≫⃒ƀelt⥚⥲⥶ftĀar⥡⥧rrow;懍ightarrow;懎;쀀⋘̸Ā;v⥻ే쀀≪⃒ightarrow;懏ĀDd⦎⦓ash;抯ash;抮ʀbcnpt⦣⦧⦬⦱⧌la»˞ute;䅄g;쀀∠⃒ʀ;Eiop඄⦼⧀⧅⧈;쀀⩰̸d;쀀≋̸s;䅉roø඄urĀ;a⧓⧔普lĀ;s⧓ସǳ⧟\0⧣p肻 ଷmpĀ;e௹ఀʀaeouy⧴⧾⨃⨐⨓ǰ⧹\0⧻;橃on;䅈dil;䅆ngĀ;dൾ⨊ot;쀀⩭̸p;橂;䐽ash;怓΀;Aadqsxஒ⨩⨭⨻⩁⩅⩐rr;懗rĀhr⨳⨶k;椤Ā;oᏲᏰot;쀀≐̸uiöୣĀei⩊⩎ar;椨í஘istĀ;s஠டr;쀀𝔫ȀEest௅⩦⩹⩼ƀ;qs஼⩭௡ƀ;qs஼௅⩴lanô௢ií௪Ā;rஶ⪁»ஷƀAap⪊⪍⪑rò⥱rr;憮ar;櫲ƀ;svྍ⪜ྌĀ;d⪡⪢拼;拺cy;䑚΀AEadest⪷⪺⪾⫂⫅⫶⫹rò⥦;쀀≦̸rr;憚r;急Ȁ;fqs఻⫎⫣⫯tĀar⫔⫙rro÷⫁ightarro÷⪐ƀ;qs఻⪺⫪lanôౕĀ;sౕ⫴»శiíౝĀ;rవ⫾iĀ;eచథiäඐĀpt⬌⬑f;쀀𝕟膀¬;in⬙⬚⬶䂬nȀ;Edvஉ⬤⬨⬮;쀀⋹̸ot;쀀⋵̸ǡஉ⬳⬵;拷;拶iĀ;vಸ⬼ǡಸ⭁⭃;拾;拽ƀaor⭋⭣⭩rȀ;ast୻⭕⭚⭟lleì୻l;쀀⫽⃥;쀀∂̸lint;樔ƀ;ceಒ⭰⭳uåಥĀ;cಘ⭸Ā;eಒ⭽ñಘȀAait⮈⮋⮝⮧rò⦈rrƀ;cw⮔⮕⮙憛;쀀⤳̸;쀀↝̸ghtarrow»⮕riĀ;eೋೖ΀chimpqu⮽⯍⯙⬄୸⯤⯯Ȁ;cerല⯆ഷ⯉uå൅;쀀𝓃ortɭ⬅\0\0⯖ará⭖mĀ;e൮⯟Ā;q൴൳suĀbp⯫⯭å೸åഋƀbcp⯶ⰑⰙȀ;Ees⯿ⰀഢⰄ抄;쀀⫅̸etĀ;eഛⰋqĀ;qണⰀcĀ;eലⰗñസȀ;EesⰢⰣൟⰧ抅;쀀⫆̸etĀ;e൘ⰮqĀ;qൠⰣȀgilrⰽⰿⱅⱇìௗlde耻ñ䃱çృiangleĀlrⱒⱜeftĀ;eచⱚñదightĀ;eೋⱥñ೗Ā;mⱬⱭ䎽ƀ;esⱴⱵⱹ䀣ro;愖p;怇ҀDHadgilrsⲏⲔⲙⲞⲣⲰⲶⳓⳣash;抭arr;椄p;쀀≍⃒ash;抬ĀetⲨⲬ;쀀≥⃒;쀀>⃒nfin;槞ƀAetⲽⳁⳅrr;椂;쀀≤⃒Ā;rⳊⳍ쀀<⃒ie;쀀⊴⃒ĀAtⳘⳜrr;椃rie;쀀⊵⃒im;쀀∼⃒ƀAan⳰⳴ⴂrr;懖rĀhr⳺⳽k;椣Ā;oᏧᏥear;椧ቓ᪕\0\0\0\0\0\0\0\0\0\0\0\0\0ⴭ\0ⴸⵈⵠⵥ⵲ⶄᬇ\0\0ⶍⶫ\0ⷈⷎ\0ⷜ⸙⸫⸾⹃Ācsⴱ᪗ute耻ó䃳ĀiyⴼⵅrĀ;c᪞ⵂ耻ô䃴;䐾ʀabios᪠ⵒⵗǈⵚlac;䅑v;樸old;榼lig;䅓Ācr⵩⵭ir;榿;쀀𝔬ͯ⵹\0\0⵼\0ⶂn;䋛ave耻ò䃲;槁Ābmⶈ෴ar;榵Ȁacitⶕ⶘ⶥⶨrò᪀Āir⶝ⶠr;榾oss;榻nå๒;槀ƀaeiⶱⶵⶹcr;䅍ga;䏉ƀcdnⷀⷅǍron;䎿;榶pf;쀀𝕠ƀaelⷔ⷗ǒr;榷rp;榹΀;adiosvⷪⷫⷮ⸈⸍⸐⸖戨rò᪆Ȁ;efmⷷⷸ⸂⸅橝rĀ;oⷾⷿ愴f»ⷿ耻ª䂪耻º䂺gof;抶r;橖lope;橗;橛ƀclo⸟⸡⸧ò⸁ash耻ø䃸l;折iŬⸯ⸴de耻õ䃵esĀ;aǛ⸺s;樶ml耻ö䃶bar;挽ૡ⹞\0⹽\0⺀⺝\0⺢⺹\0\0⻋ຜ\0⼓\0\0⼫⾼\0⿈rȀ;astЃ⹧⹲຅脀¶;l⹭⹮䂶leìЃɩ⹸\0\0⹻m;櫳;櫽y;䐿rʀcimpt⺋⺏⺓ᡥ⺗nt;䀥od;䀮il;怰enk;怱r;쀀𝔭ƀimo⺨⺰⺴Ā;v⺭⺮䏆;䏕maô੶ne;明ƀ;tv⺿⻀⻈䏀chfork»´;䏖Āau⻏⻟nĀck⻕⻝kĀ;h⇴⻛;愎ö⇴sҀ;abcdemst⻳⻴ᤈ⻹⻽⼄⼆⼊⼎䀫cir;樣ir;樢Āouᵀ⼂;樥;橲n肻±ຝim;樦wo;樧ƀipu⼙⼠⼥ntint;樕f;쀀𝕡nd耻£䂣Ԁ;Eaceinosu່⼿⽁⽄⽇⾁⾉⾒⽾⾶;檳p;檷uå໙Ā;c໎⽌̀;acens່⽙⽟⽦⽨⽾pproø⽃urlyeñ໙ñ໎ƀaes⽯⽶⽺pprox;檹qq;檵im;拨iíໟmeĀ;s⾈ຮ怲ƀEas⽸⾐⽺ð⽵ƀdfp໬⾙⾯ƀals⾠⾥⾪lar;挮ine;挒urf;挓Ā;t໻⾴ï໻rel;抰Āci⿀⿅r;쀀𝓅;䏈ncsp;怈̀fiopsu⿚⋢⿟⿥⿫⿱r;쀀𝔮pf;쀀𝕢rime;恗cr;쀀𝓆ƀaeo⿸〉〓tĀei⿾々rnionóڰnt;樖stĀ;e【】䀿ñἙô༔઀ABHabcdefhilmnoprstux぀けさすムㄎㄫㅇㅢㅲㆎ㈆㈕㈤㈩㉘㉮㉲㊐㊰㊷ƀartぇおがròႳòϝail;検aròᱥar;楤΀cdenqrtとふへみわゔヌĀeuねぱ;쀀∽̱te;䅕iãᅮmptyv;榳gȀ;del࿑らるろ;榒;榥å࿑uo耻»䂻rր;abcfhlpstw࿜ガクシスゼゾダッデナp;極Ā;f࿠ゴs;椠;椳s;椞ë≝ð✮l;楅im;楴l;憣;憝Āaiパフil;椚oĀ;nホボ戶aló༞ƀabrョリヮrò៥rk;杳ĀakンヽcĀekヹ・;䁽;䁝Āes㄂㄄;榌lĀduㄊㄌ;榎;榐Ȁaeuyㄗㄜㄧㄩron;䅙Ādiㄡㄥil;䅗ì࿲âヺ;䑀Ȁclqsㄴㄷㄽㅄa;椷dhar;楩uoĀ;rȎȍh;憳ƀacgㅎㅟངlȀ;ipsླྀㅘㅛႜnåႻarôྩt;断ƀilrㅩဣㅮsht;楽;쀀𝔯ĀaoㅷㆆrĀduㅽㅿ»ѻĀ;l႑ㆄ;楬Ā;vㆋㆌ䏁;䏱ƀgns㆕ㇹㇼht̀ahlrstㆤㆰ㇂㇘㇤㇮rrowĀ;t࿜ㆭaéトarpoonĀduㆻㆿowîㅾp»႒eftĀah㇊㇐rrowó࿪arpoonóՑightarrows;應quigarro÷ニhreetimes;拌g;䋚ingdotseñἲƀahm㈍㈐㈓rò࿪aòՑ;怏oustĀ;a㈞㈟掱che»㈟mid;櫮Ȁabpt㈲㈽㉀㉒Ānr㈷㈺g;柭r;懾rëဃƀafl㉇㉊㉎r;榆;쀀𝕣us;樮imes;樵Āap㉝㉧rĀ;g㉣㉤䀩t;榔olint;樒arò㇣Ȁachq㉻㊀Ⴜ㊅quo;怺r;쀀𝓇Ābu・㊊oĀ;rȔȓƀhir㊗㊛㊠reåㇸmes;拊iȀ;efl㊪ၙᠡ㊫方tri;槎luhar;楨;愞ൡ㋕㋛㋟㌬㌸㍱\0㍺㎤\0\0㏬㏰\0㐨㑈㑚㒭㒱㓊㓱\0㘖\0\0㘳cute;䅛quï➺Ԁ;Eaceinpsyᇭ㋳㋵㋿㌂㌋㌏㌟㌦㌩;檴ǰ㋺\0㋼;檸on;䅡uåᇾĀ;dᇳ㌇il;䅟rc;䅝ƀEas㌖㌘㌛;檶p;檺im;择olint;樓iíሄ;䑁otƀ;be㌴ᵇ㌵担;橦΀Aacmstx㍆㍊㍗㍛㍞㍣㍭rr;懘rĀhr㍐㍒ë∨Ā;oਸ਼਴t耻§䂧i;䀻war;椩mĀin㍩ðnuóñt;朶rĀ;o㍶⁕쀀𝔰Ȁacoy㎂㎆㎑㎠rp;景Āhy㎋㎏cy;䑉;䑈rtɭ㎙\0\0㎜iäᑤaraì⹯耻­䂭Āgm㎨㎴maƀ;fv㎱㎲㎲䏃;䏂Ѐ;deglnprካ㏅㏉㏎㏖㏞㏡㏦ot;橪Ā;q኱ኰĀ;E㏓㏔檞;檠Ā;E㏛㏜檝;檟e;扆lus;樤arr;楲aròᄽȀaeit㏸㐈㐏㐗Āls㏽㐄lsetmé㍪hp;樳parsl;槤Ādlᑣ㐔e;挣Ā;e㐜㐝檪Ā;s㐢㐣檬;쀀⪬︀ƀflp㐮㐳㑂tcy;䑌Ā;b㐸㐹䀯Ā;a㐾㐿槄r;挿f;쀀𝕤aĀdr㑍ЂesĀ;u㑔㑕晠it»㑕ƀcsu㑠㑹㒟Āau㑥㑯pĀ;sᆈ㑫;쀀⊓︀pĀ;sᆴ㑵;쀀⊔︀uĀbp㑿㒏ƀ;esᆗᆜ㒆etĀ;eᆗ㒍ñᆝƀ;esᆨᆭ㒖etĀ;eᆨ㒝ñᆮƀ;afᅻ㒦ְrť㒫ֱ»ᅼaròᅈȀcemt㒹㒾㓂㓅r;쀀𝓈tmîñiì㐕aræᆾĀar㓎㓕rĀ;f㓔ឿ昆Āan㓚㓭ightĀep㓣㓪psiloîỠhé⺯s»⡒ʀbcmnp㓻㕞ሉ㖋㖎Ҁ;Edemnprs㔎㔏㔑㔕㔞㔣㔬㔱㔶抂;櫅ot;檽Ā;dᇚ㔚ot;櫃ult;櫁ĀEe㔨㔪;櫋;把lus;檿arr;楹ƀeiu㔽㕒㕕tƀ;en㔎㕅㕋qĀ;qᇚ㔏eqĀ;q㔫㔨m;櫇Ābp㕚㕜;櫕;櫓c̀;acensᇭ㕬㕲㕹㕻㌦pproø㋺urlyeñᇾñᇳƀaes㖂㖈㌛pproø㌚qñ㌗g;晪ڀ123;Edehlmnps㖩㖬㖯ሜ㖲㖴㗀㗉㗕㗚㗟㗨㗭耻¹䂹耻²䂲耻³䂳;櫆Āos㖹㖼t;檾ub;櫘Ā;dሢ㗅ot;櫄sĀou㗏㗒l;柉b;櫗arr;楻ult;櫂ĀEe㗤㗦;櫌;抋lus;櫀ƀeiu㗴㘉㘌tƀ;enሜ㗼㘂qĀ;qሢ㖲eqĀ;q㗧㗤m;櫈Ābp㘑㘓;櫔;櫖ƀAan㘜㘠㘭rr;懙rĀhr㘦㘨ë∮Ā;oਫ਩war;椪lig耻ß䃟௡㙑㙝㙠ዎ㙳㙹\0㙾㛂\0\0\0\0\0㛛㜃\0㜉㝬\0\0\0㞇ɲ㙖\0\0㙛get;挖;䏄rë๟ƀaey㙦㙫㙰ron;䅥dil;䅣;䑂lrec;挕r;쀀𝔱Ȁeiko㚆㚝㚵㚼ǲ㚋\0㚑eĀ4fኄኁaƀ;sv㚘㚙㚛䎸ym;䏑Ācn㚢㚲kĀas㚨㚮pproø዁im»ኬsðኞĀas㚺㚮ð዁rn耻þ䃾Ǭ̟㛆⋧es膀×;bd㛏㛐㛘䃗Ā;aᤏ㛕r;樱;樰ƀeps㛡㛣㜀á⩍Ȁ;bcf҆㛬㛰㛴ot;挶ir;櫱Ā;o㛹㛼쀀𝕥rk;櫚á㍢rime;怴ƀaip㜏㜒㝤dåቈ΀adempst㜡㝍㝀㝑㝗㝜㝟ngleʀ;dlqr㜰㜱㜶㝀㝂斵own»ᶻeftĀ;e⠀㜾ñम;扜ightĀ;e㊪㝋ñၚot;旬inus;樺lus;樹b;槍ime;樻ezium;揢ƀcht㝲㝽㞁Āry㝷㝻;쀀𝓉;䑆cy;䑛rok;䅧Āio㞋㞎xô᝷headĀlr㞗㞠eftarro÷ࡏightarrow»ཝऀAHabcdfghlmoprstuw㟐㟓㟗㟤㟰㟼㠎㠜㠣㠴㡑㡝㡫㢩㣌㣒㣪㣶ròϭar;楣Ācr㟜㟢ute耻ú䃺òᅐrǣ㟪\0㟭y;䑞ve;䅭Āiy㟵㟺rc耻û䃻;䑃ƀabh㠃㠆㠋ròᎭlac;䅱aòᏃĀir㠓㠘sht;楾;쀀𝔲rave耻ù䃹š㠧㠱rĀlr㠬㠮»ॗ»ႃlk;斀Āct㠹㡍ɯ㠿\0\0㡊rnĀ;e㡅㡆挜r»㡆op;挏ri;旸Āal㡖㡚cr;䅫肻¨͉Āgp㡢㡦on;䅳f;쀀𝕦̀adhlsuᅋ㡸㡽፲㢑㢠ownáᎳarpoonĀlr㢈㢌efô㠭ighô㠯iƀ;hl㢙㢚㢜䏅»ᏺon»㢚parrows;懈ƀcit㢰㣄㣈ɯ㢶\0\0㣁rnĀ;e㢼㢽挝r»㢽op;挎ng;䅯ri;旹cr;쀀𝓊ƀdir㣙㣝㣢ot;拰lde;䅩iĀ;f㜰㣨»᠓Āam㣯㣲rò㢨l耻ü䃼angle;榧ހABDacdeflnoprsz㤜㤟㤩㤭㦵㦸㦽㧟㧤㧨㧳㧹㧽㨁㨠ròϷarĀ;v㤦㤧櫨;櫩asèϡĀnr㤲㤷grt;榜΀eknprst㓣㥆㥋㥒㥝㥤㦖appá␕othinçẖƀhir㓫⻈㥙opô⾵Ā;hᎷ㥢ïㆍĀiu㥩㥭gmá㎳Ābp㥲㦄setneqĀ;q㥽㦀쀀⊊︀;쀀⫋︀setneqĀ;q㦏㦒쀀⊋︀;쀀⫌︀Āhr㦛㦟etá㚜iangleĀlr㦪㦯eft»थight»ၑy;䐲ash»ံƀelr㧄㧒㧗ƀ;beⷪ㧋㧏ar;抻q;扚lip;拮Ābt㧜ᑨaòᑩr;쀀𝔳tré㦮suĀbp㧯㧱»ജ»൙pf;쀀𝕧roð໻tré㦴Ācu㨆㨋r;쀀𝓋Ābp㨐㨘nĀEe㦀㨖»㥾nĀEe㦒㨞»㦐igzag;榚΀cefoprs㨶㨻㩖㩛㩔㩡㩪irc;䅵Ādi㩀㩑Ābg㩅㩉ar;機eĀ;qᗺ㩏;扙erp;愘r;쀀𝔴pf;쀀𝕨Ā;eᑹ㩦atèᑹcr;쀀𝓌ૣណ㪇\0㪋\0㪐㪛\0\0㪝㪨㪫㪯\0\0㫃㫎\0㫘ៜ៟tré៑r;쀀𝔵ĀAa㪔㪗ròσrò৶;䎾ĀAa㪡㪤ròθrò৫að✓is;拻ƀdptឤ㪵㪾Āfl㪺ឩ;쀀𝕩imåឲĀAa㫇㫊ròώròਁĀcq㫒ីr;쀀𝓍Āpt៖㫜ré។Ѐacefiosu㫰㫽㬈㬌㬑㬕㬛㬡cĀuy㫶㫻te耻ý䃽;䑏Āiy㬂㬆rc;䅷;䑋n耻¥䂥r;쀀𝔶cy;䑗pf;쀀𝕪cr;쀀𝓎Ācm㬦㬩y;䑎l耻ÿ䃿Ԁacdefhiosw㭂㭈㭔㭘㭤㭩㭭㭴㭺㮀cute;䅺Āay㭍㭒ron;䅾;䐷ot;䅼Āet㭝㭡træᕟa;䎶r;쀀𝔷cy;䐶grarr;懝pf;쀀𝕫cr;쀀𝓏Ājn㮅㮇;怍j;怌'.split("").map(e=>e.charCodeAt(0))),jU=new Uint16Array("Ȁaglq	\x1Bɭ\0\0p;䀦os;䀧t;䀾t;䀼uot;䀢".split("").map(e=>e.charCodeAt(0)));var qh;const qU=new Map([[0,65533],[128,8364],[130,8218],[131,402],[132,8222],[133,8230],[134,8224],[135,8225],[136,710],[137,8240],[138,352],[139,8249],[140,338],[142,381],[145,8216],[146,8217],[147,8220],[148,8221],[149,8226],[150,8211],[151,8212],[152,732],[153,8482],[154,353],[155,8250],[156,339],[158,382],[159,376]]),WU=(qh=String.fromCodePoint)!==null&&qh!==void 0?qh:function(e){let t="";return e>65535&&(e-=65536,t+=String.fromCharCode(e>>>10&1023|55296),e=56320|e&1023),t+=String.fromCharCode(e),t};function YU(e){var t;return e>=55296&&e<=57343||e>1114111?65533:(t=qU.get(e))!==null&&t!==void 0?t:e}var un;(function(e){e[e.NUM=35]="NUM",e[e.SEMI=59]="SEMI",e[e.EQUALS=61]="EQUALS",e[e.ZERO=48]="ZERO",e[e.NINE=57]="NINE",e[e.LOWER_A=97]="LOWER_A",e[e.LOWER_F=102]="LOWER_F",e[e.LOWER_X=120]="LOWER_X",e[e.LOWER_Z=122]="LOWER_Z",e[e.UPPER_A=65]="UPPER_A",e[e.UPPER_F=70]="UPPER_F",e[e.UPPER_Z=90]="UPPER_Z"})(un||(un={}));const GU=32;var Ws;(function(e){e[e.VALUE_LENGTH=49152]="VALUE_LENGTH",e[e.BRANCH_LENGTH=16256]="BRANCH_LENGTH",e[e.JUMP_TABLE=127]="JUMP_TABLE"})(Ws||(Ws={}));function Fg(e){return e>=un.ZERO&&e<=un.NINE}function KU(e){return e>=un.UPPER_A&&e<=un.UPPER_F||e>=un.LOWER_A&&e<=un.LOWER_F}function XU(e){return e>=un.UPPER_A&&e<=un.UPPER_Z||e>=un.LOWER_A&&e<=un.LOWER_Z||Fg(e)}function QU(e){return e===un.EQUALS||XU(e)}var rn;(function(e){e[e.EntityStart=0]="EntityStart",e[e.NumericStart=1]="NumericStart",e[e.NumericDecimal=2]="NumericDecimal",e[e.NumericHex=3]="NumericHex",e[e.NamedEntity=4]="NamedEntity"})(rn||(rn={}));var is;(function(e){e[e.Legacy=0]="Legacy",e[e.Strict=1]="Strict",e[e.Attribute=2]="Attribute"})(is||(is={}));class ek{constructor(t,n,r){this.decodeTree=t,this.emitCodePoint=n,this.errors=r,this.state=rn.EntityStart,this.consumed=1,this.result=0,this.treeIndex=0,this.excess=1,this.decodeMode=is.Strict}startEntity(t){this.decodeMode=t,this.state=rn.EntityStart,this.result=0,this.treeIndex=0,this.excess=1,this.consumed=1}write(t,n){switch(this.state){case rn.EntityStart:return t.charCodeAt(n)===un.NUM?(this.state=rn.NumericStart,this.consumed+=1,this.stateNumericStart(t,n+1)):(this.state=rn.NamedEntity,this.stateNamedEntity(t,n));case rn.NumericStart:return this.stateNumericStart(t,n);case rn.NumericDecimal:return this.stateNumericDecimal(t,n);case rn.NumericHex:return this.stateNumericHex(t,n);case rn.NamedEntity:return this.stateNamedEntity(t,n)}}stateNumericStart(t,n){return n>=t.length?-1:(t.charCodeAt(n)|GU)===un.LOWER_X?(this.state=rn.NumericHex,this.consumed+=1,this.stateNumericHex(t,n+1)):(this.state=rn.NumericDecimal,this.stateNumericDecimal(t,n))}addToNumericResult(t,n,r,i){if(n!==r){const s=r-n;this.result=this.result*Math.pow(i,s)+parseInt(t.substr(n,s),i),this.consumed+=s}}stateNumericHex(t,n){const r=n;for(;n<t.length;){const i=t.charCodeAt(n);if(Fg(i)||KU(i))n+=1;else return this.addToNumericResult(t,r,n,16),this.emitNumericEntity(i,3)}return this.addToNumericResult(t,r,n,16),-1}stateNumericDecimal(t,n){const r=n;for(;n<t.length;){const i=t.charCodeAt(n);if(Fg(i))n+=1;else return this.addToNumericResult(t,r,n,10),this.emitNumericEntity(i,2)}return this.addToNumericResult(t,r,n,10),-1}emitNumericEntity(t,n){var r;if(this.consumed<=n)return(r=this.errors)===null||r===void 0||r.absenceOfDigitsInNumericCharacterReference(this.consumed),0;if(t===un.SEMI)this.consumed+=1;else if(this.decodeMode===is.Strict)return 0;return this.emitCodePoint(YU(this.result),this.consumed),this.errors&&(t!==un.SEMI&&this.errors.missingSemicolonAfterCharacterReference(),this.errors.validateNumericCharacterReference(this.result)),this.consumed}stateNamedEntity(t,n){const{decodeTree:r}=this;let i=r[this.treeIndex],s=(i&Ws.VALUE_LENGTH)>>14;for(;n<t.length;n++,this.excess++){const o=t.charCodeAt(n);if(this.treeIndex=JU(r,i,this.treeIndex+Math.max(1,s),o),this.treeIndex<0)return this.result===0||this.decodeMode===is.Attribute&&(s===0||QU(o))?0:this.emitNotTerminatedNamedEntity();if(i=r[this.treeIndex],s=(i&Ws.VALUE_LENGTH)>>14,s!==0){if(o===un.SEMI)return this.emitNamedEntityData(this.treeIndex,s,this.consumed+this.excess);this.decodeMode!==is.Strict&&(this.result=this.treeIndex,this.consumed+=this.excess,this.excess=0)}}return-1}emitNotTerminatedNamedEntity(){var t;const{result:n,decodeTree:r}=this,i=(r[n]&Ws.VALUE_LENGTH)>>14;return this.emitNamedEntityData(n,i,this.consumed),(t=this.errors)===null||t===void 0||t.missingSemicolonAfterCharacterReference(),this.consumed}emitNamedEntityData(t,n,r){const{decodeTree:i}=this;return this.emitCodePoint(n===1?i[t]&~Ws.VALUE_LENGTH:i[t+1],r),n===3&&this.emitCodePoint(i[t+2],r),r}end(){var t;switch(this.state){case rn.NamedEntity:return this.result!==0&&(this.decodeMode!==is.Attribute||this.result===this.treeIndex)?this.emitNotTerminatedNamedEntity():0;case rn.NumericDecimal:return this.emitNumericEntity(0,2);case rn.NumericHex:return this.emitNumericEntity(0,3);case rn.NumericStart:return(t=this.errors)===null||t===void 0||t.absenceOfDigitsInNumericCharacterReference(this.consumed),0;case rn.EntityStart:return 0}}}function tk(e){let t="";const n=new ek(e,r=>t+=WU(r));return function(i,s){let o=0,a=0;for(;(a=i.indexOf("&",a))>=0;){t+=i.slice(o,a),n.startEntity(s);const u=n.write(i,a+1);if(u<0){o=a+n.end();break}o=a+u,a=u===0?o+1:o}const l=t+i.slice(o);return t="",l}}function JU(e,t,n,r){const i=(t&Ws.BRANCH_LENGTH)>>7,s=t&Ws.JUMP_TABLE;if(i===0)return s!==0&&r===s?n:-1;if(s){const l=r-s;return l<0||l>=i?-1:e[n+l]-1}let o=n,a=o+i-1;for(;o<=a;){const l=o+a>>>1,u=e[l];if(u<r)o=l+1;else if(u>r)a=l-1;else return e[l+i]}return-1}tk(ZA);tk(jU);var re;(function(e){e.HTML="http://www.w3.org/1999/xhtml",e.MATHML="http://www.w3.org/1998/Math/MathML",e.SVG="http://www.w3.org/2000/svg",e.XLINK="http://www.w3.org/1999/xlink",e.XML="http://www.w3.org/XML/1998/namespace",e.XMLNS="http://www.w3.org/2000/xmlns/"})(re||(re={}));var zo;(function(e){e.TYPE="type",e.ACTION="action",e.ENCODING="encoding",e.PROMPT="prompt",e.NAME="name",e.COLOR="color",e.FACE="face",e.SIZE="size"})(zo||(zo={}));var Or;(function(e){e.NO_QUIRKS="no-quirks",e.QUIRKS="quirks",e.LIMITED_QUIRKS="limited-quirks"})(Or||(Or={}));var $;(function(e){e.A="a",e.ADDRESS="address",e.ANNOTATION_XML="annotation-xml",e.APPLET="applet",e.AREA="area",e.ARTICLE="article",e.ASIDE="aside",e.B="b",e.BASE="base",e.BASEFONT="basefont",e.BGSOUND="bgsound",e.BIG="big",e.BLOCKQUOTE="blockquote",e.BODY="body",e.BR="br",e.BUTTON="button",e.CAPTION="caption",e.CENTER="center",e.CODE="code",e.COL="col",e.COLGROUP="colgroup",e.DD="dd",e.DESC="desc",e.DETAILS="details",e.DIALOG="dialog",e.DIR="dir",e.DIV="div",e.DL="dl",e.DT="dt",e.EM="em",e.EMBED="embed",e.FIELDSET="fieldset",e.FIGCAPTION="figcaption",e.FIGURE="figure",e.FONT="font",e.FOOTER="footer",e.FOREIGN_OBJECT="foreignObject",e.FORM="form",e.FRAME="frame",e.FRAMESET="frameset",e.H1="h1",e.H2="h2",e.H3="h3",e.H4="h4",e.H5="h5",e.H6="h6",e.HEAD="head",e.HEADER="header",e.HGROUP="hgroup",e.HR="hr",e.HTML="html",e.I="i",e.IMG="img",e.IMAGE="image",e.INPUT="input",e.IFRAME="iframe",e.KEYGEN="keygen",e.LABEL="label",e.LI="li",e.LINK="link",e.LISTING="listing",e.MAIN="main",e.MALIGNMARK="malignmark",e.MARQUEE="marquee",e.MATH="math",e.MENU="menu",e.META="meta",e.MGLYPH="mglyph",e.MI="mi",e.MO="mo",e.MN="mn",e.MS="ms",e.MTEXT="mtext",e.NAV="nav",e.NOBR="nobr",e.NOFRAMES="noframes",e.NOEMBED="noembed",e.NOSCRIPT="noscript",e.OBJECT="object",e.OL="ol",e.OPTGROUP="optgroup",e.OPTION="option",e.P="p",e.PARAM="param",e.PLAINTEXT="plaintext",e.PRE="pre",e.RB="rb",e.RP="rp",e.RT="rt",e.RTC="rtc",e.RUBY="ruby",e.S="s",e.SCRIPT="script",e.SEARCH="search",e.SECTION="section",e.SELECT="select",e.SOURCE="source",e.SMALL="small",e.SPAN="span",e.STRIKE="strike",e.STRONG="strong",e.STYLE="style",e.SUB="sub",e.SUMMARY="summary",e.SUP="sup",e.TABLE="table",e.TBODY="tbody",e.TEMPLATE="template",e.TEXTAREA="textarea",e.TFOOT="tfoot",e.TD="td",e.TH="th",e.THEAD="thead",e.TITLE="title",e.TR="tr",e.TRACK="track",e.TT="tt",e.U="u",e.UL="ul",e.SVG="svg",e.VAR="var",e.WBR="wbr",e.XMP="xmp"})($||($={}));var h;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.A=1]="A",e[e.ADDRESS=2]="ADDRESS",e[e.ANNOTATION_XML=3]="ANNOTATION_XML",e[e.APPLET=4]="APPLET",e[e.AREA=5]="AREA",e[e.ARTICLE=6]="ARTICLE",e[e.ASIDE=7]="ASIDE",e[e.B=8]="B",e[e.BASE=9]="BASE",e[e.BASEFONT=10]="BASEFONT",e[e.BGSOUND=11]="BGSOUND",e[e.BIG=12]="BIG",e[e.BLOCKQUOTE=13]="BLOCKQUOTE",e[e.BODY=14]="BODY",e[e.BR=15]="BR",e[e.BUTTON=16]="BUTTON",e[e.CAPTION=17]="CAPTION",e[e.CENTER=18]="CENTER",e[e.CODE=19]="CODE",e[e.COL=20]="COL",e[e.COLGROUP=21]="COLGROUP",e[e.DD=22]="DD",e[e.DESC=23]="DESC",e[e.DETAILS=24]="DETAILS",e[e.DIALOG=25]="DIALOG",e[e.DIR=26]="DIR",e[e.DIV=27]="DIV",e[e.DL=28]="DL",e[e.DT=29]="DT",e[e.EM=30]="EM",e[e.EMBED=31]="EMBED",e[e.FIELDSET=32]="FIELDSET",e[e.FIGCAPTION=33]="FIGCAPTION",e[e.FIGURE=34]="FIGURE",e[e.FONT=35]="FONT",e[e.FOOTER=36]="FOOTER",e[e.FOREIGN_OBJECT=37]="FOREIGN_OBJECT",e[e.FORM=38]="FORM",e[e.FRAME=39]="FRAME",e[e.FRAMESET=40]="FRAMESET",e[e.H1=41]="H1",e[e.H2=42]="H2",e[e.H3=43]="H3",e[e.H4=44]="H4",e[e.H5=45]="H5",e[e.H6=46]="H6",e[e.HEAD=47]="HEAD",e[e.HEADER=48]="HEADER",e[e.HGROUP=49]="HGROUP",e[e.HR=50]="HR",e[e.HTML=51]="HTML",e[e.I=52]="I",e[e.IMG=53]="IMG",e[e.IMAGE=54]="IMAGE",e[e.INPUT=55]="INPUT",e[e.IFRAME=56]="IFRAME",e[e.KEYGEN=57]="KEYGEN",e[e.LABEL=58]="LABEL",e[e.LI=59]="LI",e[e.LINK=60]="LINK",e[e.LISTING=61]="LISTING",e[e.MAIN=62]="MAIN",e[e.MALIGNMARK=63]="MALIGNMARK",e[e.MARQUEE=64]="MARQUEE",e[e.MATH=65]="MATH",e[e.MENU=66]="MENU",e[e.META=67]="META",e[e.MGLYPH=68]="MGLYPH",e[e.MI=69]="MI",e[e.MO=70]="MO",e[e.MN=71]="MN",e[e.MS=72]="MS",e[e.MTEXT=73]="MTEXT",e[e.NAV=74]="NAV",e[e.NOBR=75]="NOBR",e[e.NOFRAMES=76]="NOFRAMES",e[e.NOEMBED=77]="NOEMBED",e[e.NOSCRIPT=78]="NOSCRIPT",e[e.OBJECT=79]="OBJECT",e[e.OL=80]="OL",e[e.OPTGROUP=81]="OPTGROUP",e[e.OPTION=82]="OPTION",e[e.P=83]="P",e[e.PARAM=84]="PARAM",e[e.PLAINTEXT=85]="PLAINTEXT",e[e.PRE=86]="PRE",e[e.RB=87]="RB",e[e.RP=88]="RP",e[e.RT=89]="RT",e[e.RTC=90]="RTC",e[e.RUBY=91]="RUBY",e[e.S=92]="S",e[e.SCRIPT=93]="SCRIPT",e[e.SEARCH=94]="SEARCH",e[e.SECTION=95]="SECTION",e[e.SELECT=96]="SELECT",e[e.SOURCE=97]="SOURCE",e[e.SMALL=98]="SMALL",e[e.SPAN=99]="SPAN",e[e.STRIKE=100]="STRIKE",e[e.STRONG=101]="STRONG",e[e.STYLE=102]="STYLE",e[e.SUB=103]="SUB",e[e.SUMMARY=104]="SUMMARY",e[e.SUP=105]="SUP",e[e.TABLE=106]="TABLE",e[e.TBODY=107]="TBODY",e[e.TEMPLATE=108]="TEMPLATE",e[e.TEXTAREA=109]="TEXTAREA",e[e.TFOOT=110]="TFOOT",e[e.TD=111]="TD",e[e.TH=112]="TH",e[e.THEAD=113]="THEAD",e[e.TITLE=114]="TITLE",e[e.TR=115]="TR",e[e.TRACK=116]="TRACK",e[e.TT=117]="TT",e[e.U=118]="U",e[e.UL=119]="UL",e[e.SVG=120]="SVG",e[e.VAR=121]="VAR",e[e.WBR=122]="WBR",e[e.XMP=123]="XMP"})(h||(h={}));const ZU=new Map([[$.A,h.A],[$.ADDRESS,h.ADDRESS],[$.ANNOTATION_XML,h.ANNOTATION_XML],[$.APPLET,h.APPLET],[$.AREA,h.AREA],[$.ARTICLE,h.ARTICLE],[$.ASIDE,h.ASIDE],[$.B,h.B],[$.BASE,h.BASE],[$.BASEFONT,h.BASEFONT],[$.BGSOUND,h.BGSOUND],[$.BIG,h.BIG],[$.BLOCKQUOTE,h.BLOCKQUOTE],[$.BODY,h.BODY],[$.BR,h.BR],[$.BUTTON,h.BUTTON],[$.CAPTION,h.CAPTION],[$.CENTER,h.CENTER],[$.CODE,h.CODE],[$.COL,h.COL],[$.COLGROUP,h.COLGROUP],[$.DD,h.DD],[$.DESC,h.DESC],[$.DETAILS,h.DETAILS],[$.DIALOG,h.DIALOG],[$.DIR,h.DIR],[$.DIV,h.DIV],[$.DL,h.DL],[$.DT,h.DT],[$.EM,h.EM],[$.EMBED,h.EMBED],[$.FIELDSET,h.FIELDSET],[$.FIGCAPTION,h.FIGCAPTION],[$.FIGURE,h.FIGURE],[$.FONT,h.FONT],[$.FOOTER,h.FOOTER],[$.FOREIGN_OBJECT,h.FOREIGN_OBJECT],[$.FORM,h.FORM],[$.FRAME,h.FRAME],[$.FRAMESET,h.FRAMESET],[$.H1,h.H1],[$.H2,h.H2],[$.H3,h.H3],[$.H4,h.H4],[$.H5,h.H5],[$.H6,h.H6],[$.HEAD,h.HEAD],[$.HEADER,h.HEADER],[$.HGROUP,h.HGROUP],[$.HR,h.HR],[$.HTML,h.HTML],[$.I,h.I],[$.IMG,h.IMG],[$.IMAGE,h.IMAGE],[$.INPUT,h.INPUT],[$.IFRAME,h.IFRAME],[$.KEYGEN,h.KEYGEN],[$.LABEL,h.LABEL],[$.LI,h.LI],[$.LINK,h.LINK],[$.LISTING,h.LISTING],[$.MAIN,h.MAIN],[$.MALIGNMARK,h.MALIGNMARK],[$.MARQUEE,h.MARQUEE],[$.MATH,h.MATH],[$.MENU,h.MENU],[$.META,h.META],[$.MGLYPH,h.MGLYPH],[$.MI,h.MI],[$.MO,h.MO],[$.MN,h.MN],[$.MS,h.MS],[$.MTEXT,h.MTEXT],[$.NAV,h.NAV],[$.NOBR,h.NOBR],[$.NOFRAMES,h.NOFRAMES],[$.NOEMBED,h.NOEMBED],[$.NOSCRIPT,h.NOSCRIPT],[$.OBJECT,h.OBJECT],[$.OL,h.OL],[$.OPTGROUP,h.OPTGROUP],[$.OPTION,h.OPTION],[$.P,h.P],[$.PARAM,h.PARAM],[$.PLAINTEXT,h.PLAINTEXT],[$.PRE,h.PRE],[$.RB,h.RB],[$.RP,h.RP],[$.RT,h.RT],[$.RTC,h.RTC],[$.RUBY,h.RUBY],[$.S,h.S],[$.SCRIPT,h.SCRIPT],[$.SEARCH,h.SEARCH],[$.SECTION,h.SECTION],[$.SELECT,h.SELECT],[$.SOURCE,h.SOURCE],[$.SMALL,h.SMALL],[$.SPAN,h.SPAN],[$.STRIKE,h.STRIKE],[$.STRONG,h.STRONG],[$.STYLE,h.STYLE],[$.SUB,h.SUB],[$.SUMMARY,h.SUMMARY],[$.SUP,h.SUP],[$.TABLE,h.TABLE],[$.TBODY,h.TBODY],[$.TEMPLATE,h.TEMPLATE],[$.TEXTAREA,h.TEXTAREA],[$.TFOOT,h.TFOOT],[$.TD,h.TD],[$.TH,h.TH],[$.THEAD,h.THEAD],[$.TITLE,h.TITLE],[$.TR,h.TR],[$.TRACK,h.TRACK],[$.TT,h.TT],[$.U,h.U],[$.UL,h.UL],[$.SVG,h.SVG],[$.VAR,h.VAR],[$.WBR,h.WBR],[$.XMP,h.XMP]]);function Ip(e){var t;return(t=ZU.get(e))!==null&&t!==void 0?t:h.UNKNOWN}const oe=h,e9={[re.HTML]:new Set([oe.ADDRESS,oe.APPLET,oe.AREA,oe.ARTICLE,oe.ASIDE,oe.BASE,oe.BASEFONT,oe.BGSOUND,oe.BLOCKQUOTE,oe.BODY,oe.BR,oe.BUTTON,oe.CAPTION,oe.CENTER,oe.COL,oe.COLGROUP,oe.DD,oe.DETAILS,oe.DIR,oe.DIV,oe.DL,oe.DT,oe.EMBED,oe.FIELDSET,oe.FIGCAPTION,oe.FIGURE,oe.FOOTER,oe.FORM,oe.FRAME,oe.FRAMESET,oe.H1,oe.H2,oe.H3,oe.H4,oe.H5,oe.H6,oe.HEAD,oe.HEADER,oe.HGROUP,oe.HR,oe.HTML,oe.IFRAME,oe.IMG,oe.INPUT,oe.LI,oe.LINK,oe.LISTING,oe.MAIN,oe.MARQUEE,oe.MENU,oe.META,oe.NAV,oe.NOEMBED,oe.NOFRAMES,oe.NOSCRIPT,oe.OBJECT,oe.OL,oe.P,oe.PARAM,oe.PLAINTEXT,oe.PRE,oe.SCRIPT,oe.SECTION,oe.SELECT,oe.SOURCE,oe.STYLE,oe.SUMMARY,oe.TABLE,oe.TBODY,oe.TD,oe.TEMPLATE,oe.TEXTAREA,oe.TFOOT,oe.TH,oe.THEAD,oe.TITLE,oe.TR,oe.TRACK,oe.UL,oe.WBR,oe.XMP]),[re.MATHML]:new Set([oe.MI,oe.MO,oe.MN,oe.MS,oe.MTEXT,oe.ANNOTATION_XML]),[re.SVG]:new Set([oe.TITLE,oe.FOREIGN_OBJECT,oe.DESC]),[re.XLINK]:new Set,[re.XML]:new Set,[re.XMLNS]:new Set},Ug=new Set([oe.H1,oe.H2,oe.H3,oe.H4,oe.H5,oe.H6]);$.STYLE,$.SCRIPT,$.XMP,$.IFRAME,$.NOEMBED,$.NOFRAMES,$.PLAINTEXT;var w;(function(e){e[e.DATA=0]="DATA",e[e.RCDATA=1]="RCDATA",e[e.RAWTEXT=2]="RAWTEXT",e[e.SCRIPT_DATA=3]="SCRIPT_DATA",e[e.PLAINTEXT=4]="PLAINTEXT",e[e.TAG_OPEN=5]="TAG_OPEN",e[e.END_TAG_OPEN=6]="END_TAG_OPEN",e[e.TAG_NAME=7]="TAG_NAME",e[e.RCDATA_LESS_THAN_SIGN=8]="RCDATA_LESS_THAN_SIGN",e[e.RCDATA_END_TAG_OPEN=9]="RCDATA_END_TAG_OPEN",e[e.RCDATA_END_TAG_NAME=10]="RCDATA_END_TAG_NAME",e[e.RAWTEXT_LESS_THAN_SIGN=11]="RAWTEXT_LESS_THAN_SIGN",e[e.RAWTEXT_END_TAG_OPEN=12]="RAWTEXT_END_TAG_OPEN",e[e.RAWTEXT_END_TAG_NAME=13]="RAWTEXT_END_TAG_NAME",e[e.SCRIPT_DATA_LESS_THAN_SIGN=14]="SCRIPT_DATA_LESS_THAN_SIGN",e[e.SCRIPT_DATA_END_TAG_OPEN=15]="SCRIPT_DATA_END_TAG_OPEN",e[e.SCRIPT_DATA_END_TAG_NAME=16]="SCRIPT_DATA_END_TAG_NAME",e[e.SCRIPT_DATA_ESCAPE_START=17]="SCRIPT_DATA_ESCAPE_START",e[e.SCRIPT_DATA_ESCAPE_START_DASH=18]="SCRIPT_DATA_ESCAPE_START_DASH",e[e.SCRIPT_DATA_ESCAPED=19]="SCRIPT_DATA_ESCAPED",e[e.SCRIPT_DATA_ESCAPED_DASH=20]="SCRIPT_DATA_ESCAPED_DASH",e[e.SCRIPT_DATA_ESCAPED_DASH_DASH=21]="SCRIPT_DATA_ESCAPED_DASH_DASH",e[e.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN=22]="SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN",e[e.SCRIPT_DATA_ESCAPED_END_TAG_OPEN=23]="SCRIPT_DATA_ESCAPED_END_TAG_OPEN",e[e.SCRIPT_DATA_ESCAPED_END_TAG_NAME=24]="SCRIPT_DATA_ESCAPED_END_TAG_NAME",e[e.SCRIPT_DATA_DOUBLE_ESCAPE_START=25]="SCRIPT_DATA_DOUBLE_ESCAPE_START",e[e.SCRIPT_DATA_DOUBLE_ESCAPED=26]="SCRIPT_DATA_DOUBLE_ESCAPED",e[e.SCRIPT_DATA_DOUBLE_ESCAPED_DASH=27]="SCRIPT_DATA_DOUBLE_ESCAPED_DASH",e[e.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH=28]="SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH",e[e.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN=29]="SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN",e[e.SCRIPT_DATA_DOUBLE_ESCAPE_END=30]="SCRIPT_DATA_DOUBLE_ESCAPE_END",e[e.BEFORE_ATTRIBUTE_NAME=31]="BEFORE_ATTRIBUTE_NAME",e[e.ATTRIBUTE_NAME=32]="ATTRIBUTE_NAME",e[e.AFTER_ATTRIBUTE_NAME=33]="AFTER_ATTRIBUTE_NAME",e[e.BEFORE_ATTRIBUTE_VALUE=34]="BEFORE_ATTRIBUTE_VALUE",e[e.ATTRIBUTE_VALUE_DOUBLE_QUOTED=35]="ATTRIBUTE_VALUE_DOUBLE_QUOTED",e[e.ATTRIBUTE_VALUE_SINGLE_QUOTED=36]="ATTRIBUTE_VALUE_SINGLE_QUOTED",e[e.ATTRIBUTE_VALUE_UNQUOTED=37]="ATTRIBUTE_VALUE_UNQUOTED",e[e.AFTER_ATTRIBUTE_VALUE_QUOTED=38]="AFTER_ATTRIBUTE_VALUE_QUOTED",e[e.SELF_CLOSING_START_TAG=39]="SELF_CLOSING_START_TAG",e[e.BOGUS_COMMENT=40]="BOGUS_COMMENT",e[e.MARKUP_DECLARATION_OPEN=41]="MARKUP_DECLARATION_OPEN",e[e.COMMENT_START=42]="COMMENT_START",e[e.COMMENT_START_DASH=43]="COMMENT_START_DASH",e[e.COMMENT=44]="COMMENT",e[e.COMMENT_LESS_THAN_SIGN=45]="COMMENT_LESS_THAN_SIGN",e[e.COMMENT_LESS_THAN_SIGN_BANG=46]="COMMENT_LESS_THAN_SIGN_BANG",e[e.COMMENT_LESS_THAN_SIGN_BANG_DASH=47]="COMMENT_LESS_THAN_SIGN_BANG_DASH",e[e.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH=48]="COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH",e[e.COMMENT_END_DASH=49]="COMMENT_END_DASH",e[e.COMMENT_END=50]="COMMENT_END",e[e.COMMENT_END_BANG=51]="COMMENT_END_BANG",e[e.DOCTYPE=52]="DOCTYPE",e[e.BEFORE_DOCTYPE_NAME=53]="BEFORE_DOCTYPE_NAME",e[e.DOCTYPE_NAME=54]="DOCTYPE_NAME",e[e.AFTER_DOCTYPE_NAME=55]="AFTER_DOCTYPE_NAME",e[e.AFTER_DOCTYPE_PUBLIC_KEYWORD=56]="AFTER_DOCTYPE_PUBLIC_KEYWORD",e[e.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER=57]="BEFORE_DOCTYPE_PUBLIC_IDENTIFIER",e[e.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED=58]="DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED",e[e.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED=59]="DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED",e[e.AFTER_DOCTYPE_PUBLIC_IDENTIFIER=60]="AFTER_DOCTYPE_PUBLIC_IDENTIFIER",e[e.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS=61]="BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS",e[e.AFTER_DOCTYPE_SYSTEM_KEYWORD=62]="AFTER_DOCTYPE_SYSTEM_KEYWORD",e[e.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER=63]="BEFORE_DOCTYPE_SYSTEM_IDENTIFIER",e[e.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED=64]="DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED",e[e.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED=65]="DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED",e[e.AFTER_DOCTYPE_SYSTEM_IDENTIFIER=66]="AFTER_DOCTYPE_SYSTEM_IDENTIFIER",e[e.BOGUS_DOCTYPE=67]="BOGUS_DOCTYPE",e[e.CDATA_SECTION=68]="CDATA_SECTION",e[e.CDATA_SECTION_BRACKET=69]="CDATA_SECTION_BRACKET",e[e.CDATA_SECTION_END=70]="CDATA_SECTION_END",e[e.CHARACTER_REFERENCE=71]="CHARACTER_REFERENCE",e[e.AMBIGUOUS_AMPERSAND=72]="AMBIGUOUS_AMPERSAND"})(w||(w={}));const Zn={DATA:w.DATA,RCDATA:w.RCDATA,RAWTEXT:w.RAWTEXT,SCRIPT_DATA:w.SCRIPT_DATA,PLAINTEXT:w.PLAINTEXT,CDATA_SECTION:w.CDATA_SECTION};function t9(e){return e>=v.DIGIT_0&&e<=v.DIGIT_9}function uu(e){return e>=v.LATIN_CAPITAL_A&&e<=v.LATIN_CAPITAL_Z}function n9(e){return e>=v.LATIN_SMALL_A&&e<=v.LATIN_SMALL_Z}function ks(e){return n9(e)||uu(e)}function FE(e){return ks(e)||t9(e)}function dd(e){return e+32}function nk(e){return e===v.SPACE||e===v.LINE_FEED||e===v.TABULATION||e===v.FORM_FEED}function UE(e){return nk(e)||e===v.SOLIDUS||e===v.GREATER_THAN_SIGN}function r9(e){return e===v.NULL?j.nullCharacterReference:e>1114111?j.characterReferenceOutsideUnicodeRange:KA(e)?j.surrogateCharacterReference:QA(e)?j.noncharacterCharacterReference:XA(e)||e===v.CARRIAGE_RETURN?j.controlCharacterReference:null}class i9{constructor(t,n){this.options=t,this.handler=n,this.paused=!1,this.inLoop=!1,this.inForeignNode=!1,this.lastStartTagName="",this.active=!1,this.state=w.DATA,this.returnState=w.DATA,this.entityStartPos=0,this.consumedAfterSnapshot=-1,this.currentCharacterToken=null,this.currentToken=null,this.currentAttr={name:"",value:""},this.preprocessor=new VU(n),this.currentLocation=this.getCurrentLocation(-1),this.entityDecoder=new ek(ZA,(r,i)=>{this.preprocessor.pos=this.entityStartPos+i-1,this._flushCodePointConsumedAsCharacterReference(r)},n.onParseError?{missingSemicolonAfterCharacterReference:()=>{this._err(j.missingSemicolonAfterCharacterReference,1)},absenceOfDigitsInNumericCharacterReference:r=>{this._err(j.absenceOfDigitsInNumericCharacterReference,this.entityStartPos-this.preprocessor.pos+r)},validateNumericCharacterReference:r=>{const i=r9(r);i&&this._err(i,1)}}:void 0)}_err(t,n=0){var r,i;(i=(r=this.handler).onParseError)===null||i===void 0||i.call(r,this.preprocessor.getError(t,n))}getCurrentLocation(t){return this.options.sourceCodeLocationInfo?{startLine:this.preprocessor.line,startCol:this.preprocessor.col-t,startOffset:this.preprocessor.offset-t,endLine:-1,endCol:-1,endOffset:-1}:null}_runParsingLoop(){if(!this.inLoop){for(this.inLoop=!0;this.active&&!this.paused;){this.consumedAfterSnapshot=0;const t=this._consume();this._ensureHibernation()||this._callState(t)}this.inLoop=!1}}pause(){this.paused=!0}resume(t){if(!this.paused)throw new Error("Parser was already resumed");this.paused=!1,!this.inLoop&&(this._runParsingLoop(),this.paused||t==null||t())}write(t,n,r){this.active=!0,this.preprocessor.write(t,n),this._runParsingLoop(),this.paused||r==null||r()}insertHtmlAtCurrentPos(t){this.active=!0,this.preprocessor.insertHtmlAtCurrentPos(t),this._runParsingLoop()}_ensureHibernation(){return this.preprocessor.endOfChunkHit?(this.preprocessor.retreat(this.consumedAfterSnapshot),this.consumedAfterSnapshot=0,this.active=!1,!0):!1}_consume(){return this.consumedAfterSnapshot++,this.preprocessor.advance()}_advanceBy(t){this.consumedAfterSnapshot+=t;for(let n=0;n<t;n++)this.preprocessor.advance()}_consumeSequenceIfMatch(t,n){return this.preprocessor.startsWith(t,n)?(this._advanceBy(t.length-1),!0):!1}_createStartTagToken(){this.currentToken={type:ot.START_TAG,tagName:"",tagID:h.UNKNOWN,selfClosing:!1,ackSelfClosing:!1,attrs:[],location:this.getCurrentLocation(1)}}_createEndTagToken(){this.currentToken={type:ot.END_TAG,tagName:"",tagID:h.UNKNOWN,selfClosing:!1,ackSelfClosing:!1,attrs:[],location:this.getCurrentLocation(2)}}_createCommentToken(t){this.currentToken={type:ot.COMMENT,data:"",location:this.getCurrentLocation(t)}}_createDoctypeToken(t){this.currentToken={type:ot.DOCTYPE,name:t,forceQuirks:!1,publicId:null,systemId:null,location:this.currentLocation}}_createCharacterToken(t,n){this.currentCharacterToken={type:t,chars:n,location:this.currentLocation}}_createAttr(t){this.currentAttr={name:t,value:""},this.currentLocation=this.getCurrentLocation(0)}_leaveAttrName(){var t,n;const r=this.currentToken;if(JA(r,this.currentAttr.name)===null){if(r.attrs.push(this.currentAttr),r.location&&this.currentLocation){const i=(t=(n=r.location).attrs)!==null&&t!==void 0?t:n.attrs=Object.create(null);i[this.currentAttr.name]=this.currentLocation,this._leaveAttrValue()}}else this._err(j.duplicateAttribute)}_leaveAttrValue(){this.currentLocation&&(this.currentLocation.endLine=this.preprocessor.line,this.currentLocation.endCol=this.preprocessor.col,this.currentLocation.endOffset=this.preprocessor.offset)}prepareToken(t){this._emitCurrentCharacterToken(t.location),this.currentToken=null,t.location&&(t.location.endLine=this.preprocessor.line,t.location.endCol=this.preprocessor.col+1,t.location.endOffset=this.preprocessor.offset+1),this.currentLocation=this.getCurrentLocation(-1)}emitCurrentTagToken(){const t=this.currentToken;this.prepareToken(t),t.tagID=Ip(t.tagName),t.type===ot.START_TAG?(this.lastStartTagName=t.tagName,this.handler.onStartTag(t)):(t.attrs.length>0&&this._err(j.endTagWithAttributes),t.selfClosing&&this._err(j.endTagWithTrailingSolidus),this.handler.onEndTag(t)),this.preprocessor.dropParsedChunk()}emitCurrentComment(t){this.prepareToken(t),this.handler.onComment(t),this.preprocessor.dropParsedChunk()}emitCurrentDoctype(t){this.prepareToken(t),this.handler.onDoctype(t),this.preprocessor.dropParsedChunk()}_emitCurrentCharacterToken(t){if(this.currentCharacterToken){switch(t&&this.currentCharacterToken.location&&(this.currentCharacterToken.location.endLine=t.startLine,this.currentCharacterToken.location.endCol=t.startCol,this.currentCharacterToken.location.endOffset=t.startOffset),this.currentCharacterToken.type){case ot.CHARACTER:{this.handler.onCharacter(this.currentCharacterToken);break}case ot.NULL_CHARACTER:{this.handler.onNullCharacter(this.currentCharacterToken);break}case ot.WHITESPACE_CHARACTER:{this.handler.onWhitespaceCharacter(this.currentCharacterToken);break}}this.currentCharacterToken=null}}_emitEOFToken(){const t=this.getCurrentLocation(0);t&&(t.endLine=t.startLine,t.endCol=t.startCol,t.endOffset=t.startOffset),this._emitCurrentCharacterToken(t),this.handler.onEof({type:ot.EOF,location:t}),this.active=!1}_appendCharToCurrentCharacterToken(t,n){if(this.currentCharacterToken)if(this.currentCharacterToken.type===t){this.currentCharacterToken.chars+=n;return}else this.currentLocation=this.getCurrentLocation(0),this._emitCurrentCharacterToken(this.currentLocation),this.preprocessor.dropParsedChunk();this._createCharacterToken(t,n)}_emitCodePoint(t){const n=nk(t)?ot.WHITESPACE_CHARACTER:t===v.NULL?ot.NULL_CHARACTER:ot.CHARACTER;this._appendCharToCurrentCharacterToken(n,String.fromCodePoint(t))}_emitChars(t){this._appendCharToCurrentCharacterToken(ot.CHARACTER,t)}_startCharacterReference(){this.returnState=this.state,this.state=w.CHARACTER_REFERENCE,this.entityStartPos=this.preprocessor.pos,this.entityDecoder.startEntity(this._isCharacterReferenceInAttribute()?is.Attribute:is.Legacy)}_isCharacterReferenceInAttribute(){return this.returnState===w.ATTRIBUTE_VALUE_DOUBLE_QUOTED||this.returnState===w.ATTRIBUTE_VALUE_SINGLE_QUOTED||this.returnState===w.ATTRIBUTE_VALUE_UNQUOTED}_flushCodePointConsumedAsCharacterReference(t){this._isCharacterReferenceInAttribute()?this.currentAttr.value+=String.fromCodePoint(t):this._emitCodePoint(t)}_callState(t){switch(this.state){case w.DATA:{this._stateData(t);break}case w.RCDATA:{this._stateRcdata(t);break}case w.RAWTEXT:{this._stateRawtext(t);break}case w.SCRIPT_DATA:{this._stateScriptData(t);break}case w.PLAINTEXT:{this._statePlaintext(t);break}case w.TAG_OPEN:{this._stateTagOpen(t);break}case w.END_TAG_OPEN:{this._stateEndTagOpen(t);break}case w.TAG_NAME:{this._stateTagName(t);break}case w.RCDATA_LESS_THAN_SIGN:{this._stateRcdataLessThanSign(t);break}case w.RCDATA_END_TAG_OPEN:{this._stateRcdataEndTagOpen(t);break}case w.RCDATA_END_TAG_NAME:{this._stateRcdataEndTagName(t);break}case w.RAWTEXT_LESS_THAN_SIGN:{this._stateRawtextLessThanSign(t);break}case w.RAWTEXT_END_TAG_OPEN:{this._stateRawtextEndTagOpen(t);break}case w.RAWTEXT_END_TAG_NAME:{this._stateRawtextEndTagName(t);break}case w.SCRIPT_DATA_LESS_THAN_SIGN:{this._stateScriptDataLessThanSign(t);break}case w.SCRIPT_DATA_END_TAG_OPEN:{this._stateScriptDataEndTagOpen(t);break}case w.SCRIPT_DATA_END_TAG_NAME:{this._stateScriptDataEndTagName(t);break}case w.SCRIPT_DATA_ESCAPE_START:{this._stateScriptDataEscapeStart(t);break}case w.SCRIPT_DATA_ESCAPE_START_DASH:{this._stateScriptDataEscapeStartDash(t);break}case w.SCRIPT_DATA_ESCAPED:{this._stateScriptDataEscaped(t);break}case w.SCRIPT_DATA_ESCAPED_DASH:{this._stateScriptDataEscapedDash(t);break}case w.SCRIPT_DATA_ESCAPED_DASH_DASH:{this._stateScriptDataEscapedDashDash(t);break}case w.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN:{this._stateScriptDataEscapedLessThanSign(t);break}case w.SCRIPT_DATA_ESCAPED_END_TAG_OPEN:{this._stateScriptDataEscapedEndTagOpen(t);break}case w.SCRIPT_DATA_ESCAPED_END_TAG_NAME:{this._stateScriptDataEscapedEndTagName(t);break}case w.SCRIPT_DATA_DOUBLE_ESCAPE_START:{this._stateScriptDataDoubleEscapeStart(t);break}case w.SCRIPT_DATA_DOUBLE_ESCAPED:{this._stateScriptDataDoubleEscaped(t);break}case w.SCRIPT_DATA_DOUBLE_ESCAPED_DASH:{this._stateScriptDataDoubleEscapedDash(t);break}case w.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH:{this._stateScriptDataDoubleEscapedDashDash(t);break}case w.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN:{this._stateScriptDataDoubleEscapedLessThanSign(t);break}case w.SCRIPT_DATA_DOUBLE_ESCAPE_END:{this._stateScriptDataDoubleEscapeEnd(t);break}case w.BEFORE_ATTRIBUTE_NAME:{this._stateBeforeAttributeName(t);break}case w.ATTRIBUTE_NAME:{this._stateAttributeName(t);break}case w.AFTER_ATTRIBUTE_NAME:{this._stateAfterAttributeName(t);break}case w.BEFORE_ATTRIBUTE_VALUE:{this._stateBeforeAttributeValue(t);break}case w.ATTRIBUTE_VALUE_DOUBLE_QUOTED:{this._stateAttributeValueDoubleQuoted(t);break}case w.ATTRIBUTE_VALUE_SINGLE_QUOTED:{this._stateAttributeValueSingleQuoted(t);break}case w.ATTRIBUTE_VALUE_UNQUOTED:{this._stateAttributeValueUnquoted(t);break}case w.AFTER_ATTRIBUTE_VALUE_QUOTED:{this._stateAfterAttributeValueQuoted(t);break}case w.SELF_CLOSING_START_TAG:{this._stateSelfClosingStartTag(t);break}case w.BOGUS_COMMENT:{this._stateBogusComment(t);break}case w.MARKUP_DECLARATION_OPEN:{this._stateMarkupDeclarationOpen(t);break}case w.COMMENT_START:{this._stateCommentStart(t);break}case w.COMMENT_START_DASH:{this._stateCommentStartDash(t);break}case w.COMMENT:{this._stateComment(t);break}case w.COMMENT_LESS_THAN_SIGN:{this._stateCommentLessThanSign(t);break}case w.COMMENT_LESS_THAN_SIGN_BANG:{this._stateCommentLessThanSignBang(t);break}case w.COMMENT_LESS_THAN_SIGN_BANG_DASH:{this._stateCommentLessThanSignBangDash(t);break}case w.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH:{this._stateCommentLessThanSignBangDashDash(t);break}case w.COMMENT_END_DASH:{this._stateCommentEndDash(t);break}case w.COMMENT_END:{this._stateCommentEnd(t);break}case w.COMMENT_END_BANG:{this._stateCommentEndBang(t);break}case w.DOCTYPE:{this._stateDoctype(t);break}case w.BEFORE_DOCTYPE_NAME:{this._stateBeforeDoctypeName(t);break}case w.DOCTYPE_NAME:{this._stateDoctypeName(t);break}case w.AFTER_DOCTYPE_NAME:{this._stateAfterDoctypeName(t);break}case w.AFTER_DOCTYPE_PUBLIC_KEYWORD:{this._stateAfterDoctypePublicKeyword(t);break}case w.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER:{this._stateBeforeDoctypePublicIdentifier(t);break}case w.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED:{this._stateDoctypePublicIdentifierDoubleQuoted(t);break}case w.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED:{this._stateDoctypePublicIdentifierSingleQuoted(t);break}case w.AFTER_DOCTYPE_PUBLIC_IDENTIFIER:{this._stateAfterDoctypePublicIdentifier(t);break}case w.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS:{this._stateBetweenDoctypePublicAndSystemIdentifiers(t);break}case w.AFTER_DOCTYPE_SYSTEM_KEYWORD:{this._stateAfterDoctypeSystemKeyword(t);break}case w.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER:{this._stateBeforeDoctypeSystemIdentifier(t);break}case w.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED:{this._stateDoctypeSystemIdentifierDoubleQuoted(t);break}case w.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED:{this._stateDoctypeSystemIdentifierSingleQuoted(t);break}case w.AFTER_DOCTYPE_SYSTEM_IDENTIFIER:{this._stateAfterDoctypeSystemIdentifier(t);break}case w.BOGUS_DOCTYPE:{this._stateBogusDoctype(t);break}case w.CDATA_SECTION:{this._stateCdataSection(t);break}case w.CDATA_SECTION_BRACKET:{this._stateCdataSectionBracket(t);break}case w.CDATA_SECTION_END:{this._stateCdataSectionEnd(t);break}case w.CHARACTER_REFERENCE:{this._stateCharacterReference();break}case w.AMBIGUOUS_AMPERSAND:{this._stateAmbiguousAmpersand(t);break}default:throw new Error("Unknown state")}}_stateData(t){switch(t){case v.LESS_THAN_SIGN:{this.state=w.TAG_OPEN;break}case v.AMPERSAND:{this._startCharacterReference();break}case v.NULL:{this._err(j.unexpectedNullCharacter),this._emitCodePoint(t);break}case v.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateRcdata(t){switch(t){case v.AMPERSAND:{this._startCharacterReference();break}case v.LESS_THAN_SIGN:{this.state=w.RCDATA_LESS_THAN_SIGN;break}case v.NULL:{this._err(j.unexpectedNullCharacter),this._emitChars(Rt);break}case v.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateRawtext(t){switch(t){case v.LESS_THAN_SIGN:{this.state=w.RAWTEXT_LESS_THAN_SIGN;break}case v.NULL:{this._err(j.unexpectedNullCharacter),this._emitChars(Rt);break}case v.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateScriptData(t){switch(t){case v.LESS_THAN_SIGN:{this.state=w.SCRIPT_DATA_LESS_THAN_SIGN;break}case v.NULL:{this._err(j.unexpectedNullCharacter),this._emitChars(Rt);break}case v.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_statePlaintext(t){switch(t){case v.NULL:{this._err(j.unexpectedNullCharacter),this._emitChars(Rt);break}case v.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateTagOpen(t){if(ks(t))this._createStartTagToken(),this.state=w.TAG_NAME,this._stateTagName(t);else switch(t){case v.EXCLAMATION_MARK:{this.state=w.MARKUP_DECLARATION_OPEN;break}case v.SOLIDUS:{this.state=w.END_TAG_OPEN;break}case v.QUESTION_MARK:{this._err(j.unexpectedQuestionMarkInsteadOfTagName),this._createCommentToken(1),this.state=w.BOGUS_COMMENT,this._stateBogusComment(t);break}case v.EOF:{this._err(j.eofBeforeTagName),this._emitChars("<"),this._emitEOFToken();break}default:this._err(j.invalidFirstCharacterOfTagName),this._emitChars("<"),this.state=w.DATA,this._stateData(t)}}_stateEndTagOpen(t){if(ks(t))this._createEndTagToken(),this.state=w.TAG_NAME,this._stateTagName(t);else switch(t){case v.GREATER_THAN_SIGN:{this._err(j.missingEndTagName),this.state=w.DATA;break}case v.EOF:{this._err(j.eofBeforeTagName),this._emitChars("</"),this._emitEOFToken();break}default:this._err(j.invalidFirstCharacterOfTagName),this._createCommentToken(2),this.state=w.BOGUS_COMMENT,this._stateBogusComment(t)}}_stateTagName(t){const n=this.currentToken;switch(t){case v.SPACE:case v.LINE_FEED:case v.TABULATION:case v.FORM_FEED:{this.state=w.BEFORE_ATTRIBUTE_NAME;break}case v.SOLIDUS:{this.state=w.SELF_CLOSING_START_TAG;break}case v.GREATER_THAN_SIGN:{this.state=w.DATA,this.emitCurrentTagToken();break}case v.NULL:{this._err(j.unexpectedNullCharacter),n.tagName+=Rt;break}case v.EOF:{this._err(j.eofInTag),this._emitEOFToken();break}default:n.tagName+=String.fromCodePoint(uu(t)?dd(t):t)}}_stateRcdataLessThanSign(t){t===v.SOLIDUS?this.state=w.RCDATA_END_TAG_OPEN:(this._emitChars("<"),this.state=w.RCDATA,this._stateRcdata(t))}_stateRcdataEndTagOpen(t){ks(t)?(this.state=w.RCDATA_END_TAG_NAME,this._stateRcdataEndTagName(t)):(this._emitChars("</"),this.state=w.RCDATA,this._stateRcdata(t))}handleSpecialEndTag(t){if(!this.preprocessor.startsWith(this.lastStartTagName,!1))return!this._ensureHibernation();this._createEndTagToken();const n=this.currentToken;switch(n.tagName=this.lastStartTagName,this.preprocessor.peek(this.lastStartTagName.length)){case v.SPACE:case v.LINE_FEED:case v.TABULATION:case v.FORM_FEED:return this._advanceBy(this.lastStartTagName.length),this.state=w.BEFORE_ATTRIBUTE_NAME,!1;case v.SOLIDUS:return this._advanceBy(this.lastStartTagName.length),this.state=w.SELF_CLOSING_START_TAG,!1;case v.GREATER_THAN_SIGN:return this._advanceBy(this.lastStartTagName.length),this.emitCurrentTagToken(),this.state=w.DATA,!1;default:return!this._ensureHibernation()}}_stateRcdataEndTagName(t){this.handleSpecialEndTag(t)&&(this._emitChars("</"),this.state=w.RCDATA,this._stateRcdata(t))}_stateRawtextLessThanSign(t){t===v.SOLIDUS?this.state=w.RAWTEXT_END_TAG_OPEN:(this._emitChars("<"),this.state=w.RAWTEXT,this._stateRawtext(t))}_stateRawtextEndTagOpen(t){ks(t)?(this.state=w.RAWTEXT_END_TAG_NAME,this._stateRawtextEndTagName(t)):(this._emitChars("</"),this.state=w.RAWTEXT,this._stateRawtext(t))}_stateRawtextEndTagName(t){this.handleSpecialEndTag(t)&&(this._emitChars("</"),this.state=w.RAWTEXT,this._stateRawtext(t))}_stateScriptDataLessThanSign(t){switch(t){case v.SOLIDUS:{this.state=w.SCRIPT_DATA_END_TAG_OPEN;break}case v.EXCLAMATION_MARK:{this.state=w.SCRIPT_DATA_ESCAPE_START,this._emitChars("<!");break}default:this._emitChars("<"),this.state=w.SCRIPT_DATA,this._stateScriptData(t)}}_stateScriptDataEndTagOpen(t){ks(t)?(this.state=w.SCRIPT_DATA_END_TAG_NAME,this._stateScriptDataEndTagName(t)):(this._emitChars("</"),this.state=w.SCRIPT_DATA,this._stateScriptData(t))}_stateScriptDataEndTagName(t){this.handleSpecialEndTag(t)&&(this._emitChars("</"),this.state=w.SCRIPT_DATA,this._stateScriptData(t))}_stateScriptDataEscapeStart(t){t===v.HYPHEN_MINUS?(this.state=w.SCRIPT_DATA_ESCAPE_START_DASH,this._emitChars("-")):(this.state=w.SCRIPT_DATA,this._stateScriptData(t))}_stateScriptDataEscapeStartDash(t){t===v.HYPHEN_MINUS?(this.state=w.SCRIPT_DATA_ESCAPED_DASH_DASH,this._emitChars("-")):(this.state=w.SCRIPT_DATA,this._stateScriptData(t))}_stateScriptDataEscaped(t){switch(t){case v.HYPHEN_MINUS:{this.state=w.SCRIPT_DATA_ESCAPED_DASH,this._emitChars("-");break}case v.LESS_THAN_SIGN:{this.state=w.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case v.NULL:{this._err(j.unexpectedNullCharacter),this._emitChars(Rt);break}case v.EOF:{this._err(j.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateScriptDataEscapedDash(t){switch(t){case v.HYPHEN_MINUS:{this.state=w.SCRIPT_DATA_ESCAPED_DASH_DASH,this._emitChars("-");break}case v.LESS_THAN_SIGN:{this.state=w.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case v.NULL:{this._err(j.unexpectedNullCharacter),this.state=w.SCRIPT_DATA_ESCAPED,this._emitChars(Rt);break}case v.EOF:{this._err(j.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=w.SCRIPT_DATA_ESCAPED,this._emitCodePoint(t)}}_stateScriptDataEscapedDashDash(t){switch(t){case v.HYPHEN_MINUS:{this._emitChars("-");break}case v.LESS_THAN_SIGN:{this.state=w.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case v.GREATER_THAN_SIGN:{this.state=w.SCRIPT_DATA,this._emitChars(">");break}case v.NULL:{this._err(j.unexpectedNullCharacter),this.state=w.SCRIPT_DATA_ESCAPED,this._emitChars(Rt);break}case v.EOF:{this._err(j.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=w.SCRIPT_DATA_ESCAPED,this._emitCodePoint(t)}}_stateScriptDataEscapedLessThanSign(t){t===v.SOLIDUS?this.state=w.SCRIPT_DATA_ESCAPED_END_TAG_OPEN:ks(t)?(this._emitChars("<"),this.state=w.SCRIPT_DATA_DOUBLE_ESCAPE_START,this._stateScriptDataDoubleEscapeStart(t)):(this._emitChars("<"),this.state=w.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(t))}_stateScriptDataEscapedEndTagOpen(t){ks(t)?(this.state=w.SCRIPT_DATA_ESCAPED_END_TAG_NAME,this._stateScriptDataEscapedEndTagName(t)):(this._emitChars("</"),this.state=w.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(t))}_stateScriptDataEscapedEndTagName(t){this.handleSpecialEndTag(t)&&(this._emitChars("</"),this.state=w.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(t))}_stateScriptDataDoubleEscapeStart(t){if(this.preprocessor.startsWith(Kn.SCRIPT,!1)&&UE(this.preprocessor.peek(Kn.SCRIPT.length))){this._emitCodePoint(t);for(let n=0;n<Kn.SCRIPT.length;n++)this._emitCodePoint(this._consume());this.state=w.SCRIPT_DATA_DOUBLE_ESCAPED}else this._ensureHibernation()||(this.state=w.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(t))}_stateScriptDataDoubleEscaped(t){switch(t){case v.HYPHEN_MINUS:{this.state=w.SCRIPT_DATA_DOUBLE_ESCAPED_DASH,this._emitChars("-");break}case v.LESS_THAN_SIGN:{this.state=w.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case v.NULL:{this._err(j.unexpectedNullCharacter),this._emitChars(Rt);break}case v.EOF:{this._err(j.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateScriptDataDoubleEscapedDash(t){switch(t){case v.HYPHEN_MINUS:{this.state=w.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH,this._emitChars("-");break}case v.LESS_THAN_SIGN:{this.state=w.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case v.NULL:{this._err(j.unexpectedNullCharacter),this.state=w.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitChars(Rt);break}case v.EOF:{this._err(j.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=w.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitCodePoint(t)}}_stateScriptDataDoubleEscapedDashDash(t){switch(t){case v.HYPHEN_MINUS:{this._emitChars("-");break}case v.LESS_THAN_SIGN:{this.state=w.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case v.GREATER_THAN_SIGN:{this.state=w.SCRIPT_DATA,this._emitChars(">");break}case v.NULL:{this._err(j.unexpectedNullCharacter),this.state=w.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitChars(Rt);break}case v.EOF:{this._err(j.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=w.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitCodePoint(t)}}_stateScriptDataDoubleEscapedLessThanSign(t){t===v.SOLIDUS?(this.state=w.SCRIPT_DATA_DOUBLE_ESCAPE_END,this._emitChars("/")):(this.state=w.SCRIPT_DATA_DOUBLE_ESCAPED,this._stateScriptDataDoubleEscaped(t))}_stateScriptDataDoubleEscapeEnd(t){if(this.preprocessor.startsWith(Kn.SCRIPT,!1)&&UE(this.preprocessor.peek(Kn.SCRIPT.length))){this._emitCodePoint(t);for(let n=0;n<Kn.SCRIPT.length;n++)this._emitCodePoint(this._consume());this.state=w.SCRIPT_DATA_ESCAPED}else this._ensureHibernation()||(this.state=w.SCRIPT_DATA_DOUBLE_ESCAPED,this._stateScriptDataDoubleEscaped(t))}_stateBeforeAttributeName(t){switch(t){case v.SPACE:case v.LINE_FEED:case v.TABULATION:case v.FORM_FEED:break;case v.SOLIDUS:case v.GREATER_THAN_SIGN:case v.EOF:{this.state=w.AFTER_ATTRIBUTE_NAME,this._stateAfterAttributeName(t);break}case v.EQUALS_SIGN:{this._err(j.unexpectedEqualsSignBeforeAttributeName),this._createAttr("="),this.state=w.ATTRIBUTE_NAME;break}default:this._createAttr(""),this.state=w.ATTRIBUTE_NAME,this._stateAttributeName(t)}}_stateAttributeName(t){switch(t){case v.SPACE:case v.LINE_FEED:case v.TABULATION:case v.FORM_FEED:case v.SOLIDUS:case v.GREATER_THAN_SIGN:case v.EOF:{this._leaveAttrName(),this.state=w.AFTER_ATTRIBUTE_NAME,this._stateAfterAttributeName(t);break}case v.EQUALS_SIGN:{this._leaveAttrName(),this.state=w.BEFORE_ATTRIBUTE_VALUE;break}case v.QUOTATION_MARK:case v.APOSTROPHE:case v.LESS_THAN_SIGN:{this._err(j.unexpectedCharacterInAttributeName),this.currentAttr.name+=String.fromCodePoint(t);break}case v.NULL:{this._err(j.unexpectedNullCharacter),this.currentAttr.name+=Rt;break}default:this.currentAttr.name+=String.fromCodePoint(uu(t)?dd(t):t)}}_stateAfterAttributeName(t){switch(t){case v.SPACE:case v.LINE_FEED:case v.TABULATION:case v.FORM_FEED:break;case v.SOLIDUS:{this.state=w.SELF_CLOSING_START_TAG;break}case v.EQUALS_SIGN:{this.state=w.BEFORE_ATTRIBUTE_VALUE;break}case v.GREATER_THAN_SIGN:{this.state=w.DATA,this.emitCurrentTagToken();break}case v.EOF:{this._err(j.eofInTag),this._emitEOFToken();break}default:this._createAttr(""),this.state=w.ATTRIBUTE_NAME,this._stateAttributeName(t)}}_stateBeforeAttributeValue(t){switch(t){case v.SPACE:case v.LINE_FEED:case v.TABULATION:case v.FORM_FEED:break;case v.QUOTATION_MARK:{this.state=w.ATTRIBUTE_VALUE_DOUBLE_QUOTED;break}case v.APOSTROPHE:{this.state=w.ATTRIBUTE_VALUE_SINGLE_QUOTED;break}case v.GREATER_THAN_SIGN:{this._err(j.missingAttributeValue),this.state=w.DATA,this.emitCurrentTagToken();break}default:this.state=w.ATTRIBUTE_VALUE_UNQUOTED,this._stateAttributeValueUnquoted(t)}}_stateAttributeValueDoubleQuoted(t){switch(t){case v.QUOTATION_MARK:{this.state=w.AFTER_ATTRIBUTE_VALUE_QUOTED;break}case v.AMPERSAND:{this._startCharacterReference();break}case v.NULL:{this._err(j.unexpectedNullCharacter),this.currentAttr.value+=Rt;break}case v.EOF:{this._err(j.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(t)}}_stateAttributeValueSingleQuoted(t){switch(t){case v.APOSTROPHE:{this.state=w.AFTER_ATTRIBUTE_VALUE_QUOTED;break}case v.AMPERSAND:{this._startCharacterReference();break}case v.NULL:{this._err(j.unexpectedNullCharacter),this.currentAttr.value+=Rt;break}case v.EOF:{this._err(j.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(t)}}_stateAttributeValueUnquoted(t){switch(t){case v.SPACE:case v.LINE_FEED:case v.TABULATION:case v.FORM_FEED:{this._leaveAttrValue(),this.state=w.BEFORE_ATTRIBUTE_NAME;break}case v.AMPERSAND:{this._startCharacterReference();break}case v.GREATER_THAN_SIGN:{this._leaveAttrValue(),this.state=w.DATA,this.emitCurrentTagToken();break}case v.NULL:{this._err(j.unexpectedNullCharacter),this.currentAttr.value+=Rt;break}case v.QUOTATION_MARK:case v.APOSTROPHE:case v.LESS_THAN_SIGN:case v.EQUALS_SIGN:case v.GRAVE_ACCENT:{this._err(j.unexpectedCharacterInUnquotedAttributeValue),this.currentAttr.value+=String.fromCodePoint(t);break}case v.EOF:{this._err(j.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(t)}}_stateAfterAttributeValueQuoted(t){switch(t){case v.SPACE:case v.LINE_FEED:case v.TABULATION:case v.FORM_FEED:{this._leaveAttrValue(),this.state=w.BEFORE_ATTRIBUTE_NAME;break}case v.SOLIDUS:{this._leaveAttrValue(),this.state=w.SELF_CLOSING_START_TAG;break}case v.GREATER_THAN_SIGN:{this._leaveAttrValue(),this.state=w.DATA,this.emitCurrentTagToken();break}case v.EOF:{this._err(j.eofInTag),this._emitEOFToken();break}default:this._err(j.missingWhitespaceBetweenAttributes),this.state=w.BEFORE_ATTRIBUTE_NAME,this._stateBeforeAttributeName(t)}}_stateSelfClosingStartTag(t){switch(t){case v.GREATER_THAN_SIGN:{const n=this.currentToken;n.selfClosing=!0,this.state=w.DATA,this.emitCurrentTagToken();break}case v.EOF:{this._err(j.eofInTag),this._emitEOFToken();break}default:this._err(j.unexpectedSolidusInTag),this.state=w.BEFORE_ATTRIBUTE_NAME,this._stateBeforeAttributeName(t)}}_stateBogusComment(t){const n=this.currentToken;switch(t){case v.GREATER_THAN_SIGN:{this.state=w.DATA,this.emitCurrentComment(n);break}case v.EOF:{this.emitCurrentComment(n),this._emitEOFToken();break}case v.NULL:{this._err(j.unexpectedNullCharacter),n.data+=Rt;break}default:n.data+=String.fromCodePoint(t)}}_stateMarkupDeclarationOpen(t){this._consumeSequenceIfMatch(Kn.DASH_DASH,!0)?(this._createCommentToken(Kn.DASH_DASH.length+1),this.state=w.COMMENT_START):this._consumeSequenceIfMatch(Kn.DOCTYPE,!1)?(this.currentLocation=this.getCurrentLocation(Kn.DOCTYPE.length+1),this.state=w.DOCTYPE):this._consumeSequenceIfMatch(Kn.CDATA_START,!0)?this.inForeignNode?this.state=w.CDATA_SECTION:(this._err(j.cdataInHtmlContent),this._createCommentToken(Kn.CDATA_START.length+1),this.currentToken.data="[CDATA[",this.state=w.BOGUS_COMMENT):this._ensureHibernation()||(this._err(j.incorrectlyOpenedComment),this._createCommentToken(2),this.state=w.BOGUS_COMMENT,this._stateBogusComment(t))}_stateCommentStart(t){switch(t){case v.HYPHEN_MINUS:{this.state=w.COMMENT_START_DASH;break}case v.GREATER_THAN_SIGN:{this._err(j.abruptClosingOfEmptyComment),this.state=w.DATA;const n=this.currentToken;this.emitCurrentComment(n);break}default:this.state=w.COMMENT,this._stateComment(t)}}_stateCommentStartDash(t){const n=this.currentToken;switch(t){case v.HYPHEN_MINUS:{this.state=w.COMMENT_END;break}case v.GREATER_THAN_SIGN:{this._err(j.abruptClosingOfEmptyComment),this.state=w.DATA,this.emitCurrentComment(n);break}case v.EOF:{this._err(j.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+="-",this.state=w.COMMENT,this._stateComment(t)}}_stateComment(t){const n=this.currentToken;switch(t){case v.HYPHEN_MINUS:{this.state=w.COMMENT_END_DASH;break}case v.LESS_THAN_SIGN:{n.data+="<",this.state=w.COMMENT_LESS_THAN_SIGN;break}case v.NULL:{this._err(j.unexpectedNullCharacter),n.data+=Rt;break}case v.EOF:{this._err(j.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+=String.fromCodePoint(t)}}_stateCommentLessThanSign(t){const n=this.currentToken;switch(t){case v.EXCLAMATION_MARK:{n.data+="!",this.state=w.COMMENT_LESS_THAN_SIGN_BANG;break}case v.LESS_THAN_SIGN:{n.data+="<";break}default:this.state=w.COMMENT,this._stateComment(t)}}_stateCommentLessThanSignBang(t){t===v.HYPHEN_MINUS?this.state=w.COMMENT_LESS_THAN_SIGN_BANG_DASH:(this.state=w.COMMENT,this._stateComment(t))}_stateCommentLessThanSignBangDash(t){t===v.HYPHEN_MINUS?this.state=w.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH:(this.state=w.COMMENT_END_DASH,this._stateCommentEndDash(t))}_stateCommentLessThanSignBangDashDash(t){t!==v.GREATER_THAN_SIGN&&t!==v.EOF&&this._err(j.nestedComment),this.state=w.COMMENT_END,this._stateCommentEnd(t)}_stateCommentEndDash(t){const n=this.currentToken;switch(t){case v.HYPHEN_MINUS:{this.state=w.COMMENT_END;break}case v.EOF:{this._err(j.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+="-",this.state=w.COMMENT,this._stateComment(t)}}_stateCommentEnd(t){const n=this.currentToken;switch(t){case v.GREATER_THAN_SIGN:{this.state=w.DATA,this.emitCurrentComment(n);break}case v.EXCLAMATION_MARK:{this.state=w.COMMENT_END_BANG;break}case v.HYPHEN_MINUS:{n.data+="-";break}case v.EOF:{this._err(j.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+="--",this.state=w.COMMENT,this._stateComment(t)}}_stateCommentEndBang(t){const n=this.currentToken;switch(t){case v.HYPHEN_MINUS:{n.data+="--!",this.state=w.COMMENT_END_DASH;break}case v.GREATER_THAN_SIGN:{this._err(j.incorrectlyClosedComment),this.state=w.DATA,this.emitCurrentComment(n);break}case v.EOF:{this._err(j.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+="--!",this.state=w.COMMENT,this._stateComment(t)}}_stateDoctype(t){switch(t){case v.SPACE:case v.LINE_FEED:case v.TABULATION:case v.FORM_FEED:{this.state=w.BEFORE_DOCTYPE_NAME;break}case v.GREATER_THAN_SIGN:{this.state=w.BEFORE_DOCTYPE_NAME,this._stateBeforeDoctypeName(t);break}case v.EOF:{this._err(j.eofInDoctype),this._createDoctypeToken(null);const n=this.currentToken;n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(j.missingWhitespaceBeforeDoctypeName),this.state=w.BEFORE_DOCTYPE_NAME,this._stateBeforeDoctypeName(t)}}_stateBeforeDoctypeName(t){if(uu(t))this._createDoctypeToken(String.fromCharCode(dd(t))),this.state=w.DOCTYPE_NAME;else switch(t){case v.SPACE:case v.LINE_FEED:case v.TABULATION:case v.FORM_FEED:break;case v.NULL:{this._err(j.unexpectedNullCharacter),this._createDoctypeToken(Rt),this.state=w.DOCTYPE_NAME;break}case v.GREATER_THAN_SIGN:{this._err(j.missingDoctypeName),this._createDoctypeToken(null);const n=this.currentToken;n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=w.DATA;break}case v.EOF:{this._err(j.eofInDoctype),this._createDoctypeToken(null);const n=this.currentToken;n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._createDoctypeToken(String.fromCodePoint(t)),this.state=w.DOCTYPE_NAME}}_stateDoctypeName(t){const n=this.currentToken;switch(t){case v.SPACE:case v.LINE_FEED:case v.TABULATION:case v.FORM_FEED:{this.state=w.AFTER_DOCTYPE_NAME;break}case v.GREATER_THAN_SIGN:{this.state=w.DATA,this.emitCurrentDoctype(n);break}case v.NULL:{this._err(j.unexpectedNullCharacter),n.name+=Rt;break}case v.EOF:{this._err(j.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.name+=String.fromCodePoint(uu(t)?dd(t):t)}}_stateAfterDoctypeName(t){const n=this.currentToken;switch(t){case v.SPACE:case v.LINE_FEED:case v.TABULATION:case v.FORM_FEED:break;case v.GREATER_THAN_SIGN:{this.state=w.DATA,this.emitCurrentDoctype(n);break}case v.EOF:{this._err(j.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._consumeSequenceIfMatch(Kn.PUBLIC,!1)?this.state=w.AFTER_DOCTYPE_PUBLIC_KEYWORD:this._consumeSequenceIfMatch(Kn.SYSTEM,!1)?this.state=w.AFTER_DOCTYPE_SYSTEM_KEYWORD:this._ensureHibernation()||(this._err(j.invalidCharacterSequenceAfterDoctypeName),n.forceQuirks=!0,this.state=w.BOGUS_DOCTYPE,this._stateBogusDoctype(t))}}_stateAfterDoctypePublicKeyword(t){const n=this.currentToken;switch(t){case v.SPACE:case v.LINE_FEED:case v.TABULATION:case v.FORM_FEED:{this.state=w.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER;break}case v.QUOTATION_MARK:{this._err(j.missingWhitespaceAfterDoctypePublicKeyword),n.publicId="",this.state=w.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED;break}case v.APOSTROPHE:{this._err(j.missingWhitespaceAfterDoctypePublicKeyword),n.publicId="",this.state=w.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED;break}case v.GREATER_THAN_SIGN:{this._err(j.missingDoctypePublicIdentifier),n.forceQuirks=!0,this.state=w.DATA,this.emitCurrentDoctype(n);break}case v.EOF:{this._err(j.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(j.missingQuoteBeforeDoctypePublicIdentifier),n.forceQuirks=!0,this.state=w.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateBeforeDoctypePublicIdentifier(t){const n=this.currentToken;switch(t){case v.SPACE:case v.LINE_FEED:case v.TABULATION:case v.FORM_FEED:break;case v.QUOTATION_MARK:{n.publicId="",this.state=w.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED;break}case v.APOSTROPHE:{n.publicId="",this.state=w.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED;break}case v.GREATER_THAN_SIGN:{this._err(j.missingDoctypePublicIdentifier),n.forceQuirks=!0,this.state=w.DATA,this.emitCurrentDoctype(n);break}case v.EOF:{this._err(j.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(j.missingQuoteBeforeDoctypePublicIdentifier),n.forceQuirks=!0,this.state=w.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateDoctypePublicIdentifierDoubleQuoted(t){const n=this.currentToken;switch(t){case v.QUOTATION_MARK:{this.state=w.AFTER_DOCTYPE_PUBLIC_IDENTIFIER;break}case v.NULL:{this._err(j.unexpectedNullCharacter),n.publicId+=Rt;break}case v.GREATER_THAN_SIGN:{this._err(j.abruptDoctypePublicIdentifier),n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=w.DATA;break}case v.EOF:{this._err(j.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.publicId+=String.fromCodePoint(t)}}_stateDoctypePublicIdentifierSingleQuoted(t){const n=this.currentToken;switch(t){case v.APOSTROPHE:{this.state=w.AFTER_DOCTYPE_PUBLIC_IDENTIFIER;break}case v.NULL:{this._err(j.unexpectedNullCharacter),n.publicId+=Rt;break}case v.GREATER_THAN_SIGN:{this._err(j.abruptDoctypePublicIdentifier),n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=w.DATA;break}case v.EOF:{this._err(j.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.publicId+=String.fromCodePoint(t)}}_stateAfterDoctypePublicIdentifier(t){const n=this.currentToken;switch(t){case v.SPACE:case v.LINE_FEED:case v.TABULATION:case v.FORM_FEED:{this.state=w.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS;break}case v.GREATER_THAN_SIGN:{this.state=w.DATA,this.emitCurrentDoctype(n);break}case v.QUOTATION_MARK:{this._err(j.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers),n.systemId="",this.state=w.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case v.APOSTROPHE:{this._err(j.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers),n.systemId="",this.state=w.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case v.EOF:{this._err(j.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(j.missingQuoteBeforeDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=w.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateBetweenDoctypePublicAndSystemIdentifiers(t){const n=this.currentToken;switch(t){case v.SPACE:case v.LINE_FEED:case v.TABULATION:case v.FORM_FEED:break;case v.GREATER_THAN_SIGN:{this.emitCurrentDoctype(n),this.state=w.DATA;break}case v.QUOTATION_MARK:{n.systemId="",this.state=w.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case v.APOSTROPHE:{n.systemId="",this.state=w.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case v.EOF:{this._err(j.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(j.missingQuoteBeforeDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=w.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateAfterDoctypeSystemKeyword(t){const n=this.currentToken;switch(t){case v.SPACE:case v.LINE_FEED:case v.TABULATION:case v.FORM_FEED:{this.state=w.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER;break}case v.QUOTATION_MARK:{this._err(j.missingWhitespaceAfterDoctypeSystemKeyword),n.systemId="",this.state=w.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case v.APOSTROPHE:{this._err(j.missingWhitespaceAfterDoctypeSystemKeyword),n.systemId="",this.state=w.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case v.GREATER_THAN_SIGN:{this._err(j.missingDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=w.DATA,this.emitCurrentDoctype(n);break}case v.EOF:{this._err(j.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(j.missingQuoteBeforeDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=w.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateBeforeDoctypeSystemIdentifier(t){const n=this.currentToken;switch(t){case v.SPACE:case v.LINE_FEED:case v.TABULATION:case v.FORM_FEED:break;case v.QUOTATION_MARK:{n.systemId="",this.state=w.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case v.APOSTROPHE:{n.systemId="",this.state=w.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case v.GREATER_THAN_SIGN:{this._err(j.missingDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=w.DATA,this.emitCurrentDoctype(n);break}case v.EOF:{this._err(j.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(j.missingQuoteBeforeDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=w.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateDoctypeSystemIdentifierDoubleQuoted(t){const n=this.currentToken;switch(t){case v.QUOTATION_MARK:{this.state=w.AFTER_DOCTYPE_SYSTEM_IDENTIFIER;break}case v.NULL:{this._err(j.unexpectedNullCharacter),n.systemId+=Rt;break}case v.GREATER_THAN_SIGN:{this._err(j.abruptDoctypeSystemIdentifier),n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=w.DATA;break}case v.EOF:{this._err(j.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.systemId+=String.fromCodePoint(t)}}_stateDoctypeSystemIdentifierSingleQuoted(t){const n=this.currentToken;switch(t){case v.APOSTROPHE:{this.state=w.AFTER_DOCTYPE_SYSTEM_IDENTIFIER;break}case v.NULL:{this._err(j.unexpectedNullCharacter),n.systemId+=Rt;break}case v.GREATER_THAN_SIGN:{this._err(j.abruptDoctypeSystemIdentifier),n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=w.DATA;break}case v.EOF:{this._err(j.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.systemId+=String.fromCodePoint(t)}}_stateAfterDoctypeSystemIdentifier(t){const n=this.currentToken;switch(t){case v.SPACE:case v.LINE_FEED:case v.TABULATION:case v.FORM_FEED:break;case v.GREATER_THAN_SIGN:{this.emitCurrentDoctype(n),this.state=w.DATA;break}case v.EOF:{this._err(j.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(j.unexpectedCharacterAfterDoctypeSystemIdentifier),this.state=w.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateBogusDoctype(t){const n=this.currentToken;switch(t){case v.GREATER_THAN_SIGN:{this.emitCurrentDoctype(n),this.state=w.DATA;break}case v.NULL:{this._err(j.unexpectedNullCharacter);break}case v.EOF:{this.emitCurrentDoctype(n),this._emitEOFToken();break}}}_stateCdataSection(t){switch(t){case v.RIGHT_SQUARE_BRACKET:{this.state=w.CDATA_SECTION_BRACKET;break}case v.EOF:{this._err(j.eofInCdata),this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateCdataSectionBracket(t){t===v.RIGHT_SQUARE_BRACKET?this.state=w.CDATA_SECTION_END:(this._emitChars("]"),this.state=w.CDATA_SECTION,this._stateCdataSection(t))}_stateCdataSectionEnd(t){switch(t){case v.GREATER_THAN_SIGN:{this.state=w.DATA;break}case v.RIGHT_SQUARE_BRACKET:{this._emitChars("]");break}default:this._emitChars("]]"),this.state=w.CDATA_SECTION,this._stateCdataSection(t)}}_stateCharacterReference(){let t=this.entityDecoder.write(this.preprocessor.html,this.preprocessor.pos);if(t<0)if(this.preprocessor.lastChunkWritten)t=this.entityDecoder.end();else{this.active=!1,this.preprocessor.pos=this.preprocessor.html.length-1,this.consumedAfterSnapshot=0,this.preprocessor.endOfChunkHit=!0;return}t===0?(this.preprocessor.pos=this.entityStartPos,this._flushCodePointConsumedAsCharacterReference(v.AMPERSAND),this.state=!this._isCharacterReferenceInAttribute()&&FE(this.preprocessor.peek(1))?w.AMBIGUOUS_AMPERSAND:this.returnState):this.state=this.returnState}_stateAmbiguousAmpersand(t){FE(t)?this._flushCodePointConsumedAsCharacterReference(t):(t===v.SEMICOLON&&this._err(j.unknownNamedCharacterReference),this.state=this.returnState,this._callState(t))}}const rk=new Set([h.DD,h.DT,h.LI,h.OPTGROUP,h.OPTION,h.P,h.RB,h.RP,h.RT,h.RTC]),HE=new Set([...rk,h.CAPTION,h.COLGROUP,h.TBODY,h.TD,h.TFOOT,h.TH,h.THEAD,h.TR]),Of=new Set([h.APPLET,h.CAPTION,h.HTML,h.MARQUEE,h.OBJECT,h.TABLE,h.TD,h.TEMPLATE,h.TH]),s9=new Set([...Of,h.OL,h.UL]),o9=new Set([...Of,h.BUTTON]),zE=new Set([h.ANNOTATION_XML,h.MI,h.MN,h.MO,h.MS,h.MTEXT]),VE=new Set([h.DESC,h.FOREIGN_OBJECT,h.TITLE]),a9=new Set([h.TR,h.TEMPLATE,h.HTML]),l9=new Set([h.TBODY,h.TFOOT,h.THEAD,h.TEMPLATE,h.HTML]),u9=new Set([h.TABLE,h.TEMPLATE,h.HTML]),c9=new Set([h.TD,h.TH]);class d9{get currentTmplContentOrNode(){return this._isInTemplate()?this.treeAdapter.getTemplateContent(this.current):this.current}constructor(t,n,r){this.treeAdapter=n,this.handler=r,this.items=[],this.tagIDs=[],this.stackTop=-1,this.tmplCount=0,this.currentTagId=h.UNKNOWN,this.current=t}_indexOf(t){return this.items.lastIndexOf(t,this.stackTop)}_isInTemplate(){return this.currentTagId===h.TEMPLATE&&this.treeAdapter.getNamespaceURI(this.current)===re.HTML}_updateCurrentElement(){this.current=this.items[this.stackTop],this.currentTagId=this.tagIDs[this.stackTop]}push(t,n){this.stackTop++,this.items[this.stackTop]=t,this.current=t,this.tagIDs[this.stackTop]=n,this.currentTagId=n,this._isInTemplate()&&this.tmplCount++,this.handler.onItemPush(t,n,!0)}pop(){const t=this.current;this.tmplCount>0&&this._isInTemplate()&&this.tmplCount--,this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(t,!0)}replace(t,n){const r=this._indexOf(t);this.items[r]=n,r===this.stackTop&&(this.current=n)}insertAfter(t,n,r){const i=this._indexOf(t)+1;this.items.splice(i,0,n),this.tagIDs.splice(i,0,r),this.stackTop++,i===this.stackTop&&this._updateCurrentElement(),this.handler.onItemPush(this.current,this.currentTagId,i===this.stackTop)}popUntilTagNamePopped(t){let n=this.stackTop+1;do n=this.tagIDs.lastIndexOf(t,n-1);while(n>0&&this.treeAdapter.getNamespaceURI(this.items[n])!==re.HTML);this.shortenToLength(n<0?0:n)}shortenToLength(t){for(;this.stackTop>=t;){const n=this.current;this.tmplCount>0&&this._isInTemplate()&&(this.tmplCount-=1),this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(n,this.stackTop<t)}}popUntilElementPopped(t){const n=this._indexOf(t);this.shortenToLength(n<0?0:n)}popUntilPopped(t,n){const r=this._indexOfTagNames(t,n);this.shortenToLength(r<0?0:r)}popUntilNumberedHeaderPopped(){this.popUntilPopped(Ug,re.HTML)}popUntilTableCellPopped(){this.popUntilPopped(c9,re.HTML)}popAllUpToHtmlElement(){this.tmplCount=0,this.shortenToLength(1)}_indexOfTagNames(t,n){for(let r=this.stackTop;r>=0;r--)if(t.has(this.tagIDs[r])&&this.treeAdapter.getNamespaceURI(this.items[r])===n)return r;return-1}clearBackTo(t,n){const r=this._indexOfTagNames(t,n);this.shortenToLength(r+1)}clearBackToTableContext(){this.clearBackTo(u9,re.HTML)}clearBackToTableBodyContext(){this.clearBackTo(l9,re.HTML)}clearBackToTableRowContext(){this.clearBackTo(a9,re.HTML)}remove(t){const n=this._indexOf(t);n>=0&&(n===this.stackTop?this.pop():(this.items.splice(n,1),this.tagIDs.splice(n,1),this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(t,!1)))}tryPeekProperlyNestedBodyElement(){return this.stackTop>=1&&this.tagIDs[1]===h.BODY?this.items[1]:null}contains(t){return this._indexOf(t)>-1}getCommonAncestor(t){const n=this._indexOf(t)-1;return n>=0?this.items[n]:null}isRootHtmlElementCurrent(){return this.stackTop===0&&this.tagIDs[0]===h.HTML}hasInDynamicScope(t,n){for(let r=this.stackTop;r>=0;r--){const i=this.tagIDs[r];switch(this.treeAdapter.getNamespaceURI(this.items[r])){case re.HTML:{if(i===t)return!0;if(n.has(i))return!1;break}case re.SVG:{if(VE.has(i))return!1;break}case re.MATHML:{if(zE.has(i))return!1;break}}}return!0}hasInScope(t){return this.hasInDynamicScope(t,Of)}hasInListItemScope(t){return this.hasInDynamicScope(t,s9)}hasInButtonScope(t){return this.hasInDynamicScope(t,o9)}hasNumberedHeaderInScope(){for(let t=this.stackTop;t>=0;t--){const n=this.tagIDs[t];switch(this.treeAdapter.getNamespaceURI(this.items[t])){case re.HTML:{if(Ug.has(n))return!0;if(Of.has(n))return!1;break}case re.SVG:{if(VE.has(n))return!1;break}case re.MATHML:{if(zE.has(n))return!1;break}}}return!0}hasInTableScope(t){for(let n=this.stackTop;n>=0;n--)if(this.treeAdapter.getNamespaceURI(this.items[n])===re.HTML)switch(this.tagIDs[n]){case t:return!0;case h.TABLE:case h.HTML:return!1}return!0}hasTableBodyContextInTableScope(){for(let t=this.stackTop;t>=0;t--)if(this.treeAdapter.getNamespaceURI(this.items[t])===re.HTML)switch(this.tagIDs[t]){case h.TBODY:case h.THEAD:case h.TFOOT:return!0;case h.TABLE:case h.HTML:return!1}return!0}hasInSelectScope(t){for(let n=this.stackTop;n>=0;n--)if(this.treeAdapter.getNamespaceURI(this.items[n])===re.HTML)switch(this.tagIDs[n]){case t:return!0;case h.OPTION:case h.OPTGROUP:break;default:return!1}return!0}generateImpliedEndTags(){for(;rk.has(this.currentTagId);)this.pop()}generateImpliedEndTagsThoroughly(){for(;HE.has(this.currentTagId);)this.pop()}generateImpliedEndTagsWithExclusion(t){for(;this.currentTagId!==t&&HE.has(this.currentTagId);)this.pop()}}const Wh=3;var Ai;(function(e){e[e.Marker=0]="Marker",e[e.Element=1]="Element"})(Ai||(Ai={}));const jE={type:Ai.Marker};class f9{constructor(t){this.treeAdapter=t,this.entries=[],this.bookmark=null}_getNoahArkConditionCandidates(t,n){const r=[],i=n.length,s=this.treeAdapter.getTagName(t),o=this.treeAdapter.getNamespaceURI(t);for(let a=0;a<this.entries.length;a++){const l=this.entries[a];if(l.type===Ai.Marker)break;const{element:u}=l;if(this.treeAdapter.getTagName(u)===s&&this.treeAdapter.getNamespaceURI(u)===o){const c=this.treeAdapter.getAttrList(u);c.length===i&&r.push({idx:a,attrs:c})}}return r}_ensureNoahArkCondition(t){if(this.entries.length<Wh)return;const n=this.treeAdapter.getAttrList(t),r=this._getNoahArkConditionCandidates(t,n);if(r.length<Wh)return;const i=new Map(n.map(o=>[o.name,o.value]));let s=0;for(let o=0;o<r.length;o++){const a=r[o];a.attrs.every(l=>i.get(l.name)===l.value)&&(s+=1,s>=Wh&&this.entries.splice(a.idx,1))}}insertMarker(){this.entries.unshift(jE)}pushElement(t,n){this._ensureNoahArkCondition(t),this.entries.unshift({type:Ai.Element,element:t,token:n})}insertElementAfterBookmark(t,n){const r=this.entries.indexOf(this.bookmark);this.entries.splice(r,0,{type:Ai.Element,element:t,token:n})}removeEntry(t){const n=this.entries.indexOf(t);n>=0&&this.entries.splice(n,1)}clearToLastMarker(){const t=this.entries.indexOf(jE);t>=0?this.entries.splice(0,t+1):this.entries.length=0}getElementEntryInScopeWithTagName(t){const n=this.entries.find(r=>r.type===Ai.Marker||this.treeAdapter.getTagName(r.element)===t);return n&&n.type===Ai.Element?n:null}getElementEntry(t){return this.entries.find(n=>n.type===Ai.Element&&n.element===t)}}const Os={createDocument(){return{nodeName:"#document",mode:Or.NO_QUIRKS,childNodes:[]}},createDocumentFragment(){return{nodeName:"#document-fragment",childNodes:[]}},createElement(e,t,n){return{nodeName:e,tagName:e,attrs:n,namespaceURI:t,childNodes:[],parentNode:null}},createCommentNode(e){return{nodeName:"#comment",data:e,parentNode:null}},createTextNode(e){return{nodeName:"#text",value:e,parentNode:null}},appendChild(e,t){e.childNodes.push(t),t.parentNode=e},insertBefore(e,t,n){const r=e.childNodes.indexOf(n);e.childNodes.splice(r,0,t),t.parentNode=e},setTemplateContent(e,t){e.content=t},getTemplateContent(e){return e.content},setDocumentType(e,t,n,r){const i=e.childNodes.find(s=>s.nodeName==="#documentType");if(i)i.name=t,i.publicId=n,i.systemId=r;else{const s={nodeName:"#documentType",name:t,publicId:n,systemId:r,parentNode:null};Os.appendChild(e,s)}},setDocumentMode(e,t){e.mode=t},getDocumentMode(e){return e.mode},detachNode(e){if(e.parentNode){const t=e.parentNode.childNodes.indexOf(e);e.parentNode.childNodes.splice(t,1),e.parentNode=null}},insertText(e,t){if(e.childNodes.length>0){const n=e.childNodes[e.childNodes.length-1];if(Os.isTextNode(n)){n.value+=t;return}}Os.appendChild(e,Os.createTextNode(t))},insertTextBefore(e,t,n){const r=e.childNodes[e.childNodes.indexOf(n)-1];r&&Os.isTextNode(r)?r.value+=t:Os.insertBefore(e,Os.createTextNode(t),n)},adoptAttributes(e,t){const n=new Set(e.attrs.map(r=>r.name));for(let r=0;r<t.length;r++)n.has(t[r].name)||e.attrs.push(t[r])},getFirstChild(e){return e.childNodes[0]},getChildNodes(e){return e.childNodes},getParentNode(e){return e.parentNode},getAttrList(e){return e.attrs},getTagName(e){return e.tagName},getNamespaceURI(e){return e.namespaceURI},getTextNodeContent(e){return e.value},getCommentNodeContent(e){return e.data},getDocumentTypeNodeName(e){return e.name},getDocumentTypeNodePublicId(e){return e.publicId},getDocumentTypeNodeSystemId(e){return e.systemId},isTextNode(e){return e.nodeName==="#text"},isCommentNode(e){return e.nodeName==="#comment"},isDocumentTypeNode(e){return e.nodeName==="#documentType"},isElementNode(e){return Object.prototype.hasOwnProperty.call(e,"tagName")},setNodeSourceCodeLocation(e,t){e.sourceCodeLocation=t},getNodeSourceCodeLocation(e){return e.sourceCodeLocation},updateNodeSourceCodeLocation(e,t){e.sourceCodeLocation={...e.sourceCodeLocation,...t}}},ik="html",p9="about:legacy-compat",h9="http://www.ibm.com/data/dtd/v11/ibmxhtml1-transitional.dtd",sk=["+//silmaril//dtd html pro v0r11 19970101//","-//as//dtd html 3.0 aswedit + extensions//","-//advasoft ltd//dtd html 3.0 aswedit + extensions//","-//ietf//dtd html 2.0 level 1//","-//ietf//dtd html 2.0 level 2//","-//ietf//dtd html 2.0 strict level 1//","-//ietf//dtd html 2.0 strict level 2//","-//ietf//dtd html 2.0 strict//","-//ietf//dtd html 2.0//","-//ietf//dtd html 2.1e//","-//ietf//dtd html 3.0//","-//ietf//dtd html 3.2 final//","-//ietf//dtd html 3.2//","-//ietf//dtd html 3//","-//ietf//dtd html level 0//","-//ietf//dtd html level 1//","-//ietf//dtd html level 2//","-//ietf//dtd html level 3//","-//ietf//dtd html strict level 0//","-//ietf//dtd html strict level 1//","-//ietf//dtd html strict level 2//","-//ietf//dtd html strict level 3//","-//ietf//dtd html strict//","-//ietf//dtd html//","-//metrius//dtd metrius presentational//","-//microsoft//dtd internet explorer 2.0 html strict//","-//microsoft//dtd internet explorer 2.0 html//","-//microsoft//dtd internet explorer 2.0 tables//","-//microsoft//dtd internet explorer 3.0 html strict//","-//microsoft//dtd internet explorer 3.0 html//","-//microsoft//dtd internet explorer 3.0 tables//","-//netscape comm. corp.//dtd html//","-//netscape comm. corp.//dtd strict html//","-//o'reilly and associates//dtd html 2.0//","-//o'reilly and associates//dtd html extended 1.0//","-//o'reilly and associates//dtd html extended relaxed 1.0//","-//sq//dtd html 2.0 hotmetal + extensions//","-//softquad software//dtd hotmetal pro 6.0::19990601::extensions to html 4.0//","-//softquad//dtd hotmetal pro 4.0::19971010::extensions to html 4.0//","-//spyglass//dtd html 2.0 extended//","-//sun microsystems corp.//dtd hotjava html//","-//sun microsystems corp.//dtd hotjava strict html//","-//w3c//dtd html 3 1995-03-24//","-//w3c//dtd html 3.2 draft//","-//w3c//dtd html 3.2 final//","-//w3c//dtd html 3.2//","-//w3c//dtd html 3.2s draft//","-//w3c//dtd html 4.0 frameset//","-//w3c//dtd html 4.0 transitional//","-//w3c//dtd html experimental 19960712//","-//w3c//dtd html experimental 970421//","-//w3c//dtd w3 html//","-//w3o//dtd w3 html 3.0//","-//webtechs//dtd mozilla html 2.0//","-//webtechs//dtd mozilla html//"],m9=[...sk,"-//w3c//dtd html 4.01 frameset//","-//w3c//dtd html 4.01 transitional//"],g9=new Set(["-//w3o//dtd w3 html strict 3.0//en//","-/w3c/dtd html 4.0 transitional/en","html"]),ok=["-//w3c//dtd xhtml 1.0 frameset//","-//w3c//dtd xhtml 1.0 transitional//"],b9=[...ok,"-//w3c//dtd html 4.01 frameset//","-//w3c//dtd html 4.01 transitional//"];function qE(e,t){return t.some(n=>e.startsWith(n))}function y9(e){return e.name===ik&&e.publicId===null&&(e.systemId===null||e.systemId===p9)}function _9(e){if(e.name!==ik)return Or.QUIRKS;const{systemId:t}=e;if(t&&t.toLowerCase()===h9)return Or.QUIRKS;let{publicId:n}=e;if(n!==null){if(n=n.toLowerCase(),g9.has(n))return Or.QUIRKS;let r=t===null?m9:sk;if(qE(n,r))return Or.QUIRKS;if(r=t===null?ok:b9,qE(n,r))return Or.LIMITED_QUIRKS}return Or.NO_QUIRKS}const WE={TEXT_HTML:"text/html",APPLICATION_XML:"application/xhtml+xml"},E9="definitionurl",v9="definitionURL",T9=new Map(["attributeName","attributeType","baseFrequency","baseProfile","calcMode","clipPathUnits","diffuseConstant","edgeMode","filterUnits","glyphRef","gradientTransform","gradientUnits","kernelMatrix","kernelUnitLength","keyPoints","keySplines","keyTimes","lengthAdjust","limitingConeAngle","markerHeight","markerUnits","markerWidth","maskContentUnits","maskUnits","numOctaves","pathLength","patternContentUnits","patternTransform","patternUnits","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","refX","refY","repeatCount","repeatDur","requiredExtensions","requiredFeatures","specularConstant","specularExponent","spreadMethod","startOffset","stdDeviation","stitchTiles","surfaceScale","systemLanguage","tableValues","targetX","targetY","textLength","viewBox","viewTarget","xChannelSelector","yChannelSelector","zoomAndPan"].map(e=>[e.toLowerCase(),e])),w9=new Map([["xlink:actuate",{prefix:"xlink",name:"actuate",namespace:re.XLINK}],["xlink:arcrole",{prefix:"xlink",name:"arcrole",namespace:re.XLINK}],["xlink:href",{prefix:"xlink",name:"href",namespace:re.XLINK}],["xlink:role",{prefix:"xlink",name:"role",namespace:re.XLINK}],["xlink:show",{prefix:"xlink",name:"show",namespace:re.XLINK}],["xlink:title",{prefix:"xlink",name:"title",namespace:re.XLINK}],["xlink:type",{prefix:"xlink",name:"type",namespace:re.XLINK}],["xml:lang",{prefix:"xml",name:"lang",namespace:re.XML}],["xml:space",{prefix:"xml",name:"space",namespace:re.XML}],["xmlns",{prefix:"",name:"xmlns",namespace:re.XMLNS}],["xmlns:xlink",{prefix:"xmlns",name:"xlink",namespace:re.XMLNS}]]),x9=new Map(["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","textPath"].map(e=>[e.toLowerCase(),e])),C9=new Set([h.B,h.BIG,h.BLOCKQUOTE,h.BODY,h.BR,h.CENTER,h.CODE,h.DD,h.DIV,h.DL,h.DT,h.EM,h.EMBED,h.H1,h.H2,h.H3,h.H4,h.H5,h.H6,h.HEAD,h.HR,h.I,h.IMG,h.LI,h.LISTING,h.MENU,h.META,h.NOBR,h.OL,h.P,h.PRE,h.RUBY,h.S,h.SMALL,h.SPAN,h.STRONG,h.STRIKE,h.SUB,h.SUP,h.TABLE,h.TT,h.U,h.UL,h.VAR]);function S9(e){const t=e.tagID;return t===h.FONT&&e.attrs.some(({name:r})=>r===zo.COLOR||r===zo.SIZE||r===zo.FACE)||C9.has(t)}function ak(e){for(let t=0;t<e.attrs.length;t++)if(e.attrs[t].name===E9){e.attrs[t].name=v9;break}}function lk(e){for(let t=0;t<e.attrs.length;t++){const n=T9.get(e.attrs[t].name);n!=null&&(e.attrs[t].name=n)}}function Hb(e){for(let t=0;t<e.attrs.length;t++){const n=w9.get(e.attrs[t].name);n&&(e.attrs[t].prefix=n.prefix,e.attrs[t].name=n.name,e.attrs[t].namespace=n.namespace)}}function A9(e){const t=x9.get(e.tagName);t!=null&&(e.tagName=t,e.tagID=Ip(e.tagName))}function k9(e,t){return t===re.MATHML&&(e===h.MI||e===h.MO||e===h.MN||e===h.MS||e===h.MTEXT)}function O9(e,t,n){if(t===re.MATHML&&e===h.ANNOTATION_XML){for(let r=0;r<n.length;r++)if(n[r].name===zo.ENCODING){const i=n[r].value.toLowerCase();return i===WE.TEXT_HTML||i===WE.APPLICATION_XML}}return t===re.SVG&&(e===h.FOREIGN_OBJECT||e===h.DESC||e===h.TITLE)}function I9(e,t,n,r){return(!r||r===re.HTML)&&O9(e,t,n)||(!r||r===re.MATHML)&&k9(e,t)}const N9="hidden",R9=8,D9=3;var O;(function(e){e[e.INITIAL=0]="INITIAL",e[e.BEFORE_HTML=1]="BEFORE_HTML",e[e.BEFORE_HEAD=2]="BEFORE_HEAD",e[e.IN_HEAD=3]="IN_HEAD",e[e.IN_HEAD_NO_SCRIPT=4]="IN_HEAD_NO_SCRIPT",e[e.AFTER_HEAD=5]="AFTER_HEAD",e[e.IN_BODY=6]="IN_BODY",e[e.TEXT=7]="TEXT",e[e.IN_TABLE=8]="IN_TABLE",e[e.IN_TABLE_TEXT=9]="IN_TABLE_TEXT",e[e.IN_CAPTION=10]="IN_CAPTION",e[e.IN_COLUMN_GROUP=11]="IN_COLUMN_GROUP",e[e.IN_TABLE_BODY=12]="IN_TABLE_BODY",e[e.IN_ROW=13]="IN_ROW",e[e.IN_CELL=14]="IN_CELL",e[e.IN_SELECT=15]="IN_SELECT",e[e.IN_SELECT_IN_TABLE=16]="IN_SELECT_IN_TABLE",e[e.IN_TEMPLATE=17]="IN_TEMPLATE",e[e.AFTER_BODY=18]="AFTER_BODY",e[e.IN_FRAMESET=19]="IN_FRAMESET",e[e.AFTER_FRAMESET=20]="AFTER_FRAMESET",e[e.AFTER_AFTER_BODY=21]="AFTER_AFTER_BODY",e[e.AFTER_AFTER_FRAMESET=22]="AFTER_AFTER_FRAMESET"})(O||(O={}));const M9={startLine:-1,startCol:-1,startOffset:-1,endLine:-1,endCol:-1,endOffset:-1},uk=new Set([h.TABLE,h.TBODY,h.TFOOT,h.THEAD,h.TR]),YE={scriptingEnabled:!0,sourceCodeLocationInfo:!1,treeAdapter:Os,onParseError:null};class ck{constructor(t,n,r=null,i=null){this.fragmentContext=r,this.scriptHandler=i,this.currentToken=null,this.stopped=!1,this.insertionMode=O.INITIAL,this.originalInsertionMode=O.INITIAL,this.headElement=null,this.formElement=null,this.currentNotInHTML=!1,this.tmplInsertionModeStack=[],this.pendingCharacterTokens=[],this.hasNonWhitespacePendingCharacterToken=!1,this.framesetOk=!0,this.skipNextNewLine=!1,this.fosterParentingEnabled=!1,this.options={...YE,...t},this.treeAdapter=this.options.treeAdapter,this.onParseError=this.options.onParseError,this.onParseError&&(this.options.sourceCodeLocationInfo=!0),this.document=n??this.treeAdapter.createDocument(),this.tokenizer=new i9(this.options,this),this.activeFormattingElements=new f9(this.treeAdapter),this.fragmentContextID=r?Ip(this.treeAdapter.getTagName(r)):h.UNKNOWN,this._setContextModes(r??this.document,this.fragmentContextID),this.openElements=new d9(this.document,this.treeAdapter,this)}static parse(t,n){const r=new this(n);return r.tokenizer.write(t,!0),r.document}static getFragmentParser(t,n){const r={...YE,...n};t??(t=r.treeAdapter.createElement($.TEMPLATE,re.HTML,[]));const i=r.treeAdapter.createElement("documentmock",re.HTML,[]),s=new this(r,i,t);return s.fragmentContextID===h.TEMPLATE&&s.tmplInsertionModeStack.unshift(O.IN_TEMPLATE),s._initTokenizerForFragmentParsing(),s._insertFakeRootElement(),s._resetInsertionMode(),s._findFormInFragmentContext(),s}getFragment(){const t=this.treeAdapter.getFirstChild(this.document),n=this.treeAdapter.createDocumentFragment();return this._adoptNodes(t,n),n}_err(t,n,r){var i;if(!this.onParseError)return;const s=(i=t.location)!==null&&i!==void 0?i:M9,o={code:n,startLine:s.startLine,startCol:s.startCol,startOffset:s.startOffset,endLine:r?s.startLine:s.endLine,endCol:r?s.startCol:s.endCol,endOffset:r?s.startOffset:s.endOffset};this.onParseError(o)}onItemPush(t,n,r){var i,s;(s=(i=this.treeAdapter).onItemPush)===null||s===void 0||s.call(i,t),r&&this.openElements.stackTop>0&&this._setContextModes(t,n)}onItemPop(t,n){var r,i;if(this.options.sourceCodeLocationInfo&&this._setEndLocation(t,this.currentToken),(i=(r=this.treeAdapter).onItemPop)===null||i===void 0||i.call(r,t,this.openElements.current),n){let s,o;this.openElements.stackTop===0&&this.fragmentContext?(s=this.fragmentContext,o=this.fragmentContextID):{current:s,currentTagId:o}=this.openElements,this._setContextModes(s,o)}}_setContextModes(t,n){const r=t===this.document||this.treeAdapter.getNamespaceURI(t)===re.HTML;this.currentNotInHTML=!r,this.tokenizer.inForeignNode=!r&&!this._isIntegrationPoint(n,t)}_switchToTextParsing(t,n){this._insertElement(t,re.HTML),this.tokenizer.state=n,this.originalInsertionMode=this.insertionMode,this.insertionMode=O.TEXT}switchToPlaintextParsing(){this.insertionMode=O.TEXT,this.originalInsertionMode=O.IN_BODY,this.tokenizer.state=Zn.PLAINTEXT}_getAdjustedCurrentElement(){return this.openElements.stackTop===0&&this.fragmentContext?this.fragmentContext:this.openElements.current}_findFormInFragmentContext(){let t=this.fragmentContext;for(;t;){if(this.treeAdapter.getTagName(t)===$.FORM){this.formElement=t;break}t=this.treeAdapter.getParentNode(t)}}_initTokenizerForFragmentParsing(){if(!(!this.fragmentContext||this.treeAdapter.getNamespaceURI(this.fragmentContext)!==re.HTML))switch(this.fragmentContextID){case h.TITLE:case h.TEXTAREA:{this.tokenizer.state=Zn.RCDATA;break}case h.STYLE:case h.XMP:case h.IFRAME:case h.NOEMBED:case h.NOFRAMES:case h.NOSCRIPT:{this.tokenizer.state=Zn.RAWTEXT;break}case h.SCRIPT:{this.tokenizer.state=Zn.SCRIPT_DATA;break}case h.PLAINTEXT:{this.tokenizer.state=Zn.PLAINTEXT;break}}}_setDocumentType(t){const n=t.name||"",r=t.publicId||"",i=t.systemId||"";if(this.treeAdapter.setDocumentType(this.document,n,r,i),t.location){const o=this.treeAdapter.getChildNodes(this.document).find(a=>this.treeAdapter.isDocumentTypeNode(a));o&&this.treeAdapter.setNodeSourceCodeLocation(o,t.location)}}_attachElementToTree(t,n){if(this.options.sourceCodeLocationInfo){const r=n&&{...n,startTag:n};this.treeAdapter.setNodeSourceCodeLocation(t,r)}if(this._shouldFosterParentOnInsertion())this._fosterParentElement(t);else{const r=this.openElements.currentTmplContentOrNode;this.treeAdapter.appendChild(r,t)}}_appendElement(t,n){const r=this.treeAdapter.createElement(t.tagName,n,t.attrs);this._attachElementToTree(r,t.location)}_insertElement(t,n){const r=this.treeAdapter.createElement(t.tagName,n,t.attrs);this._attachElementToTree(r,t.location),this.openElements.push(r,t.tagID)}_insertFakeElement(t,n){const r=this.treeAdapter.createElement(t,re.HTML,[]);this._attachElementToTree(r,null),this.openElements.push(r,n)}_insertTemplate(t){const n=this.treeAdapter.createElement(t.tagName,re.HTML,t.attrs),r=this.treeAdapter.createDocumentFragment();this.treeAdapter.setTemplateContent(n,r),this._attachElementToTree(n,t.location),this.openElements.push(n,t.tagID),this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(r,null)}_insertFakeRootElement(){const t=this.treeAdapter.createElement($.HTML,re.HTML,[]);this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(t,null),this.treeAdapter.appendChild(this.openElements.current,t),this.openElements.push(t,h.HTML)}_appendCommentNode(t,n){const r=this.treeAdapter.createCommentNode(t.data);this.treeAdapter.appendChild(n,r),this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(r,t.location)}_insertCharacters(t){let n,r;if(this._shouldFosterParentOnInsertion()?({parent:n,beforeElement:r}=this._findFosterParentingLocation(),r?this.treeAdapter.insertTextBefore(n,t.chars,r):this.treeAdapter.insertText(n,t.chars)):(n=this.openElements.currentTmplContentOrNode,this.treeAdapter.insertText(n,t.chars)),!t.location)return;const i=this.treeAdapter.getChildNodes(n),s=r?i.lastIndexOf(r):i.length,o=i[s-1];if(this.treeAdapter.getNodeSourceCodeLocation(o)){const{endLine:l,endCol:u,endOffset:c}=t.location;this.treeAdapter.updateNodeSourceCodeLocation(o,{endLine:l,endCol:u,endOffset:c})}else this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(o,t.location)}_adoptNodes(t,n){for(let r=this.treeAdapter.getFirstChild(t);r;r=this.treeAdapter.getFirstChild(t))this.treeAdapter.detachNode(r),this.treeAdapter.appendChild(n,r)}_setEndLocation(t,n){if(this.treeAdapter.getNodeSourceCodeLocation(t)&&n.location){const r=n.location,i=this.treeAdapter.getTagName(t),s=n.type===ot.END_TAG&&i===n.tagName?{endTag:{...r},endLine:r.endLine,endCol:r.endCol,endOffset:r.endOffset}:{endLine:r.startLine,endCol:r.startCol,endOffset:r.startOffset};this.treeAdapter.updateNodeSourceCodeLocation(t,s)}}shouldProcessStartTagTokenInForeignContent(t){if(!this.currentNotInHTML)return!1;let n,r;return this.openElements.stackTop===0&&this.fragmentContext?(n=this.fragmentContext,r=this.fragmentContextID):{current:n,currentTagId:r}=this.openElements,t.tagID===h.SVG&&this.treeAdapter.getTagName(n)===$.ANNOTATION_XML&&this.treeAdapter.getNamespaceURI(n)===re.MATHML?!1:this.tokenizer.inForeignNode||(t.tagID===h.MGLYPH||t.tagID===h.MALIGNMARK)&&!this._isIntegrationPoint(r,n,re.HTML)}_processToken(t){switch(t.type){case ot.CHARACTER:{this.onCharacter(t);break}case ot.NULL_CHARACTER:{this.onNullCharacter(t);break}case ot.COMMENT:{this.onComment(t);break}case ot.DOCTYPE:{this.onDoctype(t);break}case ot.START_TAG:{this._processStartTag(t);break}case ot.END_TAG:{this.onEndTag(t);break}case ot.EOF:{this.onEof(t);break}case ot.WHITESPACE_CHARACTER:{this.onWhitespaceCharacter(t);break}}}_isIntegrationPoint(t,n,r){const i=this.treeAdapter.getNamespaceURI(n),s=this.treeAdapter.getAttrList(n);return I9(t,i,s,r)}_reconstructActiveFormattingElements(){const t=this.activeFormattingElements.entries.length;if(t){const n=this.activeFormattingElements.entries.findIndex(i=>i.type===Ai.Marker||this.openElements.contains(i.element)),r=n<0?t-1:n-1;for(let i=r;i>=0;i--){const s=this.activeFormattingElements.entries[i];this._insertElement(s.token,this.treeAdapter.getNamespaceURI(s.element)),s.element=this.openElements.current}}}_closeTableCell(){this.openElements.generateImpliedEndTags(),this.openElements.popUntilTableCellPopped(),this.activeFormattingElements.clearToLastMarker(),this.insertionMode=O.IN_ROW}_closePElement(){this.openElements.generateImpliedEndTagsWithExclusion(h.P),this.openElements.popUntilTagNamePopped(h.P)}_resetInsertionMode(){for(let t=this.openElements.stackTop;t>=0;t--)switch(t===0&&this.fragmentContext?this.fragmentContextID:this.openElements.tagIDs[t]){case h.TR:{this.insertionMode=O.IN_ROW;return}case h.TBODY:case h.THEAD:case h.TFOOT:{this.insertionMode=O.IN_TABLE_BODY;return}case h.CAPTION:{this.insertionMode=O.IN_CAPTION;return}case h.COLGROUP:{this.insertionMode=O.IN_COLUMN_GROUP;return}case h.TABLE:{this.insertionMode=O.IN_TABLE;return}case h.BODY:{this.insertionMode=O.IN_BODY;return}case h.FRAMESET:{this.insertionMode=O.IN_FRAMESET;return}case h.SELECT:{this._resetInsertionModeForSelect(t);return}case h.TEMPLATE:{this.insertionMode=this.tmplInsertionModeStack[0];return}case h.HTML:{this.insertionMode=this.headElement?O.AFTER_HEAD:O.BEFORE_HEAD;return}case h.TD:case h.TH:{if(t>0){this.insertionMode=O.IN_CELL;return}break}case h.HEAD:{if(t>0){this.insertionMode=O.IN_HEAD;return}break}}this.insertionMode=O.IN_BODY}_resetInsertionModeForSelect(t){if(t>0)for(let n=t-1;n>0;n--){const r=this.openElements.tagIDs[n];if(r===h.TEMPLATE)break;if(r===h.TABLE){this.insertionMode=O.IN_SELECT_IN_TABLE;return}}this.insertionMode=O.IN_SELECT}_isElementCausesFosterParenting(t){return uk.has(t)}_shouldFosterParentOnInsertion(){return this.fosterParentingEnabled&&this._isElementCausesFosterParenting(this.openElements.currentTagId)}_findFosterParentingLocation(){for(let t=this.openElements.stackTop;t>=0;t--){const n=this.openElements.items[t];switch(this.openElements.tagIDs[t]){case h.TEMPLATE:{if(this.treeAdapter.getNamespaceURI(n)===re.HTML)return{parent:this.treeAdapter.getTemplateContent(n),beforeElement:null};break}case h.TABLE:{const r=this.treeAdapter.getParentNode(n);return r?{parent:r,beforeElement:n}:{parent:this.openElements.items[t-1],beforeElement:null}}}}return{parent:this.openElements.items[0],beforeElement:null}}_fosterParentElement(t){const n=this._findFosterParentingLocation();n.beforeElement?this.treeAdapter.insertBefore(n.parent,t,n.beforeElement):this.treeAdapter.appendChild(n.parent,t)}_isSpecialElement(t,n){const r=this.treeAdapter.getNamespaceURI(t);return e9[r].has(n)}onCharacter(t){if(this.skipNextNewLine=!1,this.tokenizer.inForeignNode){c7(this,t);return}switch(this.insertionMode){case O.INITIAL:{Yl(this,t);break}case O.BEFORE_HTML:{Cu(this,t);break}case O.BEFORE_HEAD:{Su(this,t);break}case O.IN_HEAD:{Au(this,t);break}case O.IN_HEAD_NO_SCRIPT:{ku(this,t);break}case O.AFTER_HEAD:{Ou(this,t);break}case O.IN_BODY:case O.IN_CAPTION:case O.IN_CELL:case O.IN_TEMPLATE:{fk(this,t);break}case O.TEXT:case O.IN_SELECT:case O.IN_SELECT_IN_TABLE:{this._insertCharacters(t);break}case O.IN_TABLE:case O.IN_TABLE_BODY:case O.IN_ROW:{Yh(this,t);break}case O.IN_TABLE_TEXT:{yk(this,t);break}case O.IN_COLUMN_GROUP:{If(this,t);break}case O.AFTER_BODY:{Nf(this,t);break}case O.AFTER_AFTER_BODY:{jd(this,t);break}}}onNullCharacter(t){if(this.skipNextNewLine=!1,this.tokenizer.inForeignNode){u7(this,t);return}switch(this.insertionMode){case O.INITIAL:{Yl(this,t);break}case O.BEFORE_HTML:{Cu(this,t);break}case O.BEFORE_HEAD:{Su(this,t);break}case O.IN_HEAD:{Au(this,t);break}case O.IN_HEAD_NO_SCRIPT:{ku(this,t);break}case O.AFTER_HEAD:{Ou(this,t);break}case O.TEXT:{this._insertCharacters(t);break}case O.IN_TABLE:case O.IN_TABLE_BODY:case O.IN_ROW:{Yh(this,t);break}case O.IN_COLUMN_GROUP:{If(this,t);break}case O.AFTER_BODY:{Nf(this,t);break}case O.AFTER_AFTER_BODY:{jd(this,t);break}}}onComment(t){if(this.skipNextNewLine=!1,this.currentNotInHTML){Hg(this,t);return}switch(this.insertionMode){case O.INITIAL:case O.BEFORE_HTML:case O.BEFORE_HEAD:case O.IN_HEAD:case O.IN_HEAD_NO_SCRIPT:case O.AFTER_HEAD:case O.IN_BODY:case O.IN_TABLE:case O.IN_CAPTION:case O.IN_COLUMN_GROUP:case O.IN_TABLE_BODY:case O.IN_ROW:case O.IN_CELL:case O.IN_SELECT:case O.IN_SELECT_IN_TABLE:case O.IN_TEMPLATE:case O.IN_FRAMESET:case O.AFTER_FRAMESET:{Hg(this,t);break}case O.IN_TABLE_TEXT:{Gl(this,t);break}case O.AFTER_BODY:{H9(this,t);break}case O.AFTER_AFTER_BODY:case O.AFTER_AFTER_FRAMESET:{z9(this,t);break}}}onDoctype(t){switch(this.skipNextNewLine=!1,this.insertionMode){case O.INITIAL:{V9(this,t);break}case O.BEFORE_HEAD:case O.IN_HEAD:case O.IN_HEAD_NO_SCRIPT:case O.AFTER_HEAD:{this._err(t,j.misplacedDoctype);break}case O.IN_TABLE_TEXT:{Gl(this,t);break}}}onStartTag(t){this.skipNextNewLine=!1,this.currentToken=t,this._processStartTag(t),t.selfClosing&&!t.ackSelfClosing&&this._err(t,j.nonVoidHtmlElementStartTagWithTrailingSolidus)}_processStartTag(t){this.shouldProcessStartTagTokenInForeignContent(t)?d7(this,t):this._startTagOutsideForeignContent(t)}_startTagOutsideForeignContent(t){switch(this.insertionMode){case O.INITIAL:{Yl(this,t);break}case O.BEFORE_HTML:{j9(this,t);break}case O.BEFORE_HEAD:{W9(this,t);break}case O.IN_HEAD:{mi(this,t);break}case O.IN_HEAD_NO_SCRIPT:{K9(this,t);break}case O.AFTER_HEAD:{Q9(this,t);break}case O.IN_BODY:{Pn(this,t);break}case O.IN_TABLE:{nl(this,t);break}case O.IN_TABLE_TEXT:{Gl(this,t);break}case O.IN_CAPTION:{YH(this,t);break}case O.IN_COLUMN_GROUP:{jb(this,t);break}case O.IN_TABLE_BODY:{Dp(this,t);break}case O.IN_ROW:{Mp(this,t);break}case O.IN_CELL:{XH(this,t);break}case O.IN_SELECT:{vk(this,t);break}case O.IN_SELECT_IN_TABLE:{JH(this,t);break}case O.IN_TEMPLATE:{e7(this,t);break}case O.AFTER_BODY:{n7(this,t);break}case O.IN_FRAMESET:{r7(this,t);break}case O.AFTER_FRAMESET:{s7(this,t);break}case O.AFTER_AFTER_BODY:{a7(this,t);break}case O.AFTER_AFTER_FRAMESET:{l7(this,t);break}}}onEndTag(t){this.skipNextNewLine=!1,this.currentToken=t,this.currentNotInHTML?f7(this,t):this._endTagOutsideForeignContent(t)}_endTagOutsideForeignContent(t){switch(this.insertionMode){case O.INITIAL:{Yl(this,t);break}case O.BEFORE_HTML:{q9(this,t);break}case O.BEFORE_HEAD:{Y9(this,t);break}case O.IN_HEAD:{G9(this,t);break}case O.IN_HEAD_NO_SCRIPT:{X9(this,t);break}case O.AFTER_HEAD:{J9(this,t);break}case O.IN_BODY:{Rp(this,t);break}case O.TEXT:{BH(this,t);break}case O.IN_TABLE:{ic(this,t);break}case O.IN_TABLE_TEXT:{Gl(this,t);break}case O.IN_CAPTION:{GH(this,t);break}case O.IN_COLUMN_GROUP:{KH(this,t);break}case O.IN_TABLE_BODY:{zg(this,t);break}case O.IN_ROW:{Ek(this,t);break}case O.IN_CELL:{QH(this,t);break}case O.IN_SELECT:{Tk(this,t);break}case O.IN_SELECT_IN_TABLE:{ZH(this,t);break}case O.IN_TEMPLATE:{t7(this,t);break}case O.AFTER_BODY:{xk(this,t);break}case O.IN_FRAMESET:{i7(this,t);break}case O.AFTER_FRAMESET:{o7(this,t);break}case O.AFTER_AFTER_BODY:{jd(this,t);break}}}onEof(t){switch(this.insertionMode){case O.INITIAL:{Yl(this,t);break}case O.BEFORE_HTML:{Cu(this,t);break}case O.BEFORE_HEAD:{Su(this,t);break}case O.IN_HEAD:{Au(this,t);break}case O.IN_HEAD_NO_SCRIPT:{ku(this,t);break}case O.AFTER_HEAD:{Ou(this,t);break}case O.IN_BODY:case O.IN_TABLE:case O.IN_CAPTION:case O.IN_COLUMN_GROUP:case O.IN_TABLE_BODY:case O.IN_ROW:case O.IN_CELL:case O.IN_SELECT:case O.IN_SELECT_IN_TABLE:{gk(this,t);break}case O.TEXT:{$H(this,t);break}case O.IN_TABLE_TEXT:{Gl(this,t);break}case O.IN_TEMPLATE:{wk(this,t);break}case O.AFTER_BODY:case O.IN_FRAMESET:case O.AFTER_FRAMESET:case O.AFTER_AFTER_BODY:case O.AFTER_AFTER_FRAMESET:{Vb(this,t);break}}}onWhitespaceCharacter(t){if(this.skipNextNewLine&&(this.skipNextNewLine=!1,t.chars.charCodeAt(0)===v.LINE_FEED)){if(t.chars.length===1)return;t.chars=t.chars.substr(1)}if(this.tokenizer.inForeignNode){this._insertCharacters(t);return}switch(this.insertionMode){case O.IN_HEAD:case O.IN_HEAD_NO_SCRIPT:case O.AFTER_HEAD:case O.TEXT:case O.IN_COLUMN_GROUP:case O.IN_SELECT:case O.IN_SELECT_IN_TABLE:case O.IN_FRAMESET:case O.AFTER_FRAMESET:{this._insertCharacters(t);break}case O.IN_BODY:case O.IN_CAPTION:case O.IN_CELL:case O.IN_TEMPLATE:case O.AFTER_BODY:case O.AFTER_AFTER_BODY:case O.AFTER_AFTER_FRAMESET:{dk(this,t);break}case O.IN_TABLE:case O.IN_TABLE_BODY:case O.IN_ROW:{Yh(this,t);break}case O.IN_TABLE_TEXT:{bk(this,t);break}}}}function P9(e,t){let n=e.activeFormattingElements.getElementEntryInScopeWithTagName(t.tagName);return n?e.openElements.contains(n.element)?e.openElements.hasInScope(t.tagID)||(n=null):(e.activeFormattingElements.removeEntry(n),n=null):mk(e,t),n}function L9(e,t){let n=null,r=e.openElements.stackTop;for(;r>=0;r--){const i=e.openElements.items[r];if(i===t.element)break;e._isSpecialElement(i,e.openElements.tagIDs[r])&&(n=i)}return n||(e.openElements.shortenToLength(r<0?0:r),e.activeFormattingElements.removeEntry(t)),n}function B9(e,t,n){let r=t,i=e.openElements.getCommonAncestor(t);for(let s=0,o=i;o!==n;s++,o=i){i=e.openElements.getCommonAncestor(o);const a=e.activeFormattingElements.getElementEntry(o),l=a&&s>=D9;!a||l?(l&&e.activeFormattingElements.removeEntry(a),e.openElements.remove(o)):(o=$9(e,a),r===t&&(e.activeFormattingElements.bookmark=a),e.treeAdapter.detachNode(r),e.treeAdapter.appendChild(o,r),r=o)}return r}function $9(e,t){const n=e.treeAdapter.getNamespaceURI(t.element),r=e.treeAdapter.createElement(t.token.tagName,n,t.token.attrs);return e.openElements.replace(t.element,r),t.element=r,r}function F9(e,t,n){const r=e.treeAdapter.getTagName(t),i=Ip(r);if(e._isElementCausesFosterParenting(i))e._fosterParentElement(n);else{const s=e.treeAdapter.getNamespaceURI(t);i===h.TEMPLATE&&s===re.HTML&&(t=e.treeAdapter.getTemplateContent(t)),e.treeAdapter.appendChild(t,n)}}function U9(e,t,n){const r=e.treeAdapter.getNamespaceURI(n.element),{token:i}=n,s=e.treeAdapter.createElement(i.tagName,r,i.attrs);e._adoptNodes(t,s),e.treeAdapter.appendChild(t,s),e.activeFormattingElements.insertElementAfterBookmark(s,i),e.activeFormattingElements.removeEntry(n),e.openElements.remove(n.element),e.openElements.insertAfter(t,s,i.tagID)}function zb(e,t){for(let n=0;n<R9;n++){const r=P9(e,t);if(!r)break;const i=L9(e,r);if(!i)break;e.activeFormattingElements.bookmark=r;const s=B9(e,i,r.element),o=e.openElements.getCommonAncestor(r.element);e.treeAdapter.detachNode(s),o&&F9(e,o,s),U9(e,i,r)}}function Hg(e,t){e._appendCommentNode(t,e.openElements.currentTmplContentOrNode)}function H9(e,t){e._appendCommentNode(t,e.openElements.items[0])}function z9(e,t){e._appendCommentNode(t,e.document)}function Vb(e,t){if(e.stopped=!0,t.location){const n=e.fragmentContext?0:2;for(let r=e.openElements.stackTop;r>=n;r--)e._setEndLocation(e.openElements.items[r],t);if(!e.fragmentContext&&e.openElements.stackTop>=0){const r=e.openElements.items[0],i=e.treeAdapter.getNodeSourceCodeLocation(r);if(i&&!i.endTag&&(e._setEndLocation(r,t),e.openElements.stackTop>=1)){const s=e.openElements.items[1],o=e.treeAdapter.getNodeSourceCodeLocation(s);o&&!o.endTag&&e._setEndLocation(s,t)}}}}function V9(e,t){e._setDocumentType(t);const n=t.forceQuirks?Or.QUIRKS:_9(t);y9(t)||e._err(t,j.nonConformingDoctype),e.treeAdapter.setDocumentMode(e.document,n),e.insertionMode=O.BEFORE_HTML}function Yl(e,t){e._err(t,j.missingDoctype,!0),e.treeAdapter.setDocumentMode(e.document,Or.QUIRKS),e.insertionMode=O.BEFORE_HTML,e._processToken(t)}function j9(e,t){t.tagID===h.HTML?(e._insertElement(t,re.HTML),e.insertionMode=O.BEFORE_HEAD):Cu(e,t)}function q9(e,t){const n=t.tagID;(n===h.HTML||n===h.HEAD||n===h.BODY||n===h.BR)&&Cu(e,t)}function Cu(e,t){e._insertFakeRootElement(),e.insertionMode=O.BEFORE_HEAD,e._processToken(t)}function W9(e,t){switch(t.tagID){case h.HTML:{Pn(e,t);break}case h.HEAD:{e._insertElement(t,re.HTML),e.headElement=e.openElements.current,e.insertionMode=O.IN_HEAD;break}default:Su(e,t)}}function Y9(e,t){const n=t.tagID;n===h.HEAD||n===h.BODY||n===h.HTML||n===h.BR?Su(e,t):e._err(t,j.endTagWithoutMatchingOpenElement)}function Su(e,t){e._insertFakeElement($.HEAD,h.HEAD),e.headElement=e.openElements.current,e.insertionMode=O.IN_HEAD,e._processToken(t)}function mi(e,t){switch(t.tagID){case h.HTML:{Pn(e,t);break}case h.BASE:case h.BASEFONT:case h.BGSOUND:case h.LINK:case h.META:{e._appendElement(t,re.HTML),t.ackSelfClosing=!0;break}case h.TITLE:{e._switchToTextParsing(t,Zn.RCDATA);break}case h.NOSCRIPT:{e.options.scriptingEnabled?e._switchToTextParsing(t,Zn.RAWTEXT):(e._insertElement(t,re.HTML),e.insertionMode=O.IN_HEAD_NO_SCRIPT);break}case h.NOFRAMES:case h.STYLE:{e._switchToTextParsing(t,Zn.RAWTEXT);break}case h.SCRIPT:{e._switchToTextParsing(t,Zn.SCRIPT_DATA);break}case h.TEMPLATE:{e._insertTemplate(t),e.activeFormattingElements.insertMarker(),e.framesetOk=!1,e.insertionMode=O.IN_TEMPLATE,e.tmplInsertionModeStack.unshift(O.IN_TEMPLATE);break}case h.HEAD:{e._err(t,j.misplacedStartTagForHeadElement);break}default:Au(e,t)}}function G9(e,t){switch(t.tagID){case h.HEAD:{e.openElements.pop(),e.insertionMode=O.AFTER_HEAD;break}case h.BODY:case h.BR:case h.HTML:{Au(e,t);break}case h.TEMPLATE:{da(e,t);break}default:e._err(t,j.endTagWithoutMatchingOpenElement)}}function da(e,t){e.openElements.tmplCount>0?(e.openElements.generateImpliedEndTagsThoroughly(),e.openElements.currentTagId!==h.TEMPLATE&&e._err(t,j.closingOfElementWithOpenChildElements),e.openElements.popUntilTagNamePopped(h.TEMPLATE),e.activeFormattingElements.clearToLastMarker(),e.tmplInsertionModeStack.shift(),e._resetInsertionMode()):e._err(t,j.endTagWithoutMatchingOpenElement)}function Au(e,t){e.openElements.pop(),e.insertionMode=O.AFTER_HEAD,e._processToken(t)}function K9(e,t){switch(t.tagID){case h.HTML:{Pn(e,t);break}case h.BASEFONT:case h.BGSOUND:case h.HEAD:case h.LINK:case h.META:case h.NOFRAMES:case h.STYLE:{mi(e,t);break}case h.NOSCRIPT:{e._err(t,j.nestedNoscriptInHead);break}default:ku(e,t)}}function X9(e,t){switch(t.tagID){case h.NOSCRIPT:{e.openElements.pop(),e.insertionMode=O.IN_HEAD;break}case h.BR:{ku(e,t);break}default:e._err(t,j.endTagWithoutMatchingOpenElement)}}function ku(e,t){const n=t.type===ot.EOF?j.openElementsLeftAfterEof:j.disallowedContentInNoscriptInHead;e._err(t,n),e.openElements.pop(),e.insertionMode=O.IN_HEAD,e._processToken(t)}function Q9(e,t){switch(t.tagID){case h.HTML:{Pn(e,t);break}case h.BODY:{e._insertElement(t,re.HTML),e.framesetOk=!1,e.insertionMode=O.IN_BODY;break}case h.FRAMESET:{e._insertElement(t,re.HTML),e.insertionMode=O.IN_FRAMESET;break}case h.BASE:case h.BASEFONT:case h.BGSOUND:case h.LINK:case h.META:case h.NOFRAMES:case h.SCRIPT:case h.STYLE:case h.TEMPLATE:case h.TITLE:{e._err(t,j.abandonedHeadElementChild),e.openElements.push(e.headElement,h.HEAD),mi(e,t),e.openElements.remove(e.headElement);break}case h.HEAD:{e._err(t,j.misplacedStartTagForHeadElement);break}default:Ou(e,t)}}function J9(e,t){switch(t.tagID){case h.BODY:case h.HTML:case h.BR:{Ou(e,t);break}case h.TEMPLATE:{da(e,t);break}default:e._err(t,j.endTagWithoutMatchingOpenElement)}}function Ou(e,t){e._insertFakeElement($.BODY,h.BODY),e.insertionMode=O.IN_BODY,Np(e,t)}function Np(e,t){switch(t.type){case ot.CHARACTER:{fk(e,t);break}case ot.WHITESPACE_CHARACTER:{dk(e,t);break}case ot.COMMENT:{Hg(e,t);break}case ot.START_TAG:{Pn(e,t);break}case ot.END_TAG:{Rp(e,t);break}case ot.EOF:{gk(e,t);break}}}function dk(e,t){e._reconstructActiveFormattingElements(),e._insertCharacters(t)}function fk(e,t){e._reconstructActiveFormattingElements(),e._insertCharacters(t),e.framesetOk=!1}function Z9(e,t){e.openElements.tmplCount===0&&e.treeAdapter.adoptAttributes(e.openElements.items[0],t.attrs)}function eH(e,t){const n=e.openElements.tryPeekProperlyNestedBodyElement();n&&e.openElements.tmplCount===0&&(e.framesetOk=!1,e.treeAdapter.adoptAttributes(n,t.attrs))}function tH(e,t){const n=e.openElements.tryPeekProperlyNestedBodyElement();e.framesetOk&&n&&(e.treeAdapter.detachNode(n),e.openElements.popAllUpToHtmlElement(),e._insertElement(t,re.HTML),e.insertionMode=O.IN_FRAMESET)}function nH(e,t){e.openElements.hasInButtonScope(h.P)&&e._closePElement(),e._insertElement(t,re.HTML)}function rH(e,t){e.openElements.hasInButtonScope(h.P)&&e._closePElement(),Ug.has(e.openElements.currentTagId)&&e.openElements.pop(),e._insertElement(t,re.HTML)}function iH(e,t){e.openElements.hasInButtonScope(h.P)&&e._closePElement(),e._insertElement(t,re.HTML),e.skipNextNewLine=!0,e.framesetOk=!1}function sH(e,t){const n=e.openElements.tmplCount>0;(!e.formElement||n)&&(e.openElements.hasInButtonScope(h.P)&&e._closePElement(),e._insertElement(t,re.HTML),n||(e.formElement=e.openElements.current))}function oH(e,t){e.framesetOk=!1;const n=t.tagID;for(let r=e.openElements.stackTop;r>=0;r--){const i=e.openElements.tagIDs[r];if(n===h.LI&&i===h.LI||(n===h.DD||n===h.DT)&&(i===h.DD||i===h.DT)){e.openElements.generateImpliedEndTagsWithExclusion(i),e.openElements.popUntilTagNamePopped(i);break}if(i!==h.ADDRESS&&i!==h.DIV&&i!==h.P&&e._isSpecialElement(e.openElements.items[r],i))break}e.openElements.hasInButtonScope(h.P)&&e._closePElement(),e._insertElement(t,re.HTML)}function aH(e,t){e.openElements.hasInButtonScope(h.P)&&e._closePElement(),e._insertElement(t,re.HTML),e.tokenizer.state=Zn.PLAINTEXT}function lH(e,t){e.openElements.hasInScope(h.BUTTON)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(h.BUTTON)),e._reconstructActiveFormattingElements(),e._insertElement(t,re.HTML),e.framesetOk=!1}function uH(e,t){const n=e.activeFormattingElements.getElementEntryInScopeWithTagName($.A);n&&(zb(e,t),e.openElements.remove(n.element),e.activeFormattingElements.removeEntry(n)),e._reconstructActiveFormattingElements(),e._insertElement(t,re.HTML),e.activeFormattingElements.pushElement(e.openElements.current,t)}function cH(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,re.HTML),e.activeFormattingElements.pushElement(e.openElements.current,t)}function dH(e,t){e._reconstructActiveFormattingElements(),e.openElements.hasInScope(h.NOBR)&&(zb(e,t),e._reconstructActiveFormattingElements()),e._insertElement(t,re.HTML),e.activeFormattingElements.pushElement(e.openElements.current,t)}function fH(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,re.HTML),e.activeFormattingElements.insertMarker(),e.framesetOk=!1}function pH(e,t){e.treeAdapter.getDocumentMode(e.document)!==Or.QUIRKS&&e.openElements.hasInButtonScope(h.P)&&e._closePElement(),e._insertElement(t,re.HTML),e.framesetOk=!1,e.insertionMode=O.IN_TABLE}function pk(e,t){e._reconstructActiveFormattingElements(),e._appendElement(t,re.HTML),e.framesetOk=!1,t.ackSelfClosing=!0}function hk(e){const t=JA(e,zo.TYPE);return t!=null&&t.toLowerCase()===N9}function hH(e,t){e._reconstructActiveFormattingElements(),e._appendElement(t,re.HTML),hk(t)||(e.framesetOk=!1),t.ackSelfClosing=!0}function mH(e,t){e._appendElement(t,re.HTML),t.ackSelfClosing=!0}function gH(e,t){e.openElements.hasInButtonScope(h.P)&&e._closePElement(),e._appendElement(t,re.HTML),e.framesetOk=!1,t.ackSelfClosing=!0}function bH(e,t){t.tagName=$.IMG,t.tagID=h.IMG,pk(e,t)}function yH(e,t){e._insertElement(t,re.HTML),e.skipNextNewLine=!0,e.tokenizer.state=Zn.RCDATA,e.originalInsertionMode=e.insertionMode,e.framesetOk=!1,e.insertionMode=O.TEXT}function _H(e,t){e.openElements.hasInButtonScope(h.P)&&e._closePElement(),e._reconstructActiveFormattingElements(),e.framesetOk=!1,e._switchToTextParsing(t,Zn.RAWTEXT)}function EH(e,t){e.framesetOk=!1,e._switchToTextParsing(t,Zn.RAWTEXT)}function GE(e,t){e._switchToTextParsing(t,Zn.RAWTEXT)}function vH(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,re.HTML),e.framesetOk=!1,e.insertionMode=e.insertionMode===O.IN_TABLE||e.insertionMode===O.IN_CAPTION||e.insertionMode===O.IN_TABLE_BODY||e.insertionMode===O.IN_ROW||e.insertionMode===O.IN_CELL?O.IN_SELECT_IN_TABLE:O.IN_SELECT}function TH(e,t){e.openElements.currentTagId===h.OPTION&&e.openElements.pop(),e._reconstructActiveFormattingElements(),e._insertElement(t,re.HTML)}function wH(e,t){e.openElements.hasInScope(h.RUBY)&&e.openElements.generateImpliedEndTags(),e._insertElement(t,re.HTML)}function xH(e,t){e.openElements.hasInScope(h.RUBY)&&e.openElements.generateImpliedEndTagsWithExclusion(h.RTC),e._insertElement(t,re.HTML)}function CH(e,t){e._reconstructActiveFormattingElements(),ak(t),Hb(t),t.selfClosing?e._appendElement(t,re.MATHML):e._insertElement(t,re.MATHML),t.ackSelfClosing=!0}function SH(e,t){e._reconstructActiveFormattingElements(),lk(t),Hb(t),t.selfClosing?e._appendElement(t,re.SVG):e._insertElement(t,re.SVG),t.ackSelfClosing=!0}function KE(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,re.HTML)}function Pn(e,t){switch(t.tagID){case h.I:case h.S:case h.B:case h.U:case h.EM:case h.TT:case h.BIG:case h.CODE:case h.FONT:case h.SMALL:case h.STRIKE:case h.STRONG:{cH(e,t);break}case h.A:{uH(e,t);break}case h.H1:case h.H2:case h.H3:case h.H4:case h.H5:case h.H6:{rH(e,t);break}case h.P:case h.DL:case h.OL:case h.UL:case h.DIV:case h.DIR:case h.NAV:case h.MAIN:case h.MENU:case h.ASIDE:case h.CENTER:case h.FIGURE:case h.FOOTER:case h.HEADER:case h.HGROUP:case h.DIALOG:case h.DETAILS:case h.ADDRESS:case h.ARTICLE:case h.SEARCH:case h.SECTION:case h.SUMMARY:case h.FIELDSET:case h.BLOCKQUOTE:case h.FIGCAPTION:{nH(e,t);break}case h.LI:case h.DD:case h.DT:{oH(e,t);break}case h.BR:case h.IMG:case h.WBR:case h.AREA:case h.EMBED:case h.KEYGEN:{pk(e,t);break}case h.HR:{gH(e,t);break}case h.RB:case h.RTC:{wH(e,t);break}case h.RT:case h.RP:{xH(e,t);break}case h.PRE:case h.LISTING:{iH(e,t);break}case h.XMP:{_H(e,t);break}case h.SVG:{SH(e,t);break}case h.HTML:{Z9(e,t);break}case h.BASE:case h.LINK:case h.META:case h.STYLE:case h.TITLE:case h.SCRIPT:case h.BGSOUND:case h.BASEFONT:case h.TEMPLATE:{mi(e,t);break}case h.BODY:{eH(e,t);break}case h.FORM:{sH(e,t);break}case h.NOBR:{dH(e,t);break}case h.MATH:{CH(e,t);break}case h.TABLE:{pH(e,t);break}case h.INPUT:{hH(e,t);break}case h.PARAM:case h.TRACK:case h.SOURCE:{mH(e,t);break}case h.IMAGE:{bH(e,t);break}case h.BUTTON:{lH(e,t);break}case h.APPLET:case h.OBJECT:case h.MARQUEE:{fH(e,t);break}case h.IFRAME:{EH(e,t);break}case h.SELECT:{vH(e,t);break}case h.OPTION:case h.OPTGROUP:{TH(e,t);break}case h.NOEMBED:case h.NOFRAMES:{GE(e,t);break}case h.FRAMESET:{tH(e,t);break}case h.TEXTAREA:{yH(e,t);break}case h.NOSCRIPT:{e.options.scriptingEnabled?GE(e,t):KE(e,t);break}case h.PLAINTEXT:{aH(e,t);break}case h.COL:case h.TH:case h.TD:case h.TR:case h.HEAD:case h.FRAME:case h.TBODY:case h.TFOOT:case h.THEAD:case h.CAPTION:case h.COLGROUP:break;default:KE(e,t)}}function AH(e,t){if(e.openElements.hasInScope(h.BODY)&&(e.insertionMode=O.AFTER_BODY,e.options.sourceCodeLocationInfo)){const n=e.openElements.tryPeekProperlyNestedBodyElement();n&&e._setEndLocation(n,t)}}function kH(e,t){e.openElements.hasInScope(h.BODY)&&(e.insertionMode=O.AFTER_BODY,xk(e,t))}function OH(e,t){const n=t.tagID;e.openElements.hasInScope(n)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(n))}function IH(e){const t=e.openElements.tmplCount>0,{formElement:n}=e;t||(e.formElement=null),(n||t)&&e.openElements.hasInScope(h.FORM)&&(e.openElements.generateImpliedEndTags(),t?e.openElements.popUntilTagNamePopped(h.FORM):n&&e.openElements.remove(n))}function NH(e){e.openElements.hasInButtonScope(h.P)||e._insertFakeElement($.P,h.P),e._closePElement()}function RH(e){e.openElements.hasInListItemScope(h.LI)&&(e.openElements.generateImpliedEndTagsWithExclusion(h.LI),e.openElements.popUntilTagNamePopped(h.LI))}function DH(e,t){const n=t.tagID;e.openElements.hasInScope(n)&&(e.openElements.generateImpliedEndTagsWithExclusion(n),e.openElements.popUntilTagNamePopped(n))}function MH(e){e.openElements.hasNumberedHeaderInScope()&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilNumberedHeaderPopped())}function PH(e,t){const n=t.tagID;e.openElements.hasInScope(n)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(n),e.activeFormattingElements.clearToLastMarker())}function LH(e){e._reconstructActiveFormattingElements(),e._insertFakeElement($.BR,h.BR),e.openElements.pop(),e.framesetOk=!1}function mk(e,t){const n=t.tagName,r=t.tagID;for(let i=e.openElements.stackTop;i>0;i--){const s=e.openElements.items[i],o=e.openElements.tagIDs[i];if(r===o&&(r!==h.UNKNOWN||e.treeAdapter.getTagName(s)===n)){e.openElements.generateImpliedEndTagsWithExclusion(r),e.openElements.stackTop>=i&&e.openElements.shortenToLength(i);break}if(e._isSpecialElement(s,o))break}}function Rp(e,t){switch(t.tagID){case h.A:case h.B:case h.I:case h.S:case h.U:case h.EM:case h.TT:case h.BIG:case h.CODE:case h.FONT:case h.NOBR:case h.SMALL:case h.STRIKE:case h.STRONG:{zb(e,t);break}case h.P:{NH(e);break}case h.DL:case h.UL:case h.OL:case h.DIR:case h.DIV:case h.NAV:case h.PRE:case h.MAIN:case h.MENU:case h.ASIDE:case h.BUTTON:case h.CENTER:case h.FIGURE:case h.FOOTER:case h.HEADER:case h.HGROUP:case h.DIALOG:case h.ADDRESS:case h.ARTICLE:case h.DETAILS:case h.SEARCH:case h.SECTION:case h.SUMMARY:case h.LISTING:case h.FIELDSET:case h.BLOCKQUOTE:case h.FIGCAPTION:{OH(e,t);break}case h.LI:{RH(e);break}case h.DD:case h.DT:{DH(e,t);break}case h.H1:case h.H2:case h.H3:case h.H4:case h.H5:case h.H6:{MH(e);break}case h.BR:{LH(e);break}case h.BODY:{AH(e,t);break}case h.HTML:{kH(e,t);break}case h.FORM:{IH(e);break}case h.APPLET:case h.OBJECT:case h.MARQUEE:{PH(e,t);break}case h.TEMPLATE:{da(e,t);break}default:mk(e,t)}}function gk(e,t){e.tmplInsertionModeStack.length>0?wk(e,t):Vb(e,t)}function BH(e,t){var n;t.tagID===h.SCRIPT&&((n=e.scriptHandler)===null||n===void 0||n.call(e,e.openElements.current)),e.openElements.pop(),e.insertionMode=e.originalInsertionMode}function $H(e,t){e._err(t,j.eofInElementThatCanContainOnlyText),e.openElements.pop(),e.insertionMode=e.originalInsertionMode,e.onEof(t)}function Yh(e,t){if(uk.has(e.openElements.currentTagId))switch(e.pendingCharacterTokens.length=0,e.hasNonWhitespacePendingCharacterToken=!1,e.originalInsertionMode=e.insertionMode,e.insertionMode=O.IN_TABLE_TEXT,t.type){case ot.CHARACTER:{yk(e,t);break}case ot.WHITESPACE_CHARACTER:{bk(e,t);break}}else Pc(e,t)}function FH(e,t){e.openElements.clearBackToTableContext(),e.activeFormattingElements.insertMarker(),e._insertElement(t,re.HTML),e.insertionMode=O.IN_CAPTION}function UH(e,t){e.openElements.clearBackToTableContext(),e._insertElement(t,re.HTML),e.insertionMode=O.IN_COLUMN_GROUP}function HH(e,t){e.openElements.clearBackToTableContext(),e._insertFakeElement($.COLGROUP,h.COLGROUP),e.insertionMode=O.IN_COLUMN_GROUP,jb(e,t)}function zH(e,t){e.openElements.clearBackToTableContext(),e._insertElement(t,re.HTML),e.insertionMode=O.IN_TABLE_BODY}function VH(e,t){e.openElements.clearBackToTableContext(),e._insertFakeElement($.TBODY,h.TBODY),e.insertionMode=O.IN_TABLE_BODY,Dp(e,t)}function jH(e,t){e.openElements.hasInTableScope(h.TABLE)&&(e.openElements.popUntilTagNamePopped(h.TABLE),e._resetInsertionMode(),e._processStartTag(t))}function qH(e,t){hk(t)?e._appendElement(t,re.HTML):Pc(e,t),t.ackSelfClosing=!0}function WH(e,t){!e.formElement&&e.openElements.tmplCount===0&&(e._insertElement(t,re.HTML),e.formElement=e.openElements.current,e.openElements.pop())}function nl(e,t){switch(t.tagID){case h.TD:case h.TH:case h.TR:{VH(e,t);break}case h.STYLE:case h.SCRIPT:case h.TEMPLATE:{mi(e,t);break}case h.COL:{HH(e,t);break}case h.FORM:{WH(e,t);break}case h.TABLE:{jH(e,t);break}case h.TBODY:case h.TFOOT:case h.THEAD:{zH(e,t);break}case h.INPUT:{qH(e,t);break}case h.CAPTION:{FH(e,t);break}case h.COLGROUP:{UH(e,t);break}default:Pc(e,t)}}function ic(e,t){switch(t.tagID){case h.TABLE:{e.openElements.hasInTableScope(h.TABLE)&&(e.openElements.popUntilTagNamePopped(h.TABLE),e._resetInsertionMode());break}case h.TEMPLATE:{da(e,t);break}case h.BODY:case h.CAPTION:case h.COL:case h.COLGROUP:case h.HTML:case h.TBODY:case h.TD:case h.TFOOT:case h.TH:case h.THEAD:case h.TR:break;default:Pc(e,t)}}function Pc(e,t){const n=e.fosterParentingEnabled;e.fosterParentingEnabled=!0,Np(e,t),e.fosterParentingEnabled=n}function bk(e,t){e.pendingCharacterTokens.push(t)}function yk(e,t){e.pendingCharacterTokens.push(t),e.hasNonWhitespacePendingCharacterToken=!0}function Gl(e,t){let n=0;if(e.hasNonWhitespacePendingCharacterToken)for(;n<e.pendingCharacterTokens.length;n++)Pc(e,e.pendingCharacterTokens[n]);else for(;n<e.pendingCharacterTokens.length;n++)e._insertCharacters(e.pendingCharacterTokens[n]);e.insertionMode=e.originalInsertionMode,e._processToken(t)}const _k=new Set([h.CAPTION,h.COL,h.COLGROUP,h.TBODY,h.TD,h.TFOOT,h.TH,h.THEAD,h.TR]);function YH(e,t){const n=t.tagID;_k.has(n)?e.openElements.hasInTableScope(h.CAPTION)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(h.CAPTION),e.activeFormattingElements.clearToLastMarker(),e.insertionMode=O.IN_TABLE,nl(e,t)):Pn(e,t)}function GH(e,t){const n=t.tagID;switch(n){case h.CAPTION:case h.TABLE:{e.openElements.hasInTableScope(h.CAPTION)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(h.CAPTION),e.activeFormattingElements.clearToLastMarker(),e.insertionMode=O.IN_TABLE,n===h.TABLE&&ic(e,t));break}case h.BODY:case h.COL:case h.COLGROUP:case h.HTML:case h.TBODY:case h.TD:case h.TFOOT:case h.TH:case h.THEAD:case h.TR:break;default:Rp(e,t)}}function jb(e,t){switch(t.tagID){case h.HTML:{Pn(e,t);break}case h.COL:{e._appendElement(t,re.HTML),t.ackSelfClosing=!0;break}case h.TEMPLATE:{mi(e,t);break}default:If(e,t)}}function KH(e,t){switch(t.tagID){case h.COLGROUP:{e.openElements.currentTagId===h.COLGROUP&&(e.openElements.pop(),e.insertionMode=O.IN_TABLE);break}case h.TEMPLATE:{da(e,t);break}case h.COL:break;default:If(e,t)}}function If(e,t){e.openElements.currentTagId===h.COLGROUP&&(e.openElements.pop(),e.insertionMode=O.IN_TABLE,e._processToken(t))}function Dp(e,t){switch(t.tagID){case h.TR:{e.openElements.clearBackToTableBodyContext(),e._insertElement(t,re.HTML),e.insertionMode=O.IN_ROW;break}case h.TH:case h.TD:{e.openElements.clearBackToTableBodyContext(),e._insertFakeElement($.TR,h.TR),e.insertionMode=O.IN_ROW,Mp(e,t);break}case h.CAPTION:case h.COL:case h.COLGROUP:case h.TBODY:case h.TFOOT:case h.THEAD:{e.openElements.hasTableBodyContextInTableScope()&&(e.openElements.clearBackToTableBodyContext(),e.openElements.pop(),e.insertionMode=O.IN_TABLE,nl(e,t));break}default:nl(e,t)}}function zg(e,t){const n=t.tagID;switch(t.tagID){case h.TBODY:case h.TFOOT:case h.THEAD:{e.openElements.hasInTableScope(n)&&(e.openElements.clearBackToTableBodyContext(),e.openElements.pop(),e.insertionMode=O.IN_TABLE);break}case h.TABLE:{e.openElements.hasTableBodyContextInTableScope()&&(e.openElements.clearBackToTableBodyContext(),e.openElements.pop(),e.insertionMode=O.IN_TABLE,ic(e,t));break}case h.BODY:case h.CAPTION:case h.COL:case h.COLGROUP:case h.HTML:case h.TD:case h.TH:case h.TR:break;default:ic(e,t)}}function Mp(e,t){switch(t.tagID){case h.TH:case h.TD:{e.openElements.clearBackToTableRowContext(),e._insertElement(t,re.HTML),e.insertionMode=O.IN_CELL,e.activeFormattingElements.insertMarker();break}case h.CAPTION:case h.COL:case h.COLGROUP:case h.TBODY:case h.TFOOT:case h.THEAD:case h.TR:{e.openElements.hasInTableScope(h.TR)&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=O.IN_TABLE_BODY,Dp(e,t));break}default:nl(e,t)}}function Ek(e,t){switch(t.tagID){case h.TR:{e.openElements.hasInTableScope(h.TR)&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=O.IN_TABLE_BODY);break}case h.TABLE:{e.openElements.hasInTableScope(h.TR)&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=O.IN_TABLE_BODY,zg(e,t));break}case h.TBODY:case h.TFOOT:case h.THEAD:{(e.openElements.hasInTableScope(t.tagID)||e.openElements.hasInTableScope(h.TR))&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=O.IN_TABLE_BODY,zg(e,t));break}case h.BODY:case h.CAPTION:case h.COL:case h.COLGROUP:case h.HTML:case h.TD:case h.TH:break;default:ic(e,t)}}function XH(e,t){const n=t.tagID;_k.has(n)?(e.openElements.hasInTableScope(h.TD)||e.openElements.hasInTableScope(h.TH))&&(e._closeTableCell(),Mp(e,t)):Pn(e,t)}function QH(e,t){const n=t.tagID;switch(n){case h.TD:case h.TH:{e.openElements.hasInTableScope(n)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(n),e.activeFormattingElements.clearToLastMarker(),e.insertionMode=O.IN_ROW);break}case h.TABLE:case h.TBODY:case h.TFOOT:case h.THEAD:case h.TR:{e.openElements.hasInTableScope(n)&&(e._closeTableCell(),Ek(e,t));break}case h.BODY:case h.CAPTION:case h.COL:case h.COLGROUP:case h.HTML:break;default:Rp(e,t)}}function vk(e,t){switch(t.tagID){case h.HTML:{Pn(e,t);break}case h.OPTION:{e.openElements.currentTagId===h.OPTION&&e.openElements.pop(),e._insertElement(t,re.HTML);break}case h.OPTGROUP:{e.openElements.currentTagId===h.OPTION&&e.openElements.pop(),e.openElements.currentTagId===h.OPTGROUP&&e.openElements.pop(),e._insertElement(t,re.HTML);break}case h.HR:{e.openElements.currentTagId===h.OPTION&&e.openElements.pop(),e.openElements.currentTagId===h.OPTGROUP&&e.openElements.pop(),e._appendElement(t,re.HTML),t.ackSelfClosing=!0;break}case h.INPUT:case h.KEYGEN:case h.TEXTAREA:case h.SELECT:{e.openElements.hasInSelectScope(h.SELECT)&&(e.openElements.popUntilTagNamePopped(h.SELECT),e._resetInsertionMode(),t.tagID!==h.SELECT&&e._processStartTag(t));break}case h.SCRIPT:case h.TEMPLATE:{mi(e,t);break}}}function Tk(e,t){switch(t.tagID){case h.OPTGROUP:{e.openElements.stackTop>0&&e.openElements.currentTagId===h.OPTION&&e.openElements.tagIDs[e.openElements.stackTop-1]===h.OPTGROUP&&e.openElements.pop(),e.openElements.currentTagId===h.OPTGROUP&&e.openElements.pop();break}case h.OPTION:{e.openElements.currentTagId===h.OPTION&&e.openElements.pop();break}case h.SELECT:{e.openElements.hasInSelectScope(h.SELECT)&&(e.openElements.popUntilTagNamePopped(h.SELECT),e._resetInsertionMode());break}case h.TEMPLATE:{da(e,t);break}}}function JH(e,t){const n=t.tagID;n===h.CAPTION||n===h.TABLE||n===h.TBODY||n===h.TFOOT||n===h.THEAD||n===h.TR||n===h.TD||n===h.TH?(e.openElements.popUntilTagNamePopped(h.SELECT),e._resetInsertionMode(),e._processStartTag(t)):vk(e,t)}function ZH(e,t){const n=t.tagID;n===h.CAPTION||n===h.TABLE||n===h.TBODY||n===h.TFOOT||n===h.THEAD||n===h.TR||n===h.TD||n===h.TH?e.openElements.hasInTableScope(n)&&(e.openElements.popUntilTagNamePopped(h.SELECT),e._resetInsertionMode(),e.onEndTag(t)):Tk(e,t)}function e7(e,t){switch(t.tagID){case h.BASE:case h.BASEFONT:case h.BGSOUND:case h.LINK:case h.META:case h.NOFRAMES:case h.SCRIPT:case h.STYLE:case h.TEMPLATE:case h.TITLE:{mi(e,t);break}case h.CAPTION:case h.COLGROUP:case h.TBODY:case h.TFOOT:case h.THEAD:{e.tmplInsertionModeStack[0]=O.IN_TABLE,e.insertionMode=O.IN_TABLE,nl(e,t);break}case h.COL:{e.tmplInsertionModeStack[0]=O.IN_COLUMN_GROUP,e.insertionMode=O.IN_COLUMN_GROUP,jb(e,t);break}case h.TR:{e.tmplInsertionModeStack[0]=O.IN_TABLE_BODY,e.insertionMode=O.IN_TABLE_BODY,Dp(e,t);break}case h.TD:case h.TH:{e.tmplInsertionModeStack[0]=O.IN_ROW,e.insertionMode=O.IN_ROW,Mp(e,t);break}default:e.tmplInsertionModeStack[0]=O.IN_BODY,e.insertionMode=O.IN_BODY,Pn(e,t)}}function t7(e,t){t.tagID===h.TEMPLATE&&da(e,t)}function wk(e,t){e.openElements.tmplCount>0?(e.openElements.popUntilTagNamePopped(h.TEMPLATE),e.activeFormattingElements.clearToLastMarker(),e.tmplInsertionModeStack.shift(),e._resetInsertionMode(),e.onEof(t)):Vb(e,t)}function n7(e,t){t.tagID===h.HTML?Pn(e,t):Nf(e,t)}function xk(e,t){var n;if(t.tagID===h.HTML){if(e.fragmentContext||(e.insertionMode=O.AFTER_AFTER_BODY),e.options.sourceCodeLocationInfo&&e.openElements.tagIDs[0]===h.HTML){e._setEndLocation(e.openElements.items[0],t);const r=e.openElements.items[1];r&&!(!((n=e.treeAdapter.getNodeSourceCodeLocation(r))===null||n===void 0)&&n.endTag)&&e._setEndLocation(r,t)}}else Nf(e,t)}function Nf(e,t){e.insertionMode=O.IN_BODY,Np(e,t)}function r7(e,t){switch(t.tagID){case h.HTML:{Pn(e,t);break}case h.FRAMESET:{e._insertElement(t,re.HTML);break}case h.FRAME:{e._appendElement(t,re.HTML),t.ackSelfClosing=!0;break}case h.NOFRAMES:{mi(e,t);break}}}function i7(e,t){t.tagID===h.FRAMESET&&!e.openElements.isRootHtmlElementCurrent()&&(e.openElements.pop(),!e.fragmentContext&&e.openElements.currentTagId!==h.FRAMESET&&(e.insertionMode=O.AFTER_FRAMESET))}function s7(e,t){switch(t.tagID){case h.HTML:{Pn(e,t);break}case h.NOFRAMES:{mi(e,t);break}}}function o7(e,t){t.tagID===h.HTML&&(e.insertionMode=O.AFTER_AFTER_FRAMESET)}function a7(e,t){t.tagID===h.HTML?Pn(e,t):jd(e,t)}function jd(e,t){e.insertionMode=O.IN_BODY,Np(e,t)}function l7(e,t){switch(t.tagID){case h.HTML:{Pn(e,t);break}case h.NOFRAMES:{mi(e,t);break}}}function u7(e,t){t.chars=Rt,e._insertCharacters(t)}function c7(e,t){e._insertCharacters(t),e.framesetOk=!1}function Ck(e){for(;e.treeAdapter.getNamespaceURI(e.openElements.current)!==re.HTML&&!e._isIntegrationPoint(e.openElements.currentTagId,e.openElements.current);)e.openElements.pop()}function d7(e,t){if(S9(t))Ck(e),e._startTagOutsideForeignContent(t);else{const n=e._getAdjustedCurrentElement(),r=e.treeAdapter.getNamespaceURI(n);r===re.MATHML?ak(t):r===re.SVG&&(A9(t),lk(t)),Hb(t),t.selfClosing?e._appendElement(t,r):e._insertElement(t,r),t.ackSelfClosing=!0}}function f7(e,t){if(t.tagID===h.P||t.tagID===h.BR){Ck(e),e._endTagOutsideForeignContent(t);return}for(let n=e.openElements.stackTop;n>0;n--){const r=e.openElements.items[n];if(e.treeAdapter.getNamespaceURI(r)===re.HTML){e._endTagOutsideForeignContent(t);break}const i=e.treeAdapter.getTagName(r);if(i.toLowerCase()===t.tagName){t.tagName=i,e.openElements.shortenToLength(n);break}}}$.AREA,$.BASE,$.BASEFONT,$.BGSOUND,$.BR,$.COL,$.EMBED,$.FRAME,$.HR,$.IMG,$.INPUT,$.KEYGEN,$.LINK,$.META,$.PARAM,$.SOURCE,$.TRACK,$.WBR;function p7(e,t){return ck.parse(e,t)}function h7(e,t,n){typeof e=="string"&&(n=t,t=e,e=null);const r=ck.getFragmentParser(e,n);return r.tokenizer.write(t,!0),r.getFragment()}function Iu(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?XE(e.position):"start"in e||"end"in e?XE(e):"line"in e||"column"in e?Vg(e):""}function Vg(e){return QE(e&&e.line)+":"+QE(e&&e.column)}function XE(e){return Vg(e&&e.start)+"-"+Vg(e&&e.end)}function QE(e){return e&&typeof e=="number"?e:1}class Wn extends Error{constructor(t,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let i="",s={},o=!1;if(n&&("line"in n&&"column"in n?s={place:n}:"start"in n&&"end"in n?s={place:n}:"type"in n?s={ancestors:[n],place:n.position}:s={...n}),typeof t=="string"?i=t:!s.cause&&t&&(o=!0,i=t.message,s.cause=t),!s.ruleId&&!s.source&&typeof r=="string"){const l=r.indexOf(":");l===-1?s.ruleId=r:(s.source=r.slice(0,l),s.ruleId=r.slice(l+1))}if(!s.place&&s.ancestors&&s.ancestors){const l=s.ancestors[s.ancestors.length-1];l&&(s.place=l.position)}const a=s.place&&"start"in s.place?s.place.start:s.place;this.ancestors=s.ancestors||void 0,this.cause=s.cause||void 0,this.column=a?a.column:void 0,this.fatal=void 0,this.file,this.message=i,this.line=a?a.line:void 0,this.name=Iu(s.place)||"1:1",this.place=s.place||void 0,this.reason=this.message,this.ruleId=s.ruleId||void 0,this.source=s.source||void 0,this.stack=o&&s.cause&&typeof s.cause.stack=="string"?s.cause.stack:"",this.actual,this.expected,this.note,this.url}}Wn.prototype.file="";Wn.prototype.name="";Wn.prototype.reason="";Wn.prototype.message="";Wn.prototype.stack="";Wn.prototype.column=void 0;Wn.prototype.line=void 0;Wn.prototype.ancestors=void 0;Wn.prototype.cause=void 0;Wn.prototype.fatal=void 0;Wn.prototype.place=void 0;Wn.prototype.ruleId=void 0;Wn.prototype.source=void 0;const xi={basename:m7,dirname:g7,extname:b7,join:y7,sep:"/"};function m7(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');Lc(e);let n=0,r=-1,i=e.length,s;if(t===void 0||t.length===0||t.length>e.length){for(;i--;)if(e.codePointAt(i)===47){if(s){n=i+1;break}}else r<0&&(s=!0,r=i+1);return r<0?"":e.slice(n,r)}if(t===e)return"";let o=-1,a=t.length-1;for(;i--;)if(e.codePointAt(i)===47){if(s){n=i+1;break}}else o<0&&(s=!0,o=i+1),a>-1&&(e.codePointAt(i)===t.codePointAt(a--)?a<0&&(r=i):(a=-1,r=o));return n===r?r=o:r<0&&(r=e.length),e.slice(n,r)}function g7(e){if(Lc(e),e.length===0)return".";let t=-1,n=e.length,r;for(;--n;)if(e.codePointAt(n)===47){if(r){t=n;break}}else r||(r=!0);return t<0?e.codePointAt(0)===47?"/":".":t===1&&e.codePointAt(0)===47?"//":e.slice(0,t)}function b7(e){Lc(e);let t=e.length,n=-1,r=0,i=-1,s=0,o;for(;t--;){const a=e.codePointAt(t);if(a===47){if(o){r=t+1;break}continue}n<0&&(o=!0,n=t+1),a===46?i<0?i=t:s!==1&&(s=1):i>-1&&(s=-1)}return i<0||n<0||s===0||s===1&&i===n-1&&i===r+1?"":e.slice(i,n)}function y7(...e){let t=-1,n;for(;++t<e.length;)Lc(e[t]),e[t]&&(n=n===void 0?e[t]:n+"/"+e[t]);return n===void 0?".":_7(n)}function _7(e){Lc(e);const t=e.codePointAt(0)===47;let n=E7(e,!t);return n.length===0&&!t&&(n="."),n.length>0&&e.codePointAt(e.length-1)===47&&(n+="/"),t?"/"+n:n}function E7(e,t){let n="",r=0,i=-1,s=0,o=-1,a,l;for(;++o<=e.length;){if(o<e.length)a=e.codePointAt(o);else{if(a===47)break;a=47}if(a===47){if(!(i===o-1||s===1))if(i!==o-1&&s===2){if(n.length<2||r!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(l=n.lastIndexOf("/"),l!==n.length-1){l<0?(n="",r=0):(n=n.slice(0,l),r=n.length-1-n.lastIndexOf("/")),i=o,s=0;continue}}else if(n.length>0){n="",r=0,i=o,s=0;continue}}t&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+e.slice(i+1,o):n=e.slice(i+1,o),r=o-i-1;i=o,s=0}else a===46&&s>-1?s++:s=-1}return n}function Lc(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const v7={cwd:T7};function T7(){return"/"}function jg(e){return!!(e!==null&&typeof e=="object"&&"href"in e&&e.href&&"protocol"in e&&e.protocol&&e.auth===void 0)}function w7(e){if(typeof e=="string")e=new URL(e);else if(!jg(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if(e.protocol!=="file:"){const t=new TypeError("The URL must be of scheme file");throw t.code="ERR_INVALID_URL_SCHEME",t}return x7(e)}function x7(e){if(e.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const t=e.pathname;let n=-1;for(;++n<t.length;)if(t.codePointAt(n)===37&&t.codePointAt(n+1)===50){const r=t.codePointAt(n+2);if(r===70||r===102){const i=new TypeError("File URL path must not include encoded / characters");throw i.code="ERR_INVALID_FILE_URL_PATH",i}}return decodeURIComponent(t)}const Gh=["history","path","basename","stem","extname","dirname"];class qg{constructor(t){let n;t?jg(t)?n={path:t}:typeof t=="string"||C7(t)?n={value:t}:n=t:n={},this.cwd="cwd"in n?"":v7.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<Gh.length;){const s=Gh[r];s in n&&n[s]!==void 0&&n[s]!==null&&(this[s]=s==="history"?[...n[s]]:n[s])}let i;for(i in n)Gh.includes(i)||(this[i]=n[i])}get basename(){return typeof this.path=="string"?xi.basename(this.path):void 0}set basename(t){Xh(t,"basename"),Kh(t,"basename"),this.path=xi.join(this.dirname||"",t)}get dirname(){return typeof this.path=="string"?xi.dirname(this.path):void 0}set dirname(t){JE(this.basename,"dirname"),this.path=xi.join(t||"",this.basename)}get extname(){return typeof this.path=="string"?xi.extname(this.path):void 0}set extname(t){if(Kh(t,"extname"),JE(this.dirname,"extname"),t){if(t.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(t.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=xi.join(this.dirname,this.stem+(t||""))}get path(){return this.history[this.history.length-1]}set path(t){jg(t)&&(t=w7(t)),Xh(t,"path"),this.path!==t&&this.history.push(t)}get stem(){return typeof this.path=="string"?xi.basename(this.path,this.extname):void 0}set stem(t){Xh(t,"stem"),Kh(t,"stem"),this.path=xi.join(this.dirname||"",t+(this.extname||""))}fail(t,n,r){const i=this.message(t,n,r);throw i.fatal=!0,i}info(t,n,r){const i=this.message(t,n,r);return i.fatal=void 0,i}message(t,n,r){const i=new Wn(t,n,r);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}toString(t){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(t||void 0).decode(this.value)}}function Kh(e,t){if(e&&e.includes(xi.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+xi.sep+"`")}function Xh(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function JE(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}function C7(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const S7={abandonedHeadElementChild:{reason:"Unexpected metadata element after head",description:"Unexpected element after head. Expected the element before `</head>`",url:!1},abruptClosingOfEmptyComment:{reason:"Unexpected abruptly closed empty comment",description:"Unexpected `>` or `->`. Expected `-->` to close comments"},abruptDoctypePublicIdentifier:{reason:"Unexpected abruptly closed public identifier",description:"Unexpected `>`. Expected a closing `\"` or `'` after the public identifier"},abruptDoctypeSystemIdentifier:{reason:"Unexpected abruptly closed system identifier",description:"Unexpected `>`. Expected a closing `\"` or `'` after the identifier identifier"},absenceOfDigitsInNumericCharacterReference:{reason:"Unexpected non-digit at start of numeric character reference",description:"Unexpected `%c`. Expected `[0-9]` for decimal references or `[0-9a-fA-F]` for hexadecimal references"},cdataInHtmlContent:{reason:"Unexpected CDATA section in HTML",description:"Unexpected `<![CDATA[` in HTML. Remove it, use a comment, or encode special characters instead"},characterReferenceOutsideUnicodeRange:{reason:"Unexpected too big numeric character reference",description:"Unexpectedly high character reference. Expected character references to be at most hexadecimal 10ffff (or decimal 1114111)"},closingOfElementWithOpenChildElements:{reason:"Unexpected closing tag with open child elements",description:"Unexpectedly closing tag. Expected other tags to be closed first",url:!1},controlCharacterInInputStream:{reason:"Unexpected control character",description:"Unexpected control character `%x`. Expected a non-control code point, 0x00, or ASCII whitespace"},controlCharacterReference:{reason:"Unexpected control character reference",description:"Unexpectedly control character in reference. Expected a non-control code point, 0x00, or ASCII whitespace"},disallowedContentInNoscriptInHead:{reason:"Disallowed content inside `<noscript>` in `<head>`",description:"Unexpected text character `%c`. Only use text in `<noscript>`s in `<body>`",url:!1},duplicateAttribute:{reason:"Unexpected duplicate attribute",description:"Unexpectedly double attribute. Expected attributes to occur only once"},endTagWithAttributes:{reason:"Unexpected attribute on closing tag",description:"Unexpected attribute. Expected `>` instead"},endTagWithTrailingSolidus:{reason:"Unexpected slash at end of closing tag",description:"Unexpected `%c-1`. Expected `>` instead"},endTagWithoutMatchingOpenElement:{reason:"Unexpected unopened end tag",description:"Unexpected end tag. Expected no end tag or another end tag",url:!1},eofBeforeTagName:{reason:"Unexpected end of file",description:"Unexpected end of file. Expected tag name instead"},eofInCdata:{reason:"Unexpected end of file in CDATA",description:"Unexpected end of file. Expected `]]>` to close the CDATA"},eofInComment:{reason:"Unexpected end of file in comment",description:"Unexpected end of file. Expected `-->` to close the comment"},eofInDoctype:{reason:"Unexpected end of file in doctype",description:"Unexpected end of file. Expected a valid doctype (such as `<!doctype html>`)"},eofInElementThatCanContainOnlyText:{reason:"Unexpected end of file in element that can only contain text",description:"Unexpected end of file. Expected text or a closing tag",url:!1},eofInScriptHtmlCommentLikeText:{reason:"Unexpected end of file in comment inside script",description:"Unexpected end of file. Expected `-->` to close the comment"},eofInTag:{reason:"Unexpected end of file in tag",description:"Unexpected end of file. Expected `>` to close the tag"},incorrectlyClosedComment:{reason:"Incorrectly closed comment",description:"Unexpected `%c-1`. Expected `-->` to close the comment"},incorrectlyOpenedComment:{reason:"Incorrectly opened comment",description:"Unexpected `%c`. Expected `<!--` to open the comment"},invalidCharacterSequenceAfterDoctypeName:{reason:"Invalid sequence after doctype name",description:"Unexpected sequence at `%c`. Expected `public` or `system`"},invalidFirstCharacterOfTagName:{reason:"Invalid first character in tag name",description:"Unexpected `%c`. Expected an ASCII letter instead"},misplacedDoctype:{reason:"Misplaced doctype",description:"Unexpected doctype. Expected doctype before head",url:!1},misplacedStartTagForHeadElement:{reason:"Misplaced `<head>` start tag",description:"Unexpected start tag `<head>`. Expected `<head>` directly after doctype",url:!1},missingAttributeValue:{reason:"Missing attribute value",description:"Unexpected `%c-1`. Expected an attribute value or no `%c-1` instead"},missingDoctype:{reason:"Missing doctype before other content",description:"Expected a `<!doctype html>` before anything else",url:!1},missingDoctypeName:{reason:"Missing doctype name",description:"Unexpected doctype end at `%c`. Expected `html` instead"},missingDoctypePublicIdentifier:{reason:"Missing public identifier in doctype",description:"Unexpected `%c`. Expected identifier for `public` instead"},missingDoctypeSystemIdentifier:{reason:"Missing system identifier in doctype",description:'Unexpected `%c`. Expected identifier for `system` instead (suggested: `"about:legacy-compat"`)'},missingEndTagName:{reason:"Missing name in end tag",description:"Unexpected `%c`. Expected an ASCII letter instead"},missingQuoteBeforeDoctypePublicIdentifier:{reason:"Missing quote before public identifier in doctype",description:"Unexpected `%c`. Expected `\"` or `'` instead"},missingQuoteBeforeDoctypeSystemIdentifier:{reason:"Missing quote before system identifier in doctype",description:"Unexpected `%c`. Expected `\"` or `'` instead"},missingSemicolonAfterCharacterReference:{reason:"Missing semicolon after character reference",description:"Unexpected `%c`. Expected `;` instead"},missingWhitespaceAfterDoctypePublicKeyword:{reason:"Missing whitespace after public identifier in doctype",description:"Unexpected `%c`. Expected ASCII whitespace instead"},missingWhitespaceAfterDoctypeSystemKeyword:{reason:"Missing whitespace after system identifier in doctype",description:"Unexpected `%c`. Expected ASCII whitespace instead"},missingWhitespaceBeforeDoctypeName:{reason:"Missing whitespace before doctype name",description:"Unexpected `%c`. Expected ASCII whitespace instead"},missingWhitespaceBetweenAttributes:{reason:"Missing whitespace between attributes",description:"Unexpected `%c`. Expected ASCII whitespace instead"},missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers:{reason:"Missing whitespace between public and system identifiers in doctype",description:"Unexpected `%c`. Expected ASCII whitespace instead"},nestedComment:{reason:"Unexpected nested comment",description:"Unexpected `<!--`. Expected `-->`"},nestedNoscriptInHead:{reason:"Unexpected nested `<noscript>` in `<head>`",description:"Unexpected `<noscript>`. Expected a closing tag or a meta element",url:!1},nonConformingDoctype:{reason:"Unexpected non-conforming doctype declaration",description:'Expected `<!doctype html>` or `<!doctype html system "about:legacy-compat">`',url:!1},nonVoidHtmlElementStartTagWithTrailingSolidus:{reason:"Unexpected trailing slash on start tag of non-void element",description:"Unexpected `/`. Expected `>` instead"},noncharacterCharacterReference:{reason:"Unexpected noncharacter code point referenced by character reference",description:"Unexpected code point. Do not use noncharacters in HTML"},noncharacterInInputStream:{reason:"Unexpected noncharacter character",description:"Unexpected code point `%x`. Do not use noncharacters in HTML"},nullCharacterReference:{reason:"Unexpected NULL character referenced by character reference",description:"Unexpected code point. Do not use NULL characters in HTML"},openElementsLeftAfterEof:{reason:"Unexpected end of file",description:"Unexpected end of file. Expected closing tag instead",url:!1},surrogateCharacterReference:{reason:"Unexpected surrogate character referenced by character reference",description:"Unexpected code point. Do not use lone surrogate characters in HTML"},surrogateInInputStream:{reason:"Unexpected surrogate character",description:"Unexpected code point `%x`. Do not use lone surrogate characters in HTML"},unexpectedCharacterAfterDoctypeSystemIdentifier:{reason:"Invalid character after system identifier in doctype",description:"Unexpected character at `%c`. Expected `>`"},unexpectedCharacterInAttributeName:{reason:"Unexpected character in attribute name",description:"Unexpected `%c`. Expected whitespace, `/`, `>`, `=`, or probably an ASCII letter"},unexpectedCharacterInUnquotedAttributeValue:{reason:"Unexpected character in unquoted attribute value",description:"Unexpected `%c`. Quote the attribute value to include it"},unexpectedEqualsSignBeforeAttributeName:{reason:"Unexpected equals sign before attribute name",description:"Unexpected `%c`. Add an attribute name before it"},unexpectedNullCharacter:{reason:"Unexpected NULL character",description:"Unexpected code point `%x`. Do not use NULL characters in HTML"},unexpectedQuestionMarkInsteadOfTagName:{reason:"Unexpected question mark instead of tag name",description:"Unexpected `%c`. Expected an ASCII letter instead"},unexpectedSolidusInTag:{reason:"Unexpected slash in tag",description:"Unexpected `%c-1`. Expected it followed by `>` or in a quoted attribute value"},unknownNamedCharacterReference:{reason:"Unexpected unknown named character reference",description:"Unexpected character reference. Expected known named character references"}},A7="https://html.spec.whatwg.org/multipage/parsing.html#parse-error-",k7=/-[a-z]/g,O7=/%c(?:([-+])(\d+))?/g,I7=/%x/g,N7={2:!0,1:!1,0:null},R7={};function D7(e,t){const n=t||R7,r=n.onerror,i=e instanceof qg?e:new qg(e),s=n.fragment?h7:p7,o=String(i),a=s(o,{sourceCodeLocationInfo:!0,onParseError:n.onerror?l:null,scriptingEnabled:!1});return LU(a,{file:i,space:n.space,verbose:n.verbose});function l(u){const c=u.code,d=M7(c),f=n[d],p=f??!0,m=typeof p=="number"?p:p?1:0;if(m){const b=S7[d],y=new Wn(g(b.reason),{place:{start:{line:u.startLine,column:u.startCol,offset:u.startOffset},end:{line:u.endLine,column:u.endCol,offset:u.endOffset}},ruleId:c,source:"hast-util-from-html"});i.path&&(y.file=i.path,y.name=i.path+":"+y.name),y.fatal=N7[m],y.note=g(b.description),y.url=b.url===!1?void 0:A7+c,r(y)}function g(b){return b.replace(O7,y).replace(I7,E);function y(T,C,D){const _=(D?Number.parseInt(D,10):0)*(C==="-"?-1:1),M=o.charAt(u.startOffset+_);return L7(M)}function E(){return B7(o.charCodeAt(u.startOffset))}}}}function M7(e){return e.replace(k7,P7)}function P7(e){return e.charAt(1).toUpperCase()}function L7(e){return e==="`"?"` ` `":e}function B7(e){return"0x"+e.toString(16).toUpperCase()}function $7(e){const t=this,{emitParseErrors:n,...r}={...t.data("settings"),...e};t.parser=i;function i(s,o){return D7(s,{...r,onerror:n?function(a){o.path&&(a.name=o.path+":"+a.name,a.file=o.path),o.messages.push(a)}:void 0})}}const Sk=-1,Pp=0,Nu=1,Rf=2,qb=3,Wb=4,Yb=5,Gb=6,Ak=7,kk=8,ZE=typeof self=="object"?self:globalThis,F7=(e,t)=>{const n=(i,s)=>(e.set(s,i),i),r=i=>{if(e.has(i))return e.get(i);const[s,o]=t[i];switch(s){case Pp:case Sk:return n(o,i);case Nu:{const a=n([],i);for(const l of o)a.push(r(l));return a}case Rf:{const a=n({},i);for(const[l,u]of o)a[r(l)]=r(u);return a}case qb:return n(new Date(o),i);case Wb:{const{source:a,flags:l}=o;return n(new RegExp(a,l),i)}case Yb:{const a=n(new Map,i);for(const[l,u]of o)a.set(r(l),r(u));return a}case Gb:{const a=n(new Set,i);for(const l of o)a.add(r(l));return a}case Ak:{const{name:a,message:l}=o;return n(new ZE[a](l),i)}case kk:return n(BigInt(o),i);case"BigInt":return n(Object(BigInt(o)),i);case"ArrayBuffer":return n(new Uint8Array(o).buffer,o);case"DataView":{const{buffer:a}=new Uint8Array(o);return n(new DataView(a),o)}}return n(new ZE[s](o),i)};return r},ev=e=>F7(new Map,e)(0),va="",{toString:U7}={},{keys:H7}=Object,Kl=e=>{const t=typeof e;if(t!=="object"||!e)return[Pp,t];const n=U7.call(e).slice(8,-1);switch(n){case"Array":return[Nu,va];case"Object":return[Rf,va];case"Date":return[qb,va];case"RegExp":return[Wb,va];case"Map":return[Yb,va];case"Set":return[Gb,va];case"DataView":return[Nu,n]}return n.includes("Array")?[Nu,n]:n.includes("Error")?[Ak,n]:[Rf,n]},fd=([e,t])=>e===Pp&&(t==="function"||t==="symbol"),z7=(e,t,n,r)=>{const i=(o,a)=>{const l=r.push(o)-1;return n.set(a,l),l},s=o=>{if(n.has(o))return n.get(o);let[a,l]=Kl(o);switch(a){case Pp:{let c=o;switch(l){case"bigint":a=kk,c=o.toString();break;case"function":case"symbol":if(e)throw new TypeError("unable to serialize "+l);c=null;break;case"undefined":return i([Sk],o)}return i([a,c],o)}case Nu:{if(l){let f=o;return l==="DataView"?f=new Uint8Array(o.buffer):l==="ArrayBuffer"&&(f=new Uint8Array(o)),i([l,[...f]],o)}const c=[],d=i([a,c],o);for(const f of o)c.push(s(f));return d}case Rf:{if(l)switch(l){case"BigInt":return i([l,o.toString()],o);case"Boolean":case"Number":case"String":return i([l,o.valueOf()],o)}if(t&&"toJSON"in o)return s(o.toJSON());const c=[],d=i([a,c],o);for(const f of H7(o))(e||!fd(Kl(o[f])))&&c.push([s(f),s(o[f])]);return d}case qb:return i([a,o.toISOString()],o);case Wb:{const{source:c,flags:d}=o;return i([a,{source:c,flags:d}],o)}case Yb:{const c=[],d=i([a,c],o);for(const[f,p]of o)(e||!(fd(Kl(f))||fd(Kl(p))))&&c.push([s(f),s(p)]);return d}case Gb:{const c=[],d=i([a,c],o);for(const f of o)(e||!fd(Kl(f)))&&c.push(s(f));return d}}const{message:u}=o;return i([a,{name:l,message:u}],o)};return s},tv=(e,{json:t,lossy:n}={})=>{const r=[];return z7(!(t||n),!!t,new Map,r)(e),r},Zo=typeof structuredClone=="function"?(e,t)=>t&&("json"in t||"lossy"in t)?ev(tv(e,t)):structuredClone(e):(e,t)=>ev(tv(e,t)),Kb=function(e,t,n,r,i){const s=gi(t);return Ok(e)?s.call(i,e,n,r):!1},gi=function(e){if(e==null)return q7;if(typeof e=="string")return j7(e);if(typeof e=="object")return V7(e);if(typeof e=="function")return Xb(e);throw new Error("Expected function, string, or array as `test`")};function V7(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=gi(e[n]);return Xb(r);function r(...i){let s=-1;for(;++s<t.length;)if(t[s].apply(this,i))return!0;return!1}}function j7(e){return Xb(t);function t(n){return n.tagName===e}}function Xb(e){return t;function t(n,r,i){return!!(Ok(n)&&e.call(this,n,typeof r=="number"?r:void 0,i||void 0))}}function q7(e){return!!(e&&typeof e=="object"&&"type"in e&&e.type==="element"&&"tagName"in e&&typeof e.tagName=="string")}function Ok(e){return e!==null&&typeof e=="object"&&"type"in e&&"tagName"in e}const Ik=gi(function(e){return e.tagName==="audio"||e.tagName==="canvas"||e.tagName==="embed"||e.tagName==="iframe"||e.tagName==="img"||e.tagName==="math"||e.tagName==="object"||e.tagName==="picture"||e.tagName==="svg"||e.tagName==="video"}),W7=/[ \t\n\f\r]/g;function Bc(e){return typeof e=="object"?e.type==="text"?nv(e.value):!1:nv(e)}function nv(e){return e.replace(W7,"")===""}const $c=function(e){if(e==null)return X7;if(typeof e=="function")return Lp(e);if(typeof e=="object")return Array.isArray(e)?Y7(e):G7(e);if(typeof e=="string")return K7(e);throw new Error("Expected function, string, or object as test")};function Y7(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=$c(e[n]);return Lp(r);function r(...i){let s=-1;for(;++s<t.length;)if(t[s].apply(this,i))return!0;return!1}}function G7(e){const t=e;return Lp(n);function n(r){const i=r;let s;for(s in e)if(i[s]!==t[s])return!1;return!0}}function K7(e){return Lp(t);function t(n){return n&&n.type===e}}function Lp(e){return t;function t(n,r,i){return!!(Q7(n)&&e.call(this,n,typeof r=="number"?r:void 0,i||void 0))}}function X7(){return!0}function Q7(e){return e!==null&&typeof e=="object"&&"type"in e}const J7=["address","article","aside","blockquote","body","br","caption","center","col","colgroup","dd","dialog","dir","div","dl","dt","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","legend","li","li","listing","main","menu","nav","ol","optgroup","option","p","plaintext","pre","section","summary","table","tbody","td","td","tfoot","th","th","thead","tr","ul","wbr","xmp"],Z7=["button","input","select","textarea"],ez=["area","base","basefont","dialog","datalist","head","link","meta","noembed","noframes","param","rp","script","source","style","template","track","title"],tz={},Qb=$c(["comment","doctype"]);function nz(e,t){Nk(e,{collapse:uz((t||tz).newlines?az:lz),whitespace:"normal"})}function Nk(e,t){if("children"in e){const n={...t};return(e.type==="root"||Mk(e))&&(n.before=!0,n.after=!0),n.whitespace=cz(e,t),iz(e,n)}if(e.type==="text"){if(t.whitespace==="normal")return rz(e,t);t.whitespace==="nowrap"&&(e.value=t.collapse(e.value))}return{ignore:Qb(e),stripAtStart:!1,remove:!1}}function rz(e,t){const n=t.collapse(e.value),r={ignore:!1,stripAtStart:!1,remove:!1};let i=0,s=n.length;return t.before&&rv(n.charAt(0))&&i++,i!==s&&rv(n.charAt(s-1))&&(t.after?s--:r.stripAtStart=!0),i===s?r.remove=!0:e.value=n.slice(i,s),r}function iz(e,t){let n=t.before;const r=t.after,i=e.children;let s=i.length,o=-1;for(;++o<s;){const a=Nk(i[o],{...t,after:Rk(i,o,r),before:n});a.remove?(i.splice(o,1),o--,s--):a.ignore||(n=a.stripAtStart),Dk(i[o])&&(n=!1)}return{ignore:!1,stripAtStart:!!(n||r),remove:!1}}function Rk(e,t,n){for(;++t<e.length;){const r=e[t];let i=sz(r);if(i===void 0&&"children"in r&&!oz(r)&&(i=Rk(r.children,-1)),typeof i=="boolean")return i}return n}function sz(e){if(e.type==="element"){if(Dk(e))return!1;if(Mk(e))return!0}else if(e.type==="text"){if(!Bc(e))return!1}else if(!Qb(e))return!1}function Dk(e){return Ik(e)||Kb(e,Z7)}function Mk(e){return Kb(e,J7)}function oz(e){return!!(e.type==="element"&&e.properties.hidden)||Qb(e)||Kb(e,ez)}function rv(e){return e===" "||e===`
`}function az(e){const t=/\r?\n|\r/.exec(e);return t?t[0]:" "}function lz(){return" "}function uz(e){return t;function t(n){return String(n).replace(/[\t\n\v\f\r ]+/g,e)}}function cz(e,t){if("tagName"in e&&e.properties)switch(e.tagName){case"listing":case"plaintext":case"script":case"style":case"xmp":return"pre";case"nobr":return"nowrap";case"pre":return e.properties.wrap?"pre-wrap":"pre";case"td":case"th":return e.properties.noWrap?"nowrap":t.whitespace;case"textarea":return"pre-wrap"}return t.whitespace}function dz(e){return function(t){nz(t,e)}}const Pk=[],fz=!0,Df=!1,Lk="skip";function pz(e,t,n,r){let i;typeof t=="function"&&typeof n!="function"?(r=n,n=t):i=t;const s=$c(i),o=r?-1:1;a(e,void 0,[])();function a(l,u,c){const d=l&&typeof l=="object"?l:{};if(typeof d.type=="string"){const p=typeof d.tagName=="string"?d.tagName:typeof d.name=="string"?d.name:void 0;Object.defineProperty(f,"name",{value:"node ("+(l.type+(p?"<"+p+">":""))+")"})}return f;function f(){let p=Pk,m,g,b;if((!t||s(l,u,c[c.length-1]||void 0))&&(p=hz(n(l,c)),p[0]===Df))return p;if("children"in l&&l.children){const y=l;if(y.children&&p[0]!==Lk)for(g=(r?y.children.length:-1)+o,b=c.concat(y);g>-1&&g<y.children.length;){const E=y.children[g];if(m=a(E,g,b)(),m[0]===Df)return m;g=typeof m[1]=="number"?m[1]:g+o}}return p}}}function hz(e){return Array.isArray(e)?e:typeof e=="number"?[fz,e]:e==null?Pk:[e]}function rl(e,t,n,r){let i,s,o;typeof t=="function"?(s=void 0,o=t,i=n):(s=t,o=n,i=r),pz(e,s,a,i);function a(l,u){const c=u[u.length-1],d=c?c.children.indexOf(l):void 0;return o(l,d,c)}}const Bk=Fk("end"),$k=Fk("start");function Fk(e){return t;function t(n){const r=n&&n.position&&n.position[e]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}function Jb(e){const t=$k(e),n=Bk(e);if(t&&n)return{start:t,end:n}}function mz(e,t){const n=t.properties||{},r=e.all(t),i={type:"link",url:e.resolve(String(n.href||"")||null),title:n.title?String(n.title):null,children:r};return e.patch(t,i),i}function gz(e,t){e.baseFound||(e.frozenBaseUrl=String(t.properties&&t.properties.href||"")||void 0,e.baseFound=!0)}function bz(e,t){const n={type:"blockquote",children:e.toFlow(e.all(t))};return e.patch(t,n),n}function yz(e,t){const n={type:"break"};return e.patch(t,n),n}const iv=function(e,t,n){const r=$c(n);if(!e||!e.type||!e.children)throw new Error("Expected parent node");if(typeof t=="number"){if(t<0||t===Number.POSITIVE_INFINITY)throw new Error("Expected positive finite number as index")}else if(t=e.children.indexOf(t),t<0)throw new Error("Expected child node or index");for(;++t<e.children.length;)if(r(e.children[t],t,e))return e.children[t]},sv=/\n/g,ov=/[\t ]+/g,Wg=gi("br"),av=gi(Cz),_z=gi("p"),lv=gi("tr"),Ez=gi(["datalist","head","noembed","noframes","noscript","rp","script","style","template","title",xz,Sz]),Uk=gi(["address","article","aside","blockquote","body","caption","center","dd","dialog","dir","dl","dt","div","figure","figcaption","footer","form,","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","legend","li","listing","main","menu","nav","ol","p","plaintext","pre","section","ul","xmp"]);function Fc(e,t){const n={},r="children"in e?e.children:[],i=Uk(e),s=Vk(e,{whitespace:n.whitespace||"normal"}),o=[];(e.type==="text"||e.type==="comment")&&o.push(...zk(e,{breakBefore:!0,breakAfter:!0}));let a=-1;for(;++a<r.length;)o.push(...Hk(r[a],e,{whitespace:s,breakBefore:a?void 0:i,breakAfter:a<r.length-1?Wg(r[a+1]):i}));const l=[];let u;for(a=-1;++a<o.length;){const c=o[a];typeof c=="number"?u!==void 0&&c>u&&(u=c):c&&(u!==void 0&&u>-1&&l.push(`
`.repeat(u)||" "),u=-1,l.push(c))}return l.join("")}function Hk(e,t,n){return e.type==="element"?vz(e,t,n):e.type==="text"?n.whitespace==="normal"?zk(e,n):Tz(e):[]}function vz(e,t,n){const r=Vk(e,n),i=e.children||[];let s=-1,o=[];if(Ez(e))return o;let a,l;for(Wg(e)||lv(e)&&iv(t,e,lv)?l=`
`:_z(e)?(a=2,l=2):Uk(e)&&(a=1,l=1);++s<i.length;)o=o.concat(Hk(i[s],e,{whitespace:r,breakBefore:s?void 0:a,breakAfter:s<i.length-1?Wg(i[s+1]):l}));return av(e)&&iv(t,e,av)&&o.push("	"),a&&o.unshift(a),l&&o.push(l),o}function zk(e,t){const n=String(e.value),r=[],i=[];let s=0;for(;s<=n.length;){sv.lastIndex=s;const l=sv.exec(n),u=l&&"index"in l?l.index:n.length;r.push(wz(n.slice(s,u).replace(/[\u061C\u200E\u200F\u202A-\u202E\u2066-\u2069]/g,""),s===0?t.breakBefore:!0,u===n.length?t.breakAfter:!0)),s=u+1}let o=-1,a;for(;++o<r.length;)r[o].charCodeAt(r[o].length-1)===8203||o<r.length-1&&r[o+1].charCodeAt(0)===8203?(i.push(r[o]),a=void 0):r[o]?(typeof a=="number"&&i.push(a),i.push(r[o]),a=0):(o===0||o===r.length-1)&&i.push(0);return i}function Tz(e){return[String(e.value)]}function wz(e,t,n){const r=[];let i=0,s;for(;i<e.length;){ov.lastIndex=i;const o=ov.exec(e);s=o?o.index:e.length,!i&&!s&&o&&!t&&r.push(""),i!==s&&r.push(e.slice(i,s)),i=o?s+o[0].length:s}return i!==s&&!n&&r.push(""),r.join(" ")}function Vk(e,t){if(e.type==="element"){const n=e.properties||{};switch(e.tagName){case"listing":case"plaintext":case"xmp":return"pre";case"nobr":return"nowrap";case"pre":return n.wrap?"pre-wrap":"pre";case"td":case"th":return n.noWrap?"nowrap":t.whitespace;case"textarea":return"pre-wrap"}}return t.whitespace}function xz(e){return!!(e.properties||{}).hidden}function Cz(e){return e.tagName==="td"||e.tagName==="th"}function Sz(e){return e.tagName==="dialog"&&!(e.properties||{}).open}function Az(e){const t=String(e);let n=t.length;for(;n>0;){const r=t.codePointAt(n-1);if(r!==void 0&&(r===10||r===13))n--;else break}return t.slice(0,n)}const Qh="language-";function pd(e,t){const n=t.children;let r=-1,i,s;if(t.tagName==="pre")for(;++r<n.length;){const a=n[r];if(a.type==="element"&&a.tagName==="code"&&a.properties&&a.properties.className&&Array.isArray(a.properties.className)){i=a.properties.className;break}}if(i){for(r=-1;++r<i.length;)if(String(i[r]).slice(0,Qh.length)===Qh){s=String(i[r]).slice(Qh.length);break}}const o={type:"code",lang:s||null,meta:null,value:Az(Fc(t))};return e.patch(t,o),o}function kz(e,t){const n={type:"html",value:"<!--"+t.value+"-->"};return e.patch(t,n),n}function Jh(e,t){const r={type:"delete",children:e.all(t)};return e.patch(t,r),r}function Zb(e){let t=-1;if(e.length>1){for(;++t<e.length;)if(e[t].spread)return!0}return!1}function Oz(e,t){const n=[],r=[];let i=-1;for(;++i<t.children.length;){const a=t.children[i];a.type==="element"&&a.tagName==="div"?n.push(...a.children):n.push(a)}let s={definitions:[],titles:[]};for(i=-1;++i<n.length;){const a=n[i];if(a.type==="element"&&a.tagName==="dt"){const l=n[i-1];l&&l.type==="element"&&l.tagName==="dd"&&(r.push(s),s={definitions:[],titles:[]}),s.titles.push(a)}else s.definitions.push(a)}r.push(s),i=-1;const o=[];for(;++i<r.length;){const a=[...uv(e,r[i].titles),...uv(e,r[i].definitions)];a.length>0&&o.push({type:"listItem",spread:a.length>1,checked:null,children:a})}if(o.length>0){const a={type:"list",ordered:!1,start:null,spread:Zb(o),children:o};return e.patch(t,a),a}}function uv(e,t){const n=e.all({type:"root",children:t}),r=e.toSpecificContent(n,Iz);return r.length===0?[]:r.length===1?r[0].children:[{type:"list",ordered:!1,start:null,spread:Zb(r),children:r}]}function Iz(){return{type:"listItem",spread:!1,checked:null,children:[]}}function hd(e,t){const r={type:"emphasis",children:e.all(t)};return e.patch(t,r),r}function e1(e){let t=0,n=e.length;for(;t<n&&e[t].type==="break";)t++;for(;n>t&&e[n-1].type==="break";)n--;return t===0&&n===e.length?e:e.slice(t,n)}function Ta(e,t){const n=Number(t.tagName.charAt(1))||1,r=e1(e.all(t)),i={type:"heading",depth:n,children:r};return e.patch(t,i),i}function Nz(e,t){const n={type:"thematicBreak"};return e.patch(t,n),n}function Rz(e,t){const n=t.properties||{},r=String(n.src||""),i=String(n.title||"");if(r&&i){const s={type:"link",title:null,url:e.resolve(r),children:[{type:"text",value:i}]};return e.patch(t,s),s}}function cv(e,t){const n=t.properties||{},r={type:"image",url:e.resolve(String(n.src||"")||null),title:n.title?String(n.title):null,alt:n.alt?String(n.alt):""};return e.patch(t,r),r}function Xl(e,t){const n={type:"inlineCode",value:Fc(t)};return e.patch(t,n),n}function jk(e,t){const n=[],r=[],i=t||e.properties||{},s=qk(e),o=Math.min(Number.parseInt(String(i.size),10),0)||(i.multiple?4:1);let a=-1;for(;++a<s.length;){const c=s[a];c&&c.properties&&c.properties.selected&&n.push(c)}const l=n.length>0?n:s,u=Math.min(l.length,o);for(a=-1;++a<u;){const c=l[a],d=c.properties||{},f=Fc(c),p=f||String(d.label||""),m=String(d.value||"")||f;r.push([m,p===m?void 0:p])}return r}function qk(e){const t=[];let n=-1;for(;++n<e.children.length;){const r=e.children[n];"children"in r&&Array.isArray(r.children)&&t.push(...qk(r)),r.type==="element"&&r.tagName==="option"&&(!r.properties||!r.properties.disabled)&&t.push(r)}return t}const Dz="[x]",Mz="[ ]";function Pz(e,t){const n=t.properties||{},r=String(n.value||n.placeholder||"");if(n.disabled||n.type==="hidden"||n.type==="file")return;if(n.type==="checkbox"||n.type==="radio"){const l={type:"text",value:n.checked?e.options.checked||Dz:e.options.unchecked||Mz};return e.patch(t,l),l}if(n.type==="image"){const l=n.alt||r;if(l){const u={type:"image",url:e.resolve(String(n.src||"")||null),title:String(n.title||"")||null,alt:String(l)};return e.patch(t,u),u}return}let i=[];if(r)i=[[r,void 0]];else if(n.type!=="button"&&n.type!=="file"&&n.type!=="password"&&n.type!=="reset"&&n.type!=="submit"&&n.list){const l=String(n.list),u=e.elementById.get(l);u&&u.tagName==="datalist"&&(i=jk(u,n))}if(i.length===0)return;if(n.type==="password"&&(i[0]=["•".repeat(i[0][0].length),void 0]),n.type==="email"||n.type==="url"){const l=[];let u=-1;for(;++u<i.length;){const c=e.resolve(i[u][0]),d={type:"link",title:null,url:n.type==="email"?"mailto:"+c:c,children:[{type:"text",value:i[u][1]||c}]};l.push(d),u!==i.length-1&&l.push({type:"text",value:", "})}return l}const s=[];let o=-1;for(;++o<i.length;)s.push(i[o][1]?i[o][1]+" ("+i[o][0]+")":i[o][0]);const a={type:"text",value:s.join(", ")};return e.patch(t,a),a}const Lz={}.hasOwnProperty;function Bz(e,t){const n=e.type==="element"&&Lz.call(e.properties,t)&&e.properties[t];return n!=null&&n!==!1}const $z=new Set(["pingback","prefetch","stylesheet"]);function Fz(e){if(e.type!=="element"||e.tagName!=="link")return!1;if(e.properties.itemProp)return!0;const t=e.properties.rel;let n=-1;if(!Array.isArray(t)||t.length===0)return!1;for(;++n<t.length;)if(!$z.has(String(t[n])))return!1;return!0}const Uz=gi(["a","abbr","area","b","bdi","bdo","br","button","cite","code","data","datalist","del","dfn","em","i","input","ins","kbd","keygen","label","map","mark","meter","noscript","output","progress","q","ruby","s","samp","script","select","small","span","strong","sub","sup","template","textarea","time","u","var","wbr"]),Hz=gi("meta");function Wk(e){return!!(e.type==="text"||Uz(e)||Ik(e)||Fz(e)||Hz(e)&&Bz(e,"itemProp"))}function Zh(e,t){const{rest:n,checkbox:r}=Gk(t),i=r?!!r.properties.checked:null,s=Yk(n),o=e.toFlow(e.all(n)),a={type:"listItem",spread:s,checked:i,children:o};return e.patch(t,a),a}function Yk(e){let t=-1,n=!1;for(;++t<e.children.length;){const r=e.children[t];if(r.type==="element"){if(Wk(r))continue;if(r.tagName==="p"||n||Yk(r))return!0;n=!0}}return!1}function Gk(e){const t=e.children[0];if(t&&t.type==="element"&&t.tagName==="input"&&t.properties&&(t.properties.type==="checkbox"||t.properties.type==="radio")){const n={...e,children:e.children.slice(1)};return{checkbox:t,rest:n}}if(t&&t.type==="element"&&t.tagName==="p"){const{checkbox:n,rest:r}=Gk(t);if(n){const i={...e,children:[r,...e.children.slice(1)]};return{checkbox:n,rest:i}}}return{checkbox:void 0,rest:e}}function em(e,t){const n=t.tagName==="ol",r=e.toSpecificContent(e.all(t),zz);let i=null;n&&(i=t.properties&&t.properties.start?Number.parseInt(String(t.properties.start),10):1);const s={type:"list",ordered:n,start:i,spread:Zb(r),children:r};return e.patch(t,s),s}function zz(){return{type:"listItem",spread:!1,checked:null,children:[]}}const Vz={};function Bp(e,t){const n=Vz,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,i=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return Kk(e,r,i)}function Kk(e,t,n){if(jz(e)){if("value"in e)return e.type==="html"&&!n?"":e.value;if(t&&"alt"in e&&e.alt)return e.alt;if("children"in e)return dv(e.children,t,n)}return Array.isArray(e)?dv(e,t,n):""}function dv(e,t,n){const r=[];let i=-1;for(;++i<e.length;)r[i]=Kk(e[i],t,n);return r.join("")}function jz(e){return!!(e&&typeof e=="object")}const Xk=$c(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function $p(e){let t=-1;for(;++t<e.length;){const n=e[t];if(!Zk(n)||"children"in n&&$p(n.children))return!0}return!1}function Qk(e){return Jk(e,t,function(n){return n});function t(n){return n.every(function(r){return r.type==="text"?Bc(r.value):!1})?[]:[{type:"paragraph",children:e1(n)}]}}function qz(e){return Jk(e.children,t,n);function t(r){const i=tm(e);return i.children=r,[i]}function n(r){if("children"in r&&"children"in e){const i=tm(e),s=tm(r);return i.children=r.children,s.children.push(i),s}return{...r}}}function Jk(e,t,n){const r=Wz(e),i=[];let s=[],o=-1;for(;++o<r.length;){const a=r[o];Zk(a)?s.push(a):(s.length>0&&(i.push(...t(s)),s=[]),i.push(n(a)))}return s.length>0&&(i.push(...t(s)),s=[]),i}function Wz(e){const t=[];let n=-1;for(;++n<e.length;){const r=e[n];(r.type==="delete"||r.type==="link")&&$p(r.children)?t.push(...qz(r)):t.push(r)}return t}function Zk(e){const t=e.data&&e.data.hName;return t?Wk({type:"element",tagName:t,properties:{},children:[]}):Xk(e)}function tm(e){return Zo({...e,children:[]})}function fv(e,t){const n=t.properties||{},r=t.tagName==="video"?String(n.poster||""):"";let i=String(n.src||""),s=-1,o=!1,a=e.all(t);if(rl({type:"root",children:a},function(d){if(d.type==="link")return o=!0,Df}),o||$p(a))return a;for(;!i&&++s<t.children.length;){const d=t.children[s];d.type==="element"&&d.tagName==="source"&&d.properties&&(i=String(d.properties.src||""))}if(r){const d={type:"image",title:null,url:e.resolve(r),alt:Bp(a)};e.patch(t,d),a=[d]}const u=a,c={type:"link",title:n.title?String(n.title):null,url:e.resolve(i),children:u};return e.patch(t,c),c}function pv(e,t){const n=e1(e.all(t));if(n.length>0){const r={type:"paragraph",children:n};return e.patch(t,r),r}}const Yz=['"'];function Gz(e,t){const n=e.options.quotes||Yz;e.qNesting++;const r=e.all(t);e.qNesting--;const i=n[e.qNesting%n.length],s=r[0],o=r[r.length-1],a=i.charAt(0),l=i.length>1?i.charAt(1):i;return s&&s.type==="text"?s.value=a+s.value:r.unshift({type:"text",value:a}),o&&o.type==="text"?o.value+=l:r.push({type:"text",value:l}),r}function Kz(e,t){let n=e.all(t);(e.options.document||$p(n))&&(n=Qk(n));const r={type:"root",children:n};return e.patch(t,r),r}function Xz(e,t){const n=jk(t);let r=-1;const i=[];for(;++r<n.length;){const s=n[r];i.push(s[1]?s[1]+" ("+s[0]+")":s[0])}if(i.length>0){const s={type:"text",value:i.join(", ")};return e.patch(t,s),s}}function hv(e,t){const r={type:"strong",children:e.all(t)};return e.patch(t,r),r}function mv(e,t){const r={type:"tableCell",children:e.all(t)};if(e.patch(t,r),t.properties){const i=t.properties.rowSpan,s=t.properties.colSpan;if(i||s){const o=r.data||(r.data={});i&&(o.hastUtilToMdastTemporaryRowSpan=i),s&&(o.hastUtilToMdastTemporaryColSpan=s)}}return r}function Qz(e,t){const r={type:"tableRow",children:e.toSpecificContent(e.all(t),Jz)};return e.patch(t,r),r}function Jz(){return{type:"tableCell",children:[]}}function Zz(e,t){if(e.inTable){const u={type:"text",value:Fc(t)};return e.patch(t,u),u}e.inTable=!0;const{align:n,headless:r}=eV(t),i=e.toSpecificContent(e.all(t),gv);r&&i.unshift(gv());let s=-1;for(;++s<i.length;){const u=i[s],c=e.toSpecificContent(u.children,tV);u.children=c}let o=1;for(s=-1;++s<i.length;){const u=i[s].children;let c=-1;for(;++c<u.length;){const d=u[c];if(d.data){const f=d.data,p=Number.parseInt(String(f.hastUtilToMdastTemporaryColSpan),10)||1,m=Number.parseInt(String(f.hastUtilToMdastTemporaryRowSpan),10)||1;if(p>1||m>1){let g=s-1;for(;++g<s+m;){let b=c-1;for(;++b<c+p&&i[g];){const y=[];(g!==s||b!==c)&&y.push({type:"tableCell",children:[]}),i[g].children.splice(b,0,...y)}}}"hastUtilToMdastTemporaryColSpan"in d.data&&delete d.data.hastUtilToMdastTemporaryColSpan,"hastUtilToMdastTemporaryRowSpan"in d.data&&delete d.data.hastUtilToMdastTemporaryRowSpan,Object.keys(d.data).length===0&&delete d.data}}u.length>o&&(o=u.length)}for(s=-1;++s<i.length;){const u=i[s].children;let c=u.length-1;for(;++c<o;)u.push({type:"tableCell",children:[]})}let a=n.length-1;for(;++a<o;)n.push(null);e.inTable=!1;const l={type:"table",align:n,children:i};return e.patch(t,l),l}function eV(e){const t={align:[null],headless:!0};let n=0,r=0;return rl(e,function(i){if(i.type==="element"){if(i.tagName==="table"&&e!==i)return Lk;if((i.tagName==="th"||i.tagName==="td")&&i.properties){if(!t.align[r]){const s=String(i.properties.align||"")||null;(s==="center"||s==="left"||s==="right"||s===null)&&(t.align[r]=s)}t.headless&&n<2&&i.tagName==="th"&&(t.headless=!1),r++}else i.tagName==="thead"?t.headless=!1:i.tagName==="tr"&&(n++,r=0)}}),t}function tV(){return{type:"tableCell",children:[]}}function gv(){return{type:"tableRow",children:[]}}function nV(e,t){const n={type:"text",value:t.value};return e.patch(t,n),n}function rV(e,t){const n={type:"text",value:Fc(t)};return e.patch(t,n),n}function iV(e,t){const n={type:"text",value:"​"};return e.patch(t,n),n}const sV={comment:kz,doctype:et,root:Kz,text:nV},oV={applet:et,area:et,basefont:et,bgsound:et,caption:et,col:et,colgroup:et,command:et,content:et,datalist:et,dialog:et,element:et,embed:et,frame:et,frameset:et,isindex:et,keygen:et,link:et,math:et,menu:et,menuitem:et,meta:et,nextid:et,noembed:et,noframes:et,optgroup:et,option:et,param:et,script:et,shadow:et,source:et,spacer:et,style:et,svg:et,template:et,title:et,track:et,abbr:Ze,acronym:Ze,bdi:Ze,bdo:Ze,big:Ze,blink:Ze,button:Ze,canvas:Ze,cite:Ze,data:Ze,details:Ze,dfn:Ze,font:Ze,ins:Ze,label:Ze,map:Ze,marquee:Ze,meter:Ze,nobr:Ze,noscript:Ze,object:Ze,output:Ze,progress:Ze,rb:Ze,rbc:Ze,rp:Ze,rt:Ze,rtc:Ze,ruby:Ze,slot:Ze,small:Ze,span:Ze,sup:Ze,sub:Ze,tbody:Ze,tfoot:Ze,thead:Ze,time:Ze,address:Vt,article:Vt,aside:Vt,body:Vt,center:Vt,div:Vt,fieldset:Vt,figcaption:Vt,figure:Vt,form:Vt,footer:Vt,header:Vt,hgroup:Vt,html:Vt,legend:Vt,main:Vt,multicol:Vt,nav:Vt,picture:Vt,section:Vt,a:mz,audio:fv,b:hv,base:gz,blockquote:bz,br:yz,code:Xl,dir:em,dl:Oz,dt:Zh,dd:Zh,del:Jh,em:hd,h1:Ta,h2:Ta,h3:Ta,h4:Ta,h5:Ta,h6:Ta,hr:Nz,i:hd,iframe:Rz,img:cv,image:cv,input:Pz,kbd:Xl,li:Zh,listing:pd,mark:hd,ol:em,p:pv,plaintext:pd,pre:pd,q:Gz,s:Jh,samp:Xl,select:Xz,strike:Jh,strong:hv,summary:pv,table:Zz,td:mv,textarea:rV,th:mv,tr:Qz,tt:Xl,u:hd,ul:em,var:Xl,video:fv,wbr:iV,xmp:pd};function Ze(e,t){return e.all(t)}function Vt(e,t){return e.toFlow(e.all(t))}function et(){}const bv={}.hasOwnProperty;function aV(e){return{all:lV,baseFound:!1,elementById:new Map,frozenBaseUrl:void 0,handlers:{...oV,...e.handlers},inTable:!1,nodeHandlers:{...sV,...e.nodeHandlers},one:uV,options:e,patch:cV,qNesting:0,resolve:dV,toFlow:fV,toSpecificContent:pV}}function lV(e){const t=e.children||[],n=[];let r=-1;for(;++r<t.length;){const i=t[r],s=this.one(i,e);Array.isArray(s)?n.push(...s):s&&n.push(s)}return n}function uV(e,t){if(e.type==="element"){if(e.properties&&e.properties.dataMdast==="ignore")return;if(bv.call(this.handlers,e.tagName))return this.handlers[e.tagName](this,e,t)||void 0}else if(bv.call(this.nodeHandlers,e.type))return this.nodeHandlers[e.type](this,e,t)||void 0;if("value"in e&&typeof e.value=="string"){const n={type:"text",value:e.value};return this.patch(e,n),n}if("children"in e)return this.all(e)}function cV(e,t){e.position&&(t.position=Jb(e))}function dV(e){const t=this.frozenBaseUrl;return e==null?"":t?String(new URL(e,t)):e}function fV(e){return Qk(e)}function pV(e,t){const n=t(),r=[];let i=[],s=-1;for(;++s<e.length;){const a=e[s];if(o(a))i.length>0&&(a.children.unshift(...i),i=[]),r.push(a);else{const l=a;i.push(l)}}if(i.length>0){let a=r[r.length-1];a||(a=t(),r.push(a)),a.children.push(...i),i=[]}return r;function o(a){return a.type===n.type}}const hV={};function yv(e,t){const n=Zo(e),r=t||hV,i=dz({newlines:r.newlines===!0}),s=aV(r);let o;i(n),rl(n,function(l){if(l&&l.type==="element"&&l.properties){const u=String(l.properties.id||"")||void 0;u&&!s.elementById.has(u)&&s.elementById.set(u,l)}});const a=s.one(n,void 0);return a?Array.isArray(a)?o={type:"root",children:a}:o=a:o={type:"root",children:[]},rl(o,function(l,u,c){if(l.type==="text"&&u!==void 0&&c){const d=c.children[u-1];if(d&&d.type===l.type)return d.value+=l.value,c.children.splice(u,1),d.position&&l.position&&(d.position.end=l.position.end),u-1;if(l.value=l.value.replace(/[\t ]*(\r?\n|\r)[\t ]*/,"$1"),c&&(c.type==="heading"||c.type==="paragraph"||c.type==="root")&&(u||(l.value=l.value.replace(/^[\t ]+/,"")),u===c.children.length-1&&(l.value=l.value.replace(/[\t ]+$/,""))),!l.value)return c.children.splice(u,1),u}}),o}const _v={document:!0};function mV(e,t){return e&&"run"in e?async function(n,r){const i=yv(n,{..._v,...t});await e.run(i,r)}:function(n){return yv(n,{..._v,...e})}}const ko=["ariaDescribedBy","ariaLabel","ariaLabelledBy"],Ev={ancestors:{tbody:["table"],td:["table"],th:["table"],thead:["table"],tfoot:["table"],tr:["table"]},attributes:{a:[...ko,"dataFootnoteBackref","dataFootnoteRef",["className","data-footnote-backref"],"href"],blockquote:["cite"],code:[["className",/^language-./]],del:["cite"],div:["itemScope","itemType"],dl:[...ko],h2:[["className","sr-only"]],img:[...ko,"longDesc","src"],input:[["disabled",!0],["type","checkbox"]],ins:["cite"],li:[["className","task-list-item"]],ol:[...ko,["className","contains-task-list"]],q:["cite"],section:["dataFootnotes",["className","footnotes"]],source:["srcSet"],summary:[...ko],table:[...ko],ul:[...ko,["className","contains-task-list"]],"*":["abbr","accept","acceptCharset","accessKey","action","align","alt","axis","border","cellPadding","cellSpacing","char","charOff","charSet","checked","clear","colSpan","color","cols","compact","coords","dateTime","dir","encType","frame","hSpace","headers","height","hrefLang","htmlFor","id","isMap","itemProp","label","lang","maxLength","media","method","multiple","name","noHref","noShade","noWrap","open","prompt","readOnly","rev","rowSpan","rows","rules","scope","selected","shape","size","span","start","summary","tabIndex","title","useMap","vAlign","value","width"]},clobber:["ariaDescribedBy","ariaLabelledBy","id","name"],clobberPrefix:"user-content-",protocols:{cite:["http","https"],href:["http","https","irc","ircs","mailto","xmpp"],longDesc:["http","https"],src:["http","https"]},required:{input:{disabled:!0,type:"checkbox"}},strip:["script"],tagNames:["a","b","blockquote","br","code","dd","del","details","div","dl","dt","em","h1","h2","h3","h4","h5","h6","hr","i","img","input","ins","kbd","li","ol","p","picture","pre","q","rp","rt","ruby","s","samp","section","source","span","strike","strong","sub","summary","sup","table","tbody","td","tfoot","th","thead","tr","tt","ul","var"]},Ps={}.hasOwnProperty;function gV(e,t){let n={type:"root",children:[]};const r={schema:t?{...Ev,...t}:Ev,stack:[]},i=eO(r,e);return i&&(Array.isArray(i)?i.length===1?n=i[0]:n.children=i:n=i),n}function eO(e,t){if(t&&typeof t=="object"){const n=t;switch(typeof n.type=="string"?n.type:""){case"comment":return bV(e,n);case"doctype":return yV(e,n);case"element":return _V(e,n);case"root":return EV(e,n);case"text":return vV(e,n)}}}function bV(e,t){if(e.schema.allowComments){const n=typeof t.value=="string"?t.value:"",r=n.indexOf("-->"),s={type:"comment",value:r<0?n:n.slice(0,r)};return Uc(s,t),s}}function yV(e,t){if(e.schema.allowDoctypes){const n={type:"doctype"};return Uc(n,t),n}}function _V(e,t){const n=typeof t.tagName=="string"?t.tagName:"";e.stack.push(n);const r=tO(e,t.children),i=TV(e,t.properties);e.stack.pop();let s=!1;if(n&&n!=="*"&&(!e.schema.tagNames||e.schema.tagNames.includes(n))&&(s=!0,e.schema.ancestors&&Ps.call(e.schema.ancestors,n))){const a=e.schema.ancestors[n];let l=-1;for(s=!1;++l<a.length;)e.stack.includes(a[l])&&(s=!0)}if(!s)return e.schema.strip&&!e.schema.strip.includes(n)?r:void 0;const o={type:"element",tagName:n,properties:i,children:r};return Uc(o,t),o}function EV(e,t){const r={type:"root",children:tO(e,t.children)};return Uc(r,t),r}function vV(e,t){const r={type:"text",value:typeof t.value=="string"?t.value:""};return Uc(r,t),r}function tO(e,t){const n=[];if(Array.isArray(t)){const r=t;let i=-1;for(;++i<r.length;){const s=eO(e,r[i]);s&&(Array.isArray(s)?n.push(...s):n.push(s))}}return n}function TV(e,t){const n=e.stack[e.stack.length-1],r=e.schema.attributes,i=e.schema.required,s=r&&Ps.call(r,n)?r[n]:void 0,o=r&&Ps.call(r,"*")?r["*"]:void 0,a=t&&typeof t=="object"?t:{},l={};let u;for(u in a)if(Ps.call(a,u)){const c=a[u];let d=vv(e,Tv(s,u),u,c);d==null&&(d=vv(e,Tv(o,u),u,c)),d!=null&&(l[u]=d)}if(i&&Ps.call(i,n)){const c=i[n];for(u in c)Ps.call(c,u)&&!Ps.call(l,u)&&(l[u]=c[u])}return l}function vv(e,t,n,r){return t?Array.isArray(r)?wV(e,t,n,r):nO(e,t,n,r):void 0}function wV(e,t,n,r){let i=-1;const s=[];for(;++i<r.length;){const o=nO(e,t,n,r[i]);(typeof o=="number"||typeof o=="string")&&s.push(o)}return s}function nO(e,t,n,r){if(!(typeof r!="boolean"&&typeof r!="number"&&typeof r!="string")&&xV(e,n,r)){if(typeof t=="object"&&t.length>1){let i=!1,s=0;for(;++s<t.length;){const o=t[s];if(o&&typeof o=="object"&&"flags"in o){if(o.test(String(r))){i=!0;break}}else if(o===r){i=!0;break}}if(!i)return}return e.schema.clobber&&e.schema.clobberPrefix&&e.schema.clobber.includes(n)?e.schema.clobberPrefix+r:r}}function xV(e,t,n){const r=e.schema.protocols&&Ps.call(e.schema.protocols,t)?e.schema.protocols[t]:void 0;if(!r||r.length===0)return!0;const i=String(n),s=i.indexOf(":"),o=i.indexOf("?"),a=i.indexOf("#"),l=i.indexOf("/");if(s<0||l>-1&&s>l||o>-1&&s>o||a>-1&&s>a)return!0;let u=-1;for(;++u<r.length;){const c=r[u];if(s===c.length&&i.slice(0,c.length)===c)return!0}return!1}function Uc(e,t){const n=Jb(t);t.data&&(e.data=Zo(t.data)),n&&(e.position=n)}function Tv(e,t){let n,r=-1;if(e)for(;++r<e.length;){const i=e[r],s=typeof i=="string"?i:i[0];if(s===t)return i;s==="data*"&&(n=i)}if(t.length>4&&t.slice(0,4).toLowerCase()==="data")return n}function CV(e,t){const n={type:"element",tagName:"blockquote",properties:{},children:e.wrap(e.all(t),!0)};return e.patch(t,n),e.applyData(t,n)}function SV(e,t){const n={type:"element",tagName:"br",properties:{},children:[]};return e.patch(t,n),[e.applyData(t,n),{type:"text",value:`
`}]}function AV(e,t){const n=t.value?t.value+`
`:"",r={};t.lang&&(r.className=["language-"+t.lang]);let i={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return t.meta&&(i.data={meta:t.meta}),e.patch(t,i),i=e.applyData(t,i),i={type:"element",tagName:"pre",properties:{},children:[i]},e.patch(t,i),i}function kV(e,t){const n={type:"element",tagName:"del",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function OV(e,t){const n={type:"element",tagName:"em",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}const ki=yo(/[A-Za-z]/),mr=yo(/[\dA-Za-z]/),IV=yo(/[#-'*+\--9=?A-Z^-~]/);function Yg(e){return e!==null&&(e<32||e===127)}const Gg=yo(/\d/),NV=yo(/[\dA-Fa-f]/),RV=yo(/[!-/:-@[-`{-~]/);function He(e){return e!==null&&e<-2}function tr(e){return e!==null&&(e<0||e===32)}function ct(e){return e===-2||e===-1||e===32}const DV=yo(new RegExp("\\p{P}|\\p{S}","u")),MV=yo(/\s/);function yo(e){return t;function t(n){return n!==null&&n>-1&&e.test(String.fromCharCode(n))}}function Il(e){const t=[];let n=-1,r=0,i=0;for(;++n<e.length;){const s=e.charCodeAt(n);let o="";if(s===37&&mr(e.charCodeAt(n+1))&&mr(e.charCodeAt(n+2)))i=2;else if(s<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(s))||(o=String.fromCharCode(s));else if(s>55295&&s<57344){const a=e.charCodeAt(n+1);s<56320&&a>56319&&a<57344?(o=String.fromCharCode(s,a),i=1):o="�"}else o=String.fromCharCode(s);o&&(t.push(e.slice(r,n),encodeURIComponent(o)),r=n+i+1,o=""),i&&(n+=i,i=0)}return t.join("")+e.slice(r)}function PV(e,t){const n=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",r=String(t.identifier).toUpperCase(),i=Il(r.toLowerCase()),s=e.footnoteOrder.indexOf(r);let o,a=e.footnoteCounts.get(r);a===void 0?(a=0,e.footnoteOrder.push(r),o=e.footnoteOrder.length):o=s+1,a+=1,e.footnoteCounts.set(r,a);const l={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+i,id:n+"fnref-"+i+(a>1?"-"+a:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(o)}]};e.patch(t,l);const u={type:"element",tagName:"sup",properties:{},children:[l]};return e.patch(t,u),e.applyData(t,u)}function LV(e,t){const n={type:"element",tagName:"h"+t.depth,properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function BV(e,t){if(e.options.allowDangerousHtml){const n={type:"raw",value:t.value};return e.patch(t,n),e.applyData(t,n)}}function rO(e,t){const n=t.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(t.label||t.identifier)+"]"),t.type==="imageReference")return[{type:"text",value:"!["+t.alt+r}];const i=e.all(t),s=i[0];s&&s.type==="text"?s.value="["+s.value:i.unshift({type:"text",value:"["});const o=i[i.length-1];return o&&o.type==="text"?o.value+=r:i.push({type:"text",value:r}),i}function $V(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return rO(e,t);const i={src:Il(r.url||""),alt:t.alt};r.title!==null&&r.title!==void 0&&(i.title=r.title);const s={type:"element",tagName:"img",properties:i,children:[]};return e.patch(t,s),e.applyData(t,s)}function FV(e,t){const n={src:Il(t.url)};t.alt!==null&&t.alt!==void 0&&(n.alt=t.alt),t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"img",properties:n,children:[]};return e.patch(t,r),e.applyData(t,r)}function UV(e,t){const n={type:"text",value:t.value.replace(/\r?\n|\r/g," ")};e.patch(t,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return e.patch(t,r),e.applyData(t,r)}function HV(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return rO(e,t);const i={href:Il(r.url||"")};r.title!==null&&r.title!==void 0&&(i.title=r.title);const s={type:"element",tagName:"a",properties:i,children:e.all(t)};return e.patch(t,s),e.applyData(t,s)}function zV(e,t){const n={href:Il(t.url)};t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"a",properties:n,children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function VV(e,t,n){const r=e.all(t),i=n?jV(n):iO(t),s={},o=[];if(typeof t.checked=="boolean"){const c=r[0];let d;c&&c.type==="element"&&c.tagName==="p"?d=c:(d={type:"element",tagName:"p",properties:{},children:[]},r.unshift(d)),d.children.length>0&&d.children.unshift({type:"text",value:" "}),d.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:t.checked,disabled:!0},children:[]}),s.className=["task-list-item"]}let a=-1;for(;++a<r.length;){const c=r[a];(i||a!==0||c.type!=="element"||c.tagName!=="p")&&o.push({type:"text",value:`
`}),c.type==="element"&&c.tagName==="p"&&!i?o.push(...c.children):o.push(c)}const l=r[r.length-1];l&&(i||l.type!=="element"||l.tagName!=="p")&&o.push({type:"text",value:`
`});const u={type:"element",tagName:"li",properties:s,children:o};return e.patch(t,u),e.applyData(t,u)}function jV(e){let t=!1;if(e.type==="list"){t=e.spread||!1;const n=e.children;let r=-1;for(;!t&&++r<n.length;)t=iO(n[r])}return t}function iO(e){const t=e.spread;return t??e.children.length>1}function qV(e,t){const n={},r=e.all(t);let i=-1;for(typeof t.start=="number"&&t.start!==1&&(n.start=t.start);++i<r.length;){const o=r[i];if(o.type==="element"&&o.tagName==="li"&&o.properties&&Array.isArray(o.properties.className)&&o.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const s={type:"element",tagName:t.ordered?"ol":"ul",properties:n,children:e.wrap(r,!0)};return e.patch(t,s),e.applyData(t,s)}function WV(e,t){const n={type:"element",tagName:"p",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function YV(e,t){const n={type:"root",children:e.wrap(e.all(t))};return e.patch(t,n),e.applyData(t,n)}function GV(e,t){const n={type:"element",tagName:"strong",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function KV(e,t){const n=e.all(t),r=n.shift(),i=[];if(r){const o={type:"element",tagName:"thead",properties:{},children:e.wrap([r],!0)};e.patch(t.children[0],o),i.push(o)}if(n.length>0){const o={type:"element",tagName:"tbody",properties:{},children:e.wrap(n,!0)},a=$k(t.children[1]),l=Bk(t.children[t.children.length-1]);a&&l&&(o.position={start:a,end:l}),i.push(o)}const s={type:"element",tagName:"table",properties:{},children:e.wrap(i,!0)};return e.patch(t,s),e.applyData(t,s)}function XV(e,t,n){const r=n?n.children:void 0,s=(r?r.indexOf(t):1)===0?"th":"td",o=n&&n.type==="table"?n.align:void 0,a=o?o.length:t.children.length;let l=-1;const u=[];for(;++l<a;){const d=t.children[l],f={},p=o?o[l]:void 0;p&&(f.align=p);let m={type:"element",tagName:s,properties:f,children:[]};d&&(m.children=e.all(d),e.patch(d,m),m=e.applyData(d,m)),u.push(m)}const c={type:"element",tagName:"tr",properties:{},children:e.wrap(u,!0)};return e.patch(t,c),e.applyData(t,c)}function QV(e,t){const n={type:"element",tagName:"td",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}const wv=9,xv=32;function JV(e){const t=String(e),n=/\r?\n|\r/g;let r=n.exec(t),i=0;const s=[];for(;r;)s.push(Cv(t.slice(i,r.index),i>0,!0),r[0]),i=r.index+r[0].length,r=n.exec(t);return s.push(Cv(t.slice(i),i>0,!1)),s.join("")}function Cv(e,t,n){let r=0,i=e.length;if(t){let s=e.codePointAt(r);for(;s===wv||s===xv;)r++,s=e.codePointAt(r)}if(n){let s=e.codePointAt(i-1);for(;s===wv||s===xv;)i--,s=e.codePointAt(i-1)}return i>r?e.slice(r,i):""}function ZV(e,t){const n={type:"text",value:JV(String(t.value))};return e.patch(t,n),e.applyData(t,n)}function ej(e,t){const n={type:"element",tagName:"hr",properties:{},children:[]};return e.patch(t,n),e.applyData(t,n)}const tj={blockquote:CV,break:SV,code:AV,delete:kV,emphasis:OV,footnoteReference:PV,heading:LV,html:BV,imageReference:$V,image:FV,inlineCode:UV,linkReference:HV,link:zV,listItem:VV,list:qV,paragraph:WV,root:YV,strong:GV,table:KV,tableCell:QV,tableRow:XV,text:ZV,thematicBreak:ej,toml:md,yaml:md,definition:md,footnoteDefinition:md};function md(){}function nj(e,t){const n=[{type:"text",value:"↩"}];return t>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(t)}]}),n}function rj(e,t){return"Back to reference "+(e+1)+(t>1?"-"+t:"")}function ij(e){const t=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",n=e.options.footnoteBackContent||nj,r=e.options.footnoteBackLabel||rj,i=e.options.footnoteLabel||"Footnotes",s=e.options.footnoteLabelTagName||"h2",o=e.options.footnoteLabelProperties||{className:["sr-only"]},a=[];let l=-1;for(;++l<e.footnoteOrder.length;){const u=e.footnoteById.get(e.footnoteOrder[l]);if(!u)continue;const c=e.all(u),d=String(u.identifier).toUpperCase(),f=Il(d.toLowerCase());let p=0;const m=[],g=e.footnoteCounts.get(d);for(;g!==void 0&&++p<=g;){m.length>0&&m.push({type:"text",value:" "});let E=typeof n=="string"?n:n(l,p);typeof E=="string"&&(E={type:"text",value:E}),m.push({type:"element",tagName:"a",properties:{href:"#"+t+"fnref-"+f+(p>1?"-"+p:""),dataFootnoteBackref:"",ariaLabel:typeof r=="string"?r:r(l,p),className:["data-footnote-backref"]},children:Array.isArray(E)?E:[E]})}const b=c[c.length-1];if(b&&b.type==="element"&&b.tagName==="p"){const E=b.children[b.children.length-1];E&&E.type==="text"?E.value+=" ":b.children.push({type:"text",value:" "}),b.children.push(...m)}else c.push(...m);const y={type:"element",tagName:"li",properties:{id:t+"fn-"+f},children:e.wrap(c,!0)};e.patch(u,y),a.push(y)}if(a.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:s,properties:{...Zo(o),id:"footnote-label"},children:[{type:"text",value:i}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:e.wrap(a,!0)},{type:"text",value:`
`}]}}const Kg={}.hasOwnProperty,sj={};function oj(e,t){const n=t||sj,r=new Map,i=new Map,s=new Map,o={...tj,...n.handlers},a={all:u,applyData:lj,definitionById:r,footnoteById:i,footnoteCounts:s,footnoteOrder:[],handlers:o,one:l,options:n,patch:aj,wrap:cj};return rl(e,function(c){if(c.type==="definition"||c.type==="footnoteDefinition"){const d=c.type==="definition"?r:i,f=String(c.identifier).toUpperCase();d.has(f)||d.set(f,c)}}),a;function l(c,d){const f=c.type,p=a.handlers[f];if(Kg.call(a.handlers,f)&&p)return p(a,c,d);if(a.options.passThrough&&a.options.passThrough.includes(f)){if("children"in c){const{children:g,...b}=c,y=Zo(b);return y.children=a.all(c),y}return Zo(c)}return(a.options.unknownHandler||uj)(a,c,d)}function u(c){const d=[];if("children"in c){const f=c.children;let p=-1;for(;++p<f.length;){const m=a.one(f[p],c);if(m){if(p&&f[p-1].type==="break"&&(!Array.isArray(m)&&m.type==="text"&&(m.value=Sv(m.value)),!Array.isArray(m)&&m.type==="element")){const g=m.children[0];g&&g.type==="text"&&(g.value=Sv(g.value))}Array.isArray(m)?d.push(...m):d.push(m)}}}return d}}function aj(e,t){e.position&&(t.position=Jb(e))}function lj(e,t){let n=t;if(e&&e.data){const r=e.data.hName,i=e.data.hChildren,s=e.data.hProperties;if(typeof r=="string")if(n.type==="element")n.tagName=r;else{const o="children"in n?n.children:[n];n={type:"element",tagName:r,properties:{},children:o}}n.type==="element"&&s&&Object.assign(n.properties,Zo(s)),"children"in n&&n.children&&i!==null&&i!==void 0&&(n.children=i)}return n}function uj(e,t){const n=t.data||{},r="value"in t&&!(Kg.call(n,"hProperties")||Kg.call(n,"hChildren"))?{type:"text",value:t.value}:{type:"element",tagName:"div",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function cj(e,t){const n=[];let r=-1;for(t&&n.push({type:"text",value:`
`});++r<e.length;)r&&n.push({type:"text",value:`
`}),n.push(e[r]);return t&&e.length>0&&n.push({type:"text",value:`
`}),n}function Sv(e){let t=0,n=e.charCodeAt(t);for(;n===9||n===32;)t++,n=e.charCodeAt(t);return e.slice(t)}function dj(e,t){const n=oj(e,t),r=n.one(e,void 0),i=ij(n),s=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return i&&s.children.push({type:"text",value:`
`},i),s}const fj=["area","base","basefont","bgsound","br","col","command","embed","frame","hr","image","img","input","keygen","link","meta","param","source","track","wbr"],Av={}.hasOwnProperty;function sO(e,t){const n=t||{};function r(i,...s){let o=r.invalid;const a=r.handlers;if(i&&Av.call(i,e)){const l=String(i[e]);o=Av.call(a,l)?a[l]:r.unknown}if(o)return o.call(this,i,...s)}return r.handlers=n.handlers||{},r.invalid=n.invalid,r.unknown=n.unknown,r}const pj=/["&'<>`]/g,hj=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,mj=/[\x01-\t\v\f\x0E-\x1F\x7F\x81\x8D\x8F\x90\x9D\xA0-\uFFFF]/g,gj=/[|\\{}()[\]^$+*?.]/g,kv=new WeakMap;function bj(e,t){if(e=e.replace(t.subset?yj(t.subset):pj,r),t.subset||t.escapeOnly)return e;return e.replace(hj,n).replace(mj,r);function n(i,s,o){return t.format((i.charCodeAt(0)-55296)*1024+i.charCodeAt(1)-56320+65536,o.charCodeAt(s+2),t)}function r(i,s,o){return t.format(i.charCodeAt(0),o.charCodeAt(s+1),t)}}function yj(e){let t=kv.get(e);return t||(t=_j(e),kv.set(e,t)),t}function _j(e){const t=[];let n=-1;for(;++n<e.length;)t.push(e[n].replace(gj,"\\$&"));return new RegExp("(?:"+t.join("|")+")","g")}const Ej=/[\dA-Fa-f]/;function vj(e,t,n){const r="&#x"+e.toString(16).toUpperCase();return n&&t&&!Ej.test(String.fromCharCode(t))?r:r+";"}const Tj=/\d/;function wj(e,t,n){const r="&#"+String(e);return n&&t&&!Tj.test(String.fromCharCode(t))?r:r+";"}const xj=["AElig","AMP","Aacute","Acirc","Agrave","Aring","Atilde","Auml","COPY","Ccedil","ETH","Eacute","Ecirc","Egrave","Euml","GT","Iacute","Icirc","Igrave","Iuml","LT","Ntilde","Oacute","Ocirc","Ograve","Oslash","Otilde","Ouml","QUOT","REG","THORN","Uacute","Ucirc","Ugrave","Uuml","Yacute","aacute","acirc","acute","aelig","agrave","amp","aring","atilde","auml","brvbar","ccedil","cedil","cent","copy","curren","deg","divide","eacute","ecirc","egrave","eth","euml","frac12","frac14","frac34","gt","iacute","icirc","iexcl","igrave","iquest","iuml","laquo","lt","macr","micro","middot","nbsp","not","ntilde","oacute","ocirc","ograve","ordf","ordm","oslash","otilde","ouml","para","plusmn","pound","quot","raquo","reg","sect","shy","sup1","sup2","sup3","szlig","thorn","times","uacute","ucirc","ugrave","uml","uuml","yacute","yen","yuml"],nm={nbsp:" ",iexcl:"¡",cent:"¢",pound:"£",curren:"¤",yen:"¥",brvbar:"¦",sect:"§",uml:"¨",copy:"©",ordf:"ª",laquo:"«",not:"¬",shy:"­",reg:"®",macr:"¯",deg:"°",plusmn:"±",sup2:"²",sup3:"³",acute:"´",micro:"µ",para:"¶",middot:"·",cedil:"¸",sup1:"¹",ordm:"º",raquo:"»",frac14:"¼",frac12:"½",frac34:"¾",iquest:"¿",Agrave:"À",Aacute:"Á",Acirc:"Â",Atilde:"Ã",Auml:"Ä",Aring:"Å",AElig:"Æ",Ccedil:"Ç",Egrave:"È",Eacute:"É",Ecirc:"Ê",Euml:"Ë",Igrave:"Ì",Iacute:"Í",Icirc:"Î",Iuml:"Ï",ETH:"Ð",Ntilde:"Ñ",Ograve:"Ò",Oacute:"Ó",Ocirc:"Ô",Otilde:"Õ",Ouml:"Ö",times:"×",Oslash:"Ø",Ugrave:"Ù",Uacute:"Ú",Ucirc:"Û",Uuml:"Ü",Yacute:"Ý",THORN:"Þ",szlig:"ß",agrave:"à",aacute:"á",acirc:"â",atilde:"ã",auml:"ä",aring:"å",aelig:"æ",ccedil:"ç",egrave:"è",eacute:"é",ecirc:"ê",euml:"ë",igrave:"ì",iacute:"í",icirc:"î",iuml:"ï",eth:"ð",ntilde:"ñ",ograve:"ò",oacute:"ó",ocirc:"ô",otilde:"õ",ouml:"ö",divide:"÷",oslash:"ø",ugrave:"ù",uacute:"ú",ucirc:"û",uuml:"ü",yacute:"ý",thorn:"þ",yuml:"ÿ",fnof:"ƒ",Alpha:"Α",Beta:"Β",Gamma:"Γ",Delta:"Δ",Epsilon:"Ε",Zeta:"Ζ",Eta:"Η",Theta:"Θ",Iota:"Ι",Kappa:"Κ",Lambda:"Λ",Mu:"Μ",Nu:"Ν",Xi:"Ξ",Omicron:"Ο",Pi:"Π",Rho:"Ρ",Sigma:"Σ",Tau:"Τ",Upsilon:"Υ",Phi:"Φ",Chi:"Χ",Psi:"Ψ",Omega:"Ω",alpha:"α",beta:"β",gamma:"γ",delta:"δ",epsilon:"ε",zeta:"ζ",eta:"η",theta:"θ",iota:"ι",kappa:"κ",lambda:"λ",mu:"μ",nu:"ν",xi:"ξ",omicron:"ο",pi:"π",rho:"ρ",sigmaf:"ς",sigma:"σ",tau:"τ",upsilon:"υ",phi:"φ",chi:"χ",psi:"ψ",omega:"ω",thetasym:"ϑ",upsih:"ϒ",piv:"ϖ",bull:"•",hellip:"…",prime:"′",Prime:"″",oline:"‾",frasl:"⁄",weierp:"℘",image:"ℑ",real:"ℜ",trade:"™",alefsym:"ℵ",larr:"←",uarr:"↑",rarr:"→",darr:"↓",harr:"↔",crarr:"↵",lArr:"⇐",uArr:"⇑",rArr:"⇒",dArr:"⇓",hArr:"⇔",forall:"∀",part:"∂",exist:"∃",empty:"∅",nabla:"∇",isin:"∈",notin:"∉",ni:"∋",prod:"∏",sum:"∑",minus:"−",lowast:"∗",radic:"√",prop:"∝",infin:"∞",ang:"∠",and:"∧",or:"∨",cap:"∩",cup:"∪",int:"∫",there4:"∴",sim:"∼",cong:"≅",asymp:"≈",ne:"≠",equiv:"≡",le:"≤",ge:"≥",sub:"⊂",sup:"⊃",nsub:"⊄",sube:"⊆",supe:"⊇",oplus:"⊕",otimes:"⊗",perp:"⊥",sdot:"⋅",lceil:"⌈",rceil:"⌉",lfloor:"⌊",rfloor:"⌋",lang:"〈",rang:"〉",loz:"◊",spades:"♠",clubs:"♣",hearts:"♥",diams:"♦",quot:'"',amp:"&",lt:"<",gt:">",OElig:"Œ",oelig:"œ",Scaron:"Š",scaron:"š",Yuml:"Ÿ",circ:"ˆ",tilde:"˜",ensp:" ",emsp:" ",thinsp:" ",zwnj:"‌",zwj:"‍",lrm:"‎",rlm:"‏",ndash:"–",mdash:"—",lsquo:"‘",rsquo:"’",sbquo:"‚",ldquo:"“",rdquo:"”",bdquo:"„",dagger:"†",Dagger:"‡",permil:"‰",lsaquo:"‹",rsaquo:"›",euro:"€"},Cj=["cent","copy","divide","gt","lt","not","para","times"],oO={}.hasOwnProperty,Xg={};let gd;for(gd in nm)oO.call(nm,gd)&&(Xg[nm[gd]]=gd);const Sj=/[^\dA-Za-z]/;function Aj(e,t,n,r){const i=String.fromCharCode(e);if(oO.call(Xg,i)){const s=Xg[i],o="&"+s;return n&&xj.includes(s)&&!Cj.includes(s)&&(!r||t&&t!==61&&Sj.test(String.fromCharCode(t)))?o:o+";"}return""}function kj(e,t,n){let r=vj(e,t,n.omitOptionalSemicolons),i;if((n.useNamedReferences||n.useShortestReferences)&&(i=Aj(e,t,n.omitOptionalSemicolons,n.attribute)),(n.useShortestReferences||!i)&&n.useShortestReferences){const s=wj(e,t,n.omitOptionalSemicolons);s.length<r.length&&(r=s)}return i&&(!n.useShortestReferences||i.length<r.length)?i:r}function ja(e,t){return bj(e,Object.assign({format:kj},t))}const Oj=/^>|^->|<!--|-->|--!>|<!-$/g,Ij=[">"],Nj=["<",">"];function Rj(e,t,n,r){return r.settings.bogusComments?"<?"+ja(e.value,Object.assign({},r.settings.characterReferences,{subset:Ij}))+">":"<!--"+e.value.replace(Oj,i)+"-->";function i(s){return ja(s,Object.assign({},r.settings.characterReferences,{subset:Nj}))}}function Dj(e,t,n,r){return"<!"+(r.settings.upperDoctype?"DOCTYPE":"doctype")+(r.settings.tightDoctype?"":" ")+"html>"}function Ov(e,t){const n=String(e);if(typeof t!="string")throw new TypeError("Expected character");let r=0,i=n.indexOf(t);for(;i!==-1;)r++,i=n.indexOf(t,i+t.length);return r}const en=lO(1),aO=lO(-1),Mj=[];function lO(e){return t;function t(n,r,i){const s=n?n.children:Mj;let o=(r||0)+e,a=s[o];if(!i)for(;a&&Bc(a);)o+=e,a=s[o];return a}}const Pj={}.hasOwnProperty;function uO(e){return t;function t(n,r,i){return Pj.call(e,n.tagName)&&e[n.tagName](n,r,i)}}const t1=uO({body:Bj,caption:rm,colgroup:rm,dd:Hj,dt:Uj,head:rm,html:Lj,li:Fj,optgroup:zj,option:Vj,p:$j,rp:Iv,rt:Iv,tbody:qj,td:Nv,tfoot:Wj,th:Nv,thead:jj,tr:Yj});function rm(e,t,n){const r=en(n,t,!0);return!r||r.type!=="comment"&&!(r.type==="text"&&Bc(r.value.charAt(0)))}function Lj(e,t,n){const r=en(n,t);return!r||r.type!=="comment"}function Bj(e,t,n){const r=en(n,t);return!r||r.type!=="comment"}function $j(e,t,n){const r=en(n,t);return r?r.type==="element"&&(r.tagName==="address"||r.tagName==="article"||r.tagName==="aside"||r.tagName==="blockquote"||r.tagName==="details"||r.tagName==="div"||r.tagName==="dl"||r.tagName==="fieldset"||r.tagName==="figcaption"||r.tagName==="figure"||r.tagName==="footer"||r.tagName==="form"||r.tagName==="h1"||r.tagName==="h2"||r.tagName==="h3"||r.tagName==="h4"||r.tagName==="h5"||r.tagName==="h6"||r.tagName==="header"||r.tagName==="hgroup"||r.tagName==="hr"||r.tagName==="main"||r.tagName==="menu"||r.tagName==="nav"||r.tagName==="ol"||r.tagName==="p"||r.tagName==="pre"||r.tagName==="section"||r.tagName==="table"||r.tagName==="ul"):!n||!(n.type==="element"&&(n.tagName==="a"||n.tagName==="audio"||n.tagName==="del"||n.tagName==="ins"||n.tagName==="map"||n.tagName==="noscript"||n.tagName==="video"))}function Fj(e,t,n){const r=en(n,t);return!r||r.type==="element"&&r.tagName==="li"}function Uj(e,t,n){const r=en(n,t);return!!(r&&r.type==="element"&&(r.tagName==="dt"||r.tagName==="dd"))}function Hj(e,t,n){const r=en(n,t);return!r||r.type==="element"&&(r.tagName==="dt"||r.tagName==="dd")}function Iv(e,t,n){const r=en(n,t);return!r||r.type==="element"&&(r.tagName==="rp"||r.tagName==="rt")}function zj(e,t,n){const r=en(n,t);return!r||r.type==="element"&&r.tagName==="optgroup"}function Vj(e,t,n){const r=en(n,t);return!r||r.type==="element"&&(r.tagName==="option"||r.tagName==="optgroup")}function jj(e,t,n){const r=en(n,t);return!!(r&&r.type==="element"&&(r.tagName==="tbody"||r.tagName==="tfoot"))}function qj(e,t,n){const r=en(n,t);return!r||r.type==="element"&&(r.tagName==="tbody"||r.tagName==="tfoot")}function Wj(e,t,n){return!en(n,t)}function Yj(e,t,n){const r=en(n,t);return!r||r.type==="element"&&r.tagName==="tr"}function Nv(e,t,n){const r=en(n,t);return!r||r.type==="element"&&(r.tagName==="td"||r.tagName==="th")}const Gj=uO({body:Qj,colgroup:Jj,head:Xj,html:Kj,tbody:Zj});function Kj(e){const t=en(e,-1);return!t||t.type!=="comment"}function Xj(e){const t=new Set;for(const r of e.children)if(r.type==="element"&&(r.tagName==="base"||r.tagName==="title")){if(t.has(r.tagName))return!1;t.add(r.tagName)}const n=e.children[0];return!n||n.type==="element"}function Qj(e){const t=en(e,-1,!0);return!t||t.type!=="comment"&&!(t.type==="text"&&Bc(t.value.charAt(0)))&&!(t.type==="element"&&(t.tagName==="meta"||t.tagName==="link"||t.tagName==="script"||t.tagName==="style"||t.tagName==="template"))}function Jj(e,t,n){const r=aO(n,t),i=en(e,-1,!0);return n&&r&&r.type==="element"&&r.tagName==="colgroup"&&t1(r,n.children.indexOf(r),n)?!1:!!(i&&i.type==="element"&&i.tagName==="col")}function Zj(e,t,n){const r=aO(n,t),i=en(e,-1);return n&&r&&r.type==="element"&&(r.tagName==="thead"||r.tagName==="tbody")&&t1(r,n.children.indexOf(r),n)?!1:!!(i&&i.type==="element"&&i.tagName==="tr")}const bd={name:[[`	
\f\r &/=>`.split(""),`	
\f\r "&'/=>\``.split("")],[`\0	
\f\r "&'/<=>`.split(""),`\0	
\f\r "&'/<=>\``.split("")]],unquoted:[[`	
\f\r &>`.split(""),`\0	
\f\r "&'<=>\``.split("")],[`\0	
\f\r "&'<=>\``.split(""),`\0	
\f\r "&'<=>\``.split("")]],single:[["&'".split(""),"\"&'`".split("")],["\0&'".split(""),"\0\"&'`".split("")]],double:[['"&'.split(""),"\"&'`".split("")],['\0"&'.split(""),"\0\"&'`".split("")]]};function eq(e,t,n,r){const i=r.schema,s=i.space==="svg"?!1:r.settings.omitOptionalTags;let o=i.space==="svg"?r.settings.closeEmptyElements:r.settings.voids.includes(e.tagName.toLowerCase());const a=[];let l;i.space==="html"&&e.tagName==="svg"&&(r.schema=Mc);const u=tq(r,e.properties),c=r.all(i.space==="html"&&e.tagName==="template"?e.content:e);return r.schema=i,c&&(o=!1),(u||!s||!Gj(e,t,n))&&(a.push("<",e.tagName,u?" "+u:""),o&&(i.space==="svg"||r.settings.closeSelfClosing)&&(l=u.charAt(u.length-1),(!r.settings.tightSelfClosing||l==="/"||l&&l!=='"'&&l!=="'")&&a.push(" "),a.push("/")),a.push(">")),a.push(c),!o&&(!s||!t1(e,t,n))&&a.push("</"+e.tagName+">"),a.join("")}function tq(e,t){const n=[];let r=-1,i;if(t){for(i in t)if(t[i]!==null&&t[i]!==void 0){const s=nq(e,i,t[i]);s&&n.push(s)}}for(;++r<n.length;){const s=e.settings.tightAttributes?n[r].charAt(n[r].length-1):void 0;r!==n.length-1&&s!=='"'&&s!=="'"&&(n[r]+=" ")}return n.join("")}function nq(e,t,n){const r=Fb(e.schema,t),i=e.settings.allowParseErrors&&e.schema.space==="html"?0:1,s=e.settings.allowDangerousCharacters?0:1;let o=e.quote,a;if(r.overloadedBoolean&&(n===r.attribute||n==="")?n=!0:(r.boolean||r.overloadedBoolean)&&(typeof n!="string"||n===r.attribute||n==="")&&(n=!!n),n==null||n===!1||typeof n=="number"&&Number.isNaN(n))return"";const l=ja(r.attribute,Object.assign({},e.settings.characterReferences,{subset:bd.name[i][s]}));return n===!0||(n=Array.isArray(n)?(r.commaSeparated?wU:CU)(n,{padLeft:!e.settings.tightCommaSeparatedLists}):String(n),e.settings.collapseEmptyAttributes&&!n)?l:(e.settings.preferUnquoted&&(a=ja(n,Object.assign({},e.settings.characterReferences,{attribute:!0,subset:bd.unquoted[i][s]}))),a!==n&&(e.settings.quoteSmart&&Ov(n,o)>Ov(n,e.alternative)&&(o=e.alternative),a=o+ja(n,Object.assign({},e.settings.characterReferences,{subset:(o==="'"?bd.single:bd.double)[i][s],attribute:!0}))+o),l+(a&&"="+a))}const rq=["<","&"];function cO(e,t,n,r){return n&&n.type==="element"&&(n.tagName==="script"||n.tagName==="style")?e.value:ja(e.value,Object.assign({},r.settings.characterReferences,{subset:rq}))}function iq(e,t,n,r){return r.settings.allowDangerousHtml?e.value:cO(e,t,n,r)}function sq(e,t,n,r){return r.all(e)}const oq=sO("type",{invalid:aq,unknown:lq,handlers:{comment:Rj,doctype:Dj,element:eq,raw:iq,root:sq,text:cO}});function aq(e){throw new Error("Expected node, not `"+e+"`")}function lq(e){const t=e;throw new Error("Cannot compile unknown node `"+t.type+"`")}const uq={},cq={},dq=[];function fq(e,t){const n=t||uq,r=n.quote||'"',i=r==='"'?"'":'"';if(r!=='"'&&r!=="'")throw new Error("Invalid quote `"+r+"`, expected `'` or `\"`");return{one:pq,all:hq,settings:{omitOptionalTags:n.omitOptionalTags||!1,allowParseErrors:n.allowParseErrors||!1,allowDangerousCharacters:n.allowDangerousCharacters||!1,quoteSmart:n.quoteSmart||!1,preferUnquoted:n.preferUnquoted||!1,tightAttributes:n.tightAttributes||!1,upperDoctype:n.upperDoctype||!1,tightDoctype:n.tightDoctype||!1,bogusComments:n.bogusComments||!1,tightCommaSeparatedLists:n.tightCommaSeparatedLists||!1,tightSelfClosing:n.tightSelfClosing||!1,collapseEmptyAttributes:n.collapseEmptyAttributes||!1,allowDangerousHtml:n.allowDangerousHtml||!1,voids:n.voids||fj,characterReferences:n.characterReferences||cq,closeSelfClosing:n.closeSelfClosing||!1,closeEmptyElements:n.closeEmptyElements||!1},schema:n.space==="svg"?Mc:Op,quote:r,alternative:i}.one(Array.isArray(e)?{type:"root",children:e}:e,void 0,void 0)}function pq(e,t,n){return oq(e,t,n,this)}function hq(e){const t=[],n=e&&e.children||dq;let r=-1;for(;++r<n.length;)t[r]=this.one(n[r],r,e);return t.join("")}const mq={};function gq(e){const t=this,{handlers:n,sanitize:r,...i}=e||mq;let s=!1,o;typeof r=="boolean"?s=!r:r&&(o=r),t.compiler=a;function a(l,u){const c=dj(l,{handlers:n,allowDangerousHtml:s}),d=s?c:gV(c,o),f=fq(d,{...i,allowDangerousHtml:s});return u.extname&&(u.extname=".html"),l&&l.type==="root"&&f&&/[^\r\n]/.test(f.charAt(f.length-1))?f+`
`:f}}const Rv=document.createElement("i");function n1(e){const t="&"+e+";";Rv.innerHTML=t;const n=Rv.textContent;return n.charCodeAt(n.length-1)===59&&e!=="semi"||n===t?!1:n}function Bi(e,t,n,r){const i=e.length;let s=0,o;if(t<0?t=-t>i?0:i+t:t=t>i?i:t,n=n>0?n:0,r.length<1e4)o=Array.from(r),o.unshift(t,n),e.splice(...o);else for(n&&e.splice(t,n);s<r.length;)o=r.slice(s,s+1e4),o.unshift(t,0),e.splice(...o),s+=1e4,t+=1e4}function Ir(e,t){return e.length>0?(Bi(e,e.length,0,t),e):t}const Dv={}.hasOwnProperty;function bq(e){const t={};let n=-1;for(;++n<e.length;)yq(t,e[n]);return t}function yq(e,t){let n;for(n in t){const i=(Dv.call(e,n)?e[n]:void 0)||(e[n]={}),s=t[n];let o;if(s)for(o in s){Dv.call(i,o)||(i[o]=[]);const a=s[o];_q(i[o],Array.isArray(a)?a:a?[a]:[])}}}function _q(e,t){let n=-1;const r=[];for(;++n<t.length;)(t[n].add==="after"?e:r).push(t[n]);Bi(e,0,0,r)}function dO(e,t){const n=Number.parseInt(e,t);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"�":String.fromCodePoint(n)}function qa(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}function St(e,t,n,r){const i=r?r-1:Number.POSITIVE_INFINITY;let s=0;return o;function o(l){return ct(l)?(e.enter(n),a(l)):t(l)}function a(l){return ct(l)&&s++<i?(e.consume(l),a):(e.exit(n),t(l))}}const Eq={tokenize:vq};function vq(e){const t=e.attempt(this.parser.constructs.contentInitial,r,i);let n;return t;function r(a){if(a===null){e.consume(a);return}return e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),St(e,t,"linePrefix")}function i(a){return e.enter("paragraph"),s(a)}function s(a){const l=e.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=l),n=l,o(a)}function o(a){if(a===null){e.exit("chunkText"),e.exit("paragraph"),e.consume(a);return}return He(a)?(e.consume(a),e.exit("chunkText"),s):(e.consume(a),o)}}const Tq={tokenize:wq},Mv={tokenize:xq};function wq(e){const t=this,n=[];let r=0,i,s,o;return a;function a(T){if(r<n.length){const C=n[r];return t.containerState=C[1],e.attempt(C[0].continuation,l,u)(T)}return u(T)}function l(T){if(r++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,i&&E();const C=t.events.length;let D=C,_;for(;D--;)if(t.events[D][0]==="exit"&&t.events[D][1].type==="chunkFlow"){_=t.events[D][1].end;break}y(r);let M=C;for(;M<t.events.length;)t.events[M][1].end={..._},M++;return Bi(t.events,D+1,0,t.events.slice(C)),t.events.length=M,u(T)}return a(T)}function u(T){if(r===n.length){if(!i)return f(T);if(i.currentConstruct&&i.currentConstruct.concrete)return m(T);t.interrupt=!!(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return t.containerState={},e.check(Mv,c,d)(T)}function c(T){return i&&E(),y(r),f(T)}function d(T){return t.parser.lazy[t.now().line]=r!==n.length,o=t.now().offset,m(T)}function f(T){return t.containerState={},e.attempt(Mv,p,m)(T)}function p(T){return r++,n.push([t.currentConstruct,t.containerState]),f(T)}function m(T){if(T===null){i&&E(),y(0),e.consume(T);return}return i=i||t.parser.flow(t.now()),e.enter("chunkFlow",{_tokenizer:i,contentType:"flow",previous:s}),g(T)}function g(T){if(T===null){b(e.exit("chunkFlow"),!0),y(0),e.consume(T);return}return He(T)?(e.consume(T),b(e.exit("chunkFlow")),r=0,t.interrupt=void 0,a):(e.consume(T),g)}function b(T,C){const D=t.sliceStream(T);if(C&&D.push(null),T.previous=s,s&&(s.next=T),s=T,i.defineSkip(T.start),i.write(D),t.parser.lazy[T.start.line]){let _=i.events.length;for(;_--;)if(i.events[_][1].start.offset<o&&(!i.events[_][1].end||i.events[_][1].end.offset>o))return;const M=t.events.length;let G=M,B,K;for(;G--;)if(t.events[G][0]==="exit"&&t.events[G][1].type==="chunkFlow"){if(B){K=t.events[G][1].end;break}B=!0}for(y(r),_=M;_<t.events.length;)t.events[_][1].end={...K},_++;Bi(t.events,G+1,0,t.events.slice(M)),t.events.length=_}}function y(T){let C=n.length;for(;C-- >T;){const D=n[C];t.containerState=D[1],D[0].exit.call(t,e)}n.length=T}function E(){i.write([null]),s=void 0,i=void 0,t.containerState._closeFlow=void 0}}function xq(e,t,n){return St(e,e.attempt(this.parser.constructs.document,t,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function Mf(e){if(e===null||tr(e)||MV(e))return 1;if(DV(e))return 2}function r1(e,t,n){const r=[];let i=-1;for(;++i<e.length;){const s=e[i].resolveAll;s&&!r.includes(s)&&(t=s(t,n),r.push(s))}return t}const Qg={name:"attention",resolveAll:Cq,tokenize:Sq};function Cq(e,t){let n=-1,r,i,s,o,a,l,u,c;for(;++n<e.length;)if(e[n][0]==="enter"&&e[n][1].type==="attentionSequence"&&e[n][1]._close){for(r=n;r--;)if(e[r][0]==="exit"&&e[r][1].type==="attentionSequence"&&e[r][1]._open&&t.sliceSerialize(e[r][1]).charCodeAt(0)===t.sliceSerialize(e[n][1]).charCodeAt(0)){if((e[r][1]._close||e[n][1]._open)&&(e[n][1].end.offset-e[n][1].start.offset)%3&&!((e[r][1].end.offset-e[r][1].start.offset+e[n][1].end.offset-e[n][1].start.offset)%3))continue;l=e[r][1].end.offset-e[r][1].start.offset>1&&e[n][1].end.offset-e[n][1].start.offset>1?2:1;const d={...e[r][1].end},f={...e[n][1].start};Pv(d,-l),Pv(f,l),o={type:l>1?"strongSequence":"emphasisSequence",start:d,end:{...e[r][1].end}},a={type:l>1?"strongSequence":"emphasisSequence",start:{...e[n][1].start},end:f},s={type:l>1?"strongText":"emphasisText",start:{...e[r][1].end},end:{...e[n][1].start}},i={type:l>1?"strong":"emphasis",start:{...o.start},end:{...a.end}},e[r][1].end={...o.start},e[n][1].start={...a.end},u=[],e[r][1].end.offset-e[r][1].start.offset&&(u=Ir(u,[["enter",e[r][1],t],["exit",e[r][1],t]])),u=Ir(u,[["enter",i,t],["enter",o,t],["exit",o,t],["enter",s,t]]),u=Ir(u,r1(t.parser.constructs.insideSpan.null,e.slice(r+1,n),t)),u=Ir(u,[["exit",s,t],["enter",a,t],["exit",a,t],["exit",i,t]]),e[n][1].end.offset-e[n][1].start.offset?(c=2,u=Ir(u,[["enter",e[n][1],t],["exit",e[n][1],t]])):c=0,Bi(e,r-1,n-r+3,u),n=r+u.length-c-2;break}}for(n=-1;++n<e.length;)e[n][1].type==="attentionSequence"&&(e[n][1].type="data");return e}function Sq(e,t){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,i=Mf(r);let s;return o;function o(l){return s=l,e.enter("attentionSequence"),a(l)}function a(l){if(l===s)return e.consume(l),a;const u=e.exit("attentionSequence"),c=Mf(l),d=!c||c===2&&i||n.includes(l),f=!i||i===2&&c||n.includes(r);return u._open=!!(s===42?d:d&&(i||!f)),u._close=!!(s===42?f:f&&(c||!d)),t(l)}}function Pv(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}const Aq={name:"autolink",tokenize:kq};function kq(e,t,n){let r=0;return i;function i(p){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(p),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),s}function s(p){return ki(p)?(e.consume(p),o):p===64?n(p):u(p)}function o(p){return p===43||p===45||p===46||mr(p)?(r=1,a(p)):u(p)}function a(p){return p===58?(e.consume(p),r=0,l):(p===43||p===45||p===46||mr(p))&&r++<32?(e.consume(p),a):(r=0,u(p))}function l(p){return p===62?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(p),e.exit("autolinkMarker"),e.exit("autolink"),t):p===null||p===32||p===60||Yg(p)?n(p):(e.consume(p),l)}function u(p){return p===64?(e.consume(p),c):IV(p)?(e.consume(p),u):n(p)}function c(p){return mr(p)?d(p):n(p)}function d(p){return p===46?(e.consume(p),r=0,c):p===62?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(p),e.exit("autolinkMarker"),e.exit("autolink"),t):f(p)}function f(p){if((p===45||mr(p))&&r++<63){const m=p===45?f:d;return e.consume(p),m}return n(p)}}const Fp={partial:!0,tokenize:Oq};function Oq(e,t,n){return r;function r(s){return ct(s)?St(e,i,"linePrefix")(s):i(s)}function i(s){return s===null||He(s)?t(s):n(s)}}const fO={continuation:{tokenize:Nq},exit:Rq,name:"blockQuote",tokenize:Iq};function Iq(e,t,n){const r=this;return i;function i(o){if(o===62){const a=r.containerState;return a.open||(e.enter("blockQuote",{_container:!0}),a.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(o),e.exit("blockQuoteMarker"),s}return n(o)}function s(o){return ct(o)?(e.enter("blockQuotePrefixWhitespace"),e.consume(o),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(o))}}function Nq(e,t,n){const r=this;return i;function i(o){return ct(o)?St(e,s,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(o):s(o)}function s(o){return e.attempt(fO,t,n)(o)}}function Rq(e){e.exit("blockQuote")}const pO={name:"characterEscape",tokenize:Dq};function Dq(e,t,n){return r;function r(s){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(s),e.exit("escapeMarker"),i}function i(s){return RV(s)?(e.enter("characterEscapeValue"),e.consume(s),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):n(s)}}const hO={name:"characterReference",tokenize:Mq};function Mq(e,t,n){const r=this;let i=0,s,o;return a;function a(d){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(d),e.exit("characterReferenceMarker"),l}function l(d){return d===35?(e.enter("characterReferenceMarkerNumeric"),e.consume(d),e.exit("characterReferenceMarkerNumeric"),u):(e.enter("characterReferenceValue"),s=31,o=mr,c(d))}function u(d){return d===88||d===120?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(d),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),s=6,o=NV,c):(e.enter("characterReferenceValue"),s=7,o=Gg,c(d))}function c(d){if(d===59&&i){const f=e.exit("characterReferenceValue");return o===mr&&!n1(r.sliceSerialize(f))?n(d):(e.enter("characterReferenceMarker"),e.consume(d),e.exit("characterReferenceMarker"),e.exit("characterReference"),t)}return o(d)&&i++<s?(e.consume(d),c):n(d)}}const Lv={partial:!0,tokenize:Lq},Bv={concrete:!0,name:"codeFenced",tokenize:Pq};function Pq(e,t,n){const r=this,i={partial:!0,tokenize:D};let s=0,o=0,a;return l;function l(_){return u(_)}function u(_){const M=r.events[r.events.length-1];return s=M&&M[1].type==="linePrefix"?M[2].sliceSerialize(M[1],!0).length:0,a=_,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),c(_)}function c(_){return _===a?(o++,e.consume(_),c):o<3?n(_):(e.exit("codeFencedFenceSequence"),ct(_)?St(e,d,"whitespace")(_):d(_))}function d(_){return _===null||He(_)?(e.exit("codeFencedFence"),r.interrupt?t(_):e.check(Lv,g,C)(_)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),f(_))}function f(_){return _===null||He(_)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),d(_)):ct(_)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),St(e,p,"whitespace")(_)):_===96&&_===a?n(_):(e.consume(_),f)}function p(_){return _===null||He(_)?d(_):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),m(_))}function m(_){return _===null||He(_)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),d(_)):_===96&&_===a?n(_):(e.consume(_),m)}function g(_){return e.attempt(i,C,b)(_)}function b(_){return e.enter("lineEnding"),e.consume(_),e.exit("lineEnding"),y}function y(_){return s>0&&ct(_)?St(e,E,"linePrefix",s+1)(_):E(_)}function E(_){return _===null||He(_)?e.check(Lv,g,C)(_):(e.enter("codeFlowValue"),T(_))}function T(_){return _===null||He(_)?(e.exit("codeFlowValue"),E(_)):(e.consume(_),T)}function C(_){return e.exit("codeFenced"),t(_)}function D(_,M,G){let B=0;return K;function K(me){return _.enter("lineEnding"),_.consume(me),_.exit("lineEnding"),V}function V(me){return _.enter("codeFencedFence"),ct(me)?St(_,H,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(me):H(me)}function H(me){return me===a?(_.enter("codeFencedFenceSequence"),te(me)):G(me)}function te(me){return me===a?(B++,_.consume(me),te):B>=o?(_.exit("codeFencedFenceSequence"),ct(me)?St(_,Ee,"whitespace")(me):Ee(me)):G(me)}function Ee(me){return me===null||He(me)?(_.exit("codeFencedFence"),M(me)):G(me)}}}function Lq(e,t,n){const r=this;return i;function i(o){return o===null?n(o):(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),s)}function s(o){return r.parser.lazy[r.now().line]?n(o):t(o)}}const im={name:"codeIndented",tokenize:$q},Bq={partial:!0,tokenize:Fq};function $q(e,t,n){const r=this;return i;function i(u){return e.enter("codeIndented"),St(e,s,"linePrefix",5)(u)}function s(u){const c=r.events[r.events.length-1];return c&&c[1].type==="linePrefix"&&c[2].sliceSerialize(c[1],!0).length>=4?o(u):n(u)}function o(u){return u===null?l(u):He(u)?e.attempt(Bq,o,l)(u):(e.enter("codeFlowValue"),a(u))}function a(u){return u===null||He(u)?(e.exit("codeFlowValue"),o(u)):(e.consume(u),a)}function l(u){return e.exit("codeIndented"),t(u)}}function Fq(e,t,n){const r=this;return i;function i(o){return r.parser.lazy[r.now().line]?n(o):He(o)?(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),i):St(e,s,"linePrefix",5)(o)}function s(o){const a=r.events[r.events.length-1];return a&&a[1].type==="linePrefix"&&a[2].sliceSerialize(a[1],!0).length>=4?t(o):He(o)?i(o):n(o)}}const Uq={name:"codeText",previous:zq,resolve:Hq,tokenize:Vq};function Hq(e){let t=e.length-4,n=3,r,i;if((e[n][1].type==="lineEnding"||e[n][1].type==="space")&&(e[t][1].type==="lineEnding"||e[t][1].type==="space")){for(r=n;++r<t;)if(e[r][1].type==="codeTextData"){e[n][1].type="codeTextPadding",e[t][1].type="codeTextPadding",n+=2,t-=2;break}}for(r=n-1,t++;++r<=t;)i===void 0?r!==t&&e[r][1].type!=="lineEnding"&&(i=r):(r===t||e[r][1].type==="lineEnding")&&(e[i][1].type="codeTextData",r!==i+2&&(e[i][1].end=e[r-1][1].end,e.splice(i+2,r-i-2),t-=r-i-2,r=i+2),i=void 0);return e}function zq(e){return e!==96||this.events[this.events.length-1][1].type==="characterEscape"}function Vq(e,t,n){let r=0,i,s;return o;function o(d){return e.enter("codeText"),e.enter("codeTextSequence"),a(d)}function a(d){return d===96?(e.consume(d),r++,a):(e.exit("codeTextSequence"),l(d))}function l(d){return d===null?n(d):d===32?(e.enter("space"),e.consume(d),e.exit("space"),l):d===96?(s=e.enter("codeTextSequence"),i=0,c(d)):He(d)?(e.enter("lineEnding"),e.consume(d),e.exit("lineEnding"),l):(e.enter("codeTextData"),u(d))}function u(d){return d===null||d===32||d===96||He(d)?(e.exit("codeTextData"),l(d)):(e.consume(d),u)}function c(d){return d===96?(e.consume(d),i++,c):i===r?(e.exit("codeTextSequence"),e.exit("codeText"),t(d)):(s.type="codeTextData",u(d))}}class jq{constructor(t){this.left=t?[...t]:[],this.right=[]}get(t){if(t<0||t>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+t+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return t<this.left.length?this.left[t]:this.right[this.right.length-t+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(t,n){const r=n??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(t,r):t>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-t+this.left.length).reverse():this.left.slice(t).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(t,n,r){const i=n||0;this.setCursor(Math.trunc(t));const s=this.right.splice(this.right.length-i,Number.POSITIVE_INFINITY);return r&&Ql(this.left,r),s.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(t){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(t)}pushMany(t){this.setCursor(Number.POSITIVE_INFINITY),Ql(this.left,t)}unshift(t){this.setCursor(0),this.right.push(t)}unshiftMany(t){this.setCursor(0),Ql(this.right,t.reverse())}setCursor(t){if(!(t===this.left.length||t>this.left.length&&this.right.length===0||t<0&&this.left.length===0))if(t<this.left.length){const n=this.left.splice(t,Number.POSITIVE_INFINITY);Ql(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-t,Number.POSITIVE_INFINITY);Ql(this.left,n.reverse())}}}function Ql(e,t){let n=0;if(t.length<1e4)e.push(...t);else for(;n<t.length;)e.push(...t.slice(n,n+1e4)),n+=1e4}function mO(e){const t={};let n=-1,r,i,s,o,a,l,u;const c=new jq(e);for(;++n<c.length;){for(;n in t;)n=t[n];if(r=c.get(n),n&&r[1].type==="chunkFlow"&&c.get(n-1)[1].type==="listItemPrefix"&&(l=r[1]._tokenizer.events,s=0,s<l.length&&l[s][1].type==="lineEndingBlank"&&(s+=2),s<l.length&&l[s][1].type==="content"))for(;++s<l.length&&l[s][1].type!=="content";)l[s][1].type==="chunkText"&&(l[s][1]._isInFirstContentOfListItem=!0,s++);if(r[0]==="enter")r[1].contentType&&(Object.assign(t,qq(c,n)),n=t[n],u=!0);else if(r[1]._container){for(s=n,i=void 0;s--;)if(o=c.get(s),o[1].type==="lineEnding"||o[1].type==="lineEndingBlank")o[0]==="enter"&&(i&&(c.get(i)[1].type="lineEndingBlank"),o[1].type="lineEnding",i=s);else if(o[1].type!=="linePrefix")break;i&&(r[1].end={...c.get(i)[1].start},a=c.slice(i,n),a.unshift(r),c.splice(i,n-i+1,a))}}return Bi(e,0,Number.POSITIVE_INFINITY,c.slice(0)),!u}function qq(e,t){const n=e.get(t)[1],r=e.get(t)[2];let i=t-1;const s=[],o=n._tokenizer||r.parser[n.contentType](n.start),a=o.events,l=[],u={};let c,d,f=-1,p=n,m=0,g=0;const b=[g];for(;p;){for(;e.get(++i)[1]!==p;);s.push(i),p._tokenizer||(c=r.sliceStream(p),p.next||c.push(null),d&&o.defineSkip(p.start),p._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=!0),o.write(c),p._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=void 0)),d=p,p=p.next}for(p=n;++f<a.length;)a[f][0]==="exit"&&a[f-1][0]==="enter"&&a[f][1].type===a[f-1][1].type&&a[f][1].start.line!==a[f][1].end.line&&(g=f+1,b.push(g),p._tokenizer=void 0,p.previous=void 0,p=p.next);for(o.events=[],p?(p._tokenizer=void 0,p.previous=void 0):b.pop(),f=b.length;f--;){const y=a.slice(b[f],b[f+1]),E=s.pop();l.push([E,E+y.length-1]),e.splice(E,2,y)}for(l.reverse(),f=-1;++f<l.length;)u[m+l[f][0]]=m+l[f][1],m+=l[f][1]-l[f][0]-1;return u}const Wq={resolve:Gq,tokenize:Kq},Yq={partial:!0,tokenize:Xq};function Gq(e){return mO(e),e}function Kq(e,t){let n;return r;function r(a){return e.enter("content"),n=e.enter("chunkContent",{contentType:"content"}),i(a)}function i(a){return a===null?s(a):He(a)?e.check(Yq,o,s)(a):(e.consume(a),i)}function s(a){return e.exit("chunkContent"),e.exit("content"),t(a)}function o(a){return e.consume(a),e.exit("chunkContent"),n.next=e.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,i}}function Xq(e,t,n){const r=this;return i;function i(o){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),St(e,s,"linePrefix")}function s(o){if(o===null||He(o))return n(o);const a=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&a&&a[1].type==="linePrefix"&&a[2].sliceSerialize(a[1],!0).length>=4?t(o):e.interrupt(r.parser.constructs.flow,n,t)(o)}}function gO(e,t,n,r,i,s,o,a,l){const u=l||Number.POSITIVE_INFINITY;let c=0;return d;function d(y){return y===60?(e.enter(r),e.enter(i),e.enter(s),e.consume(y),e.exit(s),f):y===null||y===32||y===41||Yg(y)?n(y):(e.enter(r),e.enter(o),e.enter(a),e.enter("chunkString",{contentType:"string"}),g(y))}function f(y){return y===62?(e.enter(s),e.consume(y),e.exit(s),e.exit(i),e.exit(r),t):(e.enter(a),e.enter("chunkString",{contentType:"string"}),p(y))}function p(y){return y===62?(e.exit("chunkString"),e.exit(a),f(y)):y===null||y===60||He(y)?n(y):(e.consume(y),y===92?m:p)}function m(y){return y===60||y===62||y===92?(e.consume(y),p):p(y)}function g(y){return!c&&(y===null||y===41||tr(y))?(e.exit("chunkString"),e.exit(a),e.exit(o),e.exit(r),t(y)):c<u&&y===40?(e.consume(y),c++,g):y===41?(e.consume(y),c--,g):y===null||y===32||y===40||Yg(y)?n(y):(e.consume(y),y===92?b:g)}function b(y){return y===40||y===41||y===92?(e.consume(y),g):g(y)}}function bO(e,t,n,r,i,s){const o=this;let a=0,l;return u;function u(p){return e.enter(r),e.enter(i),e.consume(p),e.exit(i),e.enter(s),c}function c(p){return a>999||p===null||p===91||p===93&&!l||p===94&&!a&&"_hiddenFootnoteSupport"in o.parser.constructs?n(p):p===93?(e.exit(s),e.enter(i),e.consume(p),e.exit(i),e.exit(r),t):He(p)?(e.enter("lineEnding"),e.consume(p),e.exit("lineEnding"),c):(e.enter("chunkString",{contentType:"string"}),d(p))}function d(p){return p===null||p===91||p===93||He(p)||a++>999?(e.exit("chunkString"),c(p)):(e.consume(p),l||(l=!ct(p)),p===92?f:d)}function f(p){return p===91||p===92||p===93?(e.consume(p),a++,d):d(p)}}function yO(e,t,n,r,i,s){let o;return a;function a(f){return f===34||f===39||f===40?(e.enter(r),e.enter(i),e.consume(f),e.exit(i),o=f===40?41:f,l):n(f)}function l(f){return f===o?(e.enter(i),e.consume(f),e.exit(i),e.exit(r),t):(e.enter(s),u(f))}function u(f){return f===o?(e.exit(s),l(o)):f===null?n(f):He(f)?(e.enter("lineEnding"),e.consume(f),e.exit("lineEnding"),St(e,u,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),c(f))}function c(f){return f===o||f===null||He(f)?(e.exit("chunkString"),u(f)):(e.consume(f),f===92?d:c)}function d(f){return f===o||f===92?(e.consume(f),c):c(f)}}function Ru(e,t){let n;return r;function r(i){return He(i)?(e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),n=!0,r):ct(i)?St(e,r,n?"linePrefix":"lineSuffix")(i):t(i)}}const Qq={name:"definition",tokenize:Zq},Jq={partial:!0,tokenize:eW};function Zq(e,t,n){const r=this;let i;return s;function s(p){return e.enter("definition"),o(p)}function o(p){return bO.call(r,e,a,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(p)}function a(p){return i=qa(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),p===58?(e.enter("definitionMarker"),e.consume(p),e.exit("definitionMarker"),l):n(p)}function l(p){return tr(p)?Ru(e,u)(p):u(p)}function u(p){return gO(e,c,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(p)}function c(p){return e.attempt(Jq,d,d)(p)}function d(p){return ct(p)?St(e,f,"whitespace")(p):f(p)}function f(p){return p===null||He(p)?(e.exit("definition"),r.parser.defined.push(i),t(p)):n(p)}}function eW(e,t,n){return r;function r(a){return tr(a)?Ru(e,i)(a):n(a)}function i(a){return yO(e,s,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(a)}function s(a){return ct(a)?St(e,o,"whitespace")(a):o(a)}function o(a){return a===null||He(a)?t(a):n(a)}}const tW={name:"hardBreakEscape",tokenize:nW};function nW(e,t,n){return r;function r(s){return e.enter("hardBreakEscape"),e.consume(s),i}function i(s){return He(s)?(e.exit("hardBreakEscape"),t(s)):n(s)}}const rW={name:"headingAtx",resolve:iW,tokenize:sW};function iW(e,t){let n=e.length-2,r=3,i,s;return e[r][1].type==="whitespace"&&(r+=2),n-2>r&&e[n][1].type==="whitespace"&&(n-=2),e[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&e[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(i={type:"atxHeadingText",start:e[r][1].start,end:e[n][1].end},s={type:"chunkText",start:e[r][1].start,end:e[n][1].end,contentType:"text"},Bi(e,r,n-r+1,[["enter",i,t],["enter",s,t],["exit",s,t],["exit",i,t]])),e}function sW(e,t,n){let r=0;return i;function i(c){return e.enter("atxHeading"),s(c)}function s(c){return e.enter("atxHeadingSequence"),o(c)}function o(c){return c===35&&r++<6?(e.consume(c),o):c===null||tr(c)?(e.exit("atxHeadingSequence"),a(c)):n(c)}function a(c){return c===35?(e.enter("atxHeadingSequence"),l(c)):c===null||He(c)?(e.exit("atxHeading"),t(c)):ct(c)?St(e,a,"whitespace")(c):(e.enter("atxHeadingText"),u(c))}function l(c){return c===35?(e.consume(c),l):(e.exit("atxHeadingSequence"),a(c))}function u(c){return c===null||c===35||tr(c)?(e.exit("atxHeadingText"),a(c)):(e.consume(c),u)}}const oW=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],$v=["pre","script","style","textarea"],aW={concrete:!0,name:"htmlFlow",resolveTo:cW,tokenize:dW},lW={partial:!0,tokenize:pW},uW={partial:!0,tokenize:fW};function cW(e){let t=e.length;for(;t--&&!(e[t][0]==="enter"&&e[t][1].type==="htmlFlow"););return t>1&&e[t-2][1].type==="linePrefix"&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2)),e}function dW(e,t,n){const r=this;let i,s,o,a,l;return u;function u(I){return c(I)}function c(I){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(I),d}function d(I){return I===33?(e.consume(I),f):I===47?(e.consume(I),s=!0,g):I===63?(e.consume(I),i=3,r.interrupt?t:k):ki(I)?(e.consume(I),o=String.fromCharCode(I),b):n(I)}function f(I){return I===45?(e.consume(I),i=2,p):I===91?(e.consume(I),i=5,a=0,m):ki(I)?(e.consume(I),i=4,r.interrupt?t:k):n(I)}function p(I){return I===45?(e.consume(I),r.interrupt?t:k):n(I)}function m(I){const lt="CDATA[";return I===lt.charCodeAt(a++)?(e.consume(I),a===lt.length?r.interrupt?t:H:m):n(I)}function g(I){return ki(I)?(e.consume(I),o=String.fromCharCode(I),b):n(I)}function b(I){if(I===null||I===47||I===62||tr(I)){const lt=I===47,qe=o.toLowerCase();return!lt&&!s&&$v.includes(qe)?(i=1,r.interrupt?t(I):H(I)):oW.includes(o.toLowerCase())?(i=6,lt?(e.consume(I),y):r.interrupt?t(I):H(I)):(i=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(I):s?E(I):T(I))}return I===45||mr(I)?(e.consume(I),o+=String.fromCharCode(I),b):n(I)}function y(I){return I===62?(e.consume(I),r.interrupt?t:H):n(I)}function E(I){return ct(I)?(e.consume(I),E):K(I)}function T(I){return I===47?(e.consume(I),K):I===58||I===95||ki(I)?(e.consume(I),C):ct(I)?(e.consume(I),T):K(I)}function C(I){return I===45||I===46||I===58||I===95||mr(I)?(e.consume(I),C):D(I)}function D(I){return I===61?(e.consume(I),_):ct(I)?(e.consume(I),D):T(I)}function _(I){return I===null||I===60||I===61||I===62||I===96?n(I):I===34||I===39?(e.consume(I),l=I,M):ct(I)?(e.consume(I),_):G(I)}function M(I){return I===l?(e.consume(I),l=null,B):I===null||He(I)?n(I):(e.consume(I),M)}function G(I){return I===null||I===34||I===39||I===47||I===60||I===61||I===62||I===96||tr(I)?D(I):(e.consume(I),G)}function B(I){return I===47||I===62||ct(I)?T(I):n(I)}function K(I){return I===62?(e.consume(I),V):n(I)}function V(I){return I===null||He(I)?H(I):ct(I)?(e.consume(I),V):n(I)}function H(I){return I===45&&i===2?(e.consume(I),xe):I===60&&i===1?(e.consume(I),Ce):I===62&&i===4?(e.consume(I),tt):I===63&&i===3?(e.consume(I),k):I===93&&i===5?(e.consume(I),$e):He(I)&&(i===6||i===7)?(e.exit("htmlFlowData"),e.check(lW,Qe,te)(I)):I===null||He(I)?(e.exit("htmlFlowData"),te(I)):(e.consume(I),H)}function te(I){return e.check(uW,Ee,Qe)(I)}function Ee(I){return e.enter("lineEnding"),e.consume(I),e.exit("lineEnding"),me}function me(I){return I===null||He(I)?te(I):(e.enter("htmlFlowData"),H(I))}function xe(I){return I===45?(e.consume(I),k):H(I)}function Ce(I){return I===47?(e.consume(I),o="",ve):H(I)}function ve(I){if(I===62){const lt=o.toLowerCase();return $v.includes(lt)?(e.consume(I),tt):H(I)}return ki(I)&&o.length<8?(e.consume(I),o+=String.fromCharCode(I),ve):H(I)}function $e(I){return I===93?(e.consume(I),k):H(I)}function k(I){return I===62?(e.consume(I),tt):I===45&&i===2?(e.consume(I),k):H(I)}function tt(I){return I===null||He(I)?(e.exit("htmlFlowData"),Qe(I)):(e.consume(I),tt)}function Qe(I){return e.exit("htmlFlow"),t(I)}}function fW(e,t,n){const r=this;return i;function i(o){return He(o)?(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),s):n(o)}function s(o){return r.parser.lazy[r.now().line]?n(o):t(o)}}function pW(e,t,n){return r;function r(i){return e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),e.attempt(Fp,t,n)}}const hW={name:"htmlText",tokenize:mW};function mW(e,t,n){const r=this;let i,s,o;return a;function a(k){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(k),l}function l(k){return k===33?(e.consume(k),u):k===47?(e.consume(k),D):k===63?(e.consume(k),T):ki(k)?(e.consume(k),G):n(k)}function u(k){return k===45?(e.consume(k),c):k===91?(e.consume(k),s=0,m):ki(k)?(e.consume(k),E):n(k)}function c(k){return k===45?(e.consume(k),p):n(k)}function d(k){return k===null?n(k):k===45?(e.consume(k),f):He(k)?(o=d,Ce(k)):(e.consume(k),d)}function f(k){return k===45?(e.consume(k),p):d(k)}function p(k){return k===62?xe(k):k===45?f(k):d(k)}function m(k){const tt="CDATA[";return k===tt.charCodeAt(s++)?(e.consume(k),s===tt.length?g:m):n(k)}function g(k){return k===null?n(k):k===93?(e.consume(k),b):He(k)?(o=g,Ce(k)):(e.consume(k),g)}function b(k){return k===93?(e.consume(k),y):g(k)}function y(k){return k===62?xe(k):k===93?(e.consume(k),y):g(k)}function E(k){return k===null||k===62?xe(k):He(k)?(o=E,Ce(k)):(e.consume(k),E)}function T(k){return k===null?n(k):k===63?(e.consume(k),C):He(k)?(o=T,Ce(k)):(e.consume(k),T)}function C(k){return k===62?xe(k):T(k)}function D(k){return ki(k)?(e.consume(k),_):n(k)}function _(k){return k===45||mr(k)?(e.consume(k),_):M(k)}function M(k){return He(k)?(o=M,Ce(k)):ct(k)?(e.consume(k),M):xe(k)}function G(k){return k===45||mr(k)?(e.consume(k),G):k===47||k===62||tr(k)?B(k):n(k)}function B(k){return k===47?(e.consume(k),xe):k===58||k===95||ki(k)?(e.consume(k),K):He(k)?(o=B,Ce(k)):ct(k)?(e.consume(k),B):xe(k)}function K(k){return k===45||k===46||k===58||k===95||mr(k)?(e.consume(k),K):V(k)}function V(k){return k===61?(e.consume(k),H):He(k)?(o=V,Ce(k)):ct(k)?(e.consume(k),V):B(k)}function H(k){return k===null||k===60||k===61||k===62||k===96?n(k):k===34||k===39?(e.consume(k),i=k,te):He(k)?(o=H,Ce(k)):ct(k)?(e.consume(k),H):(e.consume(k),Ee)}function te(k){return k===i?(e.consume(k),i=void 0,me):k===null?n(k):He(k)?(o=te,Ce(k)):(e.consume(k),te)}function Ee(k){return k===null||k===34||k===39||k===60||k===61||k===96?n(k):k===47||k===62||tr(k)?B(k):(e.consume(k),Ee)}function me(k){return k===47||k===62||tr(k)?B(k):n(k)}function xe(k){return k===62?(e.consume(k),e.exit("htmlTextData"),e.exit("htmlText"),t):n(k)}function Ce(k){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(k),e.exit("lineEnding"),ve}function ve(k){return ct(k)?St(e,$e,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(k):$e(k)}function $e(k){return e.enter("htmlTextData"),o(k)}}const i1={name:"labelEnd",resolveAll:_W,resolveTo:EW,tokenize:vW},gW={tokenize:TW},bW={tokenize:wW},yW={tokenize:xW};function _W(e){let t=-1;const n=[];for(;++t<e.length;){const r=e[t][1];if(n.push(e[t]),r.type==="labelImage"||r.type==="labelLink"||r.type==="labelEnd"){const i=r.type==="labelImage"?4:2;r.type="data",t+=i}}return e.length!==n.length&&Bi(e,0,e.length,n),e}function EW(e,t){let n=e.length,r=0,i,s,o,a;for(;n--;)if(i=e[n][1],s){if(i.type==="link"||i.type==="labelLink"&&i._inactive)break;e[n][0]==="enter"&&i.type==="labelLink"&&(i._inactive=!0)}else if(o){if(e[n][0]==="enter"&&(i.type==="labelImage"||i.type==="labelLink")&&!i._balanced&&(s=n,i.type!=="labelLink")){r=2;break}}else i.type==="labelEnd"&&(o=n);const l={type:e[s][1].type==="labelLink"?"link":"image",start:{...e[s][1].start},end:{...e[e.length-1][1].end}},u={type:"label",start:{...e[s][1].start},end:{...e[o][1].end}},c={type:"labelText",start:{...e[s+r+2][1].end},end:{...e[o-2][1].start}};return a=[["enter",l,t],["enter",u,t]],a=Ir(a,e.slice(s+1,s+r+3)),a=Ir(a,[["enter",c,t]]),a=Ir(a,r1(t.parser.constructs.insideSpan.null,e.slice(s+r+4,o-3),t)),a=Ir(a,[["exit",c,t],e[o-2],e[o-1],["exit",u,t]]),a=Ir(a,e.slice(o+1)),a=Ir(a,[["exit",l,t]]),Bi(e,s,e.length,a),e}function vW(e,t,n){const r=this;let i=r.events.length,s,o;for(;i--;)if((r.events[i][1].type==="labelImage"||r.events[i][1].type==="labelLink")&&!r.events[i][1]._balanced){s=r.events[i][1];break}return a;function a(f){return s?s._inactive?d(f):(o=r.parser.defined.includes(qa(r.sliceSerialize({start:s.end,end:r.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(f),e.exit("labelMarker"),e.exit("labelEnd"),l):n(f)}function l(f){return f===40?e.attempt(gW,c,o?c:d)(f):f===91?e.attempt(bW,c,o?u:d)(f):o?c(f):d(f)}function u(f){return e.attempt(yW,c,d)(f)}function c(f){return t(f)}function d(f){return s._balanced=!0,n(f)}}function TW(e,t,n){return r;function r(d){return e.enter("resource"),e.enter("resourceMarker"),e.consume(d),e.exit("resourceMarker"),i}function i(d){return tr(d)?Ru(e,s)(d):s(d)}function s(d){return d===41?c(d):gO(e,o,a,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(d)}function o(d){return tr(d)?Ru(e,l)(d):c(d)}function a(d){return n(d)}function l(d){return d===34||d===39||d===40?yO(e,u,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(d):c(d)}function u(d){return tr(d)?Ru(e,c)(d):c(d)}function c(d){return d===41?(e.enter("resourceMarker"),e.consume(d),e.exit("resourceMarker"),e.exit("resource"),t):n(d)}}function wW(e,t,n){const r=this;return i;function i(a){return bO.call(r,e,s,o,"reference","referenceMarker","referenceString")(a)}function s(a){return r.parser.defined.includes(qa(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?t(a):n(a)}function o(a){return n(a)}}function xW(e,t,n){return r;function r(s){return e.enter("reference"),e.enter("referenceMarker"),e.consume(s),e.exit("referenceMarker"),i}function i(s){return s===93?(e.enter("referenceMarker"),e.consume(s),e.exit("referenceMarker"),e.exit("reference"),t):n(s)}}const CW={name:"labelStartImage",resolveAll:i1.resolveAll,tokenize:SW};function SW(e,t,n){const r=this;return i;function i(a){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(a),e.exit("labelImageMarker"),s}function s(a){return a===91?(e.enter("labelMarker"),e.consume(a),e.exit("labelMarker"),e.exit("labelImage"),o):n(a)}function o(a){return a===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(a):t(a)}}const AW={name:"labelStartLink",resolveAll:i1.resolveAll,tokenize:kW};function kW(e,t,n){const r=this;return i;function i(o){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(o),e.exit("labelMarker"),e.exit("labelLink"),s}function s(o){return o===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(o):t(o)}}const sm={name:"lineEnding",tokenize:OW};function OW(e,t){return n;function n(r){return e.enter("lineEnding"),e.consume(r),e.exit("lineEnding"),St(e,t,"linePrefix")}}const qd={name:"thematicBreak",tokenize:IW};function IW(e,t,n){let r=0,i;return s;function s(u){return e.enter("thematicBreak"),o(u)}function o(u){return i=u,a(u)}function a(u){return u===i?(e.enter("thematicBreakSequence"),l(u)):r>=3&&(u===null||He(u))?(e.exit("thematicBreak"),t(u)):n(u)}function l(u){return u===i?(e.consume(u),r++,l):(e.exit("thematicBreakSequence"),ct(u)?St(e,a,"whitespace")(u):a(u))}}const Xn={continuation:{tokenize:MW},exit:LW,name:"list",tokenize:DW},NW={partial:!0,tokenize:BW},RW={partial:!0,tokenize:PW};function DW(e,t,n){const r=this,i=r.events[r.events.length-1];let s=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0,o=0;return a;function a(p){const m=r.containerState.type||(p===42||p===43||p===45?"listUnordered":"listOrdered");if(m==="listUnordered"?!r.containerState.marker||p===r.containerState.marker:Gg(p)){if(r.containerState.type||(r.containerState.type=m,e.enter(m,{_container:!0})),m==="listUnordered")return e.enter("listItemPrefix"),p===42||p===45?e.check(qd,n,u)(p):u(p);if(!r.interrupt||p===49)return e.enter("listItemPrefix"),e.enter("listItemValue"),l(p)}return n(p)}function l(p){return Gg(p)&&++o<10?(e.consume(p),l):(!r.interrupt||o<2)&&(r.containerState.marker?p===r.containerState.marker:p===41||p===46)?(e.exit("listItemValue"),u(p)):n(p)}function u(p){return e.enter("listItemMarker"),e.consume(p),e.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||p,e.check(Fp,r.interrupt?n:c,e.attempt(NW,f,d))}function c(p){return r.containerState.initialBlankLine=!0,s++,f(p)}function d(p){return ct(p)?(e.enter("listItemPrefixWhitespace"),e.consume(p),e.exit("listItemPrefixWhitespace"),f):n(p)}function f(p){return r.containerState.size=s+r.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(p)}}function MW(e,t,n){const r=this;return r.containerState._closeFlow=void 0,e.check(Fp,i,s);function i(a){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,St(e,t,"listItemIndent",r.containerState.size+1)(a)}function s(a){return r.containerState.furtherBlankLines||!ct(a)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,o(a)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,e.attempt(RW,t,o)(a))}function o(a){return r.containerState._closeFlow=!0,r.interrupt=void 0,St(e,e.attempt(Xn,t,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(a)}}function PW(e,t,n){const r=this;return St(e,i,"listItemIndent",r.containerState.size+1);function i(s){const o=r.events[r.events.length-1];return o&&o[1].type==="listItemIndent"&&o[2].sliceSerialize(o[1],!0).length===r.containerState.size?t(s):n(s)}}function LW(e){e.exit(this.containerState.type)}function BW(e,t,n){const r=this;return St(e,i,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function i(s){const o=r.events[r.events.length-1];return!ct(s)&&o&&o[1].type==="listItemPrefixWhitespace"?t(s):n(s)}}const Fv={name:"setextUnderline",resolveTo:$W,tokenize:FW};function $W(e,t){let n=e.length,r,i,s;for(;n--;)if(e[n][0]==="enter"){if(e[n][1].type==="content"){r=n;break}e[n][1].type==="paragraph"&&(i=n)}else e[n][1].type==="content"&&e.splice(n,1),!s&&e[n][1].type==="definition"&&(s=n);const o={type:"setextHeading",start:{...e[i][1].start},end:{...e[e.length-1][1].end}};return e[i][1].type="setextHeadingText",s?(e.splice(i,0,["enter",o,t]),e.splice(s+1,0,["exit",e[r][1],t]),e[r][1].end={...e[s][1].end}):e[r][1]=o,e.push(["exit",o,t]),e}function FW(e,t,n){const r=this;let i;return s;function s(u){let c=r.events.length,d;for(;c--;)if(r.events[c][1].type!=="lineEnding"&&r.events[c][1].type!=="linePrefix"&&r.events[c][1].type!=="content"){d=r.events[c][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||d)?(e.enter("setextHeadingLine"),i=u,o(u)):n(u)}function o(u){return e.enter("setextHeadingLineSequence"),a(u)}function a(u){return u===i?(e.consume(u),a):(e.exit("setextHeadingLineSequence"),ct(u)?St(e,l,"lineSuffix")(u):l(u))}function l(u){return u===null||He(u)?(e.exit("setextHeadingLine"),t(u)):n(u)}}const UW={tokenize:HW};function HW(e){const t=this,n=e.attempt(Fp,r,e.attempt(this.parser.constructs.flowInitial,i,St(e,e.attempt(this.parser.constructs.flow,i,e.attempt(Wq,i)),"linePrefix")));return n;function r(s){if(s===null){e.consume(s);return}return e.enter("lineEndingBlank"),e.consume(s),e.exit("lineEndingBlank"),t.currentConstruct=void 0,n}function i(s){if(s===null){e.consume(s);return}return e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),t.currentConstruct=void 0,n}}const zW={resolveAll:EO()},VW=_O("string"),jW=_O("text");function _O(e){return{resolveAll:EO(e==="text"?qW:void 0),tokenize:t};function t(n){const r=this,i=this.parser.constructs[e],s=n.attempt(i,o,a);return o;function o(c){return u(c)?s(c):a(c)}function a(c){if(c===null){n.consume(c);return}return n.enter("data"),n.consume(c),l}function l(c){return u(c)?(n.exit("data"),s(c)):(n.consume(c),l)}function u(c){if(c===null)return!0;const d=i[c];let f=-1;if(d)for(;++f<d.length;){const p=d[f];if(!p.previous||p.previous.call(r,r.previous))return!0}return!1}}}function EO(e){return t;function t(n,r){let i=-1,s;for(;++i<=n.length;)s===void 0?n[i]&&n[i][1].type==="data"&&(s=i,i++):(!n[i]||n[i][1].type!=="data")&&(i!==s+2&&(n[s][1].end=n[i-1][1].end,n.splice(s+2,i-s-2),i=s+2),s=void 0);return e?e(n,r):n}}function qW(e,t){let n=0;for(;++n<=e.length;)if((n===e.length||e[n][1].type==="lineEnding")&&e[n-1][1].type==="data"){const r=e[n-1][1],i=t.sliceStream(r);let s=i.length,o=-1,a=0,l;for(;s--;){const u=i[s];if(typeof u=="string"){for(o=u.length;u.charCodeAt(o-1)===32;)a++,o--;if(o)break;o=-1}else if(u===-2)l=!0,a++;else if(u!==-1){s++;break}}if(a){const u={type:n===e.length||l||a<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:s?o:r.start._bufferIndex+o,_index:r.start._index+s,line:r.end.line,column:r.end.column-a,offset:r.end.offset-a},end:{...r.end}};r.end={...u.start},r.start.offset===r.end.offset?Object.assign(r,u):(e.splice(n,0,["enter",u,t],["exit",u,t]),n+=2)}n++}return e}const WW={42:Xn,43:Xn,45:Xn,48:Xn,49:Xn,50:Xn,51:Xn,52:Xn,53:Xn,54:Xn,55:Xn,56:Xn,57:Xn,62:fO},YW={91:Qq},GW={[-2]:im,[-1]:im,32:im},KW={35:rW,42:qd,45:[Fv,qd],60:aW,61:Fv,95:qd,96:Bv,126:Bv},XW={38:hO,92:pO},QW={[-5]:sm,[-4]:sm,[-3]:sm,33:CW,38:hO,42:Qg,60:[Aq,hW],91:AW,92:[tW,pO],93:i1,95:Qg,96:Uq},JW={null:[Qg,zW]},ZW={null:[42,95]},eY={null:[]},tY=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:ZW,contentInitial:YW,disable:eY,document:WW,flow:KW,flowInitial:GW,insideSpan:JW,string:XW,text:QW},Symbol.toStringTag,{value:"Module"}));function nY(e,t,n){let r={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const i={},s=[];let o=[],a=[];const l={attempt:M(D),check:M(_),consume:E,enter:T,exit:C,interrupt:M(_,{interrupt:!0})},u={code:null,containerState:{},defineSkip:g,events:[],now:m,parser:e,previous:null,sliceSerialize:f,sliceStream:p,write:d};let c=t.tokenize.call(u,l);return t.resolveAll&&s.push(t),u;function d(V){return o=Ir(o,V),b(),o[o.length-1]!==null?[]:(G(t,0),u.events=r1(s,u.events,u),u.events)}function f(V,H){return iY(p(V),H)}function p(V){return rY(o,V)}function m(){const{_bufferIndex:V,_index:H,line:te,column:Ee,offset:me}=r;return{_bufferIndex:V,_index:H,line:te,column:Ee,offset:me}}function g(V){i[V.line]=V.column,K()}function b(){let V;for(;r._index<o.length;){const H=o[r._index];if(typeof H=="string")for(V=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===V&&r._bufferIndex<H.length;)y(H.charCodeAt(r._bufferIndex));else y(H)}}function y(V){c=c(V)}function E(V){He(V)?(r.line++,r.column=1,r.offset+=V===-3?2:1,K()):V!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===o[r._index].length&&(r._bufferIndex=-1,r._index++)),u.previous=V}function T(V,H){const te=H||{};return te.type=V,te.start=m(),u.events.push(["enter",te,u]),a.push(te),te}function C(V){const H=a.pop();return H.end=m(),u.events.push(["exit",H,u]),H}function D(V,H){G(V,H.from)}function _(V,H){H.restore()}function M(V,H){return te;function te(Ee,me,xe){let Ce,ve,$e,k;return Array.isArray(Ee)?Qe(Ee):"tokenize"in Ee?Qe([Ee]):tt(Ee);function tt(Je){return z;function z(ce){const fe=ce!==null&&Je[ce],Se=ce!==null&&Je.null,Xe=[...Array.isArray(fe)?fe:fe?[fe]:[],...Array.isArray(Se)?Se:Se?[Se]:[]];return Qe(Xe)(ce)}}function Qe(Je){return Ce=Je,ve=0,Je.length===0?xe:I(Je[ve])}function I(Je){return z;function z(ce){return k=B(),$e=Je,Je.partial||(u.currentConstruct=Je),Je.name&&u.parser.constructs.disable.null.includes(Je.name)?qe():Je.tokenize.call(H?Object.assign(Object.create(u),H):u,l,lt,qe)(ce)}}function lt(Je){return V($e,k),me}function qe(Je){return k.restore(),++ve<Ce.length?I(Ce[ve]):xe}}}function G(V,H){V.resolveAll&&!s.includes(V)&&s.push(V),V.resolve&&Bi(u.events,H,u.events.length-H,V.resolve(u.events.slice(H),u)),V.resolveTo&&(u.events=V.resolveTo(u.events,u))}function B(){const V=m(),H=u.previous,te=u.currentConstruct,Ee=u.events.length,me=Array.from(a);return{from:Ee,restore:xe};function xe(){r=V,u.previous=H,u.currentConstruct=te,u.events.length=Ee,a=me,K()}}function K(){r.line in i&&r.column<2&&(r.column=i[r.line],r.offset+=i[r.line]-1)}}function rY(e,t){const n=t.start._index,r=t.start._bufferIndex,i=t.end._index,s=t.end._bufferIndex;let o;if(n===i)o=[e[n].slice(r,s)];else{if(o=e.slice(n,i),r>-1){const a=o[0];typeof a=="string"?o[0]=a.slice(r):o.shift()}s>0&&o.push(e[i].slice(0,s))}return o}function iY(e,t){let n=-1;const r=[];let i;for(;++n<e.length;){const s=e[n];let o;if(typeof s=="string")o=s;else switch(s){case-5:{o="\r";break}case-4:{o=`
`;break}case-3:{o=`\r
`;break}case-2:{o=t?" ":"	";break}case-1:{if(!t&&i)continue;o=" ";break}default:o=String.fromCharCode(s)}i=s===-2,r.push(o)}return r.join("")}function sY(e){const r={constructs:bq([tY,...(e||{}).extensions||[]]),content:i(Eq),defined:[],document:i(Tq),flow:i(UW),lazy:{},string:i(VW),text:i(jW)};return r;function i(s){return o;function o(a){return nY(r,s,a)}}}function oY(e){for(;!mO(e););return e}const Uv=/[\0\t\n\r]/g;function aY(){let e=1,t="",n=!0,r;return i;function i(s,o,a){const l=[];let u,c,d,f,p;for(s=t+(typeof s=="string"?s.toString():new TextDecoder(o||void 0).decode(s)),d=0,t="",n&&(s.charCodeAt(0)===65279&&d++,n=void 0);d<s.length;){if(Uv.lastIndex=d,u=Uv.exec(s),f=u&&u.index!==void 0?u.index:s.length,p=s.charCodeAt(f),!u){t=s.slice(d);break}if(p===10&&d===f&&r)l.push(-3),r=void 0;else switch(r&&(l.push(-5),r=void 0),d<f&&(l.push(s.slice(d,f)),e+=f-d),p){case 0:{l.push(65533),e++;break}case 9:{for(c=Math.ceil(e/4)*4,l.push(-2);e++<c;)l.push(-1);break}case 10:{l.push(-4),e=1;break}default:r=!0,e=1}d=f+1}return a&&(r&&l.push(-5),t&&l.push(t),l.push(null)),l}}const lY=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function vO(e){return e.replace(lY,uY)}function uY(e,t,n){if(t)return t;if(n.charCodeAt(0)===35){const i=n.charCodeAt(1),s=i===120||i===88;return dO(n.slice(s?2:1),s?16:10)}return n1(n)||e}const TO={}.hasOwnProperty;function cY(e,t,n){return typeof t!="string"&&(n=t,t=void 0),dY(n)(oY(sY(n).document().write(aY()(e,t,!0))))}function dY(e){const t={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:s(ae),autolinkProtocol:B,autolinkEmail:B,atxHeading:s(X),blockQuote:s(Se),characterEscape:B,characterReference:B,codeFenced:s(Xe),codeFencedFenceInfo:o,codeFencedFenceMeta:o,codeIndented:s(Xe,o),codeText:s(A,o),codeTextData:B,data:B,codeFlowValue:B,definition:s(N),definitionDestinationString:o,definitionLabelString:o,definitionTitleString:o,emphasis:s(L),hardBreakEscape:s(Q),hardBreakTrailing:s(Q),htmlFlow:s(J,o),htmlFlowData:B,htmlText:s(J,o),htmlTextData:B,image:s(ge),label:o,link:s(ae),listItem:s(ie),listItemValue:f,listOrdered:s(de,d),listUnordered:s(de),paragraph:s(Me),reference:I,referenceString:o,resourceDestinationString:o,resourceTitleString:o,setextHeading:s(X),strong:s(Te),thematicBreak:s(Le)},exit:{atxHeading:l(),atxHeadingSequence:D,autolink:l(),autolinkEmail:fe,autolinkProtocol:ce,blockQuote:l(),characterEscapeValue:K,characterReferenceMarkerHexadecimal:qe,characterReferenceMarkerNumeric:qe,characterReferenceValue:Je,characterReference:z,codeFenced:l(b),codeFencedFence:g,codeFencedFenceInfo:p,codeFencedFenceMeta:m,codeFlowValue:K,codeIndented:l(y),codeText:l(me),codeTextData:K,data:K,definition:l(),definitionDestinationString:C,definitionLabelString:E,definitionTitleString:T,emphasis:l(),hardBreakEscape:l(H),hardBreakTrailing:l(H),htmlFlow:l(te),htmlFlowData:K,htmlText:l(Ee),htmlTextData:K,image:l(Ce),label:$e,labelText:ve,lineEnding:V,link:l(xe),listItem:l(),listOrdered:l(),listUnordered:l(),paragraph:l(),referenceString:lt,resourceDestinationString:k,resourceTitleString:tt,resource:Qe,setextHeading:l(G),setextHeadingLineSequence:M,setextHeadingText:_,strong:l(),thematicBreak:l()}};wO(t,(e||{}).mdastExtensions||[]);const n={};return r;function r(F){let Z={type:"root",children:[]};const be={stack:[Z],tokenStack:[],config:t,enter:a,exit:u,buffer:o,resume:c,data:n},Pe=[];let Ve=-1;for(;++Ve<F.length;)if(F[Ve][1].type==="listOrdered"||F[Ve][1].type==="listUnordered")if(F[Ve][0]==="enter")Pe.push(Ve);else{const kt=Pe.pop();Ve=i(F,kt,Ve)}for(Ve=-1;++Ve<F.length;){const kt=t[F[Ve][0]];TO.call(kt,F[Ve][1].type)&&kt[F[Ve][1].type].call(Object.assign({sliceSerialize:F[Ve][2].sliceSerialize},be),F[Ve][1])}if(be.tokenStack.length>0){const kt=be.tokenStack[be.tokenStack.length-1];(kt[1]||Hv).call(be,void 0,kt[0])}for(Z.position={start:Cs(F.length>0?F[0][1].start:{line:1,column:1,offset:0}),end:Cs(F.length>0?F[F.length-2][1].end:{line:1,column:1,offset:0})},Ve=-1;++Ve<t.transforms.length;)Z=t.transforms[Ve](Z)||Z;return Z}function i(F,Z,be){let Pe=Z-1,Ve=-1,kt=!1,Ft,tn,or,Nt;for(;++Pe<=be;){const it=F[Pe];switch(it[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{it[0]==="enter"?Ve++:Ve--,Nt=void 0;break}case"lineEndingBlank":{it[0]==="enter"&&(Ft&&!Nt&&!Ve&&!or&&(or=Pe),Nt=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:Nt=void 0}if(!Ve&&it[0]==="enter"&&it[1].type==="listItemPrefix"||Ve===-1&&it[0]==="exit"&&(it[1].type==="listUnordered"||it[1].type==="listOrdered")){if(Ft){let wn=Pe;for(tn=void 0;wn--;){const ar=F[wn];if(ar[1].type==="lineEnding"||ar[1].type==="lineEndingBlank"){if(ar[0]==="exit")continue;tn&&(F[tn][1].type="lineEndingBlank",kt=!0),ar[1].type="lineEnding",tn=wn}else if(!(ar[1].type==="linePrefix"||ar[1].type==="blockQuotePrefix"||ar[1].type==="blockQuotePrefixWhitespace"||ar[1].type==="blockQuoteMarker"||ar[1].type==="listItemIndent"))break}or&&(!tn||or<tn)&&(Ft._spread=!0),Ft.end=Object.assign({},tn?F[tn][1].start:it[1].end),F.splice(tn||Pe,0,["exit",Ft,it[2]]),Pe++,be++}if(it[1].type==="listItemPrefix"){const wn={type:"listItem",_spread:!1,start:Object.assign({},it[1].start),end:void 0};Ft=wn,F.splice(Pe,0,["enter",wn,it[2]]),Pe++,be++,or=void 0,Nt=!0}}}return F[Z][1]._spread=kt,be}function s(F,Z){return be;function be(Pe){a.call(this,F(Pe),Pe),Z&&Z.call(this,Pe)}}function o(){this.stack.push({type:"fragment",children:[]})}function a(F,Z,be){this.stack[this.stack.length-1].children.push(F),this.stack.push(F),this.tokenStack.push([Z,be||void 0]),F.position={start:Cs(Z.start),end:void 0}}function l(F){return Z;function Z(be){F&&F.call(this,be),u.call(this,be)}}function u(F,Z){const be=this.stack.pop(),Pe=this.tokenStack.pop();if(Pe)Pe[0].type!==F.type&&(Z?Z.call(this,F,Pe[0]):(Pe[1]||Hv).call(this,F,Pe[0]));else throw new Error("Cannot close `"+F.type+"` ("+Iu({start:F.start,end:F.end})+"): it’s not open");be.position.end=Cs(F.end)}function c(){return Bp(this.stack.pop())}function d(){this.data.expectingFirstListItemValue=!0}function f(F){if(this.data.expectingFirstListItemValue){const Z=this.stack[this.stack.length-2];Z.start=Number.parseInt(this.sliceSerialize(F),10),this.data.expectingFirstListItemValue=void 0}}function p(){const F=this.resume(),Z=this.stack[this.stack.length-1];Z.lang=F}function m(){const F=this.resume(),Z=this.stack[this.stack.length-1];Z.meta=F}function g(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function b(){const F=this.resume(),Z=this.stack[this.stack.length-1];Z.value=F.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function y(){const F=this.resume(),Z=this.stack[this.stack.length-1];Z.value=F.replace(/(\r?\n|\r)$/g,"")}function E(F){const Z=this.resume(),be=this.stack[this.stack.length-1];be.label=Z,be.identifier=qa(this.sliceSerialize(F)).toLowerCase()}function T(){const F=this.resume(),Z=this.stack[this.stack.length-1];Z.title=F}function C(){const F=this.resume(),Z=this.stack[this.stack.length-1];Z.url=F}function D(F){const Z=this.stack[this.stack.length-1];if(!Z.depth){const be=this.sliceSerialize(F).length;Z.depth=be}}function _(){this.data.setextHeadingSlurpLineEnding=!0}function M(F){const Z=this.stack[this.stack.length-1];Z.depth=this.sliceSerialize(F).codePointAt(0)===61?1:2}function G(){this.data.setextHeadingSlurpLineEnding=void 0}function B(F){const be=this.stack[this.stack.length-1].children;let Pe=be[be.length-1];(!Pe||Pe.type!=="text")&&(Pe=Ie(),Pe.position={start:Cs(F.start),end:void 0},be.push(Pe)),this.stack.push(Pe)}function K(F){const Z=this.stack.pop();Z.value+=this.sliceSerialize(F),Z.position.end=Cs(F.end)}function V(F){const Z=this.stack[this.stack.length-1];if(this.data.atHardBreak){const be=Z.children[Z.children.length-1];be.position.end=Cs(F.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&t.canContainEols.includes(Z.type)&&(B.call(this,F),K.call(this,F))}function H(){this.data.atHardBreak=!0}function te(){const F=this.resume(),Z=this.stack[this.stack.length-1];Z.value=F}function Ee(){const F=this.resume(),Z=this.stack[this.stack.length-1];Z.value=F}function me(){const F=this.resume(),Z=this.stack[this.stack.length-1];Z.value=F}function xe(){const F=this.stack[this.stack.length-1];if(this.data.inReference){const Z=this.data.referenceType||"shortcut";F.type+="Reference",F.referenceType=Z,delete F.url,delete F.title}else delete F.identifier,delete F.label;this.data.referenceType=void 0}function Ce(){const F=this.stack[this.stack.length-1];if(this.data.inReference){const Z=this.data.referenceType||"shortcut";F.type+="Reference",F.referenceType=Z,delete F.url,delete F.title}else delete F.identifier,delete F.label;this.data.referenceType=void 0}function ve(F){const Z=this.sliceSerialize(F),be=this.stack[this.stack.length-2];be.label=vO(Z),be.identifier=qa(Z).toLowerCase()}function $e(){const F=this.stack[this.stack.length-1],Z=this.resume(),be=this.stack[this.stack.length-1];if(this.data.inReference=!0,be.type==="link"){const Pe=F.children;be.children=Pe}else be.alt=Z}function k(){const F=this.resume(),Z=this.stack[this.stack.length-1];Z.url=F}function tt(){const F=this.resume(),Z=this.stack[this.stack.length-1];Z.title=F}function Qe(){this.data.inReference=void 0}function I(){this.data.referenceType="collapsed"}function lt(F){const Z=this.resume(),be=this.stack[this.stack.length-1];be.label=Z,be.identifier=qa(this.sliceSerialize(F)).toLowerCase(),this.data.referenceType="full"}function qe(F){this.data.characterReferenceType=F.type}function Je(F){const Z=this.sliceSerialize(F),be=this.data.characterReferenceType;let Pe;be?(Pe=dO(Z,be==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):Pe=n1(Z);const Ve=this.stack[this.stack.length-1];Ve.value+=Pe}function z(F){const Z=this.stack.pop();Z.position.end=Cs(F.end)}function ce(F){K.call(this,F);const Z=this.stack[this.stack.length-1];Z.url=this.sliceSerialize(F)}function fe(F){K.call(this,F);const Z=this.stack[this.stack.length-1];Z.url="mailto:"+this.sliceSerialize(F)}function Se(){return{type:"blockquote",children:[]}}function Xe(){return{type:"code",lang:null,meta:null,value:""}}function A(){return{type:"inlineCode",value:""}}function N(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function L(){return{type:"emphasis",children:[]}}function X(){return{type:"heading",depth:0,children:[]}}function Q(){return{type:"break"}}function J(){return{type:"html",value:""}}function ge(){return{type:"image",title:null,url:"",alt:null}}function ae(){return{type:"link",title:null,url:"",children:[]}}function de(F){return{type:"list",ordered:F.type==="listOrdered",start:null,spread:F._spread,children:[]}}function ie(F){return{type:"listItem",spread:F._spread,checked:null,children:[]}}function Me(){return{type:"paragraph",children:[]}}function Te(){return{type:"strong",children:[]}}function Ie(){return{type:"text",value:""}}function Le(){return{type:"thematicBreak"}}}function Cs(e){return{line:e.line,column:e.column,offset:e.offset}}function wO(e,t){let n=-1;for(;++n<t.length;){const r=t[n];Array.isArray(r)?wO(e,r):fY(e,r)}}function fY(e,t){let n;for(n in t)if(TO.call(t,n))switch(n){case"canContainEols":{const r=t[n];r&&e[n].push(...r);break}case"transforms":{const r=t[n];r&&e[n].push(...r);break}case"enter":case"exit":{const r=t[n];r&&Object.assign(e[n],r);break}}}function Hv(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+Iu({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+Iu({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+Iu({start:t.start,end:t.end})+") is still open")}function pY(e){const t=this;t.parser=n;function n(r){return cY(r,{...t.data("settings"),...e,extensions:t.data("micromarkExtensions")||[],mdastExtensions:t.data("fromMarkdownExtensions")||[]})}}const hY={}.hasOwnProperty;function xO(e,t){let n=-1,r;if(t.extensions)for(;++n<t.extensions.length;)xO(e,t.extensions[n]);for(r in t)if(hY.call(t,r))switch(r){case"extensions":break;case"unsafe":{zv(e[r],t[r]);break}case"join":{zv(e[r],t[r]);break}case"handlers":{mY(e[r],t[r]);break}default:e.options[r]=t[r]}return e}function zv(e,t){t&&e.push(...t)}function mY(e,t){t&&Object.assign(e,t)}function gY(e,t,n,r){const i=n.enter("blockquote"),s=n.createTracker(r);s.move("> "),s.shift(2);const o=n.indentLines(n.containerFlow(e,s.current()),bY);return i(),o}function bY(e,t,n){return">"+(n?"":" ")+e}function CO(e,t){return Vv(e,t.inConstruct,!0)&&!Vv(e,t.notInConstruct,!1)}function Vv(e,t,n){if(typeof t=="string"&&(t=[t]),!t||t.length===0)return n;let r=-1;for(;++r<t.length;)if(e.includes(t[r]))return!0;return!1}function jv(e,t,n,r){let i=-1;for(;++i<n.unsafe.length;)if(n.unsafe[i].character===`
`&&CO(n.stack,n.unsafe[i]))return/[ \t]/.test(r.before)?"":" ";return`\\
`}function yY(e,t){const n=String(e);let r=n.indexOf(t),i=r,s=0,o=0;if(typeof t!="string")throw new TypeError("Expected substring");for(;r!==-1;)r===i?++s>o&&(o=s):s=1,i=r+t.length,r=n.indexOf(t,i);return o}function Jg(e,t){return!!(t.options.fences===!1&&e.value&&!e.lang&&/[^ \r\n]/.test(e.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(e.value))}function _Y(e){const t=e.options.fence||"`";if(t!=="`"&&t!=="~")throw new Error("Cannot serialize code with `"+t+"` for `options.fence`, expected `` ` `` or `~`");return t}function EY(e,t,n,r){const i=_Y(n),s=e.value||"",o=i==="`"?"GraveAccent":"Tilde";if(Jg(e,n)){const d=n.enter("codeIndented"),f=n.indentLines(s,vY);return d(),f}const a=n.createTracker(r),l=i.repeat(Math.max(yY(s,i)+1,3)),u=n.enter("codeFenced");let c=a.move(l);if(e.lang){const d=n.enter(`codeFencedLang${o}`);c+=a.move(n.safe(e.lang,{before:c,after:" ",encode:["`"],...a.current()})),d()}if(e.lang&&e.meta){const d=n.enter(`codeFencedMeta${o}`);c+=a.move(" "),c+=a.move(n.safe(e.meta,{before:c,after:`
`,encode:["`"],...a.current()})),d()}return c+=a.move(`
`),s&&(c+=a.move(s+`
`)),c+=a.move(l),u(),c}function vY(e,t,n){return(n?"":"    ")+e}function s1(e){const t=e.options.quote||'"';if(t!=='"'&&t!=="'")throw new Error("Cannot serialize title with `"+t+"` for `options.quote`, expected `\"`, or `'`");return t}function TY(e,t,n,r){const i=s1(n),s=i==='"'?"Quote":"Apostrophe",o=n.enter("definition");let a=n.enter("label");const l=n.createTracker(r);let u=l.move("[");return u+=l.move(n.safe(n.associationId(e),{before:u,after:"]",...l.current()})),u+=l.move("]: "),a(),!e.url||/[\0- \u007F]/.test(e.url)?(a=n.enter("destinationLiteral"),u+=l.move("<"),u+=l.move(n.safe(e.url,{before:u,after:">",...l.current()})),u+=l.move(">")):(a=n.enter("destinationRaw"),u+=l.move(n.safe(e.url,{before:u,after:e.title?" ":`
`,...l.current()}))),a(),e.title&&(a=n.enter(`title${s}`),u+=l.move(" "+i),u+=l.move(n.safe(e.title,{before:u,after:i,...l.current()})),u+=l.move(i),a()),o(),u}function wY(e){const t=e.options.emphasis||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize emphasis with `"+t+"` for `options.emphasis`, expected `*`, or `_`");return t}function ao(e){return"&#x"+e.toString(16).toUpperCase()+";"}function Pf(e,t,n){const r=Mf(e),i=Mf(t);return r===void 0?i===void 0?n==="_"?{inside:!0,outside:!0}:{inside:!1,outside:!1}:i===1?{inside:!0,outside:!0}:{inside:!1,outside:!0}:r===1?i===void 0?{inside:!1,outside:!1}:i===1?{inside:!0,outside:!0}:{inside:!1,outside:!1}:i===void 0?{inside:!1,outside:!1}:i===1?{inside:!0,outside:!1}:{inside:!1,outside:!1}}SO.peek=xY;function SO(e,t,n,r){const i=wY(n),s=n.enter("emphasis"),o=n.createTracker(r),a=o.move(i);let l=o.move(n.containerPhrasing(e,{after:i,before:a,...o.current()}));const u=l.charCodeAt(0),c=Pf(r.before.charCodeAt(r.before.length-1),u,i);c.inside&&(l=ao(u)+l.slice(1));const d=l.charCodeAt(l.length-1),f=Pf(r.after.charCodeAt(0),d,i);f.inside&&(l=l.slice(0,-1)+ao(d));const p=o.move(i);return s(),n.attentionEncodeSurroundingInfo={after:f.outside,before:c.outside},a+l+p}function xY(e,t,n){return n.options.emphasis||"*"}function AO(e,t){let n=!1;return rl(e,function(r){if("value"in r&&/\r?\n|\r/.test(r.value)||r.type==="break")return n=!0,Df}),!!((!e.depth||e.depth<3)&&Bp(e)&&(t.options.setext||n))}function CY(e,t,n,r){const i=Math.max(Math.min(6,e.depth||1),1),s=n.createTracker(r);if(AO(e,n)){const c=n.enter("headingSetext"),d=n.enter("phrasing"),f=n.containerPhrasing(e,{...s.current(),before:`
`,after:`
`});return d(),c(),f+`
`+(i===1?"=":"-").repeat(f.length-(Math.max(f.lastIndexOf("\r"),f.lastIndexOf(`
`))+1))}const o="#".repeat(i),a=n.enter("headingAtx"),l=n.enter("phrasing");s.move(o+" ");let u=n.containerPhrasing(e,{before:"# ",after:`
`,...s.current()});return/^[\t ]/.test(u)&&(u=ao(u.charCodeAt(0))+u.slice(1)),u=u?o+" "+u:o,n.options.closeAtx&&(u+=" "+o),l(),a(),u}kO.peek=SY;function kO(e){return e.value||""}function SY(){return"<"}OO.peek=AY;function OO(e,t,n,r){const i=s1(n),s=i==='"'?"Quote":"Apostrophe",o=n.enter("image");let a=n.enter("label");const l=n.createTracker(r);let u=l.move("![");return u+=l.move(n.safe(e.alt,{before:u,after:"]",...l.current()})),u+=l.move("]("),a(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(a=n.enter("destinationLiteral"),u+=l.move("<"),u+=l.move(n.safe(e.url,{before:u,after:">",...l.current()})),u+=l.move(">")):(a=n.enter("destinationRaw"),u+=l.move(n.safe(e.url,{before:u,after:e.title?" ":")",...l.current()}))),a(),e.title&&(a=n.enter(`title${s}`),u+=l.move(" "+i),u+=l.move(n.safe(e.title,{before:u,after:i,...l.current()})),u+=l.move(i),a()),u+=l.move(")"),o(),u}function AY(){return"!"}IO.peek=kY;function IO(e,t,n,r){const i=e.referenceType,s=n.enter("imageReference");let o=n.enter("label");const a=n.createTracker(r);let l=a.move("![");const u=n.safe(e.alt,{before:l,after:"]",...a.current()});l+=a.move(u+"]["),o();const c=n.stack;n.stack=[],o=n.enter("reference");const d=n.safe(n.associationId(e),{before:l,after:"]",...a.current()});return o(),n.stack=c,s(),i==="full"||!u||u!==d?l+=a.move(d+"]"):i==="shortcut"?l=l.slice(0,-1):l+=a.move("]"),l}function kY(){return"!"}NO.peek=OY;function NO(e,t,n){let r=e.value||"",i="`",s=-1;for(;new RegExp("(^|[^`])"+i+"([^`]|$)").test(r);)i+="`";for(/[^ \r\n]/.test(r)&&(/^[ \r\n]/.test(r)&&/[ \r\n]$/.test(r)||/^`|`$/.test(r))&&(r=" "+r+" ");++s<n.unsafe.length;){const o=n.unsafe[s],a=n.compilePattern(o);let l;if(o.atBreak)for(;l=a.exec(r);){let u=l.index;r.charCodeAt(u)===10&&r.charCodeAt(u-1)===13&&u--,r=r.slice(0,u)+" "+r.slice(l.index+1)}}return i+r+i}function OY(){return"`"}function RO(e,t){const n=Bp(e);return!!(!t.options.resourceLink&&e.url&&!e.title&&e.children&&e.children.length===1&&e.children[0].type==="text"&&(n===e.url||"mailto:"+n===e.url)&&/^[a-z][a-z+.-]+:/i.test(e.url)&&!/[\0- <>\u007F]/.test(e.url))}DO.peek=IY;function DO(e,t,n,r){const i=s1(n),s=i==='"'?"Quote":"Apostrophe",o=n.createTracker(r);let a,l;if(RO(e,n)){const c=n.stack;n.stack=[],a=n.enter("autolink");let d=o.move("<");return d+=o.move(n.containerPhrasing(e,{before:d,after:">",...o.current()})),d+=o.move(">"),a(),n.stack=c,d}a=n.enter("link"),l=n.enter("label");let u=o.move("[");return u+=o.move(n.containerPhrasing(e,{before:u,after:"](",...o.current()})),u+=o.move("]("),l(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(l=n.enter("destinationLiteral"),u+=o.move("<"),u+=o.move(n.safe(e.url,{before:u,after:">",...o.current()})),u+=o.move(">")):(l=n.enter("destinationRaw"),u+=o.move(n.safe(e.url,{before:u,after:e.title?" ":")",...o.current()}))),l(),e.title&&(l=n.enter(`title${s}`),u+=o.move(" "+i),u+=o.move(n.safe(e.title,{before:u,after:i,...o.current()})),u+=o.move(i),l()),u+=o.move(")"),a(),u}function IY(e,t,n){return RO(e,n)?"<":"["}MO.peek=NY;function MO(e,t,n,r){const i=e.referenceType,s=n.enter("linkReference");let o=n.enter("label");const a=n.createTracker(r);let l=a.move("[");const u=n.containerPhrasing(e,{before:l,after:"]",...a.current()});l+=a.move(u+"]["),o();const c=n.stack;n.stack=[],o=n.enter("reference");const d=n.safe(n.associationId(e),{before:l,after:"]",...a.current()});return o(),n.stack=c,s(),i==="full"||!u||u!==d?l+=a.move(d+"]"):i==="shortcut"?l=l.slice(0,-1):l+=a.move("]"),l}function NY(){return"["}function o1(e){const t=e.options.bullet||"*";if(t!=="*"&&t!=="+"&&t!=="-")throw new Error("Cannot serialize items with `"+t+"` for `options.bullet`, expected `*`, `+`, or `-`");return t}function RY(e){const t=o1(e),n=e.options.bulletOther;if(!n)return t==="*"?"-":"*";if(n!=="*"&&n!=="+"&&n!=="-")throw new Error("Cannot serialize items with `"+n+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(n===t)throw new Error("Expected `bullet` (`"+t+"`) and `bulletOther` (`"+n+"`) to be different");return n}function DY(e){const t=e.options.bulletOrdered||".";if(t!=="."&&t!==")")throw new Error("Cannot serialize items with `"+t+"` for `options.bulletOrdered`, expected `.` or `)`");return t}function PO(e){const t=e.options.rule||"*";if(t!=="*"&&t!=="-"&&t!=="_")throw new Error("Cannot serialize rules with `"+t+"` for `options.rule`, expected `*`, `-`, or `_`");return t}function MY(e,t,n,r){const i=n.enter("list"),s=n.bulletCurrent;let o=e.ordered?DY(n):o1(n);const a=e.ordered?o==="."?")":".":RY(n);let l=t&&n.bulletLastUsed?o===n.bulletLastUsed:!1;if(!e.ordered){const c=e.children?e.children[0]:void 0;if((o==="*"||o==="-")&&c&&(!c.children||!c.children[0])&&n.stack[n.stack.length-1]==="list"&&n.stack[n.stack.length-2]==="listItem"&&n.stack[n.stack.length-3]==="list"&&n.stack[n.stack.length-4]==="listItem"&&n.indexStack[n.indexStack.length-1]===0&&n.indexStack[n.indexStack.length-2]===0&&n.indexStack[n.indexStack.length-3]===0&&(l=!0),PO(n)===o&&c){let d=-1;for(;++d<e.children.length;){const f=e.children[d];if(f&&f.type==="listItem"&&f.children&&f.children[0]&&f.children[0].type==="thematicBreak"){l=!0;break}}}}l&&(o=a),n.bulletCurrent=o;const u=n.containerFlow(e,r);return n.bulletLastUsed=o,n.bulletCurrent=s,i(),u}function PY(e){const t=e.options.listItemIndent||"one";if(t!=="tab"&&t!=="one"&&t!=="mixed")throw new Error("Cannot serialize items with `"+t+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return t}function LY(e,t,n,r){const i=PY(n);let s=n.bulletCurrent||o1(n);t&&t.type==="list"&&t.ordered&&(s=(typeof t.start=="number"&&t.start>-1?t.start:1)+(n.options.incrementListMarker===!1?0:t.children.indexOf(e))+s);let o=s.length+1;(i==="tab"||i==="mixed"&&(t&&t.type==="list"&&t.spread||e.spread))&&(o=Math.ceil(o/4)*4);const a=n.createTracker(r);a.move(s+" ".repeat(o-s.length)),a.shift(o);const l=n.enter("listItem"),u=n.indentLines(n.containerFlow(e,a.current()),c);return l(),u;function c(d,f,p){return f?(p?"":" ".repeat(o))+d:(p?s:s+" ".repeat(o-s.length))+d}}function BY(e,t,n,r){const i=n.enter("paragraph"),s=n.enter("phrasing"),o=n.containerPhrasing(e,r);return s(),i(),o}function $Y(e,t,n,r){return(e.children.some(function(o){return Xk(o)})?n.containerPhrasing:n.containerFlow).call(n,e,r)}function FY(e){const t=e.options.strong||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize strong with `"+t+"` for `options.strong`, expected `*`, or `_`");return t}LO.peek=UY;function LO(e,t,n,r){const i=FY(n),s=n.enter("strong"),o=n.createTracker(r),a=o.move(i+i);let l=o.move(n.containerPhrasing(e,{after:i,before:a,...o.current()}));const u=l.charCodeAt(0),c=Pf(r.before.charCodeAt(r.before.length-1),u,i);c.inside&&(l=ao(u)+l.slice(1));const d=l.charCodeAt(l.length-1),f=Pf(r.after.charCodeAt(0),d,i);f.inside&&(l=l.slice(0,-1)+ao(d));const p=o.move(i+i);return s(),n.attentionEncodeSurroundingInfo={after:f.outside,before:c.outside},a+l+p}function UY(e,t,n){return n.options.strong||"*"}function HY(e,t,n,r){return n.safe(e.value,r)}function zY(e){const t=e.options.ruleRepetition||3;if(t<3)throw new Error("Cannot serialize rules with repetition `"+t+"` for `options.ruleRepetition`, expected `3` or more");return t}function VY(e,t,n){const r=(PO(n)+(n.options.ruleSpaces?" ":"")).repeat(zY(n));return n.options.ruleSpaces?r.slice(0,-1):r}const jY={blockquote:gY,break:jv,code:EY,definition:TY,emphasis:SO,hardBreak:jv,heading:CY,html:kO,image:OO,imageReference:IO,inlineCode:NO,link:DO,linkReference:MO,list:MY,listItem:LY,paragraph:BY,root:$Y,strong:LO,text:HY,thematicBreak:VY},qY=[WY];function WY(e,t,n,r){if(t.type==="code"&&Jg(t,r)&&(e.type==="list"||e.type===t.type&&Jg(e,r)))return!1;if("spread"in n&&typeof n.spread=="boolean")return e.type==="paragraph"&&(e.type===t.type||t.type==="definition"||t.type==="heading"&&AO(t,r))?void 0:n.spread?1:0}const Oo=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"],YY=[{character:"	",after:"[\\r\\n]",inConstruct:"phrasing"},{character:"	",before:"[\\r\\n]",inConstruct:"phrasing"},{character:"	",inConstruct:["codeFencedLangGraveAccent","codeFencedLangTilde"]},{character:"\r",inConstruct:["codeFencedLangGraveAccent","codeFencedLangTilde","codeFencedMetaGraveAccent","codeFencedMetaTilde","destinationLiteral","headingAtx"]},{character:`
`,inConstruct:["codeFencedLangGraveAccent","codeFencedLangTilde","codeFencedMetaGraveAccent","codeFencedMetaTilde","destinationLiteral","headingAtx"]},{character:" ",after:"[\\r\\n]",inConstruct:"phrasing"},{character:" ",before:"[\\r\\n]",inConstruct:"phrasing"},{character:" ",inConstruct:["codeFencedLangGraveAccent","codeFencedLangTilde"]},{character:"!",after:"\\[",inConstruct:"phrasing",notInConstruct:Oo},{character:'"',inConstruct:"titleQuote"},{atBreak:!0,character:"#"},{character:"#",inConstruct:"headingAtx",after:`(?:[\r
]|$)`},{character:"&",after:"[#A-Za-z]",inConstruct:"phrasing"},{character:"'",inConstruct:"titleApostrophe"},{character:"(",inConstruct:"destinationRaw"},{before:"\\]",character:"(",inConstruct:"phrasing",notInConstruct:Oo},{atBreak:!0,before:"\\d+",character:")"},{character:")",inConstruct:"destinationRaw"},{atBreak:!0,character:"*",after:`(?:[ 	\r
*])`},{character:"*",inConstruct:"phrasing",notInConstruct:Oo},{atBreak:!0,character:"+",after:`(?:[ 	\r
])`},{atBreak:!0,character:"-",after:`(?:[ 	\r
-])`},{atBreak:!0,before:"\\d+",character:".",after:`(?:[ 	\r
]|$)`},{atBreak:!0,character:"<",after:"[!/?A-Za-z]"},{character:"<",after:"[!/?A-Za-z]",inConstruct:"phrasing",notInConstruct:Oo},{character:"<",inConstruct:"destinationLiteral"},{atBreak:!0,character:"="},{atBreak:!0,character:">"},{character:">",inConstruct:"destinationLiteral"},{atBreak:!0,character:"["},{character:"[",inConstruct:"phrasing",notInConstruct:Oo},{character:"[",inConstruct:["label","reference"]},{character:"\\",after:"[\\r\\n]",inConstruct:"phrasing"},{character:"]",inConstruct:["label","reference"]},{atBreak:!0,character:"_"},{character:"_",inConstruct:"phrasing",notInConstruct:Oo},{atBreak:!0,character:"`"},{character:"`",inConstruct:["codeFencedLangGraveAccent","codeFencedMetaGraveAccent"]},{character:"`",inConstruct:"phrasing",notInConstruct:Oo},{atBreak:!0,character:"~"}];function GY(e){return e.label||!e.identifier?e.label||"":vO(e.identifier)}function KY(e){if(!e._compiled){const t=(e.atBreak?"[\\r\\n][\\t ]*":"")+(e.before?"(?:"+e.before+")":"");e._compiled=new RegExp((t?"("+t+")":"")+(/[|\\{}()[\]^$+*?.-]/.test(e.character)?"\\":"")+e.character+(e.after?"(?:"+e.after+")":""),"g")}return e._compiled}function XY(e,t,n){const r=t.indexStack,i=e.children||[],s=[];let o=-1,a=n.before,l;r.push(-1);let u=t.createTracker(n);for(;++o<i.length;){const c=i[o];let d;if(r[r.length-1]=o,o+1<i.length){let m=t.handle.handlers[i[o+1].type];m&&m.peek&&(m=m.peek),d=m?m(i[o+1],e,t,{before:"",after:"",...u.current()}).charAt(0):""}else d=n.after;s.length>0&&(a==="\r"||a===`
`)&&c.type==="html"&&(s[s.length-1]=s[s.length-1].replace(/(\r?\n|\r)$/," "),a=" ",u=t.createTracker(n),u.move(s.join("")));let f=t.handle(c,e,t,{...u.current(),after:d,before:a});l&&l===f.slice(0,1)&&(f=ao(l.charCodeAt(0))+f.slice(1));const p=t.attentionEncodeSurroundingInfo;t.attentionEncodeSurroundingInfo=void 0,l=void 0,p&&(s.length>0&&p.before&&a===s[s.length-1].slice(-1)&&(s[s.length-1]=s[s.length-1].slice(0,-1)+ao(a.charCodeAt(0))),p.after&&(l=d)),u.move(f),s.push(f),a=f.slice(-1)}return r.pop(),s.join("")}function QY(e,t,n){const r=t.indexStack,i=e.children||[],s=t.createTracker(n),o=[];let a=-1;for(r.push(-1);++a<i.length;){const l=i[a];r[r.length-1]=a,o.push(s.move(t.handle(l,e,t,{before:`
`,after:`
`,...s.current()}))),l.type!=="list"&&(t.bulletLastUsed=void 0),a<i.length-1&&o.push(s.move(JY(l,i[a+1],e,t)))}return r.pop(),o.join("")}function JY(e,t,n,r){let i=r.join.length;for(;i--;){const s=r.join[i](e,t,n,r);if(s===!0||s===1)break;if(typeof s=="number")return`
`.repeat(1+s);if(s===!1)return`

<!---->

`}return`

`}const ZY=/\r?\n|\r/g;function eG(e,t){const n=[];let r=0,i=0,s;for(;s=ZY.exec(e);)o(e.slice(r,s.index)),n.push(s[0]),r=s.index+s[0].length,i++;return o(e.slice(r)),n.join("");function o(a){n.push(t(a,i,!a))}}function tG(e,t,n){const r=(n.before||"")+(t||"")+(n.after||""),i=[],s=[],o={};let a=-1;for(;++a<e.unsafe.length;){const c=e.unsafe[a];if(!CO(e.stack,c))continue;const d=e.compilePattern(c);let f;for(;f=d.exec(r);){const p="before"in c||!!c.atBreak,m="after"in c,g=f.index+(p?f[1].length:0);i.includes(g)?(o[g].before&&!p&&(o[g].before=!1),o[g].after&&!m&&(o[g].after=!1)):(i.push(g),o[g]={before:p,after:m})}}i.sort(nG);let l=n.before?n.before.length:0;const u=r.length-(n.after?n.after.length:0);for(a=-1;++a<i.length;){const c=i[a];c<l||c>=u||c+1<u&&i[a+1]===c+1&&o[c].after&&!o[c+1].before&&!o[c+1].after||i[a-1]===c-1&&o[c].before&&!o[c-1].before&&!o[c-1].after||(l!==c&&s.push(qv(r.slice(l,c),"\\")),l=c,/[!-/:-@[-`{-~]/.test(r.charAt(c))&&(!n.encode||!n.encode.includes(r.charAt(c)))?s.push("\\"):(s.push(ao(r.charCodeAt(c))),l++))}return s.push(qv(r.slice(l,u),n.after)),s.join("")}function nG(e,t){return e-t}function qv(e,t){const n=/\\(?=[!-/:-@[-`{-~])/g,r=[],i=[],s=e+t;let o=-1,a=0,l;for(;l=n.exec(s);)r.push(l.index);for(;++o<r.length;)a!==r[o]&&i.push(e.slice(a,r[o])),i.push("\\"),a=r[o];return i.push(e.slice(a)),i.join("")}function rG(e){const t=e||{},n=t.now||{};let r=t.lineShift||0,i=n.line||1,s=n.column||1;return{move:l,current:o,shift:a};function o(){return{now:{line:i,column:s},lineShift:r}}function a(u){r+=u}function l(u){const c=u||"",d=c.split(/\r?\n|\r/g),f=d[d.length-1];return i+=d.length-1,s=d.length===1?s+f.length:1+f.length+r,c}}function iG(e,t){const n=t||{},r={associationId:GY,containerPhrasing:lG,containerFlow:uG,createTracker:rG,compilePattern:KY,enter:s,handlers:{...jY},handle:void 0,indentLines:eG,indexStack:[],join:[...qY],options:{},safe:cG,stack:[],unsafe:[...YY]};xO(r,n),r.options.tightDefinitions&&r.join.push(aG),r.handle=sO("type",{invalid:sG,unknown:oG,handlers:r.handlers});let i=r.handle(e,void 0,r,{before:`
`,after:`
`,now:{line:1,column:1},lineShift:0});return i&&i.charCodeAt(i.length-1)!==10&&i.charCodeAt(i.length-1)!==13&&(i+=`
`),i;function s(o){return r.stack.push(o),a;function a(){r.stack.pop()}}}function sG(e){throw new Error("Cannot handle value `"+e+"`, expected node")}function oG(e){const t=e;throw new Error("Cannot handle unknown node `"+t.type+"`")}function aG(e,t){if(e.type==="definition"&&e.type===t.type)return 0}function lG(e,t){return XY(e,this,t)}function uG(e,t){return QY(e,this,t)}function cG(e,t){return tG(this,e,t)}function dG(e){const t=this;t.compiler=n;function n(r){return iG(r,{...t.data("settings"),...e,extensions:t.data("toMarkdownExtensions")||[]})}}function Wv(e){if(e)throw e}function fG(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var om,Yv;function pG(){if(Yv)return om;Yv=1;var e=Object.prototype.hasOwnProperty,t=Object.prototype.toString,n=Object.defineProperty,r=Object.getOwnPropertyDescriptor,i=function(u){return typeof Array.isArray=="function"?Array.isArray(u):t.call(u)==="[object Array]"},s=function(u){if(!u||t.call(u)!=="[object Object]")return!1;var c=e.call(u,"constructor"),d=u.constructor&&u.constructor.prototype&&e.call(u.constructor.prototype,"isPrototypeOf");if(u.constructor&&!c&&!d)return!1;var f;for(f in u);return typeof f>"u"||e.call(u,f)},o=function(u,c){n&&c.name==="__proto__"?n(u,c.name,{enumerable:!0,configurable:!0,value:c.newValue,writable:!0}):u[c.name]=c.newValue},a=function(u,c){if(c==="__proto__")if(e.call(u,c)){if(r)return r(u,c).value}else return;return u[c]};return om=function l(){var u,c,d,f,p,m,g=arguments[0],b=1,y=arguments.length,E=!1;for(typeof g=="boolean"&&(E=g,g=arguments[1]||{},b=2),(g==null||typeof g!="object"&&typeof g!="function")&&(g={});b<y;++b)if(u=arguments[b],u!=null)for(c in u)d=a(g,c),f=a(u,c),g!==f&&(E&&f&&(s(f)||(p=i(f)))?(p?(p=!1,m=d&&i(d)?d:[]):m=d&&s(d)?d:{},o(g,{name:c,newValue:l(E,m,f)})):typeof f<"u"&&o(g,{name:c,newValue:f}));return g},om}var hG=pG();const am=fG(hG);function Zg(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function mG(){const e=[],t={run:n,use:r};return t;function n(...i){let s=-1;const o=i.pop();if(typeof o!="function")throw new TypeError("Expected function as last argument, not "+o);a(null,...i);function a(l,...u){const c=e[++s];let d=-1;if(l){o(l);return}for(;++d<i.length;)(u[d]===null||u[d]===void 0)&&(u[d]=i[d]);i=u,c?gG(c,a)(...u):o(null,...u)}}function r(i){if(typeof i!="function")throw new TypeError("Expected `middelware` to be a function, not "+i);return e.push(i),t}}function gG(e,t){let n;return r;function r(...o){const a=e.length>o.length;let l;a&&o.push(i);try{l=e.apply(this,o)}catch(u){const c=u;if(a&&n)throw c;return i(c)}a||(l&&l.then&&typeof l.then=="function"?l.then(s,i):l instanceof Error?i(l):s(l))}function i(o,...a){n||(n=!0,t(o,...a))}function s(o){i(null,o)}}const bG=function(e){const r=this.constructor.prototype,i=r[e],s=function(){return i.apply(s,arguments)};return Object.setPrototypeOf(s,r),s},yG={}.hasOwnProperty;class a1 extends bG{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=mG()}copy(){const t=new a1;let n=-1;for(;++n<this.attachers.length;){const r=this.attachers[n];t.use(...r)}return t.data(am(!0,{},this.namespace)),t}data(t,n){return typeof t=="string"?arguments.length===2?(cm("data",this.frozen),this.namespace[t]=n,this):yG.call(this.namespace,t)&&this.namespace[t]||void 0:t?(cm("data",this.frozen),this.namespace=t,this):this.namespace}freeze(){if(this.frozen)return this;const t=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const i=n.call(t,...r);typeof i=="function"&&this.transformers.use(i)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(t){this.freeze();const n=yd(t),r=this.parser||this.Parser;return lm("parse",r),r(String(n),n)}process(t,n){const r=this;return this.freeze(),lm("process",this.parser||this.Parser),um("process",this.compiler||this.Compiler),n?i(void 0,n):new Promise(i);function i(s,o){const a=yd(t),l=r.parse(a);r.run(l,a,function(c,d,f){if(c||!d||!f)return u(c);const p=d,m=r.stringify(p,f);EG(m)?f.value=m:f.result=m,u(c,f)});function u(c,d){c||!d?o(c):s?s(d):n(void 0,d)}}}processSync(t){let n=!1,r;return this.freeze(),lm("processSync",this.parser||this.Parser),um("processSync",this.compiler||this.Compiler),this.process(t,i),Kv("processSync","process",n),r;function i(s,o){n=!0,Wv(s),r=o}}run(t,n,r){Gv(t),this.freeze();const i=this.transformers;return!r&&typeof n=="function"&&(r=n,n=void 0),r?s(void 0,r):new Promise(s);function s(o,a){const l=yd(n);i.run(t,l,u);function u(c,d,f){const p=d||t;c?a(c):o?o(p):r(void 0,p,f)}}}runSync(t,n){let r=!1,i;return this.run(t,n,s),Kv("runSync","run",r),i;function s(o,a){Wv(o),i=a,r=!0}}stringify(t,n){this.freeze();const r=yd(n),i=this.compiler||this.Compiler;return um("stringify",i),Gv(t),i(t,r)}use(t,...n){const r=this.attachers,i=this.namespace;if(cm("use",this.frozen),t!=null)if(typeof t=="function")l(t,n);else if(typeof t=="object")Array.isArray(t)?a(t):o(t);else throw new TypeError("Expected usable value, not `"+t+"`");return this;function s(u){if(typeof u=="function")l(u,[]);else if(typeof u=="object")if(Array.isArray(u)){const[c,...d]=u;l(c,d)}else o(u);else throw new TypeError("Expected usable value, not `"+u+"`")}function o(u){if(!("plugins"in u)&&!("settings"in u))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");a(u.plugins),u.settings&&(i.settings=am(!0,i.settings,u.settings))}function a(u){let c=-1;if(u!=null)if(Array.isArray(u))for(;++c<u.length;){const d=u[c];s(d)}else throw new TypeError("Expected a list of plugins, not `"+u+"`")}function l(u,c){let d=-1,f=-1;for(;++d<r.length;)if(r[d][0]===u){f=d;break}if(f===-1)r.push([u,...c]);else if(c.length>0){let[p,...m]=c;const g=r[f][1];Zg(g)&&Zg(p)&&(p=am(!0,g,p)),r[f]=[u,p,...m]}}}}const BO=new a1().freeze();function lm(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `parser`")}function um(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `compiler`")}function cm(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function Gv(e){if(!Zg(e)||typeof e.type!="string")throw new TypeError("Expected node, got `"+e+"`")}function Kv(e,t,n){if(!n)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}function yd(e){return _G(e)?e:new qg(e)}function _G(e){return!!(e&&typeof e=="object"&&"message"in e&&"messages"in e)}function EG(e){return typeof e=="string"||vG(e)}function vG(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}function Xv(e){return BO().use($7).use(mV).use(dG).processSync(e).toString()}function TG(e){return BO().use(pY).use(gq).processSync(e).toString()}/*! @license DOMPurify 2.5.8 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/2.5.8/LICENSE */function Hs(e){"@babel/helpers - typeof";return Hs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hs(e)}function e0(e,t){return e0=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},e0(e,t)}function wG(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Wd(e,t,n){return wG()?Wd=Reflect.construct:Wd=function(i,s,o){var a=[null];a.push.apply(a,s);var l=Function.bind.apply(i,a),u=new l;return o&&e0(u,o.prototype),u},Wd.apply(null,arguments)}function Qr(e){return xG(e)||CG(e)||SG(e)||AG()}function xG(e){if(Array.isArray(e))return t0(e)}function CG(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function SG(e,t){if(e){if(typeof e=="string")return t0(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return t0(e,t)}}function t0(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function AG(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var kG=Object.hasOwnProperty,Qv=Object.setPrototypeOf,OG=Object.isFrozen,IG=Object.getPrototypeOf,NG=Object.getOwnPropertyDescriptor,zn=Object.freeze,Ur=Object.seal,RG=Object.create,$O=typeof Reflect<"u"&&Reflect,Lf=$O.apply,n0=$O.construct;Lf||(Lf=function(t,n,r){return t.apply(n,r)});zn||(zn=function(t){return t});Ur||(Ur=function(t){return t});n0||(n0=function(t,n){return Wd(t,Qr(n))});var DG=Hr(Array.prototype.forEach),Jv=Hr(Array.prototype.pop),Jl=Hr(Array.prototype.push),Yd=Hr(String.prototype.toLowerCase),dm=Hr(String.prototype.toString),Zv=Hr(String.prototype.match),Xr=Hr(String.prototype.replace),MG=Hr(String.prototype.indexOf),PG=Hr(String.prototype.trim),bn=Hr(RegExp.prototype.test),fm=LG(TypeError);function Hr(e){return function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return Lf(e,t,r)}}function LG(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return n0(e,n)}}function Ke(e,t,n){var r;n=(r=n)!==null&&r!==void 0?r:Yd,Qv&&Qv(e,null);for(var i=t.length;i--;){var s=t[i];if(typeof s=="string"){var o=n(s);o!==s&&(OG(t)||(t[i]=o),s=o)}e[s]=!0}return e}function Io(e){var t=RG(null),n;for(n in e)Lf(kG,e,[n])===!0&&(t[n]=e[n]);return t}function _d(e,t){for(;e!==null;){var n=NG(e,t);if(n){if(n.get)return Hr(n.get);if(typeof n.value=="function")return Hr(n.value)}e=IG(e)}function r(i){return console.warn("fallback value for",i),null}return r}var eT=zn(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),pm=zn(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),hm=zn(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),BG=zn(["animate","color-profile","cursor","discard","fedropshadow","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),mm=zn(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),$G=zn(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),tT=zn(["#text"]),nT=zn(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),gm=zn(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),rT=zn(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),Ed=zn(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),FG=Ur(/\{\{[\w\W]*|[\w\W]*\}\}/gm),UG=Ur(/<%[\w\W]*|[\w\W]*%>/gm),HG=Ur(/\${[\w\W]*}/gm),zG=Ur(/^data-[\-\w.\u00B7-\uFFFF]+$/),VG=Ur(/^aria-[\-\w]+$/),jG=Ur(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),qG=Ur(/^(?:\w+script|data):/i),WG=Ur(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),YG=Ur(/^html$/i),GG=Ur(/^[a-z][.\w]*(-[.\w]+)+$/i),KG=function(){return typeof window>"u"?null:window},XG=function(t,n){if(Hs(t)!=="object"||typeof t.createPolicy!="function")return null;var r=null,i="data-tt-policy-suffix";n.currentScript&&n.currentScript.hasAttribute(i)&&(r=n.currentScript.getAttribute(i));var s="dompurify"+(r?"#"+r:"");try{return t.createPolicy(s,{createHTML:function(a){return a},createScriptURL:function(a){return a}})}catch{return console.warn("TrustedTypes policy "+s+" could not be created."),null}};function FO(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:KG(),t=function(R){return FO(R)};if(t.version="2.5.8",t.removed=[],!e||!e.document||e.document.nodeType!==9)return t.isSupported=!1,t;var n=e.document,r=e.document,i=e.DocumentFragment,s=e.HTMLTemplateElement,o=e.Node,a=e.Element,l=e.NodeFilter,u=e.NamedNodeMap,c=u===void 0?e.NamedNodeMap||e.MozNamedAttrMap:u,d=e.HTMLFormElement,f=e.DOMParser,p=e.trustedTypes,m=a.prototype,g=_d(m,"cloneNode"),b=_d(m,"nextSibling"),y=_d(m,"childNodes"),E=_d(m,"parentNode");if(typeof s=="function"){var T=r.createElement("template");T.content&&T.content.ownerDocument&&(r=T.content.ownerDocument)}var C=XG(p,n),D=C?C.createHTML(""):"",_=r,M=_.implementation,G=_.createNodeIterator,B=_.createDocumentFragment,K=_.getElementsByTagName,V=n.importNode,H={};try{H=Io(r).documentMode?r.documentMode:{}}catch{}var te={};t.isSupported=typeof E=="function"&&M&&M.createHTMLDocument!==void 0&&H!==9;var Ee=FG,me=UG,xe=HG,Ce=zG,ve=VG,$e=qG,k=WG,tt=GG,Qe=jG,I=null,lt=Ke({},[].concat(Qr(eT),Qr(pm),Qr(hm),Qr(mm),Qr(tT))),qe=null,Je=Ke({},[].concat(Qr(nT),Qr(gm),Qr(rT),Qr(Ed))),z=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),ce=null,fe=null,Se=!0,Xe=!0,A=!1,N=!0,L=!1,X=!0,Q=!1,J=!1,ge=!1,ae=!1,de=!1,ie=!1,Me=!0,Te=!1,Ie="user-content-",Le=!0,F=!1,Z={},be=null,Pe=Ke({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),Ve=null,kt=Ke({},["audio","video","img","source","image","track"]),Ft=null,tn=Ke({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),or="http://www.w3.org/1998/Math/MathML",Nt="http://www.w3.org/2000/svg",it="http://www.w3.org/1999/xhtml",wn=it,ar=!1,mh=null,eD=Ke({},[or,Nt,it],dm),vo,tD=["application/xhtml+xml","text/html"],nD="text/html",nn,ga=null,rD=r.createElement("form"),ky=function(R){return R instanceof RegExp||R instanceof Function},gh=function(R){ga&&ga===R||((!R||Hs(R)!=="object")&&(R={}),R=Io(R),vo=tD.indexOf(R.PARSER_MEDIA_TYPE)===-1?vo=nD:vo=R.PARSER_MEDIA_TYPE,nn=vo==="application/xhtml+xml"?dm:Yd,I="ALLOWED_TAGS"in R?Ke({},R.ALLOWED_TAGS,nn):lt,qe="ALLOWED_ATTR"in R?Ke({},R.ALLOWED_ATTR,nn):Je,mh="ALLOWED_NAMESPACES"in R?Ke({},R.ALLOWED_NAMESPACES,dm):eD,Ft="ADD_URI_SAFE_ATTR"in R?Ke(Io(tn),R.ADD_URI_SAFE_ATTR,nn):tn,Ve="ADD_DATA_URI_TAGS"in R?Ke(Io(kt),R.ADD_DATA_URI_TAGS,nn):kt,be="FORBID_CONTENTS"in R?Ke({},R.FORBID_CONTENTS,nn):Pe,ce="FORBID_TAGS"in R?Ke({},R.FORBID_TAGS,nn):{},fe="FORBID_ATTR"in R?Ke({},R.FORBID_ATTR,nn):{},Z="USE_PROFILES"in R?R.USE_PROFILES:!1,Se=R.ALLOW_ARIA_ATTR!==!1,Xe=R.ALLOW_DATA_ATTR!==!1,A=R.ALLOW_UNKNOWN_PROTOCOLS||!1,N=R.ALLOW_SELF_CLOSE_IN_ATTR!==!1,L=R.SAFE_FOR_TEMPLATES||!1,X=R.SAFE_FOR_XML!==!1,Q=R.WHOLE_DOCUMENT||!1,ae=R.RETURN_DOM||!1,de=R.RETURN_DOM_FRAGMENT||!1,ie=R.RETURN_TRUSTED_TYPE||!1,ge=R.FORCE_BODY||!1,Me=R.SANITIZE_DOM!==!1,Te=R.SANITIZE_NAMED_PROPS||!1,Le=R.KEEP_CONTENT!==!1,F=R.IN_PLACE||!1,Qe=R.ALLOWED_URI_REGEXP||Qe,wn=R.NAMESPACE||it,z=R.CUSTOM_ELEMENT_HANDLING||{},R.CUSTOM_ELEMENT_HANDLING&&ky(R.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(z.tagNameCheck=R.CUSTOM_ELEMENT_HANDLING.tagNameCheck),R.CUSTOM_ELEMENT_HANDLING&&ky(R.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(z.attributeNameCheck=R.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),R.CUSTOM_ELEMENT_HANDLING&&typeof R.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(z.allowCustomizedBuiltInElements=R.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),L&&(Xe=!1),de&&(ae=!0),Z&&(I=Ke({},Qr(tT)),qe=[],Z.html===!0&&(Ke(I,eT),Ke(qe,nT)),Z.svg===!0&&(Ke(I,pm),Ke(qe,gm),Ke(qe,Ed)),Z.svgFilters===!0&&(Ke(I,hm),Ke(qe,gm),Ke(qe,Ed)),Z.mathMl===!0&&(Ke(I,mm),Ke(qe,rT),Ke(qe,Ed))),R.ADD_TAGS&&(I===lt&&(I=Io(I)),Ke(I,R.ADD_TAGS,nn)),R.ADD_ATTR&&(qe===Je&&(qe=Io(qe)),Ke(qe,R.ADD_ATTR,nn)),R.ADD_URI_SAFE_ATTR&&Ke(Ft,R.ADD_URI_SAFE_ATTR,nn),R.FORBID_CONTENTS&&(be===Pe&&(be=Io(be)),Ke(be,R.FORBID_CONTENTS,nn)),Le&&(I["#text"]=!0),Q&&Ke(I,["html","head","body"]),I.table&&(Ke(I,["tbody"]),delete ce.tbody),zn&&zn(R),ga=R)},Oy=Ke({},["mi","mo","mn","ms","mtext"]),Iy=Ke({},["annotation-xml"]),iD=Ke({},["title","style","font","a","script"]),ed=Ke({},pm);Ke(ed,hm),Ke(ed,BG);var bh=Ke({},mm);Ke(bh,$G);var sD=function(R){var le=E(R);(!le||!le.tagName)&&(le={namespaceURI:wn,tagName:"template"});var we=Yd(R.tagName),ut=Yd(le.tagName);return mh[R.namespaceURI]?R.namespaceURI===Nt?le.namespaceURI===it?we==="svg":le.namespaceURI===or?we==="svg"&&(ut==="annotation-xml"||Oy[ut]):!!ed[we]:R.namespaceURI===or?le.namespaceURI===it?we==="math":le.namespaceURI===Nt?we==="math"&&Iy[ut]:!!bh[we]:R.namespaceURI===it?le.namespaceURI===Nt&&!Iy[ut]||le.namespaceURI===or&&!Oy[ut]?!1:!bh[we]&&(iD[we]||!ed[we]):!!(vo==="application/xhtml+xml"&&mh[R.namespaceURI]):!1},xr=function(R){Jl(t.removed,{element:R});try{R.parentNode.removeChild(R)}catch{try{R.outerHTML=D}catch{R.remove()}}},td=function(R,le){try{Jl(t.removed,{attribute:le.getAttributeNode(R),from:le})}catch{Jl(t.removed,{attribute:null,from:le})}if(le.removeAttribute(R),R==="is"&&!qe[R])if(ae||de)try{xr(le)}catch{}else try{le.setAttribute(R,"")}catch{}},Ny=function(R){var le,we;if(ge)R="<remove></remove>"+R;else{var ut=Zv(R,/^[\r\n\t ]+/);we=ut&&ut[0]}vo==="application/xhtml+xml"&&wn===it&&(R='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+R+"</body></html>");var Gn=C?C.createHTML(R):R;if(wn===it)try{le=new f().parseFromString(Gn,vo)}catch{}if(!le||!le.documentElement){le=M.createDocument(wn,"template",null);try{le.documentElement.innerHTML=ar?D:Gn}catch{}}var xn=le.body||le.documentElement;return R&&we&&xn.insertBefore(r.createTextNode(we),xn.childNodes[0]||null),wn===it?K.call(le,Q?"html":"body")[0]:Q?le.documentElement:xn},Ry=function(R){return G.call(R.ownerDocument||R,R,l.SHOW_ELEMENT|l.SHOW_COMMENT|l.SHOW_TEXT|l.SHOW_PROCESSING_INSTRUCTION|l.SHOW_CDATA_SECTION,null,!1)},yh=function(R){return R instanceof d&&(typeof R.nodeName!="string"||typeof R.textContent!="string"||typeof R.removeChild!="function"||!(R.attributes instanceof c)||typeof R.removeAttribute!="function"||typeof R.setAttribute!="function"||typeof R.namespaceURI!="string"||typeof R.insertBefore!="function"||typeof R.hasChildNodes!="function")},Bl=function(R){return Hs(o)==="object"?R instanceof o:R&&Hs(R)==="object"&&typeof R.nodeType=="number"&&typeof R.nodeName=="string"},Wi=function(R,le,we){te[R]&&DG(te[R],function(ut){ut.call(t,le,we,ga)})},Dy=function(R){var le;if(Wi("beforeSanitizeElements",R,null),yh(R)||bn(/[\u0080-\uFFFF]/,R.nodeName))return xr(R),!0;var we=nn(R.nodeName);if(Wi("uponSanitizeElement",R,{tagName:we,allowedTags:I}),R.hasChildNodes()&&!Bl(R.firstElementChild)&&(!Bl(R.content)||!Bl(R.content.firstElementChild))&&bn(/<[/\w]/g,R.innerHTML)&&bn(/<[/\w]/g,R.textContent)||we==="select"&&bn(/<template/i,R.innerHTML)||R.nodeType===7||X&&R.nodeType===8&&bn(/<[/\w]/g,R.data))return xr(R),!0;if(!I[we]||ce[we]){if(!ce[we]&&Py(we)&&(z.tagNameCheck instanceof RegExp&&bn(z.tagNameCheck,we)||z.tagNameCheck instanceof Function&&z.tagNameCheck(we)))return!1;if(Le&&!be[we]){var ut=E(R)||R.parentNode,Gn=y(R)||R.childNodes;if(Gn&&ut)for(var xn=Gn.length,gn=xn-1;gn>=0;--gn){var To=g(Gn[gn],!0);To.__removalCount=(R.__removalCount||0)+1,ut.insertBefore(To,b(R))}}return xr(R),!0}return R instanceof a&&!sD(R)||(we==="noscript"||we==="noembed"||we==="noframes")&&bn(/<\/no(script|embed|frames)/i,R.innerHTML)?(xr(R),!0):(L&&R.nodeType===3&&(le=R.textContent,le=Xr(le,Ee," "),le=Xr(le,me," "),le=Xr(le,xe," "),R.textContent!==le&&(Jl(t.removed,{element:R.cloneNode()}),R.textContent=le)),Wi("afterSanitizeElements",R,null),!1)},My=function(R,le,we){if(Me&&(le==="id"||le==="name")&&(we in r||we in rD))return!1;if(!(Xe&&!fe[le]&&bn(Ce,le))){if(!(Se&&bn(ve,le))){if(!qe[le]||fe[le]){if(!(Py(R)&&(z.tagNameCheck instanceof RegExp&&bn(z.tagNameCheck,R)||z.tagNameCheck instanceof Function&&z.tagNameCheck(R))&&(z.attributeNameCheck instanceof RegExp&&bn(z.attributeNameCheck,le)||z.attributeNameCheck instanceof Function&&z.attributeNameCheck(le))||le==="is"&&z.allowCustomizedBuiltInElements&&(z.tagNameCheck instanceof RegExp&&bn(z.tagNameCheck,we)||z.tagNameCheck instanceof Function&&z.tagNameCheck(we))))return!1}else if(!Ft[le]){if(!bn(Qe,Xr(we,k,""))){if(!((le==="src"||le==="xlink:href"||le==="href")&&R!=="script"&&MG(we,"data:")===0&&Ve[R])){if(!(A&&!bn($e,Xr(we,k,"")))){if(we)return!1}}}}}}return!0},Py=function(R){return R!=="annotation-xml"&&Zv(R,tt)},Ly=function(R){var le,we,ut,Gn;Wi("beforeSanitizeAttributes",R,null);var xn=R.attributes;if(!(!xn||yh(R))){var gn={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:qe};for(Gn=xn.length;Gn--;){le=xn[Gn];var To=le,Kt=To.name,_h=To.namespaceURI;if(we=Kt==="value"?le.value:PG(le.value),ut=nn(Kt),gn.attrName=ut,gn.attrValue=we,gn.keepAttr=!0,gn.forceKeepAttr=void 0,Wi("uponSanitizeAttribute",R,gn),we=gn.attrValue,!gn.forceKeepAttr&&(td(Kt,R),!!gn.keepAttr)){if(!N&&bn(/\/>/i,we)){td(Kt,R);continue}L&&(we=Xr(we,Ee," "),we=Xr(we,me," "),we=Xr(we,xe," "));var By=nn(R.nodeName);if(My(By,ut,we)){if(Te&&(ut==="id"||ut==="name")&&(td(Kt,R),we=Ie+we),X&&bn(/((--!?|])>)|<\/(style|title)/i,we)){td(Kt,R);continue}if(C&&Hs(p)==="object"&&typeof p.getAttributeType=="function"&&!_h)switch(p.getAttributeType(By,ut)){case"TrustedHTML":{we=C.createHTML(we);break}case"TrustedScriptURL":{we=C.createScriptURL(we);break}}try{_h?R.setAttributeNS(_h,Kt,we):R.setAttribute(Kt,we),yh(R)?xr(R):Jv(t.removed)}catch{}}}}Wi("afterSanitizeAttributes",R,null)}},oD=function Ne(R){var le,we=Ry(R);for(Wi("beforeSanitizeShadowDOM",R,null);le=we.nextNode();)Wi("uponSanitizeShadowNode",le,null),Dy(le),Ly(le),le.content instanceof i&&Ne(le.content);Wi("afterSanitizeShadowDOM",R,null)};return t.sanitize=function(Ne){var R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},le,we,ut,Gn,xn;if(ar=!Ne,ar&&(Ne="<!-->"),typeof Ne!="string"&&!Bl(Ne))if(typeof Ne.toString=="function"){if(Ne=Ne.toString(),typeof Ne!="string")throw fm("dirty is not a string, aborting")}else throw fm("toString is not a function");if(!t.isSupported){if(Hs(e.toStaticHTML)==="object"||typeof e.toStaticHTML=="function"){if(typeof Ne=="string")return e.toStaticHTML(Ne);if(Bl(Ne))return e.toStaticHTML(Ne.outerHTML)}return Ne}if(J||gh(R),t.removed=[],typeof Ne=="string"&&(F=!1),F){if(Ne.nodeName){var gn=nn(Ne.nodeName);if(!I[gn]||ce[gn])throw fm("root node is forbidden and cannot be sanitized in-place")}}else if(Ne instanceof o)le=Ny("<!---->"),we=le.ownerDocument.importNode(Ne,!0),we.nodeType===1&&we.nodeName==="BODY"||we.nodeName==="HTML"?le=we:le.appendChild(we);else{if(!ae&&!L&&!Q&&Ne.indexOf("<")===-1)return C&&ie?C.createHTML(Ne):Ne;if(le=Ny(Ne),!le)return ae?null:ie?D:""}le&&ge&&xr(le.firstChild);for(var To=Ry(F?Ne:le);ut=To.nextNode();)ut.nodeType===3&&ut===Gn||(Dy(ut),Ly(ut),ut.content instanceof i&&oD(ut.content),Gn=ut);if(Gn=null,F)return Ne;if(ae){if(de)for(xn=B.call(le.ownerDocument);le.firstChild;)xn.appendChild(le.firstChild);else xn=le;return(qe.shadowroot||qe.shadowrootmod)&&(xn=V.call(n,xn,!0)),xn}var Kt=Q?le.outerHTML:le.innerHTML;return Q&&I["!doctype"]&&le.ownerDocument&&le.ownerDocument.doctype&&le.ownerDocument.doctype.name&&bn(YG,le.ownerDocument.doctype.name)&&(Kt="<!DOCTYPE "+le.ownerDocument.doctype.name+`>
`+Kt),L&&(Kt=Xr(Kt,Ee," "),Kt=Xr(Kt,me," "),Kt=Xr(Kt,xe," ")),C&&ie?C.createHTML(Kt):Kt},t.setConfig=function(Ne){gh(Ne),J=!0},t.clearConfig=function(){ga=null,J=!1},t.isValidAttribute=function(Ne,R,le){ga||gh({});var we=nn(Ne),ut=nn(R);return My(we,ut,le)},t.addHook=function(Ne,R){typeof R=="function"&&(te[Ne]=te[Ne]||[],Jl(te[Ne],R))},t.removeHook=function(Ne){if(te[Ne])return Jv(te[Ne])},t.removeHooks=function(Ne){te[Ne]&&(te[Ne]=[])},t.removeAllHooks=function(){te={}},t}var r0=FO();const QG=["innerHTML"],JG={__name:"MarkdownBlock",props:{markdown:{type:String,required:!1}},setup(e){const t=e,n=yt(()=>t.markdown?r0.sanitize(TG(t.markdown)):null);return(r,i)=>(x(),P("div",{class:"markdown",innerHTML:n.value},null,8,QG))}},ZG=Object.freeze(Object.defineProperty({__proto__:null,default:JG},Symbol.toStringTag,{value:"Module"})),eK={props:{title:{type:String,required:!1},modelValue:{type:Boolean,required:!1,default:!1},size:{type:String,required:!1,default:"md"},hideClose:{type:Boolean,required:!1,default:!1}},emits:["opened","closed","update:modelValue"],data(){return{}},computed:{panelStyle(){return{maxHeight:"500px"}},isVisible:{immediate:!0,get(){return this.modelValue},set(e){this.$emit("update:modelValue",e)}},width(){switch(this.size){case"xxs":return"lg:w-1/6";case"xs":return"lg:w-1/4";case"sm":return"lg:w-1/3";case"md":return"lg:w-1/2";case"lg":return"lg:w-2/3";case"xl":return"lg:w-3/4";case"xxl":return"lg:w-11/12";case"full":return"w-full";default:return"lg:w-1/2"}},hasHeader(){return this.$slots.header||this.title},modalClass(){return["bg-white","border","border-gray-500","opacity-100","relative","mt-16","mb-auto","rounded-lg","shadow-md",this.width].join(" ")}},watch:{async isVisible(e){document.body.style.overflow="auto",e&&(await Ac(),this.setBodyMaxHeight(),document.body.style.overflow="hidden")}},mounted(){this.setBodyMaxHeight()},methods:{open(){this.isVisible=!0,this.$emit("opened")},close(){this.isVisible=!1,this.$emit("closed")},setBodyMaxHeight(){const e=this.$refs.panelbody.getBoundingClientRect();this.$refs.panelbody.style.maxHeight=`calc(90vh - ${e.y}px)`}}},tK={class:"flex border-b pt-2 pb-2 justify-between items-center"},nK={class:"px-4 pt-2"},rK={key:0,class:""},iK={ref:"panelbody",class:"overflow-auto px-4 pb-2 pt-2"},sK={key:0,class:"footer px-4 py-2"};function oK(e,t,n,r,i,s){return Ct((x(),P("div",{class:"fixed top-0 left-0 right-0 bottom-0 flex justify-center content-center z-50",onKeyup:t[2]||(t[2]=pb((...o)=>s.close&&s.close(...o),["esc"]))},[S("div",{id:"modal-backdrop",class:"fixed top-0 left-0 right-0 bottom-0 bg-black opacity-50",onClick:t[0]||(t[0]=(...o)=>s.close&&s.close(...o))}),S("div",{class:nt(s.modalClass)},[S("header",tK,[S("div",nK,[ke(e.$slots,"header",{},()=>[n.title?(x(),P("h2",rK,ye(n.title),1)):Oe("",!0)])]),n.hideClose?Oe("",!0):(x(),P("button",{key:0,class:"bock btn btn-xs gray mx-2",onClick:t[1]||(t[1]=(...o)=>s.close&&s.close(...o))}," X "))]),S("section",iK,[ke(e.$slots,"default")],512),e.$slots.footer?(x(),P("div",sK,[ke(e.$slots,"footer")])):Oe("",!0)],2)],544)),[[yr,s.isVisible]])}const aK=ne(eK,[["render",oK]]),lK=Object.freeze(Object.defineProperty({__proto__:null,default:aK},Symbol.toStringTag,{value:"Module"})),uK={props:{},data(){return{}},computed:{},methods:{}},cK={class:"note"};function dK(e,t,n,r,i,s){return x(),P("div",cK,[ke(e.$slots,"default")])}const fK=ne(uK,[["render",dK]]),pK=Object.freeze(Object.defineProperty({__proto__:null,default:fK},Symbol.toStringTag,{value:"Module"})),hK={name:"NotificationItem",props:{notification:{required:!0,type:Object}},emits:["removed"],data(){return{}},computed:{variant(){return this.notification.data.type||"info"}},methods:{async markRead(){this.notification.id&&(await ee.put(`/api/notifications/${this.notification.id}`),this.$emit("removed"))}}},mK={class:"flex items-center justify-between px-4"},gK={class:""},bK={key:1,class:"font-bold"};function yK(e,t,n,r,i,s){const o=Y("markdown-block"),a=Y("icon-close"),l=Y("static-alert");return x(),pe(l,{variant:s.variant},{default:W(()=>[S("div",mK,[S("div",gK,[n.notification.data.markdown?(x(),pe(o,{key:0,markdown:n.notification.data.message},null,8,["markdown"])):(x(),P("div",bK,ye(n.notification.data.message),1))]),S("button",{class:"block",onClick:t[0]||(t[0]=(...u)=>s.markRead&&s.markRead(...u))},[U(a)])])]),_:1},8,["variant"])}const UO=ne(hK,[["render",yK]]),_K=Object.freeze(Object.defineProperty({__proto__:null,default:UO},Symbol.toStringTag,{value:"Module"})),EK={__name:"NotificationList",props:{user:{type:Object,required:!0}},setup(e){const t=e,n=_t(!1),r=_t([]),i=async()=>{n.value=!0,t.user.person&&t.user.person.uuid&&(r.value=await ee.get(`/api/people/${t.user.person.uuid}/notifications/unread`).then(o=>o.data)),n.value=!1},s=o=>{const a=r.value.findIndex(l=>l.id===o.id);a>-1&&r.value.splice(a,1)};return vr(()=>{i()}),(o,a)=>(x(),pe(ZC,{tag:"div",name:"slide-fade-down"},{default:W(()=>[(x(!0),P(Ge,null,$t(r.value,l=>(x(),pe(UO,{key:l.id,notification:l,class:"mb-2",onRemoved:u=>s(l)},null,8,["notification","onRemoved"]))),128))]),_:1}))}},vK=Object.freeze(Object.defineProperty({__proto__:null,default:EK},Symbol.toStringTag,{value:"Module"})),TK={name:"ObjectDictionary",props:{obj:{type:Object,required:!0},except:{type:Array,required:!1},only:{type:Array,required:!1},order:{type:Array,required:!1},show:{type:Array,required:!1},dates:{type:Array,required:!1,default:()=>[]},labelWidthClass:{type:String,required:!1,default:"w-36"},labelClass:{type:String,required:!1,default:"w-36"}},data(){return{}},computed:{filteredObj(){return this.obj?this.show?this.getShow():this.except?this.getExcept():this.only?this.getOnly(this.only):this.obj:{}}},methods:{getOnly(e){const t={};return e.forEach(n=>{const r=this.format(n,this.obj[n]);t[this.titleCase(n)]=r||"--"}),t},getShow(){return this.getOnly(this.show)},getExcept(){const e={};return Object.keys(this.obj).forEach(t=>{this.except.includes(t)||(e[t]=this.format(this.obj[t]))}),e},format(e,t){return t&&(this.dates.includes(e)?hb(new Date(Date.parse(t))):t)}}},wK={key:0};function xK(e,t,n,r,i,s){const o=Y("dictionary-row");return s.filteredObj?(x(),P("div",wK,[(x(!0),P(Ge,null,$t(s.filteredObj,(a,l)=>(x(),pe(o,{key:l,label:e.titleCase(l),"label-class":n.labelClass},{default:W(()=>[Ae(ye(a),1)]),_:2},1032,["label","label-class"]))),128))])):Oe("",!0)}const CK=ne(TK,[["render",xK]]),SK=Object.freeze(Object.defineProperty({__proto__:null,default:CK},Symbol.toStringTag,{value:"Module"})),AK={name:"PaginationLinks",props:{currentPage:{type:Number,required:!0},pageSize:{type:Number,default:20},totalItems:{type:Number,required:!0}},emits:["update:currentPage"],data(){return{}},computed:{pagesCount(){return Math.ceil(this.totalItems/this.pageSize)},pages(){return pF(0,this.pagesCount)},displayPages(){const e=[];return this.pages.forEach(t=>{if(t===0||t===this.pagesCount-1||Math.abs(t-this.currentPage)<2)e.push({page:t+1,label:t+1});else{if(e[e.length-1].page===null)return;e.push({page:null,label:"..."})}}),e}},methods:{goToPreviousPage(){this.currentPage!==1&&this.$emit("update:currentPage",this.currentPage-1)},goToNextPage(){this.currentPage!==this.pagesCount&&this.$emit("update:currentPage",this.currentPage+1)}}},kK={class:"flex pagination-control"},OK=["onClick"],IK={key:1};function NK(e,t,n,r,i,s){return x(),P("div",null,[S("ul",kK,[S("li",null,[S("button",{class:nt(["link",{active:n.currentPage===1}]),onClick:t[0]||(t[0]=(...o)=>s.goToPreviousPage&&s.goToPreviousPage(...o))}," < ",2)]),(x(!0),P(Ge,null,$t(s.displayPages,(o,a)=>(x(),P("li",{key:a},[o.page!==null?(x(),P("button",{key:0,class:nt(["link px-2",{active:o.page===n.currentPage}]),onClick:l=>e.$emit("update:currentPage",o.page)},ye(o.label),11,OK)):(x(),P("span",IK,"…"))]))),128)),S("li",null,[S("button",{class:nt(["link",{active:n.currentPage==s.pagesCount}]),onClick:t[1]||(t[1]=(...o)=>s.goToNextPage&&s.goToNextPage(...o))}," > ",2)])])])}const RK=ne(AK,[["render",NK]]),DK=Object.freeze(Object.defineProperty({__proto__:null,default:RK},Symbol.toStringTag,{value:"Module"}));function i0(e,t,n){var r,i,s,o,a;t==null&&(t=100);function l(){var c=Date.now()-o;c<t&&c>=0?r=setTimeout(l,t-c):(r=null,n||(a=e.apply(s,i),s=i=null))}var u=function(){s=this,i=arguments,o=Date.now();var c=n&&!r;return r||(r=setTimeout(l,t)),c&&(a=e.apply(s,i),s=i=null),a};return u.clear=function(){r&&(clearTimeout(r),r=null)},u.flush=function(){r&&(a=e.apply(s,i),s=i=null,clearTimeout(r),r=null)},u}i0.debounce=i0;var bm=i0;function MK(e,t,n){Yt(e)?Tn(e,(r,i)=>{i==null||i.removeEventListener(t,n),r==null||r.addEventListener(t,n)}):vr(()=>{e.addEventListener(t,n)}),Tl(()=>{var r;(r=_e(e))===null||r===void 0||r.removeEventListener(t,n)})}function PK(e,t){const n="pointerdown";return typeof window>"u"||!window?void 0:MK(window,n,i=>{const s=_e(e);s&&(s===i.target||i.composedPath().includes(s)||t(i))})}function LK(e,t,n){let r=null;const i=_t(!1);vr(()=>{(e.content!==void 0||n.value)&&(i.value=!0),r=new MutationObserver(s),r.observe(t.value,{childList:!0,subtree:!0})}),Tl(()=>r.disconnect()),Tn(n,o=>{o?i.value=!0:i.value=!1});const s=()=>{e.content?i.value=!0:i.value=!1};return{hasContent:i}}function il(e,t){var n=e.getBoundingClientRect(),r=1,i=1;return{width:n.width/r,height:n.height/i,top:n.top/i,right:n.right/r,bottom:n.bottom/i,left:n.left/r,x:n.left/r,y:n.top/i}}function bi(e){if(e==null)return window;if(e.toString()!=="[object Window]"){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function l1(e){var t=bi(e),n=t.pageXOffset,r=t.pageYOffset;return{scrollLeft:n,scrollTop:r}}function sc(e){var t=bi(e).Element;return e instanceof t||e instanceof Element}function Pr(e){var t=bi(e).HTMLElement;return e instanceof t||e instanceof HTMLElement}function HO(e){if(typeof ShadowRoot>"u")return!1;var t=bi(e).ShadowRoot;return e instanceof t||e instanceof ShadowRoot}function BK(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}}function $K(e){return e===bi(e)||!Pr(e)?l1(e):BK(e)}function $i(e){return e?(e.nodeName||"").toLowerCase():null}function _o(e){return((sc(e)?e.ownerDocument:e.document)||window.document).documentElement}function u1(e){return il(_o(e)).left+l1(e).scrollLeft}function hs(e){return bi(e).getComputedStyle(e)}function c1(e){var t=hs(e),n=t.overflow,r=t.overflowX,i=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+i+r)}function FK(e){var t=e.getBoundingClientRect(),n=t.width/e.offsetWidth||1,r=t.height/e.offsetHeight||1;return n!==1||r!==1}function UK(e,t,n){n===void 0&&(n=!1);var r=Pr(t);Pr(t)&&FK(t);var i=_o(t),s=il(e),o={scrollLeft:0,scrollTop:0},a={x:0,y:0};return(r||!r&&!n)&&(($i(t)!=="body"||c1(i))&&(o=$K(t)),Pr(t)?(a=il(t),a.x+=t.clientLeft,a.y+=t.clientTop):i&&(a.x=u1(i))),{x:s.left+o.scrollLeft-a.x,y:s.top+o.scrollTop-a.y,width:s.width,height:s.height}}function d1(e){var t=il(e),n=e.offsetWidth,r=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-r)<=1&&(r=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:r}}function Up(e){return $i(e)==="html"?e:e.assignedSlot||e.parentNode||(HO(e)?e.host:null)||_o(e)}function zO(e){return["html","body","#document"].indexOf($i(e))>=0?e.ownerDocument.body:Pr(e)&&c1(e)?e:zO(Up(e))}function Du(e,t){var n;t===void 0&&(t=[]);var r=zO(e),i=r===((n=e.ownerDocument)==null?void 0:n.body),s=bi(r),o=i?[s].concat(s.visualViewport||[],c1(r)?r:[]):r,a=t.concat(o);return i?a:a.concat(Du(Up(o)))}function HK(e){return["table","td","th"].indexOf($i(e))>=0}function iT(e){return!Pr(e)||hs(e).position==="fixed"?null:e.offsetParent}function zK(e){var t=navigator.userAgent.toLowerCase().indexOf("firefox")!==-1,n=navigator.userAgent.indexOf("Trident")!==-1;if(n&&Pr(e)){var r=hs(e);if(r.position==="fixed")return null}for(var i=Up(e);Pr(i)&&["html","body"].indexOf($i(i))<0;){var s=hs(i);if(s.transform!=="none"||s.perspective!=="none"||s.contain==="paint"||["transform","perspective"].indexOf(s.willChange)!==-1||t&&s.willChange==="filter"||t&&s.filter&&s.filter!=="none")return i;i=i.parentNode}return null}function Hc(e){for(var t=bi(e),n=iT(e);n&&HK(n)&&hs(n).position==="static";)n=iT(n);return n&&($i(n)==="html"||$i(n)==="body"&&hs(n).position==="static")?t:n||zK(e)||t}var Lr="top",si="bottom",oi="right",Br="left",f1="auto",zc=[Lr,si,oi,Br],sl="start",oc="end",VK="clippingParents",VO="viewport",Zl="popper",jK="reference",sT=zc.reduce(function(e,t){return e.concat([t+"-"+sl,t+"-"+oc])},[]),jO=[].concat(zc,[f1]).reduce(function(e,t){return e.concat([t,t+"-"+sl,t+"-"+oc])},[]),qK="beforeRead",WK="read",YK="afterRead",GK="beforeMain",KK="main",XK="afterMain",QK="beforeWrite",JK="write",ZK="afterWrite",eX=[qK,WK,YK,GK,KK,XK,QK,JK,ZK];function tX(e){var t=new Map,n=new Set,r=[];e.forEach(function(s){t.set(s.name,s)});function i(s){n.add(s.name);var o=[].concat(s.requires||[],s.requiresIfExists||[]);o.forEach(function(a){if(!n.has(a)){var l=t.get(a);l&&i(l)}}),r.push(s)}return e.forEach(function(s){n.has(s.name)||i(s)}),r}function nX(e){var t=tX(e);return eX.reduce(function(n,r){return n.concat(t.filter(function(i){return i.phase===r}))},[])}function rX(e){var t;return function(){return t||(t=new Promise(function(n){Promise.resolve().then(function(){t=void 0,n(e())})})),t}}function Di(e){return e.split("-")[0]}function iX(e){var t=e.reduce(function(n,r){var i=n[r.name];return n[r.name]=i?Object.assign({},i,r,{options:Object.assign({},i.options,r.options),data:Object.assign({},i.data,r.data)}):r,n},{});return Object.keys(t).map(function(n){return t[n]})}function sX(e){var t=bi(e),n=_o(e),r=t.visualViewport,i=n.clientWidth,s=n.clientHeight,o=0,a=0;return r&&(i=r.width,s=r.height,/^((?!chrome|android).)*safari/i.test(navigator.userAgent)||(o=r.offsetLeft,a=r.offsetTop)),{width:i,height:s,x:o+u1(e),y:a}}var Qs=Math.max,ac=Math.min,vd=Math.round;function oX(e){var t,n=_o(e),r=l1(e),i=(t=e.ownerDocument)==null?void 0:t.body,s=Qs(n.scrollWidth,n.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),o=Qs(n.scrollHeight,n.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),a=-r.scrollLeft+u1(e),l=-r.scrollTop;return hs(i||n).direction==="rtl"&&(a+=Qs(n.clientWidth,i?i.clientWidth:0)-s),{width:s,height:o,x:a,y:l}}function qO(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&HO(n)){var r=t;do{if(r&&e.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function s0(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function aX(e){var t=il(e);return t.top=t.top+e.clientTop,t.left=t.left+e.clientLeft,t.bottom=t.top+e.clientHeight,t.right=t.left+e.clientWidth,t.width=e.clientWidth,t.height=e.clientHeight,t.x=t.left,t.y=t.top,t}function oT(e,t){return t===VO?s0(sX(e)):Pr(t)?aX(t):s0(oX(_o(e)))}function lX(e){var t=Du(Up(e)),n=["absolute","fixed"].indexOf(hs(e).position)>=0,r=n&&Pr(e)?Hc(e):e;return sc(r)?t.filter(function(i){return sc(i)&&qO(i,r)&&$i(i)!=="body"}):[]}function uX(e,t,n){var r=t==="clippingParents"?lX(e):[].concat(t),i=[].concat(r,[n]),s=i[0],o=i.reduce(function(a,l){var u=oT(e,l);return a.top=Qs(u.top,a.top),a.right=ac(u.right,a.right),a.bottom=ac(u.bottom,a.bottom),a.left=Qs(u.left,a.left),a},oT(e,s));return o.width=o.right-o.left,o.height=o.bottom-o.top,o.x=o.left,o.y=o.top,o}function ol(e){return e.split("-")[1]}function p1(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function WO(e){var t=e.reference,n=e.element,r=e.placement,i=r?Di(r):null,s=r?ol(r):null,o=t.x+t.width/2-n.width/2,a=t.y+t.height/2-n.height/2,l;switch(i){case Lr:l={x:o,y:t.y-n.height};break;case si:l={x:o,y:t.y+t.height};break;case oi:l={x:t.x+t.width,y:a};break;case Br:l={x:t.x-n.width,y:a};break;default:l={x:t.x,y:t.y}}var u=i?p1(i):null;if(u!=null){var c=u==="y"?"height":"width";switch(s){case sl:l[u]=l[u]-(t[c]/2-n[c]/2);break;case oc:l[u]=l[u]+(t[c]/2-n[c]/2);break}}return l}function YO(){return{top:0,right:0,bottom:0,left:0}}function GO(e){return Object.assign({},YO(),e)}function KO(e,t){return t.reduce(function(n,r){return n[r]=e,n},{})}function h1(e,t){t===void 0&&(t={});var n=t,r=n.placement,i=r===void 0?e.placement:r,s=n.boundary,o=s===void 0?VK:s,a=n.rootBoundary,l=a===void 0?VO:a,u=n.elementContext,c=u===void 0?Zl:u,d=n.altBoundary,f=d===void 0?!1:d,p=n.padding,m=p===void 0?0:p,g=GO(typeof m!="number"?m:KO(m,zc)),b=c===Zl?jK:Zl,y=e.rects.popper,E=e.elements[f?b:c],T=uX(sc(E)?E:E.contextElement||_o(e.elements.popper),o,l),C=il(e.elements.reference),D=WO({reference:C,element:y,placement:i}),_=s0(Object.assign({},y,D)),M=c===Zl?_:C,G={top:T.top-M.top+g.top,bottom:M.bottom-T.bottom+g.bottom,left:T.left-M.left+g.left,right:M.right-T.right+g.right},B=e.modifiersData.offset;if(c===Zl&&B){var K=B[i];Object.keys(G).forEach(function(V){var H=[oi,si].indexOf(V)>=0?1:-1,te=[Lr,si].indexOf(V)>=0?"y":"x";G[V]+=K[te]*H})}return G}var aT={placement:"bottom",modifiers:[],strategy:"absolute"};function lT(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function cX(e){e===void 0&&(e={});var t=e,n=t.defaultModifiers,r=n===void 0?[]:n,i=t.defaultOptions,s=i===void 0?aT:i;return function(a,l,u){u===void 0&&(u=s);var c={placement:"bottom",orderedModifiers:[],options:Object.assign({},aT,s),modifiersData:{},elements:{reference:a,popper:l},attributes:{},styles:{}},d=[],f=!1,p={state:c,setOptions:function(y){var E=typeof y=="function"?y(c.options):y;g(),c.options=Object.assign({},s,c.options,E),c.scrollParents={reference:sc(a)?Du(a):a.contextElement?Du(a.contextElement):[],popper:Du(l)};var T=nX(iX([].concat(r,c.options.modifiers)));return c.orderedModifiers=T.filter(function(C){return C.enabled}),m(),p.update()},forceUpdate:function(){if(!f){var y=c.elements,E=y.reference,T=y.popper;if(lT(E,T)){c.rects={reference:UK(E,Hc(T),c.options.strategy==="fixed"),popper:d1(T)},c.reset=!1,c.placement=c.options.placement,c.orderedModifiers.forEach(function(K){return c.modifiersData[K.name]=Object.assign({},K.data)});for(var C=0;C<c.orderedModifiers.length;C++){if(c.reset===!0){c.reset=!1,C=-1;continue}var D=c.orderedModifiers[C],_=D.fn,M=D.options,G=M===void 0?{}:M,B=D.name;typeof _=="function"&&(c=_({state:c,options:G,name:B,instance:p})||c)}}}},update:rX(function(){return new Promise(function(b){p.forceUpdate(),b(c)})}),destroy:function(){g(),f=!0}};if(!lT(a,l))return p;p.setOptions(u).then(function(b){!f&&u.onFirstUpdate&&u.onFirstUpdate(b)});function m(){c.orderedModifiers.forEach(function(b){var y=b.name,E=b.options,T=E===void 0?{}:E,C=b.effect;if(typeof C=="function"){var D=C({state:c,name:y,instance:p,options:T}),_=function(){};d.push(D||_)}})}function g(){d.forEach(function(b){return b()}),d=[]}return p}}var Td={passive:!0};function dX(e){var t=e.state,n=e.instance,r=e.options,i=r.scroll,s=i===void 0?!0:i,o=r.resize,a=o===void 0?!0:o,l=bi(t.elements.popper),u=[].concat(t.scrollParents.reference,t.scrollParents.popper);return s&&u.forEach(function(c){c.addEventListener("scroll",n.update,Td)}),a&&l.addEventListener("resize",n.update,Td),function(){s&&u.forEach(function(c){c.removeEventListener("scroll",n.update,Td)}),a&&l.removeEventListener("resize",n.update,Td)}}var fX={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:dX,data:{}};function pX(e){var t=e.state,n=e.name;t.modifiersData[n]=WO({reference:t.rects.reference,element:t.rects.popper,placement:t.placement})}var hX={name:"popperOffsets",enabled:!0,phase:"read",fn:pX,data:{}},mX={top:"auto",right:"auto",bottom:"auto",left:"auto"};function gX(e){var t=e.x,n=e.y,r=window,i=r.devicePixelRatio||1;return{x:vd(vd(t*i)/i)||0,y:vd(vd(n*i)/i)||0}}function uT(e){var t,n=e.popper,r=e.popperRect,i=e.placement,s=e.variation,o=e.offsets,a=e.position,l=e.gpuAcceleration,u=e.adaptive,c=e.roundOffsets,d=c===!0?gX(o):typeof c=="function"?c(o):o,f=d.x,p=f===void 0?0:f,m=d.y,g=m===void 0?0:m,b=o.hasOwnProperty("x"),y=o.hasOwnProperty("y"),E=Br,T=Lr,C=window;if(u){var D=Hc(n),_="clientHeight",M="clientWidth";D===bi(n)&&(D=_o(n),hs(D).position!=="static"&&a==="absolute"&&(_="scrollHeight",M="scrollWidth")),D=D,(i===Lr||(i===Br||i===oi)&&s===oc)&&(T=si,g-=D[_]-r.height,g*=l?1:-1),(i===Br||(i===Lr||i===si)&&s===oc)&&(E=oi,p-=D[M]-r.width,p*=l?1:-1)}var G=Object.assign({position:a},u&&mX);if(l){var B;return Object.assign({},G,(B={},B[T]=y?"0":"",B[E]=b?"0":"",B.transform=(C.devicePixelRatio||1)<=1?"translate("+p+"px, "+g+"px)":"translate3d("+p+"px, "+g+"px, 0)",B))}return Object.assign({},G,(t={},t[T]=y?g+"px":"",t[E]=b?p+"px":"",t.transform="",t))}function bX(e){var t=e.state,n=e.options,r=n.gpuAcceleration,i=r===void 0?!0:r,s=n.adaptive,o=s===void 0?!0:s,a=n.roundOffsets,l=a===void 0?!0:a,u={placement:Di(t.placement),variation:ol(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:i};t.modifiersData.popperOffsets!=null&&(t.styles.popper=Object.assign({},t.styles.popper,uT(Object.assign({},u,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:o,roundOffsets:l})))),t.modifiersData.arrow!=null&&(t.styles.arrow=Object.assign({},t.styles.arrow,uT(Object.assign({},u,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})}var yX={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:bX,data:{}};function _X(e){var t=e.state;Object.keys(t.elements).forEach(function(n){var r=t.styles[n]||{},i=t.attributes[n]||{},s=t.elements[n];!Pr(s)||!$i(s)||(Object.assign(s.style,r),Object.keys(i).forEach(function(o){var a=i[o];a===!1?s.removeAttribute(o):s.setAttribute(o,a===!0?"":a)}))})}function EX(e){var t=e.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,n.popper),t.styles=n,t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow),function(){Object.keys(t.elements).forEach(function(r){var i=t.elements[r],s=t.attributes[r]||{},o=Object.keys(t.styles.hasOwnProperty(r)?t.styles[r]:n[r]),a=o.reduce(function(l,u){return l[u]="",l},{});!Pr(i)||!$i(i)||(Object.assign(i.style,a),Object.keys(s).forEach(function(l){i.removeAttribute(l)}))})}}var vX={name:"applyStyles",enabled:!0,phase:"write",fn:_X,effect:EX,requires:["computeStyles"]},TX=[fX,hX,yX,vX],wX=cX({defaultModifiers:TX});function xX(e){return e==="x"?"y":"x"}function Gd(e,t,n){return Qs(e,ac(t,n))}function CX(e){var t=e.state,n=e.options,r=e.name,i=n.mainAxis,s=i===void 0?!0:i,o=n.altAxis,a=o===void 0?!1:o,l=n.boundary,u=n.rootBoundary,c=n.altBoundary,d=n.padding,f=n.tether,p=f===void 0?!0:f,m=n.tetherOffset,g=m===void 0?0:m,b=h1(t,{boundary:l,rootBoundary:u,padding:d,altBoundary:c}),y=Di(t.placement),E=ol(t.placement),T=!E,C=p1(y),D=xX(C),_=t.modifiersData.popperOffsets,M=t.rects.reference,G=t.rects.popper,B=typeof g=="function"?g(Object.assign({},t.rects,{placement:t.placement})):g,K={x:0,y:0};if(_){if(s||a){var V=C==="y"?Lr:Br,H=C==="y"?si:oi,te=C==="y"?"height":"width",Ee=_[C],me=_[C]+b[V],xe=_[C]-b[H],Ce=p?-G[te]/2:0,ve=E===sl?M[te]:G[te],$e=E===sl?-G[te]:-M[te],k=t.elements.arrow,tt=p&&k?d1(k):{width:0,height:0},Qe=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:YO(),I=Qe[V],lt=Qe[H],qe=Gd(0,M[te],tt[te]),Je=T?M[te]/2-Ce-qe-I-B:ve-qe-I-B,z=T?-M[te]/2+Ce+qe+lt+B:$e+qe+lt+B,ce=t.elements.arrow&&Hc(t.elements.arrow),fe=ce?C==="y"?ce.clientTop||0:ce.clientLeft||0:0,Se=t.modifiersData.offset?t.modifiersData.offset[t.placement][C]:0,Xe=_[C]+Je-Se-fe,A=_[C]+z-Se;if(s){var N=Gd(p?ac(me,Xe):me,Ee,p?Qs(xe,A):xe);_[C]=N,K[C]=N-Ee}if(a){var L=C==="x"?Lr:Br,X=C==="x"?si:oi,Q=_[D],J=Q+b[L],ge=Q-b[X],ae=Gd(p?ac(J,Xe):J,Q,p?Qs(ge,A):ge);_[D]=ae,K[D]=ae-Q}}t.modifiersData[r]=K}}var SX={name:"preventOverflow",enabled:!0,phase:"main",fn:CX,requiresIfExists:["offset"]},AX={left:"right",right:"left",bottom:"top",top:"bottom"};function Kd(e){return e.replace(/left|right|bottom|top/g,function(t){return AX[t]})}var kX={start:"end",end:"start"};function cT(e){return e.replace(/start|end/g,function(t){return kX[t]})}function OX(e,t){t===void 0&&(t={});var n=t,r=n.placement,i=n.boundary,s=n.rootBoundary,o=n.padding,a=n.flipVariations,l=n.allowedAutoPlacements,u=l===void 0?jO:l,c=ol(r),d=c?a?sT:sT.filter(function(m){return ol(m)===c}):zc,f=d.filter(function(m){return u.indexOf(m)>=0});f.length===0&&(f=d);var p=f.reduce(function(m,g){return m[g]=h1(e,{placement:g,boundary:i,rootBoundary:s,padding:o})[Di(g)],m},{});return Object.keys(p).sort(function(m,g){return p[m]-p[g]})}function IX(e){if(Di(e)===f1)return[];var t=Kd(e);return[cT(e),t,cT(t)]}function NX(e){var t=e.state,n=e.options,r=e.name;if(!t.modifiersData[r]._skip){for(var i=n.mainAxis,s=i===void 0?!0:i,o=n.altAxis,a=o===void 0?!0:o,l=n.fallbackPlacements,u=n.padding,c=n.boundary,d=n.rootBoundary,f=n.altBoundary,p=n.flipVariations,m=p===void 0?!0:p,g=n.allowedAutoPlacements,b=t.options.placement,y=Di(b),E=y===b,T=l||(E||!m?[Kd(b)]:IX(b)),C=[b].concat(T).reduce(function(lt,qe){return lt.concat(Di(qe)===f1?OX(t,{placement:qe,boundary:c,rootBoundary:d,padding:u,flipVariations:m,allowedAutoPlacements:g}):qe)},[]),D=t.rects.reference,_=t.rects.popper,M=new Map,G=!0,B=C[0],K=0;K<C.length;K++){var V=C[K],H=Di(V),te=ol(V)===sl,Ee=[Lr,si].indexOf(H)>=0,me=Ee?"width":"height",xe=h1(t,{placement:V,boundary:c,rootBoundary:d,altBoundary:f,padding:u}),Ce=Ee?te?oi:Br:te?si:Lr;D[me]>_[me]&&(Ce=Kd(Ce));var ve=Kd(Ce),$e=[];if(s&&$e.push(xe[H]<=0),a&&$e.push(xe[Ce]<=0,xe[ve]<=0),$e.every(function(lt){return lt})){B=V,G=!1;break}M.set(V,$e)}if(G)for(var k=m?3:1,tt=function(qe){var Je=C.find(function(z){var ce=M.get(z);if(ce)return ce.slice(0,qe).every(function(fe){return fe})});if(Je)return B=Je,"break"},Qe=k;Qe>0;Qe--){var I=tt(Qe);if(I==="break")break}t.placement!==B&&(t.modifiersData[r]._skip=!0,t.placement=B,t.reset=!0)}}var RX={name:"flip",enabled:!0,phase:"main",fn:NX,requiresIfExists:["offset"],data:{_skip:!1}};function DX(e,t,n){var r=Di(e),i=[Br,Lr].indexOf(r)>=0?-1:1,s=typeof n=="function"?n(Object.assign({},t,{placement:e})):n,o=s[0],a=s[1];return o=o||0,a=(a||0)*i,[Br,oi].indexOf(r)>=0?{x:a,y:o}:{x:o,y:a}}function MX(e){var t=e.state,n=e.options,r=e.name,i=n.offset,s=i===void 0?[0,0]:i,o=jO.reduce(function(c,d){return c[d]=DX(d,t.rects,s),c},{}),a=o[t.placement],l=a.x,u=a.y;t.modifiersData.popperOffsets!=null&&(t.modifiersData.popperOffsets.x+=l,t.modifiersData.popperOffsets.y+=u),t.modifiersData[r]=o}var PX={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:MX},LX=function(t,n){return t=typeof t=="function"?t(Object.assign({},n.rects,{placement:n.placement})):t,GO(typeof t!="number"?t:KO(t,zc))};function BX(e){var t,n=e.state,r=e.name,i=e.options,s=n.elements.arrow,o=n.modifiersData.popperOffsets,a=Di(n.placement),l=p1(a),u=[Br,oi].indexOf(a)>=0,c=u?"height":"width";if(!(!s||!o)){var d=LX(i.padding,n),f=d1(s),p=l==="y"?Lr:Br,m=l==="y"?si:oi,g=n.rects.reference[c]+n.rects.reference[l]-o[l]-n.rects.popper[c],b=o[l]-n.rects.reference[l],y=Hc(s),E=y?l==="y"?y.clientHeight||0:y.clientWidth||0:0,T=g/2-b/2,C=d[p],D=E-f[c]-d[m],_=E/2-f[c]/2+T,M=Gd(C,_,D),G=l;n.modifiersData[r]=(t={},t[G]=M,t.centerOffset=M-_,t)}}function $X(e){var t=e.state,n=e.options,r=n.element,i=r===void 0?"[data-popper-arrow]":r;i!=null&&(typeof i=="string"&&(i=t.elements.popper.querySelector(i),!i)||qO(t.elements.popper,i)&&(t.elements.arrow=i))}var FX={name:"arrow",enabled:!0,phase:"main",fn:BX,effect:$X,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};const ym=e=>parseInt(e,10);function UX({arrowPadding:e,emit:t,locked:n,offsetDistance:r,offsetSkid:i,placement:s,popperNode:o,triggerNode:a}){const l=El({isOpen:!1,popperInstance:null}),u=g=>{var b;(b=l.popperInstance)===null||b===void 0||b.setOptions(y=>({...y,modifiers:[...y.modifiers,{name:"eventListeners",enabled:g}]}))},c=()=>u(!0),d=()=>u(!1),f=()=>{l.isOpen&&(l.isOpen=!1,t("close:popper"))},p=()=>{l.isOpen||(l.isOpen=!0,t("open:popper"))};Tn([()=>l.isOpen,s],async([g])=>{g?(await m(),c()):d()});const m=async()=>{await Ac(),l.popperInstance=wX(a.value,o.value,{placement:s.value,modifiers:[SX,RX,{name:"flip",enabled:!n.value},FX,{name:"arrow",options:{padding:ym(e.value)}},PX,{name:"offset",options:{offset:[ym(i.value),ym(r.value)]}}]}),l.popperInstance.update()};return Tl(()=>{var g;(g=l.popperInstance)===null||g===void 0||g.destroy()}),{...eC(l),open:p,close:f}}const HX={id:"arrow","data-popper-arrow":""};function zX(e,t){return x(),P("div",HX)}function XO(e,t){t===void 0&&(t={});var n=t.insertAt;if(!(!e||typeof document>"u")){var r=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style");i.type="text/css",n==="top"&&r.firstChild?r.insertBefore(i,r.firstChild):r.appendChild(i),i.styleSheet?i.styleSheet.cssText=e:i.appendChild(document.createTextNode(e))}}var VX=`
#arrow[data-v-20b7fd4a],
  #arrow[data-v-20b7fd4a]::before {
    transition: background 250ms ease-in-out;
    position: absolute;
    width: calc(10px - var(--popper-theme-border-width, 0px));
    height: calc(10px - var(--popper-theme-border-width, 0px));
    box-sizing: border-box;
    background: var(--popper-theme-background-color);
}
#arrow[data-v-20b7fd4a] {
    visibility: hidden;
}
#arrow[data-v-20b7fd4a]::before {
    visibility: visible;
    content: "";
    transform: rotate(45deg);
}

  /* Top arrow */
.popper[data-popper-placement^="top"] > #arrow[data-v-20b7fd4a] {
    bottom: -5px;
}
.popper[data-popper-placement^="top"] > #arrow[data-v-20b7fd4a]::before {
    border-right: var(--popper-theme-border-width)
      var(--popper-theme-border-style) var(--popper-theme-border-color);
    border-bottom: var(--popper-theme-border-width)
      var(--popper-theme-border-style) var(--popper-theme-border-color);
}

  /* Bottom arrow */
.popper[data-popper-placement^="bottom"] > #arrow[data-v-20b7fd4a] {
    top: -5px;
}
.popper[data-popper-placement^="bottom"] > #arrow[data-v-20b7fd4a]::before {
    border-left: var(--popper-theme-border-width)
      var(--popper-theme-border-style) var(--popper-theme-border-color);
    border-top: var(--popper-theme-border-width)
      var(--popper-theme-border-style) var(--popper-theme-border-color);
}

  /* Left arrow */
.popper[data-popper-placement^="left"] > #arrow[data-v-20b7fd4a] {
    right: -5px;
}
.popper[data-popper-placement^="left"] > #arrow[data-v-20b7fd4a]::before {
    border-right: var(--popper-theme-border-width)
      var(--popper-theme-border-style) var(--popper-theme-border-color);
    border-top: var(--popper-theme-border-width)
      var(--popper-theme-border-style) var(--popper-theme-border-color);
}

  /* Right arrow */
.popper[data-popper-placement^="right"] > #arrow[data-v-20b7fd4a] {
    left: -5px;
}
`;XO(VX);const m1={};m1.render=zX;m1.__scopeId="data-v-20b7fd4a";var jX=m1;const qX=["onKeyup"];var QO={props:{placement:{type:String,default:"bottom",validator:function(e){return["auto","auto-start","auto-end","top","top-start","top-end","bottom","bottom-start","bottom-end","right","right-start","right-end","left","left-start","left-end"].includes(e)}},disableClickAway:{type:Boolean,default:!1},offsetSkid:{type:String,default:"0"},offsetDistance:{type:String,default:"12"},hover:{type:Boolean,default:!1},show:{type:Boolean,default:null},disabled:{type:Boolean,default:!1},openDelay:{type:[Number,String],default:0},closeDelay:{type:[Number,String],default:0},zIndex:{type:[Number,String],default:9999},arrow:{type:Boolean,default:!1},arrowPadding:{type:String,default:"0"},interactive:{type:Boolean,default:!0},locked:{type:Boolean,default:!1},content:{type:String,default:null}},emits:["open:popper","close:popper"],setup(e,{emit:t}){const n=e;lP(ve=>({c81fc0a4:e.zIndex}));const r=bM(),i=_t(null),s=_t(null),o=_t(null),a=_t(!1);vr(()=>{const ve=r.default();if(ve&&ve.length>1)return console.error(`[Popper]: The <Popper> component expects only one child element at its root. You passed ${ve.length} child nodes.`)});const{arrowPadding:l,closeDelay:u,content:c,disableClickAway:d,disabled:f,interactive:p,locked:m,offsetDistance:g,offsetSkid:b,openDelay:y,placement:E,show:T}=eC(n),{isOpen:C,open:D,close:_}=UX({arrowPadding:l,emit:t,locked:m,offsetDistance:g,offsetSkid:b,placement:E,popperNode:s,triggerNode:o}),{hasContent:M}=LK(r,s,c),G=yt(()=>T.value!==null),B=yt(()=>f.value||!M.value),K=yt(()=>C.value&&!B.value),V=yt(()=>!d.value&&!G.value),H=yt(()=>p.value?`border: ${g.value}px solid transparent; margin: -${g.value}px;`:null),te=bm.debounce(D,y.value),Ee=bm.debounce(_,u.value),me=async()=>{B.value||G.value||(Ee.clear(),te())},xe=async()=>{G.value||(te.clear(),Ee())},Ce=()=>{C.value?xe():me()};return Tn([M,f],([ve,$e])=>{C.value&&(!ve||$e)&&_()}),Tn(C,ve=>{ve?a.value=!0:bm.debounce(()=>{a.value=!1},200)}),ig(()=>{G.value&&(T.value?te():Ee())}),ig(()=>{V.value&&PK(i,xe)}),(ve,$e)=>(x(),P("div",{class:"inline-block",style:sa(_e(H)),onMouseleave:$e[2]||($e[2]=k=>e.hover&&xe()),ref:(k,tt)=>{tt.popperContainerNode=k,i.value=k}},[S("div",{ref:(k,tt)=>{tt.triggerNode=k,o.value=k},onMouseover:$e[0]||($e[0]=k=>e.hover&&me()),onClick:Ce,onFocus:me,onKeyup:pb(xe,["esc"])},[ke(ve.$slots,"default")],40,qX),U(oa,{name:"fade"},{default:W(()=>[Ct(S("div",{onClick:$e[1]||($e[1]=k=>!_e(p)&&xe()),class:"popper",ref:(k,tt)=>{tt.popperNode=k,s.value=k}},[ke(ve.$slots,"content",{close:_e(_),isOpen:a.value},()=>[Ae(ye(_e(c)),1)]),e.arrow?(x(),pe(jX,{key:0})):Oe("",!0)],512),[[yr,_e(K)]])]),_:3})],36))}},WX=`
.inline-block[data-v-5784ed69] {
    display: inline-block;
}
.popper[data-v-5784ed69] {
    transition: background 250ms ease-in-out;
    background: var(--popper-theme-background-color);
    padding: var(--popper-theme-padding);
    color: var(--popper-theme-text-color);
    border-radius: var(--popper-theme-border-radius);
    border-width: var(--popper-theme-border-width);
    border-style: var(--popper-theme-border-style);
    border-color: var(--popper-theme-border-color);
    box-shadow: var(--popper-theme-box-shadow);
    z-index: var(--c81fc0a4);
}
.popper[data-v-5784ed69]:hover,
  .popper:hover > #arrow[data-v-5784ed69]::before {
    background: var(--popper-theme-background-color-hover);
}
.inline-block[data-v-5784ed69] {
    display: inline-block;
}
.fade-enter-active[data-v-5784ed69],
  .fade-leave-active[data-v-5784ed69] {
    transition: opacity 0.2s ease;
}
.fade-enter-from[data-v-5784ed69],
  .fade-leave-to[data-v-5784ed69] {
    opacity: 0;
}
`;XO(WX);QO.__scopeId="data-v-5784ed69";var YX=(()=>{const e=QO;return e.install=t=>{t.component("Popper",e)},e})();const GX={name:"PopOver",components:{Popper:YX}};function KX(e,t,n,r,i,s){const o=Y("Popper");return x(),pe(o,Ja(e.$attrs,{class:"popover"}),{content:W(a=>[ke(e.$slots,"content",ED(UC(a)))]),default:W(()=>[ke(e.$slots,"default")]),_:3},16)}const g1=ne(GX,[["render",KX]]),XX=Object.freeze(Object.defineProperty({__proto__:null,default:g1},Symbol.toStringTag,{value:"Module"})),QX={key:0},JX={__name:"PubmedCitation",props:{summary:{type:Object,required:!0}},setup(e){const t=e,n=yt(()=>!t.summary.authors||t.summary.authors.length===0?"":t.summary.authors.length===1?`${t.summary.authors[0].name}. `:`${t.summary.authors.map(s=>s.name)[0]} et al. `),r=yt(()=>t.summary.title?t.summary.title.length>25?`${t.summary.title.substring(0,50)}... `:`${t.summary.title}. `:""),i=yt(()=>`${t.summary.source}. `);return(s,o)=>e.summary?(x(),P("span",QX,[Ae(ye(n.value)+ye(r.value),1),S("em",null,ye(i.value),1),Ae(ye(e.summary.pubdate),1)])):Oe("",!0)}},ZX=Object.freeze(Object.defineProperty({__proto__:null,default:JX},Symbol.toStringTag,{value:"Module"})),eQ={},tQ={class:"my-4 p-4 text-sm flex items-start space-x-4 bg-gray-200 rounded-lg"},nQ={style:{"font-size":"1rem","line-height":"2"}};function rQ(e,t){const n=Y("icon-question");return x(),P("div",tQ,[U(n,{height:"48",width:"48",class:"text-blue-700"}),S("div",null,[t[0]||(t[0]=S("h3",{style:{"line-height":"1"}}," Have Questions? ",-1)),S("div",nQ,[ke(e.$slots,"default")])])])}const iQ=ne(eQ,[["render",rQ]]),sQ=Object.freeze(Object.defineProperty({__proto__:null,default:iQ},Symbol.toStringTag,{value:"Module"})),oQ={class:"screen -mt-6"},aQ={class:"screen-header bg-white pt-6"},lQ={class:"flex justify-between items-end border-b pb-2 px-4"},uQ={class:"bg-gray-100 pt-8 p-4 flex flex-col space-y-4 bg-gray-100"},cQ={__name:"ScreenTemplate",props:{breadcrumbs:{type:Array,default:()=>[]},title:{type:String||null,default:null}},setup(e){return(t,n)=>(x(),P("div",oQ,[S("header",aQ,[e.breadcrumbs.length>0?(x(),pe(tS,{key:0,class:"mx-4",items:e.breadcrumbs},null,8,["items"])):Oe("",!0),S("div",lQ,[ke(t.$slots,"header",{},()=>[S("div",null,[S("h1",null,ye(e.title),1),ke(t.$slots,"header-dev",{},void 0,!0)])],!0),ke(t.$slots,"header-right",{},void 0,!0)])]),S("div",uQ,[ke(t.$slots,"default",{},void 0,!0)])]))}},JO=ne(cQ,[["__scopeId","data-v-dbddb563"]]),dQ=Object.freeze(Object.defineProperty({__proto__:null,default:JO},Symbol.toStringTag,{value:"Module"})),fQ={name:"SimpleTable",props:{data:{required:!0,type:Array},keyBy:{required:!0,type:String},hideColumns:{type:Array,default:()=>[]}},data(){return{}},computed:{headings(){return this.data[0]?Object.keys(this.data[0]).filter(e=>!this.hideColumns.includes(e)):[]}},methods:{}};function pQ(e,t,n,r,i,s){return x(),P("table",null,[S("thead",null,[S("tr",null,[(x(!0),P(Ge,null,$t(s.headings,o=>(x(),P("th",{key:o},ye(e.titleCase(o)),1))),128))])]),S("tbody",null,[(x(!0),P(Ge,null,$t(n.data,o=>(x(),P("tr",{key:o[n.keyBy]},[(x(!0),P(Ge,null,$t(s.headings,a=>(x(),P("td",{key:`${o[n.keyBy]}-${a}`},ye(o[a]),1))),128))]))),128))])])}const hQ=ne(fQ,[["render",pQ]]),mQ=Object.freeze(Object.defineProperty({__proto__:null,default:hQ},Symbol.toStringTag,{value:"Module"})),gQ={name:"TabItem",props:{label:{required:!0,type:String},visible:{type:Boolean,required:!1,default:!0}},data(){return{active:!1}},computed:{parentIsValid(){return this.$parent.$options.name==="TabsContainer"}},mounted(){this.$parent.addTab(this)},unmounted(){this.$parent.removeTab(this)},methods:{isActive(){return this.active}}},bQ={key:0};function yQ(e,t,n,r,i,s){return x(),pe(oM,null,[i.active&&n.visible?(x(),P("section",bQ,[ke(e.$slots,"default")])):Oe("",!0)],1024)}const _Q=ne(gQ,[["render",yQ]]),EQ=Object.freeze(Object.defineProperty({__proto__:null,default:_Q},Symbol.toStringTag,{value:"Module"})),vQ={name:"TabsContainer",props:{tabLocation:{required:!1,type:String,default:"top"},modelValue:{required:!1,type:Number,default:0}},emits:["update:modelValue","tabChanged"],data(){return{tabs:[]}},computed:{activeTab(){return this.tabs.find(e=>e.active===!0)||{}}},watch:{modelValue(e){this.activateTab(e)},"$route.query":{immediate:!0,handler(e,t){Sf(e,t)||this.activateTabFromRoute()}}},mounted(){this.$emit("tabChanged",this.activeTab.label)},methods:{activateTab(e){this.tabs.forEach(t=>t.active=!1),this.tabs[e].active=!0,this.$emit("update:modelValue",e),this.$emit("tabChanged",this.tabs[e].label),this.updateRouteQuery(this.tabs[e].label)},activateTabWithLabel(e){const t=e.toLowerCase(),n=this.tabs.map(r=>r.label.toLowerCase()).findIndex(r=>r===t);n>0&&this.activateTab(n)},activateTabFromRoute(){(this.activeTab.label?this.activeTab.label.toLowerCase():null)!==this.$route.query.tab&&Object.keys(this.$route.query).includes("tab")&&this.activateTabWithLabel(this.$route.query.tab)},updateRouteQuery(e){const t={...this.$route.query,tab:e.toLowerCase()};this.$router.replace({path:this.$route.path,query:t})},setActiveIndex(){this.tabs.length>0&&!this.modelValue&&(this.tabs[0].active=!0),this.modelValue&&this.tabs.length>this.modelValue&&this.activateTab(this.modelValue),Object.keys(this.$route.query).includes("tab")&&this.activateTabFromRoute()},addTab(e){this.tabs.push(e),this.setActiveIndex()},removeTab(e){const t=this.tabs.findIndex(n=>e===n);t>-1&&this.tabs.splice(t,1)},renderTabs(){return this.tabs.map((e,t)=>{if(!e||!e.visible)return null;const n=["tab","cursor-pointer"];return e.active&&n.push("active"),Qt("li",{class:n.join(" "),onClick:()=>this.activateTab(t)},e.label)})}},render(){const e=this.renderTabs(),t=[],n=["tabs"];return this.tabLocation==="top"&&t.push("horizontal"),this.tabLocation==="right"&&(t.push("vertical"),t.push("flex")),Qt("div",{class:t.join(" ")},[Qt("ul",{class:n.join(" ")},e),Qt("div",{class:"tab-content"},this.$slots.default())])}},TQ=Object.freeze(Object.defineProperty({__proto__:null,default:vQ},Symbol.toStringTag,{value:"Module"})),wQ={name:"TruncateExpander",props:{value:{type:String,required:!0},truncateLength:{type:Number,default:150}},data(){return{showComplete:!1}},computed:{shouldBeTruncated(){return this.value.length>this.truncateLength},truncatedValue(){return this.value.substring(0,this.truncateLength-15)},restOfValue(){return this.value.substring(this.truncateLength-15+1)},buttonLabel(){return this.showComplete?"Less":"More"}},methods:{}},xQ={key:1};function CQ(e,t,n,r,i,s){return x(),P("div",null,[s.shouldBeTruncated?(x(),P("div",{key:0,class:nt({"xl:flex justify-between":!i.showComplete})},[S("div",null,[Ae(ye(s.truncatedValue),1),Ct(S("span",null,"...  ",512),[[yr,!i.showComplete]]),Ct(S("span",null,ye(s.restOfValue),513),[[yr,i.showComplete]])]),S("button",{class:"border-0 text-blue-500 underline text-xs",onClick:t[0]||(t[0]=o=>i.showComplete=!i.showComplete)},ye(s.buttonLabel),1)],2)):(x(),P("div",xQ,ye(n.value),1))])}const SQ=ne(wQ,[["render",CQ]]),AQ=Object.freeze(Object.defineProperty({__proto__:null,default:SQ},Symbol.toStringTag,{value:"Module"})),b1=_t({type:"info",message:null}),ZO=_t({}),kQ=[{name:"roles",placeholder:"coordinator, admin"},{name:"type",label:"variant",type:"select",options:[{value:"info",label:"info (blue)"},{value:"success",label:"success (green)"},{value:"warning",label:"warning (yellow)"},{value:"danger",label:"danger (red)"},{value:"bland",label:"bland (gray)"}]},{name:"message",type:"large-text",placeholder:"You message text in **markdown**"}],OQ=()=>ee.post("/api/announcements",b1.value).then(e=>e).catch(e=>{if(Rc(e)){ZO.value=e.response.data.errors;return}throw e}),IQ=()=>{b1.value={}},NQ={name:"AnnouncementControl",setup(){return{announcement:b1,errors:ZO,saveAnnouncement:OQ,cancelAnnouncement:IQ,formFields:kQ}},data(){return{showConfirmation:!1,showForm:!1}},computed:{notification(){return{data:{message:this.announcement.message||"NONE",type:this.announcement.type||"info",markdown:!0}}}},methods:{initAnnouncement(){this.showForm=!0},confirmSubmission(){this.showConfirmation=!0},async saveConfirmed(){this.showConfirmation=!1;try{this.saveAnnouncement(),this.showForm=!1}catch(e){alert(e.message)}}}};function RQ(e,t,n,r,i,s){const o=Y("data-form"),a=Y("notification-item"),l=Y("button-row"),u=Y("modal-dialog");return x(),P("div",null,[S("button",{class:"link",onClick:t[0]||(t[0]=(...c)=>s.initAnnouncement&&s.initAnnouncement(...c))}," Make an announcement "),(x(),pe(Er,{to:"body"},[U(u,{modelValue:i.showForm,"onUpdate:modelValue":t[2]||(t[2]=c=>i.showForm=c),title:"Make an announcement"},{default:W(()=>[U(o,{modelValue:r.announcement,"onUpdate:modelValue":t[1]||(t[1]=c=>r.announcement=c),fields:r.formFields,errors:r.errors},null,8,["modelValue","fields","errors"]),t[4]||(t[4]=S("h4",null,"Preview:",-1)),U(a,{notification:s.notification},null,8,["notification"]),U(l,{"submit-text":"Save",onSubmitted:s.confirmSubmission},null,8,["onSubmitted"])]),_:1},8,["modelValue"]),U(u,{modelValue:i.showConfirmation,"onUpdate:modelValue":t[3]||(t[3]=c=>i.showConfirmation=c),title:"Confirm Announcement"},{default:W(()=>[t[5]||(t[5]=Ae(" You are about to make the following announcement: ")),U(a,{notification:s.notification},null,8,["notification"]),U(l,{"submit-text":"Confirm",onSubmitted:s.saveConfirmed},null,8,["onSubmitted"])]),_:1},8,["modelValue"])]))])}const DQ=ne(NQ,[["render",RQ]]),MQ={name:"UserMenu",components:{ImpersonateControl:LA,AnnouncementControl:DQ},data(){return{menuOpen:!1}},computed:{...Bb({user:"currentUser",isAuthed:"isAuthed"})},methods:{handleOutsideClick(){this.menuOpen=!1},toggleMenu(){this.menuOpen=!this.menuOpen,this.menuOpen&&this.$refs.dropdownMenu.focus()},logout(){try{this.$store.dispatch("logout")}catch(e){alert(e)}}}},PQ={class:"relative -top-3 right-0 text-right",style:{"z-index":"500"}},LQ={key:0},BQ={ref:"dropdownMenu",class:"absolute right-0 top-0 pt-11 bg-white border w-48 z-10 shadow"},$Q={class:"menu-item"},FQ={class:"menu-item"},UQ={class:"menu-item"},HQ={class:"py-4 mx-2"},zQ={key:0,class:"menu-item"},VQ={key:1,class:"menu-item"},jQ={key:2,class:"menu-item"},qQ={key:3,class:"menu-item"},WQ={key:4,class:"menu-item"},YQ={key:5,class:"menu-item"},GQ={key:6,class:"menu-item"},KQ={key:0,class:"border-t bg-yellow-300 text-center font-bold p-2"};function XQ(e,t,n,r,i,s){const o=Y("icon-cheveron-down"),a=Y("router-link"),l=Y("ImpersonateControl"),u=Y("AnnouncementControl"),c=EC("click-outside");return x(),P("div",PQ,[Ct(S("div",null,[S("div",{class:nt(["flex flex-row-reverse align-middle -mb-7 pt-3 pb-3 pr-2 relative z-20 cursor-pointer w-48",{"w-48":i.menuOpen,"bg-yellow-300":e.user.is_impersonating}]),onClick:t[0]||(t[0]=Qu((...d)=>s.toggleMenu&&s.toggleMenu(...d),["stop"]))},[U(o),Ae(" "+ye(e.user.name)+" ",1),e.user.is_impersonating?(x(),P("span",LQ,"*")):Oe("",!0)],2),U(oa,{name:"slide-fade-down"},{default:W(()=>[Ct((x(),P("div",BQ,[S("ul",null,[S("li",$Q,[U(a,{to:{name:"Dashboard"},onClick:t[1]||(t[1]=d=>e.showMenu=!1)},{default:W(()=>t[4]||(t[4]=[Ae(" Dashboard ")])),_:1})]),S("li",FQ,[e.user.is_impersonating?Oe("",!0):(x(),P("button",{key:0,onClick:t[2]||(t[2]=(...d)=>s.logout&&s.logout(...d))}," Log out "))]),S("li",UQ,[S("div",HQ,[U(l)])])]),S("ul",null,[e.hasPermission("invites-view")?(x(),P("li",zQ,[U(a,{to:{name:"InviteAdmin"}},{default:W(()=>t[5]||(t[5]=[Ae(" Invites ")])),_:1})])):Oe("",!0),e.hasPermission("people-manage")?(x(),P("li",VQ,t[6]||(t[6]=[S("a",{href:"/admin/institutions"},"Institutions",-1)]))):Oe("",!0),e.hasPermission("people-manage")?(x(),P("li",jQ,t[7]||(t[7]=[S("a",{href:"/admin/credentials"},"Credentials",-1)]))):Oe("",!0),e.hasPermission("people-manage")?(x(),P("li",qQ,t[8]||(t[8]=[S("a",{href:"/admin/expertises"},"Expertises",-1)]))):Oe("",!0),e.hasPermission("mail-log-view")?(x(),P("li",WQ,[U(a,{to:{name:"mail-log"},onClick:t[3]||(t[3]=d=>e.showMenu=!1)},{default:W(()=>t[9]||(t[9]=[Ae(" Mail log ")])),_:1})])):Oe("",!0),e.hasPermission("announcements-manage")?(x(),P("li",YQ,[U(u)])):Oe("",!0),e.hasPermission("logs-view")?(x(),P("li",GQ,t[10]||(t[10]=[S("a",{href:"/dev/logs",class:"p-3 block"},"System Log",-1)]))):Oe("",!0)]),e.user.is_impersonating?(x(),P("div",KQ," You are impersonating this user. ")):Oe("",!0)])),[[yr,i.menuOpen],[c,{exclude:["menuButton"],handler:s.handleOutsideClick}]])]),_:1})],512),[[yr,e.isAuthed]])])}const e2=ne(MQ,[["render",XQ],["__scopeId","data-v-9a519b3f"]]),QQ=Object.freeze(Object.defineProperty({__proto__:null,default:e2},Symbol.toStringTag,{value:"Module"})),Hp={modelValue:{type:Object}},zp=["update:modelValue"],Vp=(e,t)=>{const n=_t({});return Tn(()=>e.modelValue,r=>{if(typeof e.modelValue.clone=="function"){const i=e.modelValue.clone();n.value=i}Sf(r,n.value)||(n.value=wg(r))},{immediate:!0,deep:!0}),Tn(()=>n,r=>{Sf(r.value,e.modelValue)||t.emit("update:modelValue",r.value)},{deep:!0}),{workingCopy:n}},cs={props:Hp,emits:zp,setup:Vp},JQ={props:{errors:{type:Array,required:!0}}},ZQ={class:"text-red-800 m-0 p-0"};function eJ(e,t,n,r,i,s){return x(),P("ul",ZQ,[(x(!0),P(Ge,null,$t(n.errors,o=>(x(),P("li",{key:o},ye(o),1))),128))])}const t2=ne(JQ,[["render",eJ]]),tJ=Object.freeze(Object.defineProperty({__proto__:null,default:t2},Symbol.toStringTag,{value:"Module"})),nJ={name:"AddressInput",components:{InputErrors:t2},props:{...cs.props,errors:{type:Object,required:!0}},emits:[...cs.emits],setup(e,t){const{workingCopy:n}=cs.setup(e,t);return{workingCopy:n}},computed:{addressErrors(){const e=[];return["city","state","zip"].forEach(t=>{this.errors[t]&&e.push(...this.errors[t])}),e}}},rJ={class:"w-full space-y-1"},iJ={class:"flex space-x-1"};function sJ(e,t,n,r,i,s){const o=Y("InputErrors");return x(),P("div",rJ,[Ct(S("input",{"onUpdate:modelValue":t[0]||(t[0]=a=>r.workingCopy.street1=a),type:"text",placeholder:"street 1",class:"w-full"},null,512),[[Us,r.workingCopy.street1]]),U(o,{class:"text-xs",errors:n.errors.street1||[]},null,8,["errors"]),Ct(S("input",{"onUpdate:modelValue":t[1]||(t[1]=a=>r.workingCopy.street2=a),type:"text",placeholder:"street 2",class:"w-full"},null,512),[[Us,r.workingCopy.street2]]),U(o,{class:"text-xs",errors:n.errors.street2||[]},null,8,["errors"]),S("div",iJ,[Ct(S("input",{"onUpdate:modelValue":t[2]||(t[2]=a=>r.workingCopy.city=a),type:"text",placeholder:"City",class:"w-1/3 shrink"},null,512),[[Us,r.workingCopy.city]]),Ct(S("input",{"onUpdate:modelValue":t[3]||(t[3]=a=>r.workingCopy.state=a),type:"text",placeholder:"State",class:"w-1/3 shrink"},null,512),[[Us,r.workingCopy.state]]),Ct(S("input",{"onUpdate:modelValue":t[4]||(t[4]=a=>r.workingCopy.zip=a),type:"text",placeholder:"Postal Code",class:"w-1/3 shrink"},null,512),[[Us,r.workingCopy.zip]])]),U(o,{class:"text-xs",errors:s.addressErrors},null,8,["errors"])])}const oJ=ne(nJ,[["render",sJ]]),aJ=Object.freeze(Object.defineProperty({__proto__:null,default:oJ},Symbol.toStringTag,{value:"Module"})),lJ={name:"ButtonRow",props:{showCancel:{type:Boolean,default:!0},cancelText:{type:String,default:"Cancel"},submitText:{type:String,default:"Submit"},submitVariant:{type:String,default:"blue"},size:{type:String,default:"md"}},emits:["cancelClicked","submitClicked","canceled","submitted","submit","cancel"],methods:{cancel(){this.$emit("cancelClicked"),this.$emit("canceled"),this.$emit("cancel")},submit(){this.$emit("submitClicked"),this.$emit("submitted"),this.$emit("submit")}}},uJ={class:"border-t pt-3 mb-1 mt-3 flex space-x-3"},cJ=["disabled"],dJ=["disabled"];function fJ(e,t,n,r,i,s){return x(),P("div",uJ,[ke(e.$slots,"default",{},()=>[n.showCancel?(x(),P("button",{key:0,class:nt(["btn",[`btn-${n.size}`]]),disabled:e.$attrs.disabled,onClick:t[0]||(t[0]=(...o)=>s.cancel&&s.cancel(...o))},ye(n.cancelText),11,cJ)):Oe("",!0),S("button",{class:nt(["btn",[n.submitVariant,`btn-${n.size}`]]),disabled:e.$attrs.disabled,onClick:t[1]||(t[1]=(...o)=>s.submit&&s.submit(...o))},ye(n.submitText),11,dJ),ke(e.$slots,"extra-buttons")])])}const pJ=ne(lJ,[["render",fJ]]),hJ=Object.freeze(Object.defineProperty({__proto__:null,default:pJ},Symbol.toStringTag,{value:"Module"})),mJ={name:"Checkbox",props:{modelValue:{required:!1,default:!1},label:{required:!1},value:{required:!1,default:()=>!0}},emits:["update:modelValue","change"],computed:{checkboxId(){return`checkbox-${this.uid}`},val:{get(){return this.modelValue},set(e){this.$emit("update:modelValue",e)}}},methods:{propagateChange(e){this.$emit("change",e)}}},gJ={class:"mb-2 flex items-start cursor-pointer"},bJ={class:"mt-1"},yJ=["id","value"];function _J(e,t,n,r,i,s){return x(),P("label",gJ,[S("div",bJ,[ke(e.$slots,"input",{},()=>[Ct(S("input",Ja({id:s.checkboxId,"onUpdate:modelValue":t[0]||(t[0]=o=>s.val=o),type:"checkbox",value:n.value},e.$attrs,{onChange:t[1]||(t[1]=(...o)=>s.propagateChange&&s.propagateChange(...o))}),null,16,yJ),[[kP,s.val]])])]),S("div",null,[ke(e.$slots,"default",{},()=>[Ae(ye(n.label),1)])])])}const EJ=ne(mJ,[["render",_J]]),vJ=Object.freeze(Object.defineProperty({__proto__:null,default:EJ},Symbol.toStringTag,{value:"Module"})),TJ={__name:"CredentialCreateForm",props:{starterString:{type:String,required:!1}},emits:["saved","canceled"],setup(e,{emit:t}){const n=e,r=t,i=TA(),s=_t({}),o=_t(null);Tn(()=>n.starterString,u=>{o.value=u});const a=async()=>{try{const u=await i.dispatch("credentials/create",{name:o.value}).then(c=>c.data);o.value=null,r("saved",u)}catch(u){Rc(u)&&(s.value=u.response.data.errors)}},l=()=>{o.value=null,r("canceled")};return(u,c)=>{const d=Y("input-row"),f=Y("button-row");return x(),P("div",null,[U(d,{modelValue:o.value,"onUpdate:modelValue":c[0]||(c[0]=p=>o.value=p),label:"Name",errors:s.value.name},null,8,["modelValue","errors"]),U(f,{"submit-text":"Create Credential",onSubmitted:a,onCancel:l})])}}},wJ={__name:"CredentialsInput",props:{...Hp,multiple:{type:Boolean,default:!0}},emits:[...zp],setup(e,{emit:t}){const n=e,r=t,i=TA(),{workingCopy:s}=Vp(n,{emit:r}),o=yt(()=>i.getters["credentials/items"]),a=_t(""),l=async(p,m)=>(a.value=p,m.filter(g=>{const b=/[.,-]/g,y=p.replace(b,"").toLowerCase();return g.name.toLowerCase().match(y)||g.synonyms.some(E=>E.name.toLowerCase().match(y))}));vr(()=>{i.dispatch("credentials/getItems")});const u=_t(!1),c=()=>{u.value=!0},d=async p=>{u.value=!1,o.value=[...o.value,p],s.value.push(o.value.find(m=>m.id===p.id))},f=()=>{u.value=!1};return(p,m)=>{const g=Y("modal-dialog");return x(),P(Ge,null,[U(bo,{modelValue:_e(s),"onUpdate:modelValue":m[0]||(m[0]=b=>Yt(s)?s.value=b:null),options:o.value,multiple:e.multiple,"show-options-on-focus":"","show-options-when-empty":"","search-function":l},{fixedBottomOption:W(()=>[S("div",{class:"text-sm"},[m[2]||(m[2]=Ae(" Don't see your credential? ")),S("button",{class:"link",onClick:c}," Create a new one. ")])]),_:1},8,["modelValue","options","multiple"]),(x(),pe(Er,{to:"body"},[U(g,{modelValue:u.value,"onUpdate:modelValue":m[1]||(m[1]=b=>u.value=b),title:"Add a new credential"},{default:W(()=>[U(TJ,{"starter-string":a.value,onSaved:d,onCanceled:f},null,8,["starter-string"])]),_:1},8,["modelValue"])]))],64)}}},xJ=Object.freeze(Object.defineProperty({__proto__:null,default:wJ},Symbol.toStringTag,{value:"Module"})),CJ={props:{type:{type:String,required:!1,default:"text"},modelValue:{required:!1,default:null},errors:{type:Array,required:!1,default:()=>[]},options:{type:Array,required:!1},label:{type:String,required:!1},labelWidthClass:{type:String,required:!1,default:"w-36"},placeholder:{required:!1,value:null},disabled:{type:Boolean,default:!1},name:{required:!1,default:null,type:String},inputClass:{required:!1,default:null,type:String},hideLabel:{required:!1,default:!1,type:Boolean},labelClass:{required:!1,default:null,type:String},vertical:{type:Boolean,default:!1}},emits:["update:modelValue","change"],computed:{colon(){return this.label&&[":",";",".","?","!"].includes(this.label.substr(-1))?"":":"},hasErrors(){return this.errors.length>0},labelContainerClass(){const e=[];return this.vertical?e.push("my-1"):e.push(this.labelWidthClass),e.join(" ")},showLabel(){return!this.hideLabel},hasLabel(){return this.label||this.$slots.label},resolvedLabelClass(){const e=[];return this.hasErrors&&e.push("text-red-800"),this.labelClass&&e.push(this.labelClass),e.join(" ")}},methods:{emitValue(e){this.$emit("update:modelValue",e)},focus(){this.$refs.input.focus()}}},SJ={class:"flex-grow flex flex-col space-y-3"},AJ=["value","disabled","readonly","name","placeholder"],kJ=["value","disabled","readonly"],OJ=["value"],IJ=["type","value","placeholder","disabled","readonly","name"];function NJ(e,t,n,r,i,s){const o=Y("date-input"),a=Y("radio-button"),l=Y("input-errors");return x(),P("div",{class:nt([{"border-l border-red-800 px-2":s.hasErrors},"input-row my-3"])},[S("div",{class:nt({"sm:flex":!n.vertical})},[Ct(S("div",{class:nt(["flex-none label-container flex-shrink",s.labelContainerClass])},[s.hasLabel?ke(e.$slots,"label",{key:0,class:nt(s.resolvedLabelClass)},()=>[S("label",null,ye(n.label)+ye(s.colon),1)]):Oe("",!0)],2),[[yr,s.showLabel]]),S("div",SJ,[ke(e.$slots,"default",{},()=>[n.type=="date"?(x(),pe(o,{key:0,ref:"input","model-value":n.modelValue,disabled:n.disabled,readonly:e.$attrs.readonly,name:n.name,class:nt(n.inputClass),"onUpdate:modelValue":s.emitValue,onChange:t[0]||(t[0]=u=>e.$emit("change",n.modelValue))},null,8,["model-value","disabled","readonly","name","class","onUpdate:modelValue"])):n.type=="large-text"?(x(),P("textarea",{key:1,ref:"input",value:n.modelValue,disabled:n.disabled,readonly:e.$attrs.readonly,name:n.name,class:nt([n.inputClass,"w-full"]),rows:"5",placeholder:n.placeholder,onInput:t[1]||(t[1]=u=>e.$emit("update:modelValue",u.target.value)),onChange:t[2]||(t[2]=u=>e.$emit("change",n.modelValue))},null,42,AJ)):n.type=="radio-group"?(x(),P("div",{key:2,class:nt(["radio-group",{"ml-4":n.vertical}])},[(x(!0),P(Ge,null,$t(n.options,u=>(x(),pe(a,{key:u.value,"model-value":n.modelValue,label:u.label||e.sentenceCase(u.value),value:u.value,disabled:n.disabled,readonly:e.$attrs.readonly,"onUpdate:modelValue":s.emitValue},null,8,["model-value","label","value","disabled","readonly","onUpdate:modelValue"]))),128))],2)):n.type=="select"?(x(),P("select",Ja({key:3,value:n.modelValue},e.$attrs.disabled,{disabled:n.disabled,readonly:e.$attrs.readonly,onInput:t[3]||(t[3]=u=>e.$emit("update:modelValue",u.target.value))}),[t[6]||(t[6]=S("option",{value:""}," Select… ",-1)),(x(!0),P(Ge,null,$t(n.options,u=>ke(e.$slots,"option-label",Ja({key:u.value,ref_for:!0},u),()=>[S("option",{value:u.value},ye(u.label||e.sentenceCase(u.value)),9,OJ)])),128))],16,kJ)):(x(),P("input",{key:4,ref:"input",type:n.type,value:n.modelValue,placeholder:n.placeholder,disabled:n.disabled,readonly:e.$attrs.readonly,class:nt(n.inputClass),name:n.name,onInput:t[4]||(t[4]=u=>e.$emit("update:modelValue",u.target.value)),onChange:t[5]||(t[5]=u=>e.$emit("change",u.target.value))},null,42,IJ))]),ke(e.$slots,"after-input"),U(l,{class:"text-xs",errors:n.errors||[]},null,8,["errors"])])],2)],2)}const n2=ne(CJ,[["render",NJ]]),RJ=Object.freeze(Object.defineProperty({__proto__:null,default:n2},Symbol.toStringTag,{value:"Module"})),r2={__name:"DataFormField",props:{...Hp,field:{type:Object,required:!0},errors:{type:Object,required:!0}},emits:zp,setup(e,{emit:t}){const n=e,r=t,{workingCopy:i}=Vp(n,{emit:r}),s=yt({get(){return n.field.name==="*"?i.value:K_(i.value,n.field.name)},set(p){if(n.field.name==="*"){i.value=p;return}K_(i.value,n.field.name)!==p&&hF(i.value,n.field.name,p)}}),o=p=>typeof p.label>"u"?mb(p.name):p.label,a=p=>Array.isArray(p.options)?p.options:typeof p.options=="function"?p.options(i):[],l=p=>p.show?p.show(i):!0,u=(p=null)=>{const m={label:o(n.field),modelValue:s.value,"onUpdate:modelValue":g=>{s.value=g},type:n.field.type||"text",placeholder:n.field.placeholder||null,errors:n.errors[n.field.name],options:a(n.field),vertical:n.field.vertical,class:n.field.class,required:n.field.required};return Qt(n2,m,p)},c=()=>u(()=>{const m={...n.field.component.options,modelValue:s.value,"onUpdate:modelValue":g=>{s.value=g},errors:n.errors};return Qt(n.field.component.component,m,n.field.component.slots)}),d=()=>n.field.type==="dictionary-row"?[Qt(sS,{innerHTML:s.value,label:o(n.field),class:n.field.class})]:n.field.type==="component"?[c()]:[u()],f=()=>{const p=d();return Qt("div",{class:""},l(n.field)?p:[])};return(p,m)=>(x(),pe(f))}},DJ=Object.freeze(Object.defineProperty({__proto__:null,default:r2},Symbol.toStringTag,{value:"Module"})),yn=[];for(let e=0;e<256;++e)yn.push((e+256).toString(16).slice(1));function MJ(e,t=0){return(yn[e[t+0]]+yn[e[t+1]]+yn[e[t+2]]+yn[e[t+3]]+"-"+yn[e[t+4]]+yn[e[t+5]]+"-"+yn[e[t+6]]+yn[e[t+7]]+"-"+yn[e[t+8]]+yn[e[t+9]]+"-"+yn[e[t+10]]+yn[e[t+11]]+yn[e[t+12]]+yn[e[t+13]]+yn[e[t+14]]+yn[e[t+15]]).toLowerCase()}let _m;const PJ=new Uint8Array(16);function LJ(){if(!_m){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");_m=crypto.getRandomValues.bind(crypto)}return _m(PJ)}const BJ=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),dT={randomUUID:BJ};function lo(e,t,n){var i;if(dT.randomUUID&&!e)return dT.randomUUID();e=e||{};const r=e.random??((i=e.rng)==null?void 0:i.call(e))??LJ();if(r.length<16)throw new Error("Random bytes length must be >= 16");return r[6]=r[6]&15|64,r[8]=r[8]&63|128,MJ(r)}const $J=["id"],FJ={__name:"DataForm",props:{...cs.props,errors:{type:Object,required:!1,default:()=>({})},fields:{type:Array,required:!0},wrapperClass:{type:String||null,default:null}},emits:[...cs.emits],setup(e,{emit:t}){const n=e,r=t,i=lo(),s=_t([]),o=c=>{s.value.push(c)},{workingCopy:a}=cs.setup(n,{emit:r});ob(()=>{s.value=[]});const l=({field:c})=>c.type==="raw-component"?Qt(c.component.component,c.component.options,c.component.slots):Qt(r2,{field:c,modelValue:a.value,"onUpdate:modelValue":d=>{r("update:modelValue",d)},ref:o(),class:"flex-grow",errors:n.errors}),u=({field:c})=>{let d=null;return c.extraSlot&&(d=Qt(c.extraSlot,{field:c,modelValue:a.value,"onUpdate:modelValue":f=>{r("update:modelValue",f)}})),d};return(c,d)=>(x(),P("div",{id:_e(i),class:"data-form"},[(x(!0),P(Ge,null,$t(e.fields,f=>(x(),P("div",{key:f.name},[S("div",{class:nt(e.wrapperClass)},[U(l,{field:f,"model-value":_e(a)},null,8,["field","model-value"]),U(u,{field:f,"model-value":_e(a)},null,8,["field","model-value"])],2)]))),128))],8,$J))}},UJ=Object.freeze(Object.defineProperty({__proto__:null,default:FJ},Symbol.toStringTag,{value:"Module"})),HJ={props:{modelValue:{required:!1,default:null},disabled:{required:!1,default:!1}},emits:["update:modelValue","change"],data(){return{}},computed:{date:{get(){let e=null;return this.modelValue?this.modelValue instanceof Date?e=new Date(this.modelValue.getTime()):e=new Date(Date.parse(this.modelValue)):e=null,e&&e.toISOString().split("T")[0]}}},mounted(){this.accountForTimezone(this.formatDate(this.modelValue))},methods:{handleInput(e){const t=e.target.valueAsDate;if(!t){this.$emit("update:modelValue",t);return}t.valueOf()>new Date(Date.parse("1900-01-01"))&&this.$emit("update:modelValue",this.accountForTimezone(t).toISOString())},accountForTimezone(e){if(e===null)return e;const t=new Date(Date.parse(e));return new Date(t.getTime()+t.getTimezoneOffset()*60*1e3)},formatDate(e){if(e===null)return null;const t=new Date(e),n=`0${t.getMonth()+1}`.slice(-2),r=`0${t.getDate()}`.slice(-2);return[t.getFullYear(),n,r].join("-")},focus(){this.$nextTick(()=>{this.$refs.input.focus()})}}},zJ=["value","disabled"];function VJ(e,t,n,r,i,s){return x(),P("div",null,[S("input",{ref:"input",type:"date",class:"date-input",value:s.date,disabled:n.disabled,onInput:t[0]||(t[0]=(...o)=>s.handleInput&&s.handleInput(...o)),onChange:t[1]||(t[1]=o=>e.$emit("change"))},null,40,zJ)])}const jJ=ne(HJ,[["render",VJ]]),qJ=Object.freeze(Object.defineProperty({__proto__:null,default:jJ},Symbol.toStringTag,{value:"Module"})),WJ={name:"DiseaseSearchSelect",components:{SearchSelect:bo},props:{modelValue:{required:!0}},emits:["update:modelValue"],data(){return{}},computed:{selectedDisease:{get(){return this.modelValue},set(e){this.$emit("update:modelValue",e)}}},methods:{async search(e){return await ee.get(`/api/diseases/search?query_string=${e}`).then(t=>t.data)}}},YJ={key:0},GJ={key:1},KJ={key:0},XJ={key:1};function QJ(e,t,n,r,i,s){const o=Y("SearchSelect");return x(),pe(o,{modelValue:s.selectedDisease,"onUpdate:modelValue":t[0]||(t[0]=a=>s.selectedDisease=a),"search-function":s.search,style:{"z-index":"2"},placeholder:"MonDO ID or name"},{"selection-label":W(({selection:a})=>[typeof a=="object"?(x(),P("div",YJ,ye(a.mondo_id)+" - "+ye(a.name),1)):(x(),P("div",GJ,ye(a),1))]),option:W(({option:a})=>[typeof a=="object"?(x(),P("div",KJ,ye(a.mondo_id)+" - "+ye(a.name),1)):(x(),P("div",XJ,ye(a),1))]),_:1},8,["modelValue","search-function"])}const JJ=ne(WJ,[["render",QJ]]),ZJ=Object.freeze(Object.defineProperty({__proto__:null,default:JJ},Symbol.toStringTag,{value:"Module"})),eZ={__name:"ExpertisesInput",props:{...Hp},emits:[...zp],setup(e,{emit:t}){const n=e,r=t,{workingCopy:i}=Vp(n,{emit:r}),s=_t([]),o=async()=>{s.value=await ee.get("/api/expertises").then(u=>u.data)},a=_t(""),l=async(u,c)=>(a.value=u,c.filter(d=>{const f=/[.,-]/g,p=u.replace(f,"").toLowerCase();return d.name.toLowerCase().match(p)||d.synonyms.some(m=>m.name.toLowerCase().match(p))}));return vr(()=>{o()}),(u,c)=>(x(),pe(bo,{modelValue:_e(i),"onUpdate:modelValue":c[0]||(c[0]=d=>Yt(i)?i.value=d:null),options:s.value,multiple:"","show-options-on-focus":"","show-options-when-empty":"","search-function":l},null,8,["modelValue","options"]))}},tZ=Object.freeze(Object.defineProperty({__proto__:null,default:eZ},Symbol.toStringTag,{value:"Module"})),nZ={props:{},data(){return{visibility:!1,visibilityInterval:null}},watch:{visibility(e,t){e&&!t&&this.focusFirstInput()}},mounted(){this.visibilityInterval=setInterval(this.checkVisibility,100)},unmounted(){clearInterval(this.visibilityInterval)},methods:{checkVisibility(){this.visibility=this.$el&&(this.$el.offsetWidth>0||this.$el.offsetHeight>0)},focusFirstInput(){this.$el.querySelectorAll("input, textarea, select")[0].focus()}}};function rZ(e,t,n,r,i,s){return x(),P("div",null,[ke(e.$slots,"default")])}const iZ=ne(nZ,[["render",rZ]]),sZ=Object.freeze(Object.defineProperty({__proto__:null,default:iZ},Symbol.toStringTag,{value:"Module"})),oZ={name:"GeneSearchSelect",components:{SearchSelect:bo},props:{modelValue:{required:!0}},emits:["update:modelValue"],computed:{selectedGene:{get(){return this.modelValue},set(e){this.$emit("update:modelValue",e)}}},methods:{async search(e){return await ee.get(`/api/genes/search?query_string=${e}`).then(t=>t.data)}}},aZ={key:0},lZ={key:1},uZ={key:0},cZ={key:1};function dZ(e,t,n,r,i,s){const o=Y("SearchSelect");return x(),pe(o,{modelValue:s.selectedGene,"onUpdate:modelValue":t[0]||(t[0]=a=>s.selectedGene=a),"search-function":s.search,style:{"z-index":"2"},placeholder:"HGNC ID or Gene Symbol","key-options-by":"id"},{"selection-label":W(({selection:a})=>[typeof a=="object"?(x(),P("div",aZ,ye(a.gene_symbol),1)):(x(),P("div",lZ,ye(a),1))]),option:W(({option:a})=>[typeof a=="object"?(x(),P("div",uZ,ye(a.gene_symbol),1)):(x(),P("div",cZ,ye(a),1))]),_:1},8,["modelValue","search-function"])}const fZ=ne(oZ,[["render",dZ]]),pZ=Object.freeze(Object.defineProperty({__proto__:null,default:fZ},Symbol.toStringTag,{value:"Module"})),y1=_t([]),hZ=yt(()=>[{name:"name",placeholder:"University of Liliput"},{name:"abbreviation",placeholder:"LilU"},{name:"url",placeholder:"https://lilu.edu"},{name:"country_id",label:"Country",type:"select",options:y1.value},{name:"reportable",label:"Reportable",type:"radio-group",options:[{value:!0,label:"Yes"},{value:!1,label:"No"}]}]),mZ=()=>{ee.get("/api/people/lookups/countries").then(e=>{y1.value=e.data.data.map(t=>({value:t.id,label:t.name}))}).catch(e=>console.error(e))},gZ=e=>ee.post("/api/institutions",e).then(t=>t.data),vye=e=>ee.put(`/api/institutions/${e.id}`,e).then(t=>t.data),Tye=e=>ee.get("/api/institutions",{params:e}).then(t=>t.data),wye=e=>ee.put(`/api/institutions/${e.id}/approved`).then(t=>t.data),xye=(e,t)=>ee.put("/api/institutions/merge",{authority_id:e,obsolete_ids:t}),Cye=e=>ee.delete(`/api/institutions/${e.id}`),bZ={name:"InstitutionCreateForm",props:{name:{type:String||null,default:null}},emits:["saved","canceled"],setup(){return{fields:hZ,getCountries:mZ,countries:y1,createInstitution:gZ}},data(){return{inst:{},errors:{}}},computed:{filteredFields(){return this.fields.filter(e=>e.name!=="reportable")}},watch:{name:{immediate:!0,handler(e){this.inst.name=e}}},mounted(){this.getCountries()},methods:{async save(){try{const e=await this.createInstitution(this.inst);this.$emit("saved",e),this.initInstitution()}catch(e){Rc(e)&&(this.errors=e.response.data.errors)}},cancel(){this.$emit("canceled"),this.initInstitution()},initInstitution(){this.inst={name:this.name}},initErrors(){this.errors={}}}};function yZ(e,t,n,r,i,s){const o=Y("data-form"),a=Y("button-row");return x(),P("div",null,[U(o,{modelValue:i.inst,"onUpdate:modelValue":t[0]||(t[0]=l=>i.inst=l),fields:s.filteredFields,errors:i.errors},null,8,["modelValue","fields","errors"]),U(a,{"submit-text":"Save",onSubmitted:s.save,onCancel:s.cancel},null,8,["onSubmitted","onCancel"])])}const _Z=ne(bZ,[["render",yZ]]),EZ={name:"InstitutionSearchSelect",components:{SearchSelect:bo,InstitutionForm:_Z},props:{modelValue:{required:!0},allowAdd:{type:Boolean,default:!0}},emits:["update:modelValue"],data(){return{institutions:[],showAddForm:!1,formName:null}},computed:{selectedInstitutionId:{get(){return this.modelValue},set(e){this.$emit("update:modelValue",e)}},selectedInstitution:{get(){return this.institutions.find(e=>e.id===this.modelValue)},set(e){if(e){this.selectedInstitutionId=e.id;return}this.selectedInstitutionId=null}}},mounted(){this.getInstitutions()},methods:{search(e){this.formName=e;const t=new RegExp(`.*${e}.*`,"i");return this.institutions.filter(n=>n.name&&n.name.match(t)||n.abbreviation&&n.abbreviation.match(t)||n.url&&n.url.match(t))},initAddNew(){this.showAddForm=!0},useNewInstitution(e){this.institutions.push(e),this.selectedInstitution=e,this.showAddForm=!1},cancelNewInstitution(){this.showAddForm=!1},getInstitutions(){const e={sort:{field:"name",dir:"asc"},select:["name","abbreviation","id","url"]};ee.get(`/api/people/institutions${ls(e)}`).then(t=>{this.institutions=t.data})}}},vZ={key:0},TZ={key:0},wZ={key:0},xZ={key:1};function CZ(e,t,n,r,i,s){const o=Y("SearchSelect"),a=Y("InstitutionForm"),l=Y("modal-dialog");return x(),P("div",null,[U(o,{modelValue:s.selectedInstitution,"onUpdate:modelValue":[t[1]||(t[1]=u=>s.selectedInstitution=u),t[2]||(t[2]=u=>e.searchText=null)],"search-function":s.search,style:{"z-index":"2"},placeholder:"Institution name or abbreviation","key-options-by":"id","show-options-on-focus":"",options:i.institutions,"show-options-when-empty":""},mM({"selection-label":W(({selection:u})=>[S("div",null,[Ae(ye(u.name)+" ",1),u.abbreviation?(x(),P("span",vZ,"("+ye(u.abbreviation)+")",1)):Oe("",!0)])]),option:W(({option:u})=>[typeof u=="object"?(x(),P("div",TZ,[Ae(ye(u.name)+" ",1),u.abbreviation?(x(),P("span",wZ,"("+ye(u.abbreviation)+")",1)):Oe("",!0)])):(x(),P("div",xZ,ye(u),1))]),_:2},[n.allowAdd?{name:"fixedBottomOption",fn:W(()=>[S("button",{class:"font-bold link cursor-pointer",onClick:t[0]||(t[0]=(...u)=>s.initAddNew&&s.initAddNew(...u))}," Add your institution ")]),key:"0"}:void 0]),1032,["modelValue","search-function","options"]),(x(),pe(Er,{to:"body"},[U(l,{modelValue:i.showAddForm,"onUpdate:modelValue":t[3]||(t[3]=u=>i.showAddForm=u),title:"Add an institution"},{default:W(()=>[U(a,{name:i.formName,onSaved:s.useNewInstitution,onCanceled:s.cancelNewInstitution},null,8,["name","onSaved","onCanceled"])]),_:1},8,["modelValue"])]))])}const SZ=ne(EZ,[["render",CZ]]),AZ=Object.freeze(Object.defineProperty({__proto__:null,default:SZ},Symbol.toStringTag,{value:"Module"})),kZ={name:"PersonSearchSelect",components:{SearchSelect:bo},props:{modelValue:{required:!0},allowAdd:{type:Boolean,default:!0},multiple:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1}},emits:["update:modelValue"],data(){return{options:[],showAddForm:!1,formName:null}},computed:{selectedPerson:{get(){return this.modelValue},set(e){if(e){this.$emit("update:modelValue",e);return}this.$emit("update:modelValue",null)}}},methods:{async search(e){if(!e||e.length<2)return[];const t=`/api/people?where[filterString]=${e}`;return this.options=await ee.get(t).then(n=>n.data.data),this.options}}},OZ={key:0},IZ={key:1};function NZ(e,t,n,r,i,s){const o=Y("SearchSelect");return x(),P("div",null,[U(o,{modelValue:s.selectedPerson,"onUpdate:modelValue":[t[0]||(t[0]=a=>s.selectedPerson=a),t[1]||(t[1]=a=>e.searchText=null)],multiple:n.multiple,disabled:n.disabled,"search-function":s.search,style:{"z-index":"2"},placeholder:"Person name or email"},{"selection-label":W(({selection:a})=>[S("div",null,ye(a.first_name)+" "+ye(a.last_name)+" <"+ye(a.email)+"> ",1)]),option:W(({option:a})=>[typeof a=="object"?(x(),P("div",OZ,ye(a.name)+" <"+ye(a.email)+"> ",1)):(x(),P("div",IZ,ye(a),1))]),_:1},8,["modelValue","multiple","disabled","search-function"])])}const RZ=ne(kZ,[["render",NZ]]),DZ=Object.freeze(Object.defineProperty({__proto__:null,default:RZ},Symbol.toStringTag,{value:"Module"})),MZ={name:"Checkbox",props:{modelValue:{required:!1,default:!1},label:{required:!1},value:{required:!0}},emits:["update:modelValue","change"],computed:{radioId(){return`radiobutton-${this.uid}`},val:{get(){return this.modelValue},set(e){this.$emit("update:modelValue",e)}}}},PZ={class:"mb-2"},LZ=["id","disabled","value"];function BZ(e,t,n,r,i,s){return x(),P("label",PZ,[ke(e.$slots,"input",{},()=>[Ct(S("input",{id:s.radioId,"onUpdate:modelValue":t[0]||(t[0]=o=>s.val=o),type:"radio",class:"mt-1",disabled:e.$attrs.disabled,value:n.value},null,8,LZ),[[OP,s.val]])]),S("div",null,[ke(e.$slots,"default",{},()=>[Ae(ye(n.label),1)])])])}const $Z=ne(MZ,[["render",BZ]]),FZ=Object.freeze(Object.defineProperty({__proto__:null,default:$Z},Symbol.toStringTag,{value:"Module"})),UZ=["onClick"],HZ={class:"inline-block"},zZ=["checked"],VZ={__name:"RadioButtonGroup",props:{modelValue:{required:!0},options:{type:Array,default:()=>[]},labelAttribute:{type:String,required:!1},vertical:{type:Boolean,default:!1},size:{type:String,default:"md"}},emits:["update:modelValue","change"],setup(e,{emit:t}){const n=e,r=t,i=l=>{r("update:modelValue",l),r("change",l)},s=l=>JSON.stringify(l)===JSON.stringify(n.modelValue),o=l=>typeof l=="object"?n.labelAttribute?l[n.labelAttribute]:l:typeof l=="string"?iS(l):l,a=l=>{const u=[n.size];return s(l)&&u.push("selected"),u.join(" ")};return(l,u)=>(x(),P("div",{class:nt(["button-group",{vertical:e.vertical}])},[(x(!0),P(Ge,null,$t(e.options,(c,d)=>(x(),P("button",{key:d,class:nt(a(c)),onClick:f=>i(c)},[S("div",HZ,[S("input",{type:"radio",checked:s(c)},null,8,zZ)]),u[0]||(u[0]=Ae("  ")),ke(l.$slots,"default",{option:c},()=>[Ae(ye(o(c)),1)])],10,UZ))),128))],2))}},jZ=Object.freeze(Object.defineProperty({__proto__:null,default:VZ},Symbol.toStringTag,{value:"Module"})),qZ={props:{label:{required:!1,type:String,default:"Relevant Step"},modelValue:{required:!0},errors:{type:Array,required:!1,default:()=>[]}},emits:["update:modelValue"],data(){return{stepOptions:[{value:1,label:"Definition"},{value:2,label:"Draft Specifications"},{value:3,label:"Pilot Specifications"},{value:4,label:"Sustained Curation"}]}}};function WZ(e,t,n,r,i,s){const o=Y("input-row");return x(),pe(o,{label:"Step","model-value":n.modelValue,errors:n.errors.step,type:"select",options:i.stepOptions,onInput:t[0]||(t[0]=a=>e.$emit("update:modelValue",a.target.value))},null,8,["model-value","errors","options"])}const YZ=ne(qZ,[["render",WZ]]),GZ=Object.freeze(Object.defineProperty({__proto__:null,default:YZ},Symbol.toStringTag,{value:"Module"})),KZ={name:"DiseaseSearchSelect",props:{modelValue:{required:!0}},emits:["update:modelValue"],data(){return{timezones:[],regions:[],cities:[],region:null,city:null}},computed:{regionCities(){return this.cities.filter(e=>e.region===this.region)}},watch:{city(){this.emitUpdate()},region(){this.emitUpdate()},modelValue:{immediate:!0,handler(e){let t=null,n=[],r=null;if(e)[t,...n]=e.split("/"),r=n.join("/").replace("_"," ");else return;let i=!1;t!==this.region&&(this.region=t,i=!0),r!==this.city&&(this.city=r,i=!0),i&&this.emitUpdate()}}},mounted(){ee.get("/api/people/lookups/timezones").then(e=>{this.timezones=e.data.data.filter(t=>t!=="UTC"),this.setRegionsAndCities(this.timezones)})},methods:{search(e){if(!e||e.length<2)return[];const t=new RegExp(`.*${e}.*`,"i");return this.cities.filter(n=>this.region?n.region===this.region:!0).filter(n=>n.name.match(t))},setRegionsAndCities(e){e.forEach(t=>{const[n,...r]=t.split("/");this.regions.push(n),this.cities.push({region:n,name:r.join("/").replace("_"," ")})}),this.regions=[...new Set(this.regions)]},emitUpdate(){if(this.region==="UTC"&&this.$emit("update:modelValue",this.region),!this.city||!this.region)return;const e=`${this.region}/${this.city.replace(" ","_")}`;this.timezones.indexOf(e)&&this.$emit("update:modelValue",e)}}},XZ={class:"flex space-x-1 items-start"},QZ=["value"],JZ=["disabled"],ZZ=["value"],eee={class:"w-80"};function tee(e,t,n,r,i,s){const o=Y("faq-link"),a=Y("icon-question"),l=Y("popover");return x(),P("div",XZ,[S("div",null,[t[2]||(t[2]=S("label",{for:"region-select",class:"block text-xs"},"Region:",-1)),Ct(S("select",{id:"region-select","onUpdate:modelValue":t[0]||(t[0]=u=>i.region=u),class:"input-cl"},[(x(!0),P(Ge,null,$t(i.regions,u=>(x(),P("option",{key:u,value:i.region},ye(u),9,QZ))),128))],512),[[Ef,i.region]])]),S("div",null,[t[7]||(t[7]=S("label",{for:"city-search-select",class:"block text-xs"},"City:",-1)),Ct(S("select",{id:"city-search-select","onUpdate:modelValue":t[1]||(t[1]=u=>i.city=u),disabled:!i.region},[t[3]||(t[3]=S("option",{value:"null"}," Select... ",-1)),(x(!0),P(Ge,null,$t(s.regionCities,({name:u})=>(x(),P("option",{key:u,value:u},ye(u),9,ZZ))),128))],8,JZ),[[Ef,i.city]]),t[8]||(t[8]=Ae("   ")),U(l,{arrow:"",trigger:"hover"},{content:W(()=>[S("div",eee,[t[6]||(t[6]=S("p",null,"The best way to get your timezone right is to tell us which city has the same “timezone” you do. For example, if you’re located in Atlanta, Georgia, USA you should choose, North America/New York as your “Timezone”.",-1)),S("p",null,[t[4]||(t[4]=Ae("See the ")),U(o,{hash:"#heading=h.9kox4w1eoeul"}),t[5]||(t[5]=Ae(" for more details."))])])]),default:W(()=>[U(a,{class:"text-gray-500 cursor-pointer"})]),_:1})])])}const nee=ne(KZ,[["render",tee]]),ree=Object.freeze(Object.defineProperty({__proto__:null,default:nee},Symbol.toStringTag,{value:"Module"}));function Lt(e){this.content=e}Lt.prototype={constructor:Lt,find:function(e){for(var t=0;t<this.content.length;t+=2)if(this.content[t]===e)return t;return-1},get:function(e){var t=this.find(e);return t==-1?void 0:this.content[t+1]},update:function(e,t,n){var r=n&&n!=e?this.remove(n):this,i=r.find(e),s=r.content.slice();return i==-1?s.push(n||e,t):(s[i+1]=t,n&&(s[i]=n)),new Lt(s)},remove:function(e){var t=this.find(e);if(t==-1)return this;var n=this.content.slice();return n.splice(t,2),new Lt(n)},addToStart:function(e,t){return new Lt([e,t].concat(this.remove(e).content))},addToEnd:function(e,t){var n=this.remove(e).content.slice();return n.push(e,t),new Lt(n)},addBefore:function(e,t,n){var r=this.remove(t),i=r.content.slice(),s=r.find(e);return i.splice(s==-1?i.length:s,0,t,n),new Lt(i)},forEach:function(e){for(var t=0;t<this.content.length;t+=2)e(this.content[t],this.content[t+1])},prepend:function(e){return e=Lt.from(e),e.size?new Lt(e.content.concat(this.subtract(e).content)):this},append:function(e){return e=Lt.from(e),e.size?new Lt(this.subtract(e).content.concat(e.content)):this},subtract:function(e){var t=this;e=Lt.from(e);for(var n=0;n<e.content.length;n+=2)t=t.remove(e.content[n]);return t},toObject:function(){var e={};return this.forEach(function(t,n){e[t]=n}),e},get size(){return this.content.length>>1}};Lt.from=function(e){if(e instanceof Lt)return e;var t=[];if(e)for(var n in e)t.push(n,e[n]);return new Lt(t)};function i2(e,t,n){for(let r=0;;r++){if(r==e.childCount||r==t.childCount)return e.childCount==t.childCount?null:n;let i=e.child(r),s=t.child(r);if(i==s){n+=i.nodeSize;continue}if(!i.sameMarkup(s))return n;if(i.isText&&i.text!=s.text){for(let o=0;i.text[o]==s.text[o];o++)n++;return n}if(i.content.size||s.content.size){let o=i2(i.content,s.content,n+1);if(o!=null)return o}n+=i.nodeSize}}function s2(e,t,n,r){for(let i=e.childCount,s=t.childCount;;){if(i==0||s==0)return i==s?null:{a:n,b:r};let o=e.child(--i),a=t.child(--s),l=o.nodeSize;if(o==a){n-=l,r-=l;continue}if(!o.sameMarkup(a))return{a:n,b:r};if(o.isText&&o.text!=a.text){let u=0,c=Math.min(o.text.length,a.text.length);for(;u<c&&o.text[o.text.length-u-1]==a.text[a.text.length-u-1];)u++,n--,r--;return{a:n,b:r}}if(o.content.size||a.content.size){let u=s2(o.content,a.content,n-1,r-1);if(u)return u}n-=l,r-=l}}class se{constructor(t,n){if(this.content=t,this.size=n||0,n==null)for(let r=0;r<t.length;r++)this.size+=t[r].nodeSize}nodesBetween(t,n,r,i=0,s){for(let o=0,a=0;a<n;o++){let l=this.content[o],u=a+l.nodeSize;if(u>t&&r(l,i+a,s||null,o)!==!1&&l.content.size){let c=a+1;l.nodesBetween(Math.max(0,t-c),Math.min(l.content.size,n-c),r,i+c)}a=u}}descendants(t){this.nodesBetween(0,this.size,t)}textBetween(t,n,r,i){let s="",o=!0;return this.nodesBetween(t,n,(a,l)=>{let u=a.isText?a.text.slice(Math.max(t,l)-l,n-l):a.isLeaf?i?typeof i=="function"?i(a):i:a.type.spec.leafText?a.type.spec.leafText(a):"":"";a.isBlock&&(a.isLeaf&&u||a.isTextblock)&&r&&(o?o=!1:s+=r),s+=u},0),s}append(t){if(!t.size)return this;if(!this.size)return t;let n=this.lastChild,r=t.firstChild,i=this.content.slice(),s=0;for(n.isText&&n.sameMarkup(r)&&(i[i.length-1]=n.withText(n.text+r.text),s=1);s<t.content.length;s++)i.push(t.content[s]);return new se(i,this.size+t.size)}cut(t,n=this.size){if(t==0&&n==this.size)return this;let r=[],i=0;if(n>t)for(let s=0,o=0;o<n;s++){let a=this.content[s],l=o+a.nodeSize;l>t&&((o<t||l>n)&&(a.isText?a=a.cut(Math.max(0,t-o),Math.min(a.text.length,n-o)):a=a.cut(Math.max(0,t-o-1),Math.min(a.content.size,n-o-1))),r.push(a),i+=a.nodeSize),o=l}return new se(r,i)}cutByIndex(t,n){return t==n?se.empty:t==0&&n==this.content.length?this:new se(this.content.slice(t,n))}replaceChild(t,n){let r=this.content[t];if(r==n)return this;let i=this.content.slice(),s=this.size+n.nodeSize-r.nodeSize;return i[t]=n,new se(i,s)}addToStart(t){return new se([t].concat(this.content),this.size+t.nodeSize)}addToEnd(t){return new se(this.content.concat(t),this.size+t.nodeSize)}eq(t){if(this.content.length!=t.content.length)return!1;for(let n=0;n<this.content.length;n++)if(!this.content[n].eq(t.content[n]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(t){let n=this.content[t];if(!n)throw new RangeError("Index "+t+" out of range for "+this);return n}maybeChild(t){return this.content[t]||null}forEach(t){for(let n=0,r=0;n<this.content.length;n++){let i=this.content[n];t(i,r,n),r+=i.nodeSize}}findDiffStart(t,n=0){return i2(this,t,n)}findDiffEnd(t,n=this.size,r=t.size){return s2(this,t,n,r)}findIndex(t,n=-1){if(t==0)return wd(0,t);if(t==this.size)return wd(this.content.length,t);if(t>this.size||t<0)throw new RangeError(`Position ${t} outside of fragment (${this})`);for(let r=0,i=0;;r++){let s=this.child(r),o=i+s.nodeSize;if(o>=t)return o==t||n>0?wd(r+1,o):wd(r,i);i=o}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(t=>t.toJSON()):null}static fromJSON(t,n){if(!n)return se.empty;if(!Array.isArray(n))throw new RangeError("Invalid input for Fragment.fromJSON");return new se(n.map(t.nodeFromJSON))}static fromArray(t){if(!t.length)return se.empty;let n,r=0;for(let i=0;i<t.length;i++){let s=t[i];r+=s.nodeSize,i&&s.isText&&t[i-1].sameMarkup(s)?(n||(n=t.slice(0,i)),n[n.length-1]=s.withText(n[n.length-1].text+s.text)):n&&n.push(s)}return new se(n||t,r)}static from(t){if(!t)return se.empty;if(t instanceof se)return t;if(Array.isArray(t))return this.fromArray(t);if(t.attrs)return new se([t],t.nodeSize);throw new RangeError("Can not convert "+t+" to a Fragment"+(t.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}se.empty=new se([],0);const Em={index:0,offset:0};function wd(e,t){return Em.index=e,Em.offset=t,Em}function Bf(e,t){if(e===t)return!0;if(!(e&&typeof e=="object")||!(t&&typeof t=="object"))return!1;let n=Array.isArray(e);if(Array.isArray(t)!=n)return!1;if(n){if(e.length!=t.length)return!1;for(let r=0;r<e.length;r++)if(!Bf(e[r],t[r]))return!1}else{for(let r in e)if(!(r in t)||!Bf(e[r],t[r]))return!1;for(let r in t)if(!(r in e))return!1}return!0}class ht{constructor(t,n){this.type=t,this.attrs=n}addToSet(t){let n,r=!1;for(let i=0;i<t.length;i++){let s=t[i];if(this.eq(s))return t;if(this.type.excludes(s.type))n||(n=t.slice(0,i));else{if(s.type.excludes(this.type))return t;!r&&s.type.rank>this.type.rank&&(n||(n=t.slice(0,i)),n.push(this),r=!0),n&&n.push(s)}}return n||(n=t.slice()),r||n.push(this),n}removeFromSet(t){for(let n=0;n<t.length;n++)if(this.eq(t[n]))return t.slice(0,n).concat(t.slice(n+1));return t}isInSet(t){for(let n=0;n<t.length;n++)if(this.eq(t[n]))return!0;return!1}eq(t){return this==t||this.type==t.type&&Bf(this.attrs,t.attrs)}toJSON(){let t={type:this.type.name};for(let n in this.attrs){t.attrs=this.attrs;break}return t}static fromJSON(t,n){if(!n)throw new RangeError("Invalid input for Mark.fromJSON");let r=t.marks[n.type];if(!r)throw new RangeError(`There is no mark type ${n.type} in this schema`);let i=r.create(n.attrs);return r.checkAttrs(i.attrs),i}static sameSet(t,n){if(t==n)return!0;if(t.length!=n.length)return!1;for(let r=0;r<t.length;r++)if(!t[r].eq(n[r]))return!1;return!0}static setFrom(t){if(!t||Array.isArray(t)&&t.length==0)return ht.none;if(t instanceof ht)return[t];let n=t.slice();return n.sort((r,i)=>r.type.rank-i.type.rank),n}}ht.none=[];class $f extends Error{}class he{constructor(t,n,r){this.content=t,this.openStart=n,this.openEnd=r}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(t,n){let r=a2(this.content,t+this.openStart,n);return r&&new he(r,this.openStart,this.openEnd)}removeBetween(t,n){return new he(o2(this.content,t+this.openStart,n+this.openStart),this.openStart,this.openEnd)}eq(t){return this.content.eq(t.content)&&this.openStart==t.openStart&&this.openEnd==t.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let t={content:this.content.toJSON()};return this.openStart>0&&(t.openStart=this.openStart),this.openEnd>0&&(t.openEnd=this.openEnd),t}static fromJSON(t,n){if(!n)return he.empty;let r=n.openStart||0,i=n.openEnd||0;if(typeof r!="number"||typeof i!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new he(se.fromJSON(t,n.content),r,i)}static maxOpen(t,n=!0){let r=0,i=0;for(let s=t.firstChild;s&&!s.isLeaf&&(n||!s.type.spec.isolating);s=s.firstChild)r++;for(let s=t.lastChild;s&&!s.isLeaf&&(n||!s.type.spec.isolating);s=s.lastChild)i++;return new he(t,r,i)}}he.empty=new he(se.empty,0,0);function o2(e,t,n){let{index:r,offset:i}=e.findIndex(t),s=e.maybeChild(r),{index:o,offset:a}=e.findIndex(n);if(i==t||s.isText){if(a!=n&&!e.child(o).isText)throw new RangeError("Removing non-flat range");return e.cut(0,t).append(e.cut(n))}if(r!=o)throw new RangeError("Removing non-flat range");return e.replaceChild(r,s.copy(o2(s.content,t-i-1,n-i-1)))}function a2(e,t,n,r){let{index:i,offset:s}=e.findIndex(t),o=e.maybeChild(i);if(s==t||o.isText)return e.cut(0,t).append(n).append(e.cut(t));let a=a2(o.content,t-s-1,n);return a&&e.replaceChild(i,o.copy(a))}function iee(e,t,n){if(n.openStart>e.depth)throw new $f("Inserted content deeper than insertion position");if(e.depth-n.openStart!=t.depth-n.openEnd)throw new $f("Inconsistent open depths");return l2(e,t,n,0)}function l2(e,t,n,r){let i=e.index(r),s=e.node(r);if(i==t.index(r)&&r<e.depth-n.openStart){let o=l2(e,t,n,r+1);return s.copy(s.content.replaceChild(i,o))}else if(n.content.size)if(!n.openStart&&!n.openEnd&&e.depth==r&&t.depth==r){let o=e.parent,a=o.content;return jo(o,a.cut(0,e.parentOffset).append(n.content).append(a.cut(t.parentOffset)))}else{let{start:o,end:a}=see(n,e);return jo(s,c2(e,o,a,t,r))}else return jo(s,Ff(e,t,r))}function u2(e,t){if(!t.type.compatibleContent(e.type))throw new $f("Cannot join "+t.type.name+" onto "+e.type.name)}function o0(e,t,n){let r=e.node(n);return u2(r,t.node(n)),r}function Vo(e,t){let n=t.length-1;n>=0&&e.isText&&e.sameMarkup(t[n])?t[n]=e.withText(t[n].text+e.text):t.push(e)}function Mu(e,t,n,r){let i=(t||e).node(n),s=0,o=t?t.index(n):i.childCount;e&&(s=e.index(n),e.depth>n?s++:e.textOffset&&(Vo(e.nodeAfter,r),s++));for(let a=s;a<o;a++)Vo(i.child(a),r);t&&t.depth==n&&t.textOffset&&Vo(t.nodeBefore,r)}function jo(e,t){return e.type.checkContent(t),e.copy(t)}function c2(e,t,n,r,i){let s=e.depth>i&&o0(e,t,i+1),o=r.depth>i&&o0(n,r,i+1),a=[];return Mu(null,e,i,a),s&&o&&t.index(i)==n.index(i)?(u2(s,o),Vo(jo(s,c2(e,t,n,r,i+1)),a)):(s&&Vo(jo(s,Ff(e,t,i+1)),a),Mu(t,n,i,a),o&&Vo(jo(o,Ff(n,r,i+1)),a)),Mu(r,null,i,a),new se(a)}function Ff(e,t,n){let r=[];if(Mu(null,e,n,r),e.depth>n){let i=o0(e,t,n+1);Vo(jo(i,Ff(e,t,n+1)),r)}return Mu(t,null,n,r),new se(r)}function see(e,t){let n=t.depth-e.openStart,i=t.node(n).copy(e.content);for(let s=n-1;s>=0;s--)i=t.node(s).copy(se.from(i));return{start:i.resolveNoCache(e.openStart+n),end:i.resolveNoCache(i.content.size-e.openEnd-n)}}class lc{constructor(t,n,r){this.pos=t,this.path=n,this.parentOffset=r,this.depth=n.length/3-1}resolveDepth(t){return t==null?this.depth:t<0?this.depth+t:t}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(t){return this.path[this.resolveDepth(t)*3]}index(t){return this.path[this.resolveDepth(t)*3+1]}indexAfter(t){return t=this.resolveDepth(t),this.index(t)+(t==this.depth&&!this.textOffset?0:1)}start(t){return t=this.resolveDepth(t),t==0?0:this.path[t*3-1]+1}end(t){return t=this.resolveDepth(t),this.start(t)+this.node(t).content.size}before(t){if(t=this.resolveDepth(t),!t)throw new RangeError("There is no position before the top-level node");return t==this.depth+1?this.pos:this.path[t*3-1]}after(t){if(t=this.resolveDepth(t),!t)throw new RangeError("There is no position after the top-level node");return t==this.depth+1?this.pos:this.path[t*3-1]+this.path[t*3].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let t=this.parent,n=this.index(this.depth);if(n==t.childCount)return null;let r=this.pos-this.path[this.path.length-1],i=t.child(n);return r?t.child(n).cut(r):i}get nodeBefore(){let t=this.index(this.depth),n=this.pos-this.path[this.path.length-1];return n?this.parent.child(t).cut(0,n):t==0?null:this.parent.child(t-1)}posAtIndex(t,n){n=this.resolveDepth(n);let r=this.path[n*3],i=n==0?0:this.path[n*3-1]+1;for(let s=0;s<t;s++)i+=r.child(s).nodeSize;return i}marks(){let t=this.parent,n=this.index();if(t.content.size==0)return ht.none;if(this.textOffset)return t.child(n).marks;let r=t.maybeChild(n-1),i=t.maybeChild(n);if(!r){let a=r;r=i,i=a}let s=r.marks;for(var o=0;o<s.length;o++)s[o].type.spec.inclusive===!1&&(!i||!s[o].isInSet(i.marks))&&(s=s[o--].removeFromSet(s));return s}marksAcross(t){let n=this.parent.maybeChild(this.index());if(!n||!n.isInline)return null;let r=n.marks,i=t.parent.maybeChild(t.index());for(var s=0;s<r.length;s++)r[s].type.spec.inclusive===!1&&(!i||!r[s].isInSet(i.marks))&&(r=r[s--].removeFromSet(r));return r}sharedDepth(t){for(let n=this.depth;n>0;n--)if(this.start(n)<=t&&this.end(n)>=t)return n;return 0}blockRange(t=this,n){if(t.pos<this.pos)return t.blockRange(this);for(let r=this.depth-(this.parent.inlineContent||this.pos==t.pos?1:0);r>=0;r--)if(t.pos<=this.end(r)&&(!n||n(this.node(r))))return new _r(this,t,r);return null}sameParent(t){return this.pos-this.parentOffset==t.pos-t.parentOffset}max(t){return t.pos>this.pos?t:this}min(t){return t.pos<this.pos?t:this}toString(){let t="";for(let n=1;n<=this.depth;n++)t+=(t?"/":"")+this.node(n).type.name+"_"+this.index(n-1);return t+":"+this.parentOffset}static resolve(t,n){if(!(n>=0&&n<=t.content.size))throw new RangeError("Position "+n+" out of range");let r=[],i=0,s=n;for(let o=t;;){let{index:a,offset:l}=o.content.findIndex(s),u=s-l;if(r.push(o,a,i+l),!u||(o=o.child(a),o.isText))break;s=u-1,i+=l+1}return new lc(n,r,s)}static resolveCached(t,n){let r=fT.get(t);if(r)for(let s=0;s<r.elts.length;s++){let o=r.elts[s];if(o.pos==n)return o}else fT.set(t,r=new oee);let i=r.elts[r.i]=lc.resolve(t,n);return r.i=(r.i+1)%aee,i}}class oee{constructor(){this.elts=[],this.i=0}}const aee=12,fT=new WeakMap;class _r{constructor(t,n,r){this.$from=t,this.$to=n,this.depth=r}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const lee=Object.create(null);let Js=class a0{constructor(t,n,r,i=ht.none){this.type=t,this.attrs=n,this.marks=i,this.content=r||se.empty}get children(){return this.content.content}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(t){return this.content.child(t)}maybeChild(t){return this.content.maybeChild(t)}forEach(t){this.content.forEach(t)}nodesBetween(t,n,r,i=0){this.content.nodesBetween(t,n,r,i,this)}descendants(t){this.nodesBetween(0,this.content.size,t)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(t,n,r,i){return this.content.textBetween(t,n,r,i)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(t){return this==t||this.sameMarkup(t)&&this.content.eq(t.content)}sameMarkup(t){return this.hasMarkup(t.type,t.attrs,t.marks)}hasMarkup(t,n,r){return this.type==t&&Bf(this.attrs,n||t.defaultAttrs||lee)&&ht.sameSet(this.marks,r||ht.none)}copy(t=null){return t==this.content?this:new a0(this.type,this.attrs,t,this.marks)}mark(t){return t==this.marks?this:new a0(this.type,this.attrs,this.content,t)}cut(t,n=this.content.size){return t==0&&n==this.content.size?this:this.copy(this.content.cut(t,n))}slice(t,n=this.content.size,r=!1){if(t==n)return he.empty;let i=this.resolve(t),s=this.resolve(n),o=r?0:i.sharedDepth(n),a=i.start(o),u=i.node(o).content.cut(i.pos-a,s.pos-a);return new he(u,i.depth-o,s.depth-o)}replace(t,n,r){return iee(this.resolve(t),this.resolve(n),r)}nodeAt(t){for(let n=this;;){let{index:r,offset:i}=n.content.findIndex(t);if(n=n.maybeChild(r),!n)return null;if(i==t||n.isText)return n;t-=i+1}}childAfter(t){let{index:n,offset:r}=this.content.findIndex(t);return{node:this.content.maybeChild(n),index:n,offset:r}}childBefore(t){if(t==0)return{node:null,index:0,offset:0};let{index:n,offset:r}=this.content.findIndex(t);if(r<t)return{node:this.content.child(n),index:n,offset:r};let i=this.content.child(n-1);return{node:i,index:n-1,offset:r-i.nodeSize}}resolve(t){return lc.resolveCached(this,t)}resolveNoCache(t){return lc.resolve(this,t)}rangeHasMark(t,n,r){let i=!1;return n>t&&this.nodesBetween(t,n,s=>(r.isInSet(s.marks)&&(i=!0),!i)),i}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let t=this.type.name;return this.content.size&&(t+="("+this.content.toStringInner()+")"),d2(this.marks,t)}contentMatchAt(t){let n=this.type.contentMatch.matchFragment(this.content,0,t);if(!n)throw new Error("Called contentMatchAt on a node with invalid content");return n}canReplace(t,n,r=se.empty,i=0,s=r.childCount){let o=this.contentMatchAt(t).matchFragment(r,i,s),a=o&&o.matchFragment(this.content,n);if(!a||!a.validEnd)return!1;for(let l=i;l<s;l++)if(!this.type.allowsMarks(r.child(l).marks))return!1;return!0}canReplaceWith(t,n,r,i){if(i&&!this.type.allowsMarks(i))return!1;let s=this.contentMatchAt(t).matchType(r),o=s&&s.matchFragment(this.content,n);return o?o.validEnd:!1}canAppend(t){return t.content.size?this.canReplace(this.childCount,this.childCount,t.content):this.type.compatibleContent(t.type)}check(){this.type.checkContent(this.content),this.type.checkAttrs(this.attrs);let t=ht.none;for(let n=0;n<this.marks.length;n++){let r=this.marks[n];r.type.checkAttrs(r.attrs),t=r.addToSet(t)}if(!ht.sameSet(t,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(n=>n.type.name)}`);this.content.forEach(n=>n.check())}toJSON(){let t={type:this.type.name};for(let n in this.attrs){t.attrs=this.attrs;break}return this.content.size&&(t.content=this.content.toJSON()),this.marks.length&&(t.marks=this.marks.map(n=>n.toJSON())),t}static fromJSON(t,n){if(!n)throw new RangeError("Invalid input for Node.fromJSON");let r;if(n.marks){if(!Array.isArray(n.marks))throw new RangeError("Invalid mark data for Node.fromJSON");r=n.marks.map(t.markFromJSON)}if(n.type=="text"){if(typeof n.text!="string")throw new RangeError("Invalid text node in JSON");return t.text(n.text,r)}let i=se.fromJSON(t,n.content),s=t.nodeType(n.type).create(n.attrs,i,r);return s.type.checkAttrs(s.attrs),s}};Js.prototype.text=void 0;class Uf extends Js{constructor(t,n,r,i){if(super(t,n,null,i),!r)throw new RangeError("Empty text nodes are not allowed");this.text=r}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):d2(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(t,n){return this.text.slice(t,n)}get nodeSize(){return this.text.length}mark(t){return t==this.marks?this:new Uf(this.type,this.attrs,this.text,t)}withText(t){return t==this.text?this:new Uf(this.type,this.attrs,t,this.marks)}cut(t=0,n=this.text.length){return t==0&&n==this.text.length?this:this.withText(this.text.slice(t,n))}eq(t){return this.sameMarkup(t)&&this.text==t.text}toJSON(){let t=super.toJSON();return t.text=this.text,t}}function d2(e,t){for(let n=e.length-1;n>=0;n--)t=e[n].type.name+"("+t+")";return t}class ea{constructor(t){this.validEnd=t,this.next=[],this.wrapCache=[]}static parse(t,n){let r=new uee(t,n);if(r.next==null)return ea.empty;let i=f2(r);r.next&&r.err("Unexpected trailing text");let s=gee(mee(i));return bee(s,r),s}matchType(t){for(let n=0;n<this.next.length;n++)if(this.next[n].type==t)return this.next[n].next;return null}matchFragment(t,n=0,r=t.childCount){let i=this;for(let s=n;i&&s<r;s++)i=i.matchType(t.child(s).type);return i}get inlineContent(){return this.next.length!=0&&this.next[0].type.isInline}get defaultType(){for(let t=0;t<this.next.length;t++){let{type:n}=this.next[t];if(!(n.isText||n.hasRequiredAttrs()))return n}return null}compatible(t){for(let n=0;n<this.next.length;n++)for(let r=0;r<t.next.length;r++)if(this.next[n].type==t.next[r].type)return!0;return!1}fillBefore(t,n=!1,r=0){let i=[this];function s(o,a){let l=o.matchFragment(t,r);if(l&&(!n||l.validEnd))return se.from(a.map(u=>u.createAndFill()));for(let u=0;u<o.next.length;u++){let{type:c,next:d}=o.next[u];if(!(c.isText||c.hasRequiredAttrs())&&i.indexOf(d)==-1){i.push(d);let f=s(d,a.concat(c));if(f)return f}}return null}return s(this,[])}findWrapping(t){for(let r=0;r<this.wrapCache.length;r+=2)if(this.wrapCache[r]==t)return this.wrapCache[r+1];let n=this.computeWrapping(t);return this.wrapCache.push(t,n),n}computeWrapping(t){let n=Object.create(null),r=[{match:this,type:null,via:null}];for(;r.length;){let i=r.shift(),s=i.match;if(s.matchType(t)){let o=[];for(let a=i;a.type;a=a.via)o.push(a.type);return o.reverse()}for(let o=0;o<s.next.length;o++){let{type:a,next:l}=s.next[o];!a.isLeaf&&!a.hasRequiredAttrs()&&!(a.name in n)&&(!i.type||l.validEnd)&&(r.push({match:a.contentMatch,type:a,via:i}),n[a.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(t){if(t>=this.next.length)throw new RangeError(`There's no ${t}th edge in this content match`);return this.next[t]}toString(){let t=[];function n(r){t.push(r);for(let i=0;i<r.next.length;i++)t.indexOf(r.next[i].next)==-1&&n(r.next[i].next)}return n(this),t.map((r,i)=>{let s=i+(r.validEnd?"*":" ")+" ";for(let o=0;o<r.next.length;o++)s+=(o?", ":"")+r.next[o].type.name+"->"+t.indexOf(r.next[o].next);return s}).join(`
`)}}ea.empty=new ea(!0);class uee{constructor(t,n){this.string=t,this.nodeTypes=n,this.inline=null,this.pos=0,this.tokens=t.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(t){return this.next==t&&(this.pos++||!0)}err(t){throw new SyntaxError(t+" (in content expression '"+this.string+"')")}}function f2(e){let t=[];do t.push(cee(e));while(e.eat("|"));return t.length==1?t[0]:{type:"choice",exprs:t}}function cee(e){let t=[];do t.push(dee(e));while(e.next&&e.next!=")"&&e.next!="|");return t.length==1?t[0]:{type:"seq",exprs:t}}function dee(e){let t=hee(e);for(;;)if(e.eat("+"))t={type:"plus",expr:t};else if(e.eat("*"))t={type:"star",expr:t};else if(e.eat("?"))t={type:"opt",expr:t};else if(e.eat("{"))t=fee(e,t);else break;return t}function pT(e){/\D/.test(e.next)&&e.err("Expected number, got '"+e.next+"'");let t=Number(e.next);return e.pos++,t}function fee(e,t){let n=pT(e),r=n;return e.eat(",")&&(e.next!="}"?r=pT(e):r=-1),e.eat("}")||e.err("Unclosed braced range"),{type:"range",min:n,max:r,expr:t}}function pee(e,t){let n=e.nodeTypes,r=n[t];if(r)return[r];let i=[];for(let s in n){let o=n[s];o.isInGroup(t)&&i.push(o)}return i.length==0&&e.err("No node type or group '"+t+"' found"),i}function hee(e){if(e.eat("(")){let t=f2(e);return e.eat(")")||e.err("Missing closing paren"),t}else if(/\W/.test(e.next))e.err("Unexpected token '"+e.next+"'");else{let t=pee(e,e.next).map(n=>(e.inline==null?e.inline=n.isInline:e.inline!=n.isInline&&e.err("Mixing inline and block content"),{type:"name",value:n}));return e.pos++,t.length==1?t[0]:{type:"choice",exprs:t}}}function mee(e){let t=[[]];return i(s(e,0),n()),t;function n(){return t.push([])-1}function r(o,a,l){let u={term:l,to:a};return t[o].push(u),u}function i(o,a){o.forEach(l=>l.to=a)}function s(o,a){if(o.type=="choice")return o.exprs.reduce((l,u)=>l.concat(s(u,a)),[]);if(o.type=="seq")for(let l=0;;l++){let u=s(o.exprs[l],a);if(l==o.exprs.length-1)return u;i(u,a=n())}else if(o.type=="star"){let l=n();return r(a,l),i(s(o.expr,l),l),[r(l)]}else if(o.type=="plus"){let l=n();return i(s(o.expr,a),l),i(s(o.expr,l),l),[r(l)]}else{if(o.type=="opt")return[r(a)].concat(s(o.expr,a));if(o.type=="range"){let l=a;for(let u=0;u<o.min;u++){let c=n();i(s(o.expr,l),c),l=c}if(o.max==-1)i(s(o.expr,l),l);else for(let u=o.min;u<o.max;u++){let c=n();r(l,c),i(s(o.expr,l),c),l=c}return[r(l)]}else{if(o.type=="name")return[r(a,void 0,o.value)];throw new Error("Unknown expr type")}}}}function p2(e,t){return t-e}function hT(e,t){let n=[];return r(t),n.sort(p2);function r(i){let s=e[i];if(s.length==1&&!s[0].term)return r(s[0].to);n.push(i);for(let o=0;o<s.length;o++){let{term:a,to:l}=s[o];!a&&n.indexOf(l)==-1&&r(l)}}}function gee(e){let t=Object.create(null);return n(hT(e,0));function n(r){let i=[];r.forEach(o=>{e[o].forEach(({term:a,to:l})=>{if(!a)return;let u;for(let c=0;c<i.length;c++)i[c][0]==a&&(u=i[c][1]);hT(e,l).forEach(c=>{u||i.push([a,u=[]]),u.indexOf(c)==-1&&u.push(c)})})});let s=t[r.join(",")]=new ea(r.indexOf(e.length-1)>-1);for(let o=0;o<i.length;o++){let a=i[o][1].sort(p2);s.next.push({type:i[o][0],next:t[a.join(",")]||n(a)})}return s}}function bee(e,t){for(let n=0,r=[e];n<r.length;n++){let i=r[n],s=!i.validEnd,o=[];for(let a=0;a<i.next.length;a++){let{type:l,next:u}=i.next[a];o.push(l.name),s&&!(l.isText||l.hasRequiredAttrs())&&(s=!1),r.indexOf(u)==-1&&r.push(u)}s&&t.err("Only non-generatable nodes ("+o.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function h2(e){let t=Object.create(null);for(let n in e){let r=e[n];if(!r.hasDefault)return null;t[n]=r.default}return t}function m2(e,t){let n=Object.create(null);for(let r in e){let i=t&&t[r];if(i===void 0){let s=e[r];if(s.hasDefault)i=s.default;else throw new RangeError("No value supplied for attribute "+r)}n[r]=i}return n}function g2(e,t,n,r){for(let i in t)if(!(i in e))throw new RangeError(`Unsupported attribute ${i} for ${n} of type ${i}`);for(let i in e){let s=e[i];s.validate&&s.validate(t[i])}}function b2(e,t){let n=Object.create(null);if(t)for(let r in t)n[r]=new _ee(e,r,t[r]);return n}let mT=class y2{constructor(t,n,r){this.name=t,this.schema=n,this.spec=r,this.markSet=null,this.groups=r.group?r.group.split(" "):[],this.attrs=b2(t,r.attrs),this.defaultAttrs=h2(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(r.inline||t=="text"),this.isText=t=="text"}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==ea.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}isInGroup(t){return this.groups.indexOf(t)>-1}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let t in this.attrs)if(this.attrs[t].isRequired)return!0;return!1}compatibleContent(t){return this==t||this.contentMatch.compatible(t.contentMatch)}computeAttrs(t){return!t&&this.defaultAttrs?this.defaultAttrs:m2(this.attrs,t)}create(t=null,n,r){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new Js(this,this.computeAttrs(t),se.from(n),ht.setFrom(r))}createChecked(t=null,n,r){return n=se.from(n),this.checkContent(n),new Js(this,this.computeAttrs(t),n,ht.setFrom(r))}createAndFill(t=null,n,r){if(t=this.computeAttrs(t),n=se.from(n),n.size){let o=this.contentMatch.fillBefore(n);if(!o)return null;n=o.append(n)}let i=this.contentMatch.matchFragment(n),s=i&&i.fillBefore(se.empty,!0);return s?new Js(this,t,n.append(s),ht.setFrom(r)):null}validContent(t){let n=this.contentMatch.matchFragment(t);if(!n||!n.validEnd)return!1;for(let r=0;r<t.childCount;r++)if(!this.allowsMarks(t.child(r).marks))return!1;return!0}checkContent(t){if(!this.validContent(t))throw new RangeError(`Invalid content for node ${this.name}: ${t.toString().slice(0,50)}`)}checkAttrs(t){g2(this.attrs,t,"node",this.name)}allowsMarkType(t){return this.markSet==null||this.markSet.indexOf(t)>-1}allowsMarks(t){if(this.markSet==null)return!0;for(let n=0;n<t.length;n++)if(!this.allowsMarkType(t[n].type))return!1;return!0}allowedMarks(t){if(this.markSet==null)return t;let n;for(let r=0;r<t.length;r++)this.allowsMarkType(t[r].type)?n&&n.push(t[r]):n||(n=t.slice(0,r));return n?n.length?n:ht.none:t}static compile(t,n){let r=Object.create(null);t.forEach((s,o)=>r[s]=new y2(s,n,o));let i=n.spec.topNode||"doc";if(!r[i])throw new RangeError("Schema is missing its top node type ('"+i+"')");if(!r.text)throw new RangeError("Every schema needs a 'text' type");for(let s in r.text.attrs)throw new RangeError("The text node type should not have attributes");return r}};function yee(e,t,n){let r=n.split("|");return i=>{let s=i===null?"null":typeof i;if(r.indexOf(s)<0)throw new RangeError(`Expected value of type ${r} for attribute ${t} on type ${e}, got ${s}`)}}class _ee{constructor(t,n,r){this.hasDefault=Object.prototype.hasOwnProperty.call(r,"default"),this.default=r.default,this.validate=typeof r.validate=="string"?yee(t,n,r.validate):r.validate}get isRequired(){return!this.hasDefault}}class jp{constructor(t,n,r,i){this.name=t,this.rank=n,this.schema=r,this.spec=i,this.attrs=b2(t,i.attrs),this.excluded=null;let s=h2(this.attrs);this.instance=s?new ht(this,s):null}create(t=null){return!t&&this.instance?this.instance:new ht(this,m2(this.attrs,t))}static compile(t,n){let r=Object.create(null),i=0;return t.forEach((s,o)=>r[s]=new jp(s,i++,n,o)),r}removeFromSet(t){for(var n=0;n<t.length;n++)t[n].type==this&&(t=t.slice(0,n).concat(t.slice(n+1)),n--);return t}isInSet(t){for(let n=0;n<t.length;n++)if(t[n].type==this)return t[n]}checkAttrs(t){g2(this.attrs,t,"mark",this.name)}excludes(t){return this.excluded.indexOf(t)>-1}}class Eee{constructor(t){this.linebreakReplacement=null,this.cached=Object.create(null);let n=this.spec={};for(let i in t)n[i]=t[i];n.nodes=Lt.from(t.nodes),n.marks=Lt.from(t.marks||{}),this.nodes=mT.compile(this.spec.nodes,this),this.marks=jp.compile(this.spec.marks,this);let r=Object.create(null);for(let i in this.nodes){if(i in this.marks)throw new RangeError(i+" can not be both a node and a mark");let s=this.nodes[i],o=s.spec.content||"",a=s.spec.marks;if(s.contentMatch=r[o]||(r[o]=ea.parse(o,this.nodes)),s.inlineContent=s.contentMatch.inlineContent,s.spec.linebreakReplacement){if(this.linebreakReplacement)throw new RangeError("Multiple linebreak nodes defined");if(!s.isInline||!s.isLeaf)throw new RangeError("Linebreak replacement nodes must be inline leaf nodes");this.linebreakReplacement=s}s.markSet=a=="_"?null:a?gT(this,a.split(" ")):a==""||!s.inlineContent?[]:null}for(let i in this.marks){let s=this.marks[i],o=s.spec.excludes;s.excluded=o==null?[s]:o==""?[]:gT(this,o.split(" "))}this.nodeFromJSON=this.nodeFromJSON.bind(this),this.markFromJSON=this.markFromJSON.bind(this),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(t,n=null,r,i){if(typeof t=="string")t=this.nodeType(t);else if(t instanceof mT){if(t.schema!=this)throw new RangeError("Node type from different schema used ("+t.name+")")}else throw new RangeError("Invalid node type: "+t);return t.createChecked(n,r,i)}text(t,n){let r=this.nodes.text;return new Uf(r,r.defaultAttrs,t,ht.setFrom(n))}mark(t,n){return typeof t=="string"&&(t=this.marks[t]),t.create(n)}nodeFromJSON(t){return Js.fromJSON(this,t)}markFromJSON(t){return ht.fromJSON(this,t)}nodeType(t){let n=this.nodes[t];if(!n)throw new RangeError("Unknown node type: "+t);return n}}function gT(e,t){let n=[];for(let r=0;r<t.length;r++){let i=t[r],s=e.marks[i],o=s;if(s)n.push(s);else for(let a in e.marks){let l=e.marks[a];(i=="_"||l.spec.group&&l.spec.group.split(" ").indexOf(i)>-1)&&n.push(o=l)}if(!o)throw new SyntaxError("Unknown mark type: '"+t[r]+"'")}return n}function vee(e){return e.tag!=null}function Tee(e){return e.style!=null}class al{constructor(t,n){this.schema=t,this.rules=n,this.tags=[],this.styles=[];let r=this.matchedStyles=[];n.forEach(i=>{if(vee(i))this.tags.push(i);else if(Tee(i)){let s=/[^=]*/.exec(i.style)[0];r.indexOf(s)<0&&r.push(s),this.styles.push(i)}}),this.normalizeLists=!this.tags.some(i=>{if(!/^(ul|ol)\b/.test(i.tag)||!i.node)return!1;let s=t.nodes[i.node];return s.contentMatch.matchType(s)})}parse(t,n={}){let r=new yT(this,n,!1);return r.addAll(t,ht.none,n.from,n.to),r.finish()}parseSlice(t,n={}){let r=new yT(this,n,!0);return r.addAll(t,ht.none,n.from,n.to),he.maxOpen(r.finish())}matchTag(t,n,r){for(let i=r?this.tags.indexOf(r)+1:0;i<this.tags.length;i++){let s=this.tags[i];if(Cee(t,s.tag)&&(s.namespace===void 0||t.namespaceURI==s.namespace)&&(!s.context||n.matchesContext(s.context))){if(s.getAttrs){let o=s.getAttrs(t);if(o===!1)continue;s.attrs=o||void 0}return s}}}matchStyle(t,n,r,i){for(let s=i?this.styles.indexOf(i)+1:0;s<this.styles.length;s++){let o=this.styles[s],a=o.style;if(!(a.indexOf(t)!=0||o.context&&!r.matchesContext(o.context)||a.length>t.length&&(a.charCodeAt(t.length)!=61||a.slice(t.length+1)!=n))){if(o.getAttrs){let l=o.getAttrs(n);if(l===!1)continue;o.attrs=l||void 0}return o}}}static schemaRules(t){let n=[];function r(i){let s=i.priority==null?50:i.priority,o=0;for(;o<n.length;o++){let a=n[o];if((a.priority==null?50:a.priority)<s)break}n.splice(o,0,i)}for(let i in t.marks){let s=t.marks[i].spec.parseDOM;s&&s.forEach(o=>{r(o=_T(o)),o.mark||o.ignore||o.clearMark||(o.mark=i)})}for(let i in t.nodes){let s=t.nodes[i].spec.parseDOM;s&&s.forEach(o=>{r(o=_T(o)),o.node||o.ignore||o.mark||(o.node=i)})}return n}static fromSchema(t){return t.cached.domParser||(t.cached.domParser=new al(t,al.schemaRules(t)))}}const _2={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},wee={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},E2={ol:!0,ul:!0},uc=1,l0=2,Xd=4;function bT(e,t,n){return t!=null?(t?uc:0)|(t==="full"?l0:0):e&&e.whitespace=="pre"?uc|l0:n&-5}class xd{constructor(t,n,r,i,s,o){this.type=t,this.attrs=n,this.marks=r,this.solid=i,this.options=o,this.content=[],this.activeMarks=ht.none,this.match=s||(o&Xd?null:t.contentMatch)}findWrapping(t){if(!this.match){if(!this.type)return[];let n=this.type.contentMatch.fillBefore(se.from(t));if(n)this.match=this.type.contentMatch.matchFragment(n);else{let r=this.type.contentMatch,i;return(i=r.findWrapping(t.type))?(this.match=r,i):null}}return this.match.findWrapping(t.type)}finish(t){if(!(this.options&uc)){let r=this.content[this.content.length-1],i;if(r&&r.isText&&(i=/[ \t\r\n\u000c]+$/.exec(r.text))){let s=r;r.text.length==i[0].length?this.content.pop():this.content[this.content.length-1]=s.withText(s.text.slice(0,s.text.length-i[0].length))}}let n=se.from(this.content);return!t&&this.match&&(n=n.append(this.match.fillBefore(se.empty,!0))),this.type?this.type.create(this.attrs,n,this.marks):n}inlineContext(t){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:t.parentNode&&!_2.hasOwnProperty(t.parentNode.nodeName.toLowerCase())}}class yT{constructor(t,n,r){this.parser=t,this.options=n,this.isOpen=r,this.open=0,this.localPreserveWS=!1;let i=n.topNode,s,o=bT(null,n.preserveWhitespace,0)|(r?Xd:0);i?s=new xd(i.type,i.attrs,ht.none,!0,n.topMatch||i.type.contentMatch,o):r?s=new xd(null,null,ht.none,!0,null,o):s=new xd(t.schema.topNodeType,null,ht.none,!0,null,o),this.nodes=[s],this.find=n.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(t,n){t.nodeType==3?this.addTextNode(t,n):t.nodeType==1&&this.addElement(t,n)}addTextNode(t,n){let r=t.nodeValue,i=this.top,s=i.options&l0?"full":this.localPreserveWS||(i.options&uc)>0;if(s==="full"||i.inlineContext(t)||/[^ \t\r\n\u000c]/.test(r)){if(s)s!=="full"?r=r.replace(/\r?\n|\r/g," "):r=r.replace(/\r\n?/g,`
`);else if(r=r.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(r)&&this.open==this.nodes.length-1){let o=i.content[i.content.length-1],a=t.previousSibling;(!o||a&&a.nodeName=="BR"||o.isText&&/[ \t\r\n\u000c]$/.test(o.text))&&(r=r.slice(1))}r&&this.insertNode(this.parser.schema.text(r),n),this.findInText(t)}else this.findInside(t)}addElement(t,n,r){let i=this.localPreserveWS,s=this.top;(t.tagName=="PRE"||/pre/.test(t.style&&t.style.whiteSpace))&&(this.localPreserveWS=!0);let o=t.nodeName.toLowerCase(),a;E2.hasOwnProperty(o)&&this.parser.normalizeLists&&xee(t);let l=this.options.ruleFromNode&&this.options.ruleFromNode(t)||(a=this.parser.matchTag(t,this,r));e:if(l?l.ignore:wee.hasOwnProperty(o))this.findInside(t),this.ignoreFallback(t,n);else if(!l||l.skip||l.closeParent){l&&l.closeParent?this.open=Math.max(0,this.open-1):l&&l.skip.nodeType&&(t=l.skip);let u,c=this.needsBlock;if(_2.hasOwnProperty(o))s.content.length&&s.content[0].isInline&&this.open&&(this.open--,s=this.top),u=!0,s.type||(this.needsBlock=!0);else if(!t.firstChild){this.leafFallback(t,n);break e}let d=l&&l.skip?n:this.readStyles(t,n);d&&this.addAll(t,d),u&&this.sync(s),this.needsBlock=c}else{let u=this.readStyles(t,n);u&&this.addElementByRule(t,l,u,l.consuming===!1?a:void 0)}this.localPreserveWS=i}leafFallback(t,n){t.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(t.ownerDocument.createTextNode(`
`),n)}ignoreFallback(t,n){t.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"),n)}readStyles(t,n){let r=t.style;if(r&&r.length)for(let i=0;i<this.parser.matchedStyles.length;i++){let s=this.parser.matchedStyles[i],o=r.getPropertyValue(s);if(o)for(let a=void 0;;){let l=this.parser.matchStyle(s,o,this,a);if(!l)break;if(l.ignore)return null;if(l.clearMark?n=n.filter(u=>!l.clearMark(u)):n=n.concat(this.parser.schema.marks[l.mark].create(l.attrs)),l.consuming===!1)a=l;else break}}return n}addElementByRule(t,n,r,i){let s,o;if(n.node)if(o=this.parser.schema.nodes[n.node],o.isLeaf)this.insertNode(o.create(n.attrs),r)||this.leafFallback(t,r);else{let l=this.enter(o,n.attrs||null,r,n.preserveWhitespace);l&&(s=!0,r=l)}else{let l=this.parser.schema.marks[n.mark];r=r.concat(l.create(n.attrs))}let a=this.top;if(o&&o.isLeaf)this.findInside(t);else if(i)this.addElement(t,r,i);else if(n.getContent)this.findInside(t),n.getContent(t,this.parser.schema).forEach(l=>this.insertNode(l,r));else{let l=t;typeof n.contentElement=="string"?l=t.querySelector(n.contentElement):typeof n.contentElement=="function"?l=n.contentElement(t):n.contentElement&&(l=n.contentElement),this.findAround(t,l,!0),this.addAll(l,r),this.findAround(t,l,!1)}s&&this.sync(a)&&this.open--}addAll(t,n,r,i){let s=r||0;for(let o=r?t.childNodes[r]:t.firstChild,a=i==null?null:t.childNodes[i];o!=a;o=o.nextSibling,++s)this.findAtPoint(t,s),this.addDOM(o,n);this.findAtPoint(t,s)}findPlace(t,n){let r,i;for(let s=this.open;s>=0;s--){let o=this.nodes[s],a=o.findWrapping(t);if(a&&(!r||r.length>a.length)&&(r=a,i=o,!a.length)||o.solid)break}if(!r)return null;this.sync(i);for(let s=0;s<r.length;s++)n=this.enterInner(r[s],null,n,!1);return n}insertNode(t,n){if(t.isInline&&this.needsBlock&&!this.top.type){let i=this.textblockFromContext();i&&(n=this.enterInner(i,null,n))}let r=this.findPlace(t,n);if(r){this.closeExtra();let i=this.top;i.match&&(i.match=i.match.matchType(t.type));let s=ht.none;for(let o of r.concat(t.marks))(i.type?i.type.allowsMarkType(o.type):ET(o.type,t.type))&&(s=o.addToSet(s));return i.content.push(t.mark(s)),!0}return!1}enter(t,n,r,i){let s=this.findPlace(t.create(n),r);return s&&(s=this.enterInner(t,n,r,!0,i)),s}enterInner(t,n,r,i=!1,s){this.closeExtra();let o=this.top;o.match=o.match&&o.match.matchType(t);let a=bT(t,s,o.options);o.options&Xd&&o.content.length==0&&(a|=Xd);let l=ht.none;return r=r.filter(u=>(o.type?o.type.allowsMarkType(u.type):ET(u.type,t))?(l=u.addToSet(l),!1):!0),this.nodes.push(new xd(t,n,l,i,null,a)),this.open++,r}closeExtra(t=!1){let n=this.nodes.length-1;if(n>this.open){for(;n>this.open;n--)this.nodes[n-1].content.push(this.nodes[n].finish(t));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(!!(this.isOpen||this.options.topOpen))}sync(t){for(let n=this.open;n>=0;n--){if(this.nodes[n]==t)return this.open=n,!0;this.localPreserveWS&&(this.nodes[n].options|=uc)}return!1}get currentPos(){this.closeExtra();let t=0;for(let n=this.open;n>=0;n--){let r=this.nodes[n].content;for(let i=r.length-1;i>=0;i--)t+=r[i].nodeSize;n&&t++}return t}findAtPoint(t,n){if(this.find)for(let r=0;r<this.find.length;r++)this.find[r].node==t&&this.find[r].offset==n&&(this.find[r].pos=this.currentPos)}findInside(t){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].pos==null&&t.nodeType==1&&t.contains(this.find[n].node)&&(this.find[n].pos=this.currentPos)}findAround(t,n,r){if(t!=n&&this.find)for(let i=0;i<this.find.length;i++)this.find[i].pos==null&&t.nodeType==1&&t.contains(this.find[i].node)&&n.compareDocumentPosition(this.find[i].node)&(r?2:4)&&(this.find[i].pos=this.currentPos)}findInText(t){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].node==t&&(this.find[n].pos=this.currentPos-(t.nodeValue.length-this.find[n].offset))}matchesContext(t){if(t.indexOf("|")>-1)return t.split(/\s*\|\s*/).some(this.matchesContext,this);let n=t.split("/"),r=this.options.context,i=!this.isOpen&&(!r||r.parent.type==this.nodes[0].type),s=-(r?r.depth+1:0)+(i?0:1),o=(a,l)=>{for(;a>=0;a--){let u=n[a];if(u==""){if(a==n.length-1||a==0)continue;for(;l>=s;l--)if(o(a-1,l))return!0;return!1}else{let c=l>0||l==0&&i?this.nodes[l].type:r&&l>=s?r.node(l-s).type:null;if(!c||c.name!=u&&!c.isInGroup(u))return!1;l--}}return!0};return o(n.length-1,this.open)}textblockFromContext(){let t=this.options.context;if(t)for(let n=t.depth;n>=0;n--){let r=t.node(n).contentMatchAt(t.indexAfter(n)).defaultType;if(r&&r.isTextblock&&r.defaultAttrs)return r}for(let n in this.parser.schema.nodes){let r=this.parser.schema.nodes[n];if(r.isTextblock&&r.defaultAttrs)return r}}}function xee(e){for(let t=e.firstChild,n=null;t;t=t.nextSibling){let r=t.nodeType==1?t.nodeName.toLowerCase():null;r&&E2.hasOwnProperty(r)&&n?(n.appendChild(t),t=n):r=="li"?n=t:r&&(n=null)}}function Cee(e,t){return(e.matches||e.msMatchesSelector||e.webkitMatchesSelector||e.mozMatchesSelector).call(e,t)}function _T(e){let t={};for(let n in e)t[n]=e[n];return t}function ET(e,t){let n=t.schema.nodes;for(let r in n){let i=n[r];if(!i.allowsMarkType(e))continue;let s=[],o=a=>{s.push(a);for(let l=0;l<a.edgeCount;l++){let{type:u,next:c}=a.edge(l);if(u==t||s.indexOf(c)<0&&o(c))return!0}};if(o(i.contentMatch))return!0}}class ai{constructor(t,n){this.nodes=t,this.marks=n}serializeFragment(t,n={},r){r||(r=vm(n).createDocumentFragment());let i=r,s=[];return t.forEach(o=>{if(s.length||o.marks.length){let a=0,l=0;for(;a<s.length&&l<o.marks.length;){let u=o.marks[l];if(!this.marks[u.type.name]){l++;continue}if(!u.eq(s[a][0])||u.type.spec.spanning===!1)break;a++,l++}for(;a<s.length;)i=s.pop()[1];for(;l<o.marks.length;){let u=o.marks[l++],c=this.serializeMark(u,o.isInline,n);c&&(s.push([u,i]),i.appendChild(c.dom),i=c.contentDOM||c.dom)}}i.appendChild(this.serializeNodeInner(o,n))}),r}serializeNodeInner(t,n){let{dom:r,contentDOM:i}=Qd(vm(n),this.nodes[t.type.name](t),null,t.attrs);if(i){if(t.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(t.content,n,i)}return r}serializeNode(t,n={}){let r=this.serializeNodeInner(t,n);for(let i=t.marks.length-1;i>=0;i--){let s=this.serializeMark(t.marks[i],t.isInline,n);s&&((s.contentDOM||s.dom).appendChild(r),r=s.dom)}return r}serializeMark(t,n,r={}){let i=this.marks[t.type.name];return i&&Qd(vm(r),i(t,n),null,t.attrs)}static renderSpec(t,n,r=null,i){return Qd(t,n,r,i)}static fromSchema(t){return t.cached.domSerializer||(t.cached.domSerializer=new ai(this.nodesFromSchema(t),this.marksFromSchema(t)))}static nodesFromSchema(t){let n=vT(t.nodes);return n.text||(n.text=r=>r.text),n}static marksFromSchema(t){return vT(t.marks)}}function vT(e){let t={};for(let n in e){let r=e[n].spec.toDOM;r&&(t[n]=r)}return t}function vm(e){return e.document||window.document}const TT=new WeakMap;function See(e){let t=TT.get(e);return t===void 0&&TT.set(e,t=Aee(e)),t}function Aee(e){let t=null;function n(r){if(r&&typeof r=="object")if(Array.isArray(r))if(typeof r[0]=="string")t||(t=[]),t.push(r);else for(let i=0;i<r.length;i++)n(r[i]);else for(let i in r)n(r[i])}return n(e),t}function Qd(e,t,n,r){if(typeof t=="string")return{dom:e.createTextNode(t)};if(t.nodeType!=null)return{dom:t};if(t.dom&&t.dom.nodeType!=null)return t;let i=t[0],s;if(typeof i!="string")throw new RangeError("Invalid array passed to renderSpec");if(r&&(s=See(r))&&s.indexOf(t)>-1)throw new RangeError("Using an array from an attribute object as a DOM spec. This may be an attempted cross site scripting attack.");let o=i.indexOf(" ");o>0&&(n=i.slice(0,o),i=i.slice(o+1));let a,l=n?e.createElementNS(n,i):e.createElement(i),u=t[1],c=1;if(u&&typeof u=="object"&&u.nodeType==null&&!Array.isArray(u)){c=2;for(let d in u)if(u[d]!=null){let f=d.indexOf(" ");f>0?l.setAttributeNS(d.slice(0,f),d.slice(f+1),u[d]):l.setAttribute(d,u[d])}}for(let d=c;d<t.length;d++){let f=t[d];if(f===0){if(d<t.length-1||d>c)throw new RangeError("Content hole must be the only child of its parent node");return{dom:l,contentDOM:l}}else{let{dom:p,contentDOM:m}=Qd(e,f,n,r);if(l.appendChild(p),m){if(a)throw new RangeError("Multiple content holes");a=m}}}return{dom:l,contentDOM:a}}const v2=65535,T2=Math.pow(2,16);function kee(e,t){return e+t*T2}function wT(e){return e&v2}function Oee(e){return(e-(e&v2))/T2}const w2=1,x2=2,Jd=4,C2=8;class u0{constructor(t,n,r){this.pos=t,this.delInfo=n,this.recover=r}get deleted(){return(this.delInfo&C2)>0}get deletedBefore(){return(this.delInfo&(w2|Jd))>0}get deletedAfter(){return(this.delInfo&(x2|Jd))>0}get deletedAcross(){return(this.delInfo&Jd)>0}}class dr{constructor(t,n=!1){if(this.ranges=t,this.inverted=n,!t.length&&dr.empty)return dr.empty}recover(t){let n=0,r=wT(t);if(!this.inverted)for(let i=0;i<r;i++)n+=this.ranges[i*3+2]-this.ranges[i*3+1];return this.ranges[r*3]+n+Oee(t)}mapResult(t,n=1){return this._map(t,n,!1)}map(t,n=1){return this._map(t,n,!0)}_map(t,n,r){let i=0,s=this.inverted?2:1,o=this.inverted?1:2;for(let a=0;a<this.ranges.length;a+=3){let l=this.ranges[a]-(this.inverted?i:0);if(l>t)break;let u=this.ranges[a+s],c=this.ranges[a+o],d=l+u;if(t<=d){let f=u?t==l?-1:t==d?1:n:n,p=l+i+(f<0?0:c);if(r)return p;let m=t==(n<0?l:d)?null:kee(a/3,t-l),g=t==l?x2:t==d?w2:Jd;return(n<0?t!=l:t!=d)&&(g|=C2),new u0(p,g,m)}i+=c-u}return r?t+i:new u0(t+i,0,null)}touches(t,n){let r=0,i=wT(n),s=this.inverted?2:1,o=this.inverted?1:2;for(let a=0;a<this.ranges.length;a+=3){let l=this.ranges[a]-(this.inverted?r:0);if(l>t)break;let u=this.ranges[a+s],c=l+u;if(t<=c&&a==i*3)return!0;r+=this.ranges[a+o]-u}return!1}forEach(t){let n=this.inverted?2:1,r=this.inverted?1:2;for(let i=0,s=0;i<this.ranges.length;i+=3){let o=this.ranges[i],a=o-(this.inverted?s:0),l=o+(this.inverted?0:s),u=this.ranges[i+n],c=this.ranges[i+r];t(a,a+u,l,l+c),s+=c-u}}invert(){return new dr(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(t){return t==0?dr.empty:new dr(t<0?[0,-t,0]:[0,0,t])}}dr.empty=new dr([]);class Wa{constructor(t=[],n,r=0,i=t.length){this.maps=t,this.mirror=n,this.from=r,this.to=i}slice(t=0,n=this.maps.length){return new Wa(this.maps,this.mirror,t,n)}copy(){return new Wa(this.maps.slice(),this.mirror&&this.mirror.slice(),this.from,this.to)}appendMap(t,n){this.to=this.maps.push(t),n!=null&&this.setMirror(this.maps.length-1,n)}appendMapping(t){for(let n=0,r=this.maps.length;n<t.maps.length;n++){let i=t.getMirror(n);this.appendMap(t.maps[n],i!=null&&i<n?r+i:void 0)}}getMirror(t){if(this.mirror){for(let n=0;n<this.mirror.length;n++)if(this.mirror[n]==t)return this.mirror[n+(n%2?-1:1)]}}setMirror(t,n){this.mirror||(this.mirror=[]),this.mirror.push(t,n)}appendMappingInverted(t){for(let n=t.maps.length-1,r=this.maps.length+t.maps.length;n>=0;n--){let i=t.getMirror(n);this.appendMap(t.maps[n].invert(),i!=null&&i>n?r-i-1:void 0)}}invert(){let t=new Wa;return t.appendMappingInverted(this),t}map(t,n=1){if(this.mirror)return this._map(t,n,!0);for(let r=this.from;r<this.to;r++)t=this.maps[r].map(t,n);return t}mapResult(t,n=1){return this._map(t,n,!1)}_map(t,n,r){let i=0;for(let s=this.from;s<this.to;s++){let o=this.maps[s],a=o.mapResult(t,n);if(a.recover!=null){let l=this.getMirror(s);if(l!=null&&l>s&&l<this.to){s=l,t=this.maps[l].recover(a.recover);continue}}i|=a.delInfo,t=a.pos}return r?t:new u0(t,i,null)}}const Tm=Object.create(null);class Ln{getMap(){return dr.empty}merge(t){return null}static fromJSON(t,n){if(!n||!n.stepType)throw new RangeError("Invalid input for Step.fromJSON");let r=Tm[n.stepType];if(!r)throw new RangeError(`No step type ${n.stepType} defined`);return r.fromJSON(t,n)}static jsonID(t,n){if(t in Tm)throw new RangeError("Duplicate use of step JSON ID "+t);return Tm[t]=n,n.prototype.jsonID=t,n}}class Wt{constructor(t,n){this.doc=t,this.failed=n}static ok(t){return new Wt(t,null)}static fail(t){return new Wt(null,t)}static fromReplace(t,n,r,i){try{return Wt.ok(t.replace(n,r,i))}catch(s){if(s instanceof $f)return Wt.fail(s.message);throw s}}}function _1(e,t,n){let r=[];for(let i=0;i<e.childCount;i++){let s=e.child(i);s.content.size&&(s=s.copy(_1(s.content,t,s))),s.isInline&&(s=t(s,n,i)),r.push(s)}return se.fromArray(r)}class Ys extends Ln{constructor(t,n,r){super(),this.from=t,this.to=n,this.mark=r}apply(t){let n=t.slice(this.from,this.to),r=t.resolve(this.from),i=r.node(r.sharedDepth(this.to)),s=new he(_1(n.content,(o,a)=>!o.isAtom||!a.type.allowsMarkType(this.mark.type)?o:o.mark(this.mark.addToSet(o.marks)),i),n.openStart,n.openEnd);return Wt.fromReplace(t,this.from,this.to,s)}invert(){return new Ii(this.from,this.to,this.mark)}map(t){let n=t.mapResult(this.from,1),r=t.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new Ys(n.pos,r.pos,this.mark)}merge(t){return t instanceof Ys&&t.mark.eq(this.mark)&&this.from<=t.to&&this.to>=t.from?new Ys(Math.min(this.from,t.from),Math.max(this.to,t.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(t,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new Ys(n.from,n.to,t.markFromJSON(n.mark))}}Ln.jsonID("addMark",Ys);class Ii extends Ln{constructor(t,n,r){super(),this.from=t,this.to=n,this.mark=r}apply(t){let n=t.slice(this.from,this.to),r=new he(_1(n.content,i=>i.mark(this.mark.removeFromSet(i.marks)),t),n.openStart,n.openEnd);return Wt.fromReplace(t,this.from,this.to,r)}invert(){return new Ys(this.from,this.to,this.mark)}map(t){let n=t.mapResult(this.from,1),r=t.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new Ii(n.pos,r.pos,this.mark)}merge(t){return t instanceof Ii&&t.mark.eq(this.mark)&&this.from<=t.to&&this.to>=t.from?new Ii(Math.min(this.from,t.from),Math.max(this.to,t.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(t,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new Ii(n.from,n.to,t.markFromJSON(n.mark))}}Ln.jsonID("removeMark",Ii);class Gs extends Ln{constructor(t,n){super(),this.pos=t,this.mark=n}apply(t){let n=t.nodeAt(this.pos);if(!n)return Wt.fail("No node at mark step's position");let r=n.type.create(n.attrs,null,this.mark.addToSet(n.marks));return Wt.fromReplace(t,this.pos,this.pos+1,new he(se.from(r),0,n.isLeaf?0:1))}invert(t){let n=t.nodeAt(this.pos);if(n){let r=this.mark.addToSet(n.marks);if(r.length==n.marks.length){for(let i=0;i<n.marks.length;i++)if(!n.marks[i].isInSet(r))return new Gs(this.pos,n.marks[i]);return new Gs(this.pos,this.mark)}}return new ll(this.pos,this.mark)}map(t){let n=t.mapResult(this.pos,1);return n.deletedAfter?null:new Gs(n.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(t,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new Gs(n.pos,t.markFromJSON(n.mark))}}Ln.jsonID("addNodeMark",Gs);class ll extends Ln{constructor(t,n){super(),this.pos=t,this.mark=n}apply(t){let n=t.nodeAt(this.pos);if(!n)return Wt.fail("No node at mark step's position");let r=n.type.create(n.attrs,null,this.mark.removeFromSet(n.marks));return Wt.fromReplace(t,this.pos,this.pos+1,new he(se.from(r),0,n.isLeaf?0:1))}invert(t){let n=t.nodeAt(this.pos);return!n||!this.mark.isInSet(n.marks)?this:new Gs(this.pos,this.mark)}map(t){let n=t.mapResult(this.pos,1);return n.deletedAfter?null:new ll(n.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(t,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new ll(n.pos,t.markFromJSON(n.mark))}}Ln.jsonID("removeNodeMark",ll);class ln extends Ln{constructor(t,n,r,i=!1){super(),this.from=t,this.to=n,this.slice=r,this.structure=i}apply(t){return this.structure&&c0(t,this.from,this.to)?Wt.fail("Structure replace would overwrite content"):Wt.fromReplace(t,this.from,this.to,this.slice)}getMap(){return new dr([this.from,this.to-this.from,this.slice.size])}invert(t){return new ln(this.from,this.from+this.slice.size,t.slice(this.from,this.to))}map(t){let n=t.mapResult(this.from,1),r=t.mapResult(this.to,-1);return n.deletedAcross&&r.deletedAcross?null:new ln(n.pos,Math.max(n.pos,r.pos),this.slice)}merge(t){if(!(t instanceof ln)||t.structure||this.structure)return null;if(this.from+this.slice.size==t.from&&!this.slice.openEnd&&!t.slice.openStart){let n=this.slice.size+t.slice.size==0?he.empty:new he(this.slice.content.append(t.slice.content),this.slice.openStart,t.slice.openEnd);return new ln(this.from,this.to+(t.to-t.from),n,this.structure)}else if(t.to==this.from&&!this.slice.openStart&&!t.slice.openEnd){let n=this.slice.size+t.slice.size==0?he.empty:new he(t.slice.content.append(this.slice.content),t.slice.openStart,this.slice.openEnd);return new ln(t.from,this.to,n,this.structure)}else return null}toJSON(){let t={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(t.slice=this.slice.toJSON()),this.structure&&(t.structure=!0),t}static fromJSON(t,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new ln(n.from,n.to,he.fromJSON(t,n.slice),!!n.structure)}}Ln.jsonID("replace",ln);class Jt extends Ln{constructor(t,n,r,i,s,o,a=!1){super(),this.from=t,this.to=n,this.gapFrom=r,this.gapTo=i,this.slice=s,this.insert=o,this.structure=a}apply(t){if(this.structure&&(c0(t,this.from,this.gapFrom)||c0(t,this.gapTo,this.to)))return Wt.fail("Structure gap-replace would overwrite content");let n=t.slice(this.gapFrom,this.gapTo);if(n.openStart||n.openEnd)return Wt.fail("Gap is not a flat range");let r=this.slice.insertAt(this.insert,n.content);return r?Wt.fromReplace(t,this.from,this.to,r):Wt.fail("Content does not fit in gap")}getMap(){return new dr([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(t){let n=this.gapTo-this.gapFrom;return new Jt(this.from,this.from+this.slice.size+n,this.from+this.insert,this.from+this.insert+n,t.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(t){let n=t.mapResult(this.from,1),r=t.mapResult(this.to,-1),i=this.from==this.gapFrom?n.pos:t.map(this.gapFrom,-1),s=this.to==this.gapTo?r.pos:t.map(this.gapTo,1);return n.deletedAcross&&r.deletedAcross||i<n.pos||s>r.pos?null:new Jt(n.pos,r.pos,i,s,this.slice,this.insert,this.structure)}toJSON(){let t={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(t.slice=this.slice.toJSON()),this.structure&&(t.structure=!0),t}static fromJSON(t,n){if(typeof n.from!="number"||typeof n.to!="number"||typeof n.gapFrom!="number"||typeof n.gapTo!="number"||typeof n.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new Jt(n.from,n.to,n.gapFrom,n.gapTo,he.fromJSON(t,n.slice),n.insert,!!n.structure)}}Ln.jsonID("replaceAround",Jt);function c0(e,t,n){let r=e.resolve(t),i=n-t,s=r.depth;for(;i>0&&s>0&&r.indexAfter(s)==r.node(s).childCount;)s--,i--;if(i>0){let o=r.node(s).maybeChild(r.indexAfter(s));for(;i>0;){if(!o||o.isLeaf)return!0;o=o.firstChild,i--}}return!1}function Iee(e,t,n,r){let i=[],s=[],o,a;e.doc.nodesBetween(t,n,(l,u,c)=>{if(!l.isInline)return;let d=l.marks;if(!r.isInSet(d)&&c.type.allowsMarkType(r.type)){let f=Math.max(u,t),p=Math.min(u+l.nodeSize,n),m=r.addToSet(d);for(let g=0;g<d.length;g++)d[g].isInSet(m)||(o&&o.to==f&&o.mark.eq(d[g])?o.to=p:i.push(o=new Ii(f,p,d[g])));a&&a.to==f?a.to=p:s.push(a=new Ys(f,p,r))}}),i.forEach(l=>e.step(l)),s.forEach(l=>e.step(l))}function Nee(e,t,n,r){let i=[],s=0;e.doc.nodesBetween(t,n,(o,a)=>{if(!o.isInline)return;s++;let l=null;if(r instanceof jp){let u=o.marks,c;for(;c=r.isInSet(u);)(l||(l=[])).push(c),u=c.removeFromSet(u)}else r?r.isInSet(o.marks)&&(l=[r]):l=o.marks;if(l&&l.length){let u=Math.min(a+o.nodeSize,n);for(let c=0;c<l.length;c++){let d=l[c],f;for(let p=0;p<i.length;p++){let m=i[p];m.step==s-1&&d.eq(i[p].style)&&(f=m)}f?(f.to=u,f.step=s):i.push({style:d,from:Math.max(a,t),to:u,step:s})}}}),i.forEach(o=>e.step(new Ii(o.from,o.to,o.style)))}function E1(e,t,n,r=n.contentMatch,i=!0){let s=e.doc.nodeAt(t),o=[],a=t+1;for(let l=0;l<s.childCount;l++){let u=s.child(l),c=a+u.nodeSize,d=r.matchType(u.type);if(!d)o.push(new ln(a,c,he.empty));else{r=d;for(let f=0;f<u.marks.length;f++)n.allowsMarkType(u.marks[f].type)||e.step(new Ii(a,c,u.marks[f]));if(i&&u.isText&&n.whitespace!="pre"){let f,p=/\r?\n|\r/g,m;for(;f=p.exec(u.text);)m||(m=new he(se.from(n.schema.text(" ",n.allowedMarks(u.marks))),0,0)),o.push(new ln(a+f.index,a+f.index+f[0].length,m))}}a=c}if(!r.validEnd){let l=r.fillBefore(se.empty,!0);e.replace(a,a,new he(l,0,0))}for(let l=o.length-1;l>=0;l--)e.step(o[l])}function Ree(e,t,n){return(t==0||e.canReplace(t,e.childCount))&&(n==e.childCount||e.canReplace(0,n))}function Vc(e){let n=e.parent.content.cutByIndex(e.startIndex,e.endIndex);for(let r=e.depth;;--r){let i=e.$from.node(r),s=e.$from.index(r),o=e.$to.indexAfter(r);if(r<e.depth&&i.canReplace(s,o,n))return r;if(r==0||i.type.spec.isolating||!Ree(i,s,o))break}return null}function Dee(e,t,n){let{$from:r,$to:i,depth:s}=t,o=r.before(s+1),a=i.after(s+1),l=o,u=a,c=se.empty,d=0;for(let m=s,g=!1;m>n;m--)g||r.index(m)>0?(g=!0,c=se.from(r.node(m).copy(c)),d++):l--;let f=se.empty,p=0;for(let m=s,g=!1;m>n;m--)g||i.after(m+1)<i.end(m)?(g=!0,f=se.from(i.node(m).copy(f)),p++):u++;e.step(new Jt(l,u,o,a,new he(c.append(f),d,p),c.size-d,!0))}function qp(e,t,n=null,r=e){let i=Mee(e,t),s=i&&Pee(r,t);return s?i.map(xT).concat({type:t,attrs:n}).concat(s.map(xT)):null}function xT(e){return{type:e,attrs:null}}function Mee(e,t){let{parent:n,startIndex:r,endIndex:i}=e,s=n.contentMatchAt(r).findWrapping(t);if(!s)return null;let o=s.length?s[0]:t;return n.canReplaceWith(r,i,o)?s:null}function Pee(e,t){let{parent:n,startIndex:r,endIndex:i}=e,s=n.child(r),o=t.contentMatch.findWrapping(s.type);if(!o)return null;let l=(o.length?o[o.length-1]:t).contentMatch;for(let u=r;l&&u<i;u++)l=l.matchType(n.child(u).type);return!l||!l.validEnd?null:o}function Lee(e,t,n){let r=se.empty;for(let o=n.length-1;o>=0;o--){if(r.size){let a=n[o].type.contentMatch.matchFragment(r);if(!a||!a.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}r=se.from(n[o].type.create(n[o].attrs,r))}let i=t.start,s=t.end;e.step(new Jt(i,s,i,s,new he(r,0,0),n.length,!0))}function Bee(e,t,n,r,i){if(!r.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let s=e.steps.length;e.doc.nodesBetween(t,n,(o,a)=>{let l=typeof i=="function"?i(o):i;if(o.isTextblock&&!o.hasMarkup(r,l)&&$ee(e.doc,e.mapping.slice(s).map(a),r)){let u=null;if(r.schema.linebreakReplacement){let p=r.whitespace=="pre",m=!!r.contentMatch.matchType(r.schema.linebreakReplacement);p&&!m?u=!1:!p&&m&&(u=!0)}u===!1&&A2(e,o,a,s),E1(e,e.mapping.slice(s).map(a,1),r,void 0,u===null);let c=e.mapping.slice(s),d=c.map(a,1),f=c.map(a+o.nodeSize,1);return e.step(new Jt(d,f,d+1,f-1,new he(se.from(r.create(l,null,o.marks)),0,0),1,!0)),u===!0&&S2(e,o,a,s),!1}})}function S2(e,t,n,r){t.forEach((i,s)=>{if(i.isText){let o,a=/\r?\n|\r/g;for(;o=a.exec(i.text);){let l=e.mapping.slice(r).map(n+1+s+o.index);e.replaceWith(l,l+1,t.type.schema.linebreakReplacement.create())}}})}function A2(e,t,n,r){t.forEach((i,s)=>{if(i.type==i.type.schema.linebreakReplacement){let o=e.mapping.slice(r).map(n+1+s);e.replaceWith(o,o+1,t.type.schema.text(`
`))}})}function $ee(e,t,n){let r=e.resolve(t),i=r.index();return r.parent.canReplaceWith(i,i+1,n)}function Fee(e,t,n,r,i){let s=e.doc.nodeAt(t);if(!s)throw new RangeError("No node at given position");n||(n=s.type);let o=n.create(r,null,i||s.marks);if(s.isLeaf)return e.replaceWith(t,t+s.nodeSize,o);if(!n.validContent(s.content))throw new RangeError("Invalid content for node type "+n.name);e.step(new Jt(t,t+s.nodeSize,t+1,t+s.nodeSize-1,new he(se.from(o),0,0),1,!0))}function ds(e,t,n=1,r){let i=e.resolve(t),s=i.depth-n,o=r&&r[r.length-1]||i.parent;if(s<0||i.parent.type.spec.isolating||!i.parent.canReplace(i.index(),i.parent.childCount)||!o.type.validContent(i.parent.content.cutByIndex(i.index(),i.parent.childCount)))return!1;for(let u=i.depth-1,c=n-2;u>s;u--,c--){let d=i.node(u),f=i.index(u);if(d.type.spec.isolating)return!1;let p=d.content.cutByIndex(f,d.childCount),m=r&&r[c+1];m&&(p=p.replaceChild(0,m.type.create(m.attrs)));let g=r&&r[c]||d;if(!d.canReplace(f+1,d.childCount)||!g.type.validContent(p))return!1}let a=i.indexAfter(s),l=r&&r[0];return i.node(s).canReplaceWith(a,a,l?l.type:i.node(s+1).type)}function Uee(e,t,n=1,r){let i=e.doc.resolve(t),s=se.empty,o=se.empty;for(let a=i.depth,l=i.depth-n,u=n-1;a>l;a--,u--){s=se.from(i.node(a).copy(s));let c=r&&r[u];o=se.from(c?c.type.create(c.attrs,o):i.node(a).copy(o))}e.step(new ln(t,t,new he(s.append(o),n,n),!0))}function Wp(e,t){let n=e.resolve(t),r=n.index();return zee(n.nodeBefore,n.nodeAfter)&&n.parent.canReplace(r,r+1)}function Hee(e,t){t.content.size||e.type.compatibleContent(t.type);let n=e.contentMatchAt(e.childCount),{linebreakReplacement:r}=e.type.schema;for(let i=0;i<t.childCount;i++){let s=t.child(i),o=s.type==r?e.type.schema.nodes.text:s.type;if(n=n.matchType(o),!n||!e.type.allowsMarks(s.marks))return!1}return n.validEnd}function zee(e,t){return!!(e&&t&&!e.isLeaf&&Hee(e,t))}function Vee(e,t,n){let r=null,{linebreakReplacement:i}=e.doc.type.schema,s=e.doc.resolve(t-n),o=s.node().type;if(i&&o.inlineContent){let c=o.whitespace=="pre",d=!!o.contentMatch.matchType(i);c&&!d?r=!1:!c&&d&&(r=!0)}let a=e.steps.length;if(r===!1){let c=e.doc.resolve(t+n);A2(e,c.node(),c.before(),a)}o.inlineContent&&E1(e,t+n-1,o,s.node().contentMatchAt(s.index()),r==null);let l=e.mapping.slice(a),u=l.map(t-n);if(e.step(new ln(u,l.map(t+n,-1),he.empty,!0)),r===!0){let c=e.doc.resolve(u);S2(e,c.node(),c.before(),e.steps.length)}return e}function k2(e,t,n){let r=e.resolve(t);if(r.parent.canReplaceWith(r.index(),r.index(),n))return t;if(r.parentOffset==0)for(let i=r.depth-1;i>=0;i--){let s=r.index(i);if(r.node(i).canReplaceWith(s,s,n))return r.before(i+1);if(s>0)return null}if(r.parentOffset==r.parent.content.size)for(let i=r.depth-1;i>=0;i--){let s=r.indexAfter(i);if(r.node(i).canReplaceWith(s,s,n))return r.after(i+1);if(s<r.node(i).childCount)return null}return null}function O2(e,t,n){let r=e.resolve(t);if(!n.content.size)return t;let i=n.content;for(let s=0;s<n.openStart;s++)i=i.firstChild.content;for(let s=1;s<=(n.openStart==0&&n.size?2:1);s++)for(let o=r.depth;o>=0;o--){let a=o==r.depth?0:r.pos<=(r.start(o+1)+r.end(o+1))/2?-1:1,l=r.index(o)+(a>0?1:0),u=r.node(o),c=!1;if(s==1)c=u.canReplace(l,l,i);else{let d=u.contentMatchAt(l).findWrapping(i.firstChild.type);c=d&&u.canReplaceWith(l,l,d[0])}if(c)return a==0?r.pos:a<0?r.before(o+1):r.after(o+1)}return null}function jc(e,t,n=t,r=he.empty){if(t==n&&!r.size)return null;let i=e.resolve(t),s=e.resolve(n);return I2(i,s,r)?new ln(t,n,r):new jee(i,s,r).fit()}function I2(e,t,n){return!n.openStart&&!n.openEnd&&e.start()==t.start()&&e.parent.canReplace(e.index(),t.index(),n.content)}class jee{constructor(t,n,r){this.$from=t,this.$to=n,this.unplaced=r,this.frontier=[],this.placed=se.empty;for(let i=0;i<=t.depth;i++){let s=t.node(i);this.frontier.push({type:s.type,match:s.contentMatchAt(t.indexAfter(i))})}for(let i=t.depth;i>0;i--)this.placed=se.from(t.node(i).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let u=this.findFittable();u?this.placeNodes(u):this.openMore()||this.dropNode()}let t=this.mustMoveInline(),n=this.placed.size-this.depth-this.$from.depth,r=this.$from,i=this.close(t<0?this.$to:r.doc.resolve(t));if(!i)return null;let s=this.placed,o=r.depth,a=i.depth;for(;o&&a&&s.childCount==1;)s=s.firstChild.content,o--,a--;let l=new he(s,o,a);return t>-1?new Jt(r.pos,t,this.$to.pos,this.$to.end(),l,n):l.size||r.pos!=this.$to.pos?new ln(r.pos,i.pos,l):null}findFittable(){let t=this.unplaced.openStart;for(let n=this.unplaced.content,r=0,i=this.unplaced.openEnd;r<t;r++){let s=n.firstChild;if(n.childCount>1&&(i=0),s.type.spec.isolating&&i<=r){t=r;break}n=s.content}for(let n=1;n<=2;n++)for(let r=n==1?t:this.unplaced.openStart;r>=0;r--){let i,s=null;r?(s=wm(this.unplaced.content,r-1).firstChild,i=s.content):i=this.unplaced.content;let o=i.firstChild;for(let a=this.depth;a>=0;a--){let{type:l,match:u}=this.frontier[a],c,d=null;if(n==1&&(o?u.matchType(o.type)||(d=u.fillBefore(se.from(o),!1)):s&&l.compatibleContent(s.type)))return{sliceDepth:r,frontierDepth:a,parent:s,inject:d};if(n==2&&o&&(c=u.findWrapping(o.type)))return{sliceDepth:r,frontierDepth:a,parent:s,wrap:c};if(s&&u.matchType(s.type))break}}}openMore(){let{content:t,openStart:n,openEnd:r}=this.unplaced,i=wm(t,n);return!i.childCount||i.firstChild.isLeaf?!1:(this.unplaced=new he(t,n+1,Math.max(r,i.size+n>=t.size-r?n+1:0)),!0)}dropNode(){let{content:t,openStart:n,openEnd:r}=this.unplaced,i=wm(t,n);if(i.childCount<=1&&n>0){let s=t.size-n<=n+i.size;this.unplaced=new he(cu(t,n-1,1),n-1,s?n-1:r)}else this.unplaced=new he(cu(t,n,1),n,r)}placeNodes({sliceDepth:t,frontierDepth:n,parent:r,inject:i,wrap:s}){for(;this.depth>n;)this.closeFrontierNode();if(s)for(let g=0;g<s.length;g++)this.openFrontierNode(s[g]);let o=this.unplaced,a=r?r.content:o.content,l=o.openStart-t,u=0,c=[],{match:d,type:f}=this.frontier[n];if(i){for(let g=0;g<i.childCount;g++)c.push(i.child(g));d=d.matchFragment(i)}let p=a.size+t-(o.content.size-o.openEnd);for(;u<a.childCount;){let g=a.child(u),b=d.matchType(g.type);if(!b)break;u++,(u>1||l==0||g.content.size)&&(d=b,c.push(N2(g.mark(f.allowedMarks(g.marks)),u==1?l:0,u==a.childCount?p:-1)))}let m=u==a.childCount;m||(p=-1),this.placed=du(this.placed,n,se.from(c)),this.frontier[n].match=d,m&&p<0&&r&&r.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let g=0,b=a;g<p;g++){let y=b.lastChild;this.frontier.push({type:y.type,match:y.contentMatchAt(y.childCount)}),b=y.content}this.unplaced=m?t==0?he.empty:new he(cu(o.content,t-1,1),t-1,p<0?o.openEnd:t-1):new he(cu(o.content,t,u),o.openStart,o.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let t=this.frontier[this.depth],n;if(!t.type.isTextblock||!xm(this.$to,this.$to.depth,t.type,t.match,!1)||this.$to.depth==this.depth&&(n=this.findCloseLevel(this.$to))&&n.depth==this.depth)return-1;let{depth:r}=this.$to,i=this.$to.after(r);for(;r>1&&i==this.$to.end(--r);)++i;return i}findCloseLevel(t){e:for(let n=Math.min(this.depth,t.depth);n>=0;n--){let{match:r,type:i}=this.frontier[n],s=n<t.depth&&t.end(n+1)==t.pos+(t.depth-(n+1)),o=xm(t,n,i,r,s);if(o){for(let a=n-1;a>=0;a--){let{match:l,type:u}=this.frontier[a],c=xm(t,a,u,l,!0);if(!c||c.childCount)continue e}return{depth:n,fit:o,move:s?t.doc.resolve(t.after(n+1)):t}}}}close(t){let n=this.findCloseLevel(t);if(!n)return null;for(;this.depth>n.depth;)this.closeFrontierNode();n.fit.childCount&&(this.placed=du(this.placed,n.depth,n.fit)),t=n.move;for(let r=n.depth+1;r<=t.depth;r++){let i=t.node(r),s=i.type.contentMatch.fillBefore(i.content,!0,t.index(r));this.openFrontierNode(i.type,i.attrs,s)}return t}openFrontierNode(t,n=null,r){let i=this.frontier[this.depth];i.match=i.match.matchType(t),this.placed=du(this.placed,this.depth,se.from(t.create(n,r))),this.frontier.push({type:t,match:t.contentMatch})}closeFrontierNode(){let n=this.frontier.pop().match.fillBefore(se.empty,!0);n.childCount&&(this.placed=du(this.placed,this.frontier.length,n))}}function cu(e,t,n){return t==0?e.cutByIndex(n,e.childCount):e.replaceChild(0,e.firstChild.copy(cu(e.firstChild.content,t-1,n)))}function du(e,t,n){return t==0?e.append(n):e.replaceChild(e.childCount-1,e.lastChild.copy(du(e.lastChild.content,t-1,n)))}function wm(e,t){for(let n=0;n<t;n++)e=e.firstChild.content;return e}function N2(e,t,n){if(t<=0)return e;let r=e.content;return t>1&&(r=r.replaceChild(0,N2(r.firstChild,t-1,r.childCount==1?n-1:0))),t>0&&(r=e.type.contentMatch.fillBefore(r).append(r),n<=0&&(r=r.append(e.type.contentMatch.matchFragment(r).fillBefore(se.empty,!0)))),e.copy(r)}function xm(e,t,n,r,i){let s=e.node(t),o=i?e.indexAfter(t):e.index(t);if(o==s.childCount&&!n.compatibleContent(s.type))return null;let a=r.fillBefore(s.content,!0,o);return a&&!qee(n,s.content,o)?a:null}function qee(e,t,n){for(let r=n;r<t.childCount;r++)if(!e.allowsMarks(t.child(r).marks))return!0;return!1}function Wee(e){return e.spec.defining||e.spec.definingForContent}function Yee(e,t,n,r){if(!r.size)return e.deleteRange(t,n);let i=e.doc.resolve(t),s=e.doc.resolve(n);if(I2(i,s,r))return e.step(new ln(t,n,r));let o=D2(i,e.doc.resolve(n));o[o.length-1]==0&&o.pop();let a=-(i.depth+1);o.unshift(a);for(let f=i.depth,p=i.pos-1;f>0;f--,p--){let m=i.node(f).type.spec;if(m.defining||m.definingAsContext||m.isolating)break;o.indexOf(f)>-1?a=f:i.before(f)==p&&o.splice(1,0,-f)}let l=o.indexOf(a),u=[],c=r.openStart;for(let f=r.content,p=0;;p++){let m=f.firstChild;if(u.push(m),p==r.openStart)break;f=m.content}for(let f=c-1;f>=0;f--){let p=u[f],m=Wee(p.type);if(m&&!p.sameMarkup(i.node(Math.abs(a)-1)))c=f;else if(m||!p.type.isTextblock)break}for(let f=r.openStart;f>=0;f--){let p=(f+c+1)%(r.openStart+1),m=u[p];if(m)for(let g=0;g<o.length;g++){let b=o[(g+l)%o.length],y=!0;b<0&&(y=!1,b=-b);let E=i.node(b-1),T=i.index(b-1);if(E.canReplaceWith(T,T,m.type,m.marks))return e.replace(i.before(b),y?s.after(b):n,new he(R2(r.content,0,r.openStart,p),p,r.openEnd))}}let d=e.steps.length;for(let f=o.length-1;f>=0&&(e.replace(t,n,r),!(e.steps.length>d));f--){let p=o[f];p<0||(t=i.before(p),n=s.after(p))}}function R2(e,t,n,r,i){if(t<n){let s=e.firstChild;e=e.replaceChild(0,s.copy(R2(s.content,t+1,n,r,s)))}if(t>r){let s=i.contentMatchAt(0),o=s.fillBefore(e).append(e);e=o.append(s.matchFragment(o).fillBefore(se.empty,!0))}return e}function Gee(e,t,n,r){if(!r.isInline&&t==n&&e.doc.resolve(t).parent.content.size){let i=k2(e.doc,t,r.type);i!=null&&(t=n=i)}e.replaceRange(t,n,new he(se.from(r),0,0))}function Kee(e,t,n){let r=e.doc.resolve(t),i=e.doc.resolve(n),s=D2(r,i);for(let o=0;o<s.length;o++){let a=s[o],l=o==s.length-1;if(l&&a==0||r.node(a).type.contentMatch.validEnd)return e.delete(r.start(a),i.end(a));if(a>0&&(l||r.node(a-1).canReplace(r.index(a-1),i.indexAfter(a-1))))return e.delete(r.before(a),i.after(a))}for(let o=1;o<=r.depth&&o<=i.depth;o++)if(t-r.start(o)==r.depth-o&&n>r.end(o)&&i.end(o)-n!=i.depth-o&&r.start(o-1)==i.start(o-1)&&r.node(o-1).canReplace(r.index(o-1),i.index(o-1)))return e.delete(r.before(o),n);e.delete(t,n)}function D2(e,t){let n=[],r=Math.min(e.depth,t.depth);for(let i=r;i>=0;i--){let s=e.start(i);if(s<e.pos-(e.depth-i)||t.end(i)>t.pos+(t.depth-i)||e.node(i).type.spec.isolating||t.node(i).type.spec.isolating)break;(s==t.start(i)||i==e.depth&&i==t.depth&&e.parent.inlineContent&&t.parent.inlineContent&&i&&t.start(i-1)==s-1)&&n.push(i)}return n}class Ya extends Ln{constructor(t,n,r){super(),this.pos=t,this.attr=n,this.value=r}apply(t){let n=t.nodeAt(this.pos);if(!n)return Wt.fail("No node at attribute step's position");let r=Object.create(null);for(let s in n.attrs)r[s]=n.attrs[s];r[this.attr]=this.value;let i=n.type.create(r,null,n.marks);return Wt.fromReplace(t,this.pos,this.pos+1,new he(se.from(i),0,n.isLeaf?0:1))}getMap(){return dr.empty}invert(t){return new Ya(this.pos,this.attr,t.nodeAt(this.pos).attrs[this.attr])}map(t){let n=t.mapResult(this.pos,1);return n.deletedAfter?null:new Ya(n.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(t,n){if(typeof n.pos!="number"||typeof n.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new Ya(n.pos,n.attr,n.value)}}Ln.jsonID("attr",Ya);class cc extends Ln{constructor(t,n){super(),this.attr=t,this.value=n}apply(t){let n=Object.create(null);for(let i in t.attrs)n[i]=t.attrs[i];n[this.attr]=this.value;let r=t.type.create(n,t.content,t.marks);return Wt.ok(r)}getMap(){return dr.empty}invert(t){return new cc(this.attr,t.attrs[this.attr])}map(t){return this}toJSON(){return{stepType:"docAttr",attr:this.attr,value:this.value}}static fromJSON(t,n){if(typeof n.attr!="string")throw new RangeError("Invalid input for DocAttrStep.fromJSON");return new cc(n.attr,n.value)}}Ln.jsonID("docAttr",cc);let ul=class extends Error{};ul=function e(t){let n=Error.call(this,t);return n.__proto__=e.prototype,n};ul.prototype=Object.create(Error.prototype);ul.prototype.constructor=ul;ul.prototype.name="TransformError";class M2{constructor(t){this.doc=t,this.steps=[],this.docs=[],this.mapping=new Wa}get before(){return this.docs.length?this.docs[0]:this.doc}step(t){let n=this.maybeStep(t);if(n.failed)throw new ul(n.failed);return this}maybeStep(t){let n=t.apply(this.doc);return n.failed||this.addStep(t,n.doc),n}get docChanged(){return this.steps.length>0}addStep(t,n){this.docs.push(this.doc),this.steps.push(t),this.mapping.appendMap(t.getMap()),this.doc=n}replace(t,n=t,r=he.empty){let i=jc(this.doc,t,n,r);return i&&this.step(i),this}replaceWith(t,n,r){return this.replace(t,n,new he(se.from(r),0,0))}delete(t,n){return this.replace(t,n,he.empty)}insert(t,n){return this.replaceWith(t,t,n)}replaceRange(t,n,r){return Yee(this,t,n,r),this}replaceRangeWith(t,n,r){return Gee(this,t,n,r),this}deleteRange(t,n){return Kee(this,t,n),this}lift(t,n){return Dee(this,t,n),this}join(t,n=1){return Vee(this,t,n),this}wrap(t,n){return Lee(this,t,n),this}setBlockType(t,n=t,r,i=null){return Bee(this,t,n,r,i),this}setNodeMarkup(t,n,r=null,i){return Fee(this,t,n,r,i),this}setNodeAttribute(t,n,r){return this.step(new Ya(t,n,r)),this}setDocAttribute(t,n){return this.step(new cc(t,n)),this}addNodeMark(t,n){return this.step(new Gs(t,n)),this}removeNodeMark(t,n){if(!(n instanceof ht)){let r=this.doc.nodeAt(t);if(!r)throw new RangeError("No node at position "+t);if(n=n.isInSet(r.marks),!n)return this}return this.step(new ll(t,n)),this}split(t,n=1,r){return Uee(this,t,n,r),this}addMark(t,n,r){return Iee(this,t,n,r),this}removeMark(t,n,r){return Nee(this,t,n,r),this}clearIncompatible(t,n,r){return E1(this,t,n,r),this}}const Cm=Object.create(null);class Fe{constructor(t,n,r){this.$anchor=t,this.$head=n,this.ranges=r||[new Hf(t.min(n),t.max(n))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let t=this.ranges;for(let n=0;n<t.length;n++)if(t[n].$from.pos!=t[n].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(t,n=he.empty){let r=n.content.lastChild,i=null;for(let a=0;a<n.openEnd;a++)i=r,r=r.lastChild;let s=t.steps.length,o=this.ranges;for(let a=0;a<o.length;a++){let{$from:l,$to:u}=o[a],c=t.mapping.slice(s);t.replaceRange(c.map(l.pos),c.map(u.pos),a?he.empty:n),a==0&&AT(t,s,(r?r.isInline:i&&i.isTextblock)?-1:1)}}replaceWith(t,n){let r=t.steps.length,i=this.ranges;for(let s=0;s<i.length;s++){let{$from:o,$to:a}=i[s],l=t.mapping.slice(r),u=l.map(o.pos),c=l.map(a.pos);s?t.deleteRange(u,c):(t.replaceRangeWith(u,c,n),AT(t,r,n.isInline?-1:1))}}static findFrom(t,n,r=!1){let i=t.parent.inlineContent?new Ue(t):Oa(t.node(0),t.parent,t.pos,t.index(),n,r);if(i)return i;for(let s=t.depth-1;s>=0;s--){let o=n<0?Oa(t.node(0),t.node(s),t.before(s+1),t.index(s),n,r):Oa(t.node(0),t.node(s),t.after(s+1),t.index(s)+1,n,r);if(o)return o}return null}static near(t,n=1){return this.findFrom(t,n)||this.findFrom(t,-n)||new Hn(t.node(0))}static atStart(t){return Oa(t,t,0,0,1)||new Hn(t)}static atEnd(t){return Oa(t,t,t.content.size,t.childCount,-1)||new Hn(t)}static fromJSON(t,n){if(!n||!n.type)throw new RangeError("Invalid input for Selection.fromJSON");let r=Cm[n.type];if(!r)throw new RangeError(`No selection type ${n.type} defined`);return r.fromJSON(t,n)}static jsonID(t,n){if(t in Cm)throw new RangeError("Duplicate use of selection JSON ID "+t);return Cm[t]=n,n.prototype.jsonID=t,n}getBookmark(){return Ue.between(this.$anchor,this.$head).getBookmark()}}Fe.prototype.visible=!0;class Hf{constructor(t,n){this.$from=t,this.$to=n}}let CT=!1;function ST(e){!CT&&!e.parent.inlineContent&&(CT=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+e.parent.type.name+")"))}class Ue extends Fe{constructor(t,n=t){ST(t),ST(n),super(t,n)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(t,n){let r=t.resolve(n.map(this.head));if(!r.parent.inlineContent)return Fe.near(r);let i=t.resolve(n.map(this.anchor));return new Ue(i.parent.inlineContent?i:r,r)}replace(t,n=he.empty){if(super.replace(t,n),n==he.empty){let r=this.$from.marksAcross(this.$to);r&&t.ensureMarks(r)}}eq(t){return t instanceof Ue&&t.anchor==this.anchor&&t.head==this.head}getBookmark(){return new Yp(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(t,n){if(typeof n.anchor!="number"||typeof n.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new Ue(t.resolve(n.anchor),t.resolve(n.head))}static create(t,n,r=n){let i=t.resolve(n);return new this(i,r==n?i:t.resolve(r))}static between(t,n,r){let i=t.pos-n.pos;if((!r||i)&&(r=i>=0?1:-1),!n.parent.inlineContent){let s=Fe.findFrom(n,r,!0)||Fe.findFrom(n,-r,!0);if(s)n=s.$head;else return Fe.near(n,r)}return t.parent.inlineContent||(i==0?t=n:(t=(Fe.findFrom(t,-r,!0)||Fe.findFrom(t,r,!0)).$anchor,t.pos<n.pos!=i<0&&(t=n))),new Ue(t,n)}}Fe.jsonID("text",Ue);class Yp{constructor(t,n){this.anchor=t,this.head=n}map(t){return new Yp(t.map(this.anchor),t.map(this.head))}resolve(t){return Ue.between(t.resolve(this.anchor),t.resolve(this.head))}}class ze extends Fe{constructor(t){let n=t.nodeAfter,r=t.node(0).resolve(t.pos+n.nodeSize);super(t,r),this.node=n}map(t,n){let{deleted:r,pos:i}=n.mapResult(this.anchor),s=t.resolve(i);return r?Fe.near(s):new ze(s)}content(){return new he(se.from(this.node),0,0)}eq(t){return t instanceof ze&&t.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new v1(this.anchor)}static fromJSON(t,n){if(typeof n.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new ze(t.resolve(n.anchor))}static create(t,n){return new ze(t.resolve(n))}static isSelectable(t){return!t.isText&&t.type.spec.selectable!==!1}}ze.prototype.visible=!1;Fe.jsonID("node",ze);class v1{constructor(t){this.anchor=t}map(t){let{deleted:n,pos:r}=t.mapResult(this.anchor);return n?new Yp(r,r):new v1(r)}resolve(t){let n=t.resolve(this.anchor),r=n.nodeAfter;return r&&ze.isSelectable(r)?new ze(n):Fe.near(n)}}class Hn extends Fe{constructor(t){super(t.resolve(0),t.resolve(t.content.size))}replace(t,n=he.empty){if(n==he.empty){t.delete(0,t.doc.content.size);let r=Fe.atStart(t.doc);r.eq(t.selection)||t.setSelection(r)}else super.replace(t,n)}toJSON(){return{type:"all"}}static fromJSON(t){return new Hn(t)}map(t){return new Hn(t)}eq(t){return t instanceof Hn}getBookmark(){return Xee}}Fe.jsonID("all",Hn);const Xee={map(){return this},resolve(e){return new Hn(e)}};function Oa(e,t,n,r,i,s=!1){if(t.inlineContent)return Ue.create(e,n);for(let o=r-(i>0?0:1);i>0?o<t.childCount:o>=0;o+=i){let a=t.child(o);if(a.isAtom){if(!s&&ze.isSelectable(a))return ze.create(e,n-(i<0?a.nodeSize:0))}else{let l=Oa(e,a,n+i,i<0?a.childCount:0,i,s);if(l)return l}n+=a.nodeSize*i}return null}function AT(e,t,n){let r=e.steps.length-1;if(r<t)return;let i=e.steps[r];if(!(i instanceof ln||i instanceof Jt))return;let s=e.mapping.maps[r],o;s.forEach((a,l,u,c)=>{o==null&&(o=c)}),e.setSelection(Fe.near(e.doc.resolve(o),n))}const kT=1,OT=2,IT=4;class Qee extends M2{constructor(t){super(t.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=t.selection,this.storedMarks=t.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(t){if(t.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=t,this.curSelectionFor=this.steps.length,this.updated=(this.updated|kT)&-3,this.storedMarks=null,this}get selectionSet(){return(this.updated&kT)>0}setStoredMarks(t){return this.storedMarks=t,this.updated|=OT,this}ensureMarks(t){return ht.sameSet(this.storedMarks||this.selection.$from.marks(),t)||this.setStoredMarks(t),this}addStoredMark(t){return this.ensureMarks(t.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(t){return this.ensureMarks(t.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(this.updated&OT)>0}addStep(t,n){super.addStep(t,n),this.updated=this.updated&-3,this.storedMarks=null}setTime(t){return this.time=t,this}replaceSelection(t){return this.selection.replace(this,t),this}replaceSelectionWith(t,n=!0){let r=this.selection;return n&&(t=t.mark(this.storedMarks||(r.empty?r.$from.marks():r.$from.marksAcross(r.$to)||ht.none))),r.replaceWith(this,t),this}deleteSelection(){return this.selection.replace(this),this}insertText(t,n,r){let i=this.doc.type.schema;if(n==null)return t?this.replaceSelectionWith(i.text(t),!0):this.deleteSelection();{if(r==null&&(r=n),r=r??n,!t)return this.deleteRange(n,r);let s=this.storedMarks;if(!s){let o=this.doc.resolve(n);s=r==n?o.marks():o.marksAcross(this.doc.resolve(r))}return this.replaceRangeWith(n,r,i.text(t,s)),this.selection.empty||this.setSelection(Fe.near(this.selection.$to)),this}}setMeta(t,n){return this.meta[typeof t=="string"?t:t.key]=n,this}getMeta(t){return this.meta[typeof t=="string"?t:t.key]}get isGeneric(){for(let t in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=IT,this}get scrolledIntoView(){return(this.updated&IT)>0}}function NT(e,t){return!t||!e?e:e.bind(t)}class fu{constructor(t,n,r){this.name=t,this.init=NT(n.init,r),this.apply=NT(n.apply,r)}}const Jee=[new fu("doc",{init(e){return e.doc||e.schema.topNodeType.createAndFill()},apply(e){return e.doc}}),new fu("selection",{init(e,t){return e.selection||Fe.atStart(t.doc)},apply(e){return e.selection}}),new fu("storedMarks",{init(e){return e.storedMarks||null},apply(e,t,n,r){return r.selection.$cursor?e.storedMarks:null}}),new fu("scrollToSelection",{init(){return 0},apply(e,t){return e.scrolledIntoView?t+1:t}})];class Sm{constructor(t,n){this.schema=t,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=Jee.slice(),n&&n.forEach(r=>{if(this.pluginsByKey[r.key])throw new RangeError("Adding different instances of a keyed plugin ("+r.key+")");this.plugins.push(r),this.pluginsByKey[r.key]=r,r.spec.state&&this.fields.push(new fu(r.key,r.spec.state,r))})}}class Po{constructor(t){this.config=t}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(t){return this.applyTransaction(t).state}filterTransaction(t,n=-1){for(let r=0;r<this.config.plugins.length;r++)if(r!=n){let i=this.config.plugins[r];if(i.spec.filterTransaction&&!i.spec.filterTransaction.call(i,t,this))return!1}return!0}applyTransaction(t){if(!this.filterTransaction(t))return{state:this,transactions:[]};let n=[t],r=this.applyInner(t),i=null;for(;;){let s=!1;for(let o=0;o<this.config.plugins.length;o++){let a=this.config.plugins[o];if(a.spec.appendTransaction){let l=i?i[o].n:0,u=i?i[o].state:this,c=l<n.length&&a.spec.appendTransaction.call(a,l?n.slice(l):n,u,r);if(c&&r.filterTransaction(c,o)){if(c.setMeta("appendedTransaction",t),!i){i=[];for(let d=0;d<this.config.plugins.length;d++)i.push(d<o?{state:r,n:n.length}:{state:this,n:0})}n.push(c),r=r.applyInner(c),s=!0}i&&(i[o]={state:r,n:n.length})}}if(!s)return{state:r,transactions:n}}}applyInner(t){if(!t.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let n=new Po(this.config),r=this.config.fields;for(let i=0;i<r.length;i++){let s=r[i];n[s.name]=s.apply(t,this[s.name],this,n)}return n}get tr(){return new Qee(this)}static create(t){let n=new Sm(t.doc?t.doc.type.schema:t.schema,t.plugins),r=new Po(n);for(let i=0;i<n.fields.length;i++)r[n.fields[i].name]=n.fields[i].init(t,r);return r}reconfigure(t){let n=new Sm(this.schema,t.plugins),r=n.fields,i=new Po(n);for(let s=0;s<r.length;s++){let o=r[s].name;i[o]=this.hasOwnProperty(o)?this[o]:r[s].init(t,i)}return i}toJSON(t){let n={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(n.storedMarks=this.storedMarks.map(r=>r.toJSON())),t&&typeof t=="object")for(let r in t){if(r=="doc"||r=="selection")throw new RangeError("The JSON fields `doc` and `selection` are reserved");let i=t[r],s=i.spec.state;s&&s.toJSON&&(n[r]=s.toJSON.call(i,this[i.key]))}return n}static fromJSON(t,n,r){if(!n)throw new RangeError("Invalid input for EditorState.fromJSON");if(!t.schema)throw new RangeError("Required config field 'schema' missing");let i=new Sm(t.schema,t.plugins),s=new Po(i);return i.fields.forEach(o=>{if(o.name=="doc")s.doc=Js.fromJSON(t.schema,n.doc);else if(o.name=="selection")s.selection=Fe.fromJSON(s.doc,n.selection);else if(o.name=="storedMarks")n.storedMarks&&(s.storedMarks=n.storedMarks.map(t.schema.markFromJSON));else{if(r)for(let a in r){let l=r[a],u=l.spec.state;if(l.key==o.name&&u&&u.fromJSON&&Object.prototype.hasOwnProperty.call(n,a)){s[o.name]=u.fromJSON.call(l,t,n[a],s);return}}s[o.name]=o.init(t,s)}}),s}}function P2(e,t,n){for(let r in e){let i=e[r];i instanceof Function?i=i.bind(t):r=="handleDOMEvents"&&(i=P2(i,t,{})),n[r]=i}return n}class At{constructor(t){this.spec=t,this.props={},t.props&&P2(t.props,this,this.props),this.key=t.key?t.key.key:L2("plugin")}getState(t){return t[this.key]}}const Am=Object.create(null);function L2(e){return e in Am?e+"$"+ ++Am[e]:(Am[e]=0,e+"$")}class hn{constructor(t="key"){this.key=L2(t)}get(t){return t.config.pluginsByKey[this.key]}getState(t){return t[this.key]}}const _n=function(e){for(var t=0;;t++)if(e=e.previousSibling,!e)return t},dc=function(e){let t=e.assignedSlot||e.parentNode;return t&&t.nodeType==11?t.host:t};let d0=null;const Zi=function(e,t,n){let r=d0||(d0=document.createRange());return r.setEnd(e,n??e.nodeValue.length),r.setStart(e,t||0),r},Zee=function(){d0=null},ta=function(e,t,n,r){return n&&(RT(e,t,n,r,-1)||RT(e,t,n,r,1))},ete=/^(img|br|input|textarea|hr)$/i;function RT(e,t,n,r,i){for(;;){if(e==n&&t==r)return!0;if(t==(i<0?0:Nr(e))){let s=e.parentNode;if(!s||s.nodeType!=1||qc(e)||ete.test(e.nodeName)||e.contentEditable=="false")return!1;t=_n(e)+(i<0?0:1),e=s}else if(e.nodeType==1){if(e=e.childNodes[t+(i<0?-1:0)],e.contentEditable=="false")return!1;t=i<0?Nr(e):0}else return!1}}function Nr(e){return e.nodeType==3?e.nodeValue.length:e.childNodes.length}function tte(e,t){for(;;){if(e.nodeType==3&&t)return e;if(e.nodeType==1&&t>0){if(e.contentEditable=="false")return null;e=e.childNodes[t-1],t=Nr(e)}else if(e.parentNode&&!qc(e))t=_n(e),e=e.parentNode;else return null}}function nte(e,t){for(;;){if(e.nodeType==3&&t<e.nodeValue.length)return e;if(e.nodeType==1&&t<e.childNodes.length){if(e.contentEditable=="false")return null;e=e.childNodes[t],t=0}else if(e.parentNode&&!qc(e))t=_n(e)+1,e=e.parentNode;else return null}}function rte(e,t,n){for(let r=t==0,i=t==Nr(e);r||i;){if(e==n)return!0;let s=_n(e);if(e=e.parentNode,!e)return!1;r=r&&s==0,i=i&&s==Nr(e)}}function qc(e){let t;for(let n=e;n&&!(t=n.pmViewDesc);n=n.parentNode);return t&&t.node&&t.node.isBlock&&(t.dom==e||t.contentDOM==e)}const Gp=function(e){return e.focusNode&&ta(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset)};function Do(e,t){let n=document.createEvent("Event");return n.initEvent("keydown",!0,!0),n.keyCode=e,n.key=n.code=t,n}function ite(e){let t=e.activeElement;for(;t&&t.shadowRoot;)t=t.shadowRoot.activeElement;return t}function ste(e,t,n){if(e.caretPositionFromPoint)try{let r=e.caretPositionFromPoint(t,n);if(r)return{node:r.offsetNode,offset:Math.min(Nr(r.offsetNode),r.offset)}}catch{}if(e.caretRangeFromPoint){let r=e.caretRangeFromPoint(t,n);if(r)return{node:r.startContainer,offset:Math.min(Nr(r.startContainer),r.startOffset)}}}const Fi=typeof navigator<"u"?navigator:null,DT=typeof document<"u"?document:null,Eo=Fi&&Fi.userAgent||"",f0=/Edge\/(\d+)/.exec(Eo),B2=/MSIE \d/.exec(Eo),p0=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(Eo),nr=!!(B2||p0||f0),Zs=B2?document.documentMode:p0?+p0[1]:f0?+f0[1]:0,li=!nr&&/gecko\/(\d+)/i.test(Eo);li&&+(/Firefox\/(\d+)/.exec(Eo)||[0,0])[1];const h0=!nr&&/Chrome\/(\d+)/.exec(Eo),Nn=!!h0,$2=h0?+h0[1]:0,Vn=!nr&&!!Fi&&/Apple Computer/.test(Fi.vendor),cl=Vn&&(/Mobile\/\w+/.test(Eo)||!!Fi&&Fi.maxTouchPoints>2),kr=cl||(Fi?/Mac/.test(Fi.platform):!1),ote=Fi?/Win/.test(Fi.platform):!1,as=/Android \d/.test(Eo),Wc=!!DT&&"webkitFontSmoothing"in DT.documentElement.style,ate=Wc?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function lte(e){let t=e.defaultView&&e.defaultView.visualViewport;return t?{left:0,right:t.width,top:0,bottom:t.height}:{left:0,right:e.documentElement.clientWidth,top:0,bottom:e.documentElement.clientHeight}}function Gi(e,t){return typeof e=="number"?e:e[t]}function ute(e){let t=e.getBoundingClientRect(),n=t.width/e.offsetWidth||1,r=t.height/e.offsetHeight||1;return{left:t.left,right:t.left+e.clientWidth*n,top:t.top,bottom:t.top+e.clientHeight*r}}function MT(e,t,n){let r=e.someProp("scrollThreshold")||0,i=e.someProp("scrollMargin")||5,s=e.dom.ownerDocument;for(let o=n||e.dom;o;o=dc(o)){if(o.nodeType!=1)continue;let a=o,l=a==s.body,u=l?lte(s):ute(a),c=0,d=0;if(t.top<u.top+Gi(r,"top")?d=-(u.top-t.top+Gi(i,"top")):t.bottom>u.bottom-Gi(r,"bottom")&&(d=t.bottom-t.top>u.bottom-u.top?t.top+Gi(i,"top")-u.top:t.bottom-u.bottom+Gi(i,"bottom")),t.left<u.left+Gi(r,"left")?c=-(u.left-t.left+Gi(i,"left")):t.right>u.right-Gi(r,"right")&&(c=t.right-u.right+Gi(i,"right")),c||d)if(l)s.defaultView.scrollBy(c,d);else{let f=a.scrollLeft,p=a.scrollTop;d&&(a.scrollTop+=d),c&&(a.scrollLeft+=c);let m=a.scrollLeft-f,g=a.scrollTop-p;t={left:t.left-m,top:t.top-g,right:t.right-m,bottom:t.bottom-g}}if(l||/^(fixed|sticky)$/.test(getComputedStyle(o).position))break}}function cte(e){let t=e.dom.getBoundingClientRect(),n=Math.max(0,t.top),r,i;for(let s=(t.left+t.right)/2,o=n+1;o<Math.min(innerHeight,t.bottom);o+=5){let a=e.root.elementFromPoint(s,o);if(!a||a==e.dom||!e.dom.contains(a))continue;let l=a.getBoundingClientRect();if(l.top>=n-20){r=a,i=l.top;break}}return{refDOM:r,refTop:i,stack:F2(e.dom)}}function F2(e){let t=[],n=e.ownerDocument;for(let r=e;r&&(t.push({dom:r,top:r.scrollTop,left:r.scrollLeft}),e!=n);r=dc(r));return t}function dte({refDOM:e,refTop:t,stack:n}){let r=e?e.getBoundingClientRect().top:0;U2(n,r==0?0:r-t)}function U2(e,t){for(let n=0;n<e.length;n++){let{dom:r,top:i,left:s}=e[n];r.scrollTop!=i+t&&(r.scrollTop=i+t),r.scrollLeft!=s&&(r.scrollLeft=s)}}let wa=null;function fte(e){if(e.setActive)return e.setActive();if(wa)return e.focus(wa);let t=F2(e);e.focus(wa==null?{get preventScroll(){return wa={preventScroll:!0},!0}}:void 0),wa||(wa=!1,U2(t,0))}function H2(e,t){let n,r=2e8,i,s=0,o=t.top,a=t.top,l,u;for(let c=e.firstChild,d=0;c;c=c.nextSibling,d++){let f;if(c.nodeType==1)f=c.getClientRects();else if(c.nodeType==3)f=Zi(c).getClientRects();else continue;for(let p=0;p<f.length;p++){let m=f[p];if(m.top<=o&&m.bottom>=a){o=Math.max(m.bottom,o),a=Math.min(m.top,a);let g=m.left>t.left?m.left-t.left:m.right<t.left?t.left-m.right:0;if(g<r){n=c,r=g,i=g&&n.nodeType==3?{left:m.right<t.left?m.right:m.left,top:t.top}:t,c.nodeType==1&&g&&(s=d+(t.left>=(m.left+m.right)/2?1:0));continue}}else m.top>t.top&&!l&&m.left<=t.left&&m.right>=t.left&&(l=c,u={left:Math.max(m.left,Math.min(m.right,t.left)),top:m.top});!n&&(t.left>=m.right&&t.top>=m.top||t.left>=m.left&&t.top>=m.bottom)&&(s=d+1)}}return!n&&l&&(n=l,i=u,r=0),n&&n.nodeType==3?pte(n,i):!n||r&&n.nodeType==1?{node:e,offset:s}:H2(n,i)}function pte(e,t){let n=e.nodeValue.length,r=document.createRange();for(let i=0;i<n;i++){r.setEnd(e,i+1),r.setStart(e,i);let s=Is(r,1);if(s.top!=s.bottom&&T1(t,s))return{node:e,offset:i+(t.left>=(s.left+s.right)/2?1:0)}}return{node:e,offset:0}}function T1(e,t){return e.left>=t.left-1&&e.left<=t.right+1&&e.top>=t.top-1&&e.top<=t.bottom+1}function hte(e,t){let n=e.parentNode;return n&&/^li$/i.test(n.nodeName)&&t.left<e.getBoundingClientRect().left?n:e}function mte(e,t,n){let{node:r,offset:i}=H2(t,n),s=-1;if(r.nodeType==1&&!r.firstChild){let o=r.getBoundingClientRect();s=o.left!=o.right&&n.left>(o.left+o.right)/2?1:-1}return e.docView.posFromDOM(r,i,s)}function gte(e,t,n,r){let i=-1;for(let s=t,o=!1;s!=e.dom;){let a=e.docView.nearestDesc(s,!0),l;if(!a)return null;if(a.dom.nodeType==1&&(a.node.isBlock&&a.parent||!a.contentDOM)&&((l=a.dom.getBoundingClientRect()).width||l.height)&&(a.node.isBlock&&a.parent&&(!o&&l.left>r.left||l.top>r.top?i=a.posBefore:(!o&&l.right<r.left||l.bottom<r.top)&&(i=a.posAfter),o=!0),!a.contentDOM&&i<0&&!a.node.isText))return(a.node.isBlock?r.top<(l.top+l.bottom)/2:r.left<(l.left+l.right)/2)?a.posBefore:a.posAfter;s=a.dom.parentNode}return i>-1?i:e.docView.posFromDOM(t,n,-1)}function z2(e,t,n){let r=e.childNodes.length;if(r&&n.top<n.bottom)for(let i=Math.max(0,Math.min(r-1,Math.floor(r*(t.top-n.top)/(n.bottom-n.top))-2)),s=i;;){let o=e.childNodes[s];if(o.nodeType==1){let a=o.getClientRects();for(let l=0;l<a.length;l++){let u=a[l];if(T1(t,u))return z2(o,t,u)}}if((s=(s+1)%r)==i)break}return e}function bte(e,t){let n=e.dom.ownerDocument,r,i=0,s=ste(n,t.left,t.top);s&&({node:r,offset:i}=s);let o=(e.root.elementFromPoint?e.root:n).elementFromPoint(t.left,t.top),a;if(!o||!e.dom.contains(o.nodeType!=1?o.parentNode:o)){let u=e.dom.getBoundingClientRect();if(!T1(t,u)||(o=z2(e.dom,t,u),!o))return null}if(Vn)for(let u=o;r&&u;u=dc(u))u.draggable&&(r=void 0);if(o=hte(o,t),r){if(li&&r.nodeType==1&&(i=Math.min(i,r.childNodes.length),i<r.childNodes.length)){let c=r.childNodes[i],d;c.nodeName=="IMG"&&(d=c.getBoundingClientRect()).right<=t.left&&d.bottom>t.top&&i++}let u;Wc&&i&&r.nodeType==1&&(u=r.childNodes[i-1]).nodeType==1&&u.contentEditable=="false"&&u.getBoundingClientRect().top>=t.top&&i--,r==e.dom&&i==r.childNodes.length-1&&r.lastChild.nodeType==1&&t.top>r.lastChild.getBoundingClientRect().bottom?a=e.state.doc.content.size:(i==0||r.nodeType!=1||r.childNodes[i-1].nodeName!="BR")&&(a=gte(e,r,i,t))}a==null&&(a=mte(e,o,t));let l=e.docView.nearestDesc(o,!0);return{pos:a,inside:l?l.posAtStart-l.border:-1}}function PT(e){return e.top<e.bottom||e.left<e.right}function Is(e,t){let n=e.getClientRects();if(n.length){let r=n[t<0?0:n.length-1];if(PT(r))return r}return Array.prototype.find.call(n,PT)||e.getBoundingClientRect()}const yte=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function V2(e,t,n){let{node:r,offset:i,atom:s}=e.docView.domFromPos(t,n<0?-1:1),o=Wc||li;if(r.nodeType==3)if(o&&(yte.test(r.nodeValue)||(n<0?!i:i==r.nodeValue.length))){let l=Is(Zi(r,i,i),n);if(li&&i&&/\s/.test(r.nodeValue[i-1])&&i<r.nodeValue.length){let u=Is(Zi(r,i-1,i-1),-1);if(u.top==l.top){let c=Is(Zi(r,i,i+1),-1);if(c.top!=l.top)return eu(c,c.left<u.left)}}return l}else{let l=i,u=i,c=n<0?1:-1;return n<0&&!i?(u++,c=-1):n>=0&&i==r.nodeValue.length?(l--,c=1):n<0?l--:u++,eu(Is(Zi(r,l,u),c),c<0)}if(!e.state.doc.resolve(t-(s||0)).parent.inlineContent){if(s==null&&i&&(n<0||i==Nr(r))){let l=r.childNodes[i-1];if(l.nodeType==1)return km(l.getBoundingClientRect(),!1)}if(s==null&&i<Nr(r)){let l=r.childNodes[i];if(l.nodeType==1)return km(l.getBoundingClientRect(),!0)}return km(r.getBoundingClientRect(),n>=0)}if(s==null&&i&&(n<0||i==Nr(r))){let l=r.childNodes[i-1],u=l.nodeType==3?Zi(l,Nr(l)-(o?0:1)):l.nodeType==1&&(l.nodeName!="BR"||!l.nextSibling)?l:null;if(u)return eu(Is(u,1),!1)}if(s==null&&i<Nr(r)){let l=r.childNodes[i];for(;l.pmViewDesc&&l.pmViewDesc.ignoreForCoords;)l=l.nextSibling;let u=l?l.nodeType==3?Zi(l,0,o?0:1):l.nodeType==1?l:null:null;if(u)return eu(Is(u,-1),!0)}return eu(Is(r.nodeType==3?Zi(r):r,-n),n>=0)}function eu(e,t){if(e.width==0)return e;let n=t?e.left:e.right;return{top:e.top,bottom:e.bottom,left:n,right:n}}function km(e,t){if(e.height==0)return e;let n=t?e.top:e.bottom;return{top:n,bottom:n,left:e.left,right:e.right}}function j2(e,t,n){let r=e.state,i=e.root.activeElement;r!=t&&e.updateState(t),i!=e.dom&&e.focus();try{return n()}finally{r!=t&&e.updateState(r),i!=e.dom&&i&&i.focus()}}function _te(e,t,n){let r=t.selection,i=n=="up"?r.$from:r.$to;return j2(e,t,()=>{let{node:s}=e.docView.domFromPos(i.pos,n=="up"?-1:1);for(;;){let a=e.docView.nearestDesc(s,!0);if(!a)break;if(a.node.isBlock){s=a.contentDOM||a.dom;break}s=a.dom.parentNode}let o=V2(e,i.pos,1);for(let a=s.firstChild;a;a=a.nextSibling){let l;if(a.nodeType==1)l=a.getClientRects();else if(a.nodeType==3)l=Zi(a,0,a.nodeValue.length).getClientRects();else continue;for(let u=0;u<l.length;u++){let c=l[u];if(c.bottom>c.top+1&&(n=="up"?o.top-c.top>(c.bottom-o.top)*2:c.bottom-o.bottom>(o.bottom-c.top)*2))return!1}}return!0})}const Ete=/[\u0590-\u08ac]/;function vte(e,t,n){let{$head:r}=t.selection;if(!r.parent.isTextblock)return!1;let i=r.parentOffset,s=!i,o=i==r.parent.content.size,a=e.domSelection();return a?!Ete.test(r.parent.textContent)||!a.modify?n=="left"||n=="backward"?s:o:j2(e,t,()=>{let{focusNode:l,focusOffset:u,anchorNode:c,anchorOffset:d}=e.domSelectionRange(),f=a.caretBidiLevel;a.modify("move",n,"character");let p=r.depth?e.docView.domAfterPos(r.before()):e.dom,{focusNode:m,focusOffset:g}=e.domSelectionRange(),b=m&&!p.contains(m.nodeType==1?m:m.parentNode)||l==m&&u==g;try{a.collapse(c,d),l&&(l!=c||u!=d)&&a.extend&&a.extend(l,u)}catch{}return f!=null&&(a.caretBidiLevel=f),b}):r.pos==r.start()||r.pos==r.end()}let LT=null,BT=null,$T=!1;function Tte(e,t,n){return LT==t&&BT==n?$T:(LT=t,BT=n,$T=n=="up"||n=="down"?_te(e,t,n):vte(e,t,n))}const $r=0,FT=1,Lo=2,Ui=3;class Yc{constructor(t,n,r,i){this.parent=t,this.children=n,this.dom=r,this.contentDOM=i,this.dirty=$r,r.pmViewDesc=this}matchesWidget(t){return!1}matchesMark(t){return!1}matchesNode(t,n,r){return!1}matchesHack(t){return!1}parseRule(){return null}stopEvent(t){return!1}get size(){let t=0;for(let n=0;n<this.children.length;n++)t+=this.children[n].size;return t}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let t=0;t<this.children.length;t++)this.children[t].destroy()}posBeforeChild(t){for(let n=0,r=this.posAtStart;;n++){let i=this.children[n];if(i==t)return r;r+=i.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(t,n,r){if(this.contentDOM&&this.contentDOM.contains(t.nodeType==1?t:t.parentNode))if(r<0){let s,o;if(t==this.contentDOM)s=t.childNodes[n-1];else{for(;t.parentNode!=this.contentDOM;)t=t.parentNode;s=t.previousSibling}for(;s&&!((o=s.pmViewDesc)&&o.parent==this);)s=s.previousSibling;return s?this.posBeforeChild(o)+o.size:this.posAtStart}else{let s,o;if(t==this.contentDOM)s=t.childNodes[n];else{for(;t.parentNode!=this.contentDOM;)t=t.parentNode;s=t.nextSibling}for(;s&&!((o=s.pmViewDesc)&&o.parent==this);)s=s.nextSibling;return s?this.posBeforeChild(o):this.posAtEnd}let i;if(t==this.dom&&this.contentDOM)i=n>_n(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))i=t.compareDocumentPosition(this.contentDOM)&2;else if(this.dom.firstChild){if(n==0)for(let s=t;;s=s.parentNode){if(s==this.dom){i=!1;break}if(s.previousSibling)break}if(i==null&&n==t.childNodes.length)for(let s=t;;s=s.parentNode){if(s==this.dom){i=!0;break}if(s.nextSibling)break}}return i??r>0?this.posAtEnd:this.posAtStart}nearestDesc(t,n=!1){for(let r=!0,i=t;i;i=i.parentNode){let s=this.getDesc(i),o;if(s&&(!n||s.node))if(r&&(o=s.nodeDOM)&&!(o.nodeType==1?o.contains(t.nodeType==1?t:t.parentNode):o==t))r=!1;else return s}}getDesc(t){let n=t.pmViewDesc;for(let r=n;r;r=r.parent)if(r==this)return n}posFromDOM(t,n,r){for(let i=t;i;i=i.parentNode){let s=this.getDesc(i);if(s)return s.localPosFromDOM(t,n,r)}return-1}descAt(t){for(let n=0,r=0;n<this.children.length;n++){let i=this.children[n],s=r+i.size;if(r==t&&s!=r){for(;!i.border&&i.children.length;)for(let o=0;o<i.children.length;o++){let a=i.children[o];if(a.size){i=a;break}}return i}if(t<s)return i.descAt(t-r-i.border);r=s}}domFromPos(t,n){if(!this.contentDOM)return{node:this.dom,offset:0,atom:t+1};let r=0,i=0;for(let s=0;r<this.children.length;r++){let o=this.children[r],a=s+o.size;if(a>t||o instanceof W2){i=t-s;break}s=a}if(i)return this.children[r].domFromPos(i-this.children[r].border,n);for(let s;r&&!(s=this.children[r-1]).size&&s instanceof q2&&s.side>=0;r--);if(n<=0){let s,o=!0;for(;s=r?this.children[r-1]:null,!(!s||s.dom.parentNode==this.contentDOM);r--,o=!1);return s&&n&&o&&!s.border&&!s.domAtom?s.domFromPos(s.size,n):{node:this.contentDOM,offset:s?_n(s.dom)+1:0}}else{let s,o=!0;for(;s=r<this.children.length?this.children[r]:null,!(!s||s.dom.parentNode==this.contentDOM);r++,o=!1);return s&&o&&!s.border&&!s.domAtom?s.domFromPos(0,n):{node:this.contentDOM,offset:s?_n(s.dom):this.contentDOM.childNodes.length}}}parseRange(t,n,r=0){if(this.children.length==0)return{node:this.contentDOM,from:t,to:n,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let i=-1,s=-1;for(let o=r,a=0;;a++){let l=this.children[a],u=o+l.size;if(i==-1&&t<=u){let c=o+l.border;if(t>=c&&n<=u-l.border&&l.node&&l.contentDOM&&this.contentDOM.contains(l.contentDOM))return l.parseRange(t,n,c);t=o;for(let d=a;d>0;d--){let f=this.children[d-1];if(f.size&&f.dom.parentNode==this.contentDOM&&!f.emptyChildAt(1)){i=_n(f.dom)+1;break}t-=f.size}i==-1&&(i=0)}if(i>-1&&(u>n||a==this.children.length-1)){n=u;for(let c=a+1;c<this.children.length;c++){let d=this.children[c];if(d.size&&d.dom.parentNode==this.contentDOM&&!d.emptyChildAt(-1)){s=_n(d.dom);break}n+=d.size}s==-1&&(s=this.contentDOM.childNodes.length);break}o=u}return{node:this.contentDOM,from:t,to:n,fromOffset:i,toOffset:s}}emptyChildAt(t){if(this.border||!this.contentDOM||!this.children.length)return!1;let n=this.children[t<0?0:this.children.length-1];return n.size==0||n.emptyChildAt(t)}domAfterPos(t){let{node:n,offset:r}=this.domFromPos(t,0);if(n.nodeType!=1||r==n.childNodes.length)throw new RangeError("No node after pos "+t);return n.childNodes[r]}setSelection(t,n,r,i=!1){let s=Math.min(t,n),o=Math.max(t,n);for(let p=0,m=0;p<this.children.length;p++){let g=this.children[p],b=m+g.size;if(s>m&&o<b)return g.setSelection(t-m-g.border,n-m-g.border,r,i);m=b}let a=this.domFromPos(t,t?-1:1),l=n==t?a:this.domFromPos(n,n?-1:1),u=r.root.getSelection(),c=r.domSelectionRange(),d=!1;if((li||Vn)&&t==n){let{node:p,offset:m}=a;if(p.nodeType==3){if(d=!!(m&&p.nodeValue[m-1]==`
`),d&&m==p.nodeValue.length)for(let g=p,b;g;g=g.parentNode){if(b=g.nextSibling){b.nodeName=="BR"&&(a=l={node:b.parentNode,offset:_n(b)+1});break}let y=g.pmViewDesc;if(y&&y.node&&y.node.isBlock)break}}else{let g=p.childNodes[m-1];d=g&&(g.nodeName=="BR"||g.contentEditable=="false")}}if(li&&c.focusNode&&c.focusNode!=l.node&&c.focusNode.nodeType==1){let p=c.focusNode.childNodes[c.focusOffset];p&&p.contentEditable=="false"&&(i=!0)}if(!(i||d&&Vn)&&ta(a.node,a.offset,c.anchorNode,c.anchorOffset)&&ta(l.node,l.offset,c.focusNode,c.focusOffset))return;let f=!1;if((u.extend||t==n)&&!d){u.collapse(a.node,a.offset);try{t!=n&&u.extend(l.node,l.offset),f=!0}catch{}}if(!f){if(t>n){let m=a;a=l,l=m}let p=document.createRange();p.setEnd(l.node,l.offset),p.setStart(a.node,a.offset),u.removeAllRanges(),u.addRange(p)}}ignoreMutation(t){return!this.contentDOM&&t.type!="selection"}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(t,n){for(let r=0,i=0;i<this.children.length;i++){let s=this.children[i],o=r+s.size;if(r==o?t<=o&&n>=r:t<o&&n>r){let a=r+s.border,l=o-s.border;if(t>=a&&n<=l){this.dirty=t==r||n==o?Lo:FT,t==a&&n==l&&(s.contentLost||s.dom.parentNode!=this.contentDOM)?s.dirty=Ui:s.markDirty(t-a,n-a);return}else s.dirty=s.dom==s.contentDOM&&s.dom.parentNode==this.contentDOM&&!s.children.length?Lo:Ui}r=o}this.dirty=Lo}markParentsDirty(){let t=1;for(let n=this.parent;n;n=n.parent,t++){let r=t==1?Lo:FT;n.dirty<r&&(n.dirty=r)}}get domAtom(){return!1}get ignoreForCoords(){return!1}isText(t){return!1}}class q2 extends Yc{constructor(t,n,r,i){let s,o=n.type.toDOM;if(typeof o=="function"&&(o=o(r,()=>{if(!s)return i;if(s.parent)return s.parent.posBeforeChild(s)})),!n.type.spec.raw){if(o.nodeType!=1){let a=document.createElement("span");a.appendChild(o),o=a}o.contentEditable="false",o.classList.add("ProseMirror-widget")}super(t,[],o,null),this.widget=n,this.widget=n,s=this}matchesWidget(t){return this.dirty==$r&&t.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(t){let n=this.widget.spec.stopEvent;return n?n(t):!1}ignoreMutation(t){return t.type!="selection"||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get side(){return this.widget.type.side}}class wte extends Yc{constructor(t,n,r,i){super(t,[],n,null),this.textDOM=r,this.text=i}get size(){return this.text.length}localPosFromDOM(t,n){return t!=this.textDOM?this.posAtStart+(n?this.size:0):this.posAtStart+n}domFromPos(t){return{node:this.textDOM,offset:t}}ignoreMutation(t){return t.type==="characterData"&&t.target.nodeValue==t.oldValue}}class na extends Yc{constructor(t,n,r,i,s){super(t,[],r,i),this.mark=n,this.spec=s}static create(t,n,r,i){let s=i.nodeViews[n.type.name],o=s&&s(n,i,r);return(!o||!o.dom)&&(o=ai.renderSpec(document,n.type.spec.toDOM(n,r),null,n.attrs)),new na(t,n,o.dom,o.contentDOM||o.dom,o)}parseRule(){return this.dirty&Ui||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}}matchesMark(t){return this.dirty!=Ui&&this.mark.eq(t)}markDirty(t,n){if(super.markDirty(t,n),this.dirty!=$r){let r=this.parent;for(;!r.node;)r=r.parent;r.dirty<this.dirty&&(r.dirty=this.dirty),this.dirty=$r}}slice(t,n,r){let i=na.create(this.parent,this.mark,!0,r),s=this.children,o=this.size;n<o&&(s=g0(s,n,o,r)),t>0&&(s=g0(s,0,t,r));for(let a=0;a<s.length;a++)s[a].parent=i;return i.children=s,i}ignoreMutation(t){return this.spec.ignoreMutation?this.spec.ignoreMutation(t):super.ignoreMutation(t)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}}class eo extends Yc{constructor(t,n,r,i,s,o,a,l,u){super(t,[],s,o),this.node=n,this.outerDeco=r,this.innerDeco=i,this.nodeDOM=a}static create(t,n,r,i,s,o){let a=s.nodeViews[n.type.name],l,u=a&&a(n,s,()=>{if(!l)return o;if(l.parent)return l.parent.posBeforeChild(l)},r,i),c=u&&u.dom,d=u&&u.contentDOM;if(n.isText){if(!c)c=document.createTextNode(n.text);else if(c.nodeType!=3)throw new RangeError("Text must be rendered as a DOM text node")}else c||({dom:c,contentDOM:d}=ai.renderSpec(document,n.type.spec.toDOM(n),null,n.attrs));!d&&!n.isText&&c.nodeName!="BR"&&(c.hasAttribute("contenteditable")||(c.contentEditable="false"),n.type.spec.draggable&&(c.draggable=!0));let f=c;return c=K2(c,r,n),u?l=new xte(t,n,r,i,c,d||null,f,u,s,o+1):n.isText?new Kp(t,n,r,i,c,f,s):new eo(t,n,r,i,c,d||null,f,s,o+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let t={node:this.node.type.name,attrs:this.node.attrs};if(this.node.type.whitespace=="pre"&&(t.preserveWhitespace="full"),!this.contentDOM)t.getContent=()=>this.node.content;else if(!this.contentLost)t.contentElement=this.contentDOM;else{for(let n=this.children.length-1;n>=0;n--){let r=this.children[n];if(this.dom.contains(r.dom.parentNode)){t.contentElement=r.dom.parentNode;break}}t.contentElement||(t.getContent=()=>se.empty)}return t}matchesNode(t,n,r){return this.dirty==$r&&t.eq(this.node)&&zf(n,this.outerDeco)&&r.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(t,n){let r=this.node.inlineContent,i=n,s=t.composing?this.localCompositionInfo(t,n):null,o=s&&s.pos>-1?s:null,a=s&&s.pos<0,l=new Ste(this,o&&o.node,t);Ote(this.node,this.innerDeco,(u,c,d)=>{u.spec.marks?l.syncToMarks(u.spec.marks,r,t):u.type.side>=0&&!d&&l.syncToMarks(c==this.node.childCount?ht.none:this.node.child(c).marks,r,t),l.placeWidget(u,t,i)},(u,c,d,f)=>{l.syncToMarks(u.marks,r,t);let p;l.findNodeMatch(u,c,d,f)||a&&t.state.selection.from>i&&t.state.selection.to<i+u.nodeSize&&(p=l.findIndexWithChild(s.node))>-1&&l.updateNodeAt(u,c,d,p,t)||l.updateNextNode(u,c,d,t,f,i)||l.addNode(u,c,d,t,i),i+=u.nodeSize}),l.syncToMarks([],r,t),this.node.isTextblock&&l.addTextblockHacks(),l.destroyRest(),(l.changed||this.dirty==Lo)&&(o&&this.protectLocalComposition(t,o),Y2(this.contentDOM,this.children,t),cl&&Ite(this.dom))}localCompositionInfo(t,n){let{from:r,to:i}=t.state.selection;if(!(t.state.selection instanceof Ue)||r<n||i>n+this.node.content.size)return null;let s=t.input.compositionNode;if(!s||!this.dom.contains(s.parentNode))return null;if(this.node.inlineContent){let o=s.nodeValue,a=Nte(this.node.content,o,r-n,i-n);return a<0?null:{node:s,pos:a,text:o}}else return{node:s,pos:-1,text:""}}protectLocalComposition(t,{node:n,pos:r,text:i}){if(this.getDesc(n))return;let s=n;for(;s.parentNode!=this.contentDOM;s=s.parentNode){for(;s.previousSibling;)s.parentNode.removeChild(s.previousSibling);for(;s.nextSibling;)s.parentNode.removeChild(s.nextSibling);s.pmViewDesc&&(s.pmViewDesc=void 0)}let o=new wte(this,s,n,i);t.input.compositionNodes.push(o),this.children=g0(this.children,r,r+i.length,t,o)}update(t,n,r,i){return this.dirty==Ui||!t.sameMarkup(this.node)?!1:(this.updateInner(t,n,r,i),!0)}updateInner(t,n,r,i){this.updateOuterDeco(n),this.node=t,this.innerDeco=r,this.contentDOM&&this.updateChildren(i,this.posAtStart),this.dirty=$r}updateOuterDeco(t){if(zf(t,this.outerDeco))return;let n=this.nodeDOM.nodeType!=1,r=this.dom;this.dom=G2(this.dom,this.nodeDOM,m0(this.outerDeco,this.node,n),m0(t,this.node,n)),this.dom!=r&&(r.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=t}selectNode(){this.nodeDOM.nodeType==1&&this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.dom.draggable=!0)}deselectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.dom.removeAttribute("draggable"))}get domAtom(){return this.node.isAtom}}function UT(e,t,n,r,i){K2(r,t,e);let s=new eo(void 0,e,t,n,r,r,r,i,0);return s.contentDOM&&s.updateChildren(i,0),s}class Kp extends eo{constructor(t,n,r,i,s,o,a){super(t,n,r,i,s,null,o,a,0)}parseRule(){let t=this.nodeDOM.parentNode;for(;t&&t!=this.dom&&!t.pmIsDeco;)t=t.parentNode;return{skip:t||!0}}update(t,n,r,i){return this.dirty==Ui||this.dirty!=$r&&!this.inParent()||!t.sameMarkup(this.node)?!1:(this.updateOuterDeco(n),(this.dirty!=$r||t.text!=this.node.text)&&t.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=t.text,i.trackWrites==this.nodeDOM&&(i.trackWrites=null)),this.node=t,this.dirty=$r,!0)}inParent(){let t=this.parent.contentDOM;for(let n=this.nodeDOM;n;n=n.parentNode)if(n==t)return!0;return!1}domFromPos(t){return{node:this.nodeDOM,offset:t}}localPosFromDOM(t,n,r){return t==this.nodeDOM?this.posAtStart+Math.min(n,this.node.text.length):super.localPosFromDOM(t,n,r)}ignoreMutation(t){return t.type!="characterData"&&t.type!="selection"}slice(t,n,r){let i=this.node.cut(t,n),s=document.createTextNode(i.text);return new Kp(this.parent,i,this.outerDeco,this.innerDeco,s,s,r)}markDirty(t,n){super.markDirty(t,n),this.dom!=this.nodeDOM&&(t==0||n==this.nodeDOM.nodeValue.length)&&(this.dirty=Ui)}get domAtom(){return!1}isText(t){return this.node.text==t}}class W2 extends Yc{parseRule(){return{ignore:!0}}matchesHack(t){return this.dirty==$r&&this.dom.nodeName==t}get domAtom(){return!0}get ignoreForCoords(){return this.dom.nodeName=="IMG"}}class xte extends eo{constructor(t,n,r,i,s,o,a,l,u,c){super(t,n,r,i,s,o,a,u,c),this.spec=l}update(t,n,r,i){if(this.dirty==Ui)return!1;if(this.spec.update&&(this.node.type==t.type||this.spec.multiType)){let s=this.spec.update(t,n,r);return s&&this.updateInner(t,n,r,i),s}else return!this.contentDOM&&!t.isLeaf?!1:super.update(t,n,r,i)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(t,n,r,i){this.spec.setSelection?this.spec.setSelection(t,n,r.root):super.setSelection(t,n,r,i)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(t){return this.spec.stopEvent?this.spec.stopEvent(t):!1}ignoreMutation(t){return this.spec.ignoreMutation?this.spec.ignoreMutation(t):super.ignoreMutation(t)}}function Y2(e,t,n){let r=e.firstChild,i=!1;for(let s=0;s<t.length;s++){let o=t[s],a=o.dom;if(a.parentNode==e){for(;a!=r;)r=HT(r),i=!0;r=r.nextSibling}else i=!0,e.insertBefore(a,r);if(o instanceof na){let l=r?r.previousSibling:e.lastChild;Y2(o.contentDOM,o.children,n),r=l?l.nextSibling:e.firstChild}}for(;r;)r=HT(r),i=!0;i&&n.trackWrites==e&&(n.trackWrites=null)}const Pu=function(e){e&&(this.nodeName=e)};Pu.prototype=Object.create(null);const Bo=[new Pu];function m0(e,t,n){if(e.length==0)return Bo;let r=n?Bo[0]:new Pu,i=[r];for(let s=0;s<e.length;s++){let o=e[s].type.attrs;if(o){o.nodeName&&i.push(r=new Pu(o.nodeName));for(let a in o){let l=o[a];l!=null&&(n&&i.length==1&&i.push(r=new Pu(t.isInline?"span":"div")),a=="class"?r.class=(r.class?r.class+" ":"")+l:a=="style"?r.style=(r.style?r.style+";":"")+l:a!="nodeName"&&(r[a]=l))}}}return i}function G2(e,t,n,r){if(n==Bo&&r==Bo)return t;let i=t;for(let s=0;s<r.length;s++){let o=r[s],a=n[s];if(s){let l;a&&a.nodeName==o.nodeName&&i!=e&&(l=i.parentNode)&&l.nodeName.toLowerCase()==o.nodeName||(l=document.createElement(o.nodeName),l.pmIsDeco=!0,l.appendChild(i),a=Bo[0]),i=l}Cte(i,a||Bo[0],o)}return i}function Cte(e,t,n){for(let r in t)r!="class"&&r!="style"&&r!="nodeName"&&!(r in n)&&e.removeAttribute(r);for(let r in n)r!="class"&&r!="style"&&r!="nodeName"&&n[r]!=t[r]&&e.setAttribute(r,n[r]);if(t.class!=n.class){let r=t.class?t.class.split(" ").filter(Boolean):[],i=n.class?n.class.split(" ").filter(Boolean):[];for(let s=0;s<r.length;s++)i.indexOf(r[s])==-1&&e.classList.remove(r[s]);for(let s=0;s<i.length;s++)r.indexOf(i[s])==-1&&e.classList.add(i[s]);e.classList.length==0&&e.removeAttribute("class")}if(t.style!=n.style){if(t.style){let r=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,i;for(;i=r.exec(t.style);)e.style.removeProperty(i[1])}n.style&&(e.style.cssText+=n.style)}}function K2(e,t,n){return G2(e,e,Bo,m0(t,n,e.nodeType!=1))}function zf(e,t){if(e.length!=t.length)return!1;for(let n=0;n<e.length;n++)if(!e[n].type.eq(t[n].type))return!1;return!0}function HT(e){let t=e.nextSibling;return e.parentNode.removeChild(e),t}class Ste{constructor(t,n,r){this.lock=n,this.view=r,this.index=0,this.stack=[],this.changed=!1,this.top=t,this.preMatch=Ate(t.node.content,t)}destroyBetween(t,n){if(t!=n){for(let r=t;r<n;r++)this.top.children[r].destroy();this.top.children.splice(t,n-t),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(t,n,r){let i=0,s=this.stack.length>>1,o=Math.min(s,t.length);for(;i<o&&(i==s-1?this.top:this.stack[i+1<<1]).matchesMark(t[i])&&t[i].type.spec.spanning!==!1;)i++;for(;i<s;)this.destroyRest(),this.top.dirty=$r,this.index=this.stack.pop(),this.top=this.stack.pop(),s--;for(;s<t.length;){this.stack.push(this.top,this.index+1);let a=-1;for(let l=this.index;l<Math.min(this.index+3,this.top.children.length);l++){let u=this.top.children[l];if(u.matchesMark(t[s])&&!this.isLocked(u.dom)){a=l;break}}if(a>-1)a>this.index&&(this.changed=!0,this.destroyBetween(this.index,a)),this.top=this.top.children[this.index];else{let l=na.create(this.top,t[s],n,r);this.top.children.splice(this.index,0,l),this.top=l,this.changed=!0}this.index=0,s++}}findNodeMatch(t,n,r,i){let s=-1,o;if(i>=this.preMatch.index&&(o=this.preMatch.matches[i-this.preMatch.index]).parent==this.top&&o.matchesNode(t,n,r))s=this.top.children.indexOf(o,this.index);else for(let a=this.index,l=Math.min(this.top.children.length,a+5);a<l;a++){let u=this.top.children[a];if(u.matchesNode(t,n,r)&&!this.preMatch.matched.has(u)){s=a;break}}return s<0?!1:(this.destroyBetween(this.index,s),this.index++,!0)}updateNodeAt(t,n,r,i,s){let o=this.top.children[i];return o.dirty==Ui&&o.dom==o.contentDOM&&(o.dirty=Lo),o.update(t,n,r,s)?(this.destroyBetween(this.index,i),this.index++,!0):!1}findIndexWithChild(t){for(;;){let n=t.parentNode;if(!n)return-1;if(n==this.top.contentDOM){let r=t.pmViewDesc;if(r){for(let i=this.index;i<this.top.children.length;i++)if(this.top.children[i]==r)return i}return-1}t=n}}updateNextNode(t,n,r,i,s,o){for(let a=this.index;a<this.top.children.length;a++){let l=this.top.children[a];if(l instanceof eo){let u=this.preMatch.matched.get(l);if(u!=null&&u!=s)return!1;let c=l.dom,d,f=this.isLocked(c)&&!(t.isText&&l.node&&l.node.isText&&l.nodeDOM.nodeValue==t.text&&l.dirty!=Ui&&zf(n,l.outerDeco));if(!f&&l.update(t,n,r,i))return this.destroyBetween(this.index,a),l.dom!=c&&(this.changed=!0),this.index++,!0;if(!f&&(d=this.recreateWrapper(l,t,n,r,i,o)))return this.destroyBetween(this.index,a),this.top.children[this.index]=d,d.contentDOM&&(d.dirty=Lo,d.updateChildren(i,o+1),d.dirty=$r),this.changed=!0,this.index++,!0;break}}return!1}recreateWrapper(t,n,r,i,s,o){if(t.dirty||n.isAtom||!t.children.length||!t.node.content.eq(n.content)||!zf(r,t.outerDeco)||!i.eq(t.innerDeco))return null;let a=eo.create(this.top,n,r,i,s,o);if(a.contentDOM){a.children=t.children,t.children=[];for(let l of a.children)l.parent=a}return t.destroy(),a}addNode(t,n,r,i,s){let o=eo.create(this.top,t,n,r,i,s);o.contentDOM&&o.updateChildren(i,s+1),this.top.children.splice(this.index++,0,o),this.changed=!0}placeWidget(t,n,r){let i=this.index<this.top.children.length?this.top.children[this.index]:null;if(i&&i.matchesWidget(t)&&(t==i.widget||!i.widget.type.toDOM.parentNode))this.index++;else{let s=new q2(this.top,t,n,r);this.top.children.splice(this.index++,0,s),this.changed=!0}}addTextblockHacks(){let t=this.top.children[this.index-1],n=this.top;for(;t instanceof na;)n=t,t=n.children[n.children.length-1];(!t||!(t instanceof Kp)||/\n$/.test(t.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(t.node.text))&&((Vn||Nn)&&t&&t.dom.contentEditable=="false"&&this.addHackNode("IMG",n),this.addHackNode("BR",this.top))}addHackNode(t,n){if(n==this.top&&this.index<n.children.length&&n.children[this.index].matchesHack(t))this.index++;else{let r=document.createElement(t);t=="IMG"&&(r.className="ProseMirror-separator",r.alt=""),t=="BR"&&(r.className="ProseMirror-trailingBreak");let i=new W2(this.top,[],r,null);n!=this.top?n.children.push(i):n.children.splice(this.index++,0,i),this.changed=!0}}isLocked(t){return this.lock&&(t==this.lock||t.nodeType==1&&t.contains(this.lock.parentNode))}}function Ate(e,t){let n=t,r=n.children.length,i=e.childCount,s=new Map,o=[];e:for(;i>0;){let a;for(;;)if(r){let u=n.children[r-1];if(u instanceof na)n=u,r=u.children.length;else{a=u,r--;break}}else{if(n==t)break e;r=n.parent.children.indexOf(n),n=n.parent}let l=a.node;if(l){if(l!=e.child(i-1))break;--i,s.set(a,i),o.push(a)}}return{index:i,matched:s,matches:o.reverse()}}function kte(e,t){return e.type.side-t.type.side}function Ote(e,t,n,r){let i=t.locals(e),s=0;if(i.length==0){for(let u=0;u<e.childCount;u++){let c=e.child(u);r(c,i,t.forChild(s,c),u),s+=c.nodeSize}return}let o=0,a=[],l=null;for(let u=0;;){let c,d;for(;o<i.length&&i[o].to==s;){let b=i[o++];b.widget&&(c?(d||(d=[c])).push(b):c=b)}if(c)if(d){d.sort(kte);for(let b=0;b<d.length;b++)n(d[b],u,!!l)}else n(c,u,!!l);let f,p;if(l)p=-1,f=l,l=null;else if(u<e.childCount)p=u,f=e.child(u++);else break;for(let b=0;b<a.length;b++)a[b].to<=s&&a.splice(b--,1);for(;o<i.length&&i[o].from<=s&&i[o].to>s;)a.push(i[o++]);let m=s+f.nodeSize;if(f.isText){let b=m;o<i.length&&i[o].from<b&&(b=i[o].from);for(let y=0;y<a.length;y++)a[y].to<b&&(b=a[y].to);b<m&&(l=f.cut(b-s),f=f.cut(0,b-s),m=b,p=-1)}else for(;o<i.length&&i[o].to<m;)o++;let g=f.isInline&&!f.isLeaf?a.filter(b=>!b.inline):a.slice();r(f,g,t.forChild(s,f),p),s=m}}function Ite(e){if(e.nodeName=="UL"||e.nodeName=="OL"){let t=e.style.cssText;e.style.cssText=t+"; list-style: square !important",window.getComputedStyle(e).listStyle,e.style.cssText=t}}function Nte(e,t,n,r){for(let i=0,s=0;i<e.childCount&&s<=r;){let o=e.child(i++),a=s;if(s+=o.nodeSize,!o.isText)continue;let l=o.text;for(;i<e.childCount;){let u=e.child(i++);if(s+=u.nodeSize,!u.isText)break;l+=u.text}if(s>=n){if(s>=r&&l.slice(r-t.length-a,r-a)==t)return r-t.length;let u=a<r?l.lastIndexOf(t,r-a-1):-1;if(u>=0&&u+t.length+a>=n)return a+u;if(n==r&&l.length>=r+t.length-a&&l.slice(r-a,r-a+t.length)==t)return r}}return-1}function g0(e,t,n,r,i){let s=[];for(let o=0,a=0;o<e.length;o++){let l=e[o],u=a,c=a+=l.size;u>=n||c<=t?s.push(l):(u<t&&s.push(l.slice(0,t-u,r)),i&&(s.push(i),i=void 0),c>n&&s.push(l.slice(n-u,l.size,r)))}return s}function w1(e,t=null){let n=e.domSelectionRange(),r=e.state.doc;if(!n.focusNode)return null;let i=e.docView.nearestDesc(n.focusNode),s=i&&i.size==0,o=e.docView.posFromDOM(n.focusNode,n.focusOffset,1);if(o<0)return null;let a=r.resolve(o),l,u;if(Gp(n)){for(l=o;i&&!i.node;)i=i.parent;let d=i.node;if(i&&d.isAtom&&ze.isSelectable(d)&&i.parent&&!(d.isInline&&rte(n.focusNode,n.focusOffset,i.dom))){let f=i.posBefore;u=new ze(o==f?a:r.resolve(f))}}else{if(n instanceof e.dom.ownerDocument.defaultView.Selection&&n.rangeCount>1){let d=o,f=o;for(let p=0;p<n.rangeCount;p++){let m=n.getRangeAt(p);d=Math.min(d,e.docView.posFromDOM(m.startContainer,m.startOffset,1)),f=Math.max(f,e.docView.posFromDOM(m.endContainer,m.endOffset,-1))}if(d<0)return null;[l,o]=f==e.state.selection.anchor?[f,d]:[d,f],a=r.resolve(o)}else l=e.docView.posFromDOM(n.anchorNode,n.anchorOffset,1);if(l<0)return null}let c=r.resolve(l);if(!u){let d=t=="pointer"||e.state.selection.head<a.pos&&!s?1:-1;u=x1(e,c,a,d)}return u}function X2(e){return e.editable?e.hasFocus():J2(e)&&document.activeElement&&document.activeElement.contains(e.dom)}function fs(e,t=!1){let n=e.state.selection;if(Q2(e,n),!!X2(e)){if(!t&&e.input.mouseDown&&e.input.mouseDown.allowDefault&&Nn){let r=e.domSelectionRange(),i=e.domObserver.currentSelection;if(r.anchorNode&&i.anchorNode&&ta(r.anchorNode,r.anchorOffset,i.anchorNode,i.anchorOffset)){e.input.mouseDown.delayedSelectionSync=!0,e.domObserver.setCurSelection();return}}if(e.domObserver.disconnectSelection(),e.cursorWrapper)Dte(e);else{let{anchor:r,head:i}=n,s,o;zT&&!(n instanceof Ue)&&(n.$from.parent.inlineContent||(s=VT(e,n.from)),!n.empty&&!n.$from.parent.inlineContent&&(o=VT(e,n.to))),e.docView.setSelection(r,i,e,t),zT&&(s&&jT(s),o&&jT(o)),n.visible?e.dom.classList.remove("ProseMirror-hideselection"):(e.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&Rte(e))}e.domObserver.setCurSelection(),e.domObserver.connectSelection()}}const zT=Vn||Nn&&$2<63;function VT(e,t){let{node:n,offset:r}=e.docView.domFromPos(t,0),i=r<n.childNodes.length?n.childNodes[r]:null,s=r?n.childNodes[r-1]:null;if(Vn&&i&&i.contentEditable=="false")return Om(i);if((!i||i.contentEditable=="false")&&(!s||s.contentEditable=="false")){if(i)return Om(i);if(s)return Om(s)}}function Om(e){return e.contentEditable="true",Vn&&e.draggable&&(e.draggable=!1,e.wasDraggable=!0),e}function jT(e){e.contentEditable="false",e.wasDraggable&&(e.draggable=!0,e.wasDraggable=null)}function Rte(e){let t=e.dom.ownerDocument;t.removeEventListener("selectionchange",e.input.hideSelectionGuard);let n=e.domSelectionRange(),r=n.anchorNode,i=n.anchorOffset;t.addEventListener("selectionchange",e.input.hideSelectionGuard=()=>{(n.anchorNode!=r||n.anchorOffset!=i)&&(t.removeEventListener("selectionchange",e.input.hideSelectionGuard),setTimeout(()=>{(!X2(e)||e.state.selection.visible)&&e.dom.classList.remove("ProseMirror-hideselection")},20))})}function Dte(e){let t=e.domSelection(),n=document.createRange();if(!t)return;let r=e.cursorWrapper.dom,i=r.nodeName=="IMG";i?n.setStart(r.parentNode,_n(r)+1):n.setStart(r,0),n.collapse(!0),t.removeAllRanges(),t.addRange(n),!i&&!e.state.selection.visible&&nr&&Zs<=11&&(r.disabled=!0,r.disabled=!1)}function Q2(e,t){if(t instanceof ze){let n=e.docView.descAt(t.from);n!=e.lastSelectedViewDesc&&(qT(e),n&&n.selectNode(),e.lastSelectedViewDesc=n)}else qT(e)}function qT(e){e.lastSelectedViewDesc&&(e.lastSelectedViewDesc.parent&&e.lastSelectedViewDesc.deselectNode(),e.lastSelectedViewDesc=void 0)}function x1(e,t,n,r){return e.someProp("createSelectionBetween",i=>i(e,t,n))||Ue.between(t,n,r)}function WT(e){return e.editable&&!e.hasFocus()?!1:J2(e)}function J2(e){let t=e.domSelectionRange();if(!t.anchorNode)return!1;try{return e.dom.contains(t.anchorNode.nodeType==3?t.anchorNode.parentNode:t.anchorNode)&&(e.editable||e.dom.contains(t.focusNode.nodeType==3?t.focusNode.parentNode:t.focusNode))}catch{return!1}}function Mte(e){let t=e.docView.domFromPos(e.state.selection.anchor,0),n=e.domSelectionRange();return ta(t.node,t.offset,n.anchorNode,n.anchorOffset)}function b0(e,t){let{$anchor:n,$head:r}=e.selection,i=t>0?n.max(r):n.min(r),s=i.parent.inlineContent?i.depth?e.doc.resolve(t>0?i.after():i.before()):null:i;return s&&Fe.findFrom(s,t)}function Ls(e,t){return e.dispatch(e.state.tr.setSelection(t).scrollIntoView()),!0}function YT(e,t,n){let r=e.state.selection;if(r instanceof Ue)if(n.indexOf("s")>-1){let{$head:i}=r,s=i.textOffset?null:t<0?i.nodeBefore:i.nodeAfter;if(!s||s.isText||!s.isLeaf)return!1;let o=e.state.doc.resolve(i.pos+s.nodeSize*(t<0?-1:1));return Ls(e,new Ue(r.$anchor,o))}else if(r.empty){if(e.endOfTextblock(t>0?"forward":"backward")){let i=b0(e.state,t);return i&&i instanceof ze?Ls(e,i):!1}else if(!(kr&&n.indexOf("m")>-1)){let i=r.$head,s=i.textOffset?null:t<0?i.nodeBefore:i.nodeAfter,o;if(!s||s.isText)return!1;let a=t<0?i.pos-s.nodeSize:i.pos;return s.isAtom||(o=e.docView.descAt(a))&&!o.contentDOM?ze.isSelectable(s)?Ls(e,new ze(t<0?e.state.doc.resolve(i.pos-s.nodeSize):i)):Wc?Ls(e,new Ue(e.state.doc.resolve(t<0?a:a+s.nodeSize))):!1:!1}}else return!1;else{if(r instanceof ze&&r.node.isInline)return Ls(e,new Ue(t>0?r.$to:r.$from));{let i=b0(e.state,t);return i?Ls(e,i):!1}}}function Vf(e){return e.nodeType==3?e.nodeValue.length:e.childNodes.length}function Lu(e,t){let n=e.pmViewDesc;return n&&n.size==0&&(t<0||e.nextSibling||e.nodeName!="BR")}function xa(e,t){return t<0?Pte(e):Lte(e)}function Pte(e){let t=e.domSelectionRange(),n=t.focusNode,r=t.focusOffset;if(!n)return;let i,s,o=!1;for(li&&n.nodeType==1&&r<Vf(n)&&Lu(n.childNodes[r],-1)&&(o=!0);;)if(r>0){if(n.nodeType!=1)break;{let a=n.childNodes[r-1];if(Lu(a,-1))i=n,s=--r;else if(a.nodeType==3)n=a,r=n.nodeValue.length;else break}}else{if(Z2(n))break;{let a=n.previousSibling;for(;a&&Lu(a,-1);)i=n.parentNode,s=_n(a),a=a.previousSibling;if(a)n=a,r=Vf(n);else{if(n=n.parentNode,n==e.dom)break;r=0}}}o?y0(e,n,r):i&&y0(e,i,s)}function Lte(e){let t=e.domSelectionRange(),n=t.focusNode,r=t.focusOffset;if(!n)return;let i=Vf(n),s,o;for(;;)if(r<i){if(n.nodeType!=1)break;let a=n.childNodes[r];if(Lu(a,1))s=n,o=++r;else break}else{if(Z2(n))break;{let a=n.nextSibling;for(;a&&Lu(a,1);)s=a.parentNode,o=_n(a)+1,a=a.nextSibling;if(a)n=a,r=0,i=Vf(n);else{if(n=n.parentNode,n==e.dom)break;r=i=0}}}s&&y0(e,s,o)}function Z2(e){let t=e.pmViewDesc;return t&&t.node&&t.node.isBlock}function Bte(e,t){for(;e&&t==e.childNodes.length&&!qc(e);)t=_n(e)+1,e=e.parentNode;for(;e&&t<e.childNodes.length;){let n=e.childNodes[t];if(n.nodeType==3)return n;if(n.nodeType==1&&n.contentEditable=="false")break;e=n,t=0}}function $te(e,t){for(;e&&!t&&!qc(e);)t=_n(e),e=e.parentNode;for(;e&&t;){let n=e.childNodes[t-1];if(n.nodeType==3)return n;if(n.nodeType==1&&n.contentEditable=="false")break;e=n,t=e.childNodes.length}}function y0(e,t,n){if(t.nodeType!=3){let s,o;(o=Bte(t,n))?(t=o,n=0):(s=$te(t,n))&&(t=s,n=s.nodeValue.length)}let r=e.domSelection();if(!r)return;if(Gp(r)){let s=document.createRange();s.setEnd(t,n),s.setStart(t,n),r.removeAllRanges(),r.addRange(s)}else r.extend&&r.extend(t,n);e.domObserver.setCurSelection();let{state:i}=e;setTimeout(()=>{e.state==i&&fs(e)},50)}function GT(e,t){let n=e.state.doc.resolve(t);if(!(Nn||ote)&&n.parent.inlineContent){let i=e.coordsAtPos(t);if(t>n.start()){let s=e.coordsAtPos(t-1),o=(s.top+s.bottom)/2;if(o>i.top&&o<i.bottom&&Math.abs(s.left-i.left)>1)return s.left<i.left?"ltr":"rtl"}if(t<n.end()){let s=e.coordsAtPos(t+1),o=(s.top+s.bottom)/2;if(o>i.top&&o<i.bottom&&Math.abs(s.left-i.left)>1)return s.left>i.left?"ltr":"rtl"}}return getComputedStyle(e.dom).direction=="rtl"?"rtl":"ltr"}function KT(e,t,n){let r=e.state.selection;if(r instanceof Ue&&!r.empty||n.indexOf("s")>-1||kr&&n.indexOf("m")>-1)return!1;let{$from:i,$to:s}=r;if(!i.parent.inlineContent||e.endOfTextblock(t<0?"up":"down")){let o=b0(e.state,t);if(o&&o instanceof ze)return Ls(e,o)}if(!i.parent.inlineContent){let o=t<0?i:s,a=r instanceof Hn?Fe.near(o,t):Fe.findFrom(o,t);return a?Ls(e,a):!1}return!1}function XT(e,t){if(!(e.state.selection instanceof Ue))return!0;let{$head:n,$anchor:r,empty:i}=e.state.selection;if(!n.sameParent(r))return!0;if(!i)return!1;if(e.endOfTextblock(t>0?"forward":"backward"))return!0;let s=!n.textOffset&&(t<0?n.nodeBefore:n.nodeAfter);if(s&&!s.isText){let o=e.state.tr;return t<0?o.delete(n.pos-s.nodeSize,n.pos):o.delete(n.pos,n.pos+s.nodeSize),e.dispatch(o),!0}return!1}function QT(e,t,n){e.domObserver.stop(),t.contentEditable=n,e.domObserver.start()}function Fte(e){if(!Vn||e.state.selection.$head.parentOffset>0)return!1;let{focusNode:t,focusOffset:n}=e.domSelectionRange();if(t&&t.nodeType==1&&n==0&&t.firstChild&&t.firstChild.contentEditable=="false"){let r=t.firstChild;QT(e,r,"true"),setTimeout(()=>QT(e,r,"false"),20)}return!1}function Ute(e){let t="";return e.ctrlKey&&(t+="c"),e.metaKey&&(t+="m"),e.altKey&&(t+="a"),e.shiftKey&&(t+="s"),t}function Hte(e,t){let n=t.keyCode,r=Ute(t);if(n==8||kr&&n==72&&r=="c")return XT(e,-1)||xa(e,-1);if(n==46&&!t.shiftKey||kr&&n==68&&r=="c")return XT(e,1)||xa(e,1);if(n==13||n==27)return!0;if(n==37||kr&&n==66&&r=="c"){let i=n==37?GT(e,e.state.selection.from)=="ltr"?-1:1:-1;return YT(e,i,r)||xa(e,i)}else if(n==39||kr&&n==70&&r=="c"){let i=n==39?GT(e,e.state.selection.from)=="ltr"?1:-1:1;return YT(e,i,r)||xa(e,i)}else{if(n==38||kr&&n==80&&r=="c")return KT(e,-1,r)||xa(e,-1);if(n==40||kr&&n==78&&r=="c")return Fte(e)||KT(e,1,r)||xa(e,1);if(r==(kr?"m":"c")&&(n==66||n==73||n==89||n==90))return!0}return!1}function C1(e,t){e.someProp("transformCopied",p=>{t=p(t,e)});let n=[],{content:r,openStart:i,openEnd:s}=t;for(;i>1&&s>1&&r.childCount==1&&r.firstChild.childCount==1;){i--,s--;let p=r.firstChild;n.push(p.type.name,p.attrs!=p.type.defaultAttrs?p.attrs:null),r=p.content}let o=e.someProp("clipboardSerializer")||ai.fromSchema(e.state.schema),a=sI(),l=a.createElement("div");l.appendChild(o.serializeFragment(r,{document:a}));let u=l.firstChild,c,d=0;for(;u&&u.nodeType==1&&(c=iI[u.nodeName.toLowerCase()]);){for(let p=c.length-1;p>=0;p--){let m=a.createElement(c[p]);for(;l.firstChild;)m.appendChild(l.firstChild);l.appendChild(m),d++}u=l.firstChild}u&&u.nodeType==1&&u.setAttribute("data-pm-slice",`${i} ${s}${d?` -${d}`:""} ${JSON.stringify(n)}`);let f=e.someProp("clipboardTextSerializer",p=>p(t,e))||t.content.textBetween(0,t.content.size,`

`);return{dom:l,text:f,slice:t}}function eI(e,t,n,r,i){let s=i.parent.type.spec.code,o,a;if(!n&&!t)return null;let l=t&&(r||s||!n);if(l){if(e.someProp("transformPastedText",f=>{t=f(t,s||r,e)}),s)return t?new he(se.from(e.state.schema.text(t.replace(/\r\n?/g,`
`))),0,0):he.empty;let d=e.someProp("clipboardTextParser",f=>f(t,i,r,e));if(d)a=d;else{let f=i.marks(),{schema:p}=e.state,m=ai.fromSchema(p);o=document.createElement("div"),t.split(/(?:\r\n?|\n)+/).forEach(g=>{let b=o.appendChild(document.createElement("p"));g&&b.appendChild(m.serializeNode(p.text(g,f)))})}}else e.someProp("transformPastedHTML",d=>{n=d(n,e)}),o=qte(n),Wc&&Wte(o);let u=o&&o.querySelector("[data-pm-slice]"),c=u&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(u.getAttribute("data-pm-slice")||"");if(c&&c[3])for(let d=+c[3];d>0;d--){let f=o.firstChild;for(;f&&f.nodeType!=1;)f=f.nextSibling;if(!f)break;o=f}if(a||(a=(e.someProp("clipboardParser")||e.someProp("domParser")||al.fromSchema(e.state.schema)).parseSlice(o,{preserveWhitespace:!!(l||c),context:i,ruleFromNode(f){return f.nodeName=="BR"&&!f.nextSibling&&f.parentNode&&!zte.test(f.parentNode.nodeName)?{ignore:!0}:null}})),c)a=Yte(JT(a,+c[1],+c[2]),c[4]);else if(a=he.maxOpen(Vte(a.content,i),!0),a.openStart||a.openEnd){let d=0,f=0;for(let p=a.content.firstChild;d<a.openStart&&!p.type.spec.isolating;d++,p=p.firstChild);for(let p=a.content.lastChild;f<a.openEnd&&!p.type.spec.isolating;f++,p=p.lastChild);a=JT(a,d,f)}return e.someProp("transformPasted",d=>{a=d(a,e)}),a}const zte=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function Vte(e,t){if(e.childCount<2)return e;for(let n=t.depth;n>=0;n--){let i=t.node(n).contentMatchAt(t.index(n)),s,o=[];if(e.forEach(a=>{if(!o)return;let l=i.findWrapping(a.type),u;if(!l)return o=null;if(u=o.length&&s.length&&nI(l,s,a,o[o.length-1],0))o[o.length-1]=u;else{o.length&&(o[o.length-1]=rI(o[o.length-1],s.length));let c=tI(a,l);o.push(c),i=i.matchType(c.type),s=l}}),o)return se.from(o)}return e}function tI(e,t,n=0){for(let r=t.length-1;r>=n;r--)e=t[r].create(null,se.from(e));return e}function nI(e,t,n,r,i){if(i<e.length&&i<t.length&&e[i]==t[i]){let s=nI(e,t,n,r.lastChild,i+1);if(s)return r.copy(r.content.replaceChild(r.childCount-1,s));if(r.contentMatchAt(r.childCount).matchType(i==e.length-1?n.type:e[i+1]))return r.copy(r.content.append(se.from(tI(n,e,i+1))))}}function rI(e,t){if(t==0)return e;let n=e.content.replaceChild(e.childCount-1,rI(e.lastChild,t-1)),r=e.contentMatchAt(e.childCount).fillBefore(se.empty,!0);return e.copy(n.append(r))}function _0(e,t,n,r,i,s){let o=t<0?e.firstChild:e.lastChild,a=o.content;return e.childCount>1&&(s=0),i<r-1&&(a=_0(a,t,n,r,i+1,s)),i>=n&&(a=t<0?o.contentMatchAt(0).fillBefore(a,s<=i).append(a):a.append(o.contentMatchAt(o.childCount).fillBefore(se.empty,!0))),e.replaceChild(t<0?0:e.childCount-1,o.copy(a))}function JT(e,t,n){return t<e.openStart&&(e=new he(_0(e.content,-1,t,e.openStart,0,e.openEnd),t,e.openEnd)),n<e.openEnd&&(e=new he(_0(e.content,1,n,e.openEnd,0,0),e.openStart,n)),e}const iI={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let ZT=null;function sI(){return ZT||(ZT=document.implementation.createHTMLDocument("title"))}let Im=null;function jte(e){let t=window.trustedTypes;return t?(Im||(Im=t.createPolicy("ProseMirrorClipboard",{createHTML:n=>n})),Im.createHTML(e)):e}function qte(e){let t=/^(\s*<meta [^>]*>)*/.exec(e);t&&(e=e.slice(t[0].length));let n=sI().createElement("div"),r=/<([a-z][^>\s]+)/i.exec(e),i;if((i=r&&iI[r[1].toLowerCase()])&&(e=i.map(s=>"<"+s+">").join("")+e+i.map(s=>"</"+s+">").reverse().join("")),n.innerHTML=jte(e),i)for(let s=0;s<i.length;s++)n=n.querySelector(i[s])||n;return n}function Wte(e){let t=e.querySelectorAll(Nn?"span:not([class]):not([style])":"span.Apple-converted-space");for(let n=0;n<t.length;n++){let r=t[n];r.childNodes.length==1&&r.textContent==" "&&r.parentNode&&r.parentNode.replaceChild(e.ownerDocument.createTextNode(" "),r)}}function Yte(e,t){if(!e.size)return e;let n=e.content.firstChild.type.schema,r;try{r=JSON.parse(t)}catch{return e}let{content:i,openStart:s,openEnd:o}=e;for(let a=r.length-2;a>=0;a-=2){let l=n.nodes[r[a]];if(!l||l.hasRequiredAttrs())break;i=se.from(l.create(r[a+1],i)),s++,o++}return new he(i,s,o)}const jn={},qn={},Gte={touchstart:!0,touchmove:!0};class Kte{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:""},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastChromeDelete=0,this.composing=!1,this.compositionNode=null,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.compositionID=1,this.compositionPendingChanges=0,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function Xte(e){for(let t in jn){let n=jn[t];e.dom.addEventListener(t,e.input.eventHandlers[t]=r=>{Jte(e,r)&&!S1(e,r)&&(e.editable||!(r.type in qn))&&n(e,r)},Gte[t]?{passive:!0}:void 0)}Vn&&e.dom.addEventListener("input",()=>null),E0(e)}function Ks(e,t){e.input.lastSelectionOrigin=t,e.input.lastSelectionTime=Date.now()}function Qte(e){e.domObserver.stop();for(let t in e.input.eventHandlers)e.dom.removeEventListener(t,e.input.eventHandlers[t]);clearTimeout(e.input.composingTimeout),clearTimeout(e.input.lastIOSEnterFallbackTimeout)}function E0(e){e.someProp("handleDOMEvents",t=>{for(let n in t)e.input.eventHandlers[n]||e.dom.addEventListener(n,e.input.eventHandlers[n]=r=>S1(e,r))})}function S1(e,t){return e.someProp("handleDOMEvents",n=>{let r=n[t.type];return r?r(e,t)||t.defaultPrevented:!1})}function Jte(e,t){if(!t.bubbles)return!0;if(t.defaultPrevented)return!1;for(let n=t.target;n!=e.dom;n=n.parentNode)if(!n||n.nodeType==11||n.pmViewDesc&&n.pmViewDesc.stopEvent(t))return!1;return!0}function Zte(e,t){!S1(e,t)&&jn[t.type]&&(e.editable||!(t.type in qn))&&jn[t.type](e,t)}qn.keydown=(e,t)=>{let n=t;if(e.input.shiftKey=n.keyCode==16||n.shiftKey,!aI(e,n)&&(e.input.lastKeyCode=n.keyCode,e.input.lastKeyCodeTime=Date.now(),!(as&&Nn&&n.keyCode==13)))if(n.keyCode!=229&&e.domObserver.forceFlush(),cl&&n.keyCode==13&&!n.ctrlKey&&!n.altKey&&!n.metaKey){let r=Date.now();e.input.lastIOSEnter=r,e.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{e.input.lastIOSEnter==r&&(e.someProp("handleKeyDown",i=>i(e,Do(13,"Enter"))),e.input.lastIOSEnter=0)},200)}else e.someProp("handleKeyDown",r=>r(e,n))||Hte(e,n)?n.preventDefault():Ks(e,"key")};qn.keyup=(e,t)=>{t.keyCode==16&&(e.input.shiftKey=!1)};qn.keypress=(e,t)=>{let n=t;if(aI(e,n)||!n.charCode||n.ctrlKey&&!n.altKey||kr&&n.metaKey)return;if(e.someProp("handleKeyPress",i=>i(e,n))){n.preventDefault();return}let r=e.state.selection;if(!(r instanceof Ue)||!r.$from.sameParent(r.$to)){let i=String.fromCharCode(n.charCode);!/[\r\n]/.test(i)&&!e.someProp("handleTextInput",s=>s(e,r.$from.pos,r.$to.pos,i))&&e.dispatch(e.state.tr.insertText(i).scrollIntoView()),n.preventDefault()}};function Xp(e){return{left:e.clientX,top:e.clientY}}function ene(e,t){let n=t.x-e.clientX,r=t.y-e.clientY;return n*n+r*r<100}function A1(e,t,n,r,i){if(r==-1)return!1;let s=e.state.doc.resolve(r);for(let o=s.depth+1;o>0;o--)if(e.someProp(t,a=>o>s.depth?a(e,n,s.nodeAfter,s.before(o),i,!0):a(e,n,s.node(o),s.before(o),i,!1)))return!0;return!1}function Ga(e,t,n){if(e.focused||e.focus(),e.state.selection.eq(t))return;let r=e.state.tr.setSelection(t);r.setMeta("pointer",!0),e.dispatch(r)}function tne(e,t){if(t==-1)return!1;let n=e.state.doc.resolve(t),r=n.nodeAfter;return r&&r.isAtom&&ze.isSelectable(r)?(Ga(e,new ze(n)),!0):!1}function nne(e,t){if(t==-1)return!1;let n=e.state.selection,r,i;n instanceof ze&&(r=n.node);let s=e.state.doc.resolve(t);for(let o=s.depth+1;o>0;o--){let a=o>s.depth?s.nodeAfter:s.node(o);if(ze.isSelectable(a)){r&&n.$from.depth>0&&o>=n.$from.depth&&s.before(n.$from.depth+1)==n.$from.pos?i=s.before(n.$from.depth):i=s.before(o);break}}return i!=null?(Ga(e,ze.create(e.state.doc,i)),!0):!1}function rne(e,t,n,r,i){return A1(e,"handleClickOn",t,n,r)||e.someProp("handleClick",s=>s(e,t,r))||(i?nne(e,n):tne(e,n))}function ine(e,t,n,r){return A1(e,"handleDoubleClickOn",t,n,r)||e.someProp("handleDoubleClick",i=>i(e,t,r))}function sne(e,t,n,r){return A1(e,"handleTripleClickOn",t,n,r)||e.someProp("handleTripleClick",i=>i(e,t,r))||one(e,n,r)}function one(e,t,n){if(n.button!=0)return!1;let r=e.state.doc;if(t==-1)return r.inlineContent?(Ga(e,Ue.create(r,0,r.content.size)),!0):!1;let i=r.resolve(t);for(let s=i.depth+1;s>0;s--){let o=s>i.depth?i.nodeAfter:i.node(s),a=i.before(s);if(o.inlineContent)Ga(e,Ue.create(r,a+1,a+1+o.content.size));else if(ze.isSelectable(o))Ga(e,ze.create(r,a));else continue;return!0}}function k1(e){return jf(e)}const oI=kr?"metaKey":"ctrlKey";jn.mousedown=(e,t)=>{let n=t;e.input.shiftKey=n.shiftKey;let r=k1(e),i=Date.now(),s="singleClick";i-e.input.lastClick.time<500&&ene(n,e.input.lastClick)&&!n[oI]&&(e.input.lastClick.type=="singleClick"?s="doubleClick":e.input.lastClick.type=="doubleClick"&&(s="tripleClick")),e.input.lastClick={time:i,x:n.clientX,y:n.clientY,type:s};let o=e.posAtCoords(Xp(n));o&&(s=="singleClick"?(e.input.mouseDown&&e.input.mouseDown.done(),e.input.mouseDown=new ane(e,o,n,!!r)):(s=="doubleClick"?ine:sne)(e,o.pos,o.inside,n)?n.preventDefault():Ks(e,"pointer"))};class ane{constructor(t,n,r,i){this.view=t,this.pos=n,this.event=r,this.flushed=i,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=t.state.doc,this.selectNode=!!r[oI],this.allowDefault=r.shiftKey;let s,o;if(n.inside>-1)s=t.state.doc.nodeAt(n.inside),o=n.inside;else{let c=t.state.doc.resolve(n.pos);s=c.parent,o=c.depth?c.before():0}const a=i?null:r.target,l=a?t.docView.nearestDesc(a,!0):null;this.target=l&&l.dom.nodeType==1?l.dom:null;let{selection:u}=t.state;(r.button==0&&s.type.spec.draggable&&s.type.spec.selectable!==!1||u instanceof ze&&u.from<=o&&u.to>o)&&(this.mightDrag={node:s,pos:o,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&li&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),t.root.addEventListener("mouseup",this.up=this.up.bind(this)),t.root.addEventListener("mousemove",this.move=this.move.bind(this)),Ks(t,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>fs(this.view)),this.view.input.mouseDown=null}up(t){if(this.done(),!this.view.dom.contains(t.target))return;let n=this.pos;this.view.state.doc!=this.startDoc&&(n=this.view.posAtCoords(Xp(t))),this.updateAllowDefault(t),this.allowDefault||!n?Ks(this.view,"pointer"):rne(this.view,n.pos,n.inside,t,this.selectNode)?t.preventDefault():t.button==0&&(this.flushed||Vn&&this.mightDrag&&!this.mightDrag.node.isAtom||Nn&&!this.view.state.selection.visible&&Math.min(Math.abs(n.pos-this.view.state.selection.from),Math.abs(n.pos-this.view.state.selection.to))<=2)?(Ga(this.view,Fe.near(this.view.state.doc.resolve(n.pos))),t.preventDefault()):Ks(this.view,"pointer")}move(t){this.updateAllowDefault(t),Ks(this.view,"pointer"),t.buttons==0&&this.done()}updateAllowDefault(t){!this.allowDefault&&(Math.abs(this.event.x-t.clientX)>4||Math.abs(this.event.y-t.clientY)>4)&&(this.allowDefault=!0)}}jn.touchstart=e=>{e.input.lastTouch=Date.now(),k1(e),Ks(e,"pointer")};jn.touchmove=e=>{e.input.lastTouch=Date.now(),Ks(e,"pointer")};jn.contextmenu=e=>k1(e);function aI(e,t){return e.composing?!0:Vn&&Math.abs(t.timeStamp-e.input.compositionEndedAt)<500?(e.input.compositionEndedAt=-2e8,!0):!1}const lne=as?5e3:-1;qn.compositionstart=qn.compositionupdate=e=>{if(!e.composing){e.domObserver.flush();let{state:t}=e,n=t.selection.$to;if(t.selection instanceof Ue&&(t.storedMarks||!n.textOffset&&n.parentOffset&&n.nodeBefore.marks.some(r=>r.type.spec.inclusive===!1)))e.markCursor=e.state.storedMarks||n.marks(),jf(e,!0),e.markCursor=null;else if(jf(e,!t.selection.empty),li&&t.selection.empty&&n.parentOffset&&!n.textOffset&&n.nodeBefore.marks.length){let r=e.domSelectionRange();for(let i=r.focusNode,s=r.focusOffset;i&&i.nodeType==1&&s!=0;){let o=s<0?i.lastChild:i.childNodes[s-1];if(!o)break;if(o.nodeType==3){let a=e.domSelection();a&&a.collapse(o,o.nodeValue.length);break}else i=o,s=-1}}e.input.composing=!0}lI(e,lne)};qn.compositionend=(e,t)=>{e.composing&&(e.input.composing=!1,e.input.compositionEndedAt=t.timeStamp,e.input.compositionPendingChanges=e.domObserver.pendingRecords().length?e.input.compositionID:0,e.input.compositionNode=null,e.input.compositionPendingChanges&&Promise.resolve().then(()=>e.domObserver.flush()),e.input.compositionID++,lI(e,20))};function lI(e,t){clearTimeout(e.input.composingTimeout),t>-1&&(e.input.composingTimeout=setTimeout(()=>jf(e),t))}function uI(e){for(e.composing&&(e.input.composing=!1,e.input.compositionEndedAt=cne());e.input.compositionNodes.length>0;)e.input.compositionNodes.pop().markParentsDirty()}function une(e){let t=e.domSelectionRange();if(!t.focusNode)return null;let n=tte(t.focusNode,t.focusOffset),r=nte(t.focusNode,t.focusOffset);if(n&&r&&n!=r){let i=r.pmViewDesc,s=e.domObserver.lastChangedTextNode;if(n==s||r==s)return s;if(!i||!i.isText(r.nodeValue))return r;if(e.input.compositionNode==r){let o=n.pmViewDesc;if(!(!o||!o.isText(n.nodeValue)))return r}}return n||r}function cne(){let e=document.createEvent("Event");return e.initEvent("event",!0,!0),e.timeStamp}function jf(e,t=!1){if(!(as&&e.domObserver.flushingSoon>=0)){if(e.domObserver.forceFlush(),uI(e),t||e.docView&&e.docView.dirty){let n=w1(e);return n&&!n.eq(e.state.selection)?e.dispatch(e.state.tr.setSelection(n)):(e.markCursor||t)&&!e.state.selection.empty?e.dispatch(e.state.tr.deleteSelection()):e.updateState(e.state),!0}return!1}}function dne(e,t){if(!e.dom.parentNode)return;let n=e.dom.parentNode.appendChild(document.createElement("div"));n.appendChild(t),n.style.cssText="position: fixed; left: -10000px; top: 10px";let r=getSelection(),i=document.createRange();i.selectNodeContents(t),e.dom.blur(),r.removeAllRanges(),r.addRange(i),setTimeout(()=>{n.parentNode&&n.parentNode.removeChild(n),e.focus()},50)}const fc=nr&&Zs<15||cl&&ate<604;jn.copy=qn.cut=(e,t)=>{let n=t,r=e.state.selection,i=n.type=="cut";if(r.empty)return;let s=fc?null:n.clipboardData,o=r.content(),{dom:a,text:l}=C1(e,o);s?(n.preventDefault(),s.clearData(),s.setData("text/html",a.innerHTML),s.setData("text/plain",l)):dne(e,a),i&&e.dispatch(e.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))};function fne(e){return e.openStart==0&&e.openEnd==0&&e.content.childCount==1?e.content.firstChild:null}function pne(e,t){if(!e.dom.parentNode)return;let n=e.input.shiftKey||e.state.selection.$from.parent.type.spec.code,r=e.dom.parentNode.appendChild(document.createElement(n?"textarea":"div"));n||(r.contentEditable="true"),r.style.cssText="position: fixed; left: -10000px; top: 10px",r.focus();let i=e.input.shiftKey&&e.input.lastKeyCode!=45;setTimeout(()=>{e.focus(),r.parentNode&&r.parentNode.removeChild(r),n?pc(e,r.value,null,i,t):pc(e,r.textContent,r.innerHTML,i,t)},50)}function pc(e,t,n,r,i){let s=eI(e,t,n,r,e.state.selection.$from);if(e.someProp("handlePaste",l=>l(e,i,s||he.empty)))return!0;if(!s)return!1;let o=fne(s),a=o?e.state.tr.replaceSelectionWith(o,r):e.state.tr.replaceSelection(s);return e.dispatch(a.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}function cI(e){let t=e.getData("text/plain")||e.getData("Text");if(t)return t;let n=e.getData("text/uri-list");return n?n.replace(/\r?\n/g," "):""}qn.paste=(e,t)=>{let n=t;if(e.composing&&!as)return;let r=fc?null:n.clipboardData,i=e.input.shiftKey&&e.input.lastKeyCode!=45;r&&pc(e,cI(r),r.getData("text/html"),i,n)?n.preventDefault():pne(e,n)};class dI{constructor(t,n,r){this.slice=t,this.move=n,this.node=r}}const fI=kr?"altKey":"ctrlKey";jn.dragstart=(e,t)=>{let n=t,r=e.input.mouseDown;if(r&&r.done(),!n.dataTransfer)return;let i=e.state.selection,s=i.empty?null:e.posAtCoords(Xp(n)),o;if(!(s&&s.pos>=i.from&&s.pos<=(i instanceof ze?i.to-1:i.to))){if(r&&r.mightDrag)o=ze.create(e.state.doc,r.mightDrag.pos);else if(n.target&&n.target.nodeType==1){let d=e.docView.nearestDesc(n.target,!0);d&&d.node.type.spec.draggable&&d!=e.docView&&(o=ze.create(e.state.doc,d.posBefore))}}let a=(o||e.state.selection).content(),{dom:l,text:u,slice:c}=C1(e,a);(!n.dataTransfer.files.length||!Nn||$2>120)&&n.dataTransfer.clearData(),n.dataTransfer.setData(fc?"Text":"text/html",l.innerHTML),n.dataTransfer.effectAllowed="copyMove",fc||n.dataTransfer.setData("text/plain",u),e.dragging=new dI(c,!n[fI],o)};jn.dragend=e=>{let t=e.dragging;window.setTimeout(()=>{e.dragging==t&&(e.dragging=null)},50)};qn.dragover=qn.dragenter=(e,t)=>t.preventDefault();qn.drop=(e,t)=>{let n=t,r=e.dragging;if(e.dragging=null,!n.dataTransfer)return;let i=e.posAtCoords(Xp(n));if(!i)return;let s=e.state.doc.resolve(i.pos),o=r&&r.slice;o?e.someProp("transformPasted",m=>{o=m(o,e)}):o=eI(e,cI(n.dataTransfer),fc?null:n.dataTransfer.getData("text/html"),!1,s);let a=!!(r&&!n[fI]);if(e.someProp("handleDrop",m=>m(e,n,o||he.empty,a))){n.preventDefault();return}if(!o)return;n.preventDefault();let l=o?O2(e.state.doc,s.pos,o):s.pos;l==null&&(l=s.pos);let u=e.state.tr;if(a){let{node:m}=r;m?m.replace(u):u.deleteSelection()}let c=u.mapping.map(l),d=o.openStart==0&&o.openEnd==0&&o.content.childCount==1,f=u.doc;if(d?u.replaceRangeWith(c,c,o.content.firstChild):u.replaceRange(c,c,o),u.doc.eq(f))return;let p=u.doc.resolve(c);if(d&&ze.isSelectable(o.content.firstChild)&&p.nodeAfter&&p.nodeAfter.sameMarkup(o.content.firstChild))u.setSelection(new ze(p));else{let m=u.mapping.map(l);u.mapping.maps[u.mapping.maps.length-1].forEach((g,b,y,E)=>m=E),u.setSelection(x1(e,p,u.doc.resolve(m)))}e.focus(),e.dispatch(u.setMeta("uiEvent","drop"))};jn.focus=e=>{e.input.lastFocus=Date.now(),e.focused||(e.domObserver.stop(),e.dom.classList.add("ProseMirror-focused"),e.domObserver.start(),e.focused=!0,setTimeout(()=>{e.docView&&e.hasFocus()&&!e.domObserver.currentSelection.eq(e.domSelectionRange())&&fs(e)},20))};jn.blur=(e,t)=>{let n=t;e.focused&&(e.domObserver.stop(),e.dom.classList.remove("ProseMirror-focused"),e.domObserver.start(),n.relatedTarget&&e.dom.contains(n.relatedTarget)&&e.domObserver.currentSelection.clear(),e.focused=!1)};jn.beforeinput=(e,t)=>{if(Nn&&as&&t.inputType=="deleteContentBackward"){e.domObserver.flushSoon();let{domChangeCount:r}=e.input;setTimeout(()=>{if(e.input.domChangeCount!=r||(e.dom.blur(),e.focus(),e.someProp("handleKeyDown",s=>s(e,Do(8,"Backspace")))))return;let{$cursor:i}=e.state.selection;i&&i.pos>0&&e.dispatch(e.state.tr.delete(i.pos-1,i.pos).scrollIntoView())},50)}};for(let e in qn)jn[e]=qn[e];function hc(e,t){if(e==t)return!0;for(let n in e)if(e[n]!==t[n])return!1;for(let n in t)if(!(n in e))return!1;return!0}class qf{constructor(t,n){this.toDOM=t,this.spec=n||qo,this.side=this.spec.side||0}map(t,n,r,i){let{pos:s,deleted:o}=t.mapResult(n.from+i,this.side<0?-1:1);return o?null:new dn(s-r,s-r,this)}valid(){return!0}eq(t){return this==t||t instanceof qf&&(this.spec.key&&this.spec.key==t.spec.key||this.toDOM==t.toDOM&&hc(this.spec,t.spec))}destroy(t){this.spec.destroy&&this.spec.destroy(t)}}class to{constructor(t,n){this.attrs=t,this.spec=n||qo}map(t,n,r,i){let s=t.map(n.from+i,this.spec.inclusiveStart?-1:1)-r,o=t.map(n.to+i,this.spec.inclusiveEnd?1:-1)-r;return s>=o?null:new dn(s,o,this)}valid(t,n){return n.from<n.to}eq(t){return this==t||t instanceof to&&hc(this.attrs,t.attrs)&&hc(this.spec,t.spec)}static is(t){return t.type instanceof to}destroy(){}}class O1{constructor(t,n){this.attrs=t,this.spec=n||qo}map(t,n,r,i){let s=t.mapResult(n.from+i,1);if(s.deleted)return null;let o=t.mapResult(n.to+i,-1);return o.deleted||o.pos<=s.pos?null:new dn(s.pos-r,o.pos-r,this)}valid(t,n){let{index:r,offset:i}=t.content.findIndex(n.from),s;return i==n.from&&!(s=t.child(r)).isText&&i+s.nodeSize==n.to}eq(t){return this==t||t instanceof O1&&hc(this.attrs,t.attrs)&&hc(this.spec,t.spec)}destroy(){}}class dn{constructor(t,n,r){this.from=t,this.to=n,this.type=r}copy(t,n){return new dn(t,n,this.type)}eq(t,n=0){return this.type.eq(t.type)&&this.from+n==t.from&&this.to+n==t.to}map(t,n,r){return this.type.map(t,this,n,r)}static widget(t,n,r){return new dn(t,t,new qf(n,r))}static inline(t,n,r,i){return new dn(t,n,new to(r,i))}static node(t,n,r,i){return new dn(t,n,new O1(r,i))}get spec(){return this.type.spec}get inline(){return this.type instanceof to}get widget(){return this.type instanceof qf}}const Ia=[],qo={};class Pt{constructor(t,n){this.local=t.length?t:Ia,this.children=n.length?n:Ia}static create(t,n){return n.length?Wf(n,t,0,qo):Cn}find(t,n,r){let i=[];return this.findInner(t??0,n??1e9,i,0,r),i}findInner(t,n,r,i,s){for(let o=0;o<this.local.length;o++){let a=this.local[o];a.from<=n&&a.to>=t&&(!s||s(a.spec))&&r.push(a.copy(a.from+i,a.to+i))}for(let o=0;o<this.children.length;o+=3)if(this.children[o]<n&&this.children[o+1]>t){let a=this.children[o]+1;this.children[o+2].findInner(t-a,n-a,r,i+a,s)}}map(t,n,r){return this==Cn||t.maps.length==0?this:this.mapInner(t,n,0,0,r||qo)}mapInner(t,n,r,i,s){let o;for(let a=0;a<this.local.length;a++){let l=this.local[a].map(t,r,i);l&&l.type.valid(n,l)?(o||(o=[])).push(l):s.onRemove&&s.onRemove(this.local[a].spec)}return this.children.length?hne(this.children,o||[],t,n,r,i,s):o?new Pt(o.sort(Wo),Ia):Cn}add(t,n){return n.length?this==Cn?Pt.create(t,n):this.addInner(t,n,0):this}addInner(t,n,r){let i,s=0;t.forEach((a,l)=>{let u=l+r,c;if(c=hI(n,a,u)){for(i||(i=this.children.slice());s<i.length&&i[s]<l;)s+=3;i[s]==l?i[s+2]=i[s+2].addInner(a,c,u+1):i.splice(s,0,l,l+a.nodeSize,Wf(c,a,u+1,qo)),s+=3}});let o=pI(s?mI(n):n,-r);for(let a=0;a<o.length;a++)o[a].type.valid(t,o[a])||o.splice(a--,1);return new Pt(o.length?this.local.concat(o).sort(Wo):this.local,i||this.children)}remove(t){return t.length==0||this==Cn?this:this.removeInner(t,0)}removeInner(t,n){let r=this.children,i=this.local;for(let s=0;s<r.length;s+=3){let o,a=r[s]+n,l=r[s+1]+n;for(let c=0,d;c<t.length;c++)(d=t[c])&&d.from>a&&d.to<l&&(t[c]=null,(o||(o=[])).push(d));if(!o)continue;r==this.children&&(r=this.children.slice());let u=r[s+2].removeInner(o,a+1);u!=Cn?r[s+2]=u:(r.splice(s,3),s-=3)}if(i.length){for(let s=0,o;s<t.length;s++)if(o=t[s])for(let a=0;a<i.length;a++)i[a].eq(o,n)&&(i==this.local&&(i=this.local.slice()),i.splice(a--,1))}return r==this.children&&i==this.local?this:i.length||r.length?new Pt(i,r):Cn}forChild(t,n){if(this==Cn)return this;if(n.isLeaf)return Pt.empty;let r,i;for(let a=0;a<this.children.length;a+=3)if(this.children[a]>=t){this.children[a]==t&&(r=this.children[a+2]);break}let s=t+1,o=s+n.content.size;for(let a=0;a<this.local.length;a++){let l=this.local[a];if(l.from<o&&l.to>s&&l.type instanceof to){let u=Math.max(s,l.from)-s,c=Math.min(o,l.to)-s;u<c&&(i||(i=[])).push(l.copy(u,c))}}if(i){let a=new Pt(i.sort(Wo),Ia);return r?new zs([a,r]):a}return r||Cn}eq(t){if(this==t)return!0;if(!(t instanceof Pt)||this.local.length!=t.local.length||this.children.length!=t.children.length)return!1;for(let n=0;n<this.local.length;n++)if(!this.local[n].eq(t.local[n]))return!1;for(let n=0;n<this.children.length;n+=3)if(this.children[n]!=t.children[n]||this.children[n+1]!=t.children[n+1]||!this.children[n+2].eq(t.children[n+2]))return!1;return!0}locals(t){return I1(this.localsInner(t))}localsInner(t){if(this==Cn)return Ia;if(t.inlineContent||!this.local.some(to.is))return this.local;let n=[];for(let r=0;r<this.local.length;r++)this.local[r].type instanceof to||n.push(this.local[r]);return n}forEachSet(t){t(this)}}Pt.empty=new Pt([],[]);Pt.removeOverlap=I1;const Cn=Pt.empty;class zs{constructor(t){this.members=t}map(t,n){const r=this.members.map(i=>i.map(t,n,qo));return zs.from(r)}forChild(t,n){if(n.isLeaf)return Pt.empty;let r=[];for(let i=0;i<this.members.length;i++){let s=this.members[i].forChild(t,n);s!=Cn&&(s instanceof zs?r=r.concat(s.members):r.push(s))}return zs.from(r)}eq(t){if(!(t instanceof zs)||t.members.length!=this.members.length)return!1;for(let n=0;n<this.members.length;n++)if(!this.members[n].eq(t.members[n]))return!1;return!0}locals(t){let n,r=!0;for(let i=0;i<this.members.length;i++){let s=this.members[i].localsInner(t);if(s.length)if(!n)n=s;else{r&&(n=n.slice(),r=!1);for(let o=0;o<s.length;o++)n.push(s[o])}}return n?I1(r?n:n.sort(Wo)):Ia}static from(t){switch(t.length){case 0:return Cn;case 1:return t[0];default:return new zs(t.every(n=>n instanceof Pt)?t:t.reduce((n,r)=>n.concat(r instanceof Pt?r:r.members),[]))}}forEachSet(t){for(let n=0;n<this.members.length;n++)this.members[n].forEachSet(t)}}function hne(e,t,n,r,i,s,o){let a=e.slice();for(let u=0,c=s;u<n.maps.length;u++){let d=0;n.maps[u].forEach((f,p,m,g)=>{let b=g-m-(p-f);for(let y=0;y<a.length;y+=3){let E=a[y+1];if(E<0||f>E+c-d)continue;let T=a[y]+c-d;p>=T?a[y+1]=f<=T?-2:-1:f>=c&&b&&(a[y]+=b,a[y+1]+=b)}d+=b}),c=n.maps[u].map(c,-1)}let l=!1;for(let u=0;u<a.length;u+=3)if(a[u+1]<0){if(a[u+1]==-2){l=!0,a[u+1]=-1;continue}let c=n.map(e[u]+s),d=c-i;if(d<0||d>=r.content.size){l=!0;continue}let f=n.map(e[u+1]+s,-1),p=f-i,{index:m,offset:g}=r.content.findIndex(d),b=r.maybeChild(m);if(b&&g==d&&g+b.nodeSize==p){let y=a[u+2].mapInner(n,b,c+1,e[u]+s+1,o);y!=Cn?(a[u]=d,a[u+1]=p,a[u+2]=y):(a[u+1]=-2,l=!0)}else l=!0}if(l){let u=mne(a,e,t,n,i,s,o),c=Wf(u,r,0,o);t=c.local;for(let d=0;d<a.length;d+=3)a[d+1]<0&&(a.splice(d,3),d-=3);for(let d=0,f=0;d<c.children.length;d+=3){let p=c.children[d];for(;f<a.length&&a[f]<p;)f+=3;a.splice(f,0,c.children[d],c.children[d+1],c.children[d+2])}}return new Pt(t.sort(Wo),a)}function pI(e,t){if(!t||!e.length)return e;let n=[];for(let r=0;r<e.length;r++){let i=e[r];n.push(new dn(i.from+t,i.to+t,i.type))}return n}function mne(e,t,n,r,i,s,o){function a(l,u){for(let c=0;c<l.local.length;c++){let d=l.local[c].map(r,i,u);d?n.push(d):o.onRemove&&o.onRemove(l.local[c].spec)}for(let c=0;c<l.children.length;c+=3)a(l.children[c+2],l.children[c]+u+1)}for(let l=0;l<e.length;l+=3)e[l+1]==-1&&a(e[l+2],t[l]+s+1);return n}function hI(e,t,n){if(t.isLeaf)return null;let r=n+t.nodeSize,i=null;for(let s=0,o;s<e.length;s++)(o=e[s])&&o.from>n&&o.to<r&&((i||(i=[])).push(o),e[s]=null);return i}function mI(e){let t=[];for(let n=0;n<e.length;n++)e[n]!=null&&t.push(e[n]);return t}function Wf(e,t,n,r){let i=[],s=!1;t.forEach((a,l)=>{let u=hI(e,a,l+n);if(u){s=!0;let c=Wf(u,a,n+l+1,r);c!=Cn&&i.push(l,l+a.nodeSize,c)}});let o=pI(s?mI(e):e,-n).sort(Wo);for(let a=0;a<o.length;a++)o[a].type.valid(t,o[a])||(r.onRemove&&r.onRemove(o[a].spec),o.splice(a--,1));return o.length||i.length?new Pt(o,i):Cn}function Wo(e,t){return e.from-t.from||e.to-t.to}function I1(e){let t=e;for(let n=0;n<t.length-1;n++){let r=t[n];if(r.from!=r.to)for(let i=n+1;i<t.length;i++){let s=t[i];if(s.from==r.from){s.to!=r.to&&(t==e&&(t=e.slice()),t[i]=s.copy(s.from,r.to),ew(t,i+1,s.copy(r.to,s.to)));continue}else{s.from<r.to&&(t==e&&(t=e.slice()),t[n]=r.copy(r.from,s.from),ew(t,i,r.copy(s.from,r.to)));break}}}return t}function ew(e,t,n){for(;t<e.length&&Wo(n,e[t])>0;)t++;e.splice(t,0,n)}function Nm(e){let t=[];return e.someProp("decorations",n=>{let r=n(e.state);r&&r!=Cn&&t.push(r)}),e.cursorWrapper&&t.push(Pt.create(e.state.doc,[e.cursorWrapper.deco])),zs.from(t)}const gne={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},bne=nr&&Zs<=11;class yne{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(t){this.anchorNode=t.anchorNode,this.anchorOffset=t.anchorOffset,this.focusNode=t.focusNode,this.focusOffset=t.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(t){return t.anchorNode==this.anchorNode&&t.anchorOffset==this.anchorOffset&&t.focusNode==this.focusNode&&t.focusOffset==this.focusOffset}}class _ne{constructor(t,n){this.view=t,this.handleDOMChange=n,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new yne,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.lastChangedTextNode=null,this.observer=window.MutationObserver&&new window.MutationObserver(r=>{for(let i=0;i<r.length;i++)this.queue.push(r[i]);nr&&Zs<=11&&r.some(i=>i.type=="childList"&&i.removedNodes.length||i.type=="characterData"&&i.oldValue.length>i.target.nodeValue.length)?this.flushSoon():this.flush()}),bne&&(this.onCharData=r=>{this.queue.push({target:r.target,type:"characterData",oldValue:r.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,gne)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let t=this.observer.takeRecords();if(t.length){for(let n=0;n<t.length;n++)this.queue.push(t[n]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(WT(this.view)){if(this.suppressingSelectionUpdates)return fs(this.view);if(nr&&Zs<=11&&!this.view.state.selection.empty){let t=this.view.domSelectionRange();if(t.focusNode&&ta(t.focusNode,t.focusOffset,t.anchorNode,t.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(t){if(!t.focusNode)return!0;let n=new Set,r;for(let s=t.focusNode;s;s=dc(s))n.add(s);for(let s=t.anchorNode;s;s=dc(s))if(n.has(s)){r=s;break}let i=r&&this.view.docView.nearestDesc(r);if(i&&i.ignoreMutation({type:"selection",target:r.nodeType==3?r.parentNode:r}))return this.setCurSelection(),!0}pendingRecords(){if(this.observer)for(let t of this.observer.takeRecords())this.queue.push(t);return this.queue}flush(){let{view:t}=this;if(!t.docView||this.flushingSoon>-1)return;let n=this.pendingRecords();n.length&&(this.queue=[]);let r=t.domSelectionRange(),i=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(r)&&WT(t)&&!this.ignoreSelectionChange(r),s=-1,o=-1,a=!1,l=[];if(t.editable)for(let c=0;c<n.length;c++){let d=this.registerMutation(n[c],l);d&&(s=s<0?d.from:Math.min(d.from,s),o=o<0?d.to:Math.max(d.to,o),d.typeOver&&(a=!0))}if(li&&l.length){let c=l.filter(d=>d.nodeName=="BR");if(c.length==2){let[d,f]=c;d.parentNode&&d.parentNode.parentNode==f.parentNode?f.remove():d.remove()}else{let{focusNode:d}=this.currentSelection;for(let f of c){let p=f.parentNode;p&&p.nodeName=="LI"&&(!d||Tne(t,d)!=p)&&f.remove()}}}let u=null;s<0&&i&&t.input.lastFocus>Date.now()-200&&Math.max(t.input.lastTouch,t.input.lastClick.time)<Date.now()-300&&Gp(r)&&(u=w1(t))&&u.eq(Fe.near(t.state.doc.resolve(0),1))?(t.input.lastFocus=0,fs(t),this.currentSelection.set(r)):(s>-1||i)&&(s>-1&&(t.docView.markDirty(s,o),Ene(t)),this.handleDOMChange(s,o,a,l),t.docView&&t.docView.dirty?t.updateState(t.state):this.currentSelection.eq(r)||fs(t),this.currentSelection.set(r))}registerMutation(t,n){if(n.indexOf(t.target)>-1)return null;let r=this.view.docView.nearestDesc(t.target);if(t.type=="attributes"&&(r==this.view.docView||t.attributeName=="contenteditable"||t.attributeName=="style"&&!t.oldValue&&!t.target.getAttribute("style"))||!r||r.ignoreMutation(t))return null;if(t.type=="childList"){for(let c=0;c<t.addedNodes.length;c++){let d=t.addedNodes[c];n.push(d),d.nodeType==3&&(this.lastChangedTextNode=d)}if(r.contentDOM&&r.contentDOM!=r.dom&&!r.contentDOM.contains(t.target))return{from:r.posBefore,to:r.posAfter};let i=t.previousSibling,s=t.nextSibling;if(nr&&Zs<=11&&t.addedNodes.length)for(let c=0;c<t.addedNodes.length;c++){let{previousSibling:d,nextSibling:f}=t.addedNodes[c];(!d||Array.prototype.indexOf.call(t.addedNodes,d)<0)&&(i=d),(!f||Array.prototype.indexOf.call(t.addedNodes,f)<0)&&(s=f)}let o=i&&i.parentNode==t.target?_n(i)+1:0,a=r.localPosFromDOM(t.target,o,-1),l=s&&s.parentNode==t.target?_n(s):t.target.childNodes.length,u=r.localPosFromDOM(t.target,l,1);return{from:a,to:u}}else return t.type=="attributes"?{from:r.posAtStart-r.border,to:r.posAtEnd+r.border}:(this.lastChangedTextNode=t.target,{from:r.posAtStart,to:r.posAtEnd,typeOver:t.target.nodeValue==t.oldValue})}}let tw=new WeakMap,nw=!1;function Ene(e){if(!tw.has(e)&&(tw.set(e,null),["normal","nowrap","pre-line"].indexOf(getComputedStyle(e.dom).whiteSpace)!==-1)){if(e.requiresGeckoHackNode=li,nw)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),nw=!0}}function rw(e,t){let n=t.startContainer,r=t.startOffset,i=t.endContainer,s=t.endOffset,o=e.domAtPos(e.state.selection.anchor);return ta(o.node,o.offset,i,s)&&([n,r,i,s]=[i,s,n,r]),{anchorNode:n,anchorOffset:r,focusNode:i,focusOffset:s}}function vne(e,t){if(t.getComposedRanges){let i=t.getComposedRanges(e.root)[0];if(i)return rw(e,i)}let n;function r(i){i.preventDefault(),i.stopImmediatePropagation(),n=i.getTargetRanges()[0]}return e.dom.addEventListener("beforeinput",r,!0),document.execCommand("indent"),e.dom.removeEventListener("beforeinput",r,!0),n?rw(e,n):null}function Tne(e,t){for(let n=t.parentNode;n&&n!=e.dom;n=n.parentNode){let r=e.docView.nearestDesc(n,!0);if(r&&r.node.isBlock)return n}return null}function wne(e,t,n){let{node:r,fromOffset:i,toOffset:s,from:o,to:a}=e.docView.parseRange(t,n),l=e.domSelectionRange(),u,c=l.anchorNode;if(c&&e.dom.contains(c.nodeType==1?c:c.parentNode)&&(u=[{node:c,offset:l.anchorOffset}],Gp(l)||u.push({node:l.focusNode,offset:l.focusOffset})),Nn&&e.input.lastKeyCode===8)for(let b=s;b>i;b--){let y=r.childNodes[b-1],E=y.pmViewDesc;if(y.nodeName=="BR"&&!E){s=b;break}if(!E||E.size)break}let d=e.state.doc,f=e.someProp("domParser")||al.fromSchema(e.state.schema),p=d.resolve(o),m=null,g=f.parse(r,{topNode:p.parent,topMatch:p.parent.contentMatchAt(p.index()),topOpen:!0,from:i,to:s,preserveWhitespace:p.parent.type.whitespace=="pre"?"full":!0,findPositions:u,ruleFromNode:xne,context:p});if(u&&u[0].pos!=null){let b=u[0].pos,y=u[1]&&u[1].pos;y==null&&(y=b),m={anchor:b+o,head:y+o}}return{doc:g,sel:m,from:o,to:a}}function xne(e){let t=e.pmViewDesc;if(t)return t.parseRule();if(e.nodeName=="BR"&&e.parentNode){if(Vn&&/^(ul|ol)$/i.test(e.parentNode.nodeName)){let n=document.createElement("div");return n.appendChild(document.createElement("li")),{skip:n}}else if(e.parentNode.lastChild==e||Vn&&/^(tr|table)$/i.test(e.parentNode.nodeName))return{ignore:!0}}else if(e.nodeName=="IMG"&&e.getAttribute("mark-placeholder"))return{ignore:!0};return null}const Cne=/^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i;function Sne(e,t,n,r,i){let s=e.input.compositionPendingChanges||(e.composing?e.input.compositionID:0);if(e.input.compositionPendingChanges=0,t<0){let B=e.input.lastSelectionTime>Date.now()-50?e.input.lastSelectionOrigin:null,K=w1(e,B);if(K&&!e.state.selection.eq(K)){if(Nn&&as&&e.input.lastKeyCode===13&&Date.now()-100<e.input.lastKeyCodeTime&&e.someProp("handleKeyDown",H=>H(e,Do(13,"Enter"))))return;let V=e.state.tr.setSelection(K);B=="pointer"?V.setMeta("pointer",!0):B=="key"&&V.scrollIntoView(),s&&V.setMeta("composition",s),e.dispatch(V)}return}let o=e.state.doc.resolve(t),a=o.sharedDepth(n);t=o.before(a+1),n=e.state.doc.resolve(n).after(a+1);let l=e.state.selection,u=wne(e,t,n),c=e.state.doc,d=c.slice(u.from,u.to),f,p;e.input.lastKeyCode===8&&Date.now()-100<e.input.lastKeyCodeTime?(f=e.state.selection.to,p="end"):(f=e.state.selection.from,p="start"),e.input.lastKeyCode=null;let m=One(d.content,u.doc.content,u.from,f,p);if(m&&e.input.domChangeCount++,(cl&&e.input.lastIOSEnter>Date.now()-225||as)&&i.some(B=>B.nodeType==1&&!Cne.test(B.nodeName))&&(!m||m.endA>=m.endB)&&e.someProp("handleKeyDown",B=>B(e,Do(13,"Enter")))){e.input.lastIOSEnter=0;return}if(!m)if(r&&l instanceof Ue&&!l.empty&&l.$head.sameParent(l.$anchor)&&!e.composing&&!(u.sel&&u.sel.anchor!=u.sel.head))m={start:l.from,endA:l.to,endB:l.to};else{if(u.sel){let B=iw(e,e.state.doc,u.sel);if(B&&!B.eq(e.state.selection)){let K=e.state.tr.setSelection(B);s&&K.setMeta("composition",s),e.dispatch(K)}}return}e.state.selection.from<e.state.selection.to&&m.start==m.endB&&e.state.selection instanceof Ue&&(m.start>e.state.selection.from&&m.start<=e.state.selection.from+2&&e.state.selection.from>=u.from?m.start=e.state.selection.from:m.endA<e.state.selection.to&&m.endA>=e.state.selection.to-2&&e.state.selection.to<=u.to&&(m.endB+=e.state.selection.to-m.endA,m.endA=e.state.selection.to)),nr&&Zs<=11&&m.endB==m.start+1&&m.endA==m.start&&m.start>u.from&&u.doc.textBetween(m.start-u.from-1,m.start-u.from+1)=="  "&&(m.start--,m.endA--,m.endB--);let g=u.doc.resolveNoCache(m.start-u.from),b=u.doc.resolveNoCache(m.endB-u.from),y=c.resolve(m.start),E=g.sameParent(b)&&g.parent.inlineContent&&y.end()>=m.endA,T;if((cl&&e.input.lastIOSEnter>Date.now()-225&&(!E||i.some(B=>B.nodeName=="DIV"||B.nodeName=="P"))||!E&&g.pos<u.doc.content.size&&!g.sameParent(b)&&(T=Fe.findFrom(u.doc.resolve(g.pos+1),1,!0))&&T.head==b.pos)&&e.someProp("handleKeyDown",B=>B(e,Do(13,"Enter")))){e.input.lastIOSEnter=0;return}if(e.state.selection.anchor>m.start&&kne(c,m.start,m.endA,g,b)&&e.someProp("handleKeyDown",B=>B(e,Do(8,"Backspace")))){as&&Nn&&e.domObserver.suppressSelectionUpdates();return}Nn&&m.endB==m.start&&(e.input.lastChromeDelete=Date.now()),as&&!E&&g.start()!=b.start()&&b.parentOffset==0&&g.depth==b.depth&&u.sel&&u.sel.anchor==u.sel.head&&u.sel.head==m.endA&&(m.endB-=2,b=u.doc.resolveNoCache(m.endB-u.from),setTimeout(()=>{e.someProp("handleKeyDown",function(B){return B(e,Do(13,"Enter"))})},20));let C=m.start,D=m.endA,_,M,G;if(E){if(g.pos==b.pos)nr&&Zs<=11&&g.parentOffset==0&&(e.domObserver.suppressSelectionUpdates(),setTimeout(()=>fs(e),20)),_=e.state.tr.delete(C,D),M=c.resolve(m.start).marksAcross(c.resolve(m.endA));else if(m.endA==m.endB&&(G=Ane(g.parent.content.cut(g.parentOffset,b.parentOffset),y.parent.content.cut(y.parentOffset,m.endA-y.start()))))_=e.state.tr,G.type=="add"?_.addMark(C,D,G.mark):_.removeMark(C,D,G.mark);else if(g.parent.child(g.index()).isText&&g.index()==b.index()-(b.textOffset?0:1)){let B=g.parent.textBetween(g.parentOffset,b.parentOffset);if(e.someProp("handleTextInput",K=>K(e,C,D,B)))return;_=e.state.tr.insertText(B,C,D)}}if(_||(_=e.state.tr.replace(C,D,u.doc.slice(m.start-u.from,m.endB-u.from))),u.sel){let B=iw(e,_.doc,u.sel);B&&!(Nn&&e.composing&&B.empty&&(m.start!=m.endB||e.input.lastChromeDelete<Date.now()-100)&&(B.head==C||B.head==_.mapping.map(D)-1)||nr&&B.empty&&B.head==C)&&_.setSelection(B)}M&&_.ensureMarks(M),s&&_.setMeta("composition",s),e.dispatch(_.scrollIntoView())}function iw(e,t,n){return Math.max(n.anchor,n.head)>t.content.size?null:x1(e,t.resolve(n.anchor),t.resolve(n.head))}function Ane(e,t){let n=e.firstChild.marks,r=t.firstChild.marks,i=n,s=r,o,a,l;for(let c=0;c<r.length;c++)i=r[c].removeFromSet(i);for(let c=0;c<n.length;c++)s=n[c].removeFromSet(s);if(i.length==1&&s.length==0)a=i[0],o="add",l=c=>c.mark(a.addToSet(c.marks));else if(i.length==0&&s.length==1)a=s[0],o="remove",l=c=>c.mark(a.removeFromSet(c.marks));else return null;let u=[];for(let c=0;c<t.childCount;c++)u.push(l(t.child(c)));if(se.from(u).eq(e))return{mark:a,type:o}}function kne(e,t,n,r,i){if(n-t<=i.pos-r.pos||Rm(r,!0,!1)<i.pos)return!1;let s=e.resolve(t);if(!r.parent.isTextblock){let a=s.nodeAfter;return a!=null&&n==t+a.nodeSize}if(s.parentOffset<s.parent.content.size||!s.parent.isTextblock)return!1;let o=e.resolve(Rm(s,!0,!0));return!o.parent.isTextblock||o.pos>n||Rm(o,!0,!1)<n?!1:r.parent.content.cut(r.parentOffset).eq(o.parent.content)}function Rm(e,t,n){let r=e.depth,i=t?e.end():e.pos;for(;r>0&&(t||e.indexAfter(r)==e.node(r).childCount);)r--,i++,t=!1;if(n){let s=e.node(r).maybeChild(e.indexAfter(r));for(;s&&!s.isLeaf;)s=s.firstChild,i++}return i}function One(e,t,n,r,i){let s=e.findDiffStart(t,n);if(s==null)return null;let{a:o,b:a}=e.findDiffEnd(t,n+e.size,n+t.size);if(i=="end"){let l=Math.max(0,s-Math.min(o,a));r-=o+l-s}if(o<s&&e.size<t.size){let l=r<=s&&r>=o?s-r:0;s-=l,s&&s<t.size&&sw(t.textBetween(s-1,s+1))&&(s+=l?1:-1),a=s+(a-o),o=s}else if(a<s){let l=r<=s&&r>=a?s-r:0;s-=l,s&&s<e.size&&sw(e.textBetween(s-1,s+1))&&(s+=l?1:-1),o=s+(o-a),a=s}return{start:s,endA:o,endB:a}}function sw(e){if(e.length!=2)return!1;let t=e.charCodeAt(0),n=e.charCodeAt(1);return t>=56320&&t<=57343&&n>=55296&&n<=56319}class Ine{constructor(t,n){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new Kte,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=n,this.state=n.state,this.directPlugins=n.plugins||[],this.directPlugins.forEach(cw),this.dispatch=this.dispatch.bind(this),this.dom=t&&t.mount||document.createElement("div"),t&&(t.appendChild?t.appendChild(this.dom):typeof t=="function"?t(this.dom):t.mount&&(this.mounted=!0)),this.editable=lw(this),aw(this),this.nodeViews=uw(this),this.docView=UT(this.state.doc,ow(this),Nm(this),this.dom,this),this.domObserver=new _ne(this,(r,i,s,o)=>Sne(this,r,i,s,o)),this.domObserver.start(),Xte(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let t=this._props;this._props={};for(let n in t)this._props[n]=t[n];this._props.state=this.state}return this._props}update(t){t.handleDOMEvents!=this._props.handleDOMEvents&&E0(this);let n=this._props;this._props=t,t.plugins&&(t.plugins.forEach(cw),this.directPlugins=t.plugins),this.updateStateInner(t.state,n)}setProps(t){let n={};for(let r in this._props)n[r]=this._props[r];n.state=this.state;for(let r in t)n[r]=t[r];this.update(n)}updateState(t){this.updateStateInner(t,this._props)}updateStateInner(t,n){var r;let i=this.state,s=!1,o=!1;t.storedMarks&&this.composing&&(uI(this),o=!0),this.state=t;let a=i.plugins!=t.plugins||this._props.plugins!=n.plugins;if(a||this._props.plugins!=n.plugins||this._props.nodeViews!=n.nodeViews){let p=uw(this);Rne(p,this.nodeViews)&&(this.nodeViews=p,s=!0)}(a||n.handleDOMEvents!=this._props.handleDOMEvents)&&E0(this),this.editable=lw(this),aw(this);let l=Nm(this),u=ow(this),c=i.plugins!=t.plugins&&!i.doc.eq(t.doc)?"reset":t.scrollToSelection>i.scrollToSelection?"to selection":"preserve",d=s||!this.docView.matchesNode(t.doc,u,l);(d||!t.selection.eq(i.selection))&&(o=!0);let f=c=="preserve"&&o&&this.dom.style.overflowAnchor==null&&cte(this);if(o){this.domObserver.stop();let p=d&&(nr||Nn)&&!this.composing&&!i.selection.empty&&!t.selection.empty&&Nne(i.selection,t.selection);if(d){let m=Nn?this.trackWrites=this.domSelectionRange().focusNode:null;this.composing&&(this.input.compositionNode=une(this)),(s||!this.docView.update(t.doc,u,l,this))&&(this.docView.updateOuterDeco(u),this.docView.destroy(),this.docView=UT(t.doc,u,l,this.dom,this)),m&&!this.trackWrites&&(p=!0)}p||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&Mte(this))?fs(this,p):(Q2(this,t.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(i),!((r=this.dragging)===null||r===void 0)&&r.node&&!i.doc.eq(t.doc)&&this.updateDraggedNode(this.dragging,i),c=="reset"?this.dom.scrollTop=0:c=="to selection"?this.scrollToSelection():f&&dte(f)}scrollToSelection(){let t=this.domSelectionRange().focusNode;if(!(!t||!this.dom.contains(t.nodeType==1?t:t.parentNode))){if(!this.someProp("handleScrollToSelection",n=>n(this)))if(this.state.selection instanceof ze){let n=this.docView.domAfterPos(this.state.selection.from);n.nodeType==1&&MT(this,n.getBoundingClientRect(),t)}else MT(this,this.coordsAtPos(this.state.selection.head,1),t)}}destroyPluginViews(){let t;for(;t=this.pluginViews.pop();)t.destroy&&t.destroy()}updatePluginViews(t){if(!t||t.plugins!=this.state.plugins||this.directPlugins!=this.prevDirectPlugins){this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let n=0;n<this.directPlugins.length;n++){let r=this.directPlugins[n];r.spec.view&&this.pluginViews.push(r.spec.view(this))}for(let n=0;n<this.state.plugins.length;n++){let r=this.state.plugins[n];r.spec.view&&this.pluginViews.push(r.spec.view(this))}}else for(let n=0;n<this.pluginViews.length;n++){let r=this.pluginViews[n];r.update&&r.update(this,t)}}updateDraggedNode(t,n){let r=t.node,i=-1;if(this.state.doc.nodeAt(r.from)==r.node)i=r.from;else{let s=r.from+(this.state.doc.content.size-n.doc.content.size);(s>0&&this.state.doc.nodeAt(s))==r.node&&(i=s)}this.dragging=new dI(t.slice,t.move,i<0?void 0:ze.create(this.state.doc,i))}someProp(t,n){let r=this._props&&this._props[t],i;if(r!=null&&(i=n?n(r):r))return i;for(let o=0;o<this.directPlugins.length;o++){let a=this.directPlugins[o].props[t];if(a!=null&&(i=n?n(a):a))return i}let s=this.state.plugins;if(s)for(let o=0;o<s.length;o++){let a=s[o].props[t];if(a!=null&&(i=n?n(a):a))return i}}hasFocus(){if(nr){let t=this.root.activeElement;if(t==this.dom)return!0;if(!t||!this.dom.contains(t))return!1;for(;t&&this.dom!=t&&this.dom.contains(t);){if(t.contentEditable=="false")return!1;t=t.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&fte(this.dom),fs(this),this.domObserver.start()}get root(){let t=this._root;if(t==null){for(let n=this.dom.parentNode;n;n=n.parentNode)if(n.nodeType==9||n.nodeType==11&&n.host)return n.getSelection||(Object.getPrototypeOf(n).getSelection=()=>n.ownerDocument.getSelection()),this._root=n}return t||document}updateRoot(){this._root=null}posAtCoords(t){return bte(this,t)}coordsAtPos(t,n=1){return V2(this,t,n)}domAtPos(t,n=0){return this.docView.domFromPos(t,n)}nodeDOM(t){let n=this.docView.descAt(t);return n?n.nodeDOM:null}posAtDOM(t,n,r=-1){let i=this.docView.posFromDOM(t,n,r);if(i==null)throw new RangeError("DOM position not inside the editor");return i}endOfTextblock(t,n){return Tte(this,n||this.state,t)}pasteHTML(t,n){return pc(this,"",t,!1,n||new ClipboardEvent("paste"))}pasteText(t,n){return pc(this,t,null,!0,n||new ClipboardEvent("paste"))}serializeForClipboard(t){return C1(this,t)}destroy(){this.docView&&(Qte(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],Nm(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null,Zee())}get isDestroyed(){return this.docView==null}dispatchEvent(t){return Zte(this,t)}dispatch(t){let n=this._props.dispatchTransaction;n?n.call(this,t):this.updateState(this.state.apply(t))}domSelectionRange(){let t=this.domSelection();return t?Vn&&this.root.nodeType===11&&ite(this.dom.ownerDocument)==this.dom&&vne(this,t)||t:{focusNode:null,focusOffset:0,anchorNode:null,anchorOffset:0}}domSelection(){return this.root.getSelection()}}function ow(e){let t=Object.create(null);return t.class="ProseMirror",t.contenteditable=String(e.editable),e.someProp("attributes",n=>{if(typeof n=="function"&&(n=n(e.state)),n)for(let r in n)r=="class"?t.class+=" "+n[r]:r=="style"?t.style=(t.style?t.style+";":"")+n[r]:!t[r]&&r!="contenteditable"&&r!="nodeName"&&(t[r]=String(n[r]))}),t.translate||(t.translate="no"),[dn.node(0,e.state.doc.content.size,t)]}function aw(e){if(e.markCursor){let t=document.createElement("img");t.className="ProseMirror-separator",t.setAttribute("mark-placeholder","true"),t.setAttribute("alt",""),e.cursorWrapper={dom:t,deco:dn.widget(e.state.selection.from,t,{raw:!0,marks:e.markCursor})}}else e.cursorWrapper=null}function lw(e){return!e.someProp("editable",t=>t(e.state)===!1)}function Nne(e,t){let n=Math.min(e.$anchor.sharedDepth(e.head),t.$anchor.sharedDepth(t.head));return e.$anchor.start(n)!=t.$anchor.start(n)}function uw(e){let t=Object.create(null);function n(r){for(let i in r)Object.prototype.hasOwnProperty.call(t,i)||(t[i]=r[i])}return e.someProp("nodeViews",n),e.someProp("markViews",n),t}function Rne(e,t){let n=0,r=0;for(let i in e){if(e[i]!=t[i])return!0;n++}for(let i in t)r++;return n!=r}function cw(e){if(e.spec.state||e.spec.filterTransaction||e.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}var mc=Dne;function Dne(e,t){for(var n={},r=Object.keys(e),i=r.length,s=0;s<i;s++){var o=r[s];n[o]=t(e[o],o,e)}return n}var Rr=class extends Error{},Mne=class extends Rr{constructor(){super("Unable to find editor. Pass it as an argument or call this function inside a ProseKit component.")}},gI=class extends Rr{constructor(){super("Unable to find browser Document. When not in the browser environment, you need to pass a DOM Document.")}};function Nl(e,t){if(typeof t=="string"){const n=e.marks[t];if(!n)throw new Rr(`Cannot find mark type "${t}"`);return n}return t}function fn(e,t="Assertion failed"){if(!e)throw new Rr(t)}function Rn(e,t){if(typeof t=="string"){const n=e.nodes[t];if(!n)throw new Rr(`Cannot find ProseMirror node type "${t}"`);return n}return t}var Pne=0,bI=class{constructor(e,t,n,r){this._reducer=n,this._reduce=r,this.index=Pne++,fn((r||n)&&!(r&&n)),this.parent=e,this.singleton=t,this.path=e?[...e.path,this.index]:[]}get reducer(){var e;return this._reducer??((e=this._reduce)==null?void 0:e.call(this))}};function mn(e){return new bI(e.parent,e.singleton??!1,e.reducer,e.reduce)}function N1(e){return e instanceof Js}function Lne(e){return e instanceof Fe}function yI(e){return e instanceof Ue}function zr(e){return e!=null}function Bne(e){let t,n,r,i;for(const o of e)t=o.schema||t,n=o.commands||n,r=o.state||r,i=o.view||i;const s=t&&((r==null?void 0:r({schema:t}))??{schema:t});return{schema:t,state:s,commands:n,view:i}}var R1=new bI(null,!0,Bne),_I=mn({reducer:e=>{fn(e.length<=1);const t=e[0];return{schema:t?new Eee(t):null}},parent:R1,singleton:!0}),EI=class{constructor(){this.trees=[null,null,null,null,null]}getTree(e){var t;const n=e??this.priority??2;return(t=this.trees)[n]||(t[n]=this.createTree(n))}findFacetOutput(e){let t=this.getTree();for(const n of e.path)t=t==null?void 0:t.children.get(n);return(t==null?void 0:t.getOutput())??null}get schema(){var t;const e=this.findFacetOutput(_I);return((t=e==null?void 0:e.find(Boolean))==null?void 0:t.schema)??null}};function vI(e,t){const n=[...e];for(const r of t)n.includes(r)||n.push(r);return n}function $ne(e,t){return e.filter(n=>!t.includes(n))}function TI(e){var t;return((t=e.toReversed)==null?void 0:t.call(e))??[...e].reverse()}function wI(e,t,n){return[n(e[0],t[0]),n(e[1],t[1]),n(e[2],t[2]),n(e[3],t[3]),n(e[4],t[4])]}function Fne(e,t){return!e&&!t?null:vI(e??[],t??[])}function Une(e,t){return e?t?$ne(e,t):[...e]:null}function Hne(e,t){const n=new Map(e);for(const[r,i]of t.entries()){const s=e.get(r);n.set(r,s?D1(s,i):i)}return n}function zne(e,t){const n=new Map(e);for(const[r,i]of t.entries()){const s=e.get(r);s&&n.set(r,xI(s,i))}return n}function D1(e,t){return fn(e.facet===t.facet),new Yf(e.facet,wI(e.inputs,t.inputs,Fne),Hne(e.children,t.children),e.reducers)}function xI(e,t){return fn(e.facet===t.facet),new Yf(e.facet,wI(e.inputs,t.inputs,Une),zne(e.children,t.children),e.reducers)}var Yf=class{constructor(e,t=[null,null,null,null,null],n=new Map,r=[null,null,null,null,null]){this.facet=e,this.inputs=t,this.children=n,this.reducers=r,this.output=null}calcOutput(){var e,t,n;const r=[null,null,null,null,null],i=[null,null,null,null,null];for(let s=0;s<5;s++){const o=this.inputs[s];o&&(r[s]=[...o])}for(const s of this.children.values()){const o=s.getOutput();for(let a=0;a<5;a++)o[a]&&(r[a]||(r[a]=[])).push(o[a])}if(this.facet.singleton){const s=(e=this.reducers)[t=2]||(e[t]=this.facet.reducer),o=r.filter(zr).flat();i[2]=s(o)}else for(let s=0;s<5;s++){const o=r[s];if(o){const a=(n=this.reducers)[s]||(n[s]=this.facet.reducer);i[s]=a(o)}}return i}getOutput(){return this.output||(this.output=this.calcOutput()),this.output}getSingletonOutput(){return fn(this.facet.singleton),this.getOutput()[2]}getRootOutput(){fn(this.isRoot());const e=this.getSingletonOutput();return fn(e),e}isRoot(){return!this.facet.parent}},Vne=class extends EI{constructor(e,t){super(),this.facet=e,this.payloads=t}createTree(e){const t=this.priority??e,n=[null,null,null,null,null];n[t]=[...this.payloads];let r=new Yf(this.facet,n);for(;r.facet.parent;){const i=new Map([[r.facet.index,r]]);r=new Yf(r.facet.parent,void 0,i)}return r}};function Tr(e,t){return new Vne(e,t)}function jne(e){return typeof e=="object"&&e!=null}var qne=1;function gc(e){return jne(e)&&e.nodeType===qne&&typeof e.nodeName=="string"}function Wne(){if(typeof document<"u")return document;if(typeof globalThis<"u"&&globalThis.document)return globalThis.document}function CI(){if(typeof window<"u")return window;if(typeof globalThis<"u"&&globalThis.window)return globalThis.window}function SI(e){var t;return(e==null?void 0:e.document)??Wne()??((t=CI())==null?void 0:t.document)}function Yne(e){var t,n;return((t=e==null?void 0:e.document)==null?void 0:t.defaultView)??CI()??((n=SI(e))==null?void 0:n.defaultView)??void 0}function Gne(e){const t=SI(e);if(t)return t;throw new gI}function Kne(e){const t=Yne(e);if(t)return t;throw new gI}function AI(e){return e.toJSON()}function Xne(e,t){const{DOMParser:n,schema:r,...i}=t;return(n||al).fromSchema(r).parse(e,i)}function Qne(e,t){const n=(t==null?void 0:t.DOMSerializer)||ai,r=Gne(t),i=e.type.schema,s=n.fromSchema(i);return i.topNodeType!==e.type?s.serializeNode(e,{document:r}):s.serializeFragment(e.content,{document:r},r.createElement("div"))}function Jne(e,t){const n=Kne(t);return new n.DOMParser().parseFromString(`<body><div>${e}</div></body>`,"text/html").body.firstElementChild}function Zne(e,t){return Qne(e,t).outerHTML}function kI(e,t){return AI(Xne(e,t))}function ere(e,t){return kI(Jne(e,t),t)}var OI=mn({reduce:()=>{let e=[];const t=n=>{const r=e.map(s=>s(n)),i={schema:n.schema,storedMarks:[],plugins:[]};for(const s of r)i.schema=i.schema??s.schema,i.doc=i.doc??s.doc,i.selection=i.selection??s.selection,i.storedMarks=[...i.storedMarks,...s.storedMarks??[]],i.plugins=vI(i.plugins??[],s.plugins??[]);return fn(i.doc||i.schema,"Can't create state without a schema nor a document"),i.doc&&(i.schema=void 0),i};return function(r){return e=r,{state:t}}},singleton:!0,parent:R1});function II(e,t){return typeof t=="string"?ere(t,{schema:e}):gc(t)?kI(t,{schema:e}):t}function tre(e,t){return N1(t)?t:e.nodeFromJSON(II(e,t))}function nre(e,t){const n=tre(e,t);return fn(n.type.schema===e,"Document schema does not match editor schema"),fn(n.type===e.topNodeType,`Document type does not match editor top node type. Expected ${e.topNodeType.name}, got ${n.type.name}`),n}function rre(e,t){return Lne(t)?(fn(t.$head.doc===e,"Selection and doc do not match"),t):t==="start"?Fe.atStart(e):t==="end"?Fe.atEnd(e):Fe.fromJSON(e,t)}function ire({defaultSelection:e,defaultContent:t,defaultDoc:n,defaultHTML:r}){const i=t||n||r;return Tr(OI,[({schema:s})=>{const o={};if(i){const a=II(s,i);o.doc=s.nodeFromJSON(a),e&&(o.selection=Fe.fromJSON(o.doc,e))}return o}])}function sre(e,t){return Object.keys(e).every(n=>e[n]===t[n])}function NI(e,t,n){return n=n||{},e.some(r=>r.type===t&&sre(n,r.attrs))}function RI(e,t,n,r,i){let s=!1,o=!1;return e.nodesBetween(t,n,(a,l,u)=>{if(s)return!1;(u==null?void 0:u.type.allowsMarkType(r))&&!a.marks.some(d=>d.type!==r&&d.type.excludes(r))&&(o=!0,NI(a.marks,r,i)||(s=!0))}),o?s:!0}function ore(e,t,n){const{from:r,$from:i,to:s,empty:o}=e.selection,a=Nl(e.schema,t);if(o){const l=e.storedMarks||i.marks();return NI(l,a,n)}else return!RI(e.doc,r,s,a,n)}var are=class extends EI{constructor(e=[]){super(),this.extension=e}createTree(e){const t=this.priority??e,n=[...this.extension];n.sort((s,o)=>(s.priority??t)-(o.priority??t));const r=n.map(s=>s.getTree(t));fn(r.length>0);let i=r[0];for(let s=1;s<r.length;s++)i=D1(i,r[s]);return i}};function Gt(...e){const t=e.flat();return fn(t.length>0,"At least one extension is required"),new are(t)}function Bu(e,t){if(e===t)return!0;if(!e||!t)return!1;if(Array.isArray(e)&&Array.isArray(t))return e.length===t.length&&e.every((n,r)=>Bu(n,t[r]));if(e instanceof Lt&&t instanceof Lt)return e.size===t.size&&Bu(e.toObject(),t.toObject());if(typeof e=="object"&&typeof t=="object"){const n=Object.keys(e),r=Object.keys(t);return n.length===r.length&&n.every(i=>Bu(e[i],t[i]))}return!1}function lre(e,t){const n=e.attrs;for(const[r,i]of Object.entries(t))if(n[r]!==i)return!1;return!0}function M1(e,t,n){const r=e.selection.$from,i=Rn(e.schema,t);for(let s=r.depth;s>=0;s--){const o=r.node(s);if(o.type===i&&(!n||lre(o,n)))return!0}return!1}function ure(e,t,n=gre){return mc(e.nodes,r=>cre(r,t,n))}function cre(e,t,n){const r=(...i)=>mre(e,i,n);return r.isActive=i=>{const s=t();return s?M1(s,e,i):!1},r}function dre(e,t,n=hre){return mc(e.marks,r=>fre(r,t,n))}function fre(e,t,n){const r=(...i)=>pre(e,i,n);return r.isActive=i=>{const s=t();return s?ore(s,e,i):!1},r}function pre(e,t,n){const[r,i]=DI(t),s=e.create(r);return n(s,P1(e.schema,i))}var hre=(e,t)=>t.map(n=>n.mark(e.addToSet(n.marks)));function mre(e,t,n){const[r,i]=DI(t);return n(e,r,P1(e.schema,i))}var gre=(e,t,n)=>{const r=e.createAndFill(t,n);return fn(r,`Failed to create node ${e.name}`),r};function P1(e,t){const n=[];for(const r of t)if(typeof r=="string")r&&n.push(e.text(r,null));else if(Array.isArray(r))n.push(...P1(e,r));else if(N1(r))n.push(r);else throw new Rr(`Invalid node child: ${typeof r}`);return n}function DI(e){const[t,...n]=e;return bre(t)?(n.unshift(t),[null,n]):typeof t=="object"?[t,n]:[null,n]}function bre(e){return e?typeof e=="string"||Array.isArray(e)||N1(e):!1}function yre(e){return e.defaultContent||e.defaultDoc||e.defaultHTML?Gt(e.extension,ire(e)):e.extension}function _re(e){const t=yre(e),n=new MI(t);return new Ere(n)}var MI=class{constructor(e){this.view=null,this.commands={},this.afterMounted=[],this.getState=()=>{var s;return((s=this.view)==null?void 0:s.state)||this.directEditorProps.state},this.dispatch=s=>{this.view?this.view.dispatch(s):this.directEditorProps.state=this.directEditorProps.state.apply(s)},this.getDocJSON=()=>{const s=this.getState();return AI(s.doc)},this.getDocHTML=s=>{const o=this.getProp("clipboardSerializer"),a=o?{fromSchema:()=>o}:void 0,l=this.getDoc();return Zne(l,{...s,DOMSerializer:a})},this.tree=e.getTree();const t=this.tree.getRootOutput(),n=t.schema,r=t.state;fn(n&&r,"Schema must be defined");const i=Po.create(r);if(t.commands)for(const[s,o]of Object.entries(t.commands))this.defineCommand(s,o);this.nodes=ure(i.schema,this.getState),this.marks=dre(i.schema,this.getState),this.schema=i.schema,this.directEditorProps={state:i,...t.view}}getDoc(){return this.getState().doc}getProp(e){var t;return((t=this.view)==null?void 0:t.someProp(e))??this.directEditorProps[e]}updateState(e){this.view?this.view.updateState(e):this.directEditorProps.state=e}setContent(e,t){const n=nre(this.schema,e);n.check();const r=rre(n,t||"start"),i=this.getState();if(n.eq(i.doc)&&(!t||r.eq(i.selection)))return;const s=Po.create({doc:n,selection:r,plugins:i.plugins});this.updateState(s)}updateExtension(e,t){var u,c;const n=this.view;if(!n||n.isDestroyed)return;const r=e.getTree(),i=r.getRootOutput();if(i!=null&&i.schema)throw new Rr("Schema cannot be changed");if(i!=null&&i.view)throw new Rr("View cannot be changed");const s=this.tree.getRootOutput(),o=[...((u=n.state)==null?void 0:u.plugins)??[]];this.tree=t?D1(this.tree,r):xI(this.tree,r);const a=this.tree.getRootOutput(),l=[...((c=a==null?void 0:a.state)==null?void 0:c.plugins)??[]];if(!Bu(o,l)){const d=n.state.reconfigure({plugins:l});n.updateState(d)}if(a!=null&&a.commands&&!Bu(s==null?void 0:s.commands,a==null?void 0:a.commands)){const d=a.commands,f=Object.keys(d);for(const p of f)this.defineCommand(p,d[p])}}use(e){if(!this.mounted){let t=!1,n=null;const r=()=>{t||(n=this.use(e))};return this.afterMounted.push(r),()=>{t=!0,n==null||n()}}return this.updateExtension(e,!0),()=>this.updateExtension(e,!1)}mount(e){if(this.view)throw new Rr("Editor is already mounted");this.view=new Ine({mount:e},this.directEditorProps),this.afterMounted.forEach(t=>t())}unmount(){this.view&&(this.directEditorProps.state=this.view.state,this.view.destroy(),this.view=null)}get mounted(){return!!this.view&&!this.view.isDestroyed}get assertView(){if(!this.view)throw new Rr("Editor is not mounted");return this.view}definePlugins(e){const t=this.assertView,n=t.state,r=[...e,...n.plugins],i=n.reconfigure({plugins:r});t.setProps({state:i})}removePlugins(e){const t=this.view;if(!t)return;const n=t.state,r=n.plugins.filter(s=>!e.includes(s)),i=n.reconfigure({plugins:r});t.setProps({state:i})}exec(e){const t=this.getState();return e(t,this.dispatch,this.view??void 0)}canExec(e){const t=this.getState();return e(t,void 0,this.view??void 0)}defineCommand(e,t){const n=(...i)=>{const s=t(...i);return this.exec(s)},r=(...i)=>{const s=t(...i);return this.canExec(s)};n.canApply=r,n.canExec=r,this.commands[e]=n}removeCommand(e){delete this.commands[e]}},Ere=class{constructor(e){if(this.mount=t=>{t?this.instance.mount(t):this.instance.unmount()},this.unmount=()=>{this.instance.unmount()},this.focus=()=>{var t;(t=this.instance.view)==null||t.focus()},this.blur=()=>{var t;(t=this.instance.view)==null||t.dom.blur()},this.use=t=>this.instance.use(t),this.updateState=t=>{this.instance.updateState(t)},this.setContent=(t,n)=>this.instance.setContent(t,n),this.getDocJSON=()=>this.instance.getDocJSON(),this.getDocHTML=t=>this.instance.getDocHTML(t),this.exec=t=>this.instance.exec(t),this.canExec=t=>this.instance.canExec(t),!(e instanceof MI))throw new TypeError("Invalid EditorInstance");this.instance=e}get mounted(){return this.instance.mounted}get view(){return this.instance.assertView}get schema(){return this.instance.schema}get state(){return this.instance.getState()}get focused(){var e;return((e=this.instance.view)==null?void 0:e.hasFocus())??!1}get commands(){return this.instance.commands}get nodes(){return this.instance.nodes}get marks(){return this.instance.marks}};const Rl=(e,t)=>e.selection.empty?!1:(t&&t(e.tr.deleteSelection().scrollIntoView()),!0);function PI(e,t){let{$cursor:n}=e.selection;return!n||(t?!t.endOfTextblock("backward",e):n.parentOffset>0)?null:n}const LI=(e,t,n)=>{let r=PI(e,n);if(!r)return!1;let i=B1(r);if(!i){let o=r.blockRange(),a=o&&Vc(o);return a==null?!1:(t&&t(e.tr.lift(o,a).scrollIntoView()),!0)}let s=i.nodeBefore;if(VI(e,i,t,-1))return!0;if(r.parent.content.size==0&&(dl(s,"end")||ze.isSelectable(s)))for(let o=r.depth;;o--){let a=jc(e.doc,r.before(o),r.after(o),he.empty);if(a&&a.slice.size<a.to-a.from){if(t){let l=e.tr.step(a);l.setSelection(dl(s,"end")?Fe.findFrom(l.doc.resolve(l.mapping.map(i.pos,-1)),-1):ze.create(l.doc,i.pos-s.nodeSize)),t(l.scrollIntoView())}return!0}if(o==1||r.node(o-1).childCount>1)break}return s.isAtom&&i.depth==r.depth-1?(t&&t(e.tr.delete(i.pos-s.nodeSize,i.pos).scrollIntoView()),!0):!1},BI=(e,t,n)=>{let r=PI(e,n);if(!r)return!1;let i=B1(r);return i?$I(e,i,t):!1},vre=(e,t,n)=>{let r=FI(e,n);if(!r)return!1;let i=$1(r);return i?$I(e,i,t):!1};function $I(e,t,n){let r=t.nodeBefore,i=r,s=t.pos-1;for(;!i.isTextblock;s--){if(i.type.spec.isolating)return!1;let c=i.lastChild;if(!c)return!1;i=c}let o=t.nodeAfter,a=o,l=t.pos+1;for(;!a.isTextblock;l++){if(a.type.spec.isolating)return!1;let c=a.firstChild;if(!c)return!1;a=c}let u=jc(e.doc,s,l,he.empty);if(!u||u.from!=s||u instanceof ln&&u.slice.size>=l-s)return!1;if(n){let c=e.tr.step(u);c.setSelection(Ue.create(c.doc,s)),n(c.scrollIntoView())}return!0}function dl(e,t,n=!1){for(let r=e;r;r=t=="start"?r.firstChild:r.lastChild){if(r.isTextblock)return!0;if(n&&r.childCount!=1)return!1}return!1}const L1=(e,t,n)=>{let{$head:r,empty:i}=e.selection,s=r;if(!i)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("backward",e):r.parentOffset>0)return!1;s=B1(r)}let o=s&&s.nodeBefore;return!o||!ze.isSelectable(o)?!1:(t&&t(e.tr.setSelection(ze.create(e.doc,s.pos-o.nodeSize)).scrollIntoView()),!0)};function B1(e){if(!e.parent.type.spec.isolating)for(let t=e.depth-1;t>=0;t--){if(e.index(t)>0)return e.doc.resolve(e.before(t+1));if(e.node(t).type.spec.isolating)break}return null}function FI(e,t){let{$cursor:n}=e.selection;return!n||(t?!t.endOfTextblock("forward",e):n.parentOffset<n.parent.content.size)?null:n}const Tre=(e,t,n)=>{let r=FI(e,n);if(!r)return!1;let i=$1(r);if(!i)return!1;let s=i.nodeAfter;if(VI(e,i,t,1))return!0;if(r.parent.content.size==0&&(dl(s,"start")||ze.isSelectable(s))){let o=jc(e.doc,r.before(),r.after(),he.empty);if(o&&o.slice.size<o.to-o.from){if(t){let a=e.tr.step(o);a.setSelection(dl(s,"start")?Fe.findFrom(a.doc.resolve(a.mapping.map(i.pos)),1):ze.create(a.doc,a.mapping.map(i.pos))),t(a.scrollIntoView())}return!0}}return s.isAtom&&i.depth==r.depth-1?(t&&t(e.tr.delete(i.pos,i.pos+s.nodeSize).scrollIntoView()),!0):!1},UI=(e,t,n)=>{let{$head:r,empty:i}=e.selection,s=r;if(!i)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("forward",e):r.parentOffset<r.parent.content.size)return!1;s=$1(r)}let o=s&&s.nodeAfter;return!o||!ze.isSelectable(o)?!1:(t&&t(e.tr.setSelection(ze.create(e.doc,s.pos)).scrollIntoView()),!0)};function $1(e){if(!e.parent.type.spec.isolating)for(let t=e.depth-1;t>=0;t--){let n=e.node(t);if(e.index(t)+1<n.childCount)return e.doc.resolve(e.after(t+1));if(n.type.spec.isolating)break}return null}const wre=(e,t)=>{let{$from:n,$to:r}=e.selection,i=n.blockRange(r),s=i&&Vc(i);return s==null?!1:(t&&t(e.tr.lift(i,s).scrollIntoView()),!0)},F1=(e,t)=>{let{$head:n,$anchor:r}=e.selection;return!n.parent.type.spec.code||!n.sameParent(r)?!1:(t&&t(e.tr.insertText(`
`).scrollIntoView()),!0)};function U1(e){for(let t=0;t<e.edgeCount;t++){let{type:n}=e.edge(t);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}const xre=(e,t)=>{let{$head:n,$anchor:r}=e.selection;if(!n.parent.type.spec.code||!n.sameParent(r))return!1;let i=n.node(-1),s=n.indexAfter(-1),o=U1(i.contentMatchAt(s));if(!o||!i.canReplaceWith(s,s,o))return!1;if(t){let a=n.after(),l=e.tr.replaceWith(a,a,o.createAndFill());l.setSelection(Fe.near(l.doc.resolve(a),1)),t(l.scrollIntoView())}return!0},H1=(e,t)=>{let n=e.selection,{$from:r,$to:i}=n;if(n instanceof Hn||r.parent.inlineContent||i.parent.inlineContent)return!1;let s=U1(i.parent.contentMatchAt(i.indexAfter()));if(!s||!s.isTextblock)return!1;if(t){let o=(!r.parentOffset&&i.index()<i.parent.childCount?r:i).pos,a=e.tr.insert(o,s.createAndFill());a.setSelection(Ue.create(a.doc,o+1)),t(a.scrollIntoView())}return!0},HI=(e,t)=>{let{$cursor:n}=e.selection;if(!n||n.parent.content.size)return!1;if(n.depth>1&&n.after()!=n.end(-1)){let s=n.before();if(ds(e.doc,s))return t&&t(e.tr.split(s).scrollIntoView()),!0}let r=n.blockRange(),i=r&&Vc(r);return i==null?!1:(t&&t(e.tr.lift(r,i).scrollIntoView()),!0)};function Cre(e){return(t,n)=>{let{$from:r,$to:i}=t.selection;if(t.selection instanceof ze&&t.selection.node.isBlock)return!r.parentOffset||!ds(t.doc,r.pos)?!1:(n&&n(t.tr.split(r.pos).scrollIntoView()),!0);if(!r.depth)return!1;let s=[],o,a,l=!1,u=!1;for(let p=r.depth;;p--)if(r.node(p).isBlock){l=r.end(p)==r.pos+(r.depth-p),u=r.start(p)==r.pos-(r.depth-p),a=U1(r.node(p-1).contentMatchAt(r.indexAfter(p-1))),s.unshift(l&&a?{type:a}:null),o=p;break}else{if(p==1)return!1;s.unshift(null)}let c=t.tr;(t.selection instanceof Ue||t.selection instanceof Hn)&&c.deleteSelection();let d=c.mapping.map(r.pos),f=ds(c.doc,d,s.length,s);if(f||(s[0]=a?{type:a}:null,f=ds(c.doc,d,s.length,s)),c.split(d,s.length,s),!l&&u&&r.node(o).type!=a){let p=c.mapping.map(r.before(o)),m=c.doc.resolve(p);a&&r.node(o-1).canReplaceWith(m.index(),m.index()+1,a)&&c.setNodeMarkup(c.mapping.map(r.before(o)),a)}return n&&n(c.scrollIntoView()),!0}}const zI=Cre(),Sre=(e,t)=>(t&&t(e.tr.setSelection(new Hn(e.doc))),!0);function Are(e,t,n){let r=t.nodeBefore,i=t.nodeAfter,s=t.index();return!r||!i||!r.type.compatibleContent(i.type)?!1:!r.content.size&&t.parent.canReplace(s-1,s)?(n&&n(e.tr.delete(t.pos-r.nodeSize,t.pos).scrollIntoView()),!0):!t.parent.canReplace(s,s+1)||!(i.isTextblock||Wp(e.doc,t.pos))?!1:(n&&n(e.tr.join(t.pos).scrollIntoView()),!0)}function VI(e,t,n,r){let i=t.nodeBefore,s=t.nodeAfter,o,a,l=i.type.spec.isolating||s.type.spec.isolating;if(!l&&Are(e,t,n))return!0;let u=!l&&t.parent.canReplace(t.index(),t.index()+1);if(u&&(o=(a=i.contentMatchAt(i.childCount)).findWrapping(s.type))&&a.matchType(o[0]||s.type).validEnd){if(n){let p=t.pos+s.nodeSize,m=se.empty;for(let y=o.length-1;y>=0;y--)m=se.from(o[y].create(null,m));m=se.from(i.copy(m));let g=e.tr.step(new Jt(t.pos-1,p,t.pos,p,new he(m,1,0),o.length,!0)),b=g.doc.resolve(p+2*o.length);b.nodeAfter&&b.nodeAfter.type==i.type&&Wp(g.doc,b.pos)&&g.join(b.pos),n(g.scrollIntoView())}return!0}let c=s.type.spec.isolating||r>0&&l?null:Fe.findFrom(t,1),d=c&&c.$from.blockRange(c.$to),f=d&&Vc(d);if(f!=null&&f>=t.depth)return n&&n(e.tr.lift(d,f).scrollIntoView()),!0;if(u&&dl(s,"start",!0)&&dl(i,"end")){let p=i,m=[];for(;m.push(p),!p.isTextblock;)p=p.lastChild;let g=s,b=1;for(;!g.isTextblock;g=g.firstChild)b++;if(p.canReplace(p.childCount,p.childCount,g.content)){if(n){let y=se.empty;for(let T=m.length-1;T>=0;T--)y=se.from(m[T].copy(y));let E=e.tr.step(new Jt(t.pos-m.length,t.pos+s.nodeSize,t.pos+b,t.pos+s.nodeSize-b,new he(y,m.length,0),0,!0));n(E.scrollIntoView())}return!0}}return!1}function jI(e){return function(t,n){let r=t.selection,i=e<0?r.$from:r.$to,s=i.depth;for(;i.node(s).isInline;){if(!s)return!1;s--}return i.node(s).isTextblock?(n&&n(t.tr.setSelection(Ue.create(t.doc,e<0?i.start(s):i.end(s)))),!0):!1}}const kre=jI(-1),Ore=jI(1);function dw(e,t=null){return function(n,r){let i=!1;for(let s=0;s<n.selection.ranges.length&&!i;s++){let{$from:{pos:o},$to:{pos:a}}=n.selection.ranges[s];n.doc.nodesBetween(o,a,(l,u)=>{if(i)return!1;if(!(!l.isTextblock||l.hasMarkup(e,t)))if(l.type==e)i=!0;else{let c=n.doc.resolve(u),d=c.index();i=c.parent.canReplaceWith(d,d+1,e)}})}if(!i)return!1;if(r){let s=n.tr;for(let o=0;o<n.selection.ranges.length;o++){let{$from:{pos:a},$to:{pos:l}}=n.selection.ranges[o];s.setBlockType(a,l,e,t)}r(s.scrollIntoView())}return!0}}function Ire(e,t,n,r){for(let i=0;i<t.length;i++){let{$from:s,$to:o}=t[i],a=s.depth==0?e.inlineContent&&e.type.allowsMarkType(n):!1;if(e.nodesBetween(s.pos,o.pos,(l,u)=>{if(a||!r&&l.isAtom&&l.isInline&&u>=s.pos&&u+l.nodeSize<=o.pos)return!1;a=l.inlineContent&&l.type.allowsMarkType(n)}),a)return!0}return!1}function Nre(e){let t=[];for(let n=0;n<e.length;n++){let{$from:r,$to:i}=e[n];r.doc.nodesBetween(r.pos,i.pos,(s,o)=>{if(s.isAtom&&s.content.size&&s.isInline&&o>=r.pos&&o+s.nodeSize<=i.pos)return o+1>r.pos&&t.push(new Hf(r,r.doc.resolve(o+1))),r=r.doc.resolve(o+1+s.content.size),!1}),r.pos<i.pos&&t.push(new Hf(r,i))}return t}function Rre(e,t=null,n){let r=(n&&n.removeWhenPresent)!==!1,i=(n&&n.enterInlineAtoms)!==!1;return function(s,o){let{empty:a,$cursor:l,ranges:u}=s.selection;if(a&&!l||!Ire(s.doc,u,e,i))return!1;if(o)if(l)e.isInSet(s.storedMarks||l.marks())?o(s.tr.removeStoredMark(e)):o(s.tr.addStoredMark(e.create(t)));else{let c,d=s.tr;i||(u=Nre(u)),r?c=!u.some(f=>s.doc.rangeHasMark(f.$from.pos,f.$to.pos,e)):c=!u.every(f=>{let p=!1;return d.doc.nodesBetween(f.$from.pos,f.$to.pos,(m,g,b)=>{if(p)return!1;p=!e.isInSet(m.marks)&&!!b&&b.type.allowsMarkType(e)&&!(m.isText&&/^\s*$/.test(m.textBetween(Math.max(0,f.$from.pos-g),Math.min(m.nodeSize,f.$to.pos-g))))}),!p});for(let f=0;f<u.length;f++){let{$from:p,$to:m}=u[f];if(!c)d.removeMark(p.pos,m.pos,e);else{let g=p.pos,b=m.pos,y=p.nodeAfter,E=m.nodeBefore,T=y&&y.isText?/^\s*/.exec(y.text)[0].length:0,C=E&&E.isText?/\s*$/.exec(E.text)[0].length:0;g+T<b&&(g+=T,b-=C),d.addMark(g,b,e.create(t))}}o(d.scrollIntoView())}return!0}}function wr(...e){return function(t,n,r){for(let i=0;i<e.length;i++)if(e[i](t,n,r))return!0;return!1}}let Dm=wr(Rl,LI,L1),fw=wr(Rl,Tre,UI);const es={Enter:wr(F1,H1,HI,zI),"Mod-Enter":xre,Backspace:Dm,"Mod-Backspace":Dm,"Shift-Backspace":Dm,Delete:fw,"Mod-Delete":fw,"Mod-a":Sre},qI={"Ctrl-h":es.Backspace,"Alt-Backspace":es["Mod-Backspace"],"Ctrl-d":es.Delete,"Ctrl-Alt-Backspace":es["Mod-Delete"],"Alt-Delete":es["Mod-Delete"],"Alt-d":es["Mod-Delete"],"Ctrl-a":kre,"Ctrl-e":Ore};for(let e in es)qI[e]=es[e];const Dre=typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os<"u"&&os.platform?os.platform()=="darwin":!1,Mre=Dre?qI:es;var WI=pu;function pu(e){let t=e;var n={}.toString.call(e).slice(8,-1);if(n=="Set")return new Set([...e].map(i=>pu(i)));if(n=="Map")return new Map([...e].map(i=>[pu(i[0]),pu(i[1])]));if(n=="Date")return new Date(e.getTime());if(n=="RegExp")return RegExp(e.source,Pre(e));if(n=="Array"||n=="Object"){t=Array.isArray(e)?[]:{};for(var r in e)t[r]=pu(e[r])}return t}function Pre(e){if(typeof e.source.flags=="string")return e.source.flags;var t=[];return e.global&&t.push("g"),e.ignoreCase&&t.push("i"),e.multiline&&t.push("m"),e.sticky&&t.push("y"),e.unicode&&t.push("u"),t.join("")}var Gf=200,pn=function(){};pn.prototype.append=function(t){return t.length?(t=pn.from(t),!this.length&&t||t.length<Gf&&this.leafAppend(t)||this.length<Gf&&t.leafPrepend(this)||this.appendInner(t)):this};pn.prototype.prepend=function(t){return t.length?pn.from(t).append(this):this};pn.prototype.appendInner=function(t){return new Lre(this,t)};pn.prototype.slice=function(t,n){return t===void 0&&(t=0),n===void 0&&(n=this.length),t>=n?pn.empty:this.sliceInner(Math.max(0,t),Math.min(this.length,n))};pn.prototype.get=function(t){if(!(t<0||t>=this.length))return this.getInner(t)};pn.prototype.forEach=function(t,n,r){n===void 0&&(n=0),r===void 0&&(r=this.length),n<=r?this.forEachInner(t,n,r,0):this.forEachInvertedInner(t,n,r,0)};pn.prototype.map=function(t,n,r){n===void 0&&(n=0),r===void 0&&(r=this.length);var i=[];return this.forEach(function(s,o){return i.push(t(s,o))},n,r),i};pn.from=function(t){return t instanceof pn?t:t&&t.length?new YI(t):pn.empty};var YI=function(e){function t(r){e.call(this),this.values=r}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={length:{configurable:!0},depth:{configurable:!0}};return t.prototype.flatten=function(){return this.values},t.prototype.sliceInner=function(i,s){return i==0&&s==this.length?this:new t(this.values.slice(i,s))},t.prototype.getInner=function(i){return this.values[i]},t.prototype.forEachInner=function(i,s,o,a){for(var l=s;l<o;l++)if(i(this.values[l],a+l)===!1)return!1},t.prototype.forEachInvertedInner=function(i,s,o,a){for(var l=s-1;l>=o;l--)if(i(this.values[l],a+l)===!1)return!1},t.prototype.leafAppend=function(i){if(this.length+i.length<=Gf)return new t(this.values.concat(i.flatten()))},t.prototype.leafPrepend=function(i){if(this.length+i.length<=Gf)return new t(i.flatten().concat(this.values))},n.length.get=function(){return this.values.length},n.depth.get=function(){return 0},Object.defineProperties(t.prototype,n),t}(pn);pn.empty=new YI([]);var Lre=function(e){function t(n,r){e.call(this),this.left=n,this.right=r,this.length=n.length+r.length,this.depth=Math.max(n.depth,r.depth)+1}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},t.prototype.getInner=function(r){return r<this.left.length?this.left.get(r):this.right.get(r-this.left.length)},t.prototype.forEachInner=function(r,i,s,o){var a=this.left.length;if(i<a&&this.left.forEachInner(r,i,Math.min(s,a),o)===!1||s>a&&this.right.forEachInner(r,Math.max(i-a,0),Math.min(this.length,s)-a,o+a)===!1)return!1},t.prototype.forEachInvertedInner=function(r,i,s,o){var a=this.left.length;if(i>a&&this.right.forEachInvertedInner(r,i-a,Math.max(s,a)-a,o+a)===!1||s<a&&this.left.forEachInvertedInner(r,Math.min(i,a),s,o)===!1)return!1},t.prototype.sliceInner=function(r,i){if(r==0&&i==this.length)return this;var s=this.left.length;return i<=s?this.left.slice(r,i):r>=s?this.right.slice(r-s,i-s):this.left.slice(r,s).append(this.right.slice(0,i-s))},t.prototype.leafAppend=function(r){var i=this.right.leafAppend(r);if(i)return new t(this.left,i)},t.prototype.leafPrepend=function(r){var i=this.left.leafPrepend(r);if(i)return new t(i,this.right)},t.prototype.appendInner=function(r){return this.left.depth>=Math.max(this.right.depth,r.depth)+1?new t(this.left,new t(this.right,r)):new t(this,r)},t}(pn);const Bre=500;class Zr{constructor(t,n){this.items=t,this.eventCount=n}popEvent(t,n){if(this.eventCount==0)return null;let r=this.items.length;for(;;r--)if(this.items.get(r-1).selection){--r;break}let i,s;n&&(i=this.remapping(r,this.items.length),s=i.maps.length);let o=t.tr,a,l,u=[],c=[];return this.items.forEach((d,f)=>{if(!d.step){i||(i=this.remapping(r,f+1),s=i.maps.length),s--,c.push(d);return}if(i){c.push(new Ci(d.map));let p=d.step.map(i.slice(s)),m;p&&o.maybeStep(p).doc&&(m=o.mapping.maps[o.mapping.maps.length-1],u.push(new Ci(m,void 0,void 0,u.length+c.length))),s--,m&&i.appendMap(m,s)}else o.maybeStep(d.step);if(d.selection)return a=i?d.selection.map(i.slice(s)):d.selection,l=new Zr(this.items.slice(0,r).append(c.reverse().concat(u)),this.eventCount-1),!1},this.items.length,0),{remaining:l,transform:o,selection:a}}addTransform(t,n,r,i){let s=[],o=this.eventCount,a=this.items,l=!i&&a.length?a.get(a.length-1):null;for(let c=0;c<t.steps.length;c++){let d=t.steps[c].invert(t.docs[c]),f=new Ci(t.mapping.maps[c],d,n),p;(p=l&&l.merge(f))&&(f=p,c?s.pop():a=a.slice(0,a.length-1)),s.push(f),n&&(o++,n=void 0),i||(l=f)}let u=o-r.depth;return u>Fre&&(a=$re(a,u),o-=u),new Zr(a.append(s),o)}remapping(t,n){let r=new Wa;return this.items.forEach((i,s)=>{let o=i.mirrorOffset!=null&&s-i.mirrorOffset>=t?r.maps.length-i.mirrorOffset:void 0;r.appendMap(i.map,o)},t,n),r}addMaps(t){return this.eventCount==0?this:new Zr(this.items.append(t.map(n=>new Ci(n))),this.eventCount)}rebased(t,n){if(!this.eventCount)return this;let r=[],i=Math.max(0,this.items.length-n),s=t.mapping,o=t.steps.length,a=this.eventCount;this.items.forEach(f=>{f.selection&&a--},i);let l=n;this.items.forEach(f=>{let p=s.getMirror(--l);if(p==null)return;o=Math.min(o,p);let m=s.maps[p];if(f.step){let g=t.steps[p].invert(t.docs[p]),b=f.selection&&f.selection.map(s.slice(l+1,p));b&&a++,r.push(new Ci(m,g,b))}else r.push(new Ci(m))},i);let u=[];for(let f=n;f<o;f++)u.push(new Ci(s.maps[f]));let c=this.items.slice(0,i).append(u).append(r),d=new Zr(c,a);return d.emptyItemCount()>Bre&&(d=d.compress(this.items.length-r.length)),d}emptyItemCount(){let t=0;return this.items.forEach(n=>{n.step||t++}),t}compress(t=this.items.length){let n=this.remapping(0,t),r=n.maps.length,i=[],s=0;return this.items.forEach((o,a)=>{if(a>=t)i.push(o),o.selection&&s++;else if(o.step){let l=o.step.map(n.slice(r)),u=l&&l.getMap();if(r--,u&&n.appendMap(u,r),l){let c=o.selection&&o.selection.map(n.slice(r));c&&s++;let d=new Ci(u.invert(),l,c),f,p=i.length-1;(f=i.length&&i[p].merge(d))?i[p]=f:i.push(d)}}else o.map&&r--},this.items.length,0),new Zr(pn.from(i.reverse()),s)}}Zr.empty=new Zr(pn.empty,0);function $re(e,t){let n;return e.forEach((r,i)=>{if(r.selection&&t--==0)return n=i,!1}),e.slice(n)}class Ci{constructor(t,n,r,i){this.map=t,this.step=n,this.selection=r,this.mirrorOffset=i}merge(t){if(this.step&&t.step&&!t.selection){let n=t.step.merge(this.step);if(n)return new Ci(n.getMap().invert(),n,this.selection)}}}class Bs{constructor(t,n,r,i,s){this.done=t,this.undone=n,this.prevRanges=r,this.prevTime=i,this.prevComposition=s}}const Fre=20;function Ure(e,t,n,r){let i=n.getMeta(Yo),s;if(i)return i.historyState;n.getMeta(Vre)&&(e=new Bs(e.done,e.undone,null,0,-1));let o=n.getMeta("appendedTransaction");if(n.steps.length==0)return e;if(o&&o.getMeta(Yo))return o.getMeta(Yo).redo?new Bs(e.done.addTransform(n,void 0,r,Zd(t)),e.undone,pw(n.mapping.maps),e.prevTime,e.prevComposition):new Bs(e.done,e.undone.addTransform(n,void 0,r,Zd(t)),null,e.prevTime,e.prevComposition);if(n.getMeta("addToHistory")!==!1&&!(o&&o.getMeta("addToHistory")===!1)){let a=n.getMeta("composition"),l=e.prevTime==0||!o&&e.prevComposition!=a&&(e.prevTime<(n.time||0)-r.newGroupDelay||!Hre(n,e.prevRanges)),u=o?Mm(e.prevRanges,n.mapping):pw(n.mapping.maps);return new Bs(e.done.addTransform(n,l?t.selection.getBookmark():void 0,r,Zd(t)),Zr.empty,u,n.time,a??e.prevComposition)}else return(s=n.getMeta("rebased"))?new Bs(e.done.rebased(n,s),e.undone.rebased(n,s),Mm(e.prevRanges,n.mapping),e.prevTime,e.prevComposition):new Bs(e.done.addMaps(n.mapping.maps),e.undone.addMaps(n.mapping.maps),Mm(e.prevRanges,n.mapping),e.prevTime,e.prevComposition)}function Hre(e,t){if(!t)return!1;if(!e.docChanged)return!0;let n=!1;return e.mapping.maps[0].forEach((r,i)=>{for(let s=0;s<t.length;s+=2)r<=t[s+1]&&i>=t[s]&&(n=!0)}),n}function pw(e){let t=[];for(let n=e.length-1;n>=0&&t.length==0;n--)e[n].forEach((r,i,s,o)=>t.push(s,o));return t}function Mm(e,t){if(!e)return null;let n=[];for(let r=0;r<e.length;r+=2){let i=t.map(e[r],1),s=t.map(e[r+1],-1);i<=s&&n.push(i,s)}return n}function zre(e,t,n){let r=Zd(t),i=Yo.get(t).spec.config,s=(n?e.undone:e.done).popEvent(t,r);if(!s)return null;let o=s.selection.resolve(s.transform.doc),a=(n?e.done:e.undone).addTransform(s.transform,t.selection.getBookmark(),i,r),l=new Bs(n?a:s.remaining,n?s.remaining:a,null,0,-1);return s.transform.setSelection(o).setMeta(Yo,{redo:n,historyState:l})}let Pm=!1,hw=null;function Zd(e){let t=e.plugins;if(hw!=t){Pm=!1,hw=t;for(let n=0;n<t.length;n++)if(t[n].spec.historyPreserveItems){Pm=!0;break}}return Pm}const Yo=new hn("history"),Vre=new hn("closeHistory");function jre(e={}){return e={depth:e.depth||100,newGroupDelay:e.newGroupDelay||500},new At({key:Yo,state:{init(){return new Bs(Zr.empty,Zr.empty,null,0,-1)},apply(t,n,r){return Ure(n,r,t,e)}},config:e,props:{handleDOMEvents:{beforeinput(t,n){let r=n.inputType,i=r=="historyUndo"?z1:r=="historyRedo"?Qp:null;return i?(n.preventDefault(),i(t.state,t.dispatch)):!1}}}})}function GI(e,t){return(n,r)=>{let i=Yo.getState(n);if(!i||(e?i.undone:i.done).eventCount==0)return!1;if(r){let s=zre(i,n,e);s&&r(t?s.scrollIntoView():s)}return!0}}const z1=GI(!1,!0),Qp=GI(!0,!0);var uo={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},Kf={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},qre=typeof navigator<"u"&&/Mac/.test(navigator.platform),Wre=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var En=0;En<10;En++)uo[48+En]=uo[96+En]=String(En);for(var En=1;En<=24;En++)uo[En+111]="F"+En;for(var En=65;En<=90;En++)uo[En]=String.fromCharCode(En+32),Kf[En]=String.fromCharCode(En);for(var Lm in uo)Kf.hasOwnProperty(Lm)||(Kf[Lm]=uo[Lm]);function Yre(e){var t=qre&&e.metaKey&&e.shiftKey&&!e.ctrlKey&&!e.altKey||Wre&&e.shiftKey&&e.key&&e.key.length==1||e.key=="Unidentified",n=!t&&e.key||(e.shiftKey?Kf:uo)[e.keyCode]||e.key||"Unidentified";return n=="Esc"&&(n="Escape"),n=="Del"&&(n="Delete"),n=="Left"&&(n="ArrowLeft"),n=="Up"&&(n="ArrowUp"),n=="Right"&&(n="ArrowRight"),n=="Down"&&(n="ArrowDown"),n}const Gre=typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):!1;function Kre(e){let t=e.split(/-(?!$)/),n=t[t.length-1];n=="Space"&&(n=" ");let r,i,s,o;for(let a=0;a<t.length-1;a++){let l=t[a];if(/^(cmd|meta|m)$/i.test(l))o=!0;else if(/^a(lt)?$/i.test(l))r=!0;else if(/^(c|ctrl|control)$/i.test(l))i=!0;else if(/^s(hift)?$/i.test(l))s=!0;else if(/^mod$/i.test(l))Gre?o=!0:i=!0;else throw new Error("Unrecognized modifier name: "+l)}return r&&(n="Alt-"+n),i&&(n="Ctrl-"+n),o&&(n="Meta-"+n),s&&(n="Shift-"+n),n}function Xre(e){let t=Object.create(null);for(let n in e)t[Kre(n)]=e[n];return t}function Bm(e,t,n=!0){return t.altKey&&(e="Alt-"+e),t.ctrlKey&&(e="Ctrl-"+e),t.metaKey&&(e="Meta-"+e),n&&t.shiftKey&&(e="Shift-"+e),e}function Jp(e){let t=Xre(e);return function(n,r){let i=Yre(r),s,o=t[Bm(i,r)];if(o&&o(n.state,n.dispatch,n))return!0;if(i.length==1&&i!=" "){if(r.shiftKey){let a=t[Bm(i,r,!1)];if(a&&a(n.state,n.dispatch,n))return!0}if((r.shiftKey||r.altKey||r.metaKey||i.charCodeAt(0)>127)&&(s=uo[r.keyCode])&&s!=i){let a=t[Bm(s,r)];if(a&&a(n.state,n.dispatch,n))return!0}}return!1}}var Qre=Jre((e,t,n)=>{if(!t)return null;const r=n.depth==0?null:KI(n.node(-1).contentMatchAt(n.indexAfter(-1)));if(!r)return null;const i=Zre(e,r);return i?{type:r,attrs:i}:null});function Jre(e){return(t,n)=>{let{$from:r,$to:i}=t.selection;if(t.selection instanceof ze&&t.selection.node.isBlock)return!r.parentOffset||!ds(t.doc,r.pos)?!1:(n&&n(t.tr.split(r.pos).scrollIntoView()),!0);if(!r.parent.isBlock)return!1;if(n){let s=i.parentOffset==i.parent.content.size,o=t.tr;(t.selection instanceof Ue||t.selection instanceof Hn)&&o.deleteSelection();let a=r.depth==0?null:KI(r.node(-1).contentMatchAt(r.indexAfter(-1))),l=e&&e(i.parent,s,r),u=l?[l]:s&&a?[{type:a}]:void 0,c=ds(o.doc,o.mapping.map(r.pos),1,u);if(!u&&!c&&ds(o.doc,o.mapping.map(r.pos),1,a?[{type:a}]:void 0)&&(a&&(u=[{type:a}]),c=!0),c&&(o.split(o.mapping.map(r.pos),1,u),!s&&!r.parentOffset&&r.parent.type!=a)){let d=o.mapping.map(r.before()),f=o.doc.resolve(d);a&&r.node(-1).canReplaceWith(f.index(),f.index()+1,a)&&o.setNodeMarkup(o.mapping.map(r.before()),a)}n(o.scrollIntoView())}return!0}}function Zre(e,t){const n=mw(e.type,!0),r=mw(t,!0),i=n.filter(s=>r.includes(s));return i.length===0?null:Object.fromEntries(i.map(s=>[s,e.attrs[s]]))}function mw(e,t){var n;const r=[];for(const[i,s]of Object.entries((n=e.spec.attrs)!=null?n:{}))s.splittable===t&&r.push(i);return r}function KI(e){for(let t=0;t<e.edgeCount;t++){const{type:n}=e.edge(t);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}function XI(e){return(t,n)=>{const r=Nl(t.schema,e.type).create(e.attrs),i=e.from??t.selection.from,s=e.to??t.selection.to;return i>s?!1:(n==null||n(t.tr.addMark(i,s,r)),!0)}}function eie(e){return(t,n)=>{const r=Nl(t.schema,e.type),i=a=>a.type===r,s=tie(t.selection.$from,i),o=nie(t.selection.$to,i);return s===t.selection.from&&o===t.selection.to?!1:(n&&n(t.tr.setSelection(Ue.create(t.doc,s,o))),!0)}}function tie(e,t){const{parent:n}=e;if(!e.marks().some(t))return e.pos;const r=e.index();let i=r;for(let s=r;s>=0&&n.child(s).marks.some(t);s--)i=s;return e.posAtIndex(i)}function nie(e,t){const{parent:n}=e;if(!e.marks().some(t))return e.pos;const r=Math.max(0,e.indexAfter()-1),i=n.childCount;let s=r;for(let o=r;o<i&&n.child(o).marks.some(t);o++)s=o;return e.posAtIndex(s)+n.child(s).nodeSize}function QI(e){for(let t=0;t<e.edgeCount;t++){const{type:n}=e.edge(t);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}function rie(e){return(t,n)=>{const r=(e==null?void 0:e.pos)==null?t.selection.$to:t.doc.resolve(e.pos),i=r.parent.isTextblock?r.depth-1:r.depth,s=r.node(i),o=r.indexAfter(i),a=QI(s.contentMatchAt(o));if(!a)return!1;if(n){const l=r.posAtIndex(o,i),u=a.createAndFill();if(!u)return!1;const c=t.tr.insert(l,u),d=Ue.findFrom(c.doc.resolve(l),1);if(!d)return!1;c.setSelection(d),n(c.scrollIntoView())}return!0}}function iie(e,t){const n=e.doc.content.size,r=e.doc.resolve(t>n?n:t<0?0:t),i=Ue.between(r,r);e.setSelection(i)}function Dl(e){return(t,n)=>{const r=e.node?e.node:e.type?Rn(t.schema,e.type).createAndFill(e.attrs):null;fn(r,"You must provide either a node or a type");const i=k2(t.doc,e.pos??t.selection.anchor,r.type);if(i==null)return!1;if(n){const s=t.tr.insert(i,r);iie(s,i+r.nodeSize),n(s)}return!0}}function JI(e){return(t,n)=>{const r=Nl(t.schema,e.type),i=e.attrs?r.create(e.attrs):r,s=e.from??t.selection.from,o=e.to??t.selection.to;return s>o?!1:(n==null||n(t.tr.removeMark(s,o,i)),!0)}}function ZI(e,t){for(let n=t.depth;n>=0;n-=1){const r=t.node(n);if(e(r)){const i=n===0?0:t.before(n),s=t.start(n);return{node:r,pos:i,start:s,depth:n}}}}function sie(e,t){const n=Rn(t.doc.type.schema,e);return ZI(r=>r.type===n,t)}function oie(e){return(t,n)=>{const r=typeof e.pos=="number"?t.doc.resolve(e.pos):t.selection.$anchor,i=sie(e.type,r);if(!i)return!1;const{pos:s,node:o}=i;return n==null||n(t.tr.delete(s,s+o.nodeSize)),!0}}function aie(e,t,n){const r=t??n;if(r!=null){const i=e.doc.resolve(t??r),s=e.doc.resolve(n??r);return Ue.between(i,s)}return e.selection}function eN(e){return(t,n)=>{const r=Rn(t.schema,e.type),i=aie(t,e.from,e.to),s=e.attrs;let o=!1;for(let a=0;a<i.ranges.length&&!o;a++){const{$from:{pos:l},$to:{pos:u}}=i.ranges[a];t.doc.nodesBetween(l,u,(c,d)=>{if(o)return!1;if(!(!c.isTextblock||c.hasMarkup(r,s)))if(c.type==r)o=!0;else{const f=t.doc.resolve(d),p=f.index();o=f.parent.canReplaceWith(p,p+1,r)}})}if(!o)return!1;if(n){const a=t.tr;for(const l of i.ranges){const{$from:{pos:u},$to:{pos:c}}=l;a.setBlockType(u,c,r,s)}n(a.scrollIntoView())}return!0}}function lie(e,t){return Array.isArray(t)?t.map(n=>Rn(e,n)):[Rn(e,t)]}function uie(e){return(t,n)=>{const r=lie(t.schema,e.type),i=e.pos??t.selection.from,s=e.pos??t.selection.to,o=[];if(t.doc.nodesBetween(i,s,(a,l)=>{if(r.includes(a.type)&&o.push(l),!n&&o.length>0)return!1}),o.length===0)return!1;if(n){const{tr:a}=t;for(const l of o)for(const[u,c]of Object.entries(e.attrs))a.setNodeAttribute(l,u,c);n(a)}return!0}}function Vr({type:e,attrs:t,removeWhenPresent:n=!1,enterInlineAtoms:r=!0}){return(i,s,o)=>Rre(Nl(i.schema,e),t,{removeWhenPresent:n,enterInlineAtoms:r})(i,s,o)}function tN({type:e,attrs:t}){return(n,r,i)=>{if(M1(n,e,t)){const s=n.schema.topNodeType.contentMatch.defaultType;return s?dw(s)(n,r,i):!1}else{const s=Rn(n.schema,e);return dw(s,t)(n,r,i)}}}function V1(e){return(t,n)=>{const{$from:r,$to:i}=t.selection,s=r.blockRange(i);if(!s)return!1;const o=Rn(t.schema,e.nodeType||e.type),a=qp(s,o,e.attrs);return a?(n==null||n(t.tr.wrap(s,a)),!0):!1}}function j1(e){const{type:t,attrs:n}=e;return(r,i)=>M1(r,t,n)?wre(r,i):V1({type:t,attrs:n})(r,i)}function nN(e){return(t,n)=>{const r=(e==null?void 0:e.from)??t.selection.from,i=(e==null?void 0:e.to)??t.selection.to;if(r>i)return!1;const s=t.tr;return cie(s,r,i)?(n==null||n(s),!0):!1}}function cie(e,t,n){const r=e.steps.length;return e.doc.nodesBetween(t,n,(i,s,o,a)=>{if(!o||!i.isTextblock)return!0;const l=o.contentMatchAt(a).defaultType;if(l&&l.isTextblock&&i.type!==l&&l.validContent(i.content)){const u=e.mapping.slice(r),c=u.map(s,1),d=u.map(s+i.nodeSize,1),f=new Jt(c,d,c+1,d-1,new he(se.from(l.create()),0,0),1,!0);e.step(f)}return!1}),e.steps.length>r}function die(e){return(t,n)=>{const r=(e==null?void 0:e.from)??t.selection.from,i=(e==null?void 0:e.to)??t.selection.to;return r>i?!1:(n==null||n(t.tr.removeMark(r,i)),!0)}}function q1(e,t){const n=Gt(e);return n.priority=t,n}function fa(e){if(e instanceof At||Array.isArray(e)&&e.every(t=>t instanceof At))return gw(()=>e);if(typeof e=="function")return gw(e);throw new TypeError("Invalid plugin")}function gw(e){return Tr(Wr,[e])}var Wr=mn({reducer:e=>({schema:t})=>{const n=[];for(const r of e)if(r instanceof At)n.push(r);else if(Array.isArray(r)&&r.every(i=>i instanceof At))n.push(...r);else if(typeof r=="function")n.push(...[r({schema:t})].flat());else throw new Rr("Invalid plugin");return n.reverse(),{plugins:n}},parent:OI});function Cd(e){return t=>e.filter(zr).reduce((n,r)=>r(n),t)}function Xf(e,t){return t?t(e):e}var fie=class extends ai{constructor(e,t,n,r){super(e,t),this.serializeFragmentWrapper=n,this.serializeNodeWrapper=r}serializeFragment(...e){return Xf((...n)=>super.serializeFragment(...n),this.serializeFragmentWrapper)(...e)}serializeNode(...e){return Xf((...n)=>super.serializeNode(...n),this.serializeNodeWrapper)(...e)}};function pie(e,t){const n=(...o)=>ai.nodesFromSchema(...o),r=(...o)=>ai.marksFromSchema(...o),i=Xf(n,t.nodesFromSchemaWrapper)(e),s=Xf(r,t.marksFromSchemaWrapper)(e);return new fie(i,s,t.serializeFragmentWrapper,t.serializeNodeWrapper)}var hie=mn({reducer:e=>{const t={serializeFragmentWrapper:Cd(e.map(n=>n.serializeFragmentWrapper)),serializeNodeWrapper:Cd(e.map(n=>n.serializeNodeWrapper)),nodesFromSchemaWrapper:Cd(e.map(n=>n.nodesFromSchemaWrapper)),marksFromSchemaWrapper:Cd(e.map(n=>n.marksFromSchemaWrapper))};return({schema:n})=>{const r=pie(n,t);return[new At({key:new hn("prosekit-clipboard-serializer"),props:{clipboardSerializer:r}})]}},singleton:!0,parent:Wr});function mie(e){return Tr(hie,[e])}function gie({text:e,from:t,to:n}){return(r,i)=>(e&&(i==null||i(r.tr.insertText(e,t,n))),!0)}function bie(){return(e,t)=>(t==null||t(e.tr.setSelection(new Hn(e.doc))),!0)}var yie=mn({reducer:e=>({commands:Object.assign({},...e)}),parent:R1,singleton:!0});function sr(e){return Tr(yie,[e])}function _ie(){return sr({insertText:gie,insertNode:Dl,removeNode:oie,wrap:V1,toggleWrap:j1,setBlockType:eN,setNodeAttrs:uie,insertDefaultBlock:rie,selectAll:bie,addMark:XI,removeMark:JI,unsetBlockType:nN,unsetMark:die})}var rN=mn({reducer:e=>{let t=Lt.from({}),n=Lt.from({}),r;for(const i of e)t=t.append(i.nodes),n=n.append(i.marks??{}),r=r??i.topNode;return{nodes:t,marks:n,topNode:r}},parent:_I,singleton:!0});function iN(e,t){const n={};for(const r of e){const i=t(r);(n[i]||(n[i]=[])).push(r)}return n}function sN(e){const t={};for(const[n,r]of e)(t[n]||(t[n]=[])).push(r);return t}function Eie(e){const t={};for(const[n,r]of Object.entries(e))r!==void 0&&(t[n]=r);return t}function bw(...e){const t=e.filter(zr).map(Eie);return Object.assign({},...t)}function oN(e,t){var s,o;const n={},r=new Set([...Object.keys(e.attrs??{}),...Object.keys(t.attrs??{})]);for(const a of r){const l=(s=e.attrs)==null?void 0:s[a],u=(o=t.attrs)==null?void 0:o[a],c=bw(l,u);c&&(n[a]=c)}const i=[...e.parseDOM??[],...t.parseDOM??[]];return bw(e,t,{attrs:n,parseDOM:i})}function aN(e,t){return(n,...r)=>{const i=e(n,...r),s=t.map(o=>{var a;return(a=o.toDOM)==null?void 0:a.call(o,n.attrs[o.attr])}).filter(zr);return vie(i,s)}}function lN(e,t){const n=e.getAttrs,r=e.attrs;return{...e,getAttrs:i=>{const s=(n==null?void 0:n(i))??r??{};if(s===!1||!i||!gc(i))return s??null;const o={};for(const a of t)a.parseDOM&&(o[a.attr]=a.parseDOM(i));return{...s,...o}}}}function vie(e,t){if(!e)return e;if(Array.isArray(e)){const n=e.slice(1);let r;n.length>0&&(n[0]==null||typeof n[0]=="object")?r=n.shift():r={};const i=Tie(r,t);return[e[0],i,...n]}return gc(e)?yw(e,t):typeof e=="object"&&"dom"in e&&gc(e.dom)?{...e,dom:yw(e.dom,t)}:e}function Tie(e,t){e={...e};for(const[n,r]of t){const i=e[n],s=n==="style"?uN(r,typeof i=="string"?i:""):r;e[n]=s}return e}function yw(e,t){e=e.cloneNode(!0);for(const[n,r]of t){const i=e.getAttribute(n),s=n==="style"?uN(r,typeof i=="string"?i:""):r;e.setAttribute(n,s)}return e}function uN(...e){return e.map(t=>t.trim().replace(/;$/,"")).filter(Boolean).join("; ")}function Yr(e){return Tr(wie,[[e,void 0]])}var wie=mn({reducer:e=>{let t=Lt.from({}),n;const r=e.map(o=>o[0]).filter(zr),i=e.map(o=>o[1]).filter(zr);for(const{name:o,topNode:a,...l}of r){a&&(n=o);const u=t.get(o);u?t=t.update(o,oN(u,l)):t=t.addToStart(o,l)}const s=iN(i,o=>o.type);for(const[o,a]of Object.entries(s)){if(!a)continue;const l=t.get(o);fn(l,`Node type ${o} must be defined`);const u=WI(l);u.attrs||(u.attrs={});for(const c of a)u.attrs[c.attr]={default:c.default,validate:c.validate,splittable:c.splittable};u.toDOM&&(u.toDOM=aN(u.toDOM,a)),u.parseDOM&&(u.parseDOM=u.parseDOM.map(c=>lN(c,a))),t=t.update(o,u)}return{nodes:t,topNode:n}},parent:rN,singleton:!0});function xie(){return Yr({name:"doc",content:"block+",topNode:!0})}function Cie(e){return cN(["mount",e])}function W1(e){return cN(["update",e])}function cN(e){return Tr(Sie,[e])}var Sie=mn({reduce:()=>{let e=[],t=[],n=[];const r=new At({key:Aie,view:s=>(e.forEach(o=>o(s)),{update:(o,a)=>{t.forEach(l=>l(o,a))},destroy:()=>{n.forEach(o=>o())}})}),i=s=>{e=[],t=[],n=[];for(const o of s)switch(o[0]){case"mount":e.push(o[1]);break;case"update":t.push(o[1]);break;case"unmount":n.push(o[1]);break}};return function(o){return i(o),r}},parent:Wr,singleton:!0}),Aie=new hn("prosekit-plugin-view-handler");function kie(e){return W1((t,n)=>{t.state.doc.eq(n.doc)||e(t,n)})}function ur(){let e=[];function t(r){e=TI(r)}function n(...r){for(const i of e)if(i(...r))return!0;return!1}return[t,n]}function Oie(...e){return Tr(Iie,e)}var Iie=mn({reduce:()=>{const e={},t={};let n;const r=i=>{let s=!1;for(const[a]of i)if(!e[a]){s=!0;const[l,u]=ur();e[a]=l;const c=(d,f)=>u(d,f);t[a]=c}const o=sN(i);for(const[a,l]of Object.entries(e)){const u=o[a]??[];l(u)}s&&(n=new At({key:new hn("prosekit-dom-event-handler"),props:{handleDOMEvents:t}}))};return function(s){return r(s),n??[]}},parent:Wr,singleton:!0});mn({reduce:()=>{const[e,t]=Nie();return n=>(e(n),t)},parent:Wr,singleton:!0});function Nie(){const[e,t]=ur(),[n,r]=ur(),[i,s]=ur(),[o,a]=ur(),[l,u]=ur(),[c,d]=ur(),[f,p]=ur(),[m,g]=ur(),[b,y]=ur(),[E,T]=ur(),[C,D]=ur(),[_,M]=ur(),G=K=>{const V=sN(K);e(V.keyDown??[]),n(V.keyPress??[]),i(V.textInput??[]),o(V.clickOn??[]),l(V.click??[]),c(V.doubleClickOn??[]),f(V.doubleClick??[]),m(V.tripleClickOn??[]),b(V.tripleClick??[]),E(V.paste??[]),C(V.drop??[]),_(V.scrollToSelection??[])},B=new At({key:new hn("prosekit-editor-event"),props:{handleKeyDown:t,handleKeyPress:r,handleTextInput:s,handleClickOn:a,handleClick:u,handleDoubleClickOn:d,handleDoubleClick:p,handleTripleClickOn:g,handleTripleClick:y,handlePaste:T,handleDrop:D,handleScrollToSelection:M}});return[G,B]}function Rie(e){return Oie(["focus",()=>e(!0)],["blur",()=>e(!1)])}var dN=typeof navigator<"u"?/Mac|iP(hone|[ao]d)/.test(navigator.platform):!1;function yi(e){return Tr(Die,[e])}var Die=mn({reduce:()=>{let e;const t=(r,i)=>e?e(r,i):!1,n=new At({key:Lie,props:{handleKeyDown:t}});return r=>(e=Jp(Mie(TI(r))),n)},parent:Wr,singleton:!0});function Mie(e){const t={};for(const n of e)for(const[r,i]of Object.entries(n))(t[r]||(t[r]=[])).push(i);return mc(t,Pie)}function Pie(e){return wr(...e)}var Lie=new hn("prosekit-keymap"),fN={"Mod-z":z1,"Shift-Mod-z":Qp};dN||(fN["Mod-y"]=Qp);var Bie={undo:()=>z1,redo:()=>Qp};function $ie({depth:e=200,newGroupDelay:t=250}={}){return Gt(fa(jre({depth:e,newGroupDelay:t})),yi(fN),sr(Bie))}var Fie=wr(F1,H1,HI,Qre),Uie=wr(Rl,BI,L1),Hie={...Mre,Enter:Fie,Backspace:Uie};function zie(e){return q1(yi(Hie),1)}function Ml(e){return Tr(Vie,[[e,void 0]])}var Vie=mn({reducer:e=>{let t=Lt.from({});const n=e.map(s=>s[0]).filter(zr),r=e.map(s=>s[1]).filter(zr);for(const{name:s,...o}of n){const a=t.get(s);a?t=t.update(s,oN(a,o)):t=t.addToStart(s,o)}const i=iN(r,s=>s.type);for(const[s,o]of Object.entries(i)){if(!o)continue;const a=t.get(s);fn(a,`Mark type ${s} must be defined`);const l=WI(a);l.attrs||(l.attrs={});for(const u of o)l.attrs[u.attr]={default:u.default,validate:u.validate};l.toDOM&&(l.toDOM=aN(l.toDOM,o)),l.parseDOM&&(l.parseDOM=l.parseDOM.map(u=>jie(u,o))),t=t.update(s,l)}return{marks:t,nodes:{}}},parent:rN,singleton:!0});function jie(e,t){return e.tag?lN(e,t):e}mn({reducer:e=>{const t={};for(const n of e)t[n.name]||(t[n.name]=n.constructor);return()=>[new At({key:new hn("prosekit-mark-view"),props:{markViews:t}})]},parent:Wr});function qie(e){return Tr(Yie,[[e,null]])}var Wie=typeof window>"u",Yie=mn({reducer:e=>{if(Wie)return[];const t={},n=e.map(i=>i[0]).filter(zr),r=e.map(i=>i[1]).filter(zr);for(const{group:i,name:s,args:o}of r){const a=n.find(l=>l.group===i);a&&(t[s]=a.factory(o))}return()=>[new At({key:new hn("prosekit-mark-view-effect"),props:{markViews:t}})]},parent:Wr});mn({reducer:e=>{const t={};for(const n of e)t[n.name]||(t[n.name]=n.constructor);return()=>[new At({key:new hn("prosekit-node-view"),props:{nodeViews:t}})]},parent:Wr});function Gie(e){return Tr(Xie,[[e,null]])}var Kie=typeof window>"u",Xie=mn({reducer:e=>{if(Kie)return[];const t={},n=e.map(i=>i[0]).filter(zr),r=e.map(i=>i[1]).filter(zr);for(const{group:i,name:s,args:o}of r){const a=n.find(l=>l.group===i);a&&(t[s]=a.factory(o))}return()=>[new At({key:new hn("prosekit-node-view-effect"),props:{nodeViews:t}})]},parent:Wr});function Qie(){return Yr({name:"paragraph",content:"inline*",group:"block",parseDOM:[{tag:"p"}],toDOM(){return["p",0]}})}function Jie(){return q1(Qie(),4)}function Zie(){return Yr({name:"text",group:"inline"})}function ese(e){let t;return()=>(t===void 0&&(t=e()),t)}var Zp=ese(()=>{try{return"ab".replace(new RegExp("(?<=a)b","g"),"c")==="ac"}catch{return!1}});function tse(e,t,n){let r=!1;return e.nodesBetween(t,n,i=>{if(r)return!1;i.isInline&&(r=!0)}),r}function pN(e,t){const{$cursor:n}=e.selection;return!n||(t?!t.endOfTextblock("backward",e):n.parentOffset>0)?null:n}function _w(e){return!!(e.spec.code&&e.isBlock)}function hN(e){return _w(e.$from.parent.type)||_w(e.$to.parent.type)}function nse(e,...t){return typeof e=="function"?e(...t):e}var rse="￼";function ise(e){return(t,n,r)=>hN(t.selection)?!1:e(t,n,r)}class Gr{constructor(t,n,r={}){this.match=t,this.match=t,this.handler=typeof n=="string"?sse(n):n,this.undoable=r.undoable!==!1,this.inCode=r.inCode||!1}}function sse(e){return function(t,n,r,i){let s=e;if(n[1]){let o=n[0].lastIndexOf(n[1]);s+=n[0].slice(o+n[1].length),r+=o;let a=r-i;a>0&&(s=n[0].slice(o-a,o)+s,r=i)}return t.tr.insertText(s,r,i)}}const ose=500;function ase({rules:e}){let t=new At({state:{init(){return null},apply(n,r){let i=n.getMeta(this);return i||(n.selectionSet||n.docChanged?null:r)}},props:{handleTextInput(n,r,i,s){return Ew(n,r,i,s,e,t)},handleDOMEvents:{compositionend:n=>{setTimeout(()=>{let{$cursor:r}=n.state.selection;r&&Ew(n,r.pos,r.pos,"",e,t)})}}},isInputRules:!0});return t}function Ew(e,t,n,r,i,s){if(e.composing)return!1;let o=e.state,a=o.doc.resolve(t),l=a.parent.textBetween(Math.max(0,a.parentOffset-ose),a.parentOffset,null,"￼")+r;for(let u=0;u<i.length;u++){let c=i[u];if(a.parent.type.spec.code){if(!c.inCode)continue}else if(c.inCode==="only")continue;let d=c.match.exec(l),f=d&&c.handler(o,d,t-(d[0].length-r.length),n);if(f)return c.undoable&&f.setMeta(s,{transform:f,from:t,to:n,text:r}),e.dispatch(f),!0}return!1}new Gr(/--$/,"—");new Gr(/\.\.\.$/,"…");new Gr(/(?:^|[\s\{\[\(\<'"\u2018\u201C])(")$/,"“");new Gr(/"$/,"”");new Gr(/(?:^|[\s\{\[\(\<'"\u2018\u201C])(')$/,"‘");new Gr(/'$/,"’");function lse(e,t,n=null,r){return new Gr(e,(i,s,o,a)=>{let l=n instanceof Function?n(s):n,u=i.tr.delete(o,a),c=u.doc.resolve(o),d=c.blockRange(),f=d&&qp(d,t,l);if(!f)return null;u.wrap(d,f);let p=u.doc.resolve(o-1).nodeBefore;return p&&p.type==t&&Wp(u.doc,o-1)&&(!r||r(s,p))&&u.join(o-1),u})}function use(e,t,n=null){return new Gr(e,(r,i,s,o)=>{let a=r.doc.resolve(s),l=n instanceof Function?n(i):n;return a.node(-1).canReplaceWith(a.index(-1),a.indexAfter(-1),t)?r.tr.delete(s,o).setBlockType(s,s,t,l):null})}function eh(e){return Y1(()=>e)}function cse({regex:e,type:t,attrs:n=null}){return new Gr(e,(i,s,o,a)=>{const{tr:l,schema:u}=i,[c,d]=s;if(!d)return null;const f=o+c.indexOf(d),p=f+d.length;if(!(o<=f&&f<p&&p<=a))return null;const m=Nl(u,t),g=m.create(nse(n,s));if(!RI(l.doc,f,p,m,n))return null;const b=l.storedMarks??[];return l.addMark(f,p,g),p<a&&l.delete(p,a),o<f&&l.delete(o,f),l.setStoredMarks(b),l})}function th(e){return eh(cse(e))}function dse({regex:e,type:t,attrs:n}){return Y1(({schema:r})=>{const i=Rn(r,t);return use(e,i,n)})}function fse({regex:e,type:t,attrs:n,join:r}){return Y1(({schema:i})=>{const s=Rn(i,t);return lse(e,s,n,r)})}function Y1(e){return Tr(pse,[e])}var pse=mn({reducer:e=>t=>{const n=e.flatMap(r=>r(t));return[ase({rules:n})]},parent:Wr});function hse(){return sr({setBlockquote:()=>V1({type:"blockquote"}),insertBlockquote:()=>Dl({type:"blockquote"}),toggleBlockquote:()=>j1({type:"blockquote"})})}function mse(){return fse({regex:/^>\s/,type:"blockquote"})}function gse(){return j1({type:"blockquote"})}function bse(){return(e,t,n)=>{const r=pN(e,n);return(r==null?void 0:r.node(-1).type.name)==="blockquote"?LI(e,t,n):!1}}function yse(){return yi({"mod-shift-b":gse(),Backspace:bse()})}function _se(){return Yr({name:"blockquote",content:"block+",group:"block",defining:!0,parseDOM:[{tag:"blockquote"}],toDOM(){return["blockquote",0]}})}function Ese(){return Gt(_se(),mse(),hse(),yse())}function vse(){return sr({toggleBold:()=>Vr({type:"bold"})})}function Tse(){return th({regex:Zp()?new RegExp("(?<=\\s|^)\\*\\*([^\\s*]|[^\\s*][^*]*[^\\s*])\\*\\*$"):/\*\*([^\s*]|[^\s*][^*]*[^\s*])\*\*$/,type:"bold"})}function wse(){return yi({"Mod-b":Vr({type:"bold"})})}function xse(){return Ml({name:"bold",parseDOM:[{tag:"strong"},{tag:"b",getAttrs:e=>typeof e!="string"&&e.style.fontWeight!=="normal"&&null},{style:"font-weight=400",clearMark:e=>e.type.name=="strong"},{style:"font-weight",getAttrs:e=>typeof e=="string"&&/^(bold(er)?|[5-9]\d{2,})$/.test(e)&&null}],toDOM(){return["strong",0]}})}function Cse(){return Gt(xse(),vse(),wse(),Tse())}function Sse(){return sr({toggleCode:()=>Vr({type:"code"})})}function Ase(){return th({regex:Zp()?new RegExp("(?<=\\s|^)`([^\\s`]|[^\\s`][^`]*[^\\s`])`$"):/`([^\s`]|[^\s`][^`]*[^\s`])`$/,type:"code"})}function kse(){return yi({"Mod-e":Vr({type:"code"})})}function Ose(){return Ml({name:"code",parseDOM:[{tag:"code"}],toDOM(){return["code",0]}})}function Ise(){return Gt(Ose(),Sse(),kse(),Ase())}function Nse(e={}){return new At({view(t){return new Rse(t,e)}})}class Rse{constructor(t,n){var r;this.editorView=t,this.cursorPos=null,this.element=null,this.timeout=-1,this.width=(r=n.width)!==null&&r!==void 0?r:1,this.color=n.color===!1?void 0:n.color||"black",this.class=n.class,this.handlers=["dragover","dragend","drop","dragleave"].map(i=>{let s=o=>{this[i](o)};return t.dom.addEventListener(i,s),{name:i,handler:s}})}destroy(){this.handlers.forEach(({name:t,handler:n})=>this.editorView.dom.removeEventListener(t,n))}update(t,n){this.cursorPos!=null&&n.doc!=t.state.doc&&(this.cursorPos>t.state.doc.content.size?this.setCursor(null):this.updateOverlay())}setCursor(t){t!=this.cursorPos&&(this.cursorPos=t,t==null?(this.element.parentNode.removeChild(this.element),this.element=null):this.updateOverlay())}updateOverlay(){let t=this.editorView.state.doc.resolve(this.cursorPos),n=!t.parent.inlineContent,r;if(n){let a=t.nodeBefore,l=t.nodeAfter;if(a||l){let u=this.editorView.nodeDOM(this.cursorPos-(a?a.nodeSize:0));if(u){let c=u.getBoundingClientRect(),d=a?c.bottom:c.top;a&&l&&(d=(d+this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top)/2),r={left:c.left,right:c.right,top:d-this.width/2,bottom:d+this.width/2}}}}if(!r){let a=this.editorView.coordsAtPos(this.cursorPos);r={left:a.left-this.width/2,right:a.left+this.width/2,top:a.top,bottom:a.bottom}}let i=this.editorView.dom.offsetParent;this.element||(this.element=i.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none;",this.color&&(this.element.style.backgroundColor=this.color)),this.element.classList.toggle("prosemirror-dropcursor-block",n),this.element.classList.toggle("prosemirror-dropcursor-inline",!n);let s,o;if(!i||i==document.body&&getComputedStyle(i).position=="static")s=-pageXOffset,o=-pageYOffset;else{let a=i.getBoundingClientRect();s=a.left-i.scrollLeft,o=a.top-i.scrollTop}this.element.style.left=r.left-s+"px",this.element.style.top=r.top-o+"px",this.element.style.width=r.right-r.left+"px",this.element.style.height=r.bottom-r.top+"px"}scheduleRemoval(t){clearTimeout(this.timeout),this.timeout=setTimeout(()=>this.setCursor(null),t)}dragover(t){if(!this.editorView.editable)return;let n=this.editorView.posAtCoords({left:t.clientX,top:t.clientY}),r=n&&n.inside>=0&&this.editorView.state.doc.nodeAt(n.inside),i=r&&r.type.spec.disableDropCursor,s=typeof i=="function"?i(this.editorView,n,t):i;if(n&&!s){let o=n.pos;if(this.editorView.dragging&&this.editorView.dragging.slice){let a=O2(this.editorView.state.doc,o,this.editorView.dragging.slice);a!=null&&(o=a)}this.setCursor(o),this.scheduleRemoval(5e3)}}dragend(){this.scheduleRemoval(20)}drop(){this.scheduleRemoval(20)}dragleave(t){(t.target==this.editorView.dom||!this.editorView.dom.contains(t.relatedTarget))&&this.setCursor(null)}}function Dse(e){return fa(()=>Nse(e))}class Ut extends Fe{constructor(t){super(t,t)}map(t,n){let r=t.resolve(n.map(this.head));return Ut.valid(r)?new Ut(r):Fe.near(r)}content(){return he.empty}eq(t){return t instanceof Ut&&t.head==this.head}toJSON(){return{type:"gapcursor",pos:this.head}}static fromJSON(t,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for GapCursor.fromJSON");return new Ut(t.resolve(n.pos))}getBookmark(){return new G1(this.anchor)}static valid(t){let n=t.parent;if(n.isTextblock||!Mse(t)||!Pse(t))return!1;let r=n.type.spec.allowGapCursor;if(r!=null)return r;let i=n.contentMatchAt(t.index()).defaultType;return i&&i.isTextblock}static findGapCursorFrom(t,n,r=!1){e:for(;;){if(!r&&Ut.valid(t))return t;let i=t.pos,s=null;for(let o=t.depth;;o--){let a=t.node(o);if(n>0?t.indexAfter(o)<a.childCount:t.index(o)>0){s=a.child(n>0?t.indexAfter(o):t.index(o)-1);break}else if(o==0)return null;i+=n;let l=t.doc.resolve(i);if(Ut.valid(l))return l}for(;;){let o=n>0?s.firstChild:s.lastChild;if(!o){if(s.isAtom&&!s.isText&&!ze.isSelectable(s)){t=t.doc.resolve(i+s.nodeSize*n),r=!1;continue e}break}s=o,i+=n;let a=t.doc.resolve(i);if(Ut.valid(a))return a}return null}}}Ut.prototype.visible=!1;Ut.findFrom=Ut.findGapCursorFrom;Fe.jsonID("gapcursor",Ut);class G1{constructor(t){this.pos=t}map(t){return new G1(t.map(this.pos))}resolve(t){let n=t.resolve(this.pos);return Ut.valid(n)?new Ut(n):Fe.near(n)}}function Mse(e){for(let t=e.depth;t>=0;t--){let n=e.index(t),r=e.node(t);if(n==0){if(r.type.spec.isolating)return!0;continue}for(let i=r.child(n-1);;i=i.lastChild){if(i.childCount==0&&!i.inlineContent||i.isAtom||i.type.spec.isolating)return!0;if(i.inlineContent)return!1}}return!0}function Pse(e){for(let t=e.depth;t>=0;t--){let n=e.indexAfter(t),r=e.node(t);if(n==r.childCount){if(r.type.spec.isolating)return!0;continue}for(let i=r.child(n);;i=i.firstChild){if(i.childCount==0&&!i.inlineContent||i.isAtom||i.type.spec.isolating)return!0;if(i.inlineContent)return!1}}return!0}function Lse(){return new At({props:{decorations:Use,createSelectionBetween(e,t,n){return t.pos==n.pos&&Ut.valid(n)?new Ut(n):null},handleClick:$se,handleKeyDown:Bse,handleDOMEvents:{beforeinput:Fse}}})}const Bse=Jp({ArrowLeft:Sd("horiz",-1),ArrowRight:Sd("horiz",1),ArrowUp:Sd("vert",-1),ArrowDown:Sd("vert",1)});function Sd(e,t){const n=e=="vert"?t>0?"down":"up":t>0?"right":"left";return function(r,i,s){let o=r.selection,a=t>0?o.$to:o.$from,l=o.empty;if(o instanceof Ue){if(!s.endOfTextblock(n)||a.depth==0)return!1;l=!1,a=r.doc.resolve(t>0?a.after():a.before())}let u=Ut.findGapCursorFrom(a,t,l);return u?(i&&i(r.tr.setSelection(new Ut(u))),!0):!1}}function $se(e,t,n){if(!e||!e.editable)return!1;let r=e.state.doc.resolve(t);if(!Ut.valid(r))return!1;let i=e.posAtCoords({left:n.clientX,top:n.clientY});return i&&i.inside>-1&&ze.isSelectable(e.state.doc.nodeAt(i.inside))?!1:(e.dispatch(e.state.tr.setSelection(new Ut(r))),!0)}function Fse(e,t){if(t.inputType!="insertCompositionText"||!(e.state.selection instanceof Ut))return!1;let{$from:n}=e.state.selection,r=n.parent.contentMatchAt(n.index()).findWrapping(e.state.schema.nodes.text);if(!r)return!1;let i=se.empty;for(let o=r.length-1;o>=0;o--)i=se.from(r[o].createAndFill(null,i));let s=e.state.tr.replace(n.pos,n.pos,new he(i,0,0));return s.setSelection(Ue.near(s.doc.resolve(n.pos+1))),e.dispatch(s),!1}function Use(e){if(!(e.selection instanceof Ut))return null;let t=document.createElement("div");return t.className="ProseMirror-gapcursor",Pt.create(e.doc,[dn.widget(e.selection.head,t,{key:"gapcursor"})])}function Hse(){return fa(()=>Lse())}function zse(){return sr({setHeading:e=>eN({type:"heading",attrs:e}),insertHeading:e=>Dl({type:"heading",attrs:e}),toggleHeading:e=>tN({type:"heading",attrs:e})})}function Vse(){return dse({regex:/^(#{1,6})\s$/,type:"heading",attrs:e=>{var n;return{level:((n=e[1])==null?void 0:n.length)??1}}})}function Ca(e){return ise(tN({type:"heading",attrs:{level:e}}))}var jse=(e,t,n)=>{const r=pN(e,n);return(r==null?void 0:r.parent.type.name)==="heading"?nN()(e,t,n):!1};function qse(){return yi({"mod-1":Ca(1),"mod-2":Ca(2),"mod-3":Ca(3),"mod-4":Ca(4),"mod-5":Ca(5),"mod-6":Ca(6),Backspace:jse})}function Wse(){return Yr({name:"heading",attrs:{level:{default:1}},content:"inline*",group:"block",defining:!0,parseDOM:[{tag:"h1",attrs:{level:1}},{tag:"h2",attrs:{level:2}},{tag:"h3",attrs:{level:3}},{tag:"h4",attrs:{level:4}},{tag:"h5",attrs:{level:5}},{tag:"h6",attrs:{level:6}}],toDOM(e){return[`h${e.attrs.level}`,0]}})}function Yse(){return Gt(Wse(),Vse(),qse(),zse())}function Gse(){return(e,t)=>{if(!t)return!0;const{schema:n,tr:r}=e,s=Rn(n,"horizontalRule").createChecked(),o=r.selection.anchor;return r.replaceRange(o,o,new he(se.from(s),0,0)),t(r),!0}}function Kse(){return sr({insertHorizontalRule:Gse})}function Xse(){return Gt(eh(new Gr(/^---$/,(e,t,n,r)=>{const{schema:i}=e,{tr:s}=e,a=Rn(i,"horizontalRule").createChecked();return s.delete(n,r).insert(n-1,a),s.scrollIntoView()})))}function Qse(){return Yr({name:"horizontalRule",group:"block",parseDOM:[{tag:"hr"}],toDOM:()=>["div",{class:"prosekit-horizontal-rule"},["hr"]]})}function mN(){return Gt(Qse(),Xse(),Kse())}function Jse(){return sr({insertImage:e=>Dl({type:"image",attrs:e})})}function Zse(){return Yr({name:"image",attrs:{src:{default:null},width:{default:null},height:{default:null}},group:"block",defining:!0,draggable:!0,parseDOM:[{tag:"img[src]",getAttrs:e=>{if(typeof e=="string")return{src:null};const t=e.getAttribute("src")||null;let n=null,r=null;const i=e.getBoundingClientRect();return i.width>0&&i.height>0?(n=i.width,r=i.height):e instanceof HTMLImageElement&&e.naturalWidth>0&&e.naturalHeight>0&&(n=e.naturalWidth,r=e.naturalHeight),{src:t,width:n,height:r}}}],toDOM(e){return["img",e.attrs]}})}function eoe(){return Gt(Zse(),Jse())}function toe(){return sr({toggleItalic:()=>Vr({type:"italic"})})}function noe(){return th({regex:Zp()?new RegExp("(?<=\\s|^)\\*([^\\s*]|[^\\s*][^*]*[^\\s*])\\*$"):/\*([^\s*]|[^\s*][^*]*[^\s*])\*$/,type:"italic"})}function roe(){return yi({"Mod-i":Vr({type:"italic"})})}function ioe(){return Ml({name:"italic",parseDOM:[{tag:"i"},{tag:"em"},{style:"font-style=italic"},{style:"font-style=normal",clearMark:e=>e.type.name==="italic"}],toDOM(){return["em",0]}})}function soe(){return Gt(ioe(),toe(),roe(),noe())}function ooe({regex:e,handler:t,stop:n=!1}){const r=new aoe(e,t,n);return Tr(loe,[r])}var aoe=class{constructor(e,t,n){this.regex=e,this.handler=t,this.stop=n}},loe=mn({reduce:()=>{let e=[];const n=Jp({Enter:(i,s,o)=>o?uoe(o,e,s):!1}),r=new At({key:new hn("prosekit-enter-rule"),props:{handleKeyDown:n}});return function(s){return e=s,r}},parent:Wr});function uoe(e,t,n){if(e.composing)return!1;const r=e.state,i=r.selection;if(!yI(i))return!1;const s=i.$cursor;if(!s||s.parent.type.spec.code)return!1;const o=s.parent.textBetween(Math.max(0,s.parentOffset-coe),s.parentOffset,null,rse);for(const a of t){a.regex.lastIndex=0;const l=a.regex.exec(o),u=l&&a.handler({state:r,from:s.pos-l[0].length,to:s.pos,match:l});if(u&&(n==null||n(u),a.stop))return!0}return!1}var coe=200,doe="a(?:a(?:a|rp)|b(?:arth|b(?:ott|vie)?|c|le|ogado|udhabi)|c(?:ademy|c(?:enture|ountants?)|o|tor)?|d(?:s|ult)?|e(?:g|ro|tna)?|f(?:l|rica)?|g(?:akhan|ency)?|i(?:g|r(?:bus|force|tel))?|kdn|l(?:faromeo|i(?:baba|pay)|l(?:finanz|state|y)|s(?:ace|tom))?|m(?:azon|e(?:rican(?:express|family)|x)|fam|ica|sterdam)?|n(?:alytics|droid|quan|z)|ol?|p(?:artments|p(?:le)?)|q(?:uarelle)?|r(?:a(?:b|mco)|chi|my|pa|te?)?|s(?:da|ia|sociates)?|t(?:hleta|torney)?|u(?:ction|di(?:ble|o)?|spost|t(?:hor|os?))?|vianca|ws?|xa?|z(?:ure)?)|b(?:a(?:by|idu|n(?:a(?:mex|narepublic)|d|k)|r(?:c(?:elona|lay(?:card|s))|efoot|gains)?|s(?:eball|ketball)|uhaus|yern)?|b(?:c|t|va)?|c[gn]|d|e(?:a(?:ts|uty)|er|ntley|rlin|st(?:buy)?|t)?|f|g|h(?:arti)?|i(?:ble|d|ke|ngo?|o|z)?|j|l(?:ack(?:friday)?|o(?:ckbuster|g|omberg)|ue)|m[sw]?|n(?:pparibas)?|o(?:ats|ehringer|fa|m|nd|o(?:k(?:ing)?)?|s(?:ch|t(?:ik|on))|t|utique|x)?|r(?:adesco|idgestone|o(?:adway|ker|ther)|ussels)?|s|t|u(?:ild(?:ers)?|siness|y|zz)|v|w|y|zh?)|c(?:a(?:b|fe|l(?:l|vinklein)?|m(?:era|p)?|non|p(?:etown|ital(?:one)?)|r(?:avan|ds|e(?:ers?)?|s)?|s(?:a|e|h|ino)|t(?:ering|holic)?)?|b(?:a|n|re|s)|c|d|e(?:nter|o|rn)|f[ad]?|g|h(?:a(?:n(?:el|nel)|rity|se|t)|eap|intai|r(?:istmas|ome)|urch)?|i(?:priani|rcle|sco|t(?:adel|ic?|y(?:eats)?))?|k|l(?:aims|eaning|i(?:ck|ni(?:c|que))|o(?:thing|ud)|ub(?:med)?)?|m|n|o(?:ach|des|ffee|l(?:lege|ogne)|m(?:cast|m(?:bank|unity)|p(?:a(?:ny|re)|uter)|sec)?|n(?:dos|s(?:truction|ulting)|t(?:act|ractors))|o(?:king(?:channel)?|l|p)|rsica|u(?:ntry|pons?|rses))?|pa|r(?:edit(?:card|union)?|icket|own|s|uises?)?|u(?:isinella)?|v|w|x|y(?:mru|ou)?|z)|d(?:a(?:bur|d|nce|t(?:a|e|ing|sun)|y)|clk|ds|e(?:al(?:er|s)?|gree|l(?:ivery|l|oitte|ta)|mocrat|nt(?:al|ist)|si(?:gn)?|v)?|hl|i(?:amonds|et|gital|rect(?:ory)?|s(?:co(?:unt|ver)|h)|y)|j|k|m|np|o(?:c(?:s|tor)|g|mains|t|wnload)?|rive|tv|u(?:bai|nlop|pont|rban)|v(?:ag|r)|z)|e(?:a(?:rth|t)|co?|d(?:eka|u(?:cation)?)|e|g|m(?:ail|erck)|n(?:ergy|gineer(?:ing)?|terprises)|pson|quipment|r(?:icsson|ni)?|s(?:q|tate)?|t(?:isalat)?|u(?:rovision|s)?|vents|x(?:change|p(?:ert|osed|ress)|traspace))|f(?:a(?:ge|i(?:l|rwinds|th)|mily|ns?|rm(?:ers)?|s(?:hion|t))|e(?:dex|edback|rr(?:ari|ero))|i(?:at|d(?:elity|o)|lm|na(?:l|nc(?:e|ial))|r(?:e(?:stone)?|mdale)|sh(?:ing)?|t(?:ness)?)?|j|k|l(?:i(?:ckr|ghts|r)|o(?:rist|wers)|y)|m|o(?:o(?:d(?:network)?|tball)?|r(?:d|ex|sale|um)|undation|x)?|r(?:e(?:e|senius)|l|o(?:gans|nt(?:door|ier)))?|tr|u(?:jitsu|nd?|rniture|tbol)|yi)|g(?:a(?:l(?:l(?:ery|o|up))?|mes?|p|rden|y)?|b(?:iz)?|dn?|e(?:a|nt(?:ing)?|orge)?|f|g(?:ee)?|h|i(?:fts?|v(?:es|ing))?|l(?:ass|e|ob(?:al|o))?|m(?:ail|bh|o|x)?|n|o(?:daddy|l(?:d(?:point)?|f)|o(?:dyear|g(?:le)?)?|p|t|v)|p|q|r(?:a(?:inger|phics|tis)|een|ipe|o(?:cery|up))?|s|t|u(?:ardian|cci|ge|i(?:de|tars)|ru)?|w|y)|h(?:a(?:ir|mburg|ngout|us)|bo|dfc(?:bank)?|e(?:alth(?:care)?|l(?:p|sinki)|r(?:e|mes))|gtv|i(?:phop|samitsu|tachi|v)|kt?|m|n|o(?:ckey|l(?:dings|iday)|me(?:depot|goods|s(?:ense)?)|nda|rse|s(?:pital|t(?:ing)?)|t(?:el(?:es|s)|mail)?|use|w)|r|sbc|t|u(?:ghes)?|y(?:att|undai))|i(?:bm|c(?:bc|e|u)|d|e(?:ee)?|fm|kano|l|m(?:amat|db|mo(?:bilien)?)?|n(?:c|dustries|f(?:initi|o)|g|k|s(?:titute|ur(?:ance|e))|t(?:ernational|uit)?|vestments)?|o|piranga|q|r(?:ish)?|s(?:maili|t(?:anbul)?)?|t(?:au|v)?)|j(?:a(?:guar|va)|cb|e(?:ep|tzt|welry)?|io|ll|mp?|nj|o(?:b(?:s|urg)|t|y)?|p(?:morgan|rs)?|u(?:egos|niper))|k(?:aufen|ddi|e(?:rry(?:hotels|logistics|properties))?|fh|g|h|i(?:a|ds|m|nd(?:er|le)|tchen|wi)?|m|n|o(?:eln|matsu|sher)|p(?:mg|n)?|r(?:d|ed)?|uokgroup|w|y(?:oto)?|z)|l(?:a(?:caixa|m(?:borghini|er)|n(?:c(?:aster|ia)|d(?:rover)?|xess)|salle|t(?:ino|robe)?|w(?:yer)?)?|b|c|ds|e(?:ase|clerc|frak|g(?:al|o)|xus)|gbt|i(?:dl|fe(?:insurance|style)?|ghting|ke|lly|m(?:ited|o)|n(?:coln|de|k)|psy|v(?:e|ing))?|k|l[cp]|o(?:ans?|c(?:ker|us)|l|ndon|tt[eo]|ve)|pl(?:financial)?|r|s|t(?:da?)?|u(?:ndbeck|x(?:e|ury))?|v|y)|m(?:a(?:cys|drid|i(?:f|son)|keup|n(?:agement|go)?|p|r(?:ket(?:ing|s)?|riott|shalls)|serati|ttel)?|ba|c(?:kinsey)?|d|e(?:d(?:ia)?|et|lbourne|m(?:e|orial)|nu?|rckmsd)?|g|h|i(?:ami|crosoft|l|n[it]|t(?:subishi)?)|k|l[bs]?|ma?|n|o(?:bi(?:le)?|da|e|i|m|n(?:ash|ey|ster)|r(?:mon|tgage)|scow|to(?:rcycles)?|v(?:ie)?)?|p|q|r|sd?|t[nr]?|u(?:s(?:eum|ic)|tual)?|v|w|x|y|z)|n(?:a(?:b|goya|me|tura|vy)?|ba|c|e(?:c|t(?:bank|flix|work)?|ustar|ws?|x(?:t(?:direct)?|us))?|fl?|go?|hk|i(?:co|k(?:e|on)|nja|ssa[ny])?|l|o(?:kia|rt(?:hwesternmutual|on)|w(?:ruz|tv)?)?|p|r[aw]?|tt|u|yc|z)|o(?:b(?:i|server)|ffice|kinawa|l(?:ayan(?:group)?|dnavy|lo)|m(?:ega)?|n(?:e|g|l(?:ine)?)|oo|pen|r(?:a(?:cle|nge)|g(?:anic)?|igins)|saka|t(?:suka|t)|vh)|p(?:a(?:ge|nasonic|r(?:is|s|t(?:ners|s|y))|ssagens|y)?|ccw|et?|f(?:izer)?|g|h(?:armacy|d|ilips|o(?:ne|to(?:graphy|s)?)|ysio)?|i(?:c(?:s|t(?:et|ures))|d|n[gk]?|oneer|zza)|k|l(?:a(?:ce|y(?:station)?)|u(?:mbing|s))?|m|nc?|o(?:hl|ker|litie|rn|st)|r(?:a(?:merica|xi)|ess|ime|o(?:d(?:uctions)?|f|gressive|mo|pert(?:ies|y)|tection)?|u(?:dential)?)?|s|t|ub|wc?|y)|q(?:a|pon|ue(?:bec|st))|r(?:a(?:cing|dio)|e(?:a(?:d|l(?:estate|t(?:or|y)))|cipes|d(?:stone|umbrella)?|hab|i(?:sen?|t)|liance|n(?:t(?:als)?)?|p(?:air|ort|ublican)|st(?:aurant)?|views?|xroth)?|i(?:c(?:h(?:ardli)?|oh)|l|o|p)|o(?:c(?:her|ks)|deo|gers|om)?|s(?:vp)?|u(?:gby|hr|n)?|we?|yukyu)|s(?:a(?:arland|fe(?:ty)?|kura|l(?:e|on)|ms(?:club|ung)|n(?:dvik(?:coromant)?|ofi)|p|rl|s|ve|xo)?|b[is]?|c(?:a|b|h(?:aeffler|midt|o(?:larships|ol)|ule|warz)|ience|ot)?|d|e(?:a(?:rch|t)|cur(?:e|ity)|ek|lect|ner|rvices|ven|w|xy?)?|fr|g|h(?:a(?:ngrila|rp|w)|ell|i(?:a|ksha)|o(?:es|p(?:ping)?|uji|w(?:time)?))?|i(?:lk|n(?:a|gles)|te)?|j|k(?:in?|y(?:pe)?)?|l(?:ing)?|m(?:art|ile)?|n(?:cf)?|o(?:c(?:cer|ial)|ft(?:bank|ware)|hu|l(?:ar|utions)|n[gy]|y)?|p(?:a(?:ce)?|o(?:rt|t))|rl?|s|t(?:a(?:da|ples|r|te(?:bank|farm))|c(?:group)?|o(?:ckholm|r(?:age|e))|ream|ud(?:io|y)|yle)?|u(?:cks|pp(?:l(?:ies|y)|ort)|r(?:f|gery)|zuki)?|v|w(?:atch|iss)|x|y(?:dney|stems)?|z)|t(?:a(?:b|ipei|lk|obao|rget|t(?:a(?:motors|r)|too)|xi?)|ci?|dk?|e(?:am|ch(?:nology)?|l|masek|nnis|va)|f|g|h(?:d|eat(?:er|re))?|i(?:aa|ckets|enda|ffany|ps|r(?:es|ol))|j(?:maxx|x)?|k(?:maxx)?|l|m(?:all)?|n|o(?:day|kyo|ols|p|ray|shiba|tal|urs|wn|y(?:ota|s))?|r(?:a(?:d(?:e|ing)|ining|vel(?:channel|ers(?:insurance)?)?)|ust|v)?|t|u(?:be|i|nes|shu)|vs?|w|z)|u(?:a|b(?:ank|s)|g|k|n(?:i(?:com|versity)|o)|ol|ps|s|y|z)|v(?:a(?:cations|n(?:a|guard))?|c|e(?:gas|ntures|r(?:isign|sicherung)|t)?|g|i(?:ajes|deo|g|king|llas|n|p|rgin|s(?:a|ion)|v[ao])?|laanderen|n|o(?:dka|l(?:kswagen|vo)|t(?:e|ing|o)|yage)|u(?:elos)?)|w(?:a(?:l(?:es|mart|ter)|ng(?:gou)?|tch(?:es)?)|e(?:ather(?:channel)?|b(?:cam|er|site)|d(?:ding)?|i(?:bo|r))|f|hoswho|i(?:en|ki|lliamhill|n(?:dows|e|ners)?)|me|o(?:lterskluwer|odside|r(?:ks?|ld)|w)|s|t[cf])|x(?:box|erox|finity|i(?:huan|n)|xx|yz)|y(?:a(?:chts|hoo|maxun|ndex)|e|o(?:dobashi|ga|kohama|u(?:tube)?)|t|un)|z(?:a(?:ppos|ra)?|ero|ip|m|one|uerich|w)",gN="\\.\\,\\;\\!\\?",bN="["+gN+"]",$m="[^\\s"+gN+"]",yN="((?:(?:(?:https?:)?\\/\\/)?(?:(?:[a-z0-9\\u00a1-\\uffff][a-z0-9\\u00a1-\\uffff_-]{0,62})?[a-z0-9\\u00a1-\\uffff]\\.)+(?:"+doe+"))(?::\\d{2,5})?(?:/(?:\\S*"+$m+")?)?(?:\\?(?:\\S*"+$m+"))?(?:\\#(?:\\S*"+$m+")?)?)",foe=yN+bN+"?$",poe=yN+bN+"?\\s$",hoe=new RegExp(foe,"gi"),moe=new RegExp(poe,"gi");function goe(){return Ml({name:"link",inclusive:!1,attrs:{href:{}},parseDOM:[{tag:"a[href]",getAttrs:e=>({href:e.getAttribute("href")})}],toDOM(e){const{href:t}=e.attrs;return["a",{href:t},0]}})}function boe(){return sr({addLink:e=>XI({type:"link",attrs:e}),removeLink:()=>JI({type:"link"}),toggleLink:e=>Vr({type:"link",attrs:e}),expandLink:()=>eie({type:"link"})})}function yoe(){return eh(new Gr(moe,(e,t,n)=>{const r=t[1];if(!r)return null;const i=e.schema.marks.link.create({href:r});return e.tr.addMark(n,n+r.length,i).insertText(" ")}))}function _oe(){return ooe({regex:hoe,handler:({state:e,from:t,match:n})=>{const r=n[1];if(!r)return null;const i=e.schema.marks.link.create({href:r}),s=e.tr.addMark(t,t+r.length,i);return s.docChanged?s:null}})}function Eoe(){return Gt(goe(),boe(),yoe(),_oe())}var Qf=typeof navigator<"u"?navigator:null,K1=Qf&&Qf.userAgent||"",voe=/Edge\/(\d+)/.exec(K1),Toe=/MSIE \d/.exec(K1),woe=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(K1),xoe=!!(Toe||woe||voe),Coe=!xoe&&!!Qf&&/Apple Computer/.test(Qf.vendor),_N=new hn("safari-ime-span"),v0=!1,Soe={key:_N,props:{decorations:Aoe,handleDOMEvents:{compositionstart:()=>{v0=!0},compositionend:()=>{v0=!1}}}};function Aoe(e){const{$from:t,$to:n,to:r}=e.selection;if(v0&&t.sameParent(n)){const i=dn.widget(r,koe,{ignoreSelection:!0,key:"safari-ime-span"});return Pt.create(e.doc,[i])}}function koe(e){const t=e.dom.ownerDocument.createElement("span");return t.className="ProseMirror-safari-ime-span",t}var Ooe=new At(Coe?Soe:{key:_N});function ef(e){if(e==null)return null;const t=Number.parseInt(e,10);return Number.isInteger(t)?t:null}function Ioe(){return[{tag:"div[data-list-kind]",getAttrs:e=>typeof e=="string"?{}:{kind:e.getAttribute("data-list-kind")||"bullet",order:ef(e.getAttribute("data-list-order")),checked:e.hasAttribute("data-list-checked"),collapsed:e.hasAttribute("data-list-collapsed")}},{tag:"div[data-list]",getAttrs:e=>typeof e=="string"?{}:{kind:e.getAttribute("data-list-kind")||"bullet",order:ef(e.getAttribute("data-list-order")),checked:e.hasAttribute("data-list-checked"),collapsed:e.hasAttribute("data-list-collapsed")}},{tag:"ul > li",getAttrs:e=>{var t;if(typeof e!="string"){let n=e.firstChild;for(let r=0;r<3&&n&&!["INPUT","UL","OL","LI"].includes(n.nodeName);r++)n=n.firstChild;if(n&&n.nodeName==="INPUT"&&n.getAttribute("type")==="checkbox")return{kind:"task",checked:n.hasAttribute("checked")};if(e.hasAttribute("data-task-list-item")||e.getAttribute("data-list-kind")==="task")return{kind:"task",checked:e.hasAttribute("data-list-checked")||e.hasAttribute("data-checked")};if(e.hasAttribute("data-toggle-list-item")||e.getAttribute("data-list-kind")==="toggle")return{kind:"toggle",collapsed:e.hasAttribute("data-list-collapsed")};if(((t=e.firstChild)==null?void 0:t.nodeType)===3){const r=e.firstChild.textContent;if(r&&/^\[[\sx|]]\s{1,2}/.test(r))return e.firstChild.textContent=r.replace(/^\[[\sx|]]\s{1,2}/,""),{kind:"task",checked:r.startsWith("[x]")}}}return{kind:"bullet"}}},{tag:"ol > li",getAttrs:e=>typeof e=="string"?{kind:"ordered"}:{kind:"ordered",order:ef(e.getAttribute("data-list-order"))}},{tag:":is(ul, ol) > :is(ul, ol)",getAttrs:()=>({kind:"bullet"})}]}function EN({node:e,nativeList:t=!1,getMarkers:n=Noe,getAttributes:r=Roe}){var i;const s=e.attrs,a=((i=e.firstChild)==null?void 0:i.type)===e.type?null:n(e),l=r(e),u=["div",{class:"list-content"},0],c=a&&["div",{class:"list-marker list-marker-click-target",contenteditable:"false"},...a];if(t){const d=s.kind==="ordered"?"ol":"ul";return c?[d,["li",l,c,u]]:[d,["li",l,0]]}else return c?["div",l,c,u]:["div",l,u]}function Noe(e){const t=e.attrs;switch(t.kind){case"task":return[["label",["input",{type:"checkbox",checked:t.checked?"":void 0}]]];case"toggle":return[];default:return null}}function Roe(e){var t;const n=e.attrs;return{class:"prosemirror-flat-list","data-list-kind":((t=e.firstChild)==null?void 0:t.type)===e.type?void 0:n.kind||"bullet","data-list-order":n.order!=null?String(n.order):void 0,"data-list-checked":n.checked?"":void 0,"data-list-collapsed":n.collapsed?"":void 0,"data-list-collapsable":e.childCount>=2?"":void 0,style:n.order!=null?`--prosemirror-flat-list-order: ${n.order};`:void 0}}var vN="flatList";function Doe(){return{content:"block+",group:`${vN} block`,definingForContent:!0,definingAsContext:!1,attrs:{kind:{default:"bullet"},order:{default:null},checked:{default:!1},collapsed:{default:!1}},toDOM:e=>EN({node:e}),parseDOM:Ioe()}}function Gc(e){let t=e.cached.PROSEMIRROR_FLAT_LIST_LIST_TYPE_NAME;if(!t){for(const n of Object.values(e.nodes))if((n.spec.group||"").split(" ").includes(vN)){t=n.name;break}if(!t)throw new TypeError("[prosemirror-flat-list] Unable to find a flat list type in the schema");e.cached.PROSEMIRROR_FLAT_LIST_LIST_TYPE_NAME=t}return e.nodes[t]}function Moe(e){return Gc(e.schema)===e}function dt(e){return e?Moe(e.type):!1}function X1(e){return n=>(i,s,o)=>n(i,s?a=>s(e(a)):void 0,o)}function*Poe(e){const t=[];let n=0;for(;;){for(;n<e.mapping.maps.length;n++){const r=e.mapping.maps[n];for(let i=0;i<t.length;i++)t[i]=r.map(t[i]);r.forEach((i,s,o,a)=>t.push(o,a))}yield t}}function vw(e,t,n){const r=new Set,i=[];for(const s of e){const o=t.resolve(s);for(let a=o.depth;a>=0;a--){const l=o.before(a+1);if(r.has(l))break;r.add(l);const u=o.index(a),c=o.node(a),d=c.maybeChild(u-1);if(!d)continue;const f=c.maybeChild(u);f&&n(d,f,c,u)&&i.push(l)}}return i.sort((s,o)=>o-s)}function Loe(e,t){return dt(e)&&dt(t)&&dt(t.firstChild)}function Boe(e,t,n,r){return!!(r===1&&dt(n)&&dt(e)&&!dt(t))}function $oe(e){const t=Poe(e),n=vw(t.next().value,e.doc,Loe);for(const i of n)Wp(e.doc,i)&&e.join(i);const r=vw(t.next().value,e.doc,Boe);for(const i of r)ds(e.doc,i)&&e.split(i);return e}var nh=X1($oe);function TN(e,t){for(let n=t;n<=e.depth;n++){if(e.node(n).isTextblock)continue;if(e.index(n)!==0)return!1}return!0}function wN(e,t){for(let n=t;n<=e.depth;n++){if(e.node(n).isTextblock)continue;if(e.index(n)!==e.node(n).childCount-1)return!1}return!0}function rh(e,t=e){if(t.pos<e.pos)return rh(t,e);let n=e.blockRange(t);for(;n;){if(xN(n))return n;if(n.depth<=0)break;n=new _r(e,t,n.depth-1)}return null}function xN(e){const{startIndex:t,endIndex:n,parent:r}=e;for(let i=t;i<n;i++)if(!dt(r.child(i)))return!1;return!0}function fl(e,t){let n=e.steps.length;return()=>{if(n<e.steps.length){const i=e.mapping.slice(n);n=e.steps.length,t=i.map(t)}return t}}function pl(e,t){const n=Vc(t);return n==null?!1:(e.lift(t,n),!0)}function Tw(e,t,n){const r=e.doc.resolve(t),i=e.doc.resolve(n),s=r.blockRange(i);return s?pl(e,s):!1}function Jf(e){const{$from:t,$to:n,depth:r,start:i,end:s}=e,o=t.doc,a=(t.pos>i?t:o.resolve(i+1)).blockRange(n.pos<s?n:o.resolve(s-1));return a&&a.depth>r?a:null}function Q1(e){return!!(dt(e)&&e.attrs.collapsed)}function J1(e,t,n,r){let i=!1;for(const s of Object.keys(r))r[s]!==n[s]&&(e.setNodeAttribute(t,s,r[s]),i=!0);return i}function Foe(e,t,n){const i=e.doc.resolve(t).nodeAfter;if(i&&dt(i)){const s=i.attrs,o={...s,...n};return J1(e,t,s,o)}return!1}function ww(e,t){for(let n=t;n<=e.depth;n++)if(Q1(e.node(n))&&e.index(n)>=1){const r=e.posAtIndex(1,n),i=e.doc.resolve(r);return Ue.near(i,-1)}return null}function CN(e){const{$from:t,$to:n,to:r}=e.selection,i=ww(t,0)||ww(n,t.sharedDepth(r));return i&&e.setSelection(i),e}var Uoe=X1(CN);function xw(e,t){for(let n=t;n<=e.depth;n++)if(Q1(e.node(n))&&e.index(n)>=1)return e.before(n);return null}function Hoe(e){var t;const{$from:n,$to:r,to:i}=e.selection,s=(t=xw(n,0))!=null?t:xw(r,n.sharedDepth(i));return s!=null&&(e.doc.resolve(s),Foe(e,s,{collapsed:!1})),e}var SN=X1(Hoe);function AN(e){return SN(nh((n,r)=>{const i=n.tr,s=(e==null?void 0:e.from)==null?i.selection.$from:i.doc.resolve(e.from),o=(e==null?void 0:e.to)==null?i.selection.$to:i.doc.resolve(e.to),a=rh(s,o);return a&&bc(a,i)?(r==null||r(i),!0):!1}))}function bc(e,t,n,r){const{depth:i,$from:s,$to:o}=e;if(n=n||TN(s,i+1),!n){const{startIndex:a,endIndex:l}=e;if(l-a===1){const u=Jf(e);return u?bc(u,t):!1}else return zoe(e,t,a+1)}if(r=r||wN(o,i+1),!r){ON(e,t);const a=o.end(i);return e=new _r(t.doc.resolve(s.pos),t.doc.resolve(a),i),bc(e,t,void 0,!0)}return e.startIndex===0&&e.endIndex===e.parent.childCount&&dt(e.parent)?T0(new _r(s,o,i-1),t):T0(e,t)}function zoe(e,t,n){const{$from:r,$to:i,depth:s}=e,o=r.posAtIndex(n,s),a=r.blockRange(t.doc.resolve(o-1));if(!a)return!1;const l=fl(t,o+1),u=fl(t,i.pos);bc(a,t,void 0,!0);let c=t.doc.resolve(l()).blockRange(t.doc.resolve(u()));return c&&c.depth>=s&&(c=new _r(c.$from,c.$to,s),bc(c,t,!0,void 0)),!0}function T0(e,t){return dt(e.parent)?Cw(t,e):xN(e)?IN(t,e):Cw(t,e)}function Cw(e,t){if(kN(e,t)){const n=e.doc.resolve(t.$from.pos),r=e.doc.resolve(t.$to.pos);t=new _r(n,r,t.depth)}return pl(e,t)}function kN(e,t){const n=Gc(e.doc.type.schema),{$to:r,depth:i,end:s,parent:o,endIndex:a}=t,l=r.end(i);if(s<l){const u=o.maybeChild(a-1);return u?a<o.childCount&&u.canReplace(u.childCount,u.childCount,o.content,a,o.childCount)?(e.step(new Jt(s-1,l,s,l,new he(se.from(n.create(null)),1,0),0,!0)),!0):(e.step(new Jt(s,l,s,l,new he(se.from(n.create(null)),0,0),1,!0)),!0):!1}return!1}function ON(e,t){e.endIndex-e.startIndex>=2&&(e=new _r(e.$to.doc.resolve(e.$to.posAtIndex(e.endIndex-1,e.depth)),e.$to,e.depth));const n=Jf(e);n&&(ON(n,t),e=new _r(t.doc.resolve(e.$from.pos),t.doc.resolve(e.$to.pos),e.depth)),kN(t,e)}function IN(e,t){const{startIndex:n,endIndex:r,parent:i}=t,s=fl(e,t.start),o=fl(e,t.end);for(let d=o(),f=r-1;f>n;f--)d-=i.child(f).nodeSize,e.delete(d-1,d+1);const a=e.doc.resolve(s()),l=a.nodeAfter;if(!l)return!1;const u=t.start,c=u+l.nodeSize;return o()!==c||!a.parent.canReplace(n,n+1,se.from(l))?!1:(e.step(new Jt(u,c,u+1,c-1,new he(se.empty,0,0),0,!0)),!0)}var Voe=wr(F1,H1,zI);function joe(e){for(let t=e.depth;t>=0;t--){const n=e.node(t);if(dt(n)&&n.attrs.collapsed)return!0}return!1}function NN(e){return SN(nh((n,r)=>{const i=n.tr,s=(e==null?void 0:e.from)==null?i.selection.$from:i.doc.resolve(e.from),o=(e==null?void 0:e.to)==null?i.selection.$to:i.doc.resolve(e.to),a=rh(s,o)||s.blockRange(o);return a&&yc(a,i)?(r==null||r(i),!0):!1}))}function yc(e,t,n,r){const{depth:i,$from:s,$to:o}=e;if(n=n||TN(s,i+1),!n){const{startIndex:a,endIndex:l}=e;if(l-a===1){const u=Jf(e);return u?yc(u,t):!1}else return Sw(e,t,a+1)}if(r=r||wN(o,i+1),!r&&!joe(o)){const{startIndex:a,endIndex:l}=e;if(l-a===1){const u=Jf(e);return u?yc(u,t):!1}else return Sw(e,t,l-1)}return qoe(e,t)}function Sw(e,t,n){const{$from:r,$to:i,depth:s}=e,o=r.posAtIndex(n,s),a=r.blockRange(t.doc.resolve(o-1));if(!a)return!1;const l=fl(t,o+1),u=fl(t,i.pos);yc(a,t,void 0,!0);const c=t.doc.resolve(l()).blockRange(t.doc.resolve(u()));return c&&yc(c,t,!0,void 0),!0}function qoe(e,t){const n=Gc(t.doc.type.schema),{parent:r,startIndex:i}=e,s=i>=1&&r.child(i-1);if(s&&dt(s)){const{start:l,end:u}=e;return t.step(new Jt(l-1,u,l,u,new he(se.from(n.create(null)),1,0),0,!0)),!0}const o=dt(r),a=dt(r.maybeChild(i));if(i===0&&o||a){const{start:l,end:u}=e,c=a?r.child(i).attrs:o?r.attrs:null;return t.step(new Jt(l,u,l,u,new he(se.from(n.create(c)),0,0),1,!0)),!0}return!1}function RN(e,t){const{$cursor:n}=e.selection;return!n||(t?!t.endOfTextblock("backward",e):n.parentOffset>0)?null:n}function Woe(e,t,n){let r=t.nodeBefore,i=r,s=t.pos-1;for(;!i.isTextblock;s--){if(i.type.spec.isolating)return!1;let c=i.lastChild;if(!c)return!1;i=c}let o=t.nodeAfter,a=o,l=t.pos+1;for(;!a.isTextblock;l++){if(a.type.spec.isolating)return!1;let c=a.firstChild;if(!c)return!1;a=c}let u=jc(e.doc,s,l,he.empty);return!u||u.from!=s||u instanceof ln&&u.slice.size>=l-s?!1:(n&&(e.step(u),e.setSelection(Ue.create(e.doc,s)),n(e.scrollIntoView())),!0)}var DN=(e,t,n)=>{const r=RN(e,n);if(!r)return!1;const i=Yoe(r);if(!i)return!1;const{nodeBefore:s,nodeAfter:o}=i;if(s&&o&&dt(s)&&s.attrs.collapsed&&o.isBlock){const a=e.tr,l=i.pos-s.nodeSize;a.delete(i.pos,i.pos+o.nodeSize);const u=l+1+s.child(0).nodeSize;a.insert(u,o);const c=a.doc.resolve(u);if(a.setSelection(Ue.near(c)),Woe(a,c,t))return!0}return!1};function Yoe(e){if(!e.parent.type.spec.isolating)for(let t=e.depth-1;t>=0;t--){if(e.index(t)>0)return e.doc.resolve(e.before(t+1));if(e.node(t).type.spec.isolating)break}return null}var MN=(e,t,n)=>{const r=RN(e,n);if(!r)return!1;const{depth:i}=r;if(i<2)return!1;const s=i-1,o=r.node(s);if(!dt(o))return!1;const a=r.index(s);return a===0?(t&&Goe(e,t,r),!0):a===o.childCount-1?(t&&Koe(e,t,r),!0):!1};function Goe(e,t,n){const r=e.tr,i=n.depth-1,s=new _r(n,r.doc.resolve(n.end(i)),i);pl(r,s)&&t(r)}function Koe(e,t,n){const r=e.tr,i=n.blockRange();i&&pl(r,i)&&t(r)}var ih=(e,t)=>{const n=e.tr;let r=!1;const{from:i,to:s}=e.selection;return e.doc.nodesBetween(i,s,(o,a,l,u)=>{if(r&&!t)return!1;if(l&&Q1(l)&&u>=1){if(r=!0,!t)return!1;const c=e.doc.resolve(a);n.setNodeAttribute(c.before(c.depth),"collapsed",!1)}}),r&&(t==null||t(n)),r};function Aw(e,t,n,r){const i=e.createAndFill(t,n,r);if(!i)throw new RangeError(`Failed to create '${e.name}' node`);return i.check(),i}function PN(e){return!!e.node}function LN(e){return PN(e)&&e.node.type.isBlock}function Xoe(e){return!!(e&&e instanceof Ue)}function BN(){return nh(wr(Qoe,Joe))}function $N(e){return{kind:e.attrs.kind}}var Qoe=(e,t)=>{if(!LN(e.selection))return!1;const n=e.selection,{$to:r,node:i}=n,s=r.parent;if(dt(i)||!dt(s)||s.childCount!==1||s.firstChild!==i)return!1;const o=s.type,a=o.createAndFill($N(s));if(!a)return!1;if(t){const l=e.tr,u=r.pos;l.replace(u,u,new he(se.fromArray([o.create(),a]),1,1));const c=Ue.near(l.doc.resolve(u));Xoe(c)&&(l.setSelection(c),t(l))}return!0},Joe=(e,t)=>{if(LN(e.selection))return!1;const{$from:n,$to:r}=e.selection;if(!n.sameParent(r)||n.depth<2)return!1;const i=n.depth-1,s=n.node(i);if(!dt(s))return!1;const o=n.parent,a=n.index(i),l=o.content.size===0;if(a===0)if(l){const u=e.doc.resolve(n.end(i)),c=i-1,d=n.node(c),m=n.index(c)===d.childCount-1?new _r(n,u,c):new _r(n,u,i),g=e.tr;return m&&T0(m,g)?(t==null||t(g),!0):!1}else return Zoe(e,s,t);else return l?Voe(e,t):!1};function Zoe(e,t,n){const r=e.tr,i=t.type,s=t.attrs,o=$N(t);r.delete(r.selection.from,r.selection.to);const{$from:a,$to:l}=r.selection,{parentOffset:u}=l,c=u==0,d=u==l.parent.content.size;if(c){if(n){const m=a.before(-1);r.insert(m,Aw(i,o)),n(r.scrollIntoView())}return!0}if(d&&s.collapsed){if(n){const m=a.after(-1);r.insert(m,Aw(i,o)),r.setSelection(Fe.near(r.doc.resolve(m))),n(r.scrollIntoView())}return!0}const f=d?t.contentMatchAt(0).defaultType:void 0,p=[{type:i,attrs:o},f?{type:f}:null];return ds(r.doc,a.pos,2,p)?(n==null||n(r.split(a.pos,2,p).scrollIntoView()),!0):!1}var eae=wr(ih,BN());wr(ih,Rl,MN,DN,BI,L1);var tae=wr(ih,Rl,vre,UI);function Ad(e,t,n){return e.cutByIndex(t,n)}function nae(e){return nh((n,r)=>{const i=n.tr;return w0(i,e,!0,!!r)?(r==null||r(i),!0):!1})}function w0(e,t,n,r){const{$from:i,$to:s}=e.selection,o=rh(i,s);if(!o)return!1;const{parent:a,depth:l,startIndex:u,endIndex:c}=o;if(t==="up")if(u>=2||u===1&&dt(a.child(0))){const d=Ad(a.content,u-1,u),f=Ad(a.content,u,c);return a.canReplace(u-1,c,f.append(d))?(r&&(e.insert(i.posAtIndex(c,l),d),e.delete(i.posAtIndex(u-1,l),i.posAtIndex(u,l))),!0):!1}else return n&&dt(a)?pl(e,o)&&w0(e,t,!1,r):!1;else if(c<a.childCount){const d=Ad(a.content,u,c),f=Ad(a.content,c,c+1);return a.canReplace(u,c+1,f.append(d))?(r&&(e.delete(i.posAtIndex(c,l),i.posAtIndex(c+1,l)),e.insert(i.posAtIndex(u,l),f)),!0):!1}else return n&&dt(a)?pl(e,o)&&w0(e,t,!1,r):!1}function rae({collapsed:e=void 0,isToggleable:t=iae}={}){return(r,i)=>{const{$from:s}=r.selection;for(let o=s.depth;o>=0;o--){const a=s.node(o);if(dt(a)&&t(a)){if(i){const l=s.before(o),u=a.attrs,c=r.tr;c.setNodeAttribute(l,"collapsed",e??!u.collapsed),i(CN(c))}return!0}}return!1}}function iae(e){return e.attrs.kind==="toggle"&&e.childCount>=2&&!dt(e.firstChild)}function FN(e){const t=e==null?void 0:e.kind;return(r,i)=>{const s=r.selection;if(PN(s)&&x0(s.node,t)){if(i){const a=r.tr;Tw(a,a.selection.from+1,a.selection.to-1),i(a.scrollIntoView())}return!0}const o=s.$from.blockRange(s.$to);if(o&&sae(o,t)){const a=r.tr;if(IN(a,o))return i==null||i(a),!0}if(o&&x0(o.parent,t)){if(i){const a=r.tr;Tw(a,o.$from.start(o.depth),o.$to.end(o.depth)),i(a.scrollIntoView())}return!0}return!1}}function x0(e,t){return dt(e)?t?e.attrs.kind===t:!0:!1}function sae(e,t){const{startIndex:n,endIndex:r,parent:i}=e;for(let s=n;s<r;s++)if(!x0(i.child(s),t))return!1;return!0}function UN(e){return(n,r)=>{const{$from:i,$to:s}=n.selection;let o=i.blockRange(s);if(!o)return!1;oae(o)&&dt(o.parent)&&o.depth>0&&o.startIndex===0&&(o=new _r(i,s,o.depth-1));const a=typeof e=="function"?e(o):e;if(!a)return!1;const{parent:l,startIndex:u,endIndex:c,depth:d}=o,f=n.tr,p=Gc(n.schema);for(let m=c-1;m>=u;m--){const g=l.child(m);if(dt(g)){const b=g.attrs,y={...b,...a};J1(f,i.posAtIndex(m,d),b,y)}else{const b=i.posAtIndex(m,d),y=i.posAtIndex(m+1,d);let E=b+1,T=y-1;E>T&&([E,T]=[T,E]);const C=new _r(f.doc.resolve(E),f.doc.resolve(T),d),D=qp(C,p,a);D&&f.wrap(C,D)}}return r==null||r(f),!0}}function oae(e){const{parent:t,startIndex:n,endIndex:r}=e;for(let i=n;i<r;i++)if(t.child(i).inlineContent)return!0;return!1}function aae(e){const t=FN({kind:e.kind}),n=UN(e);return wr(t,n)}function lae({view:e,event:t,onListClick:n=cae}){const r=t.target;if(r!=null&&r.closest(".list-marker-click-target")){t.preventDefault();const i=e.posAtDOM(r,-10,-10);return uae(i,n)(e.state,s=>e.dispatch(s))}return!1}function uae(e,t){return Uoe((r,i)=>{const s=r.tr,o=s.doc.resolve(e),a=o.parent;if(!dt(a))return!1;const l=o.before(o.depth),u=t(a);return J1(s,l,a.attrs,u)&&(i==null||i(s)),!0})}var cae=e=>{const t=e.attrs;return t.kind==="task"?{...t,checked:!t.checked}:t.kind==="toggle"?{...t,collapsed:!t.collapsed}:t};function kd(e,t){return new Gr(e,(n,r,i,s)=>{const o=n.tr;o.deleteRange(i,s);const a=o.selection.$from,l=a.index(-1)===0&&a.node(-1);if(l&&dt(l)){const p=l.attrs,m=typeof t=="function"?t({match:r,attributes:p}):t,g=Object.entries(m).filter(([b,y])=>p[b]!==y);if(g.length===0)return null;{const b=a.before(-1);for(const[y,E]of g)o.setNodeAttribute(b,y,E);return o}}const c=o.doc.resolve(i).blockRange();if(!c)return null;const d=typeof t=="function"?t({match:r}):t,f=qp(c,Gc(n.schema),d);return f?o.wrap(c,f):null})}var dae=[kd(/^\s?([*-])\s$/,{kind:"bullet",collapsed:!1}),kd(/^\s?(\d+)\.\s$/,({match:e})=>{const t=ef(e[1]);return{kind:"ordered",collapsed:!1,order:t!=null&&t>=2?t:null}}),kd(/^\s?\[([\sXx]?)]\s$/,({match:e})=>({kind:"task",checked:["x","X"].includes(e[1]),collapsed:!1})),kd(/^\s?>>\s$/,{kind:"toggle"})],Zf=typeof navigator<"u"?navigator:null,Z1=Zf&&Zf.userAgent||"",fae=/Edge\/(\d+)/.exec(Z1),pae=/MSIE \d/.exec(Z1),hae=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(Z1),mae=!!(pae||hae||fae),gae=!mae&&!!Zf&&/Apple Computer/.test(Zf.vendor),bae=e=>{var t,n;let r=e;const i=((t=e.firstChild)==null?void 0:t.type)===e.type,s=e.childCount===1,o=e.type.spec.toDOM(e),{dom:a,contentDOM:l}=ai.renderSpec(document,o);return gae&&e.attrs.kind==="toggle"&&((n=a.querySelector(".list-marker-click-target"))==null||n.appendChild(document.createElement("span"))),{dom:a,contentDOM:l,update:c=>{var d;if(!c.sameMarkup(r))return!1;const f=((d=c.firstChild)==null?void 0:d.type)===c.type,p=c.childCount===1;return i!==f||s!==p?!1:(r=c,!0)}}};function C0(e){for(let t=0;t<e.childNodes.length;t++){const n=e.children.item(t);if(n){if(n.tagName==="UL"||n.tagName==="OL"){let r=null;for(;r=n.nextElementSibling,(r==null?void 0:r.tagName)===n.tagName;)n.append(...Array.from(r.children)),r.remove()}C0(n)}}return e}function yae(e){for(;e.openStart>=2&&e.openEnd>=2&&e.content.childCount===1&&dt(e.content.child(0));)e=new he(e.content.child(0).content,e.openStart-1,e.openEnd-1);return e}function _ae(){return new At({props:{handleDOMEvents:{mousedown:(e,t)=>lae({view:e,event:t})}}})}function Eae(){return new At({props:{nodeViews:{list:bae}}})}function vae(){return Ooe}function Tae(e){return Dl({type:"list",attrs:e})}function wae(){return sr({dedentList:AN,indentList:NN,moveList:nae,splitList:BN,toggleCollapsed:rae,unwrapList:FN,toggleList:aae,wrapInList:UN,insertList:Tae})}function xae(){return Gt(dae.map(eh))}var Cae=wr(ih,Rl,MN,DN),kw=AN(),Ow=NN(),Sae={Enter:eae,Backspace:Cae,Delete:tae,"Mod-]":Ow,"Mod-[":kw,Tab:Ow,"Shift-Tab":kw};function Aae(){return yi(Sae)}function kae(){return new At({props:{transformCopied:yae}})}function Oae(){return[_ae(),Eae(),kae(),vae()]}function Iae(){return fa(Oae)}function Nae(){return mie({serializeFragmentWrapper:e=>(...t)=>{const n=e(...t);return C0(n)},serializeNodeWrapper:e=>(...t)=>{const n=e(...t);return gc(n)?C0(n):n},nodesFromSchemaWrapper:e=>(...t)=>({...e(...t),list:r=>EN({node:r,nativeList:!0,getMarkers:()=>null})})})}function Rae(){return Yr({...Doe(),name:"list"})}function Dae(){return Gt(Rae(),Iae(),Aae(),xae(),wae(),Nae())}function Mae(){return fa(new At({key:Pae,props:{handleClick:Lae}}))}var Pae=new hn("prosekit-mod-click-prevention");function Lae(e,t,n){return!!n[Bae]}var Bae=dN?"metaKey":"ctrlKey";function $ae(){return Ml({name:"strike",parseDOM:[{tag:"s"},{tag:"strike"},{tag:"del"},{style:"text-decoration=line-through"},{style:"text-decoration-line=line-through"}],toDOM(){return["s",0]}})}function Fae(){return sr({toggleStrike:()=>Vr({type:"strike"})})}function Uae(){return yi({"Mod-shift-s":Vr({type:"strike"}),"Mod-shift-x":Vr({type:"strike"})})}function Hae(){return th({regex:Zp()?new RegExp("(?<=\\s|^)~~([^\\s~]|[^\\s~][^~]*[^\\s~])~~$"):/~~([^\s~]|[^\s~][^~]*[^\s~])~~$/,type:"strike"})}function zae(){return Gt($ae(),Fae(),Uae(),Hae())}var S0,A0;if(typeof WeakMap<"u"){let e=new WeakMap;S0=t=>e.get(t),A0=(t,n)=>(e.set(t,n),n)}else{const e=[];let n=0;S0=r=>{for(let i=0;i<e.length;i+=2)if(e[i]==r)return e[i+1]},A0=(r,i)=>(n==10&&(n=0),e[n++]=r,e[n++]=i)}var Bt=class{constructor(e,t,n,r){this.width=e,this.height=t,this.map=n,this.problems=r}findCell(e){for(let t=0;t<this.map.length;t++){const n=this.map[t];if(n!=e)continue;const r=t%this.width,i=t/this.width|0;let s=r+1,o=i+1;for(let a=1;s<this.width&&this.map[t+a]==n;a++)s++;for(let a=1;o<this.height&&this.map[t+this.width*a]==n;a++)o++;return{left:r,top:i,right:s,bottom:o}}throw new RangeError(`No cell with offset ${e} found`)}colCount(e){for(let t=0;t<this.map.length;t++)if(this.map[t]==e)return t%this.width;throw new RangeError(`No cell with offset ${e} found`)}nextCell(e,t,n){const{left:r,right:i,top:s,bottom:o}=this.findCell(e);return t=="horiz"?(n<0?r==0:i==this.width)?null:this.map[s*this.width+(n<0?r-1:i)]:(n<0?s==0:o==this.height)?null:this.map[r+this.width*(n<0?s-1:o)]}rectBetween(e,t){const{left:n,right:r,top:i,bottom:s}=this.findCell(e),{left:o,right:a,top:l,bottom:u}=this.findCell(t);return{left:Math.min(n,o),top:Math.min(i,l),right:Math.max(r,a),bottom:Math.max(s,u)}}cellsInRect(e){const t=[],n={};for(let r=e.top;r<e.bottom;r++)for(let i=e.left;i<e.right;i++){const s=r*this.width+i,o=this.map[s];n[o]||(n[o]=!0,!(i==e.left&&i&&this.map[s-1]==o||r==e.top&&r&&this.map[s-this.width]==o)&&t.push(o))}return t}positionAt(e,t,n){for(let r=0,i=0;;r++){const s=i+n.child(r).nodeSize;if(r==e){let o=t+e*this.width;const a=(e+1)*this.width;for(;o<a&&this.map[o]<i;)o++;return o==a?s-1:this.map[o]}i=s}}static get(e){return S0(e)||A0(e,Vae(e))}};function Vae(e){if(e.type.spec.tableRole!="table")throw new RangeError("Not a table node: "+e.type.name);const t=jae(e),n=e.childCount,r=[];let i=0,s=null;const o=[];for(let u=0,c=t*n;u<c;u++)r[u]=0;for(let u=0,c=0;u<n;u++){const d=e.child(u);c++;for(let m=0;;m++){for(;i<r.length&&r[i]!=0;)i++;if(m==d.childCount)break;const g=d.child(m),{colspan:b,rowspan:y,colwidth:E}=g.attrs;for(let T=0;T<y;T++){if(T+u>=n){(s||(s=[])).push({type:"overlong_rowspan",pos:c,n:y-T});break}const C=i+T*t;for(let D=0;D<b;D++){r[C+D]==0?r[C+D]=c:(s||(s=[])).push({type:"collision",row:u,pos:c,n:b-D});const _=E&&E[D];if(_){const M=(C+D)%t*2,G=o[M];G==null||G!=_&&o[M+1]==1?(o[M]=_,o[M+1]=1):G==_&&o[M+1]++}}}i+=b,c+=g.nodeSize}const f=(u+1)*t;let p=0;for(;i<f;)r[i++]==0&&p++;p&&(s||(s=[])).push({type:"missing",row:u,n:p}),c++}(t===0||n===0)&&(s||(s=[])).push({type:"zero_sized"});const a=new Bt(t,n,r,s);let l=!1;for(let u=0;!l&&u<o.length;u+=2)o[u]!=null&&o[u+1]<n&&(l=!0);return l&&qae(a,o,e),a}function jae(e){let t=-1,n=!1;for(let r=0;r<e.childCount;r++){const i=e.child(r);let s=0;if(n)for(let o=0;o<r;o++){const a=e.child(o);for(let l=0;l<a.childCount;l++){const u=a.child(l);o+u.attrs.rowspan>r&&(s+=u.attrs.colspan)}}for(let o=0;o<i.childCount;o++){const a=i.child(o);s+=a.attrs.colspan,a.attrs.rowspan>1&&(n=!0)}t==-1?t=s:t!=s&&(t=Math.max(t,s))}return t}function qae(e,t,n){e.problems||(e.problems=[]);const r={};for(let i=0;i<e.map.length;i++){const s=e.map[i];if(r[s])continue;r[s]=!0;const o=n.nodeAt(s);if(!o)throw new RangeError(`No cell with offset ${s} found`);let a=null;const l=o.attrs;for(let u=0;u<l.colspan;u++){const c=(i+u)%e.width,d=t[c*2];d!=null&&(!l.colwidth||l.colwidth[u]!=d)&&((a||(a=Wae(l)))[u]=d)}a&&e.problems.unshift({type:"colwidth mismatch",pos:s,colwidth:a})}}function Wae(e){if(e.colwidth)return e.colwidth.slice();const t=[];for(let n=0;n<e.colspan;n++)t.push(0);return t}function Iw(e,t){if(typeof e=="string")return{};const n=e.getAttribute("data-colwidth"),r=n&&/^\d+(,\d+)*$/.test(n)?n.split(",").map(o=>Number(o)):null,i=Number(e.getAttribute("colspan")||1),s={colspan:i,rowspan:Number(e.getAttribute("rowspan")||1),colwidth:r&&r.length==i?r:null};for(const o in t){const a=t[o].getFromDOM,l=a&&a(e);l!=null&&(s[o]=l)}return s}function Nw(e,t){const n={};e.attrs.colspan!=1&&(n.colspan=e.attrs.colspan),e.attrs.rowspan!=1&&(n.rowspan=e.attrs.rowspan),e.attrs.colwidth&&(n["data-colwidth"]=e.attrs.colwidth.join(","));for(const r in t){const i=t[r].setDOMAttr;i&&i(e.attrs[r],n)}return n}function Yae(e){const t=e.cellAttributes||{},n={colspan:{default:1},rowspan:{default:1},colwidth:{default:null}};for(const r in t)n[r]={default:t[r].default};return{table:{content:"table_row+",tableRole:"table",isolating:!0,group:e.tableGroup,parseDOM:[{tag:"table"}],toDOM(){return["table",["tbody",0]]}},table_row:{content:"(table_cell | table_header)*",tableRole:"row",parseDOM:[{tag:"tr"}],toDOM(){return["tr",0]}},table_cell:{content:e.cellContent,attrs:n,tableRole:"cell",isolating:!0,parseDOM:[{tag:"td",getAttrs:r=>Iw(r,t)}],toDOM(r){return["td",Nw(r,t),0]}},table_header:{content:e.cellContent,attrs:n,tableRole:"header_cell",isolating:!0,parseDOM:[{tag:"th",getAttrs:r=>Iw(r,t)}],toDOM(r){return["th",Nw(r,t),0]}}}}function Mn(e){let t=e.cached.tableNodeTypes;if(!t){t=e.cached.tableNodeTypes={};for(const n in e.nodes){const r=e.nodes[n],i=r.spec.tableRole;i&&(t[i]=r)}}return t}var Vs=new hn("selectingCells");function pa(e){for(let t=e.depth-1;t>0;t--)if(e.node(t).type.spec.tableRole=="row")return e.node(0).resolve(e.before(t+1));return null}function Gae(e){for(let t=e.depth;t>0;t--){const n=e.node(t).type.spec.tableRole;if(n==="cell"||n==="header_cell")return e.node(t)}return null}function vs(e){const t=e.selection.$head;for(let n=t.depth;n>0;n--)if(t.node(n).type.spec.tableRole=="row")return!0;return!1}function HN(e){const t=e.selection;if("$anchorCell"in t&&t.$anchorCell)return t.$anchorCell.pos>t.$headCell.pos?t.$anchorCell:t.$headCell;if("node"in t&&t.node&&t.node.type.spec.tableRole=="cell")return t.$anchor;const n=pa(t.$head)||zN(t.$head);if(n)return n;throw new RangeError(`No cell found around position ${t.head}`)}function zN(e){for(let t=e.nodeAfter,n=e.pos;t;t=t.firstChild,n++){const r=t.type.spec.tableRole;if(r=="cell"||r=="header_cell")return e.doc.resolve(n)}for(let t=e.nodeBefore,n=e.pos;t;t=t.lastChild,n--){const r=t.type.spec.tableRole;if(r=="cell"||r=="header_cell")return e.doc.resolve(n-t.nodeSize)}}function k0(e){return e.parent.type.spec.tableRole=="row"&&!!e.nodeAfter}function sh(e,t){return e.depth==t.depth&&e.pos>=t.start(-1)&&e.pos<=t.end(-1)}function VN(e,t,n){const r=e.node(-1),i=Bt.get(r),s=e.start(-1),o=i.nextCell(e.pos-s,t,n);return o==null?null:e.node(0).resolve(s+o)}function ra(e,t,n=1){const r={...e,colspan:e.colspan-n};return r.colwidth&&(r.colwidth=r.colwidth.slice(),r.colwidth.splice(t,n),r.colwidth.some(i=>i>0)||(r.colwidth=null)),r}function jN(e,t,n=1){const r={...e,colspan:e.colspan+n};if(r.colwidth){r.colwidth=r.colwidth.slice();for(let i=0;i<n;i++)r.colwidth.splice(t,0,0)}return r}function Kae(e,t,n){const r=Mn(t.type.schema).header_cell;for(let i=0;i<e.height;i++)if(t.nodeAt(e.map[n+i*e.width]).type!=r)return!1;return!0}var mt=class Qi extends Fe{constructor(t,n=t){const r=t.node(-1),i=Bt.get(r),s=t.start(-1),o=i.rectBetween(t.pos-s,n.pos-s),a=t.node(0),l=i.cellsInRect(o).filter(c=>c!=n.pos-s);l.unshift(n.pos-s);const u=l.map(c=>{const d=r.nodeAt(c);if(!d)throw RangeError(`No cell with offset ${c} found`);const f=s+c+1;return new Hf(a.resolve(f),a.resolve(f+d.content.size))});super(u[0].$from,u[0].$to,u),this.$anchorCell=t,this.$headCell=n}map(t,n){const r=t.resolve(n.map(this.$anchorCell.pos)),i=t.resolve(n.map(this.$headCell.pos));if(k0(r)&&k0(i)&&sh(r,i)){const s=this.$anchorCell.node(-1)!=r.node(-1);return s&&this.isRowSelection()?Qi.rowSelection(r,i):s&&this.isColSelection()?Qi.colSelection(r,i):new Qi(r,i)}return Ue.between(r,i)}content(){const t=this.$anchorCell.node(-1),n=Bt.get(t),r=this.$anchorCell.start(-1),i=n.rectBetween(this.$anchorCell.pos-r,this.$headCell.pos-r),s={},o=[];for(let l=i.top;l<i.bottom;l++){const u=[];for(let c=l*n.width+i.left,d=i.left;d<i.right;d++,c++){const f=n.map[c];if(s[f])continue;s[f]=!0;const p=n.findCell(f);let m=t.nodeAt(f);if(!m)throw RangeError(`No cell with offset ${f} found`);const g=i.left-p.left,b=p.right-i.right;if(g>0||b>0){let y=m.attrs;if(g>0&&(y=ra(y,0,g)),b>0&&(y=ra(y,y.colspan-b,b)),p.left<i.left){if(m=m.type.createAndFill(y),!m)throw RangeError(`Could not create cell with attrs ${JSON.stringify(y)}`)}else m=m.type.create(y,m.content)}if(p.top<i.top||p.bottom>i.bottom){const y={...m.attrs,rowspan:Math.min(p.bottom,i.bottom)-Math.max(p.top,i.top)};p.top<i.top?m=m.type.createAndFill(y):m=m.type.create(y,m.content)}u.push(m)}o.push(t.child(l).copy(se.from(u)))}const a=this.isColSelection()&&this.isRowSelection()?t:o;return new he(se.from(a),1,1)}replace(t,n=he.empty){const r=t.steps.length,i=this.ranges;for(let o=0;o<i.length;o++){const{$from:a,$to:l}=i[o],u=t.mapping.slice(r);t.replace(u.map(a.pos),u.map(l.pos),o?he.empty:n)}const s=Fe.findFrom(t.doc.resolve(t.mapping.slice(r).map(this.to)),-1);s&&t.setSelection(s)}replaceWith(t,n){this.replace(t,new he(se.from(n),0,0))}forEachCell(t){const n=this.$anchorCell.node(-1),r=Bt.get(n),i=this.$anchorCell.start(-1),s=r.cellsInRect(r.rectBetween(this.$anchorCell.pos-i,this.$headCell.pos-i));for(let o=0;o<s.length;o++)t(n.nodeAt(s[o]),i+s[o])}isColSelection(){const t=this.$anchorCell.index(-1),n=this.$headCell.index(-1);if(Math.min(t,n)>0)return!1;const r=t+this.$anchorCell.nodeAfter.attrs.rowspan,i=n+this.$headCell.nodeAfter.attrs.rowspan;return Math.max(r,i)==this.$headCell.node(-1).childCount}static colSelection(t,n=t){const r=t.node(-1),i=Bt.get(r),s=t.start(-1),o=i.findCell(t.pos-s),a=i.findCell(n.pos-s),l=t.node(0);return o.top<=a.top?(o.top>0&&(t=l.resolve(s+i.map[o.left])),a.bottom<i.height&&(n=l.resolve(s+i.map[i.width*(i.height-1)+a.right-1]))):(a.top>0&&(n=l.resolve(s+i.map[a.left])),o.bottom<i.height&&(t=l.resolve(s+i.map[i.width*(i.height-1)+o.right-1]))),new Qi(t,n)}isRowSelection(){const t=this.$anchorCell.node(-1),n=Bt.get(t),r=this.$anchorCell.start(-1),i=n.colCount(this.$anchorCell.pos-r),s=n.colCount(this.$headCell.pos-r);if(Math.min(i,s)>0)return!1;const o=i+this.$anchorCell.nodeAfter.attrs.colspan,a=s+this.$headCell.nodeAfter.attrs.colspan;return Math.max(o,a)==n.width}eq(t){return t instanceof Qi&&t.$anchorCell.pos==this.$anchorCell.pos&&t.$headCell.pos==this.$headCell.pos}static rowSelection(t,n=t){const r=t.node(-1),i=Bt.get(r),s=t.start(-1),o=i.findCell(t.pos-s),a=i.findCell(n.pos-s),l=t.node(0);return o.left<=a.left?(o.left>0&&(t=l.resolve(s+i.map[o.top*i.width])),a.right<i.width&&(n=l.resolve(s+i.map[i.width*(a.top+1)-1]))):(a.left>0&&(n=l.resolve(s+i.map[a.top*i.width])),o.right<i.width&&(t=l.resolve(s+i.map[i.width*(o.top+1)-1]))),new Qi(t,n)}toJSON(){return{type:"cell",anchor:this.$anchorCell.pos,head:this.$headCell.pos}}static fromJSON(t,n){return new Qi(t.resolve(n.anchor),t.resolve(n.head))}static create(t,n,r=n){return new Qi(t.resolve(n),t.resolve(r))}getBookmark(){return new Xae(this.$anchorCell.pos,this.$headCell.pos)}};mt.prototype.visible=!1;Fe.jsonID("cell",mt);var Xae=class qN{constructor(t,n){this.anchor=t,this.head=n}map(t){return new qN(t.map(this.anchor),t.map(this.head))}resolve(t){const n=t.resolve(this.anchor),r=t.resolve(this.head);return n.parent.type.spec.tableRole=="row"&&r.parent.type.spec.tableRole=="row"&&n.index()<n.parent.childCount&&r.index()<r.parent.childCount&&sh(n,r)?new mt(n,r):Fe.near(r,1)}};function Qae(e){if(!(e.selection instanceof mt))return null;const t=[];return e.selection.forEachCell((n,r)=>{t.push(dn.node(r,r+n.nodeSize,{class:"selectedCell"}))}),Pt.create(e.doc,t)}function Jae({$from:e,$to:t}){if(e.pos==t.pos||e.pos<t.pos-6)return!1;let n=e.pos,r=t.pos,i=e.depth;for(;i>=0&&!(e.after(i+1)<e.end(i));i--,n++);for(let s=t.depth;s>=0&&!(t.before(s+1)>t.start(s));s--,r--);return n==r&&/row|table/.test(e.node(i).type.spec.tableRole)}function Zae({$from:e,$to:t}){let n,r;for(let i=e.depth;i>0;i--){const s=e.node(i);if(s.type.spec.tableRole==="cell"||s.type.spec.tableRole==="header_cell"){n=s;break}}for(let i=t.depth;i>0;i--){const s=t.node(i);if(s.type.spec.tableRole==="cell"||s.type.spec.tableRole==="header_cell"){r=s;break}}return n!==r&&t.parentOffset===0}function ele(e,t,n){const r=(t||e).selection,i=(t||e).doc;let s,o;if(r instanceof ze&&(o=r.node.type.spec.tableRole)){if(o=="cell"||o=="header_cell")s=mt.create(i,r.from);else if(o=="row"){const a=i.resolve(r.from+1);s=mt.rowSelection(a,a)}else if(!n){const a=Bt.get(r.node),l=r.from+1,u=l+a.map[a.width*a.height-1];s=mt.create(i,l+1,u)}}else r instanceof Ue&&Jae(r)?s=Ue.create(i,r.from):r instanceof Ue&&Zae(r)&&(s=Ue.create(i,r.$from.start(),r.$from.end()));return s&&(t||(t=e.tr)).setSelection(s),t}var tle=new hn("fix-tables");function WN(e,t,n,r){const i=e.childCount,s=t.childCount;e:for(let o=0,a=0;o<s;o++){const l=t.child(o);for(let u=a,c=Math.min(i,o+3);u<c;u++)if(e.child(u)==l){a=u+1,n+=l.nodeSize;continue e}r(l,n),a<i&&e.child(a).sameMarkup(l)?WN(e.child(a),l,n+1,r):l.nodesBetween(0,l.content.size,r,n+1),n+=l.nodeSize}}function nle(e,t){let n;const r=(i,s)=>{i.type.spec.tableRole=="table"&&(n=rle(e,i,s,n))};return t?t.doc!=e.doc&&WN(t.doc,e.doc,0,r):e.doc.descendants(r),n}function rle(e,t,n,r){const i=Bt.get(t);if(!i.problems)return r;r||(r=e.tr);const s=[];for(let l=0;l<i.height;l++)s.push(0);for(let l=0;l<i.problems.length;l++){const u=i.problems[l];if(u.type=="collision"){const c=t.nodeAt(u.pos);if(!c)continue;const d=c.attrs;for(let f=0;f<d.rowspan;f++)s[u.row+f]+=u.n;r.setNodeMarkup(r.mapping.map(n+1+u.pos),null,ra(d,d.colspan-u.n,u.n))}else if(u.type=="missing")s[u.row]+=u.n;else if(u.type=="overlong_rowspan"){const c=t.nodeAt(u.pos);if(!c)continue;r.setNodeMarkup(r.mapping.map(n+1+u.pos),null,{...c.attrs,rowspan:c.attrs.rowspan-u.n})}else if(u.type=="colwidth mismatch"){const c=t.nodeAt(u.pos);if(!c)continue;r.setNodeMarkup(r.mapping.map(n+1+u.pos),null,{...c.attrs,colwidth:u.colwidth})}else if(u.type=="zero_sized"){const c=r.mapping.map(n);r.delete(c,c+t.nodeSize)}}let o,a;for(let l=0;l<s.length;l++)s[l]&&(o==null&&(o=l),a=l);for(let l=0,u=n+1;l<i.height;l++){const c=t.child(l),d=u+c.nodeSize,f=s[l];if(f>0){let p="cell";c.firstChild&&(p=c.firstChild.type.spec.tableRole);const m=[];for(let b=0;b<f;b++){const y=Mn(e.schema)[p].createAndFill();y&&m.push(y)}const g=(l==0||o==l-1)&&a==l?u+1:d-1;r.insert(r.mapping.map(g),m)}u=d}return r.setMeta(tle,{fixTables:!0})}function Vi(e){const t=e.selection,n=HN(e),r=n.node(-1),i=n.start(-1),s=Bt.get(r);return{...t instanceof mt?s.rectBetween(t.$anchorCell.pos-i,t.$headCell.pos-i):s.findCell(n.pos-i),tableStart:i,map:s,table:r}}function YN(e,{map:t,tableStart:n,table:r},i){let s=i>0?-1:0;Kae(t,r,i+s)&&(s=i==0||i==t.width?null:0);for(let o=0;o<t.height;o++){const a=o*t.width+i;if(i>0&&i<t.width&&t.map[a-1]==t.map[a]){const l=t.map[a],u=r.nodeAt(l);e.setNodeMarkup(e.mapping.map(n+l),null,jN(u.attrs,i-t.colCount(l))),o+=u.attrs.rowspan-1}else{const l=s==null?Mn(r.type.schema).cell:r.nodeAt(t.map[a+s]).type,u=t.positionAt(o,i,r);e.insert(e.mapping.map(n+u),l.createAndFill())}}return e}function ile(e,t){if(!vs(e))return!1;if(t){const n=Vi(e);t(YN(e.tr,n,n.left))}return!0}function sle(e,t){if(!vs(e))return!1;if(t){const n=Vi(e);t(YN(e.tr,n,n.right))}return!0}function ole(e,{map:t,table:n,tableStart:r},i){const s=e.mapping.maps.length;for(let o=0;o<t.height;){const a=o*t.width+i,l=t.map[a],u=n.nodeAt(l),c=u.attrs;if(i>0&&t.map[a-1]==l||i<t.width-1&&t.map[a+1]==l)e.setNodeMarkup(e.mapping.slice(s).map(r+l),null,ra(c,i-t.colCount(l)));else{const d=e.mapping.slice(s).map(r+l);e.delete(d,d+u.nodeSize)}o+=c.rowspan}}function ale(e,t){if(!vs(e))return!1;if(t){const n=Vi(e),r=e.tr;if(n.left==0&&n.right==n.map.width)return!1;for(let i=n.right-1;ole(r,n,i),i!=n.left;i--){const s=n.tableStart?r.doc.nodeAt(n.tableStart-1):r.doc;if(!s)throw RangeError("No table found");n.table=s,n.map=Bt.get(s)}t(r)}return!0}function lle(e,t,n){var r;const i=Mn(t.type.schema).header_cell;for(let s=0;s<e.width;s++)if(((r=t.nodeAt(e.map[s+n*e.width]))==null?void 0:r.type)!=i)return!1;return!0}function GN(e,{map:t,tableStart:n,table:r},i){var s;let o=n;for(let u=0;u<i;u++)o+=r.child(u).nodeSize;const a=[];let l=i>0?-1:0;lle(t,r,i+l)&&(l=i==0||i==t.height?null:0);for(let u=0,c=t.width*i;u<t.width;u++,c++)if(i>0&&i<t.height&&t.map[c]==t.map[c-t.width]){const d=t.map[c],f=r.nodeAt(d).attrs;e.setNodeMarkup(n+d,null,{...f,rowspan:f.rowspan+1}),u+=f.colspan-1}else{const d=l==null?Mn(r.type.schema).cell:(s=r.nodeAt(t.map[c+l*t.width]))==null?void 0:s.type,f=d==null?void 0:d.createAndFill();f&&a.push(f)}return e.insert(o,Mn(r.type.schema).row.create(null,a)),e}function ule(e,t){if(!vs(e))return!1;if(t){const n=Vi(e);t(GN(e.tr,n,n.top))}return!0}function cle(e,t){if(!vs(e))return!1;if(t){const n=Vi(e);t(GN(e.tr,n,n.bottom))}return!0}function dle(e,{map:t,table:n,tableStart:r},i){let s=0;for(let u=0;u<i;u++)s+=n.child(u).nodeSize;const o=s+n.child(i).nodeSize,a=e.mapping.maps.length;e.delete(s+r,o+r);const l=new Set;for(let u=0,c=i*t.width;u<t.width;u++,c++){const d=t.map[c];if(!l.has(d)){if(l.add(d),i>0&&d==t.map[c-t.width]){const f=n.nodeAt(d).attrs;e.setNodeMarkup(e.mapping.slice(a).map(d+r),null,{...f,rowspan:f.rowspan-1}),u+=f.colspan-1}else if(i<t.height&&d==t.map[c+t.width]){const f=n.nodeAt(d),p=f.attrs,m=f.type.create({...p,rowspan:f.attrs.rowspan-1},f.content),g=t.positionAt(i+1,u,n);e.insert(e.mapping.slice(a).map(r+g),m),u+=p.colspan-1}}}}function fle(e,t){if(!vs(e))return!1;if(t){const n=Vi(e),r=e.tr;if(n.top==0&&n.bottom==n.map.height)return!1;for(let i=n.bottom-1;dle(r,n,i),i!=n.top;i--){const s=n.tableStart?r.doc.nodeAt(n.tableStart-1):r.doc;if(!s)throw RangeError("No table found");n.table=s,n.map=Bt.get(n.table)}t(r)}return!0}function Rw(e){const t=e.content;return t.childCount==1&&t.child(0).isTextblock&&t.child(0).childCount==0}function ple({width:e,height:t,map:n},r){let i=r.top*e+r.left,s=i,o=(r.bottom-1)*e+r.left,a=i+(r.right-r.left-1);for(let l=r.top;l<r.bottom;l++){if(r.left>0&&n[s]==n[s-1]||r.right<e&&n[a]==n[a+1])return!0;s+=e,a+=e}for(let l=r.left;l<r.right;l++){if(r.top>0&&n[i]==n[i-e]||r.bottom<t&&n[o]==n[o+e])return!0;i++,o++}return!1}function hle(e,t){const n=e.selection;if(!(n instanceof mt)||n.$anchorCell.pos==n.$headCell.pos)return!1;const r=Vi(e),{map:i}=r;if(ple(i,r))return!1;if(t){const s=e.tr,o={};let a=se.empty,l,u;for(let c=r.top;c<r.bottom;c++)for(let d=r.left;d<r.right;d++){const f=i.map[c*i.width+d],p=r.table.nodeAt(f);if(!(o[f]||!p))if(o[f]=!0,l==null)l=f,u=p;else{Rw(p)||(a=a.append(p.content));const m=s.mapping.map(f+r.tableStart);s.delete(m,m+p.nodeSize)}}if(l==null||u==null)return!0;if(s.setNodeMarkup(l+r.tableStart,null,{...jN(u.attrs,u.attrs.colspan,r.right-r.left-u.attrs.colspan),rowspan:r.bottom-r.top}),a.size){const c=l+1+u.content.size,d=Rw(u)?l+1:c;s.replaceWith(d+r.tableStart,c+r.tableStart,a)}s.setSelection(new mt(s.doc.resolve(l+r.tableStart))),t(s)}return!0}function mle(e,t){const n=Mn(e.schema);return gle(({node:r})=>n[r.type.spec.tableRole])(e,t)}function gle(e){return(t,n)=>{var r;const i=t.selection;let s,o;if(i instanceof mt){if(i.$anchorCell.pos!=i.$headCell.pos)return!1;s=i.$anchorCell.nodeAfter,o=i.$anchorCell.pos}else{if(s=Gae(i.$from),!s)return!1;o=(r=pa(i.$from))==null?void 0:r.pos}if(s==null||o==null||s.attrs.colspan==1&&s.attrs.rowspan==1)return!1;if(n){let a=s.attrs;const l=[],u=a.colwidth;a.rowspan>1&&(a={...a,rowspan:1}),a.colspan>1&&(a={...a,colspan:1});const c=Vi(t),d=t.tr;for(let p=0;p<c.right-c.left;p++)l.push(u?{...a,colwidth:u&&u[p]?[u[p]]:null}:a);let f;for(let p=c.top;p<c.bottom;p++){let m=c.map.positionAt(p,c.left,c.table);p==c.top&&(m+=s.nodeSize);for(let g=c.left,b=0;g<c.right;g++,b++)g==c.left&&p==c.top||d.insert(f=d.mapping.map(m+c.tableStart,1),e({node:s,row:p,col:g}).createAndFill(l[b]))}d.setNodeMarkup(o,e({node:s,row:c.top,col:c.left}),l[0]),i instanceof mt&&d.setSelection(new mt(d.doc.resolve(i.$anchorCell.pos),f?d.doc.resolve(f):void 0)),n(d)}return!0}}function ble(e){return function(t,n){if(!vs(t))return!1;if(n){const r=Mn(t.schema),i=Vi(t),s=t.tr,o=i.map.cellsInRect(e=="column"?{left:i.left,top:0,right:i.right,bottom:i.map.height}:e=="row"?{left:0,top:i.top,right:i.map.width,bottom:i.bottom}:i),a=o.map(l=>i.table.nodeAt(l));for(let l=0;l<o.length;l++)a[l].type==r.header_cell&&s.setNodeMarkup(i.tableStart+o[l],r.cell,a[l].attrs);if(s.steps.length==0)for(let l=0;l<o.length;l++)s.setNodeMarkup(i.tableStart+o[l],r.header_cell,a[l].attrs);n(s)}return!0}}function Dw(e,t,n){const r=t.map.cellsInRect({left:0,top:0,right:e=="row"?t.map.width:1,bottom:e=="column"?t.map.height:1});for(let i=0;i<r.length;i++){const s=t.table.nodeAt(r[i]);if(s&&s.type!==n.header_cell)return!1}return!0}function ey(e,t){return t=t||{useDeprecatedLogic:!1},t.useDeprecatedLogic?ble(e):function(n,r){if(!vs(n))return!1;if(r){const i=Mn(n.schema),s=Vi(n),o=n.tr,a=Dw("row",s,i),l=Dw("column",s,i),c=(e==="column"?a:e==="row"?l:!1)?1:0,d=e=="column"?{left:0,top:c,right:1,bottom:s.map.height}:e=="row"?{left:c,top:0,right:s.map.width,bottom:1}:s,f=e=="column"?l?i.cell:i.header_cell:e=="row"?a?i.cell:i.header_cell:i.cell;s.map.cellsInRect(d).forEach(p=>{const m=p+s.tableStart,g=o.doc.nodeAt(m);g&&o.setNodeMarkup(m,f,g.attrs)}),r(o)}return!0}}ey("row",{useDeprecatedLogic:!0});ey("column",{useDeprecatedLogic:!0});ey("cell",{useDeprecatedLogic:!0});function yle(e,t){const n=e.selection.$anchor;for(let r=n.depth;r>0;r--)if(n.node(r).type.spec.tableRole=="table")return t&&t(e.tr.delete(n.before(r),n.after(r)).scrollIntoView()),!0;return!1}function hu(e,t){const n=e.selection;if(!(n instanceof mt))return!1;if(t){const r=e.tr,i=Mn(e.schema).cell.createAndFill().content;n.forEachCell((s,o)=>{s.content.eq(i)||r.replace(r.mapping.map(o+1),r.mapping.map(o+s.nodeSize-1),new he(i,0,0))}),r.docChanged&&t(r)}return!0}function _le(e){if(!e.size)return null;let{content:t,openStart:n,openEnd:r}=e;for(;t.childCount==1&&(n>0&&r>0||t.child(0).type.spec.tableRole=="table");)n--,r--,t=t.child(0).content;const i=t.child(0),s=i.type.spec.tableRole,o=i.type.schema,a=[];if(s=="row")for(let l=0;l<t.childCount;l++){let u=t.child(l).content;const c=l?0:Math.max(0,n-1),d=l<t.childCount-1?0:Math.max(0,r-1);(c||d)&&(u=O0(Mn(o).row,new he(u,c,d)).content),a.push(u)}else if(s=="cell"||s=="header_cell")a.push(n||r?O0(Mn(o).row,new he(t,n,r)).content:t);else return null;return Ele(o,a)}function Ele(e,t){const n=[];for(let i=0;i<t.length;i++){const s=t[i];for(let o=s.childCount-1;o>=0;o--){const{rowspan:a,colspan:l}=s.child(o).attrs;for(let u=i;u<i+a;u++)n[u]=(n[u]||0)+l}}let r=0;for(let i=0;i<n.length;i++)r=Math.max(r,n[i]);for(let i=0;i<n.length;i++)if(i>=t.length&&t.push(se.empty),n[i]<r){const s=Mn(e).cell.createAndFill(),o=[];for(let a=n[i];a<r;a++)o.push(s);t[i]=t[i].append(se.from(o))}return{height:t.length,width:r,rows:t}}function O0(e,t){const n=e.createAndFill();return new M2(n).replace(0,n.content.size,t).doc}function vle({width:e,height:t,rows:n},r,i){if(e!=r){const s=[],o=[];for(let a=0;a<n.length;a++){const l=n[a],u=[];for(let c=s[a]||0,d=0;c<r;d++){let f=l.child(d%l.childCount);c+f.attrs.colspan>r&&(f=f.type.createChecked(ra(f.attrs,f.attrs.colspan,c+f.attrs.colspan-r),f.content)),u.push(f),c+=f.attrs.colspan;for(let p=1;p<f.attrs.rowspan;p++)s[a+p]=(s[a+p]||0)+f.attrs.colspan}o.push(se.from(u))}n=o,e=r}if(t!=i){const s=[];for(let o=0,a=0;o<i;o++,a++){const l=[],u=n[a%t];for(let c=0;c<u.childCount;c++){let d=u.child(c);o+d.attrs.rowspan>i&&(d=d.type.create({...d.attrs,rowspan:Math.max(1,i-d.attrs.rowspan)},d.content)),l.push(d)}s.push(se.from(l))}n=s,t=i}return{width:e,height:t,rows:n}}function Tle(e,t,n,r,i,s,o){const a=e.doc.type.schema,l=Mn(a);let u,c;if(i>t.width)for(let d=0,f=0;d<t.height;d++){const p=n.child(d);f+=p.nodeSize;const m=[];let g;p.lastChild==null||p.lastChild.type==l.cell?g=u||(u=l.cell.createAndFill()):g=c||(c=l.header_cell.createAndFill());for(let b=t.width;b<i;b++)m.push(g);e.insert(e.mapping.slice(o).map(f-1+r),m)}if(s>t.height){const d=[];for(let m=0,g=(t.height-1)*t.width;m<Math.max(t.width,i);m++){const b=m>=t.width?!1:n.nodeAt(t.map[g+m]).type==l.header_cell;d.push(b?c||(c=l.header_cell.createAndFill()):u||(u=l.cell.createAndFill()))}const f=l.row.create(null,se.from(d)),p=[];for(let m=t.height;m<s;m++)p.push(f);e.insert(e.mapping.slice(o).map(r+n.nodeSize-2),p)}return!!(u||c)}function Mw(e,t,n,r,i,s,o,a){if(o==0||o==t.height)return!1;let l=!1;for(let u=i;u<s;u++){const c=o*t.width+u,d=t.map[c];if(t.map[c-t.width]==d){l=!0;const f=n.nodeAt(d),{top:p,left:m}=t.findCell(d);e.setNodeMarkup(e.mapping.slice(a).map(d+r),null,{...f.attrs,rowspan:o-p}),e.insert(e.mapping.slice(a).map(t.positionAt(o,m,n)),f.type.createAndFill({...f.attrs,rowspan:p+f.attrs.rowspan-o})),u+=f.attrs.colspan-1}}return l}function Pw(e,t,n,r,i,s,o,a){if(o==0||o==t.width)return!1;let l=!1;for(let u=i;u<s;u++){const c=u*t.width+o,d=t.map[c];if(t.map[c-1]==d){l=!0;const f=n.nodeAt(d),p=t.colCount(d),m=e.mapping.slice(a).map(d+r);e.setNodeMarkup(m,null,ra(f.attrs,o-p,f.attrs.colspan-(o-p))),e.insert(m+f.nodeSize,f.type.createAndFill(ra(f.attrs,0,o-p))),u+=f.attrs.rowspan-1}}return l}function Lw(e,t,n,r,i){let s=n?e.doc.nodeAt(n-1):e.doc;if(!s)throw new Error("No table found");let o=Bt.get(s);const{top:a,left:l}=r,u=l+i.width,c=a+i.height,d=e.tr;let f=0;function p(){if(s=n?d.doc.nodeAt(n-1):d.doc,!s)throw new Error("No table found");o=Bt.get(s),f=d.mapping.maps.length}Tle(d,o,s,n,u,c,f)&&p(),Mw(d,o,s,n,l,u,a,f)&&p(),Mw(d,o,s,n,l,u,c,f)&&p(),Pw(d,o,s,n,a,c,l,f)&&p(),Pw(d,o,s,n,a,c,u,f)&&p();for(let m=a;m<c;m++){const g=o.positionAt(m,l,s),b=o.positionAt(m,u,s);d.replace(d.mapping.slice(f).map(g+n),d.mapping.slice(f).map(b+n),new he(i.rows[m-a],0,0))}p(),d.setSelection(new mt(d.doc.resolve(n+o.positionAt(a,l,s)),d.doc.resolve(n+o.positionAt(c-1,u-1,s)))),t(d)}var wle=Jp({ArrowLeft:Od("horiz",-1),ArrowRight:Od("horiz",1),ArrowUp:Od("vert",-1),ArrowDown:Od("vert",1),"Shift-ArrowLeft":Id("horiz",-1),"Shift-ArrowRight":Id("horiz",1),"Shift-ArrowUp":Id("vert",-1),"Shift-ArrowDown":Id("vert",1),Backspace:hu,"Mod-Backspace":hu,Delete:hu,"Mod-Delete":hu});function tf(e,t,n){return n.eq(e.selection)?!1:(t&&t(e.tr.setSelection(n).scrollIntoView()),!0)}function Od(e,t){return(n,r,i)=>{if(!i)return!1;const s=n.selection;if(s instanceof mt)return tf(n,r,Fe.near(s.$headCell,t));if(e!="horiz"&&!s.empty)return!1;const o=KN(i,e,t);if(o==null)return!1;if(e=="horiz")return tf(n,r,Fe.near(n.doc.resolve(s.head+t),t));{const a=n.doc.resolve(o),l=VN(a,e,t);let u;return l?u=Fe.near(l,1):t<0?u=Fe.near(n.doc.resolve(a.before(-1)),-1):u=Fe.near(n.doc.resolve(a.after(-1)),1),tf(n,r,u)}}}function Id(e,t){return(n,r,i)=>{if(!i)return!1;const s=n.selection;let o;if(s instanceof mt)o=s;else{const l=KN(i,e,t);if(l==null)return!1;o=new mt(n.doc.resolve(l))}const a=VN(o.$headCell,e,t);return a?tf(n,r,new mt(o.$anchorCell,a)):!1}}function xle(e,t){const n=e.state.doc,r=pa(n.resolve(t));return r?(e.dispatch(e.state.tr.setSelection(new mt(r))),!0):!1}function Cle(e,t,n){if(!vs(e.state))return!1;let r=_le(n);const i=e.state.selection;if(i instanceof mt){r||(r={width:1,height:1,rows:[se.from(O0(Mn(e.state.schema).cell,n))]});const s=i.$anchorCell.node(-1),o=i.$anchorCell.start(-1),a=Bt.get(s).rectBetween(i.$anchorCell.pos-o,i.$headCell.pos-o);return r=vle(r,a.right-a.left,a.bottom-a.top),Lw(e.state,e.dispatch,o,a,r),!0}else if(r){const s=HN(e.state),o=s.start(-1);return Lw(e.state,e.dispatch,o,Bt.get(s.node(-1)).findCell(s.pos-o),r),!0}else return!1}function Sle(e,t){var n;if(t.ctrlKey||t.metaKey)return;const r=Bw(e,t.target);let i;if(t.shiftKey&&e.state.selection instanceof mt)s(e.state.selection.$anchorCell,t),t.preventDefault();else if(t.shiftKey&&r&&(i=pa(e.state.selection.$anchor))!=null&&((n=Fm(e,t))==null?void 0:n.pos)!=i.pos)s(i,t),t.preventDefault();else if(!r)return;function s(l,u){let c=Fm(e,u);const d=Vs.getState(e.state)==null;if(!c||!sh(l,c))if(d)c=l;else return;const f=new mt(l,c);if(d||!e.state.selection.eq(f)){const p=e.state.tr.setSelection(f);d&&p.setMeta(Vs,l.pos),e.dispatch(p)}}function o(){e.root.removeEventListener("mouseup",o),e.root.removeEventListener("dragstart",o),e.root.removeEventListener("mousemove",a),Vs.getState(e.state)!=null&&e.dispatch(e.state.tr.setMeta(Vs,-1))}function a(l){const u=l,c=Vs.getState(e.state);let d;if(c!=null)d=e.state.doc.resolve(c);else if(Bw(e,u.target)!=r&&(d=Fm(e,t),!d))return o();d&&s(d,u)}e.root.addEventListener("mouseup",o),e.root.addEventListener("dragstart",o),e.root.addEventListener("mousemove",a)}function KN(e,t,n){if(!(e.state.selection instanceof Ue))return null;const{$head:r}=e.state.selection;for(let i=r.depth-1;i>=0;i--){const s=r.node(i);if((n<0?r.index(i):r.indexAfter(i))!=(n<0?0:s.childCount))return null;if(s.type.spec.tableRole=="cell"||s.type.spec.tableRole=="header_cell"){const a=r.before(i),l=t=="vert"?n>0?"down":"up":n>0?"right":"left";return e.endOfTextblock(l)?a:null}}return null}function Bw(e,t){for(;t&&t!=e.dom;t=t.parentNode)if(t.nodeName=="TD"||t.nodeName=="TH")return t;return null}function Fm(e,t){const n=e.posAtCoords({left:t.clientX,top:t.clientY});return n&&n?pa(e.state.doc.resolve(n.pos)):null}var Ale=class{constructor(e,t){this.node=e,this.defaultCellMinWidth=t,this.dom=document.createElement("div"),this.dom.className="tableWrapper",this.table=this.dom.appendChild(document.createElement("table")),this.table.style.setProperty("--default-cell-min-width",`${t}px`),this.colgroup=this.table.appendChild(document.createElement("colgroup")),I0(e,this.colgroup,this.table,t),this.contentDOM=this.table.appendChild(document.createElement("tbody"))}update(e){return e.type!=this.node.type?!1:(this.node=e,I0(e,this.colgroup,this.table,this.defaultCellMinWidth),!0)}ignoreMutation(e){return e.type=="attributes"&&(e.target==this.table||this.colgroup.contains(e.target))}};function I0(e,t,n,r,i,s){var o;let a=0,l=!0,u=t.firstChild;const c=e.firstChild;if(c){for(let d=0,f=0;d<c.childCount;d++){const{colspan:p,colwidth:m}=c.child(d).attrs;for(let g=0;g<p;g++,f++){const b=i==f?s:m&&m[g],y=b?b+"px":"";if(a+=b||r,b||(l=!1),u)u.style.width!=y&&(u.style.width=y),u=u.nextSibling;else{const E=document.createElement("col");E.style.width=y,t.appendChild(E)}}}for(;u;){const d=u.nextSibling;(o=u.parentNode)==null||o.removeChild(u),u=d}l?(n.style.width=a+"px",n.style.minWidth=""):(n.style.width="",n.style.minWidth=a+"px")}}var fr=new hn("tableColumnResizing");function kle({handleWidth:e=5,cellMinWidth:t=25,defaultCellMinWidth:n=100,View:r=Ale,lastColumnResizable:i=!0}={}){const s=new At({key:fr,state:{init(o,a){var l,u;const c=(u=(l=s.spec)==null?void 0:l.props)==null?void 0:u.nodeViews,d=Mn(a.schema).table.name;return r&&c&&(c[d]=(f,p)=>new r(f,n,p)),new Ole(-1,!1)},apply(o,a){return a.apply(o)}},props:{attributes:o=>{const a=fr.getState(o);return a&&a.activeHandle>-1?{class:"resize-cursor"}:{}},handleDOMEvents:{mousemove:(o,a)=>{Ile(o,a,e,i)},mouseleave:o=>{Nle(o)},mousedown:(o,a)=>{Rle(o,a,t,n)}},decorations:o=>{const a=fr.getState(o);if(a&&a.activeHandle>-1)return Ble(o,a.activeHandle)},nodeViews:{}}});return s}var Ole=class nf{constructor(t,n){this.activeHandle=t,this.dragging=n}apply(t){const n=this,r=t.getMeta(fr);if(r&&r.setHandle!=null)return new nf(r.setHandle,!1);if(r&&r.setDragging!==void 0)return new nf(n.activeHandle,r.setDragging);if(n.activeHandle>-1&&t.docChanged){let i=t.mapping.map(n.activeHandle,-1);return k0(t.doc.resolve(i))||(i=-1),new nf(i,n.dragging)}return n}};function Ile(e,t,n,r){if(!e.editable)return;const i=fr.getState(e.state);if(i&&!i.dragging){const s=Mle(t.target);let o=-1;if(s){const{left:a,right:l}=s.getBoundingClientRect();t.clientX-a<=n?o=$w(e,t,"left",n):l-t.clientX<=n&&(o=$w(e,t,"right",n))}if(o!=i.activeHandle){if(!r&&o!==-1){const a=e.state.doc.resolve(o),l=a.node(-1),u=Bt.get(l),c=a.start(-1);if(u.colCount(a.pos-c)+a.nodeAfter.attrs.colspan-1==u.width-1)return}XN(e,o)}}}function Nle(e){if(!e.editable)return;const t=fr.getState(e.state);t&&t.activeHandle>-1&&!t.dragging&&XN(e,-1)}function Rle(e,t,n,r){var i;if(!e.editable)return!1;const s=(i=e.dom.ownerDocument.defaultView)!=null?i:window,o=fr.getState(e.state);if(!o||o.activeHandle==-1||o.dragging)return!1;const a=e.state.doc.nodeAt(o.activeHandle),l=Dle(e,o.activeHandle,a.attrs);e.dispatch(e.state.tr.setMeta(fr,{setDragging:{startX:t.clientX,startWidth:l}}));function u(d){s.removeEventListener("mouseup",u),s.removeEventListener("mousemove",c);const f=fr.getState(e.state);f!=null&&f.dragging&&(Ple(e,f.activeHandle,Fw(f.dragging,d,n)),e.dispatch(e.state.tr.setMeta(fr,{setDragging:null})))}function c(d){if(!d.which)return u(d);const f=fr.getState(e.state);if(f&&f.dragging){const p=Fw(f.dragging,d,n);Uw(e,f.activeHandle,p,r)}}return Uw(e,o.activeHandle,l,r),s.addEventListener("mouseup",u),s.addEventListener("mousemove",c),t.preventDefault(),!0}function Dle(e,t,{colspan:n,colwidth:r}){const i=r&&r[r.length-1];if(i)return i;const s=e.domAtPos(t);let a=s.node.childNodes[s.offset].offsetWidth,l=n;if(r)for(let u=0;u<n;u++)r[u]&&(a-=r[u],l--);return a/l}function Mle(e){for(;e&&e.nodeName!="TD"&&e.nodeName!="TH";)e=e.classList&&e.classList.contains("ProseMirror")?null:e.parentNode;return e}function $w(e,t,n,r){const i=n=="right"?-r:r,s=e.posAtCoords({left:t.clientX+i,top:t.clientY});if(!s)return-1;const{pos:o}=s,a=pa(e.state.doc.resolve(o));if(!a)return-1;if(n=="right")return a.pos;const l=Bt.get(a.node(-1)),u=a.start(-1),c=l.map.indexOf(a.pos-u);return c%l.width==0?-1:u+l.map[c-1]}function Fw(e,t,n){const r=t.clientX-e.startX;return Math.max(n,e.startWidth+r)}function XN(e,t){e.dispatch(e.state.tr.setMeta(fr,{setHandle:t}))}function Ple(e,t,n){const r=e.state.doc.resolve(t),i=r.node(-1),s=Bt.get(i),o=r.start(-1),a=s.colCount(r.pos-o)+r.nodeAfter.attrs.colspan-1,l=e.state.tr;for(let u=0;u<s.height;u++){const c=u*s.width+a;if(u&&s.map[c]==s.map[c-s.width])continue;const d=s.map[c],f=i.nodeAt(d).attrs,p=f.colspan==1?0:a-s.colCount(d);if(f.colwidth&&f.colwidth[p]==n)continue;const m=f.colwidth?f.colwidth.slice():Lle(f.colspan);m[p]=n,l.setNodeMarkup(o+d,null,{...f,colwidth:m})}l.docChanged&&e.dispatch(l)}function Uw(e,t,n,r){const i=e.state.doc.resolve(t),s=i.node(-1),o=i.start(-1),a=Bt.get(s).colCount(i.pos-o)+i.nodeAfter.attrs.colspan-1;let l=e.domAtPos(i.start(-1)).node;for(;l&&l.nodeName!="TABLE";)l=l.parentNode;l&&I0(s,l.firstChild,l,r,a,n)}function Lle(e){return Array(e).fill(0)}function Ble(e,t){var n;const r=[],i=e.doc.resolve(t),s=i.node(-1);if(!s)return Pt.empty;const o=Bt.get(s),a=i.start(-1),l=o.colCount(i.pos-a)+i.nodeAfter.attrs.colspan-1;for(let u=0;u<o.height;u++){const c=l+u*o.width;if((l==o.width-1||o.map[c]!=o.map[c+1])&&(u==0||o.map[c]!=o.map[c-o.width])){const d=o.map[c],f=a+d+s.nodeAt(d).nodeSize-1,p=document.createElement("div");p.className="column-resize-handle",(n=fr.getState(e))!=null&&n.dragging&&r.push(dn.node(a+d,a+d+s.nodeAt(d).nodeSize,{class:"column-resize-dragging"})),r.push(dn.widget(f,p))}}return Pt.create(e.doc,r)}function $le({allowTableNodeSelection:e=!1}={}){return new At({key:Vs,state:{init(){return null},apply(t,n){const r=t.getMeta(Vs);if(r!=null)return r==-1?null:r;if(n==null||!t.docChanged)return n;const{deleted:i,pos:s}=t.mapping.mapResult(n);return i?null:s}},props:{decorations:Qae,handleDOMEvents:{mousedown:Sle},createSelectionBetween(t){return Vs.getState(t.state)!=null?t.state.selection:null},handleTripleClick:xle,handleKeyDown:wle,handlePaste:Cle},appendTransaction(t,n,r){return ele(r,nle(r,n),e)}})}function Fle(e){return e instanceof mt}function Ule(e){return ZI(t=>t.type.spec.tableRole==="table",e)}function QN(e,t,n){if(t==null&&n==null&&Fle(e))return[e.$anchorCell,e.$headCell];const r=t??n??e.anchor,i=n??t??e.head,s=e.$head.doc,o=N0(s,r),a=N0(s,i);if(o&&a&&sh(o,a))return[o,a]}function N0(e,t){const n=e.resolve(t);return pa(n)||zN(n)}function Hle(e,t,n,r){const i=Rn(e,"table"),s=Rn(e,"tableRow"),o=Rn(e,"tableCell"),a=Rn(e,"tableHeaderCell");if(r){const l=a.createAndFill(),u=tu(l,n),c=s.createAndFill(null,u),d=o.createAndFill(),f=tu(d,n),p=s.createAndFill(null,f),m=tu(p,t-1);return i.createAndFill(null,[c,...m])}else{const l=o.createAndFill(),u=tu(l,n),c=s.createAndFill(null,u),d=tu(c,t);return i.createAndFill(null,d)}}function tu(e,t){return Array(t).fill(e)}function zle(e){return(t,n,r)=>{const{row:i,col:s,header:o}=e,a=Hle(t.schema,i,s,o);return Dl({node:a})(t,n,r)}}var Vle=(e,t)=>{const{$head:n,$anchor:r}=e.selection;if(!n.sameParent(r))return!1;let i=-1,s=-1;for(let c=n.depth;c>=0;c--)n.node(c).type.spec.tableRole==="table"&&(i=n.before(c),s=c);if(i<0||s<=0)return!1;const o=n.node(s-1),a=n.indexAfter(s-1),l=QI(o.contentMatchAt(a)),u=l==null?void 0:l.createAndFill();if(!l||!u||!o.canReplaceWith(a,a,l))return!1;if(t){const c=n.after(s),d=e.tr.replaceWith(c,c,u);d.setSelection(Ue.near(d.doc.resolve(c),1)),t(d.scrollIntoView())}return!0};function jle(e){return(t,n)=>{const r=QN(t.selection,e==null?void 0:e.anchor,e==null?void 0:e.head);if(!r)return!1;if(n){const[i,s]=r,o=mt.colSelection(i,s);n(t.tr.setSelection(o))}return!0}}function qle(e){return(t,n)=>{const r=QN(t.selection,e==null?void 0:e.anchor,e==null?void 0:e.head);if(!r)return!1;if(n){const[i,s]=r,o=mt.rowSelection(i,s);n(t.tr.setSelection(o))}return!0}}function Wle(e){return(t,n)=>{const r=N0(t.doc,(e==null?void 0:e.pos)??t.selection.anchor);if(!r)return!1;if(n){const i=new mt(r);n(t.tr.setSelection(i))}return!0}}function Yle(e){return(t,n)=>{const r=e!=null&&e.pos?t.doc.resolve(e.pos):t.selection.$anchor,i=Ule(r);if(!i)return!1;const s=Bt.get(i.node);if(s.map.length===0)return!1;if(n){let o=t.tr;const a=s.map[0],l=s.map[s.map.length-1],u=i.pos+a+1,c=i.pos+l+1,d=o.doc.resolve(u),f=o.doc.resolve(c),p=new mt(d,f);o=o.setSelection(p),n==null||n(o)}return!0}}function Gle(){return sr({insertTable:zle,exitTable:()=>Vle,selectTable:Yle,selectTableCell:Wle,selectTableColumn:jle,selectTableRow:qle,addTableColumnBefore:()=>ile,addTableColumnAfter:()=>sle,addTableRowAbove:()=>ule,addTableRowBelow:()=>cle,deleteTable:()=>yle,deleteTableColumn:()=>ale,deleteTableRow:()=>fle,deleteCellSelection:()=>hu,mergeTableCells:()=>hle,splitTableCell:()=>mle})}function Kle(){return fa([$le(),kle()])}var Xle="block+",JN={colspan:{default:1},rowspan:{default:1},colwidth:{default:null}},oh=Yae({tableGroup:"block",cellContent:Xle,cellAttributes:{}});function Qle(){return Yr({...oh.table,content:"tableRow+",name:"table"})}function Jle(){return Yr({...oh.table_row,content:"(tableCell | tableHeaderCell)*",name:"tableRow"})}function Zle(){return Yr({...oh.table_cell,name:"tableCell",attrs:JN})}function eue(){return Yr({...oh.table_header,name:"tableHeaderCell",attrs:JN})}function tue(){return Gt(Qle(),Jle(),Zle(),eue(),Kle(),Gle())}function nue(){return Ml({name:"underline",parseDOM:[{tag:"u"},{tag:"underline"},{style:"text-decoration=underline"},{style:"text-decoration-line=underline"}],toDOM(){return["u",0]}})}function rue(){return sr({toggleUnderline:()=>Vr({type:"underline"})})}function iue(){return yi({"Mod-u":Vr({type:"underline"})})}function sue(){return Gt(nue(),rue(),iue())}function oue(){return fa(uue)}var ah=new hn("prosekit-virtual-selection");function aue(e){return e.getMeta(ah)}function Hw(e,t){return e.setMeta(ah,t)}function lue(e){return ah.getState(e)}var uue=new At({key:ah,state:{init:()=>!1,apply:(e,t)=>aue(e)??t},props:{handleDOMEvents:{focus:e=>{e.dispatch(Hw(e.state.tr,!1))},blur:e=>{const{dom:t,root:n}=e;n.activeElement!==t&&e.dispatch(Hw(e.state.tr,!0))}},decorations:e=>{const{selection:t,doc:n}=e;return t.empty||!lue(e)?null:Pt.create(n,[dn.inline(t.from,t.to,{class:"prosekit-virtual-selection"})])}}});function cue(){return Gt(xie(),Zie(),Yse(),$ie(),Dae(),Ese(),zie(),_ie(),soe(),Cse(),sue(),zae(),Ise(),Eoe(),eoe(),Jie(),Dse(),Hse(),mN(),oue(),Mae(),tue())}function due(){return Gt(cue(),mN())}var ZN=Symbol("prosekit-vue-editor-context");function fue(e){pr(ZN,e)}function ty(){return Un(ZN,void 0)}var eR=e=>{throw TypeError(e)},pue=(e,t,n)=>t.has(e)||eR("Cannot "+n),ny=(e,t,n)=>t.has(e)?eR("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),_c=(e,t,n)=>(pue(e,t,"access private method"),n),rf,R0;class hue{constructor({mark:t,view:n,inline:r,options:i}){ny(this,rf),this.shouldIgnoreMutation=s=>!this.dom||!this.contentDOM?!0:s.type==="selection"?!1:this.contentDOM===s.target&&s.type==="attributes"?!0:!this.contentDOM.contains(s.target),this.ignoreMutation=s=>{if(!this.dom||!this.contentDOM)return!0;let o;const a=this.options.ignoreMutation;return a&&(o=a(s)),typeof o!="boolean"&&(o=this.shouldIgnoreMutation(s)),o},this.destroy=()=>{var s,o;(o=(s=this.options).destroy)==null||o.call(s),this.dom.remove(),this.contentDOM.remove()},this.mark=t,this.view=n,this.inline=r,this.options=i,this.dom=this.createDOM(i.as),this.contentDOM=this.createContentDOM(i.contentAs),this.dom.setAttribute("data-mark-view-root","true"),this.contentDOM.setAttribute("data-mark-view-content","true"),this.contentDOM.style.whiteSpace="inherit"}createDOM(t){return _c(this,rf,R0).call(this,t)}createContentDOM(t){return _c(this,rf,R0).call(this,t)}get component(){return this.options.component}}rf=new WeakSet,R0=function(e){const{inline:t,mark:n}=this;return e==null?document.createElement(t?"span":"div"):e instanceof HTMLElement?e:e instanceof Function?e(n):document.createElement(e)};var sf,D0;class mue{constructor({node:t,view:n,getPos:r,decorations:i,innerDecorations:s,options:o}){ny(this,sf),this.selected=!1,this.selectNode=()=>{var a,l;this.selected=!0,(l=(a=this.options).selectNode)==null||l.call(a)},this.deselectNode=()=>{var a,l;this.selected=!1,(l=(a=this.options).deselectNode)==null||l.call(a)},this.shouldUpdate=a=>!(a.type!==this.node.type||a.sameMarkup(this.node)&&a.content.eq(this.node.content)),this.update=(a,l,u)=>{var c,d;const f=this.options.update;let p;return f&&(p=f(a,l,u)),typeof p!="boolean"&&(p=this.shouldUpdate(a)),this.node=a,this.decorations=l,this.innerDecorations=u,p&&((d=(c=this.options).onUpdate)==null||d.call(c)),p},this.shouldIgnoreMutation=a=>!this.dom||!this.contentDOM||this.node.isLeaf||this.node.isAtom?!0:a.type==="selection"?!1:this.contentDOM===a.target&&a.type==="attributes"?!0:!this.contentDOM.contains(a.target),this.ignoreMutation=a=>{if(!this.dom||!this.contentDOM)return!0;let l;const u=this.options.ignoreMutation;return u&&(l=u(a)),typeof l!="boolean"&&(l=this.shouldIgnoreMutation(a)),l},this.destroy=()=>{var a,l,u;(l=(a=this.options).destroy)==null||l.call(a),this.dom.remove(),(u=this.contentDOM)==null||u.remove()},this.setAttrs=a=>{const{dispatch:l,state:u}=this.view,c=this.getPos();if(typeof c=="number")return l(u.tr.setNodeMarkup(c,void 0,{...this.node.attrs,...a}))},this.node=t,this.view=n,this.getPos=r,this.decorations=i,this.innerDecorations=s,this.options=o,this.dom=this.createDOM(o.as),this.contentDOM=t.isLeaf?null:this.createContentDOM(o.contentAs),this.dom.setAttribute("data-node-view-root","true"),this.contentDOM&&(this.contentDOM.setAttribute("data-node-view-content","true"),this.contentDOM.style.whiteSpace="inherit"),this.setSelection=o.setSelection,this.stopEvent=o.stopEvent}createDOM(t){return _c(this,sf,D0).call(this,t)}createContentDOM(t){return _c(this,sf,D0).call(this,t)}get component(){return this.options.component}}sf=new WeakSet,D0=function(e){const{node:t}=this;return e==null?document.createElement(t.isInline?"span":"div"):e instanceof HTMLElement?e:e instanceof Function?e(t):document.createElement(e)};let gue=class{constructor(t){this.view=t.view,this.options=t.options}get component(){return this.options.component}get root(){var t,n;let r=(n=(t=this.options).root)==null?void 0:n.call(t,this.view.dom);return r||(r=this.view.dom.parentElement??document.body),r}update(t,n){var r,i;this.view=t,this.prevState=n,(i=(r=this.options).update)==null||i.call(r,t,n)}destroy(){var t,n;(n=(t=this.options).destroy)==null||n.call(t)}};var M0,tR;let bue=class{constructor({pos:t,spec:n,options:r}){ny(this,M0),this.pos=t,this.options=r,this.spec=n,this.dom=_c(this,M0,tR).call(this,r.as),this.dom.setAttribute("data-widget-view-root","true")}bind(t,n){this.view=t,this.getPos=n}get component(){return this.options.component}};M0=new WeakSet,tR=function(e){return e instanceof HTMLElement?e:document.createElement(e)};const yue="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict";let lh=(e=21)=>{let t="",n=crypto.getRandomValues(new Uint8Array(e|=0));for(;e--;)t+=yue[n[e]&63];return t};var _ue=Object.defineProperty,Eue=(e,t,n)=>t in e?_ue(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Dn=(e,t,n)=>Eue(e,typeof t!="symbol"?t+"":t,n);const vue=Symbol("[ProsemirrorAdapter]nodeViewContext"),nR=Symbol("[ProsemirrorAdapter]useNodeViewFactory"),Tue=()=>Un(nR);class wue extends mue{constructor(){super(...arguments),Dn(this,"key",lh()),Dn(this,"context",{contentRef:t=>{t&&t instanceof HTMLElement&&this.contentDOM&&t.firstChild!==this.contentDOM&&t.appendChild(this.contentDOM)},view:this.view,getPos:this.getPos,setAttrs:this.setAttrs,node:ss(this.node),selected:ss(this.selected),decorations:ss(this.decorations),innerDecorations:ss(this.innerDecorations)}),Dn(this,"updateContext",()=>{Object.entries({node:this.node,selected:this.selected,decorations:this.decorations,innerDecorations:this.innerDecorations}).forEach(([t,n])=>{const r=this.context[t];r.value!==n&&(r.value=n)})}),Dn(this,"render",()=>{const t=this.component;return vl(rr({name:"ProsemirrorNodeView",setup:()=>(pr(vue,this.context),()=>U(Er,{key:this.key,to:this.dom},{default:()=>[U(t,null,null)]}))}))})}}function xue(e,t){return n=>(r,i,s,o,a)=>{const l=new wue({node:r,view:i,getPos:s,decorations:o,innerDecorations:a,options:{...n,onUpdate(){var u;(u=n.onUpdate)==null||u.call(n),l.updateContext()},selectNode(){var u;(u=n.selectNode)==null||u.call(n),l.updateContext()},deselectNode(){var u;(u=n.deselectNode)==null||u.call(n),l.updateContext()},destroy(){var u;(u=n.destroy)==null||u.call(n),t(l)}}});return e(l),l}}const Cue=Symbol("[ProsemirrorAdapter]nodeViewContext"),Sue=Symbol("[ProsemirrorAdapter]usePluginViewFactory");class Aue extends gue{constructor(){super(...arguments),Dn(this,"key",lh()),Dn(this,"context",{view:ss(this.view),prevState:ss(this.prevState)}),Dn(this,"updateContext",()=>{Object.entries({view:this.view,prevState:this.prevState}).forEach(([t,n])=>{const r=this.context[t];if(t==="view"){const i=Object.assign(Object.create(Object.getPrototypeOf(n)),n);r.value=i;return}r.value=n})}),Dn(this,"render",()=>{const t=this.component;return vl(rr({name:"ProsemirrorNodeView",setup:()=>(pr(Cue,this.context),()=>U(Er,{key:this.key,to:this.root},{default:()=>[U(t,null,null)]}))}))})}}function kue(e,t){return n=>r=>{const i=new Aue({view:r,options:{...n,update:(s,o)=>{var a;(a=n.update)==null||a.call(n,s,o),i.updateContext()},destroy:()=>{var s;(s=n.destroy)==null||s.call(n),t(i)}}});return e(i),i}}function Oue(){const e=_t({}),t=xl(),n=vl({});return yC(()=>{n.updater=()=>{t==null||t.update()}}),wl(()=>{n.updater=void 0}),{portals:e,renderVueRenderer:r=>{var i;e.value[r.key]=r.render(),(i=n.updater)==null||i.call(n)},removeVueRenderer:r=>{delete e.value[r.key]}}}const Iue=Symbol("[ProsemirrorAdapter]widgetViewContext"),Nue=Symbol("[ProsemirrorAdapter]useWidgetViewFactory");class Rue extends bue{constructor(){super(...arguments),Dn(this,"key",lh()),Dn(this,"context",{view:this.view,getPos:this.getPos,spec:this.spec}),Dn(this,"updateContext",()=>{Object.assign(this.context,{view:this.view,getPos:this.getPos,spec:this.spec})}),Dn(this,"render",()=>{const t=this.component;return vl(rr({name:"ProsemirrorWidgetView",setup:()=>(pr(Iue,this.context),()=>U(Er,{key:this.key,to:this.dom},{default:()=>[U(t,null,null)]}))}))})}}function Due(e,t){return n=>(r,i={})=>{const s=new Rue({pos:r,options:n}),o={...i,destroy:a=>{var l;(l=i.destroy)==null||l.call(i,a),t(s)}};return s.spec=o,dn.widget(r,(a,l)=>(s.bind(a,l),s.updateContext(),e(s),s.dom),o)}}const Mue=Symbol("[ProsemirrorAdapter]markViewContext"),rR=Symbol("[ProsemirrorAdapter]useMarkViewFactory"),Pue=()=>Un(rR);class Lue extends hue{constructor(){super(...arguments),Dn(this,"key",lh()),Dn(this,"context",{contentRef:t=>{t&&t instanceof HTMLElement&&this.contentDOM&&t.firstChild!==this.contentDOM&&t.appendChild(this.contentDOM)},view:this.view,mark:ss(this.mark)}),Dn(this,"updateContext",()=>{Object.entries({mark:this.mark}).forEach(([t,n])=>{const r=this.context[t];r.value!==n&&(r.value=n)})}),Dn(this,"render",()=>{const t=this.component;return vl(rr({name:"ProsemirrorMarkView",setup:()=>(pr(Mue,this.context),()=>U(Er,{key:this.key,to:this.dom},{default:()=>[U(t,null,null)]}))}))})}}function Bue(e,t){return n=>(r,i,s)=>{const o=new Lue({mark:r,view:i,inline:s,options:{...n,destroy(){var a;(a=n.destroy)==null||a.call(n),t(o)}}});return e(o),o}}const $ue=rr({name:"ProsemirrorAdapterProvider",setup:(e,{slots:t})=>{const{portals:n,renderVueRenderer:r,removeVueRenderer:i}=Oue(),s=xue(r,i),o=Bue(r,i),a=kue(r,i),l=Due(r,i);return pr(nR,s),pr(rR,o),pr(Sue,a),pr(Nue,l),()=>{var u;return U(Ge,null,[(u=t.default)==null?void 0:u.call(t),Object.values(n.value).map(c=>Qt(c))])}}});function Fue(e,t){const n=ty();sg(r=>{const i=Ld(e)||Ld(n),s=Ld(t);if(!i)throw new Mne;s&&r(i.use(s))})}function Uue(e,t){return yt(()=>{const n=Ld(e);return n&&t?q1(n,t):n})}function ry(e,t){Fue(t==null?void 0:t.editor,Uue(e,t==null?void 0:t.priority))}var Hue=rr({name:"VueMarkViewsConsumer",setup:()=>{const e=Pue(),t=yt(()=>zue(e));return ry(t),()=>null}});function zue(e){return qie({group:"vue",factory:e})}var Vue=rr({name:"VueNodeViewsConsumer",setup:()=>{const e=Tue(),t=yt(()=>jue(e));return ry(t),()=>null}});function jue(e){return Gie({group:"vue",factory:e})}var que=rr((e,{slots:t})=>(fue(e.editor),()=>Qt($ue,null,()=>{var n;return[Qt(Vue),Qt(Hue),(n=t.default)==null?void 0:n.call(t)]})),{props:{editor:{type:Object,required:!0}}});function Wue(e,t){const n=kie(r=>e(r.state.doc));return ry(n,t)}function iR(e){const t=(e==null?void 0:e.update)??!1,n=ty();if(!n)throw new Rr("useEditor must be used within the ProseKit component");const r=ss(n);return t&&vr(()=>{const i=()=>WD(r),s=Gt(Cie(i),W1(i)),o=n.use(s);wl(o)}),r}function uh(e,t,n,r){const i=n.includes("editor");return rr((o,{slots:a,emit:l})=>{const u=ty(),c=_t(!1);vr(()=>{c.value=!0});const d=_t(null);return ig(f=>{const p=d.value;if(!p)return;const m={};for(const g of r){const b=g.endsWith("Change");m[g]=y=>{l(g,b?y.detail:y)}}for(const[g,b]of Object.entries(m))p.addEventListener(g,b);f(()=>{for(const[g,b]of Object.entries(m))p.removeEventListener(g,b)})}),()=>{var p;const f={};for(const[m,g]of Object.entries(o))g!==void 0&&!m.startsWith(".")&&(f[n.includes(m)?"."+m:m]=g);return i&&u&&!f.editor&&(f.editor=u),f.key=c.value?1:0,f.ref=d,Qt(e,f,(p=a.default)==null?void 0:p.call(a))}},{name:t,props:n,emits:r})}var Yue=Symbol.for("preact-signals");function iy(){if(Ka>1)Ka--;else{for(var e,t=!1;$u!==void 0;){var n=$u;for($u=void 0,P0++;n!==void 0;){var r=n.o;if(n.o=void 0,n.f&=-3,!(8&n.f)&&oR(n))try{n.c()}catch(i){t||(e=i,t=!0)}n=r}}if(P0=0,Ka--,t)throw e}}var gt=void 0,$u=void 0,Ka=0,P0=0,ep=0;function sR(e){if(gt!==void 0){var t=e.n;if(t===void 0||t.t!==gt)return t={i:0,S:e,p:gt.s,n:void 0,t:gt,e:void 0,x:void 0,r:t},gt.s!==void 0&&(gt.s.n=t),gt.s=t,e.n=t,32&gt.f&&e.S(t),t;if(t.i===-1)return t.i=0,t.n!==void 0&&(t.n.p=t.p,t.p!==void 0&&(t.p.n=t.n),t.p=gt.s,t.n=void 0,gt.s.n=t,gt.s=t),t}}function Yn(e){this.v=e,this.i=0,this.n=void 0,this.t=void 0}Yn.prototype.brand=Yue;Yn.prototype.h=function(){return!0};Yn.prototype.S=function(e){this.t!==e&&e.e===void 0&&(e.x=this.t,this.t!==void 0&&(this.t.e=e),this.t=e)};Yn.prototype.U=function(e){if(this.t!==void 0){var t=e.e,n=e.x;t!==void 0&&(t.x=n,e.e=void 0),n!==void 0&&(n.e=t,e.x=void 0),e===this.t&&(this.t=n)}};Yn.prototype.subscribe=function(e){var t=this;return oy(function(){var n=t.value,r=gt;gt=void 0;try{e(n)}finally{gt=r}})};Yn.prototype.valueOf=function(){return this.value};Yn.prototype.toString=function(){return this.value+""};Yn.prototype.toJSON=function(){return this.value};Yn.prototype.peek=function(){var e=gt;gt=void 0;try{return this.value}finally{gt=e}};Object.defineProperty(Yn.prototype,"value",{get:function(){var e=sR(this);return e!==void 0&&(e.i=this.i),this.v},set:function(e){if(e!==this.v){if(P0>100)throw new Error("Cycle detected");this.v=e,this.i++,ep++,Ka++;try{for(var t=this.t;t!==void 0;t=t.x)t.t.N()}finally{iy()}}}});function Gue(e){return new Yn(e)}function oR(e){for(var t=e.s;t!==void 0;t=t.n)if(t.S.i!==t.i||!t.S.h()||t.S.i!==t.i)return!0;return!1}function aR(e){for(var t=e.s;t!==void 0;t=t.n){var n=t.S.n;if(n!==void 0&&(t.r=n),t.S.n=t,t.i=-1,t.n===void 0){e.s=t;break}}}function lR(e){for(var t=e.s,n=void 0;t!==void 0;){var r=t.p;t.i===-1?(t.S.U(t),r!==void 0&&(r.n=t.n),t.n!==void 0&&(t.n.p=r)):n=t,t.S.n=t.r,t.r!==void 0&&(t.r=void 0),t=r}e.s=n}function Pl(e){Yn.call(this,void 0),this.x=e,this.s=void 0,this.g=ep-1,this.f=4}(Pl.prototype=new Yn).h=function(){if(this.f&=-3,1&this.f)return!1;if((36&this.f)==32||(this.f&=-5,this.g===ep))return!0;if(this.g=ep,this.f|=1,this.i>0&&!oR(this))return this.f&=-2,!0;var e=gt;try{aR(this),gt=this;var t=this.x();(16&this.f||this.v!==t||this.i===0)&&(this.v=t,this.f&=-17,this.i++)}catch(n){this.v=n,this.f|=16,this.i++}return gt=e,lR(this),this.f&=-2,!0};Pl.prototype.S=function(e){if(this.t===void 0){this.f|=36;for(var t=this.s;t!==void 0;t=t.n)t.S.S(t)}Yn.prototype.S.call(this,e)};Pl.prototype.U=function(e){if(this.t!==void 0&&(Yn.prototype.U.call(this,e),this.t===void 0)){this.f&=-33;for(var t=this.s;t!==void 0;t=t.n)t.S.U(t)}};Pl.prototype.N=function(){if(!(2&this.f)){this.f|=6;for(var e=this.t;e!==void 0;e=e.x)e.t.N()}};Object.defineProperty(Pl.prototype,"value",{get:function(){if(1&this.f)throw new Error("Cycle detected");var e=sR(this);if(this.h(),e!==void 0&&(e.i=this.i),16&this.f)throw this.v;return this.v}});function Kue(e){return new Pl(e)}function uR(e){var t=e.u;if(e.u=void 0,typeof t=="function"){Ka++;var n=gt;gt=void 0;try{t()}catch(r){throw e.f&=-2,e.f|=8,sy(e),r}finally{gt=n,iy()}}}function sy(e){for(var t=e.s;t!==void 0;t=t.n)t.S.U(t);e.x=void 0,e.s=void 0,uR(e)}function Xue(e){if(gt!==this)throw new Error("Out-of-order effect");lR(this),gt=e,this.f&=-2,8&this.f&&sy(this),iy()}function Kc(e){this.x=e,this.u=void 0,this.s=void 0,this.o=void 0,this.f=32}Kc.prototype.c=function(){var e=this.S();try{if(8&this.f||this.x===void 0)return;var t=this.x();typeof t=="function"&&(this.u=t)}finally{e()}};Kc.prototype.S=function(){if(1&this.f)throw new Error("Cycle detected");this.f|=1,this.f&=-9,uR(this),aR(this),Ka++;var e=gt;return gt=this,Xue.bind(this,e)};Kc.prototype.N=function(){2&this.f||(this.f|=2,this.o=$u,$u=this)};Kc.prototype.d=function(){this.f|=8,1&this.f||sy(this)};function oy(e){var t=new Kc(e);try{t.c()}catch(n){throw t.d(),n}return t.d.bind(t)}var Que=9,cR=e=>typeof e=="object"&&e!==null,Jue=e=>cR(e)&&e.nodeType===Que,Zue=e=>cR(e)&&e===e.window;function ece(e){return Jue(e)?e:Zue(e)?e.document:(e==null?void 0:e.ownerDocument)??document}function zw(e){return ece(e).documentElement}function tce(e){var t,n,r;return((t=e.composedPath)==null?void 0:t.call(e))??((r=(n=e.nativeEvent)==null?void 0:n.composedPath)==null?void 0:r.call(n))}function L0(e){const t=tce(e);return(t==null?void 0:t[0])??e.target}const nce=HTMLElement;var rce=ace,ice=/[\s\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,\-.\/:;<=>?@\[\]^_`{|}~]+/,sce=/[A-ZÀ-Ý\u00C0-\u00D6\u00D9-\u00DD][a-zà-ÿ]/g,oce=/[A-ZÀ-Ý\u00C0-\u00D6\u00D9-\u00DD]+/g;function ace(e){return e=e.replace(sce,function(t){return" "+(t[0].toLowerCase()||t[0])+t[1]}),e=e.replace(oce,function(t){return" "+t.toLowerCase()}),e.trim().split(ice).join("-").replace(/^-/,"").replace(/-\s*$/,"")}var lce=class{constructor(e){this.impl=Gue(e)}get value(){return this.impl.value}set value(e){this.impl.value=e}get(){return this.impl.value}set(e){this.impl.value=e}peek(){return this.impl.peek()}},uce=class{constructor(e){this.impl=Kue(e)}get value(){return this.impl.value}get(){return this.impl.value}peek(){return this.impl.peek()}};function Ni(e){return new lce(e)}function B0(e){return new uce(e)}function ui(e,t){let n;const r=()=>{n==null||n(),n=void 0};return e.addConnectedCallback(()=>(n==null||n(),n=oy(t),r)),r}var $0=class extends Event{constructor(e,t){super("aria-ui/context-request",{bubbles:!0,composed:!0}),this.key=e,this.callback=t}},cce=class extends Event{constructor(e){super("aria-ui/context-provider",{bubbles:!0,composed:!0}),this.key=e}},dce=class{constructor(e,t){this.key=e,this.defaultValue=t,this.provide=this.provide.bind(this),this.consume=this.consume.bind(this)}provide(e,t){const n=new Map,r=s=>{const o=L0(s);e===o||s.key!==this.key||n.has(s.callback)||!o||(s.stopPropagation(),s.callback(t),n.set(s.callback,o))},i=s=>{const o=L0(s);if(e===o||s.key!==this.key||!o)return;s.stopPropagation();const a=Array.from(n.entries());n.clear();for(const[l,u]of a)u.dispatchEvent(new $0(this.key,l))};e.addConnectedCallback(()=>(jw(zw(e)),e.addEventListener("aria-ui/context-request",r),e.addEventListener("aria-ui/context-provider",i),e.dispatchEvent(new cce(this.key)),()=>{e.removeEventListener("aria-ui/context-request",r),e.removeEventListener("aria-ui/context-provider",i)}))}consume(e){const t=Ni(this.defaultValue);let n,r,i;e.addConnectedCallback(()=>{jw(zw(e));const l=u=>{n==null||n(),n=oy(()=>{t.set(u.get())}),r=u,i!==void 0&&(u.set(i),i=void 0)};return e.dispatchEvent(new $0(this.key,l)),()=>{n==null||n(),n=void 0,r=void 0}});const s=()=>t.peek(),o=()=>t.get(),a=l=>{r?r.set(l):i=l};return{get:o,get value(){return o()},set:a,set value(l){a(l)},peek:s}}};function Xc(e,t){return new dce(typeof e=="string"?`aria-ui/context/${e}`:e,t)}var Vw=new WeakSet;function jw(e){Vw.has(e)||(Vw.add(e),fce(e))}function fce(e){const t=new Map,n=o=>{const a=t.get(o);if(a!==void 0)return t.delete(o),a},r=o=>{let a=t.get(o);return a===void 0&&(a={callbacks:new WeakMap,requests:[]},t.set(o,a)),a},i=o=>{const a=n(o.key);if(a===void 0)return;const{requests:l}=a;for(const{elementRef:u,callbackRef:c}of l){const d=u.deref(),f=c.deref();d===void 0||f===void 0||d.dispatchEvent(new $0(o.key,f))}},s=o=>{const a=L0(o);if(!a)return;const l=o.callback,u=r(o.key);let c=u.callbacks.get(a);c===void 0&&(c=new WeakSet,u.callbacks.set(a,c)),!c.has(l)&&(c.add(l),u.requests.push({elementRef:new WeakRef(a),callbackRef:new WeakRef(l)}))};e.addEventListener("aria-ui/context-request",s),e.addEventListener("aria-ui/context-provider",i)}function Sa(e,t,n,r){return ui(e,()=>(e.addEventListener(t,n,r),()=>{e.removeEventListener(t,n,r)}))}function Ec(e,t,n){return ui(e,()=>{const r=n();r==null?e.removeAttribute(t):e.setAttribute(t,String(r))})}function dR(e,t,n){return Ec(e,t,n)}function pce(e,t){return ui(e,()=>{const n=t();if(!n)return;let r;const i=requestAnimationFrame(()=>{r==null||r(),r=n()||void 0});return()=>{cancelAnimationFrame(i),r==null||r(),r=void 0}})}function hce(e,t){return function(r,i){var s,o,a;const l=t[r];if(!l)throw new Error(`[aria-ui] Event type "${String(r)}" is not defined`);const u=(s=l.bubbles)!=null?s:!1,c=(o=l.cancelable)!=null?o:!0,d=(a=l.composed)!=null?a:!1,f=new CustomEvent(r,{detail:i,bubbles:u,cancelable:c,composed:d});e.dispatchEvent(f)}}function mce(e){if(e.fromAttribute)return e.fromAttribute;switch(typeof e.default){case"string":return t=>t==null?e.default:String(t);case"number":return t=>t==null?e.default:Number(t);case"boolean":return t=>t==null?e.default:t!=="false"}}function gce(e){if(e.toAttribute)return e.toAttribute;switch(typeof e.default){case"string":case"number":case"boolean":return String}}function bce(e){const t=[],n=new Map,r=new Map;for(const[i,s]of Object.entries(e)){if(s.attribute===!1)continue;const o=typeof s.attribute=="string"?s.attribute:rce(i);t.push(o),n.set(o,i),r.set(i,o)}return[t,n,r]}function yce(e){const[t,n,r]=bce(e),i=mc(e,mce),s=mc(e,gce);return[t,(l,u,c)=>{const d=n.get(u);if(!d)return;const f=l[d];if(!f)return;const p=i[d];p&&f.set(p(c))},(l,u)=>{for(const[c,d]of r.entries()){const f=u[c];if(!f)continue;const p=s[c];p&&Ec(l,d,()=>{var m;const g=f.get();return g!==((m=e[c])==null?void 0:m.default)?p(g):null})}}]}var fR=Object.entries;function _ce(e){const t={};for(const[n,r]of fR(e))t[n]=r.get();return t}function Ece(e){const t={};for(const[n,r]of fR(e))t[n]=Ni(r.default);return t}var vce=class extends nce{constructor(){super(...arguments),this._connectedCallbacks=[],this._disconnectedCallbacks=[],this._connected=!1}connectedCallback(){if(!this._connected){this._connected=!0;for(const e of this._connectedCallbacks){const t=e();t&&this._disconnectedCallbacks.push(t)}}}disconnectedCallback(){if(this._connected){this._connected=!1;for(const e of this._disconnectedCallbacks)e();this._disconnectedCallbacks=[]}}addConnectedCallback(e){if(this._connectedCallbacks.push(e),!this._connected)return;const t=e();t&&this._disconnectedCallbacks.push(t)}};function ji({props:e,events:t,setup:n}){const[r,i,s]=yce(e);class o extends vce{constructor(){super(),this._s=Ece(e);const l=hce(this,t);n(this,{state:this._s,emit:l}),s(this,this._s)}attributeChangedCallback(l,u,c){i(this._s,l,c)}}return o.observedAttributes=r,Tce(o,e),o}function Tce(e,t){for(const n of Object.keys(t))Object.defineProperty(e.prototype,n,{get(){return this._s[n].get()},set(r){this._s[n].set(r)}})}function ha(e,t){typeof customElements>"u"||customElements.get(e)||customElements.define(e,t)}const wce=["top","right","bottom","left"],ms=Math.min,kn=Math.max,tp=Math.round,Nd=Math.floor,Mi=e=>({x:e,y:e}),xce={left:"right",right:"left",bottom:"top",top:"bottom"},Cce={start:"end",end:"start"};function qw(e,t,n){return kn(e,ms(t,n))}function ma(e,t){return typeof e=="function"?e(t):e}function Hi(e){return e.split("-")[0]}function Qc(e){return e.split("-")[1]}function pR(e){return e==="x"?"y":"x"}function hR(e){return e==="y"?"height":"width"}function co(e){return["top","bottom"].includes(Hi(e))?"y":"x"}function mR(e){return pR(co(e))}function Sce(e,t,n){n===void 0&&(n=!1);const r=Qc(e),i=mR(e),s=hR(i);let o=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[s]>t.floating[s]&&(o=np(o)),[o,np(o)]}function Ace(e){const t=np(e);return[F0(e),t,F0(t)]}function F0(e){return e.replace(/start|end/g,t=>Cce[t])}function kce(e,t,n){const r=["left","right"],i=["right","left"],s=["top","bottom"],o=["bottom","top"];switch(e){case"top":case"bottom":return n?t?i:r:t?r:i;case"left":case"right":return t?s:o;default:return[]}}function Oce(e,t,n,r){const i=Qc(e);let s=kce(Hi(e),n==="start",r);return i&&(s=s.map(o=>o+"-"+i),t&&(s=s.concat(s.map(F0)))),s}function np(e){return e.replace(/left|right|bottom|top/g,t=>xce[t])}function Ice(e){return{top:0,right:0,bottom:0,left:0,...e}}function gR(e){return typeof e!="number"?Ice(e):{top:e,right:e,bottom:e,left:e}}function hl(e){const{x:t,y:n,width:r,height:i}=e;return{width:r,height:i,top:n,left:t,right:t+r,bottom:n+i,x:t,y:n}}function Ww(e,t,n){let{reference:r,floating:i}=e;const s=co(t),o=mR(t),a=hR(o),l=Hi(t),u=s==="y",c=r.x+r.width/2-i.width/2,d=r.y+r.height/2-i.height/2,f=r[a]/2-i[a]/2;let p;switch(l){case"top":p={x:c,y:r.y-i.height};break;case"bottom":p={x:c,y:r.y+r.height};break;case"right":p={x:r.x+r.width,y:d};break;case"left":p={x:r.x-i.width,y:d};break;default:p={x:r.x,y:r.y}}switch(Qc(t)){case"start":p[o]-=f*(n&&u?-1:1);break;case"end":p[o]+=f*(n&&u?-1:1);break}return p}const Nce=async(e,t,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:s=[],platform:o}=n,a=s.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(t));let u=await o.getElementRects({reference:e,floating:t,strategy:i}),{x:c,y:d}=Ww(u,r,l),f=r,p={},m=0;for(let g=0;g<a.length;g++){const{name:b,fn:y}=a[g],{x:E,y:T,data:C,reset:D}=await y({x:c,y:d,initialPlacement:r,placement:f,strategy:i,middlewareData:p,rects:u,platform:o,elements:{reference:e,floating:t}});c=E??c,d=T??d,p={...p,[b]:{...p[b],...C}},D&&m<=50&&(m++,typeof D=="object"&&(D.placement&&(f=D.placement),D.rects&&(u=D.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:i}):D.rects),{x:c,y:d}=Ww(u,f,l)),g=-1)}return{x:c,y:d,placement:f,strategy:i,middlewareData:p}};async function vc(e,t){var n;t===void 0&&(t={});const{x:r,y:i,platform:s,rects:o,elements:a,strategy:l}=e,{boundary:u="clippingAncestors",rootBoundary:c="viewport",elementContext:d="floating",altBoundary:f=!1,padding:p=0}=ma(t,e),m=gR(p),b=a[f?d==="floating"?"reference":"floating":d],y=hl(await s.getClippingRect({element:(n=await(s.isElement==null?void 0:s.isElement(b)))==null||n?b:b.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(a.floating)),boundary:u,rootBoundary:c,strategy:l})),E=d==="floating"?{x:r,y:i,width:o.floating.width,height:o.floating.height}:o.reference,T=await(s.getOffsetParent==null?void 0:s.getOffsetParent(a.floating)),C=await(s.isElement==null?void 0:s.isElement(T))?await(s.getScale==null?void 0:s.getScale(T))||{x:1,y:1}:{x:1,y:1},D=hl(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:E,offsetParent:T,strategy:l}):E);return{top:(y.top-D.top+m.top)/C.y,bottom:(D.bottom-y.bottom+m.bottom)/C.y,left:(y.left-D.left+m.left)/C.x,right:(D.right-y.right+m.right)/C.x}}const Rce=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:i,middlewareData:s,rects:o,initialPlacement:a,platform:l,elements:u}=t,{mainAxis:c=!0,crossAxis:d=!0,fallbackPlacements:f,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:m="none",flipAlignment:g=!0,...b}=ma(e,t);if((n=s.arrow)!=null&&n.alignmentOffset)return{};const y=Hi(i),E=co(a),T=Hi(a)===a,C=await(l.isRTL==null?void 0:l.isRTL(u.floating)),D=f||(T||!g?[np(a)]:Ace(a)),_=m!=="none";!f&&_&&D.push(...Oce(a,g,m,C));const M=[a,...D],G=await vc(t,b),B=[];let K=((r=s.flip)==null?void 0:r.overflows)||[];if(c&&B.push(G[y]),d){const Ee=Sce(i,o,C);B.push(G[Ee[0]],G[Ee[1]])}if(K=[...K,{placement:i,overflows:B}],!B.every(Ee=>Ee<=0)){var V,H;const Ee=(((V=s.flip)==null?void 0:V.index)||0)+1,me=M[Ee];if(me)return{data:{index:Ee,overflows:K},reset:{placement:me}};let xe=(H=K.filter(Ce=>Ce.overflows[0]<=0).sort((Ce,ve)=>Ce.overflows[1]-ve.overflows[1])[0])==null?void 0:H.placement;if(!xe)switch(p){case"bestFit":{var te;const Ce=(te=K.filter(ve=>{if(_){const $e=co(ve.placement);return $e===E||$e==="y"}return!0}).map(ve=>[ve.placement,ve.overflows.filter($e=>$e>0).reduce(($e,k)=>$e+k,0)]).sort((ve,$e)=>ve[1]-$e[1])[0])==null?void 0:te[0];Ce&&(xe=Ce);break}case"initialPlacement":xe=a;break}if(i!==xe)return{reset:{placement:xe}}}return{}}}};function Yw(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function Gw(e){return wce.some(t=>e[t]>=0)}const Dce=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:r="referenceHidden",...i}=ma(e,t);switch(r){case"referenceHidden":{const s=await vc(t,{...i,elementContext:"reference"}),o=Yw(s,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:Gw(o)}}}case"escaped":{const s=await vc(t,{...i,altBoundary:!0}),o=Yw(s,n.floating);return{data:{escapedOffsets:o,escaped:Gw(o)}}}default:return{}}}}};function bR(e){const t=ms(...e.map(s=>s.left)),n=ms(...e.map(s=>s.top)),r=kn(...e.map(s=>s.right)),i=kn(...e.map(s=>s.bottom));return{x:t,y:n,width:r-t,height:i-n}}function Mce(e){const t=e.slice().sort((i,s)=>i.y-s.y),n=[];let r=null;for(let i=0;i<t.length;i++){const s=t[i];!r||s.y-r.y>r.height/2?n.push([s]):n[n.length-1].push(s),r=s}return n.map(i=>hl(bR(i)))}const Pce=function(e){return e===void 0&&(e={}),{name:"inline",options:e,async fn(t){const{placement:n,elements:r,rects:i,platform:s,strategy:o}=t,{padding:a=2,x:l,y:u}=ma(e,t),c=Array.from(await(s.getClientRects==null?void 0:s.getClientRects(r.reference))||[]),d=Mce(c),f=hl(bR(c)),p=gR(a);function m(){if(d.length===2&&d[0].left>d[1].right&&l!=null&&u!=null)return d.find(b=>l>b.left-p.left&&l<b.right+p.right&&u>b.top-p.top&&u<b.bottom+p.bottom)||f;if(d.length>=2){if(co(n)==="y"){const K=d[0],V=d[d.length-1],H=Hi(n)==="top",te=K.top,Ee=V.bottom,me=H?K.left:V.left,xe=H?K.right:V.right,Ce=xe-me,ve=Ee-te;return{top:te,bottom:Ee,left:me,right:xe,width:Ce,height:ve,x:me,y:te}}const b=Hi(n)==="left",y=kn(...d.map(K=>K.right)),E=ms(...d.map(K=>K.left)),T=d.filter(K=>b?K.left===E:K.right===y),C=T[0].top,D=T[T.length-1].bottom,_=E,M=y,G=M-_,B=D-C;return{top:C,bottom:D,left:_,right:M,width:G,height:B,x:_,y:C}}return f}const g=await s.getElementRects({reference:{getBoundingClientRect:m},floating:r.floating,strategy:o});return i.reference.x!==g.reference.x||i.reference.y!==g.reference.y||i.reference.width!==g.reference.width||i.reference.height!==g.reference.height?{reset:{rects:g}}:{}}}};async function Lce(e,t){const{placement:n,platform:r,elements:i}=e,s=await(r.isRTL==null?void 0:r.isRTL(i.floating)),o=Hi(n),a=Qc(n),l=co(n)==="y",u=["left","top"].includes(o)?-1:1,c=s&&l?-1:1,d=ma(t,e);let{mainAxis:f,crossAxis:p,alignmentAxis:m}=typeof d=="number"?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:d.mainAxis||0,crossAxis:d.crossAxis||0,alignmentAxis:d.alignmentAxis};return a&&typeof m=="number"&&(p=a==="end"?m*-1:m),l?{x:p*c,y:f*u}:{x:f*u,y:p*c}}const Bce=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:i,y:s,placement:o,middlewareData:a}=t,l=await Lce(t,e);return o===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:i+l.x,y:s+l.y,data:{...l,placement:o}}}}},$ce=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:i}=t,{mainAxis:s=!0,crossAxis:o=!1,limiter:a={fn:b=>{let{x:y,y:E}=b;return{x:y,y:E}}},...l}=ma(e,t),u={x:n,y:r},c=await vc(t,l),d=co(Hi(i)),f=pR(d);let p=u[f],m=u[d];if(s){const b=f==="y"?"top":"left",y=f==="y"?"bottom":"right",E=p+c[b],T=p-c[y];p=qw(E,p,T)}if(o){const b=d==="y"?"top":"left",y=d==="y"?"bottom":"right",E=m+c[b],T=m-c[y];m=qw(E,m,T)}const g=a.fn({...t,[f]:p,[d]:m});return{...g,data:{x:g.x-n,y:g.y-r,enabled:{[f]:s,[d]:o}}}}}},Fce=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:i,rects:s,platform:o,elements:a}=t,{apply:l=()=>{},...u}=ma(e,t),c=await vc(t,u),d=Hi(i),f=Qc(i),p=co(i)==="y",{width:m,height:g}=s.floating;let b,y;d==="top"||d==="bottom"?(b=d,y=f===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(y=d,b=f==="end"?"top":"bottom");const E=g-c.top-c.bottom,T=m-c.left-c.right,C=ms(g-c[b],E),D=ms(m-c[y],T),_=!t.middlewareData.shift;let M=C,G=D;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(G=T),(r=t.middlewareData.shift)!=null&&r.enabled.y&&(M=E),_&&!f){const K=kn(c.left,0),V=kn(c.right,0),H=kn(c.top,0),te=kn(c.bottom,0);p?G=m-2*(K!==0||V!==0?K+V:kn(c.left,c.right)):M=g-2*(H!==0||te!==0?H+te:kn(c.top,c.bottom))}await l({...t,availableWidth:G,availableHeight:M});const B=await o.getDimensions(a.floating);return m!==B.width||g!==B.height?{reset:{rects:!0}}:{}}}};function ch(){return typeof window<"u"}function Ll(e){return yR(e)?(e.nodeName||"").toLowerCase():"#document"}function br(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function qi(e){var t;return(t=(yR(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function yR(e){return ch()?e instanceof Node||e instanceof br(e).Node:!1}function jr(e){return ch()?e instanceof Element||e instanceof br(e).Element:!1}function zi(e){return ch()?e instanceof HTMLElement||e instanceof br(e).HTMLElement:!1}function Kw(e){return!ch()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof br(e).ShadowRoot}function Jc(e){const{overflow:t,overflowX:n,overflowY:r,display:i}=ci(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!["inline","contents"].includes(i)}function Uce(e){return["table","td","th"].includes(Ll(e))}function dh(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function ay(e){const t=ly(),n=jr(e)?ci(e):e;return["transform","translate","scale","rotate","perspective"].some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function Hce(e){let t=fo(e);for(;zi(t)&&!ml(t);){if(ay(t))return t;if(dh(t))return null;t=fo(t)}return null}function ly(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function ml(e){return["html","body","#document"].includes(Ll(e))}function ci(e){return br(e).getComputedStyle(e)}function fh(e){return jr(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function fo(e){if(Ll(e)==="html")return e;const t=e.assignedSlot||e.parentNode||Kw(e)&&e.host||qi(e);return Kw(t)?t.host:t}function _R(e){const t=fo(e);return ml(t)?e.ownerDocument?e.ownerDocument.body:e.body:zi(t)&&Jc(t)?t:_R(t)}function Tc(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const i=_R(e),s=i===((r=e.ownerDocument)==null?void 0:r.body),o=br(i);if(s){const a=U0(o);return t.concat(o,o.visualViewport||[],Jc(i)?i:[],a&&n?Tc(a):[])}return t.concat(i,Tc(i,[],n))}function U0(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function ER(e){const t=ci(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const i=zi(e),s=i?e.offsetWidth:n,o=i?e.offsetHeight:r,a=tp(n)!==s||tp(r)!==o;return a&&(n=s,r=o),{width:n,height:r,$:a}}function uy(e){return jr(e)?e:e.contextElement}function Xa(e){const t=uy(e);if(!zi(t))return Mi(1);const n=t.getBoundingClientRect(),{width:r,height:i,$:s}=ER(t);let o=(s?tp(n.width):n.width)/r,a=(s?tp(n.height):n.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const zce=Mi(0);function vR(e){const t=br(e);return!ly()||!t.visualViewport?zce:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function Vce(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==br(e)?!1:t}function ia(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const i=e.getBoundingClientRect(),s=uy(e);let o=Mi(1);t&&(r?jr(r)&&(o=Xa(r)):o=Xa(e));const a=Vce(s,n,r)?vR(s):Mi(0);let l=(i.left+a.x)/o.x,u=(i.top+a.y)/o.y,c=i.width/o.x,d=i.height/o.y;if(s){const f=br(s),p=r&&jr(r)?br(r):r;let m=f,g=U0(m);for(;g&&r&&p!==m;){const b=Xa(g),y=g.getBoundingClientRect(),E=ci(g),T=y.left+(g.clientLeft+parseFloat(E.paddingLeft))*b.x,C=y.top+(g.clientTop+parseFloat(E.paddingTop))*b.y;l*=b.x,u*=b.y,c*=b.x,d*=b.y,l+=T,u+=C,m=br(g),g=U0(m)}}return hl({width:c,height:d,x:l,y:u})}function cy(e,t){const n=fh(e).scrollLeft;return t?t.left+n:ia(qi(e)).left+n}function TR(e,t,n){n===void 0&&(n=!1);const r=e.getBoundingClientRect(),i=r.left+t.scrollLeft-(n?0:cy(e,r)),s=r.top+t.scrollTop;return{x:i,y:s}}function jce(e){let{elements:t,rect:n,offsetParent:r,strategy:i}=e;const s=i==="fixed",o=qi(r),a=t?dh(t.floating):!1;if(r===o||a&&s)return n;let l={scrollLeft:0,scrollTop:0},u=Mi(1);const c=Mi(0),d=zi(r);if((d||!d&&!s)&&((Ll(r)!=="body"||Jc(o))&&(l=fh(r)),zi(r))){const p=ia(r);u=Xa(r),c.x=p.x+r.clientLeft,c.y=p.y+r.clientTop}const f=o&&!d&&!s?TR(o,l,!0):Mi(0);return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-l.scrollLeft*u.x+c.x+f.x,y:n.y*u.y-l.scrollTop*u.y+c.y+f.y}}function qce(e){return Array.from(e.getClientRects())}function Wce(e){const t=qi(e),n=fh(e),r=e.ownerDocument.body,i=kn(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),s=kn(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+cy(e);const a=-n.scrollTop;return ci(r).direction==="rtl"&&(o+=kn(t.clientWidth,r.clientWidth)-i),{width:i,height:s,x:o,y:a}}function Yce(e,t){const n=br(e),r=qi(e),i=n.visualViewport;let s=r.clientWidth,o=r.clientHeight,a=0,l=0;if(i){s=i.width,o=i.height;const u=ly();(!u||u&&t==="fixed")&&(a=i.offsetLeft,l=i.offsetTop)}return{width:s,height:o,x:a,y:l}}function Gce(e,t){const n=ia(e,!0,t==="fixed"),r=n.top+e.clientTop,i=n.left+e.clientLeft,s=zi(e)?Xa(e):Mi(1),o=e.clientWidth*s.x,a=e.clientHeight*s.y,l=i*s.x,u=r*s.y;return{width:o,height:a,x:l,y:u}}function Xw(e,t,n){let r;if(t==="viewport")r=Yce(e,n);else if(t==="document")r=Wce(qi(e));else if(jr(t))r=Gce(t,n);else{const i=vR(e);r={x:t.x-i.x,y:t.y-i.y,width:t.width,height:t.height}}return hl(r)}function wR(e,t){const n=fo(e);return n===t||!jr(n)||ml(n)?!1:ci(n).position==="fixed"||wR(n,t)}function Kce(e,t){const n=t.get(e);if(n)return n;let r=Tc(e,[],!1).filter(a=>jr(a)&&Ll(a)!=="body"),i=null;const s=ci(e).position==="fixed";let o=s?fo(e):e;for(;jr(o)&&!ml(o);){const a=ci(o),l=ay(o);!l&&a.position==="fixed"&&(i=null),(s?!l&&!i:!l&&a.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||Jc(o)&&!l&&wR(e,o))?r=r.filter(c=>c!==o):i=a,o=fo(o)}return t.set(e,r),r}function Xce(e){let{element:t,boundary:n,rootBoundary:r,strategy:i}=e;const o=[...n==="clippingAncestors"?dh(t)?[]:Kce(t,this._c):[].concat(n),r],a=o[0],l=o.reduce((u,c)=>{const d=Xw(t,c,i);return u.top=kn(d.top,u.top),u.right=ms(d.right,u.right),u.bottom=ms(d.bottom,u.bottom),u.left=kn(d.left,u.left),u},Xw(t,a,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function Qce(e){const{width:t,height:n}=ER(e);return{width:t,height:n}}function Jce(e,t,n){const r=zi(t),i=qi(t),s=n==="fixed",o=ia(e,!0,s,t);let a={scrollLeft:0,scrollTop:0};const l=Mi(0);if(r||!r&&!s)if((Ll(t)!=="body"||Jc(i))&&(a=fh(t)),r){const f=ia(t,!0,s,t);l.x=f.x+t.clientLeft,l.y=f.y+t.clientTop}else i&&(l.x=cy(i));const u=i&&!r&&!s?TR(i,a):Mi(0),c=o.left+a.scrollLeft-l.x-u.x,d=o.top+a.scrollTop-l.y-u.y;return{x:c,y:d,width:o.width,height:o.height}}function Um(e){return ci(e).position==="static"}function Qw(e,t){if(!zi(e)||ci(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return qi(e)===n&&(n=n.ownerDocument.body),n}function xR(e,t){const n=br(e);if(dh(e))return n;if(!zi(e)){let i=fo(e);for(;i&&!ml(i);){if(jr(i)&&!Um(i))return i;i=fo(i)}return n}let r=Qw(e,t);for(;r&&Uce(r)&&Um(r);)r=Qw(r,t);return r&&ml(r)&&Um(r)&&!ay(r)?n:r||Hce(e)||n}const Zce=async function(e){const t=this.getOffsetParent||xR,n=this.getDimensions,r=await n(e.floating);return{reference:Jce(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function ede(e){return ci(e).direction==="rtl"}const tde={convertOffsetParentRelativeRectToViewportRelativeRect:jce,getDocumentElement:qi,getClippingRect:Xce,getOffsetParent:xR,getElementRects:Zce,getClientRects:qce,getDimensions:Qce,getScale:Xa,isElement:jr,isRTL:ede};function CR(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function nde(e,t){let n=null,r;const i=qi(e);function s(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),s();const u=e.getBoundingClientRect(),{left:c,top:d,width:f,height:p}=u;if(a||t(),!f||!p)return;const m=Nd(d),g=Nd(i.clientWidth-(c+f)),b=Nd(i.clientHeight-(d+p)),y=Nd(c),T={rootMargin:-m+"px "+-g+"px "+-b+"px "+-y+"px",threshold:kn(0,ms(1,l))||1};let C=!0;function D(_){const M=_[0].intersectionRatio;if(M!==l){if(!C)return o();M?o(!1,M):r=setTimeout(()=>{o(!1,1e-7)},1e3)}M===1&&!CR(u,e.getBoundingClientRect())&&o(),C=!1}try{n=new IntersectionObserver(D,{...T,root:i.ownerDocument})}catch{n=new IntersectionObserver(D,T)}n.observe(e)}return o(!0),s}function rde(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,u=uy(e),c=i||s?[...u?Tc(u):[],...Tc(t)]:[];c.forEach(y=>{i&&y.addEventListener("scroll",n,{passive:!0}),s&&y.addEventListener("resize",n)});const d=u&&a?nde(u,n):null;let f=-1,p=null;o&&(p=new ResizeObserver(y=>{let[E]=y;E&&E.target===u&&p&&(p.unobserve(t),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{var T;(T=p)==null||T.observe(t)})),n()}),u&&!l&&p.observe(u),p.observe(t));let m,g=l?ia(e):null;l&&b();function b(){const y=ia(e);g&&!CR(g,y)&&n(),g=y,m=requestAnimationFrame(b)}return n(),()=>{var y;c.forEach(E=>{i&&E.removeEventListener("scroll",n),s&&E.removeEventListener("resize",n)}),d==null||d(),(y=p)==null||y.disconnect(),p=null,l&&cancelAnimationFrame(m)}}const ide=Bce,sde=$ce,ode=Rce,ade=Fce,lde=Dce,ude=Pce,cde=(e,t,n)=>{const r=new Map,i={platform:tde,...n},s={...i.platform,_c:r};return Nce(e,t,{...i,platform:s})};var dde=1,fde=9,pde=11,dy=e=>typeof e=="object"&&e!==null,hde=e=>dy(e)&&e.nodeType===dde&&typeof e.nodeName=="string",mde=e=>dy(e)&&e.nodeType===fde,gde=e=>dy(e)&&e.nodeType!==void 0,bde=e=>gde(e)&&e.nodeType===pde&&"host"in e;function SR(e){var t;return bde(e)?SR(e.host):mde(e)?e.defaultView??window:hde(e)?((t=e.ownerDocument)==null?void 0:t.defaultView)??window:window}var fy=Xc("overlay/reference",null);function AR(e){const t=fy.consume(e);ui(e,()=>{t.set(e)})}var yde={},_de={};function Ede(e,t,n){if(!e||!t)return;const r=[vde(n),Tde(n),wde(n),xde(n),Cde(n),Sde(n)],{placement:i,strategy:s}=n;let o=!1;const a=async()=>{var c,d,f;if(!t||!e||o)return;const p=Ode(t);if(p&&!p.isConnected)return;n.hoist&&kde&&(e.style.margin="unset",e.setAttribute("popover","manual"),(c=e.showPopover)==null||c.call(e));const m=await cde(t,e,{placement:i,middleware:r,strategy:s});if(o)return;if(n.hide){const C=((d=m.middlewareData.hide)==null?void 0:d.escaped)||((f=m.middlewareData.hide)==null?void 0:f.referenceHidden);e.style.visibility=C?"hidden":"visible"}const g=Jw(e,m.x),b=Jw(e,m.y);e.style.position=m.strategy,n.transform?(e.style.left="0",e.style.top="0",e.style.transform=`translate3d(${g}px,${b}px,0)`,kR(e)>=1.5&&(e.style.willChange="transform")):(e.style.left=`${g}px`,e.style.top=`${b}px`,e.style.removeProperty("transform"));const[y,E]=Ade(m.placement),T={"data-side":y,"data-align":E,"data-mounted":""};for(const[C,D]of Object.entries(T))e.setAttribute(C,D)},l=typeof n.autoUpdate=="boolean"?void 0:n.autoUpdate,u=n.autoUpdate?rde(t,e,a,l):void 0;return n.autoUpdate||a(),()=>{o=!0,u==null||u()}}function py(e){return{boundary:e.boundary,rootBoundary:e.rootBoundary,elementContext:e.elementContext,altBoundary:e.altBoundary,padding:e.overflowPadding}}function vde(e){if(e.offset!=null)return ide(e.offset)}function Tde(e){if(e.flip)return ode({...py(e),fallbackPlacements:e.flip===!0?void 0:e.flip,crossAxis:!1})}function wde(e){if(e.shift)return sde({...py(e),mainAxis:e.shift,crossAxis:e.overlap})}function xde(e){if(!(!e.fitViewport&&!e.sameWidth&&!e.sameHeight))return ade({...py(e),apply({elements:t,rects:n,availableHeight:r,availableWidth:i}){const s=t.floating;e.sameWidth&&(s.style.width=`${Math.round(n.reference.width)}px`),e.sameHeight&&(s.style.height=`${Math.round(n.reference.height)}px`),e.fitViewport&&(s.style.maxWidth=`${Math.floor(i)}px`,s.style.maxHeight=`${Math.floor(r)}px`)}})}function Cde(e){if(e.inline)return ude()}function Sde(e){if(e.hide)return lde({padding:e.overflowPadding,elementContext:"reference"})}function Jw(e,t){const n=kR(e);return Math.round(t*n)/n}function kR(e){return SR(e).devicePixelRatio||1}function Ade(e){const[t,n="center"]=e.split("-");return[t,n]}var kde=typeof HTMLElement<"u"&&Object.hasOwn(HTMLElement.prototype,"popover");function Ode(e){return jr(e)?e:e.contextElement}function OR(e,{state:t}){const n=fy.consume(e);IR(e,t,{reference:n})}function IR(e,t,n){pce(e,()=>{const r=_ce(t),i=n.reference.get();return()=>Ede(e,i,r)})}var hy={strategy:{default:"absolute"},placement:{default:"top"},autoUpdate:{default:!0},hoist:{default:!0},transform:{default:!1},offset:{default:6,fromAttribute:e=>{if(e!=null)try{return JSON.parse(e)}catch{return}},toAttribute:JSON.stringify},flip:{default:!0},shift:{default:!0},overlap:{default:!1},fitViewport:{default:!1},sameWidth:{default:!1},sameHeight:{default:!1},inline:{default:!1},hide:{default:!1},boundary:{default:"clippingAncestors"},rootBoundary:{default:"viewport"},overflowPadding:{default:4},elementContext:{default:"floating"},altBoundary:{default:!1}},my={};function NR(e){const t=Ni(null);fy.provide(e,t)}var Ide={},Nde={},Rde=class extends ji({props:yde,events:_de,setup:AR}){},Dde=class extends ji({props:hy,events:my,setup:OR}){},Mde=class extends ji({props:Ide,events:Nde,setup:NR}){};function RR(e,t){const n=Ni(t.peek());return ui(e,()=>{n.get()?Pde(e):Lde(e)}),ui(e,()=>{if(t.get()){n.set(!0);return}const r=e.getAnimations();if(r.length===0){n.set(!1);return}let i=!1;return Promise.allSettled(r.map(s=>s.finished)).then(()=>{i||n.set(!1)}),()=>{i=!0}}),n}function Pde(e){e.style.display==="none"&&(e.style.display="")}function Lde(e){e.style.display="none"}ha("aria-ui-overlay-anchor",Rde);ha("aria-ui-overlay-positioner",Dde);ha("aria-ui-overlay-root",Mde);const Bde="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict";let $de=(e=21)=>{let t="",n=crypto.getRandomValues(new Uint8Array(e|=0));for(;e--;)t+=Bde[n[e]&63];return t};var DR=Xc("tooltip/hovering",!1),MR=Xc("tooltip/focused",!1),gy=Xc("tooltip/open",!1),by=Xc("tooltip/id",null);function PR(e,{state:t,emit:n}){const r=gy.consume(e),i=by.consume(e),s=Ni(t.hoist.peek()),o=RR(e,r);ui(e,()=>{s.set(o.get()?t.hoist.get():!1)}),OR(e,{state:{...t,hoist:s}}),dR(e,"aria-hidden",()=>`${!r.get()}`),Ec(e,"id",()=>i.get()||void 0),Ec(e,"data-state",()=>r.get()?"open":"closed")}var yy={...hy},_y=my,Zw=0,Hm=0,Rd=null,nu=null;function LR(e,{state:t,emit:n}){NR(e);const r=Ni(!1),i=Ni(!1),s=B0(()=>r.get()||i.get()),o=Ni(!1),a=$de(),l=c=>{o.peek()!==c&&(o.set(c),n("openChange",c))},u=()=>{const c=Date.now();s.peek()?(c-Zw>=t.openDelay.peek()||nu&&c-Hm<=t.closeDelay.peek())&&(l(!0),Rd&&nu!==a&&Rd.set(!1),Rd=o,nu=a):c-Hm>=t.closeDelay.peek()&&(l(!1),nu===a&&(Rd=null,nu=null))};ui(e,()=>{s.get()?Zw=Date.now():Hm=Date.now();for(const c of new Set([0,t.openDelay.peek(),t.closeDelay.peek()]))setTimeout(u,c)}),DR.provide(e,r),MR.provide(e,i),gy.provide(e,B0(()=>o.get())),by.provide(e,Ni(a))}var Ey={openDelay:{default:700},closeDelay:{default:300},open:{default:!1}},vy={openChange:{}};function BR(e){AR(e);const t=DR.consume(e),n=MR.consume(e),r=gy.consume(e),i=by.consume(e);Sa(e,"pointerenter",()=>{t.set(!0)}),Sa(e,"pointerleave",()=>{t.set(!1)}),Sa(e,"focusin",()=>{n.set(!0)}),Sa(e,"focusout",()=>{n.set(!1)});const s=()=>{t.set(!1),n.set(!1)};Sa(e,"click",s),Sa(e,"keydown",s),dR(e,"aria-describedby",()=>{const o=r.get(),a=i.get();return o&&a?a:void 0})}var Ty={},wy={};(class extends ji({props:yy,events:_y,setup:PR}){});(class extends ji({props:Ey,events:vy,setup:LR}){});(class extends ji({props:Ty,events:wy,setup:BR}){});var Fde=class extends ji({props:yy,events:_y,setup:PR}){};ha("prosekit-tooltip-content",Fde);var Ude=class extends ji({props:Ey,events:vy,setup:LR}){};ha("prosekit-tooltip-root",Ude);var Hde=class extends ji({props:Ty,events:wy,setup:BR}){};ha("prosekit-tooltip-trigger",Hde);var zde=uh("prosekit-tooltip-content","TooltipContent",Object.keys(yy),Object.keys(_y)),Vde=uh("prosekit-tooltip-root","TooltipRoot",Object.keys(Ey),Object.keys(vy)),jde=uh("prosekit-tooltip-trigger","TooltipTrigger",Object.keys(Ty),Object.keys(wy));const qde=["data-state","disabled"],Wde={key:0,class:"sr-only"},sn=rr({__name:"ProsekitButton",props:{pressed:{type:Boolean},disabled:{type:Boolean},tooltip:{}},emits:["click"],setup(e,{emit:t}){const n=t;return(r,i)=>(x(),pe(_e(Vde),null,{default:W(()=>[U(_e(jde),{class:"block"},{default:W(()=>[S("button",{"data-state":r.pressed?"on":"off",disabled:r.disabled?!0:void 0,class:"outline-unset focus-visible:outline-unset flex items-center justify-center rounded-md p-2 font-medium transition focus-visible:ring-2 text-sm focus-visible:ring-zinc-900 dark:focus-visible:ring-zinc-300 disabled:pointer-events-none min-w-9 min-h-9 disabled:opacity-50 hover:disabled:opacity-50 bg-transparent hover:bg-zinc-100 dark:hover:bg-zinc-800 data-[state=on]:bg-gray-200 dark:data-[state=on]:bg-gray-700",onClick:i[0]||(i[0]=()=>n("click")),onMousedown:i[1]||(i[1]=Qu(()=>{},["prevent"]))},[ke(r.$slots,"default"),r.tooltip?(x(),P("span",Wde,ye(r.tooltip),1)):Oe("",!0)],40,qde)]),_:3}),r.tooltip?(x(),pe(_e(zde),{key:0,class:"z-50 overflow-hidden rounded-md border border-solid bg-zinc-900 dark:bg-zinc-50 px-3 py-1.5 text-xs text-zinc-50 dark:text-zinc-900 shadow-sm [&:not([data-state])]:hidden will-change-transform data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=open]:fade-in-0 data-[state=closed]:fade-out-0 data-[state=open]:zoom-in-95 data-[state=closed]:zoom-out-95 data-[state=open]:animate-duration-150 data-[state=closed]:animate-duration-200 data-[side=bottom]:slide-in-from-top-2 data-[side=bottom]:slide-out-to-top-2 data-[side=left]:slide-in-from-right-2 data-[side=left]:slide-out-to-right-2 data-[side=right]:slide-in-from-left-2 data-[side=right]:slide-out-to-left-2 data-[side=top]:slide-in-from-bottom-2 data-[side=top]:slide-out-to-bottom-2"},{default:W(()=>[Ae(ye(r.tooltip),1)]),_:1})):Oe("",!0)]),_:3}))}}),Yde={class:"z-2 box-border border-zinc-200 dark:border-zinc-800 border-solid border-l-0 border-r-0 border-t-0 border-b flex flex-wrap gap-1 p-2 items-center"},Gde=rr({__name:"ProsekitToolbar",setup(e){const t=iR({update:!0});return(n,r)=>(x(),P("div",Yde,[U(sn,{pressed:!1,disabled:!_e(t).commands.undo.canExec(),onClick:r[0]||(r[0]=()=>_e(t).commands.undo())},{default:W(()=>r[14]||(r[14]=[S("div",{class:"i-lucide-undo-2 h-5 w-5"},null,-1)])),_:1},8,["disabled"]),U(sn,{pressed:!1,disabled:!_e(t).commands.redo.canExec(),onClick:r[1]||(r[1]=()=>_e(t).commands.redo())},{default:W(()=>r[15]||(r[15]=[S("div",{class:"i-lucide-redo-2 h-5 w-5"},null,-1)])),_:1},8,["disabled"]),U(sn,{pressed:_e(t).marks.bold.isActive(),disabled:!_e(t).commands.toggleBold.canExec(),onClick:r[2]||(r[2]=()=>_e(t).commands.toggleBold())},{default:W(()=>r[16]||(r[16]=[S("div",{class:"i-lucide-bold h-5 w-5"},null,-1)])),_:1},8,["pressed","disabled"]),U(sn,{pressed:_e(t).marks.italic.isActive(),disabled:!_e(t).commands.toggleItalic.canExec(),onClick:r[3]||(r[3]=()=>_e(t).commands.toggleItalic())},{default:W(()=>r[17]||(r[17]=[S("div",{class:"i-lucide-italic h-5 w-5"},null,-1)])),_:1},8,["pressed","disabled"]),U(sn,{pressed:_e(t).marks.underline.isActive(),disabled:!_e(t).commands.toggleUnderline.canExec(),onClick:r[4]||(r[4]=()=>_e(t).commands.toggleUnderline())},{default:W(()=>r[18]||(r[18]=[S("div",{class:"i-lucide-underline h-5 w-5"},null,-1)])),_:1},8,["pressed","disabled"]),U(sn,{pressed:_e(t).nodes.horizontalRule.isActive(),disabled:!_e(t).commands.insertHorizontalRule.canExec(),onClick:r[5]||(r[5]=()=>_e(t).commands.insertHorizontalRule())},{default:W(()=>r[19]||(r[19]=[S("div",{class:"i-lucide-minus h-5 w-5"},null,-1)])),_:1},8,["pressed","disabled"]),U(sn,{pressed:_e(t).nodes.list.isActive({kind:"bullet"}),disabled:!_e(t).commands.toggleList.canExec({kind:"bullet"}),onClick:r[6]||(r[6]=()=>_e(t).commands.toggleList({kind:"bullet"}))},{default:W(()=>r[20]||(r[20]=[S("div",{class:"i-lucide-list h-5 w-5"},null,-1)])),_:1},8,["pressed","disabled"]),U(sn,{pressed:_e(t).nodes.list.isActive({kind:"ordered"}),disabled:!_e(t).commands.toggleList.canExec({kind:"ordered"}),onClick:r[7]||(r[7]=()=>_e(t).commands.toggleList({kind:"ordered"}))},{default:W(()=>r[21]||(r[21]=[S("div",{class:"i-lucide-list-ordered h-5 w-5"},null,-1)])),_:1},8,["pressed","disabled"]),U(sn,{pressed:!1,disabled:!_e(t).commands.indentList.canExec(),onClick:r[8]||(r[8]=()=>_e(t).commands.indentList())},{default:W(()=>r[22]||(r[22]=[S("div",{class:"i-lucide-indent-increase h-5 w-5"},null,-1)])),_:1},8,["disabled"]),U(sn,{pressed:!1,disabled:!_e(t).commands.dedentList.canExec(),onClick:r[9]||(r[9]=()=>_e(t).commands.dedentList())},{default:W(()=>r[23]||(r[23]=[S("div",{class:"i-lucide-indent-decrease h-5 w-5"},null,-1)])),_:1},8,["disabled"]),U(sn,{pressed:_e(t).nodes.blockquote.isActive(),disabled:!_e(t).commands.toggleBlockquote.canExec(),onClick:r[10]||(r[10]=()=>_e(t).commands.toggleBlockquote())},{default:W(()=>r[24]||(r[24]=[S("div",{class:"i-lucide-quote h-5 w-5"},null,-1)])),_:1},8,["pressed","disabled"]),U(sn,{pressed:_e(t).nodes.heading.isActive({level:1}),disabled:!_e(t).commands.toggleHeading.canExec({level:1}),onClick:r[11]||(r[11]=()=>_e(t).commands.toggleHeading({level:1}))},{default:W(()=>r[25]||(r[25]=[S("div",{class:"i-lucide-heading-1 h-5 w-5"},null,-1)])),_:1},8,["pressed","disabled"]),U(sn,{pressed:_e(t).nodes.heading.isActive({level:2}),disabled:!_e(t).commands.toggleHeading.canExec({level:2}),onClick:r[12]||(r[12]=()=>_e(t).commands.toggleHeading({level:2}))},{default:W(()=>r[26]||(r[26]=[S("div",{class:"i-lucide-heading-2 h-5 w-5"},null,-1)])),_:1},8,["pressed","disabled"]),U(sn,{pressed:_e(t).nodes.heading.isActive({level:3}),disabled:!_e(t).commands.toggleHeading.canExec({level:3}),onClick:r[13]||(r[13]=()=>_e(t).commands.toggleHeading({level:3}))},{default:W(()=>r[27]||(r[27]=[S("div",{class:"i-lucide-heading-3 h-5 w-5"},null,-1)])),_:1},8,["pressed","disabled"])]))}});function xy(e,t,n){ui(e,()=>{var r;return(r=t.get())==null?void 0:r.use(n)})}function Kde(e,t,n){const r=Rie(n);xy(e,t,r)}function Xde(e,t,n){const r=W1(n);xy(e,t,r)}function Qde(e,t,n){const r=yi(n);return xy(e,t,r)}function Jde(e){if(typeof window>"u"||e.isDestroyed)return;const t=e.state.selection;if(!t.empty&&!hN(t)&&yI(t)&&tse(e.state.doc,t.from,t.to))return Zde(e)||tfe(e)}function Zde(e){const t=efe(e);if(t)return{contextElement:e.dom,getBoundingClientRect:()=>t.getBoundingClientRect(),getClientRects:()=>t.getClientRects()}}function efe(e){const t=e.dom.ownerDocument.defaultView,n=t==null?void 0:t.getSelection();if(!n||n.isCollapsed)return;const r=typeof n.rangeCount=="number"&&n.rangeCount>0&&n.getRangeAt(0);if(r)return r}function tfe(e){const t=e.dom.querySelectorAll(".prosekit-virtual-selection");if(t.length===0)return;if(t.length===1)return t[0];const n=Array.from(t);return{contextElement:n[0],getBoundingClientRect:()=>n[0].getBoundingClientRect(),getClientRects:()=>n.map(r=>r.getBoundingClientRect())}}function nfe(e,{state:t,emit:n}){const{editor:r,defaultOpen:i,open:s,...o}=t,a=rfe(e,r),l=B0(()=>!!a.get());ui(e,()=>{const u=l.get(),c=i.peek(),d=s.peek();(c||d)&&n("openChange",u)}),ui(e,()=>{const u=l.get(),c=i.peek();u&&c?s.set(!0):u||s.set(!1)}),Qde(e,r,{Escape:()=>!t.dismissOnEscape.peek()||!s.peek()?!1:(s.set(!1),n("openChange",!1),!0)}),IR(e,o,{reference:a}),Ec(e,"data-state",()=>s.get()?"open":"closed"),RR(e,s)}function rfe(e,t){const n=Ni(null);let r=!1;return Kde(e,t,i=>{r=i}),Xde(e,t,i=>{!r&&e.contains(e.ownerDocument.activeElement)||n.set(Jde(i)||null)}),n}var $R=Object.freeze({...hy,editor:{default:null},defaultOpen:{default:!0},open:{default:!1},dismissOnEscape:{default:!0},placement:{default:"top"},offset:{default:12},hide:{default:!0},overlap:{default:!0},inline:{default:!0},overflowPadding:{default:8}}),FR={...my,openChange:{}},ife=class extends ji({props:$R,events:FR,setup:nfe}){};ha("prosekit-inline-popover",ife);var ex=uh("prosekit-inline-popover","InlinePopover",Object.keys($R),Object.keys(FR));const sfe=["defaultValue"],ofe=rr({__name:"ProsekitInlineMenu",setup(e){const t=iR({update:!0}),n=_t(!1);function r(a){n.value=a}function i(){n.value=!n.value}function s(a){const{$from:l}=a.selection,u=l.marksAcross(l);if(u){for(const c of u)if(c.type.name==="link")return c.attrs.href}}function o(a){a?t.value.commands.addLink({href:a}):t.value.commands.removeLink(),n.value=!1,t.value.focus()}return(a,l)=>(x(),P(Ge,null,[U(_e(ex),{"data-testid":"inline-menu-main",class:"z-10 box-border border border-zinc-200 bg-white shadow-lg [&:not([data-state])]:hidden relative flex min-w-[8rem] space-x-1 overflow-auto whitespace-nowrap rounded-md p-1"},{default:W(()=>[U(sn,{pressed:_e(t).marks.bold.isActive(),disabled:!_e(t).commands.toggleBold.canExec(),tooltip:"Bold",onClick:l[0]||(l[0]=()=>_e(t).commands.toggleBold())},{default:W(()=>l[7]||(l[7]=[S("div",{class:"i-lucide-bold h-5 w-5"},null,-1)])),_:1},8,["pressed","disabled"]),U(sn,{pressed:_e(t).marks.italic.isActive(),disabled:!_e(t).commands.toggleItalic.canExec(),tooltip:"Italic",onClick:l[1]||(l[1]=()=>_e(t).commands.toggleItalic())},{default:W(()=>l[8]||(l[8]=[S("div",{class:"i-lucide-italic h-5 w-5"},null,-1)])),_:1},8,["pressed","disabled"]),U(sn,{pressed:_e(t).marks.underline.isActive(),disabled:!_e(t).commands.toggleUnderline.canExec(),tooltip:"Underline",onClick:l[2]||(l[2]=()=>_e(t).commands.toggleUnderline())},{default:W(()=>l[9]||(l[9]=[S("div",{class:"i-lucide-underline h-5 w-5"},null,-1)])),_:1},8,["pressed","disabled"]),_e(t).commands.addLink.canExec({href:""})?(x(),pe(sn,{key:0,pressed:_e(t).marks.link.isActive(),tooltip:"Link",onClick:l[3]||(l[3]=()=>{_e(t).commands.expandLink(),i()})},{default:W(()=>l[10]||(l[10]=[S("div",{class:"i-lucide-link h-5 w-5"},null,-1)])),_:1},8,["pressed"])):Oe("",!0)]),_:1}),U(_e(ex),{placement:"bottom","default-open":!1,open:n.value,"data-testid":"inline-menu-link",class:"z-10 box-border border border-zinc-200 bg-white shadow-lg [&:not([data-state])]:hidden relative flex flex-col w-xs rounded-lg p-4 gap-y-2 items-stretch",onOpenChange:r},{default:W(()=>[n.value?(x(),P("form",{key:0,onSubmit:l[4]||(l[4]=Qu(u=>{var f,p;const c=u.target,d=(p=(f=c==null?void 0:c.querySelector("input"))==null?void 0:f.value)==null?void 0:p.trim();o(d)},["prevent"]))},[S("input",{placeholder:"Paste the link...",defaultValue:s(_e(t).state),class:"flex h-9 rounded-md w-full bg-white px-3 py-2 text-sm placeholder:text-zinc-500 transition border box-border border-zinc-200 border-solid ring-0 ring-transparent focus-visible:ring-2 focus-visible:ring-zinc-900 focus-visible:ring-offset-0 outline-none focus-visible:outline-none file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:cursor-not-allowed disabled:opacity-50"},null,8,sfe)],32)):Oe("",!0),_e(t).marks.link.isActive()?(x(),P("button",{key:1,class:"inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-white transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-zinc-900 focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 border-0 bg-zinc-900 text-zinc-50 hover:bg-zinc-900/90 h-9 px-3",onClick:l[5]||(l[5]=u=>o()),onMousedown:l[6]||(l[6]=Qu(()=>{},["prevent"]))}," Remove link ",32)):Oe("",!0)]),_:1},8,["open"])],64))}}),afe={class:"box-border h-full w-full min-h-36 overflow-y-hidden overflow-x-hidden rounded-md border border-solid border-gray-200 shadow flex flex-col bg-white"},lfe={class:"relative w-full flex-1 box-border overflow-y-scroll"},ufe={__name:"RichTextEditor",props:{modelValue:{type:String,required:!0},markdownFormat:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(e,{emit:t}){const n=e,r=t,i=due(),s=u=>n.markdownFormat?Xv(u):r0.sanitize(u),o=s(n.modelValue),a=_re({extension:i,defaultContent:o});Wue(()=>{const u=n.markdownFormat?Xv(a.getDocHTML()):r0.sanitize(a.getDocHTML());r("update:modelValue",u)},{editor:a});const l=_t(null);return sg(u=>{a.mount(l.value),u(()=>a.unmount())}),sg(()=>{const u=s(n.modelValue);a.getDocHTML()!==u&&a.setContent(u)}),(u,c)=>(x(),pe(_e(que),{editor:_e(a)},{default:W(()=>[S("div",afe,[U(Gde),U(ofe),S("div",lfe,[S("div",{ref_key:"editorRef",ref:l,class:'ProseMirror box-border min-h-full px-4 py-4 outline-none outline-0 [&_span[data-mention="user"]]:text-blue-500 [&_span[data-mention="tag"]]:text-violet-500'},null,512)])])]),_:1},8,["editor"]))}},cfe={name:"ComponentName",components:{RichTextEditor:ufe},props:{modelValue:{type:Object,default:()=>({})}},emits:["update:email"],data(){return{}},computed:{group(){return this.$store.getters["groups/currentItemOrNew"]},workingEmail:{get(){return this.modelValue},set(e){this.emitEmailUpdate(e)}},application(){return this.group.expert_panel},emailCced(){return this.application.current_step===1||this.application.current_step===4},ccAddresses(){return this.modelValue.cc.map(e=>e.address).join(", ")}},methods:{handleAttachments(){this.emitEmailUpdate(this.workingEmail)},emitEmailUpdate(e){const t={...e};Array.from(this.$refs.attachmentsField.files).forEach(n=>{t.files.push(n)}),this.$emit("update:email",e)}}},dfe={key:1},ffe={key:0},pfe={key:1,class:"text-gray-500"};function hfe(e,t,n,r,i,s){const o=Y("static-alert"),a=Y("router-link"),l=Y("dictionary-row"),u=Y("truncate-expander"),c=Y("input-row"),d=Y("RichTextEditor"),f=Y("note");return x(),P("div",null,[t[5]||(t[5]=S("h4",{class:"font-bold border-b"}," Email ",-1)),U(l,{label:"To","label-class":"w-36"},{default:W(()=>[s.group.hasContacts?Oe("",!0):(x(),pe(o,{key:0,class:"flex-1",variant:"danger"},{default:W(()=>t[3]||(t[3]=[Ae(" There are no contacts to notify!! ")])),_:1})),s.group.hasContacts?(x(),P("ul",dfe,[(x(!0),P(Ge,null,$t(s.workingEmail.to,p=>(x(),P("li",{key:p.email},[U(a,{to:{name:"PersonDetail",params:{uuid:p.uuid}},class:"text-blue-600 hover:underline",target:"person"},{default:W(()=>[Ae(ye(p.name)+" <"+ye(p.email)+"> ",1)]),_:2},1032,["to"])]))),128))])):Oe("",!0)]),_:1}),U(l,{label:"Cc","label-class":"w-36"},{default:W(()=>[s.workingEmail.cc.length>0?(x(),P("div",ffe,[U(u,{value:s.ccAddresses,"truncate-length":100},null,8,["value"])])):(x(),P("div",pfe," None "))]),_:1}),U(c,{label:"Subject"},{default:W(()=>[Ct(S("input",{"onUpdate:modelValue":t[0]||(t[0]=p=>s.workingEmail.subject=p),type:"text",class:"w-full"},null,512),[[Us,s.workingEmail.subject]])]),_:1}),U(c,{label:"Body"},{default:W(()=>[U(d,{modelValue:s.workingEmail.body,"onUpdate:modelValue":t[1]||(t[1]=p=>s.workingEmail.body=p)},null,8,["modelValue"])]),_:1}),U(c,{label:"Attachments"},{default:W(()=>[S("input",{ref:"attachmentsField",type:"file",multiple:"",onChange:t[2]||(t[2]=(...p)=>s.handleAttachments&&s.handleAttachments(...p))},null,544)]),_:1}),s.emailCced?(x(),pe(f,{key:0},{default:W(()=>t[4]||(t[4]=[Ae(" ClinGen Services will be carbon copied on this email. ")])),_:1})):Oe("",!0)])}const mfe=ne(cfe,[["render",hfe]]),gfe=Object.freeze(Object.defineProperty({__proto__:null,default:mfe},Symbol.toStringTag,{value:"Module"})),bfe={name:"RequirementsItem",props:{requirement:{type:Object,required:!0}}},yfe={class:"flex space-x-2"};function _fe(e,t,n,r,i,s){const o=Y("icon-checkmark"),a=Y("icon-exclamation");return x(),P("div",yfe,[n.requirement.isMet?(x(),pe(o,{key:0,class:"text-green-600"})):(x(),pe(a,{key:1,class:"text-yellow-400"})),S("div",null,ye(n.requirement.label),1)])}const Efe=ne(bfe,[["render",_fe]]),vfe={name:"RequirementsBadge",components:{RequirementsItem:Efe},props:{section:{type:Object,required:!0}},data(){return{}},computed:{group(){return this.$store.getters["groups/currentItemOrNew"]},meetsRequirements(){return this.section.meetsRequirements(this.group)},badgeColor(){return this.meetsRequirements?"green":"yellow"},badgeText(){return`Requirements: ${this.section.metRequirements(this.group).length} / ${this.section.requirements.length}`},evaledRequirements(){return this.section.evaluateRequirements(this.group)},hasRequirements(){return this.section.hasRequirements}},methods:{}},Tfe={key:0};function wfe(e,t,n,r,i,s){const o=Y("RequirementsItem"),a=Y("badge"),l=Y("popover");return s.hasRequirements?(x(),P("div",Tfe,[U(l,{arrow:"",hover:""},{content:W(()=>[S("div",null,[(x(!0),P(Ge,null,$t(s.evaledRequirements,(u,c)=>(x(),pe(o,{key:c,requirement:u},null,8,["requirement"]))),128))])]),default:W(()=>[U(a,{color:s.badgeColor,class:"cursor-pointer"},{default:W(()=>[Ae(ye(s.badgeText),1)]),_:1},8,["color"])]),_:1})])):Oe("",!0)}const xfe=ne(vfe,[["render",wfe]]);class po{constructor(t={}){this.attributes={},this.setAttributes({...this.constructor.defaults,...t}),this.original={},this.setOriginal(this.attributes);for(const n in this.attributes)this.defineAttributeGettersAndSetters(n)}setAttributes(t){this.attributes=wg(t)}setOriginal(t){this.original=wg(t)}defineAttributeGettersAndSetters(t){let n=i=>{this.attributes[t]=i},r=()=>this.attributes[t];this.constructor.dates.includes(t)&&(r=()=>this.attributes[t]?new Date(Date.parse(this.attributes[t])):null,n=i=>{this.attributes[t]=i?new Date(Date.parse(i)):null}),Object.defineProperty(this,t,{get:r,set:n})}setAttribute(t,n=null){typeof Object.getOwnPropertyDescriptor(this,t)>"u"&&this.defineAttributeGettersAndSetters(t),this[t]=n}isPersisted(){return!!this.attributes.id}clone(){return new this.constructor(this.attributes)}getAttributes(){return this.attributes}getOriginal(){return this.original}clearChanges(){this.original={}}isDirty(t=null){return t?this.original[t]!==this.attributes[t]:Object.keys(this.original).some(n=>!Sf(this.original[n],this.attributes[n]))}getDirty(t=null){if(!this.isDirty(t))return{};let n=Object.keys(this.original);t&&(Array.isArray(t)&&(n=t),typeof t=="string"&&(n=[t]));const r={};return n.forEach(i=>{this.isDirty(i)&&(r[i]={original:this.original[i],new:this.attributes[i]})}),r}revertDirty(){this.attributes={...this.attributes,...this.original},this.clearChanges()}}Bn(po,"defaults",{created_at:null,updated_at:null,deleted_at:null}),Bn(po,"dates",["updated_at","created_at","deleted_at"]);const zu=class zu extends po{constructor(t={}){t instanceof zu&&(t={...t.attributes,memberships:[t.memberships.map(i=>i.attributes)]});const n=t.memberships||[];delete t.memberships;const r=t.mailLog||[];delete t.mailLog,super({...t}),this.memberships=n.map(i=>new no(i)),this.mailLog=r}get institutionName(){return this.institution?this.institution.name:null}get credentialsString(){return this.credentials?this.credentials.map(t=>t.name).join(", "):null}get primaryOccupationName(){return this.primary_occupation_id===100?this.primary_occupation_other:this.primary_occupation?this.primary_occupation.name:null}get raceName(){return this.race_id===100?this.race_other||"Other":this.race?this.race.name:null}get ethnicityName(){return this.ethnicity?this.ethnicity.name:null}get genderName(){return this.gender_id===100?this.gender_other||"Not specified.":this.gender?this.gender.name:null}get membershipsWithPendingCois(){return this.membershipsWithCoiRequirement.filter(t=>t.coi_needed)}get membershipsWithCompletedCois(){return this.membershipsWithCoiRequirement.filter(t=>!t.coi_needed)}get membershipsWithOutdatedCois(){return this.membershipsWithCoiRequirement.filter(t=>t.coi_needed&&t.cois.length>0)}get completedCois(){return this.membershipsWithCompletedCois.map(t=>t.cois).flat()}get hasPendingCois(){return this.membershipsWithPendingCois.length>0}get hasCompletedCois(){return this.membershipsWithCompletedCois.length>0}get hasOutdatedCois(){return this.membershipsWithOutdatedCois.length>0}get expertPanelMemberships(){return this.memberships.filter(t=>[3,4].includes(t.group.group_type_id))}get membershipsWithCoiRequirement(){return this.memberships.filter(t=>t.has_coi_requirement)}get needsCredentials(){return!this.credentials||this.credentials.length===0}get hasExpertise(){return this.expertises&&this.expertises.length>0}get needsExpertise(){return!this.hasExpertise}matchesKeyword(t){const{first_name:n,last_name:r,email:i}=this.attributes,s=new RegExp(t,"i");if(n&&n.toLowerCase().match(s)||r&&r.toLowerCase().match(s)||i&&i.toLowerCase().match(s))return!0;if(n&&r){const o=`${n} ${r}`;if(o&&o.toLowerCase().match(s))return!0}return!1}};Bn(zu,"defaults",{uuid:null,first_name:null,last_name:null,email:null,phone:null,institution_id:null,institution:{},credentials:[],expertises:[],primary_occupation_id:null,primary_occupation:{},profile_photo:null,race_id:null,race:{},race_other:null,ethnicity_id:null,ethnicity:{},ethnicity_other:null,gender_id:null,gender:{},gender_other:null,created_at:null,updated_at:null,deleted_at:null}),Bn(zu,"dates",["created_at","updated_at","deleted_at"]);let gs=zu;const Fu=(e,t)=>t?typeof e=="string"?t.map(n=>n.name).includes(e):typeof e=="object"?t.map(n=>n.id).includes(e.id):t.map(n=>n.id).includes(e):!1,kye=e=>an.appFeatures[rS(e)],zm=an.groups.roles,tx=e=>{let t=e;if(typeof t=="string"&&(t=Object.values(zm).find(n=>n.name===e)),typeof t=="number"&&(t=Object.values(zm).find(n=>n.id===e)),typeof t!="object"||!t||!Object.values(zm).includes(t)){let n=e;throw typeof e=="object"&&(n=JSON.stringify(e)),new Error(`Role not found for identifier ${n}`)}return t},Vu=class Vu extends po{constructor(t={}){t instanceof Vu&&(t={...t.attributes,person:t.person.attributes});const n=t.person;delete t.person,super(t),this.person=n?new gs(n):new gs}get latestCoiDate(){return this.attributes.coi_last_completed?this.attributes.coi_last_completed:null}get first_name(){return this.person.first_name}set first_name(t){this.person.first_name=t}get last_name(){return this.person.last_name}set last_name(t){this.person.last_name=t}get email(){return this.person.email}set email(t){this.person.email=t}get isActive(){return this.attributes.end_date===null}get isRetired(){return!this.isActive}get roleIds(){return this.roles.map(t=>t.id)}get roleNames(){return this.roles.map(t=>t.name)}get addedRoles(){const t=this.original.roles;return this.roles.filter(n=>!t.map(r=>r.id).includes(n.id))}get removedRoles(){return this.original.roles.filter(n=>!this.roles.map(r=>r.id).includes(n.id))}get needsCoi(){if(!this.latestCoiDate)return!0;const t=new Date,n=new Date;return n.setFullYear(t.getFullYear()-1),this.latestCoiDate.valueOf()<=n.valueOf()}get hasLegacyExpertise(){return this.legacy_expertise!==null&&typeof this.legacy_expertise<"u"&&this.legacy_expertise!==""}get hasAnyExpertise(){return this.hasLegacyExpertise||this.person.hasExpertise}matchesKeyword(t){if(this.person.matchesKeyword(t))return!0;const n=new RegExp(`.*${t}.*`,"i");return!!(this.attributes.notes&&this.attributes.notes.match(n)||this.attributes.expertise&&this.attributes.expertise.match(n))}addRole(t){this.hasRole(t)||this.roles.push(tx(t))}addRoles(t){t.forEach(n=>this.addRole(n))}removeRole(t){if(this.hasRole(t)){const n=tx(t),r=this.roles.findIndex(i=>i.id===n.id);this.roles.splice(r,1)}}removeRoles(t){t.forEach(n=>this.removeRole(n))}hasRole(t){return Fu(t,this.roles)}hasPermission(t){return this.hasDirectPermission(t)||this.hasPermissionThroughRole(t)}hasDirectPermission(t){return Fu(t,this.attributes.permissions)}hasPermissionThroughRole(t){let n=t;if(typeof n=="object"&&(n=t.id),typeof n=="string"){if(!an.groups.permissions[t])throw new Error(`Can not find permission ${t} in configs`);n=an.groups.permissions[t].id}const r=this.roles.map(i=>i.name.toLowerCase());for(const i in an.groups.rolePermissions)if(r.includes(i)&&an.groups.rolePermissions[i].includes(n))return!0;return!1}coiUpToDate(){if(!this.coi_last_completed)return!1;const t=new Date;return t.setFullYear(t.getFullYear()-1),Date.parse(t)<=this.coi_last_completed}trainingComplete(){return this.attributes.needs_training?!!this.attributes.training_completed_at:!0}clone(){const t=this.person;return new this.constructor({...this.attributes,person:t.attributes})}};Bn(Vu,"dates",["start_date","end_date","coi_last_completed"]),Bn(Vu,"defaults",{person_id:null,group_id:null,start_date:null,end_date:null,v1_contact:!1,roles:[],permissions:[],coi_last_completed:null,coi_needed:null,expertise:null,notes:null,training_level_1:null,training_level_2:null});let no=Vu;const Dd={1:"Definition",2:"Draft",3:"Pilot",4:"Sustained Curation"},{submissions:Cfe}=an;class H0 extends po{constructor(t={}){const n=t.specifications?[...t.specifications]:[];delete t.specifications;const r=t.genes?[...t.genes]:[];delete t.genes;const i=t.submissions?[...t.submissions]:[];delete t.submissions;const s=t.documents?[...t.documents]:[];delete t.documents;const o=t.next_actions?[...t.next_actions]:[];delete t.next_actions,super(t),this.specfications=n,this.genes=r,this.submissions=i,this.documents=s,this.nextActions=o}get next_actions(){return this.nextActions}get nhgriSigned(){return!!this.attributes.nhgri_attestation_date}set nhgriSigned(t){this.attributes.nhgri_attestation_date=t?new Date:null}get approvedDraftSpecifications(){return[]}get approvedPilotedSpecifications(){return[]}get defIsApproved(){return this.step_1_approval_date!==null}get definitionIsApproved(){return this.step_1_approval_date!==null}get draftSpecificationsIsApproved(){return this.step_2_approval_date!==null}get draftSpecApproved(){return this.step_2_approval_date!==null}get pilotSpecificationsIsApproved(){return this.step_3_approval_date!==null}get pilotSpecApproved(){return this.step_3_approval_date!==null}get sustainedCurationIsApproved(){return this.step_4_approval_date!==null}get pendingSubmission(){return this.submissions.find(t=>t.is_pending)||{}}get hasPendingSubmission(){return this.submissions.filter(t=>t.is_pending).length>0}get hasPendingSubmissionForCurrentStep(){return this.hasPendingSubmission&&this.pendingSubmission.type.name===this.currentStepName}get hasCompletedSubmission(){return this.submissions.filter(t=>t.submission_status_id===Cfe.statuses.approved.id&&this.pendingSubmission.type.name===this.currentStepName)}get isCompleted(){return!!this.attributes.date_completed}get steps(){if(this.expert_panel_type_id===1)return[1];if(this.expert_panel_type_id===2||this.expert_panel_type_id===null)return[1,2,3,4];throw new Error("Unknown expert_panel_type_id found when determining applicaiton steps.")}get currentStepName(){switch(this.current_step){case 1:return"Definition";case 2:return"Draft Specifications";case 3:return"Pilot Specifications";case 4:return"Sustained Curation";default:throw new Error("Unknown step ".this.current_step)}}get currentStepAbbr(){switch(this.current_step){case 1:return"Definition";case 2:return"Draft";case 3:return"Pilot";case 4:return"Sustained";default:throw new Error("Unknown step ".this.current_step)}}get pendingNextActions(){return this.next_actions?this.next_actions.filter(t=>t.date_completed===null):[]}get pendingActionsByAssignee(){const t=Object.values(an.nextActions.assignees).map(r=>r.id),n={};for(const r in t){const i=t[r];n[i]=[]}if(!this.next_actions)return n;for(const r in this.pendingNextActions){const i=this.pendingNextActions[r].assigned_to;n[i].push(this.pendingNextActions[r])}return n}get isApplying(){return this.date_completed===null}submissionsForStep(t){const n=typeof t=="number"?Dd[t]:t;return this.submissions.filter(r=>r.type.name=n)}hasPendingSubmissionForStep(t){return this.hasPendingSubmission&&this.pendingSubmission.type.name===t}hasPendingSubmissionForStepNumber(t){return this.hasPendingSubmission&&this.pendingSubmission.type.name===Dd[t]}latestPendingSubmissionForStep(t){const n=typeof t=="number"?Dd[t]:t,r=this.submissions.filter(i=>i.type.name=n);return r.length===0?null:r[r.length-1]}stepHasBeenSubmitted(t){return this.submissions.some(n=>n.type.name===Dd[t])}isWaitingOnCdwgOc(){return this.pendingActionsAssigneeCounts.cdwg_oc>0}isWaitingOnExpertPanel(){return this.pendingActionsAssigneeCounts.expert_panel>0}stepIsApproved(t){if(!t)return!1;if(!this.steps.includes(t))throw new Error(`Step ${t} out of bounds`);return!!this[`step_${t}_approval_date`]}approvalDateForStep(t){if(!this.steps.includes(t))throw new Error(`Step ${t} out of bounds`);const n=`step_${t}_approval_date`;return this[n]?new Date(Date.parse(this[n])):null}updateApprovalDate(t,n){if(!this.steps.includes(n))throw new Error(`Step ${n} out of bounds`);const r=`step_${n}_approval_date`;this[r]=t}firstDocumentOfType(t){return this.documents.filter(r=>r.document_type_id===t).sort((r,i)=>r.date_reviewed===i.date_reviewed?r.version>i.version?1:-1:r.date_reviewed>i.date_reviewed?1:-1)[0]||{}}finalDocumentOfType(t){const n=this.documents.filter(r=>r.document_type_id===t).sort((r,i)=>r.date_reviewed===i.date_reviewed?r.version>i.version?1:-1:r.date_reviewed>i.date_reviewed?1:-1);return n[n.length-1]||{}}}Bn(H0,"dates",["date_completed","date_initiated","step_1_received_date","step_1_approval_date","step_2_approval_date","step_3_approval_date","step_4_received_date","step_4_approval_date","created_at","updated_at","deleted_at","gcep_attestation_date","gci_training_date","nhgri_attestation_date","reanalysis_attestation_date"]),Bn(H0,"defaults",{id:null,uuid:null,group_id:null,expert_panel_type_id:null,long_base_name:null,short_base_name:null,affiliation_id:null,current_step:1,date_initiated:null,step_1_received_date:null,step_1_approval_date:null,step_2_approval_date:null,step_3_approval_date:null,step_4_received_date:null,step_4_approval_date:null,date_completed:null,coi_code:null,hypothesis_group:null,membership_description:null,scope_description:null,nhgri_attestation_date:null,curation_review_protocol_id:null,curation_review_protocol_other:null,curation_review_process_notes:null,meeting_frequency:null,reanalysis_conflicting:null,reanalysis_review_lp:null,reanalysis_review_lb:null,reanalysis_other:null,reanalysis_attestation_date:null,utilize_gt:null,utilize_gci:null,curations_publicly_available:null,pub_policy_reviewed:null,biocurator_training:null,biocurator_mailing_list:null,draft_manuscripts:null,gci_training_date:null,gcep_attestation_date:null,recuration_process_review:null,review_protocol:{},type:{},evidence_summaries:[]});const ju=class ju extends po{constructor(t={}){t instanceof ju&&(t={...t.attributes,members:[t.members.map(s=>s.attributes)],expert_panel:t.expert_panel.attributes});const n=t.members?[...t.members]:[];delete t.members;const r=t.documents?[...t.documents]:[];delete t.documents;const i=t.expert_panel?{...t.expert_panel}:{};delete t.expert_panel,super(t),this.members=[],n&&n.forEach(s=>this.addMember(s)),this.expert_panel=new H0(i),this.documents=r}get coordinators(){return this.findMembersWithRole("coordinator").filter(t=>t.isActive)}get chairs(){return this.findMembersWithRole("chair").filter(t=>t.isActive)}get biocurators(){return this.findMembersWithRole("biocurator").filter(t=>t.isActive)}get trainedBiocurators(){return this.findMembersWithRole("biocurator").filter(t=>t.isActive&&t.training_level_1&&t.training_level_2)}get biocuratorTrainers(){return this.findMembersWithRole("biocurator-trainer").filter(t=>t.isActive)}get coreApprovalMembers(){return this.findMembersWithRole("core-approval-member").filter(t=>t.isActive)}get activeMembers(){return this.members.filter(t=>t.isActive)}get typeName(){return this.expert_panel.type.display_name||this.type.name}get displayName(){return this.expert_panel.display_name||this.name}get displayStatus(){return this.expertPanelLoaded()?this.status.name:this.status.name}get statusColor(){return an.groups.statusColors[this.group_status_id]}get contacts(){return this.members.filter(t=>!!t.is_contact)}get hasContacts(){return this.contacts.length>0}get isApplying(){return this.expert_panel.isApplying}get hasChildren(){return this.children&&this.children.length>0}addMembers(t){t.forEach(n=>{this.addMember(n)})}addMember(t){const n=this.members.findIndex(r=>r&&r.id===t.id);if(n>-1){this.members.splice(n,1,new no({...t}));return}this.members.push(new no({...t}))}removeMember(t){const n=this.members.findIndex(r=>r.id===t.id);n>-1&&this.members.splice(n,1)}findMember(t){const n=this.members.find(r=>r.id===t);if(n)return n;throw new Error(`Member with id ${t} not found in group.`)}findMembersWithRole(t){let n=t;if(typeof t=="object"&&(n=t.id),typeof t=="string"){const r=an.groups.roles[t];if(!r)throw new Error(`No role matching ${t}`);n=r.id}return this.members.filter(r=>r.hasRole(n))}expertPanelLoaded(){return this.isEp()&&this.expert_panel.id}isEp(){return this.attributes.group_type_id===an.groups.types.gcep.id||this.attributes.group_type_id===an.groups.types.vcep.id}isWorkingGroup(){return this.attributes.group_type_id===an.groups.types.wg.id}isWg(){return this.isWorkingGroup()}isCdwg(){return this.attributes.group_type_id===an.groups.types.cdwg.id}documentsOfType(t){return this.documents.filter(n=>n.document_type_id===t)}hasDocumentsOfType(t){return this.documentsOfType(t).length}clone(){const t={...this.attributes,members:[this.members.map(r=>r.attributes)],expert_panel:this.expert_panel.attributes};return super.clone(t)}};Bn(ju,"dates",["created_at","updated_at","deleted_at"]),Bn(ju,"defaults",{id:null,uuid:null,name:null,parent_id:null,group_type_id:null,group_status_id:null,type:{},parent:{}});let wc=ju;class of extends po{constructor(t={}){const{person:n={},memberships:r=[]}=t;delete t.person,delete t.memberships,super(t),this.person=new gs(n),this.memberships=r.map(i=>new no(i))}get rolePermissions(){return this.attributes.roles.map(t=>t.permissions).flat()}get allPermissions(){return[...this.permissions,...this.rolePermissions]}get needsCredentials(){return this.person.needsCredentials}get needsExpertise(){return this.person.needsExpertise}get profileIncomplete(){return!this.person.country_id||!this.person.timezone||!this.person.institution_id}get hasPendingCois(){return this.person.hasPendingCois}hasRole(t,n=null){return Fu(t,this.roles)||this.hasGroupRole(t,n)}hasNoRole(){return this.roles.length===0}hasGroupRole(t,n){if(!n)return!1;const r=this.memberships.find(i=>i.group_id===n.id);return!!(r&&r.hasRole(t))}hasRoleForAnyGroup(t,n){return n.some(r=>this.hasGroupRole(t,r))}hasAnyPermission(t){if(!Array.isArray(t))throw new TypeError(`user.hasAnyArray expected array got ${typeof t}`);return t.map(n=>{let r=n,i=null;return Array.isArray(n)&&(r=n[0],i=n[1]),this.hasDirectPermission(r)||this.hasPermissionThroughRole(r)||this.hasGroupPermission(r,i)}).filter(n=>n).length>0}hasPermission(t,n=null){return this.hasDirectPermission(t)||this.hasPermissionThroughRole(t)||this.hasGroupPermission(t,n)}hasDirectPermission(t){return Fu(t,this.permissions)}hasPermissionThroughRole(t){return Fu(t,this.roles.map(n=>n.permissions).flat())}hasGroupPermission(t,n){if(!n)return!1;let r=this.memberships.find(i=>i.group_id===n.id);return r instanceof no||(r=new no(r)),!!(r&&r.hasPermission(t))}coordinatesPerson(t){return this.hasRoleForAnyGroup("coordinator",t.memberships.map(n=>n.group))}}Bn(of,"defaults",{id:null,email:null,name:null,roles:[],permissions:[],preferences:[],person:new gs,memberships:[]});class zt{constructor(t,n){this.label=t,this.evaluator=n}isMet(t){return this.evaluator(t)}}const _i=e=>{switch(typeof e){case"undefined":return!0;case"object":return e===null?!0:e.constructor.name==="Date"?!e:Object.keys(e).length===0;case"array":return e.length===0;case"string":return e.trim()==="";default:return!e}},Sfe=new zt("Long Base Name",e=>!_i(e.expert_panel.long_base_name)),Afe=new zt("Short Base Name",e=>!_i(e.expert_panel.short_base_name)),kfe=new zt("1+ Co-chairs",e=>!_i(e.chairs)),Ofe=new zt("1+ Coordinator",e=>!_i(e.coordinators)),Ife=new zt("All members completed COI",e=>_i(e.members.filter(t=>t.isActive&&t.needsCoi))),Nfe=new zt("3+ institutions represented",e=>{const t=e.members.filter(n=>!!n.person.institution).map(n=>n.person.institution.id);return new Set(t).size>2}),Rfe=new zt("Description of expertise",e=>!_i(e.expert_panel.membership_description)),Dfe=new zt("1+ genes in scope",e=>e.expert_panel.genes.length>0),Mfe=new zt("Description of scope",e=>!_i(e.expert_panel.scope_description)),Pfe=new zt("Plans for sustained curation",e=>!!e.expert_panel.curation_review_protocol_id),Lfe=new zt("Meeting frequency",e=>!_i(e.expert_panel.meeting_frequency)),Bfe=new zt("NHGRI Attestation",e=>!_i(e.expert_panel.nhgri_attestation_date)),$fe=new zt("GCEP processes Attestation",e=>!_i(e.expert_panel.gcep_attestation_date)),Ffe=new zt("Reanalysis & discrepany resolution",e=>!_i(e.expert_panel.reanalysis_attestation_date)),Ufe=new zt("5+ Example Evidence Summaries",e=>e.expert_panel.evidence_summaries.length>4),Hfe=new zt("1+ Approved piloted, specifications document.",e=>e.expert_panel.approvedDraftSpecifications.length>0),zfe=new zt("1+ Approved piloted, specifications document.",e=>e.expert_panel.approvedPilotedSpecifications.length>0),Vfe=new zt("3+ trained biocurators.",e=>e.biocurators.filter(t=>t.training_level_1&&t.training_level_2).length>2),jfe=new zt("1+ biocurator trainers.",e=>e.biocuratorTrainers.length>0),qfe=new zt("1+ core approval members",e=>e.coreApprovalMembers.length>0),Wfe=new zt("Expertise information must be provided for each group member",e=>e.members.filter(t=>!t.hasAnyExpertise).length===0),at={longName:Sfe,shortName:Afe,chairs:kfe,coordinators:Ofe,coisComplete:Ife,institutions:Nfe,expertiseDescription:Rfe,genes:Dfe,scopeDescription:Mfe,curationProcess:Pfe,meetingFrequency:Lfe,nhgri:Bfe,gcepAttestation:$fe,reanalysisAttestation:Ffe,exampleSummaries:Ufe,draftApprovedSpecifications:Hfe,pilotedApprovedSpecifications:zfe,minimumBiocurators:Vfe,biocuratorTrainers:jfe,coreApprovalMembers:qfe,memberExpertise:Wfe};class Cy{get hasRequirements(){return this.requirements.length>0}evaluateRequirements(t){return this.requirements.map(n=>({label:n.label,isMet:n.isMet(t)}))}meetsRequirements(t){return this.requirements.every(n=>n.isMet(t))}metRequirements(t){return this.requirements.filter(n=>n.isMet(t))}unmetRequirements(t){return this.requirements.filter(n=>!n.isMet(t))}}let Yfe=class extends Cy{constructor(t,n,r,i){super(),this.name=t,this.title=n,this.requirements=r,this.components=i}};class Gfe extends Cy{constructor(t,n,r,i,s){super(),this.name=t,this.sections=n,this.title=r,this.completeFunction=i,this.disabledFunction=s,this.sections.forEach(o=>{Object.defineProperty(this,o.name,{get:()=>this.sections.find(a=>a.name===o.name)})})}get requirements(){return this.sections.map(t=>t.requirements).flat()}isComplete(t){return this.completeFunction?this.completeFunction(t):!1}isDisabled(t){return this.disabledFunction?this.disabledFunction(t):!1}}class Kfe extends Cy{constructor(t){super(),this.steps=t,this.steps.forEach(n=>{Object.defineProperty(this,n.name,{get:()=>this.steps.find(r=>r.name===n.name)})})}get sections(){return this.steps.map(t=>t.sections).flat()}get requirements(){return this.sections.map(t=>t.requirements).flat()}getStep(t){if(Number.isNaN(Number.parseInt(t))){const n=this.steps.find(r=>r.name===t);if(!n)throw new Error(`Step with name ${t} not found.`);return n}return this.steps[t-1]}getSection(t){return this.sections.find(n=>n.name===t)}getCurrentStep(t){return this.getStep(t.expert_panel.current_step)}}const UR=e=>{const t=Object.keys(e.steps).map(n=>{const r=e.steps[n],i=Object.keys(r.sections).map(s=>{const o=r.sections[s];return new Yfe(s,o.name,o.requirements,o.components)});return new Gfe(n,i,r.name,r.completed,r.disabled)});return new Kfe(t)},Xfe=UR({steps:{definition:{name:"Group Definition",sections:{basicInfo:{name:"Basic Information",requirements:[at.longName,at.shortName]},membership:{name:"Membership",requirements:[at.chairs,at.coordinators,at.coisComplete,at.institutions,at.expertiseDescription,at.memberExpertise]},scope:{name:"Scope of Work",requirements:[at.genes,at.scopeDescription]},reanalysis:{name:"Reanalysis & Discrepency Resolution",requirements:[at.reanalysisAttestation]},nhgri:{name:"NHGRI Data Availability",requirements:[at.nhgri]}},completed:e=>e.expert_panel.defIsApproved,disabled:()=>!1},"draft-specifications":{name:"Draft Specifications",sections:{draftSpecs:{name:"Draft Specfications",title:null,requirements:[at.draftApprovedSpecifications]}},completed:e=>e.expert_panel.draftSpecificationsIsApproved,disabled:e=>!e.expert_panel.defIsApproved},"pilot-specifications":{name:"Specifications Pilot",sections:{pilotSpecs:{name:"Pilot Specifications",requirements:[at.pilotedApprovedSpecifications]}},completed:e=>e.expert_panel.pilotSpecificationsIsApproved,disabled:e=>!e.expert_panel.draftSpecificationsIsApproved},"sustained-curation":{name:"Sustained Curation",sections:{curationReviewProcess:{name:"Curation and Review Process",requirements:[at.meetingFrequency,at.curationProcess]},evidenceSummaries:{name:"Example Evidence Summaries",requirements:[at.exampleSummaries]},designations:{name:"Member Designation",requirements:[at.minimumBiocurators,at.biocuratorTrainers,at.coreApprovalMembers]}},completed:e=>e.expert_panel.sustainedCurationIsApproved,disabled:e=>!e.expert_panel.pilotSpecificationsIsApproved}}}),Qfe=UR({steps:{definition:{title:"Group Definition",sections:{basicInfo:{name:"Basic Information",requirements:[at.longName,at.shortName]},membership:{name:"Membership",requirements:[at.chairs,at.coisComplete,at.coordinators,at.institutions,at.memberExpertise]},scope:{name:"Scope of Work",requirements:[at.genes,at.scopeDescription]},attestations:{name:"Attestations",requirements:[at.gcepAttestation]},curationReviewProcess:{name:"Curation and Review Process",requirements:[at.curationProcess]},nhgri:{name:"NHGRI Data Availability",requirements:[at.nhgri]}}}}}),Jfe=e=>e.is_vcep_or_scvcep?Xfe:Qfe,Zfe={name:"ApplicationSection",components:{RequirementsBadge:xfe},props:{title:{type:String,required:!1},id:{type:String,required:!1}},computed:{group:{get(){return this.$store.getters["groups/currentItemOrNew"]}},application(){return Jfe(this.group)},section(){return this.application.getSection(this.id)}}},epe=["id"],tpe={class:"application-section"},npe={class:"mb-2 flex justify-between"};function rpe(e,t,n,r,i,s){const o=Y("RequirementsBadge");return x(),P("div",{id:n.id,class:"section-wrapper"},[S("div",tpe,[S("header",npe,[ke(e.$slots,"title",{},()=>[S("h2",null,ye(n.title),1)],!0),n.id?(x(),pe(o,{key:0,section:s.section,group:s.group},null,8,["section","group"])):Oe("",!0)]),S("div",null,[ke(e.$slots,"default",{},void 0,!0)])])],8,epe)}const ipe=ne(Zfe,[["render",rpe],["__scopeId","data-v-56d1f9da"]]),spe={name:"WebsiteAttestation",components:{ApplicationSection:ipe},props:{...cs.props,errors:{type:Object,required:!0}},emits:[...cs.emits],setup(e,t){const{workingCopy:n}=cs.setup(e,t);return{workingCopy:n}},computed:{isComplete(){return!!this.modelValue.completed_at}}};function ope(e,t,n,r,i,s){const o=Y("coordinator-resource-link"),a=Y("checkbox"),l=Y("input-row"),u=Y("ApplicationSection");return x(),pe(u,{title:"Webpage Updates"},{default:W(()=>[U(l,{errors:n.errors.website_attestation,vertical:""},{label:W(()=>[S("p",null,[t[1]||(t[1]=Ae(" Please review your ClinGen EP webpage, including description, membership, and relevant documentation, including publications. See the ")),U(o),t[2]||(t[2]=Ae(" for instructions on how to update web pages. "))])]),default:W(()=>[U(a,{modelValue:r.workingCopy.data.website_attestation,"onUpdate:modelValue":t[0]||(t[0]=c=>r.workingCopy.data.website_attestation=c),label:"I attest that the information on the webpage is up-to-date and accurate.",disabled:s.isComplete},null,8,["modelValue","disabled"])]),_:1},8,["errors"])]),_:1})}const ape=ne(spe,[["render",ope]]),lpe=Object.freeze(Object.defineProperty({__proto__:null,default:ape},Symbol.toStringTag,{value:"Module"})),upe={props:{},data(){return{}},computed:{},methods:{}},cpe={class:"btn btn-xs"};function dpe(e,t,n,r,i,s){const o=Y("icon-checkmark");return x(),P("button",cpe,[U(o,{width:"12",height:"16"})])}const fpe=ne(upe,[["render",dpe]]),ppe=Object.freeze(Object.defineProperty({__proto__:null,default:fpe},Symbol.toStringTag,{value:"Module"})),hpe={props:{},data(){return{}},computed:{},methods:{}},mpe={class:"btn btn-xs"};function gpe(e,t,n,r,i,s){const o=Y("icon-edit");return x(),P("button",mpe,[U(o,{width:"12",height:"16"})])}const bpe=ne(hpe,[["render",gpe]]),ype=Object.freeze(Object.defineProperty({__proto__:null,default:bpe},Symbol.toStringTag,{value:"Module"})),_pe={name:"ComponentName",props:{loading:{type:Boolean,default:!1}},emits:["click"]};function Epe(e,t,n,r,i,s){const o=Y("icon-refresh");return x(),P("button",{class:"btn btn-icon-sm",onClick:t[0]||(t[0]=a=>e.$emit("click"))},[U(o,{class:nt({rotate:n.loading}),width:"16",height:"16"},null,8,["class"])])}const vpe=ne(_pe,[["render",Epe]]),Tpe=Object.freeze(Object.defineProperty({__proto__:null,default:vpe},Symbol.toStringTag,{value:"Module"})),wpe={props:{size:{required:!1,default:"md"}},data(){return{}},computed:{dimension(){return this.size==="xs"?8:this.size==="sm"?10:this.size==="md"?12:this.size==="lg"?14:this.size==="xl"?18:10}},methods:{}};function xpe(e,t,n,r,i,s){const o=Y("icon-close");return x(),P("button",{class:"btn-delete",onClick:t[0]||(t[0]=(...a)=>e.confirmRemove&&e.confirmRemove(...a))},[U(o,{height:s.dimension,width:s.dimension},null,8,["height","width"])])}const Cpe=ne(wpe,[["render",xpe]]),Spe=Object.freeze(Object.defineProperty({__proto__:null,default:Cpe},Symbol.toStringTag,{value:"Module"})),Ape={props:{},data(){return{}},computed:{},methods:{}},kpe={class:"btn btn-xs"};function Ope(e,t,n,r,i,s){const o=Y("icon-trash");return x(),P("button",kpe,[U(o,{width:"12",height:"16"})])}const Ipe=ne(Ape,[["render",Ope]]),Npe=Object.freeze(Object.defineProperty({__proto__:null,default:Ipe},Symbol.toStringTag,{value:"Module"})),Rpe={name:"IconBug",props:{},data(){return{}},computed:{},methods:{}};function Dpe(e,t,n,r,i,s){const o=Y("icon-base");return x(),pe(o,null,{default:W(()=>t[0]||(t[0]=[S("path",{d:"M11 9V5H9v4H5v2h4v4h2v-4h4V9h-4zm-1 11a10 10 0 1 1 0-20 10 10 0 0 1 0 20z"},null,-1)])),_:1})}const Mpe=ne(Rpe,[["render",Dpe]]),Ppe=Object.freeze(Object.defineProperty({__proto__:null,default:Mpe},Symbol.toStringTag,{value:"Module"})),Lpe={name:"IconBug",props:{},data(){return{}},computed:{},methods:{}};function Bpe(e,t,n,r,i,s){const o=Y("icon-base");return x(),pe(o,null,{default:W(()=>t[0]||(t[0]=[S("path",{d:"M7 10V2h6v8h5l-8 8-8-8h5z"},null,-1)])),_:1})}const $pe=ne(Lpe,[["render",Bpe]]),Fpe=Object.freeze(Object.defineProperty({__proto__:null,default:$pe},Symbol.toStringTag,{value:"Module"})),Upe={name:"IconBug",props:{},data(){return{}},computed:{},methods:{}};function Hpe(e,t,n,r,i,s){const o=Y("icon-base");return x(),pe(o,null,{default:W(()=>t[0]||(t[0]=[S("path",{d:"M10 7H2v6h8v5l8-8-8-8v5z"},null,-1)])),_:1})}const zpe=ne(Upe,[["render",Hpe]]),Vpe=Object.freeze(Object.defineProperty({__proto__:null,default:zpe},Symbol.toStringTag,{value:"Module"})),jpe={props:{iconName:{type:String,default:"box"},width:{type:[Number,String],default:18},height:{type:[Number,String],default:18},iconColor:{type:String,default:"currentColor"}},computed:{calcHeight(){return this.height},calcWidth(){return this.width}}},qpe=["width","height","aria-labelledby"],Wpe=["id"],Ype=["fill"];function Gpe(e,t,n,r,i,s){return x(),P("svg",{xmlns:"http://www.w3.org/2000/svg",width:s.calcWidth,height:s.calcHeight,viewBox:"0 0 20 20","aria-labelledby":n.iconName,role:"presentation"},[S("title",{id:n.iconName,lang:"en"},ye(n.iconName),9,Wpe),S("g",{fill:n.iconColor},[ke(e.$slots,"default",{},()=>[t[0]||(t[0]=S("path",{d:"M11.5 11H10V7.5a.5.5 0 0 0-.5-.5h-3a.5.5 0 0 0-.5.5v1a.5.5 0 0 0 .5.5H8v2H6.5a.5.5 0 0 0-.5.5v1a.5.5 0 0 0 .5.5h5a.5.5 0 0 0 .5-.5v-1a.5.5 0 0 0-.5-.5zM16 1H2a1 1 0 0 0-1 1v14a1 1 0 0 0 1 1h14a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1zm-1 13.5a.5.5 0 0 1-.5.5h-11a.5.5 0 0 1-.5-.5v-9a.5.5 0 0 1 .5-.5h11a.5.5 0 0 1 .5.5v9z"},null,-1))])],8,Ype)],8,qpe)}const Kpe=ne(jpe,[["render",Gpe]]),Xpe=Object.freeze(Object.defineProperty({__proto__:null,default:Kpe},Symbol.toStringTag,{value:"Module"})),Qpe={name:"IconBug",props:{},data(){return{}},computed:{},methods:{}};function Jpe(e,t,n,r,i,s){const o=Y("icon-base");return x(),pe(o,null,{default:W(()=>t[0]||(t[0]=[S("path",{d:"M15.3 14.89l2.77 2.77a1 1 0 0 1 0 1.41 1 1 0 0 1-1.41 0l-2.59-2.58A5.99 5.99 0 0 1 11 18V9.04a1 1 0 0 0-2 0V18a5.98 5.98 0 0 1-3.07-1.51l-2.59 2.58a1 1 0 0 1-1.41 0 1 1 0 0 1 0-1.41l2.77-2.77A5.95 5.95 0 0 1 4.07 13H1a1 1 0 1 1 0-2h3V8.41L.93 5.34a1 1 0 0 1 0-1.41 1 1 0 0 1 1.41 0l2.1 2.1h11.12l2.1-2.1a1 1 0 0 1 1.41 0 1 1 0 0 1 0 1.41L16 8.41V11h3a1 1 0 1 1 0 2h-3.07c-.1.67-.32 1.31-.63 1.89zM15 5H5a5 5 0 1 1 10 0z"},null,-1)])),_:1})}const Zpe=ne(Qpe,[["render",Jpe]]),ehe=Object.freeze(Object.defineProperty({__proto__:null,default:Zpe},Symbol.toStringTag,{value:"Module"})),the={props:{title:{required:!1,type:String}}};function nhe(e,t,n,r,i,s){const o=Y("icon-base");return x(),pe(o,{"icon-name":n.title||"checkmark icon"},{default:W(()=>t[0]||(t[0]=[S("path",{d:"M0 11l2-2 5 5L18 3l2 2L7 18z"},null,-1)])),_:1},8,["icon-name"])}const rhe=ne(the,[["render",nhe]]),ihe=Object.freeze(Object.defineProperty({__proto__:null,default:rhe},Symbol.toStringTag,{value:"Module"})),she={};function ohe(e,t,n,r,i,s){const o=Y("icon-base");return x(),pe(o,{name:"cheveron-down"},{default:W(()=>t[0]||(t[0]=[S("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"},null,-1)])),_:1})}const ahe=ne(she,[["render",ohe]]),lhe=Object.freeze(Object.defineProperty({__proto__:null,default:ahe},Symbol.toStringTag,{value:"Module"})),uhe={};function che(e,t,n,r,i,s){const o=Y("icon-base");return x(),pe(o,{name:"cheveron-left"},{default:W(()=>t[0]||(t[0]=[S("path",{d:"M7.05 9.293L6.343 10 12 15.657l1.414-1.414L9.172 10l4.242-4.243L12 4.343z"},null,-1)])),_:1})}const dhe=ne(uhe,[["render",che]]),fhe=Object.freeze(Object.defineProperty({__proto__:null,default:dhe},Symbol.toStringTag,{value:"Module"})),phe={};function hhe(e,t,n,r,i,s){const o=Y("icon-base");return x(),pe(o,{name:"cheveron-down"},{default:W(()=>t[0]||(t[0]=[S("path",{d:"M12.95 10.707l.707-.707L8 4.343 6.586 5.757 10.828 10l-4.242 4.243L8 15.657l4.95-4.95z"},null,-1)])),_:1})}const mhe=ne(phe,[["render",hhe]]),ghe=Object.freeze(Object.defineProperty({__proto__:null,default:mhe},Symbol.toStringTag,{value:"Module"})),bhe={};function yhe(e,t,n,r,i,s){const o=Y("icon-base");return x(),pe(o,{name:"cheveron-down"},{default:W(()=>t[0]||(t[0]=[S("path",{d:"M10.707 7.05L10 6.343 4.343 12l1.414 1.414L10 9.172l4.243 4.242L15.657 12z"},null,-1)])),_:1})}const _he=ne(bhe,[["render",yhe]]),Ehe=Object.freeze(Object.defineProperty({__proto__:null,default:_he},Symbol.toStringTag,{value:"Module"})),vhe={};function The(e,t,n,r,i,s){const o=Y("icon-base");return x(),pe(o,null,{default:W(()=>t[0]||(t[0]=[S("g",null,[S("path",{d:"M10 8.586L2.929 1.515 1.515 2.929 8.586 10l-7.071 7.071 1.414 1.414L10 11.414l7.071 7.071 1.414-1.414L11.414 10l7.071-7.071-1.414-1.414L10 8.586z"})],-1)])),_:1})}const whe=ne(vhe,[["render",The]]),xhe=Object.freeze(Object.defineProperty({__proto__:null,default:whe},Symbol.toStringTag,{value:"Module"})),Che={};function She(e,t,n,r,i,s){const o=Y("icon-base");return x(),pe(o,null,{default:W(()=>t[0]||(t[0]=[S("g",null,[S("g",{id:"Canvas_1_Layer_1"},[S("g",{id:"bolt"},[S("path",{d:"M 10.7 9 L 12.3 0.3 L 7.8 13.1 L 10.1 11.6 L 8.2 20.3 L 12.6 7.8 Z"})]),S("g",{id:"left"},[S("path",{d:"M 3 8.6 L -0.7 8.6 L -0.7 12.8 L 3 12.8 L 3 16.3 L 7.7 10.5 L 3 5.1 Z"})]),S("g",{id:"right"},[S("path",{d:"M 17.6 12.8 L 21.3 12.8 L 21.3 8.6 L 17.6 8.6 L 17.6 5.1 L 12.9 10.8 L 17.6 16.3 Z"})])])],-1)])),_:1})}const Ahe=ne(Che,[["render",She]]),khe=Object.freeze(Object.defineProperty({__proto__:null,default:Ahe},Symbol.toStringTag,{value:"Module"})),Ohe={};function Ihe(e,t,n,r,i,s){const o=Y("icon-base");return x(),pe(o,null,{default:W(()=>t[0]||(t[0]=[S("g",null,[S("path",{d:"M13 8V2H7v6H2l8 8 8-8h-5zM0 18h20v2H0v-2z"})],-1)])),_:1})}const Nhe=ne(Ohe,[["render",Ihe]]),Rhe=Object.freeze(Object.defineProperty({__proto__:null,default:Nhe},Symbol.toStringTag,{value:"Module"})),Dhe={};function Mhe(e,t,n,r,i,s){const o=Y("icon-base");return x(),pe(o,{"icon-name":"Edit"},{default:W(()=>t[0]||(t[0]=[S("g",null,[S("path",{d:"M12.3 3.7l4 4L4 20H0v-4L12.3 3.7zm1.4-1.4L16 0l4 4-2.3 2.3-4-4z"})],-1)])),_:1})}const Phe=ne(Dhe,[["render",Mhe]]),Lhe=Object.freeze(Object.defineProperty({__proto__:null,default:Phe},Symbol.toStringTag,{value:"Module"})),Bhe={name:"EnvelopeIcon"};function $he(e,t,n,r,i,s){const o=Y("icon-base");return x(),pe(o,{"icon-name":"Envelope"},{default:W(()=>t[0]||(t[0]=[S("g",null,[S("path",{d:"M18 2a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V4c0-1.1.9-2 2-2h16zm-4.37 9.1L20 16v-2l-5.12-3.9L20 6V4l-10 8L0 4v2l5.12 4.1L0 14v2l6.37-4.9L10 14l3.63-2.9z"})],-1)])),_:1})}const Fhe=ne(Bhe,[["render",$he]]),Uhe=Object.freeze(Object.defineProperty({__proto__:null,default:Fhe},Symbol.toStringTag,{value:"Module"})),Hhe={props:{title:{required:!1,type:String},outline:{required:!1,type:Boolean,default:!1}}},zhe={key:0,d:"M2.93 17.07A10 10 0 1 1 17.07 2.93 10 10 0 0 1 2.93 17.07zM9 5v6h2V5H9zm0 8v2h2v-2H9z"},Vhe={key:1,d:"M2.93 17.07A10 10 0 1 1 17.07 2.93 10 10 0 0 1 2.93 17.07zm12.73-1.41A8 8 0 1 0 4.34 4.34a8 8 0 0 0 11.32 11.32zM9 5h2v6H9V5zm0 8h2v2H9v-2z"};function jhe(e,t,n,r,i,s){const o=Y("icon-base");return x(),pe(o,{"icon-name":n.title||"checkmark icon"},{default:W(()=>[n.outline?(x(),P("path",Vhe)):(x(),P("path",zhe))]),_:1},8,["icon-name"])}const qhe=ne(Hhe,[["render",jhe]]),Whe=Object.freeze(Object.defineProperty({__proto__:null,default:qhe},Symbol.toStringTag,{value:"Module"})),Yhe={name:"IconExternalLink"};function Ghe(e,t,n,r,i,s){const o=Y("icon-base");return x(),pe(o,{"icon-name":"external-link"},{default:W(()=>t[0]||(t[0]=[S("path",{d:`M185.818,2.161h-57.04c-4.971,0-9,4.029-9,9s4.029,9,9,9h35.312l-86.3,86.3c-3.515,3.515-3.515,9.213,0,12.728
		c1.758,1.757,4.061,2.636,6.364,2.636s4.606-0.879,6.364-2.636l86.3-86.3v35.313c0,4.971,4.029,9,9,9s9-4.029,9-9v-57.04
		C194.818,6.19,190.789,2.161,185.818,2.161z`},null,-1),S("path",{d:`M149,77.201c-4.971,0-9,4.029-9,9v88.456H18v-122h93.778c4.971,0,9-4.029,9-9s-4.029-9-9-9H9c-4.971,0-9,4.029-9,9v140
		c0,4.971,4.029,9,9,9h140c4.971,0,9-4.029,9-9V86.201C158,81.23,153.971,77.201,149,77.201z`},null,-1)])),_:1})}const Khe=ne(Yhe,[["render",Ghe]]),Xhe=Object.freeze(Object.defineProperty({__proto__:null,default:Khe},Symbol.toStringTag,{value:"Module"})),Qhe={props:{title:{required:!1,type:String}}};function Jhe(e,t,n,r,i,s){const o=Y("icon-base");return x(),pe(o,{"icon-name":n.title||"filter"},{default:W(()=>t[0]||(t[0]=[S("path",{d:"M12 12l8-8V0H0v4l8 8v8l4-4v-4z"},null,-1)])),_:1},8,["icon-name"])}const Zhe=ne(Qhe,[["render",Jhe]]),eme=Object.freeze(Object.defineProperty({__proto__:null,default:Zhe},Symbol.toStringTag,{value:"Module"})),tme={name:"IconInfo"};function nme(e,t,n,r,i,s){const o=Y("icon-base");return x(),pe(o,{"icon-name":"Info"},{default:W(()=>t[0]||(t[0]=[S("path",{d:"M2.93 17.07A10 10 0 1 1 17.07 2.93 10 10 0 0 1 2.93 17.07zM9 11v4h2V9H9v2zm0-6v2h2V5H9z"},null,-1)])),_:1})}const rme=ne(tme,[["render",nme]]),ime=Object.freeze(Object.defineProperty({__proto__:null,default:rme},Symbol.toStringTag,{value:"Module"})),sme={name:"IconLock",props:{iconName:{required:!1,default:"lock"}},data(){return{}},computed:{},methods:{}};function ome(e,t,n,r,i,s){const o=Y("icon-base");return x(),pe(o,{"icon-name":"iconName"},{default:W(()=>t[0]||(t[0]=[S("path",{d:"M4 8V6a6 6 0 1 1 12 0v2h1a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2v-8c0-1.1.9-2 2-2h1zm5 6.73V17h2v-2.27a2 2 0 1 0-2 0zM7 6v2h6V6a3 3 0 0 0-6 0z"},null,-1)])),_:1})}const ame=ne(sme,[["render",ome]]),lme=Object.freeze(Object.defineProperty({__proto__:null,default:ame},Symbol.toStringTag,{value:"Module"})),ume={};function cme(e,t,n,r,i,s){const o=Y("icon-base");return x(),pe(o,null,{default:W(()=>t[0]||(t[0]=[S("g",null,[S("path",{d:"M0 3h20v2H0V3zm0 6h20v2H0V9zm0 6h20v2H0v-2z"})],-1)])),_:1})}const dme=ne(ume,[["render",cme]]),fme=Object.freeze(Object.defineProperty({__proto__:null,default:dme},Symbol.toStringTag,{value:"Module"})),pme={name:"NotificationIcon",props:{iconName:{type:String,required:!1,default:"Notification"}}};function hme(e,t,n,r,i,s){const o=Y("icon-base");return x(),pe(o,{"icon-name":n.iconName},{default:W(()=>t[0]||(t[0]=[S("g",null,[S("path",{d:"M4 8a6 6 0 0 1 4.03-5.67 2 2 0 1 1 3.95 0A6 6 0 0 1 16 8v6l3 2v1H1v-1l3-2V8zm8 10a2 2 0 1 1-4 0h4z"})],-1)])),_:1},8,["icon-name"])}const mme=ne(pme,[["render",hme]]),gme=Object.freeze(Object.defineProperty({__proto__:null,default:mme},Symbol.toStringTag,{value:"Module"})),bme={name:"IconBug",props:{},data(){return{}},computed:{},methods:{}};function yme(e,t,n,r,i,s){const o=Y("icon-base");return x(),pe(o,null,{default:W(()=>t[0]||(t[0]=[S("path",{d:"M4 16H0V6h20v10h-4v4H4v-4zm2-4v6h8v-6H6zM4 0h12v5H4V0zM2 8v2h2V8H2zm4 0v2h2V8H6z"},null,-1)])),_:1})}const _me=ne(bme,[["render",yme]]),Eme=Object.freeze(Object.defineProperty({__proto__:null,default:_me},Symbol.toStringTag,{value:"Module"})),vme={name:"IconBug",props:{},data(){return{}},computed:{},methods:{}};function Tme(e,t,n,r,i,s){const o=Y("icon-base");return x(),pe(o,null,{default:W(()=>t[0]||(t[0]=[S("path",{d:"M10 20a10 10 0 1 1 0-20 10 10 0 0 1 0 20zm2-13c0 .28-.21.8-.42 1L10 9.58c-.57.58-1 1.6-1 2.42v1h2v-1c0-.29.21-.8.42-1L13 9.42c.57-.58 1-1.6 1-2.42a4 4 0 1 0-8 0h2a2 2 0 1 1 4 0zm-3 8v2h2v-2H9z"},null,-1)])),_:1})}const wme=ne(vme,[["render",Tme]]),xme=Object.freeze(Object.defineProperty({__proto__:null,default:wme},Symbol.toStringTag,{value:"Module"})),Cme={props:{},data(){return{}},computed:{},methods:{}};function Sme(e,t,n,r,i,s){const o=Y("icon-base");return x(),pe(o,null,{default:W(()=>t[0]||(t[0]=[S("g",null,[S("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[S("path",{d:"M10 3v2a5 5 0 0 0-3.54 8.54l-1.41 1.41A7 7 0 0 1 10 3zm4.95 2.05A7 7 0 0 1 10 17v-2a5 5 0 0 0 3.54-8.54l1.41-1.41zM10 20l-4-4 4-4v8zm0-12V0l4 4-4 4z"})])],-1)])),_:1})}const Ame=ne(Cme,[["render",Sme]]),kme=Object.freeze(Object.defineProperty({__proto__:null,default:Ame},Symbol.toStringTag,{value:"Module"})),Ome={name:"IconReply",props:{},data(){return{}},computed:{},methods:{}};function Ime(e,t,n,r,i,s){const o=Y("icon-base");return x(),pe(o,null,{default:W(()=>t[0]||(t[0]=[S("path",{d:"M15 17v-2.99A4 4 0 0 0 11 10H8v5L2 9l6-6v5h3a6 6 0 0 1 6 6v3h-2z"},null,-1)])),_:1})}const Nme=ne(Ome,[["render",Ime]]),Rme=Object.freeze(Object.defineProperty({__proto__:null,default:Nme},Symbol.toStringTag,{value:"Module"})),Dme={};function Mme(e,t,n,r,i,s){const o=Y("icon-base");return x(),pe(o,null,{default:W(()=>t[0]||(t[0]=[S("g",null,[S("g",{id:"document"},[S("path",{d:"M 4 18 h 12 V 6 h -4 V 2 H 4 v 16 z m -2 1 V 0 h 12 l 4 4 v 16 H 2 v -1 z"})]),S("g",{id:"magnifier"},[S("path",{transform:"matrix(0.6,0,0,0.6,5.1,4.2)",d:"M 12.1 16.9 C 8.8 19.5 4 19.1 1.2 15.9 C -1.6 12.8 -1.5 8 1.5 5 C 4.5 2 9.3 1.8 12.5 4.6 C 15.7 7.4 16.1 12.2 13.5 15.5 l 5.3 5.3 l -1.4 1.4 l -5.3 -5.3 z M 7.2 16.6 C 10.5 16.6 13.2 14 13.2 10.6 C 13.2 7.3 10.5 4.6 7.2 4.6 C 3.9 4.6 1.2 7.3 1.2 10.6 C 1.2 14 3.9 16.6 7.2 16.6 z"})])],-1)])),_:1})}const Pme=ne(Dme,[["render",Mme]]),Lme=Object.freeze(Object.defineProperty({__proto__:null,default:Pme},Symbol.toStringTag,{value:"Module"})),Bme={props:{},data(){return{}},computed:{},methods:{}};function $me(e,t,n,r,i,s){const o=Y("icon-base");return x(),pe(o,null,{default:W(()=>t[0]||(t[0]=[S("g",null,[S("path",{d:"M12.9 14.32a8 8 0 1 1 1.41-1.41l5.35 5.33-1.42 1.42-5.33-5.34zM8 14A6 6 0 1 0 8 2a6 6 0 0 0 0 12z"})],-1)])),_:1})}const Fme=ne(Bme,[["render",$me]]),Ume=Object.freeze(Object.defineProperty({__proto__:null,default:Fme},Symbol.toStringTag,{value:"Module"})),Hme={};function zme(e,t,n,r,i,s){const o=Y("icon-base");return x(),pe(o,null,{default:W(()=>t[0]||(t[0]=[S("g",null,[S("path",{d:"M6 2l2-2h4l2 2h4v2H2V2h4zM3 6h14l-1 14H4L3 6zm5 2v10h1V8H8zm3 0v10h1V8h-1z"})],-1)])),_:1})}const Vme=ne(Hme,[["render",zme]]),jme=Object.freeze(Object.defineProperty({__proto__:null,default:Vme},Symbol.toStringTag,{value:"Module"})),qme={name:"IconUser"};function Wme(e,t,n,r,i,s){const o=Y("icon-base");return x(),pe(o,null,{default:W(()=>t[0]||(t[0]=[S("g",null,[S("path",{d:"M5 5a5 5 0 0 1 10 0v2A5 5 0 0 1 5 7V5zM0 16.68A19.9 19.9 0 0 1 10 14c3.64 0 7.06.97 10 2.68V20H0v-3.32z"})],-1)])),_:1})}const Yme=ne(qme,[["render",Wme]]),Gme=Object.freeze(Object.defineProperty({__proto__:null,default:Yme},Symbol.toStringTag,{value:"Module"})),Kme={name:"IconView"};function Xme(e,t,n,r,i,s){const o=Y("icon-base");return x(),pe(o,null,{default:W(()=>t[0]||(t[0]=[S("path",{d:"M.2 10a11 11 0 0 1 19.6 0A11 11 0 0 1 .2 10zm9.8 4a4 4 0 1 0 0-8 4 4 0 0 0 0 8zm0-2a2 2 0 1 1 0-4 2 2 0 0 1 0 4z"},null,-1)])),_:1})}const Qme=ne(Kme,[["render",Xme]]),Jme=Object.freeze(Object.defineProperty({__proto__:null,default:Qme},Symbol.toStringTag,{value:"Module"})),Zme={name:"IconBug",props:{},data(){return{}},computed:{},methods:{}};function ege(e,t,n,r,i,s){const o=Y("icon-base");return x(),pe(o,null,{default:W(()=>t[0]||(t[0]=[S("path",{d:"M12.81 4.36l-1.77 1.78a4 4 0 0 0-4.9 4.9l-2.76 2.75C2.06 12.79.96 11.49.2 10a11 11 0 0 1 12.6-5.64zm3.8 1.85c1.33 1 2.43 2.3 3.2 3.79a11 11 0 0 1-12.62 5.64l1.77-1.78a4 4 0 0 0 4.9-4.9l2.76-2.75zm-.25-3.99l1.42 1.42L3.64 17.78l-1.42-1.42L16.36 2.22z"},null,-1)])),_:1})}const tge=ne(Zme,[["render",ege]]),nge=Object.freeze(Object.defineProperty({__proto__:null,default:tge},Symbol.toStringTag,{value:"Module"})),rge={name:"IconBug",props:{},data(){return{}},computed:{},methods:{}};function ige(e,t,n,r,i,s){const o=Y("icon-base");return x(),pe(o,null,{default:W(()=>t[0]||(t[0]=[S("path",{"fill-rule":"evenodd",d:"M12.9 14.32a8 8 0 1 1 1.41-1.41l5.35 5.33-1.42 1.42-5.33-5.34zM8 14A6 6 0 1 0 8 2a6 6 0 0 0 0 12zM7 7V5h2v2h2v2H9v2H7V9H5V7h2z"},null,-1)])),_:1})}const sge=ne(rge,[["render",ige]]),oge=Object.freeze(Object.defineProperty({__proto__:null,default:sge},Symbol.toStringTag,{value:"Module"})),age={name:"IconBug",props:{},data(){return{}},computed:{},methods:{}};function lge(e,t,n,r,i,s){const o=Y("icon-base");return x(),pe(o,null,{default:W(()=>t[0]||(t[0]=[S("path",{"fill-rule":"evenodd",d:"M12.9 14.32a8 8 0 1 1 1.41-1.41l5.35 5.33-1.42 1.42-5.33-5.34zM8 14A6 6 0 1 0 8 2a6 6 0 0 0 0 12zM5 7h6v2H5V7z"},null,-1)])),_:1})}const uge=ne(age,[["render",lge]]),cge=Object.freeze(Object.defineProperty({__proto__:null,default:uge},Symbol.toStringTag,{value:"Module"})),dge={name:"CoiPolicyLink"},fge={href:"https://www.clinicalgenome.org/docs/clingen-expert-panel-conflict-of-interest-policy/",target:"coi-policy"};function pge(e,t,n,r,i,s){return x(),P("a",fge,[ke(e.$slots,"default",{},()=>[t[0]||(t[0]=Ae("Expert Panel Conflict of Interest Policy"))])])}const hge=ne(dge,[["render",pge]]),mge=Object.freeze(Object.defineProperty({__proto__:null,default:hge},Symbol.toStringTag,{value:"Module"})),gge={name:"CoordinatorResourceDocument"},bge={href:"https://docs.google.com/document/d/1GeyR1CBqlzLHOdlPLJt0uA29Z-2ysmTX1dtH9PDmqRo/edit?usp=sharing",target:"coordinator-resource"};function yge(e,t,n,r,i,s){return x(),P("a",bge,[ke(e.$slots,"default",{},()=>[t[0]||(t[0]=Ae("Coordinator Resource Document"))])])}const _ge=ne(gge,[["render",yge]]),Ege=Object.freeze(Object.defineProperty({__proto__:null,default:_ge},Symbol.toStringTag,{value:"Module"})),nx="https://docs.google.com/document/d/1adqRiW8UYTOKpIfBPWDcA-tO7I9Q5UGGYHVpTP9n-6E",vge={name:"FAQLink",props:{hash:{default:()=>null}},data(){return{}},computed:{url(){return this.hash?nx+this.hash:nx}},methods:{}},Tge=["href"];function wge(e,t,n,r,i,s){return x(),P("a",Ja(e.$attrs,{href:s.url,target:"FAQ"}),[ke(e.$slots,"default",{},()=>[t[0]||(t[0]=Ae("FAQ"))])],16,Tge)}const xge=ne(vge,[["render",wge]]),Cge=Object.freeze(Object.defineProperty({__proto__:null,default:xge},Symbol.toStringTag,{value:"Module"})),Sge={name:"GcepQuickGuideLink"},Age={href:"https://www.clinicalgenome.org/site/assets/files/3263/gcep_quick_guide_jan_2021.pdf",target:"gcep-quick-guide"};function kge(e,t,n,r,i,s){return x(),P("a",Age,[ke(e.$slots,"default",{},()=>[t[0]||(t[0]=Ae("Gcep Quick Guide"))])])}const Oge=ne(Sge,[["render",kge]]),Ige=Object.freeze(Object.defineProperty({__proto__:null,default:Oge},Symbol.toStringTag,{value:"Module"})),Nge={name:"GcepRecurationProcessLink",props:{},data(){return{}},computed:{},methods:{}},Rge={target:"gcep-recuration-process",href:"https://clinicalgenome.org/site/assets/files/2164/clingen_standard_gene-disease_validity_recuration_procedures_v1.pdf"};function Dge(e,t,n,r,i,s){return x(),P("a",Rge,[ke(e.$slots,"default",{},()=>[t[0]||(t[0]=Ae("Gene-Disease Validity Recuration Process document"))])])}const Mge=ne(Nge,[["render",Dge]]),Pge=Object.freeze(Object.defineProperty({__proto__:null,default:Mge},Symbol.toStringTag,{value:"Module"})),Lge={name:"GciLink"},Bge={target:"gci",href:"https://curation.clinicalgenome.org/dashboard"};function $ge(e,t,n,r,i,s){return x(),P("a",Bge,[ke(e.$slots,"default",{},()=>[t[0]||(t[0]=Ae("Gene Curation Interface"))])])}const Fge=ne(Lge,[["render",$ge]]),Uge=Object.freeze(Object.defineProperty({__proto__:null,default:Fge},Symbol.toStringTag,{value:"Module"})),Hge={name:"GeneTrackerLink"},zge={target:"gene-tracker",href:"https://gene-tracker.clinicalgenome.org"};function Vge(e,t,n,r,i,s){return x(),P("a",zge,[ke(e.$slots,"default",{},()=>[t[0]||(t[0]=Ae("Gene Tracker"))])])}const jge=ne(Hge,[["render",Vge]]),qge=Object.freeze(Object.defineProperty({__proto__:null,default:jge},Symbol.toStringTag,{value:"Module"})),Wge={name:"LumpingAndSplittingLink"},Yge={target:"lumping-splitting-guidelines",href:"https://clinicalgenome.org/working-groups/lumping-and-splitting/"};function Gge(e,t,n,r,i,s){return x(),P("a",Yge,[ke(e.$slots,"default",{},()=>[t[0]||(t[0]=Ae("ClinGen Lumping and Splitting guidance"))])])}const Kge=ne(Wge,[["render",Gge]]),Xge=Object.freeze(Object.defineProperty({__proto__:null,default:Kge},Symbol.toStringTag,{value:"Module"})),Qge={name:"PublicationPolicy"},Jge={href:"https://www.clinicalgenome.org/docs/clingen-publication-policy-and-manuscript-concept-form/",target:"publication-policy"};function Zge(e,t,n,r,i,s){return x(),P("a",Jge,"ClinGen publication policy")}const e0e=ne(Qge,[["render",Zge]]),t0e=Object.freeze(Object.defineProperty({__proto__:null,default:e0e},Symbol.toStringTag,{value:"Module"})),n0e={name:"TrainingMaterialsLink"},r0e={href:"https://clinicalgenome.org/docs/?doc-type=training-materials#list_documentation_table",target:"clinicalgenome"};function i0e(e,t,n,r,i,s){return x(),P("a",r0e,[ke(e.$slots,"default",{},()=>[t[0]||(t[0]=Ae(" training materials "))])])}const s0e=ne(n0e,[["render",i0e]]),o0e=Object.freeze(Object.defineProperty({__proto__:null,default:s0e},Symbol.toStringTag,{value:"Module"})),a0e={name:"VcepProtocolLink"},l0e={href:"https://www.clinicalgenome.org/docs/clingen-variant-curation-expert-panel-vcep-protocol/",target:"vcep-protocol"};function u0e(e,t,n,r,i,s){return x(),P("a",l0e,[ke(e.$slots,"default",{},()=>[t[0]||(t[0]=Ae("VCEP Protocol"))])])}const c0e=ne(a0e,[["render",u0e]]),d0e=Object.freeze(Object.defineProperty({__proto__:null,default:c0e},Symbol.toStringTag,{value:"Module"})),f0e={name:"WebsiteLink"},p0e={href:"https://clinicalgenome.org",target:"clinicalgenome.org"};function h0e(e,t,n,r,i,s){return x(),P("a",p0e,[ke(e.$slots,"default",{},()=>[t[0]||(t[0]=Ae("ClinicalGenome.org"))])])}const m0e=ne(f0e,[["render",h0e]]),g0e=Object.freeze(Object.defineProperty({__proto__:null,default:m0e},Symbol.toStringTag,{value:"Module"}));var $o;let Ro=($o=class{constructor(t,n="info"){if(this.message=t,$o.types.findIndex(r=>r===n)===-1)throw new Error(`Unknown alert type: ${n}`);this.type=n,this.uuid=lo()}},Bn($o,"types",["info","success","warning","error"]),$o);const b0e={state:{alerts:[],timeouts:[]},getters:{info:e=>e.alerts.filter(t=>t.type==="info"),success:e=>e.alerts.filter(t=>t.type==="success"),warning:e=>e.alerts.filter(t=>t.type==="warning"),error:e=>e.alerts.filter(t=>t.type==="error")},mutations:{pushAlert(e,{message:t,type:n}){const r=new Ro(t,n);e.alerts.push(r)},pushError(e,t){e.alerts.push(new Ro(t,"error"))},pushInfo(e,t){e.alerts.push(new Ro(t,"info"))},pushSuccess(e,t){e.alerts.push(new Ro(t,"success"))},pushWarning(e,t){e.alerts.push(new Ro(t,"warning"))},removeAlert(e,t){const n=e.alerts.findIndex(r=>r.uuid===t);n<0||e.alerts.splice(n,1)},unshiftAlert(e,{message:t,type:n}){e.alerts.unshift(new Ro(t,n))}}},y0e={name:"Alert",props:{alert:{required:!0,type:Ro},timeout:{type:Number,required:!1,default:10}},data(){return{timer:null,countdown:0,interval:null}},computed:{},mounted(){this.startTimer(),this.countdown=this.timeout},methods:{startTimer(){this.interval=setInterval(()=>this.countdown-=1,1e3),this.timer=setTimeout(()=>{this.clearAlert()},this.timeout*1e3)},clearAlert(){this.$store.commit("removeAlert",this.alert.uuid),clearInterval(this.interval)},clearTimer(){this.timer&&(clearTimeout(this.timer),clearInterval(this.interval))},clearAlertAndTimer(){this.clearTimer(),this.clearAlert()}}};function _0e(e,t,n,r,i,s){return x(),P("div",{class:nt(["flex justify-between rounded px-3 py-2 my-2 alert-item shadow-lg",`alert-${n.alert.type}`])},[Ae(ye(n.alert.message)+" ",1),S("button",{class:"hover:underline",onClick:t[0]||(t[0]=(...o)=>s.clearAlertAndTimer&&s.clearAlertAndTimer(...o))}," x ")],2)}const E0e=ne(y0e,[["render",_0e]]),v0e={name:"AlertViewer",components:{Alert:E0e}},T0e={class:"fixed right-4 top-8 w-64",style:{"z-index":"100"}};function w0e(e,t,n,r,i,s){const o=Y("Alert");return x(),P("div",T0e,[S("ul",null,[U(ZC,{name:"slide-fade",tag:"li"},{default:W(()=>[(x(!0),P(Ge,null,$t(e.$store.state.alerts.alerts,a=>(x(),pe(o,{key:a.uuid,alert:a},null,8,["alert"]))),128))]),_:1})])])}const x0e=ne(v0e,[["render",w0e]]),C0e={components:{UserMenu:e2,AlertViewer:x0e,IssueReportForm:BA},data(){return{showLogin:!1,systemInfo:an.systemInfo}},computed:{...Bb(["isAuthed"]),appName(){return this.$store.state&&this.$store.state.systemInfo&&this.$store.state.systemInfo.app?this.$store.state.systemInfo.app.name:"GPM"}},watch:{isAuthed(){this.$route.meta&&this.$route.meta.protected&&this.isAuthed===!1&&this.$route.name!=="login"&&this.$router.push({name:"login"})}},mounted(){this.getLookupResources(),this.$store.dispatch("getCurrentUser")},methods:{getLookupResources(){this.$store.dispatch("cdwgs/getAll")},refreshCurrentRoute(){this.$router.push(this.$route)}}},S0e={id:"epam-app-root"},A0e={id:"nav",class:"border-b bg-gray-100 print:hidden"},k0e={class:"container mx-auto py-3 flex"},O0e={id:"main-menu",class:"flex-grow"},I0e={class:"inline-block pr-4"},N0e={key:0},R0e={class:"my-6 container mx-auto"},D0e={class:"fixed right-0 top-20 space-y-2"},M0e={key:0,class:"container mx-auto note border-t mt-4 pt-4"};function P0e(e,t,n,r,i,s){const o=Y("router-link"),a=Y("UserMenu"),l=Y("router-view"),u=Y("AlertViewer"),c=Y("help-button"),d=Y("IssueReportForm");return x(),P("div",S0e,[S("header",A0e,[S("div",k0e,[S("div",O0e,[S("div",I0e,[U(o,{to:"/",class:"text-black hover:text-black"},{default:W(()=>[Ae(ye(s.appName),1)]),_:1})]),e.$store.getters.isAuthed?(x(),P("span",N0e,[e.hasPermission("ep-applications-manage")?(x(),pe(o,{key:0,to:"/applications",class:"link nav-item"},{default:W(()=>t[0]||(t[0]=[Ae("Applications")])),_:1})):Oe("",!0),e.hasPermission("annual-updates-manage")?(x(),pe(o,{key:1,to:"/annual-updates",class:"link nav-item"},{default:W(()=>t[1]||(t[1]=[Ae("Annual Updates")])),_:1})):Oe("",!0),U(o,{to:"/people",class:"link nav-item"},{default:W(()=>t[2]||(t[2]=[Ae("People")])),_:1}),U(o,{to:{name:"GroupList"},class:"link nav-item"},{default:W(()=>t[3]||(t[3]=[Ae("Groups")])),_:1}),e.hasPermission("users-manage")?(x(),pe(o,{key:2,to:{name:"UserList"},class:"link nav-item"},{default:W(()=>t[4]||(t[4]=[Ae("Users")])),_:1})):Oe("",!0),e.hasPermission("reports-pull")?(x(),pe(o,{key:3,to:"/reports",class:"link nav-item"},{default:W(()=>t[5]||(t[5]=[Ae("Reports ")])),_:1})):Oe("",!0)])):Oe("",!0)]),t[6]||(t[6]=S("a",{href:"mailto:gpm_support@clinicalgenome.org?subject=New ExpertPanel Request",class:"btn btn-xs mr-4"},"Request a new group",-1)),U(a)])]),S("div",R0e,[S("div",null,[S("div",null,[U(l)])])]),U(u),S("div",D0e,[U(c),U(d,{class:"print:hidden"})]),(x(),pe(Er,{to:"body"},[e.hasRole("super-user")?(x(),P("div",M0e," Build: "+ye(e.$store.state.systemInfo.build.name)+" | Commit: "+ye(e.$store.state.systemInfo.build.commit||"--")+" | Env: "+ye(e.$store.state.systemInfo.env),1)):Oe("",!0)]))])}const L0e=ne(C0e,[["render",P0e]]),B0e="modulepreload",$0e=function(e){return"/build/"+e},rx={},Be=function(t,n,r){let i=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));i=Promise.allSettled(n.map(l=>{if(l=$0e(l),l in rx)return;rx[l]=!0;const u=l.endsWith(".css"),c=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${c}`))return;const d=document.createElement("link");if(d.rel=u?"stylesheet":B0e,u||(d.as="script"),d.crossOrigin="",d.href=l,a&&d.setAttribute("nonce",a),document.head.appendChild(d),u)return new Promise((f,p)=>{d.addEventListener("load",f),d.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${l}`)))})}))}function s(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return i.then(o=>{for(const a of o||[])a.status==="rejected"&&s(a.reason);return t().catch(s)})};/*!
  * vue-router v4.5.0
  * (c) 2024 Eduardo San Martin Morote
  * @license MIT
  */const Na=typeof document<"u";function HR(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function F0e(e){return e.__esModule||e[Symbol.toStringTag]==="Module"||e.default&&HR(e.default)}const ft=Object.assign;function Vm(e,t){const n={};for(const r in t){const i=t[r];n[r]=di(i)?i.map(e):e(i)}return n}const Uu=()=>{},di=Array.isArray,zR=/#/g,U0e=/&/g,H0e=/\//g,z0e=/=/g,V0e=/\?/g,VR=/\+/g,j0e=/%5B/g,q0e=/%5D/g,jR=/%5E/g,W0e=/%60/g,qR=/%7B/g,Y0e=/%7C/g,WR=/%7D/g,G0e=/%20/g;function Sy(e){return encodeURI(""+e).replace(Y0e,"|").replace(j0e,"[").replace(q0e,"]")}function K0e(e){return Sy(e).replace(qR,"{").replace(WR,"}").replace(jR,"^")}function z0(e){return Sy(e).replace(VR,"%2B").replace(G0e,"+").replace(zR,"%23").replace(U0e,"%26").replace(W0e,"`").replace(qR,"{").replace(WR,"}").replace(jR,"^")}function X0e(e){return z0(e).replace(z0e,"%3D")}function Q0e(e){return Sy(e).replace(zR,"%23").replace(V0e,"%3F")}function J0e(e){return e==null?"":Q0e(e).replace(H0e,"%2F")}function xc(e){try{return decodeURIComponent(""+e)}catch{}return""+e}const Z0e=/\/$/,ebe=e=>e.replace(Z0e,"");function jm(e,t,n="/"){let r,i={},s="",o="";const a=t.indexOf("#");let l=t.indexOf("?");return a<l&&a>=0&&(l=-1),l>-1&&(r=t.slice(0,l),s=t.slice(l+1,a>-1?a:t.length),i=e(s)),a>-1&&(r=r||t.slice(0,a),o=t.slice(a,t.length)),r=ibe(r??t,n),{fullPath:r+(s&&"?")+s+o,path:r,query:i,hash:xc(o)}}function tbe(e,t){const n=t.query?e(t.query):"";return t.path+(n&&"?")+n+(t.hash||"")}function ix(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||"/"}function nbe(e,t,n){const r=t.matched.length-1,i=n.matched.length-1;return r>-1&&r===i&&gl(t.matched[r],n.matched[i])&&YR(t.params,n.params)&&e(t.query)===e(n.query)&&t.hash===n.hash}function gl(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function YR(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(!rbe(e[n],t[n]))return!1;return!0}function rbe(e,t){return di(e)?sx(e,t):di(t)?sx(t,e):e===t}function sx(e,t){return di(t)?e.length===t.length&&e.every((n,r)=>n===t[r]):e.length===1&&e[0]===t}function ibe(e,t){if(e.startsWith("/"))return e;if(!e)return t;const n=t.split("/"),r=e.split("/"),i=r[r.length-1];(i===".."||i===".")&&r.push("");let s=n.length-1,o,a;for(o=0;o<r.length;o++)if(a=r[o],a!==".")if(a==="..")s>1&&s--;else break;return n.slice(0,s).join("/")+"/"+r.slice(o).join("/")}const Ss={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var Cc;(function(e){e.pop="pop",e.push="push"})(Cc||(Cc={}));var Hu;(function(e){e.back="back",e.forward="forward",e.unknown=""})(Hu||(Hu={}));function sbe(e){if(!e)if(Na){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),ebe(e)}const obe=/^[^#]+#/;function abe(e,t){return e.replace(obe,"#")+t}function lbe(e,t){const n=document.documentElement.getBoundingClientRect(),r=e.getBoundingClientRect();return{behavior:t.behavior,left:r.left-n.left-(t.left||0),top:r.top-n.top-(t.top||0)}}const ph=()=>({left:window.scrollX,top:window.scrollY});function ube(e){let t;if("el"in e){const n=e.el,r=typeof n=="string"&&n.startsWith("#"),i=typeof n=="string"?r?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!i)return;t=lbe(i,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.scrollX,t.top!=null?t.top:window.scrollY)}function ox(e,t){return(history.state?history.state.position-t:-1)+e}const V0=new Map;function cbe(e,t){V0.set(e,t)}function dbe(e){const t=V0.get(e);return V0.delete(e),t}let fbe=()=>location.protocol+"//"+location.host;function GR(e,t){const{pathname:n,search:r,hash:i}=t,s=e.indexOf("#");if(s>-1){let a=i.includes(e.slice(s))?e.slice(s).length:1,l=i.slice(a);return l[0]!=="/"&&(l="/"+l),ix(l,"")}return ix(n,e)+r+i}function pbe(e,t,n,r){let i=[],s=[],o=null;const a=({state:f})=>{const p=GR(e,location),m=n.value,g=t.value;let b=0;if(f){if(n.value=p,t.value=f,o&&o===m){o=null;return}b=g?f.position-g.position:0}else r(p);i.forEach(y=>{y(n.value,m,{delta:b,type:Cc.pop,direction:b?b>0?Hu.forward:Hu.back:Hu.unknown})})};function l(){o=n.value}function u(f){i.push(f);const p=()=>{const m=i.indexOf(f);m>-1&&i.splice(m,1)};return s.push(p),p}function c(){const{history:f}=window;f.state&&f.replaceState(ft({},f.state,{scroll:ph()}),"")}function d(){for(const f of s)f();s=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",c)}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",c,{passive:!0}),{pauseListeners:l,listen:u,destroy:d}}function ax(e,t,n,r=!1,i=!1){return{back:e,current:t,forward:n,replaced:r,position:window.history.length,scroll:i?ph():null}}function hbe(e){const{history:t,location:n}=window,r={value:GR(e,n)},i={value:t.state};i.value||s(r.value,{back:null,current:r.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function s(l,u,c){const d=e.indexOf("#"),f=d>-1?(n.host&&document.querySelector("base")?e:e.slice(d))+l:fbe()+e+l;try{t[c?"replaceState":"pushState"](u,"",f),i.value=u}catch(p){console.error(p),n[c?"replace":"assign"](f)}}function o(l,u){const c=ft({},t.state,ax(i.value.back,l,i.value.forward,!0),u,{position:i.value.position});s(l,c,!0),r.value=l}function a(l,u){const c=ft({},i.value,t.state,{forward:l,scroll:ph()});s(c.current,c,!0);const d=ft({},ax(r.value,l,null),{position:c.position+1},u);s(l,d,!1),r.value=l}return{location:r,state:i,push:a,replace:o}}function mbe(e){e=sbe(e);const t=hbe(e),n=pbe(e,t.state,t.location,t.replace);function r(s,o=!0){o||n.pauseListeners(),history.go(s)}const i=ft({location:"",base:e,go:r,createHref:abe.bind(null,e)},t,n);return Object.defineProperty(i,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(i,"state",{enumerable:!0,get:()=>t.state.value}),i}function gbe(e){return typeof e=="string"||e&&typeof e=="object"}function KR(e){return typeof e=="string"||typeof e=="symbol"}const XR=Symbol("");var lx;(function(e){e[e.aborted=4]="aborted",e[e.cancelled=8]="cancelled",e[e.duplicated=16]="duplicated"})(lx||(lx={}));function bl(e,t){return ft(new Error,{type:e,[XR]:!0},t)}function Ki(e,t){return e instanceof Error&&XR in e&&(t==null||!!(e.type&t))}const ux="[^/]+?",bbe={sensitive:!1,strict:!1,start:!0,end:!0},ybe=/[.+*?^${}()[\]/\\]/g;function _be(e,t){const n=ft({},bbe,t),r=[];let i=n.start?"^":"";const s=[];for(const u of e){const c=u.length?[]:[90];n.strict&&!u.length&&(i+="/");for(let d=0;d<u.length;d++){const f=u[d];let p=40+(n.sensitive?.25:0);if(f.type===0)d||(i+="/"),i+=f.value.replace(ybe,"\\$&"),p+=40;else if(f.type===1){const{value:m,repeatable:g,optional:b,regexp:y}=f;s.push({name:m,repeatable:g,optional:b});const E=y||ux;if(E!==ux){p+=10;try{new RegExp(`(${E})`)}catch(C){throw new Error(`Invalid custom RegExp for param "${m}" (${E}): `+C.message)}}let T=g?`((?:${E})(?:/(?:${E}))*)`:`(${E})`;d||(T=b&&u.length<2?`(?:/${T})`:"/"+T),b&&(T+="?"),i+=T,p+=20,b&&(p+=-8),g&&(p+=-20),E===".*"&&(p+=-50)}c.push(p)}r.push(c)}if(n.strict&&n.end){const u=r.length-1;r[u][r[u].length-1]+=.7000000000000001}n.strict||(i+="/?"),n.end?i+="$":n.strict&&!i.endsWith("/")&&(i+="(?:/|$)");const o=new RegExp(i,n.sensitive?"":"i");function a(u){const c=u.match(o),d={};if(!c)return null;for(let f=1;f<c.length;f++){const p=c[f]||"",m=s[f-1];d[m.name]=p&&m.repeatable?p.split("/"):p}return d}function l(u){let c="",d=!1;for(const f of e){(!d||!c.endsWith("/"))&&(c+="/"),d=!1;for(const p of f)if(p.type===0)c+=p.value;else if(p.type===1){const{value:m,repeatable:g,optional:b}=p,y=m in u?u[m]:"";if(di(y)&&!g)throw new Error(`Provided param "${m}" is an array but it is not repeatable (* or + modifiers)`);const E=di(y)?y.join("/"):y;if(!E)if(b)f.length<2&&(c.endsWith("/")?c=c.slice(0,-1):d=!0);else throw new Error(`Missing required param "${m}"`);c+=E}}return c||"/"}return{re:o,score:r,keys:s,parse:a,stringify:l}}function Ebe(e,t){let n=0;for(;n<e.length&&n<t.length;){const r=t[n]-e[n];if(r)return r;n++}return e.length<t.length?e.length===1&&e[0]===80?-1:1:e.length>t.length?t.length===1&&t[0]===80?1:-1:0}function QR(e,t){let n=0;const r=e.score,i=t.score;for(;n<r.length&&n<i.length;){const s=Ebe(r[n],i[n]);if(s)return s;n++}if(Math.abs(i.length-r.length)===1){if(cx(r))return 1;if(cx(i))return-1}return i.length-r.length}function cx(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const vbe={type:0,value:""},Tbe=/[a-zA-Z0-9_]/;function wbe(e){if(!e)return[[]];if(e==="/")return[[vbe]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(p){throw new Error(`ERR (${n})/"${u}": ${p}`)}let n=0,r=n;const i=[];let s;function o(){s&&i.push(s),s=[]}let a=0,l,u="",c="";function d(){u&&(n===0?s.push({type:0,value:u}):n===1||n===2||n===3?(s.length>1&&(l==="*"||l==="+")&&t(`A repeatable param (${u}) must be alone in its segment. eg: '/:ids+.`),s.push({type:1,value:u,regexp:c,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):t("Invalid state to consume buffer"),u="")}function f(){u+=l}for(;a<e.length;){if(l=e[a++],l==="\\"&&n!==2){r=n,n=4;continue}switch(n){case 0:l==="/"?(u&&d(),o()):l===":"?(d(),n=1):f();break;case 4:f(),n=r;break;case 1:l==="("?n=2:Tbe.test(l)?f():(d(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&a--);break;case 2:l===")"?c[c.length-1]=="\\"?c=c.slice(0,-1)+l:n=3:c+=l;break;case 3:d(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&a--,c="";break;default:t("Unknown state");break}}return n===2&&t(`Unfinished custom RegExp for param "${u}"`),d(),o(),i}function xbe(e,t,n){const r=_be(wbe(e.path),n),i=ft(r,{record:e,parent:t,children:[],alias:[]});return t&&!i.record.aliasOf==!t.record.aliasOf&&t.children.push(i),i}function Cbe(e,t){const n=[],r=new Map;t=hx({strict:!1,end:!0,sensitive:!1},t);function i(d){return r.get(d)}function s(d,f,p){const m=!p,g=fx(d);g.aliasOf=p&&p.record;const b=hx(t,d),y=[g];if("alias"in d){const C=typeof d.alias=="string"?[d.alias]:d.alias;for(const D of C)y.push(fx(ft({},g,{components:p?p.record.components:g.components,path:D,aliasOf:p?p.record:g})))}let E,T;for(const C of y){const{path:D}=C;if(f&&D[0]!=="/"){const _=f.record.path,M=_[_.length-1]==="/"?"":"/";C.path=f.record.path+(D&&M+D)}if(E=xbe(C,f,b),p?p.alias.push(E):(T=T||E,T!==E&&T.alias.push(E),m&&d.name&&!px(E)&&o(d.name)),JR(E)&&l(E),g.children){const _=g.children;for(let M=0;M<_.length;M++)s(_[M],E,p&&p.children[M])}p=p||E}return T?()=>{o(T)}:Uu}function o(d){if(KR(d)){const f=r.get(d);f&&(r.delete(d),n.splice(n.indexOf(f),1),f.children.forEach(o),f.alias.forEach(o))}else{const f=n.indexOf(d);f>-1&&(n.splice(f,1),d.record.name&&r.delete(d.record.name),d.children.forEach(o),d.alias.forEach(o))}}function a(){return n}function l(d){const f=kbe(d,n);n.splice(f,0,d),d.record.name&&!px(d)&&r.set(d.record.name,d)}function u(d,f){let p,m={},g,b;if("name"in d&&d.name){if(p=r.get(d.name),!p)throw bl(1,{location:d});b=p.record.name,m=ft(dx(f.params,p.keys.filter(T=>!T.optional).concat(p.parent?p.parent.keys.filter(T=>T.optional):[]).map(T=>T.name)),d.params&&dx(d.params,p.keys.map(T=>T.name))),g=p.stringify(m)}else if(d.path!=null)g=d.path,p=n.find(T=>T.re.test(g)),p&&(m=p.parse(g),b=p.record.name);else{if(p=f.name?r.get(f.name):n.find(T=>T.re.test(f.path)),!p)throw bl(1,{location:d,currentLocation:f});b=p.record.name,m=ft({},f.params,d.params),g=p.stringify(m)}const y=[];let E=p;for(;E;)y.unshift(E.record),E=E.parent;return{name:b,path:g,params:m,matched:y,meta:Abe(y)}}e.forEach(d=>s(d));function c(){n.length=0,r.clear()}return{addRoute:s,resolve:u,removeRoute:o,clearRoutes:c,getRoutes:a,getRecordMatcher:i}}function dx(e,t){const n={};for(const r of t)r in e&&(n[r]=e[r]);return n}function fx(e){const t={path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:e.aliasOf,beforeEnter:e.beforeEnter,props:Sbe(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}};return Object.defineProperty(t,"mods",{value:{}}),t}function Sbe(e){const t={},n=e.props||!1;if("component"in e)t.default=n;else for(const r in e.components)t[r]=typeof n=="object"?n[r]:n;return t}function px(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function Abe(e){return e.reduce((t,n)=>ft(t,n.meta),{})}function hx(e,t){const n={};for(const r in e)n[r]=r in t?t[r]:e[r];return n}function kbe(e,t){let n=0,r=t.length;for(;n!==r;){const s=n+r>>1;QR(e,t[s])<0?r=s:n=s+1}const i=Obe(e);return i&&(r=t.lastIndexOf(i,r-1)),r}function Obe(e){let t=e;for(;t=t.parent;)if(JR(t)&&QR(e,t)===0)return t}function JR({record:e}){return!!(e.name||e.components&&Object.keys(e.components).length||e.redirect)}function Ibe(e){const t={};if(e===""||e==="?")return t;const r=(e[0]==="?"?e.slice(1):e).split("&");for(let i=0;i<r.length;++i){const s=r[i].replace(VR," "),o=s.indexOf("="),a=xc(o<0?s:s.slice(0,o)),l=o<0?null:xc(s.slice(o+1));if(a in t){let u=t[a];di(u)||(u=t[a]=[u]),u.push(l)}else t[a]=l}return t}function mx(e){let t="";for(let n in e){const r=e[n];if(n=X0e(n),r==null){r!==void 0&&(t+=(t.length?"&":"")+n);continue}(di(r)?r.map(s=>s&&z0(s)):[r&&z0(r)]).forEach(s=>{s!==void 0&&(t+=(t.length?"&":"")+n,s!=null&&(t+="="+s))})}return t}function Nbe(e){const t={};for(const n in e){const r=e[n];r!==void 0&&(t[n]=di(r)?r.map(i=>i==null?null:""+i):r==null?r:""+r)}return t}const Rbe=Symbol(""),gx=Symbol(""),hh=Symbol(""),Ay=Symbol(""),j0=Symbol("");function ru(){let e=[];function t(r){return e.push(r),()=>{const i=e.indexOf(r);i>-1&&e.splice(i,1)}}function n(){e=[]}return{add:t,list:()=>e.slice(),reset:n}}function $s(e,t,n,r,i,s=o=>o()){const o=r&&(r.enterCallbacks[i]=r.enterCallbacks[i]||[]);return()=>new Promise((a,l)=>{const u=f=>{f===!1?l(bl(4,{from:n,to:t})):f instanceof Error?l(f):gbe(f)?l(bl(2,{from:t,to:f})):(o&&r.enterCallbacks[i]===o&&typeof f=="function"&&o.push(f),a())},c=s(()=>e.call(r&&r.instances[i],t,n,u));let d=Promise.resolve(c);e.length<3&&(d=d.then(u)),d.catch(f=>l(f))})}function qm(e,t,n,r,i=s=>s()){const s=[];for(const o of e)for(const a in o.components){let l=o.components[a];if(!(t!=="beforeRouteEnter"&&!o.instances[a]))if(HR(l)){const c=(l.__vccOpts||l)[t];c&&s.push($s(c,n,r,o,a,i))}else{let u=l();s.push(()=>u.then(c=>{if(!c)throw new Error(`Couldn't resolve component "${a}" at "${o.path}"`);const d=F0e(c)?c.default:c;o.mods[a]=c,o.components[a]=d;const p=(d.__vccOpts||d)[t];return p&&$s(p,n,r,o,a,i)()}))}}return s}function bx(e){const t=Un(hh),n=Un(Ay),r=yt(()=>{const l=_e(e.to);return t.resolve(l)}),i=yt(()=>{const{matched:l}=r.value,{length:u}=l,c=l[u-1],d=n.matched;if(!c||!d.length)return-1;const f=d.findIndex(gl.bind(null,c));if(f>-1)return f;const p=yx(l[u-2]);return u>1&&yx(c)===p&&d[d.length-1].path!==p?d.findIndex(gl.bind(null,l[u-2])):f}),s=yt(()=>i.value>-1&&Bbe(n.params,r.value.params)),o=yt(()=>i.value>-1&&i.value===n.matched.length-1&&YR(n.params,r.value.params));function a(l={}){if(Lbe(l)){const u=t[_e(e.replace)?"replace":"push"](_e(e.to)).catch(Uu);return e.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>u),u}return Promise.resolve()}return{route:r,href:yt(()=>r.value.href),isActive:s,isExactActive:o,navigate:a}}function Dbe(e){return e.length===1?e[0]:e}const Mbe=rr({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:bx,setup(e,{slots:t}){const n=El(bx(e)),{options:r}=Un(hh),i=yt(()=>({[_x(e.activeClass,r.linkActiveClass,"router-link-active")]:n.isActive,[_x(e.exactActiveClass,r.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const s=t.default&&Dbe(t.default(n));return e.custom?s:Qt("a",{"aria-current":n.isExactActive?e.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:i.value},s)}}}),Pbe=Mbe;function Lbe(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function Bbe(e,t){for(const n in t){const r=t[n],i=e[n];if(typeof r=="string"){if(r!==i)return!1}else if(!di(i)||i.length!==r.length||r.some((s,o)=>s!==i[o]))return!1}return!0}function yx(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const _x=(e,t,n)=>e??t??n,$be=rr({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:n}){const r=Un(j0),i=yt(()=>e.route||r.value),s=Un(gx,0),o=yt(()=>{let u=_e(s);const{matched:c}=i.value;let d;for(;(d=c[u])&&!d.components;)u++;return u}),a=yt(()=>i.value.matched[o.value]);pr(gx,yt(()=>o.value+1)),pr(Rbe,a),pr(j0,i);const l=_t();return Tn(()=>[l.value,a.value,e.name],([u,c,d],[f,p,m])=>{c&&(c.instances[d]=u,p&&p!==c&&u&&u===f&&(c.leaveGuards.size||(c.leaveGuards=p.leaveGuards),c.updateGuards.size||(c.updateGuards=p.updateGuards))),u&&c&&(!p||!gl(c,p)||!f)&&(c.enterCallbacks[d]||[]).forEach(g=>g(u))},{flush:"post"}),()=>{const u=i.value,c=e.name,d=a.value,f=d&&d.components[c];if(!f)return Ex(n.default,{Component:f,route:u});const p=d.props[c],m=p?p===!0?u.params:typeof p=="function"?p(u):p:null,b=Qt(f,ft({},m,t,{onVnodeUnmounted:y=>{y.component.isUnmounted&&(d.instances[c]=null)},ref:l}));return Ex(n.default,{Component:b,route:u})||b}}});function Ex(e,t){if(!e)return null;const n=e(t);return n.length===1?n[0]:n}const Fbe=$be;function Ube(e){const t=Cbe(e.routes,e),n=e.parseQuery||Ibe,r=e.stringifyQuery||mx,i=e.history,s=ru(),o=ru(),a=ru(),l=ss(Ss);let u=Ss;Na&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const c=Vm.bind(null,z=>""+z),d=Vm.bind(null,J0e),f=Vm.bind(null,xc);function p(z,ce){let fe,Se;return KR(z)?(fe=t.getRecordMatcher(z),Se=ce):Se=z,t.addRoute(Se,fe)}function m(z){const ce=t.getRecordMatcher(z);ce&&t.removeRoute(ce)}function g(){return t.getRoutes().map(z=>z.record)}function b(z){return!!t.getRecordMatcher(z)}function y(z,ce){if(ce=ft({},ce||l.value),typeof z=="string"){const L=jm(n,z,ce.path),X=t.resolve({path:L.path},ce),Q=i.createHref(L.fullPath);return ft(L,X,{params:f(X.params),hash:xc(L.hash),redirectedFrom:void 0,href:Q})}let fe;if(z.path!=null)fe=ft({},z,{path:jm(n,z.path,ce.path).path});else{const L=ft({},z.params);for(const X in L)L[X]==null&&delete L[X];fe=ft({},z,{params:d(L)}),ce.params=d(ce.params)}const Se=t.resolve(fe,ce),Xe=z.hash||"";Se.params=c(f(Se.params));const A=tbe(r,ft({},z,{hash:K0e(Xe),path:Se.path})),N=i.createHref(A);return ft({fullPath:A,hash:Xe,query:r===mx?Nbe(z.query):z.query||{}},Se,{redirectedFrom:void 0,href:N})}function E(z){return typeof z=="string"?jm(n,z,l.value.path):ft({},z)}function T(z,ce){if(u!==z)return bl(8,{from:ce,to:z})}function C(z){return M(z)}function D(z){return C(ft(E(z),{replace:!0}))}function _(z){const ce=z.matched[z.matched.length-1];if(ce&&ce.redirect){const{redirect:fe}=ce;let Se=typeof fe=="function"?fe(z):fe;return typeof Se=="string"&&(Se=Se.includes("?")||Se.includes("#")?Se=E(Se):{path:Se},Se.params={}),ft({query:z.query,hash:z.hash,params:Se.path!=null?{}:z.params},Se)}}function M(z,ce){const fe=u=y(z),Se=l.value,Xe=z.state,A=z.force,N=z.replace===!0,L=_(fe);if(L)return M(ft(E(L),{state:typeof L=="object"?ft({},Xe,L.state):Xe,force:A,replace:N}),ce||fe);const X=fe;X.redirectedFrom=ce;let Q;return!A&&nbe(r,Se,fe)&&(Q=bl(16,{to:X,from:Se}),tt(Se,Se,!0,!1)),(Q?Promise.resolve(Q):K(X,Se)).catch(J=>Ki(J)?Ki(J,2)?J:k(J):ve(J,X,Se)).then(J=>{if(J){if(Ki(J,2))return M(ft({replace:N},E(J.to),{state:typeof J.to=="object"?ft({},Xe,J.to.state):Xe,force:A}),ce||X)}else J=H(X,Se,!0,N,Xe);return V(X,Se,J),J})}function G(z,ce){const fe=T(z,ce);return fe?Promise.reject(fe):Promise.resolve()}function B(z){const ce=lt.values().next().value;return ce&&typeof ce.runWithContext=="function"?ce.runWithContext(z):z()}function K(z,ce){let fe;const[Se,Xe,A]=Hbe(z,ce);fe=qm(Se.reverse(),"beforeRouteLeave",z,ce);for(const L of Se)L.leaveGuards.forEach(X=>{fe.push($s(X,z,ce))});const N=G.bind(null,z,ce);return fe.push(N),Je(fe).then(()=>{fe=[];for(const L of s.list())fe.push($s(L,z,ce));return fe.push(N),Je(fe)}).then(()=>{fe=qm(Xe,"beforeRouteUpdate",z,ce);for(const L of Xe)L.updateGuards.forEach(X=>{fe.push($s(X,z,ce))});return fe.push(N),Je(fe)}).then(()=>{fe=[];for(const L of A)if(L.beforeEnter)if(di(L.beforeEnter))for(const X of L.beforeEnter)fe.push($s(X,z,ce));else fe.push($s(L.beforeEnter,z,ce));return fe.push(N),Je(fe)}).then(()=>(z.matched.forEach(L=>L.enterCallbacks={}),fe=qm(A,"beforeRouteEnter",z,ce,B),fe.push(N),Je(fe))).then(()=>{fe=[];for(const L of o.list())fe.push($s(L,z,ce));return fe.push(N),Je(fe)}).catch(L=>Ki(L,8)?L:Promise.reject(L))}function V(z,ce,fe){a.list().forEach(Se=>B(()=>Se(z,ce,fe)))}function H(z,ce,fe,Se,Xe){const A=T(z,ce);if(A)return A;const N=ce===Ss,L=Na?history.state:{};fe&&(Se||N?i.replace(z.fullPath,ft({scroll:N&&L&&L.scroll},Xe)):i.push(z.fullPath,Xe)),l.value=z,tt(z,ce,fe,N),k()}let te;function Ee(){te||(te=i.listen((z,ce,fe)=>{if(!qe.listening)return;const Se=y(z),Xe=_(Se);if(Xe){M(ft(Xe,{replace:!0,force:!0}),Se).catch(Uu);return}u=Se;const A=l.value;Na&&cbe(ox(A.fullPath,fe.delta),ph()),K(Se,A).catch(N=>Ki(N,12)?N:Ki(N,2)?(M(ft(E(N.to),{force:!0}),Se).then(L=>{Ki(L,20)&&!fe.delta&&fe.type===Cc.pop&&i.go(-1,!1)}).catch(Uu),Promise.reject()):(fe.delta&&i.go(-fe.delta,!1),ve(N,Se,A))).then(N=>{N=N||H(Se,A,!1),N&&(fe.delta&&!Ki(N,8)?i.go(-fe.delta,!1):fe.type===Cc.pop&&Ki(N,20)&&i.go(-1,!1)),V(Se,A,N)}).catch(Uu)}))}let me=ru(),xe=ru(),Ce;function ve(z,ce,fe){k(z);const Se=xe.list();return Se.length?Se.forEach(Xe=>Xe(z,ce,fe)):console.error(z),Promise.reject(z)}function $e(){return Ce&&l.value!==Ss?Promise.resolve():new Promise((z,ce)=>{me.add([z,ce])})}function k(z){return Ce||(Ce=!z,Ee(),me.list().forEach(([ce,fe])=>z?fe(z):ce()),me.reset()),z}function tt(z,ce,fe,Se){const{scrollBehavior:Xe}=e;if(!Na||!Xe)return Promise.resolve();const A=!fe&&dbe(ox(z.fullPath,0))||(Se||!fe)&&history.state&&history.state.scroll||null;return Ac().then(()=>Xe(z,ce,A)).then(N=>N&&ube(N)).catch(N=>ve(N,z,ce))}const Qe=z=>i.go(z);let I;const lt=new Set,qe={currentRoute:l,listening:!0,addRoute:p,removeRoute:m,clearRoutes:t.clearRoutes,hasRoute:b,getRoutes:g,resolve:y,options:e,push:C,replace:D,go:Qe,back:()=>Qe(-1),forward:()=>Qe(1),beforeEach:s.add,beforeResolve:o.add,afterEach:a.add,onError:xe.add,isReady:$e,install(z){const ce=this;z.component("RouterLink",Pbe),z.component("RouterView",Fbe),z.config.globalProperties.$router=ce,Object.defineProperty(z.config.globalProperties,"$route",{enumerable:!0,get:()=>_e(l)}),Na&&!I&&l.value===Ss&&(I=!0,C(i.location).catch(Xe=>{}));const fe={};for(const Xe in Ss)Object.defineProperty(fe,Xe,{get:()=>l.value[Xe],enumerable:!0});z.provide(hh,ce),z.provide(Ay,Xx(fe)),z.provide(j0,l);const Se=z.unmount;lt.add(z),z.unmount=function(){lt.delete(z),lt.size<1&&(u=Ss,te&&te(),te=null,l.value=Ss,I=!1,Ce=!1),Se()}}};function Je(z){return z.reduce((ce,fe)=>ce.then(()=>B(fe)),Promise.resolve())}return qe}function Hbe(e,t){const n=[],r=[],i=[],s=Math.max(t.matched.length,e.matched.length);for(let o=0;o<s;o++){const a=t.matched[o];a&&(e.matched.find(u=>gl(u,a))?r.push(a):n.push(a));const l=e.matched[o];l&&(t.matched.find(u=>gl(u,l))||i.push(l))}return[n,r,i]}function Iye(){return Un(hh)}function Nye(e){return Un(Ay)}class rp extends po{get isCompleted(){return!!this.attributes.date_completed}get steps(){if(this.is_gcep===1)return[1];if(this.is_vcep_or_scvcep)return[1,2,3,4];throw console.log(this),new Error(`Unknown expert_panel_type_id found when determining application steps. Value: ${this}`)}get pendingNextActions(){return this.next_actions?this.next_actions.filter(t=>t.date_completed===null):[]}get pendingActionsByAssignee(){const t=Object.values(an.nextActions.assignees).map(r=>r.id),n={};for(const r in t){const i=t[r];n[i]=[]}if(!this.next_actions)return n;for(const r in this.pendingNextActions){const i=this.pendingNextActions[r].assigned_to;n[i].push(this.pendingNextActions[r])}return n}get hasContacts(){return this.contacts.length>0}isWaitingOnCdwgOc(){return this.pendingActionsAssigneeCounts.cdwg_oc>0}isWaitingOnExpertPanel(){return this.pendingActionsAssigneeCounts.expert_panel>0}stepIsApproved(t){if(!t)return!1;if(!this.steps.includes(t))throw new Error(`Step ${t} out of bounds`);return!!this[`step_${t}_approval_date`]}approvalDateForStep(t){if(!this.steps.includes(t))throw new Error(`Step ${t} out of bounds`);const n=`step_${t}_approval_date`;return this[n]?new Date(Date.parse(this[n])):null}firstDocumentOfType(t){return this.documents.filter(r=>r.document_type_id===t).sort((r,i)=>r.date_reviewed===i.date_reviewed?r.version>i.version?1:-1:r.date_reviewed>i.date_reviewed?1:-1)[0]||{}}finalDocumentOfType(t){const n=this.documents.filter(r=>r.document_type_id===t).sort((r,i)=>r.date_reviewed===i.date_reviewed?r.version>i.version?1:-1:r.date_reviewed>i.date_reviewed?1:-1);return n[n.length-1]||{}}}Bn(rp,"dates",["date_completed","date_initiated","created_at","updated_at","deleted_at"]),Bn(rp,"defaults",{working_name:null,expert_panel_type_id:null,cdwg_id:null,id:null,uuid:null,name:null,documents:[],approval_dates:{},date_completed:null,date_initiated:null,cdwg:{},latest_log_entry:{},latest_pending_next_action:null,log_entries:[],type:{},contacts:[]});const Ts="/api/applications";function bs(e){if(!e.uuid)throw new Error("Entity must have a uuid to complete the transaction.")}async function zbe(e){return await ee.get(Ts+ls(e)).then(n=>n.data.data)}async function Vbe(e,t){return await ee.get(`${Ts}/${e}${ls(t)}`).then(r=>r.data.data)}async function jbe(e){return e.uuid||(e.uuid=lo()),await ee.post(Ts,e).then(t=>t.data)}async function qbe(e,t,n,r){bs(e);const i=`${Ts}/${e.uuid}/current-step/approve`;return await ee.post(i,{date_approved:t,notify_contacts:n,notify_clingen:r}).then(s=>s.data)}async function Wbe(e){bs(e);const{long_base_name:t,short_base_name:n,affiliation_id:r,cdwg_id:i}=e,s={long_base_name:t,short_base_name:n,affiliation_id:r,cdwg_id:i};return await ee.put(`${Ts}/${e.uuid}`,s).then(o=>o.data)}async function Ybe(e,t){bs(e),t.has("uuid")||t.append("uuid",lo());const n=`${Ts}/${e.uuid}/documents`;return await ee.post(n,t).then(r=>r.data)}async function Gbe(e,t,n){bs(e),bs(t);const r=`${Ts}/${e.uuid}/documents/${t.uuid}/review`;return await ee.post(r,{date_reviewed:n}).then(i=>i.data)}async function Kbe(e,t){bs(e),bs(t);const n=`${Ts}/${e.uuid}/contacts`;return await ee.post(n,{person_uuid:t.uuid}).then(r=>r.data)}async function Xbe(e,t){bs(e),bs(t);const n=`${Ts}/${e.uuid}/contacts/${t.uuid}`;return await ee.delete(n).then(r=>r.data)}const Ns={all:zbe,find:Vbe,initiate:jbe,approveCurrentStep:qbe,updateEpAttributes:Wbe,addDocument:Ybe,markDocumentReviewed:Gbe,addContact:Kbe,removeContact:Xbe},Wm="/api/applications",Qbe={namespaced:!0,state:()=>({requests:[],items:[],lastFetch:null,lastParams:{},currentItemIdx:null,lastFetchBy:null}),getters:{applications:e=>e.items,all:e=>e.items,requestCount:e=>e.requests.length,hasPendingRequests:e=>e.requests.length>0,gceps:e=>e.items.filter(t=>t.expert_panel_type_id===1),vceps:e=>e.items.filter(t=>t.expert_panel_type_id===2),currentItem:e=>e.currentItemIdx===null?new rp:e.items[e.currentItemIdx],getApplicationByUuid:e=>t=>e.items.find(n=>n.uuid===t)},mutations:{addApplication(e,t){const n=new rp(t),r=e.items.findIndex(i=>i.uuid===t.uuid);if(r>-1){e.items.splice(r,1,n);return}e.items.push(n)},clearApplications(e){e.items=[]},setLastFetch(e){e.lastFetch=new Date},setLastParams(e,t){e.lastParams=t},setCurrentItemIndex(e,t){const n=e.items.findIndex(r=>r.uuid===t.uuid);e.currentItemIdx=n},removeItem(e,t){const n=e.items.findIndex(r=>r.uuid===t.uuid);e.items.splice(n,1)},clearCurrentItemIdx(e){e.currentItemIdx=null}},actions:{getApplications({commit:e},t){ee.get(Wm+ls(t)).then(n=>{n.data.data.forEach(r=>{e("addApplication",r)})})},async initiateApplication({commit:e,dispatch:t},n){await Ns.initiate(n).then(r=>{e("addApplication",r),t("getApplications")})},async getApplication({commit:e},t){await Ns.find(t,{with:["group.logEntries","group.documents","contacts","group.logEntries.causer","cois","group.documents.type","nextActions"]}).then(n=>{e("addApplication",n),e("setCurrentItemIndex",n)})},async updateEpAttributes({dispatch:e},t){await Ns.updateEpAttributes(t).then(()=>{e("getApplication",t.uuid)})},async addNextAction({commit:e},{application:t,nextActionData:n}){return n.uuid||(n.uuid=lo()),await ee.post(`${Wm}/${t.uuid}/next-actions`,n).then(r=>(t.nextActions.push(r.data),r))},async updateNextAction({dispatch:e},{application:t,updatedAction:n}){return n.uuid||(n.uuid=lo()),await ee.put(`${Wm}/${t.uuid}/next-actions/${n.id}`,n).then(r=>{const i=t.nextActions.findIndex(s=>s.id===r.data.id);return t.nextActions[i]=r.data,r})},async deleteNextAction({dispatch:e},{application:t,nextAction:n}){const r=`/api/applications/${t.uuid}/next-actions/${n.id}`;await ee.delete(r).then(i=>{const s=t.nextActions.findIndex(o=>o.id===n.id);return t.nextActions.splice(s,1),i})},async completeNextAction({dispatch:e},{application:t,nextAction:n,dateCompleted:r}){const i=`/api/applications/${t.uuid}/next-actions/${n.uuid}/complete`;await ee.post(i,{date_completed:r}).then(s=>{const o=t.nextActions.findIndex(a=>a.id===s.data.id);return t.nextActions[o]=s.data,s})},async addLogEntry({dispatch:e},{application:t,logEntryData:n}){const r=`/api/applications/${t.uuid}/log-entries`;await ee.post(r,n).then(()=>{e("getApplication",t.uuid)})},async updateLogEntry({dispatch:e},{application:t,updatedEntry:n}){const r=`/api/applications/${t.uuid}/log-entries/${n.id}`;await ee.put(r,n).then(()=>{e("getApplication",t.uuid)})},async deleteLogEntry({dispatch:e},{application:t,logEntry:n}){const r=`/api/applications/${t.uuid}/log-entries/${n.id}`;await ee.delete(r).then(()=>{e("getApplication",t.uuid)})},async addDocument({dispatch:e},{application:t,documentData:n}){await Ns.addDocument(t,n).then(r=>(e("getApplication",t.uuid),r))},async markDocumentReviewed({dispatch:e},{application:t,document:n,dateReviewed:r,isFinal:i}){await Ns.markDocumentReviewed(t,n,r,i).then(()=>{e("getApplication",t.uuid)})},async markDocumentVersionFinal({dispatch:e},{application:t,document:n}){await ee.post(`/api/applications/${t.uuid}/documents/${n.uuid}/final`).then(r=>{const i=t.documents.findIndex(a=>a.metadata.is_final===1),s=t.documents[i];s&&(s.metadata.is_final=0,s.is_final=0,t.documents[i]=s);const o=t.documents.findIndex(a=>a.id===r.data.id);t.documents[o]=r.data})},async updateDocumentInfo({dispatch:e},{application:t,document:n}){return await ee.put(`/api/applications/${t.uuid}/documents/${n.uuid}`,n).then(()=>{e("getApplication",t.uuid)})},async deleteDocument({dispatch:e},{application:t,document:n}){return await ee.delete(`/api/applications/${t.uuid}/documents/${n.uuid}`).then(()=>{e("getApplication",t.uuid)})},async approveCurrentStep({dispatch:e},{application:t,dateApproved:n,notifyContacts:r,subject:i,body:s,attachments:o}){const a=new FormData;a.append("date_approved",n),a.append("notify_contacts",r),a.append("subject",i),a.append("body",s),Array.from(o).forEach((u,c)=>{a.append(`attachments[${c}]`,u)});const l=`/api/applications/${t.uuid}/current-step/approve`;return await ee.post(l,a,{headers:{"Content-Type":"multipart/form-data"}}).then(()=>{e("getApplication",t.uuid)})},async updateApprovalDate({dispatch:e},{application:t,dateApproved:n,step:r}){await ee.put(`/api/applications/${t.uuid}/approve`,{date_approved:n,step:r}).then(()=>{e("getApplication",t.uuid)})},async addContact({dispatch:e},{application:t,contact:n}){await Ns.addContact(t,n).then(()=>{e("getApplication",t.uuid)})},async removeContact({dispatch:e},{application:t,contact:n}){await Ns.removeContact(t,n).then(()=>{e("getApplication",t.uuid)})},async deleteApplication({commit:e},{application:t}){return await ee.delete(`/api/applications/${t.uuid}`).then(()=>{e("removeItem",t),e("clearCurrentItemIdx")})}}},Jbe={namespaced:!0,state:()=>({items:[]}),getters:{all:e=>e.items},mutations:{addItem(e,t){const n=e.items.findIndex(r=>r.id===t.id);if(n>-1){e.items.splice(n,1,t);return}e.items.push(t)}},actions:{async getAll({commit:e}){await ee.get("/api/cdwgs").then(t=>{t.data.forEach(n=>{e("addItem",n)})})}}},Zbe={state:{},mutations:{},actions:{async storeCoi({commit:e},{code:t,groupMemberId:n,coiData:r}){const i={...r,group_member_id:n};await ee.post(`/api/coi/${t}`,i)},async storeLegacyCoi({commit:e},{application:t,coiData:n}){await Ns.addDocument(t,n).then(async r=>{const i={document_uuid:r.uuid,download_url:r.download_url};await Re.dispatch("storeCoi",{code:t.coi_code,coiData:i}),Re.dispatch("applications/getApplication",t.uuid)})}}},vt="/api/groups",iu=e=>`${vt}/${e}/expert-panel`,q0={groups:e=>e.items,items:e=>e.items,all:e=>e.items,requestCount:e=>e.requests.length,hasPendingRequests:e=>e.requests.length>0,eps:e=>e.items.filter(t=>t.group_type_id===3),cdwgs:e=>e.items.filter(t=>t.group_type_id===2),wgs:e=>e.items.filter(t=>t.group_type_id===1),currentItem:e=>e.items[e.currentItemIdx],currentItemOrNew:e=>e.items[e.currentItemIdx]||new wc,getItemByUuid:e=>t=>e.items.find(r=>r.uuid===t),getItemById:e=>t=>e.items.find(r=>r.id===t)},e1e={addItem(e,t){if(!t.id)throw new Error("404: group item id is required");const n=Object.prototype.hasOwnProperty.call(t,"attributes")?t:new wc(t),r=e.items.findIndex(i=>i.id===t.id);if(r>-1){e.items.splice(r,1,n);return}e.items.push(n)},setCurrentItemIndex(e,t){const n=e.items.findIndex(r=>r.uuid===t.uuid);e.currentItemIdx=n},removeItem(e,t){const n=e.items.findIndex(r=>r.uuid===t.uuid);e.items.splice(n,1)},clearCurrentItemIdx(e){e.currentItemIdx=null},clearCurrentItem(e){e.currentItemIdx=null},addMemberToGroup(e,t){const n=q0.getItemById(e)(t.group_id);if(!n)throw new Error(`could not find group with id ${t.group_id} in items.`);n.addMember(t)},removeMember(e,t){const n=q0.getItemById(e)(t.group_id);if(!n)throw new Error(`could not find group with id ${t.group_id} in items.`);n.removeMember(t)},setCurrentItemIndexByUuid(e,t){if(e.items.length>0){const n=e.items.findIndex(r=>r.uuid===t);if(n>-1){e.currentItemIdx=n;return}throw new Error(`Item with uuid ${t} not found in groups.items with length ${e.items.length}`)}}},t1e={async create({commit:e},t){return await ee.post(vt,t).then(n=>(e("addItem",n.data.data),n))},async getItems({commit:e},t){const n=vt+ls(t);(await ee.get(n).then(i=>i.data)).forEach(i=>{e("addItem",i)})},async find({commit:e},t){const n=`${vt}/${t}${ls({with:[]})}`;return await ee.get(n).then(r=>(e("addItem",r.data.data),r))},delete({commit:e,getters:t},n){return ee.delete(`${vt}/${n}`).then(()=>{const r=t.getItemByUuid(n);e("removeItem",r)})},findAndSetCurrent({dispatch:e,commit:t},n){return e("find",n).then(r=>(t("setCurrentItemIndexByUuid",n),r))},async memberAdd({commit:e},{uuid:t,personId:n,roleIds:r,data:i}){const s=`${vt}/${t}/members`;return await ee.post(s,{person_id:n,role_ids:r,...i}).then(o=>(e("addMemberToGroup",o.data.data),o.data.data))},async getMembers({commit:e},t){(await ee.get(`${vt}/${t.uuid}/members`).then(r=>r.data.data)).forEach(r=>{e("addMemberToGroup",r)})},async memberInvite({commit:e},{uuid:t,data:n}){const r=`${vt}/${t}/invites`,i={first_name:n.firstName,last_name:n.lastName,email:n.email,role_ids:n.roleIds||null,...n};return await ee.post(r,i).then(s=>(e("addMemberToGroup",s.data.data),s.data))},async memberUpdate({commit:e},{groupUuid:t,memberId:n,data:r}){const i=`${vt}/${t}/members/${n}`;return await ee.put(i,r).then(s=>(e("addMemberToGroup",s.data.data),s.data))},async memberAssignRole(e,{uuid:t,memberId:n,roleIds:r}){const i=`${vt}/${t}/members/${n}/roles`;return await ee.post(i,{role_ids:r}).then(s=>(e.getters.getItemByUuid(t).findMember(n).addRoles(r),s.data))},async memberRemoveRole({commit:e},{uuid:t,memberId:n,roleId:r}){const i=`${vt}/${t}/members/${n}/roles/${r}`;return await ee.delete(i).then(s=>(e("addMemberToGroup",s.data.data),s))},async memberSyncRoles({dispatch:e},{group:t,member:n}){const r=[];return n.addedRoles.length>0&&r.push(e("memberAssignRole",{uuid:t.uuid,memberId:n.id,roleIds:n.addedRoles.map(i=>i.id)})),n.removedRoles.forEach(i=>{r.push(e("memberRemoveRole",{uuid:t.uuid,memberId:n.id,roleId:i.id}))}),r},async memberGrantPermission({commit:e},{uuid:t,memberId:n,permissionIds:r}){const i=`${vt}/${t}/members/${n}/permissions`;return await ee.post(i,{permission_ids:r}).then(s=>(e("addMemberToGroup",s.data.data),s))},async memberRevokePermission({commit:e},{uuid:t,memberId:n,permissionId:r}){const i=`${vt}/${t}/members/${n}/permissions/${r}`;return await ee.delete(i).then(s=>(e("addMemberToGroup",s.data.data),s))},async memberRetire({commit:e},{uuid:t,memberId:n,startDate:r,endDate:i}){const s=`${vt}/${t}/members/${n}/retire`;return await ee.post(s,{start_date:r,end_date:i}).then(o=>(e("addMemberToGroup",o.data.data),o))},async memberUnretire({commit:e},{uuid:t,memberId:n}){const r=`${vt}/${t}/members/${n}/unretire`;return await ee.post(r).then(i=>(e("addMemberToGroup",i.data.data),i))},async memberRemove({commit:e},{uuid:t,memberId:n,endDate:r}){const i=`${vt}/${t}/members/${n}`;return await ee.delete(i,{data:{end_date:r}}).then(s=>(e("removeMember",s.data.data),s))},async descriptionUpdate({commit:e,getters:t},{uuid:n,description:r}){return await ee.put(`${vt}/${n}`,{description:r}).then(i=>{const s=t.getItemByUuid(n);return s.description=i.data.description,e("addItem",s),i})},async membershipDescriptionUpdate({commit:e,getters:t},{uuid:n,membershipDescription:r}){return await ee.put(`${iu(n)}/membership-description`,{membership_description:r}).then(i=>{const s=t.getItemByUuid(n);return s.memberDescription=i.data.data.expert_panel.memberDescription,e("addItem",s),i})},async scopeDescriptionUpdate({commit:e,getters:t},{uuid:n,scopeDescription:r}){return await ee.put(`${iu(n)}/scope-description`,{scope_description:r}).then(i=>{const s=t.getItemByUuid(n);return s.memberDescription=i.data.data.expert_panel.scopeDescription,e("addItem",s),i})},async curationReviewProtocolUpdate({commit:e},{uuid:t,expertPanel:n}){return n.curation_review_protocol_id!==100&&(n.curation_review_protocol_other=null),ee.put(`${iu(t)}/curation-review-protocols`,n.attributes)},getSpecifications({commit:e},t){if(!t.is_vcep_or_scvcep)throw new Error("Can not retreive specfications. Only VCEPS have specifications.");return ee.get(`${vt}/${t.uuid}/specifications`).then(n=>{t.expert_panel.specifications=n.data,e("addItem",t)})},getGenes({commit:e,getters:t},n){return ee.get(`${iu(n.uuid)}/genes`).then(r=>{const i=t.getItemByUuid(n.uuid);return i.expert_panel.genes=r.data,e("addItem",i),r.data})},getEvidenceSummaries({commit:e,getters:t},n){return ee.get(`${iu(n.uuid)}/evidence-summaries`).then(r=>{const i=t.getItemByUuid(n.uuid);return i.expert_panel.evidence_summaries=r.data.data,e("addItem",i),r.data.data})},saveApplicationData({commit:e},t){const n=S$(t.expert_panel.attributes);return delete n.group,ee.put(`${vt}/${t.uuid}/application`,n).then(r=>r)},submitApplicationStep({commit:e},{group:t,notes:n}){return ee.post(`${vt}/${t.uuid}/application/submission`,{notes:n}).then(r=>(t.expert_panel.submissions.push(r.data),e("addItem",t),r))},getSubmissions({commit:e},t){return ee.get(`${vt}/${t.uuid}/application/submission`).then(n=>(t.expert_panel.submissions=n.data,e("addItem",t),n))},getNextActions({commit:e},t){return ee.get(`${vt}/${t.uuid}/next-actions`).then(n=>(t.expert_panel.nextActions=n.data,e("addItem",t),n))},getDocuments({commit:e},t){return ee.get(`${vt}/${t.uuid}/documents`).then(n=>(t.expert_panel.documents=n.data.filter(r=>r.document_type_id<8),t.documents=n.data,e("addItem",t),n))},addApplicationDocument({commit:e},{group:t,data:n}){return n.has("uuid")||n.append("uuid",lo()),ee.post(`/api/applications/${t.expert_panel.uuid}/documents`,n).then(r=>(t.documents.push(r.data),r.data.document_type_id<8&&(t.expert_panel.documents.push(r.data),e("addItem",t)),r.data))},addDocument({commit:e},{group:t,data:n}){return n.has("uuid")||n.append("uuid",lo()),ee.post(`${vt}/${t.uuid}/documents`,n).then(r=>(t.documents.push(r.data),r.data.document_type_id<8&&(t.expert_panel.documents.push(r.data),e("addItem",t)),r.data))},async updateDocument({commit:e},{group:t,document:n}){return ee.put(`/api/groups/${t.uuid}/documents/${n.uuid}`,n).then(r=>{const i=t.documents.findIndex(s=>s.id===n.id);return t.documents[i]=r.data,r})},async deleteDocument({commit:e},{group:t,document:n}){await ee.delete(`/api/applications/${t.expert_panel.uuid}/documents/${n.uuid}`).then(r=>{const i=t.documents.indexOf(n);return t.documents.splice(i,1),r})},async addLogEntry({dispatch:e},{group:t,logEntryData:n}){const r=`/api/groups/${t.uuid}/log-entries`;await ee.post(r,n).then(()=>{})},getPendingTasks({getters:e},t){const n=`${vt}/${t.uuid}/tasks?pending`;return ee.get(n).then(r=>{const i=e.getItemByUuid(t.uuid);return i.pendingTasks=r.data,r})},completeSustainedCurationReview({getters:e},t){const n=`${vt}/${t.uuid}/expert-panel/sustained-curation-reviews`;return ee.put(n).then(r=>{const i=e.getItemByUuid(t.uuid),s=i.pendingTasks||[];return r.data.forEach(o=>{const a=s.indexOf(l=>l.id===o.id);a>-1&&o.completed_at&&delete i.pendingTasks[a]}),r})},async updateApprovalDate({commit:e},{group:t,dateApproved:n,step:r}){return ee.put(`/api/applications/${t.expert_panel.uuid}/approve`,{date_approved:n,step:r}).then(()=>{t.expert_panel.updateApprovalDate(n,r)})},getAnnualUpdate(e,t){ee.get(`/api/groups/${t.uuid}/expert-panel/annual-updates`,{headers:{"X-Ignore-Missing":1}}).then(n=>{t.expert_panel.annualUpdate=n.data})},createAnnualUpdateForLatestWindow(e,t){return ee.post(`/api/groups/${t.uuid}/expert-panel/annual-updates`).then(n=>{t.expert_panel.annualUpdate=n.data})},getChildren(e,t){return ee.get(`/api/groups/${t.uuid}/children`).then(n=>{t.children=n.data.data})},async approveCurrentStep({dispatch:e},{group:t,dateApproved:n,notifyContacts:r,subject:i,body:s,attachments:o}){const a=new FormData;a.append("date_approved",n),a.append("notify_contacts",r),a.append("subject",i),a.append("body",s),Array.from(o).forEach((u,c)=>{a.append(`attachments[${c}]`,u)});const l=`/api/applications/${t.uuid}/current-step/approve`;return await ee.post(l,a,{headers:{"Content-Type":"multipart/form-data"}}).then(()=>{e("findAndSetCurrent",t.uuid)})}},n1e={namespaced:!0,state:()=>({requests:[],items:[],currentItemIdx:null}),getters:q0,mutations:e1e,actions:t1e},su="/api/people",r1e=()=>({requests:[],items:[],lastFetch:null,currentItemIdx:null}),i1e={people:e=>e.items,all:e=>e.items,personWithUuid:e=>t=>e.items.find(n=>n.uuid===t),getPersonWithUuid:e=>t=>e.items.find(n=>n.uuid===t),indexForPersonWithUuid:e=>t=>e.items.findIndex(n=>n.uuid===t),currentItem:e=>typeof e.currentItemIdx>"u"||e.currentItemIdx==null||e.currentItemIdx<0?new gs:e.items[e.currentItemIdx]},s1e={addItem(e,t){let n=t;t instanceof gs||(n=new gs(t));const r=e.items.findIndex(i=>i.uuid===t.uuid);if(r>-1){e.items.splice(r,1,n);return}e.items.push(n)},removeItem(e,t){const n=e.items.findIndex(r=>r.id===t.id);n>-1&&e.items.splice(n,1)},clearItems(e){e.items=[]},setLastFetch(e){e.lastFetch=new Date},setLastParams(e,t){e.lastParams=t},setCurrentItemIndex(e,t){const n=e.items.findIndex(r=>r.uuid===t.uuid);n>-1&&(e.currentItemIdx=n)},clearCurrentItem(e){e.currentItemIdx=null}},o1e={async all({dispatch:e},t){e("getAll",{params:t})},async getAll({commit:e},{params:t}){e("setLastParams",t),await ee.get(su+ls(t)).then(n=>{n.data.data.forEach(r=>{e("addItem",r),e("setLastFetch",new Date)})})},async getPeopleSinceLastFetch({commit:e,state:t},n=null){n===null&&(n=t.lastParams),(typeof n>"u"||n===null)&&(n={}),n.where||(n.where={}),n.where.since=t.lastFetch.toISOString(),await ee.get(su+ls(n)).then(r=>{r.data.forEach(i=>{e("addItem",i),e("setLastFetch",new Date)})})},getPerson({commit:e},{uuid:t,params:n}){return ee.get(`${su}/${t}${ls(n)}`).then(r=>(e("addItem",r.data.data),e("setCurrentItemIndex",r.data.data),r))},async updateAttributes({commit:e},{uuid:t,attributes:n}){await ee.put(`${su}/${t}`,n).then(r=>{e("addItem",r.data)})},async updateProfile({commit:e},{uuid:t,attributes:n}){return ee.put(`${su}/${t}/profile`,n).then(r=>(e("addItem",r.data),r))},getMail({commit:e},t){return t.uuid==null?!1:ee.get(`/api/people/${t.uuid}/email`).then(n=>(t.mailLog=n.data,n))},deletePerson({commit:e},t){return ee.delete(`/api/people/${t.uuid}`).then(n=>(e("removeItem",t),n))},mergePeople({commit:e},{authority:t,obsolete:n}){return ee.put("/api/people/merge",{authority_id:t.id,obsolete_id:n.id}).then(r=>{e("addItem",r.data),e("removeItem",n)})}},a1e={namespaced:!0,state:r1e,getters:i1e,mutations:s1e,actions:o1e},Ym="/api/credentials",l1e={namespaced:!0,state:()=>({items:[],currentItemIdx:null}),getters:{items:e=>e.items},mutations:{addItem(e,t){if(!t.id)throw new Error("404: Item must have an id");const n=e.items.findIndex(r=>r.id===t.id);if(n>-1){e.items.splice(n,1,t);return}e.items.push(t)},setItems(e,t){e.items=t},removeItem(e,t){const n=e.items.findIndex(r=>r.id===t.id);e.items.splice(n,1)}},actions:{getItems({commit:e}){return ee.get(`${Ym}?withCount[]=people`).then(t=>(e("setItems",t.data),t.data))},create({commit:e},t){return ee.post(Ym,t).then(n=>(e("addItem",n.data),n))},update({commit:e},t){return ee.put(`${Ym}/${t.id}`,t).then(n=>(console.log({rsp:n}),e("addItem",n.data),n))},merge({commit:e},{authority:t,obsolete:n}){return ee.put("/api/credentials/merge",{authority_id:t.id,obsolete_id:n.id}).then(r=>(e("removeItem",n),e("addItem",r.data),r))},delete({commit:e},t){return ee.delete(`/api/credentials/${t.id}`).then(n=>(e("removeItem",t),n))}}},Md="/api/expertises",u1e={namespaced:!0,state:()=>({items:[],currentItemIdx:null}),getters:{items:e=>e.items},mutations:{addItem(e,t){if(!t.id)throw new Error("404: no id in expertise item");const n=e.items.findIndex(r=>r.id===t.id);if(n>-1){e.items.splice(n,1,t);return}e.items.push(t)},setItems(e,t){e.items=t},removeItem(e,t){const n=e.items.findIndex(r=>r.id===t.id);e.items.splice(n,1)}},actions:{getItems({commit:e}){return ee.get(`${Md}?withCount[]=people`).then(t=>(e("setItems",t.data),t.data))},create({commit:e},t){return ee.post(Md,t).then(n=>(e("addItem",n.data),n))},update({commit:e},t){return ee.put(`${Md}/${t.id}`,t).then(n=>(console.log({rsp:n}),e("addItem",n.data),n))},delete({commit:e},t){return ee.delete(`${Md}/${t.id}`).then(n=>(e("removeItem",t),n))}}},c1e=e=>{if(!e.baseUrl)throw new Error("Store module config baseUrl must be set.")};function ZR(e={}){return c1e(e),{namespaced:!!e.namespace,state:{items:[],currentItemIdx:null},getters:{items:n=>n.items,getItems:n=>n.items,getItemById:n=>r=>n.items.find(i=>i.id===r),currentItem:n=>n.currentItemIdx===null?e.modelClass?new e.modelClass:{}:n.items[n.currentItemIdx]},mutations:{addItem(n,r){e.modelClass&&(r=new e.modelClass(r));const i=n.items.findIndex(s=>s.id===r.id);if(i>-1){n.items.splice(i,1,r);return}n.items.push(r)},clearItems(n){n.items=[]},setCurrentItemIndex(n,r){const i=n.items.findIndex(s=>s.uuid===r.uuid);n.currentItemIdx=i},...e.mutations},actions:{async getItems({commit:n}){const r=await ee.get(e.baseUrl).then(i=>i.data);for(const i in r)n("addItem",r[i])},...e.actions}}}const d1e=ZR({baseUrl:"/api/document-types",namespace:"doctypes"}),f1e=ZR({baseUrl:"/api/countries",namespace:"countries"}),Re=P5({state:{hostname:void 0,user:new of,openRequests:0,authenticating:!0,authenticated:null,documentTypes:null,features:{legacyCoi:!1},systemInfo:{build:{},app:{features:{}}}},getters:{currentUser:e=>e.user,authed:e=>e.authenticated,isAuthed:e=>e.authenticated},mutations:{addRequest(e){e.openRequests++},removeRequest(e){e.openRequests--},setCurrentUser(e,t){e.user=new of(t),Re.commit("setAuthenticated",!0)},clearCurrentUser(e){e.user=new of,Re.commit("setAuthenticated",!1)},setAuthenticated(e,t){e.authenticated=t},startAuthenticating(e){e.authenticating=!0},stopAuthenticating(e){e.authenticating=!1}},actions:{async getCurrentUser({commit:e,dispatch:t,state:n}){if(!n.authenticated||n.user.id===null)try{await ee.get("/api/current-user").then(r=>{e("setCurrentUser",r.data.data)}),t("getSystemInfo")}catch(r){console.log(r),e("clearCurrentUser")}},async forceGetCurrentUser({commit:e}){try{await ee.get("/api/current-user").then(t=>{e("setCurrentUser",t.data.data)})}catch(t){console.log(t),e("clearCurrentUser")}},async login({commit:e},{email:t,password:n}){await ee.get("/sanctum/csrf-cookie"),await ee.post("/api/login",{email:t,password:n}).then(()=>{e("setAuthenticated",!0),Re.dispatch("getCurrentUser",!0)})},async logout({commit:e}){try{await ee.post("/api/logout").then(()=>{e("clearCurrentUser")})}catch(t){NS(t)&&alert("You cannot log out because you are not logged in")}},async checkAuth({commit:e,state:t}){t.authenticated||await ee.get("/api/authenticated").then(()=>{e("setAuthenticated",!0)}).catch(n=>{n.response.status&&n.response.status===401&&e("setAuthenticated",!1)})},getSystemInfo({state:e}){e.authenticated&&ee.get("/api/system-info").then(t=>{e.systemInfo=t.data})}},modules:{alerts:b0e,applications:Qbe,coiStore:Zbe,cdwgs:Jbe,credentials:l1e,groups:n1e,doctypes:d1e,people:a1e,expertises:u1e,countries:f1e}});ee.interceptors.request.use(e=>(Re.commit("addRequest"),e),e=>(Re.commit("removeRequest"),Promise.reject(e)));ee.interceptors.response.use(e=>(Re.commit("removeRequest"),e),e=>{switch(Re.commit("removeRequest"),e.response.status){case 401:return Re.commit("setAuthenticated",!1),e;case 403:if(e.response.data.includes("The request to access this resource was rejected.")){const n=e.response.data.match(/Reference this support identifier:\s*(\d+)/)[1]||null;Re.commit("pushError",`There is a Network Firewall issue.  Please contact support GPM Support ASAP at "gpm_support@clinicalgenome.org", providing details on your network connection and the following support ID: ${n}`)}else Re.commit("pushError","You do not have permission to complete that action.  If you think this is an error please contact support at gpm_support@clinicalgenome.org");return e;case 404:return e.config.headers["X-Ignore-Missing"]!=="1"&&Re.commit("pushError","We couldn't find something you're looking for."),e;case 500:return Re.commit("pushError","We've encountered a problem trying to complete your request.  Support has been notified and we will be in touch."),e}return Promise.reject(e)});const p1e=()=>Be(()=>import("./ApplicationsIndex-_1T4hTXe.js"),__vite__mapDeps([0,1,2])),Pd=()=>Be(()=>import("./ApplicationDetail-Bz3NanZg.js"),__vite__mapDeps([3,4,5,6,7,8,9,10,11,12,13,14,15])),Gm=()=>Be(()=>import("./CreateApplicationForm-BZSEXcWd.js"),[]),vx=()=>Be(()=>import("./NextActionForm-DyM9pVrK.js"),[]),Tx=()=>Be(()=>import("./LogEntryForm-CxHx5Law.js"),__vite__mapDeps([5,6])),wx=()=>Be(()=>import("./MemberForm-CQkonNYp.js"),__vite__mapDeps([16,9,17,18])),h1e=()=>Be(()=>import("./ConfirmDeleteLogEntry-Z7M6hsUR.js"),__vite__mapDeps([19,6,20])),m1e=()=>Be(()=>import("./ConfirmDeleteNextAction-CoOOYVWJ.js"),__vite__mapDeps([21,20])),g1e=()=>Be(()=>import("./ConfirmDeleteApplication-Caokgmtn.js"),[]),b1e=[{name:"ApplicationsIndex",path:"/applications",redirect:"/applications/vceps",components:{default:p1e,modal:Gm},meta:{protected:!0,permissions:["ep-applications-manage"]},children:[{name:"gceps",path:"gceps",components:{default:()=>Be(()=>import("./GcepsList-CGqtIVMC.js"),__vite__mapDeps([22,23,24])),modal:Gm},meta:{protected:!0,permissions:["ep-applications-manage"]}},{name:"vceps",path:"vceps",components:{default:()=>Be(()=>import("./VcepsList-Do1II0Ku.js"),__vite__mapDeps([25,23,24])),modal:Gm},meta:{protected:!0,permissions:["ep-applications-manage"]}}]},{name:"ApplicationDetail",path:"/applications/:uuid",component:Pd,props:!0,meta:{protected:!0,permissions:["ep-applications-manage","ep-applications-comment","ep-applications-approve"]},children:[{name:"NextAction",path:"next-action",component:vx,meta:{default:Pd,showModal:!0,protected:!0,title:"Add Next Action",permissions:["ep-applications-manage"]},props:!0},{name:"EditNextAction",path:"next-actions/:id/edit",component:vx,meta:{default:Pd,showModal:!0,protected:!0,title:"Add Next Action",permissions:["ep-applications-manage"]},props:!0},{name:"ConfirmDeleteNextAction",path:"next-actions/:id/delete",component:m1e,meta:{showModal:!0,protected:!0,permissions:["ep-applications-manage"]},props:!0},{name:"LogEntry",path:"log-entry",component:Tx,meta:{showModal:!0,protected:!0,permissions:["ep-applications-manage"],title:"Add Log Entry"},props:!0},{name:"EditLogEntry",path:"log-entries/:id/edit",component:Tx,meta:{showModal:!0,protected:!0,permissions:["ep-applications-manage"],title:"Edit Log Entry"},props:!0},{name:"ConfirmDeleteLogEntry",path:"log-entries/:id/delete",component:h1e,meta:{showModal:!0,protected:!0,permissions:["ep-applications-manage"]},props:!0},{name:"AddMemberToApplication",path:"members/add",component:wx,meta:{title:"Add Group Member",showModal:!0,protected:!0,permissions:["ep-applications-manage"]},props:!0},{name:"EditMemberOnApplication",path:"members/:memberId",component:wx,meta:{showModal:!0,protected:!0,title:"Add Group Member"},props:!0},{name:"ConfirmDeleteApplication",path:"delete",component:g1e,props:!0,meta:{default:Pd,showModal:!0,protected:!0,permissions:["ep-applications-manage"]}}]}],y1e=async e=>Re.getters.currentUser.hasPermission("people-manage")||((!Re.getters["people/currentItem"]||Re.getters["people/currentItem"].uuid!==e.params.uuid)&&await Re.dispatch("people/getPerson",{uuid:e.params.uuid}),Re.getters["people/currentItem"].user_id===Re.getters.currentUser.id)||Re.getters.currentUser.coordinatesPerson(Re.getters["people/currentItem"])?!0:(Re.commit("pushError","You don't have permission to edit this person's information"),!1),Xi=async(e,t)=>{if(Re.getters.currentUser.hasPermission("groups-manage"))return!0;(!Re.getters["groups/currentItem"]||Re.getters["groups/currentItem"].uuid!==e.params.uuid)&&await Re.dispatch("groups/findAndSetCurrent",e.params.uuid);const n=Re.getters["groups/currentItem"];return Re.getters.currentUser.hasGroupPermission(t,n)?!0:(Re.commit("pushError","Permission denied"),!1)},xx=()=>Be(()=>import("./PersonDetail-Dhlu7ANr.js"),__vite__mapDeps([26,6,27,17,28,29,9,30,31,32,33,34])),_1e=()=>Be(()=>import("./PersonEdit-Bmo-qNjl.js"),__vite__mapDeps([35,17])),E1e=()=>Be(()=>import("./PeopleList-KNomGmoc.js"),__vite__mapDeps([36,24])),Cx=()=>Be(()=>import("./OnboardingWizard-4SCohGvU.js"),__vite__mapDeps([37,38])),v1e=()=>Be(()=>import("./RequiredProfileUpdate-Covc0IqQ.js"),__vite__mapDeps([39,17])),T1e=[{name:"people-index",path:"/people",component:E1e,meta:{protected:!0}},{name:"PersonDetail",path:"/people/:uuid",component:xx,props:!0,meta:{protected:!0},children:[{name:"PersonEdit",path:"edit",components:{default:xx,modal:_1e},meta:{showModal:!0,protected:!0,title:"Update Information"},props:!0,beforeEnter:[y1e]}]},{name:"InviteWithCode",path:"/invites/:code",component:Cx,beforeEnter:()=>(Re.getters.currentUser.id!==null&&Oi.replace({name:"Dashboard"}),!0),meta:{protected:!1},props:!0},{name:"RedeemInvite",path:"/invites",component:Cx,beforeEnter:()=>(Re.getters.currentUser.id!==null&&Oi.replace({name:"Dashboard"}),!0),meta:{protected:!1}},{name:"InitialProfileForm",path:"/onboarding/profile",component:()=>Be(()=>import("./OnboardingProfileForm-vBA5tYRG.js"),__vite__mapDeps([40,17]))},{name:"RequiredDemographicsUpdateForm",path:"/required-demographics-update",component:()=>Be(()=>import("./RequiredDemographicsUpdateForm-BFKfi0Hm.js"),__vite__mapDeps([41,33,34])),meta:{protected:!0}},{name:"DemographicsForm",path:"/demographics/:uuid",props:!0,component:()=>Be(()=>import("./DemographicsForm-BWDwKWTh.js"),__vite__mapDeps([33,34])),meta:{protected:!0}},{name:"MandatoryProfileUpdate",path:"/required-profile-update",component:v1e,meta:{protected:!0}}],w1e=[{name:"login",path:"/login",component:()=>Be(()=>import("./LoginPage-B9g1GNM9.js"),[])},{name:"reset-password",path:"/reset-password",component:()=>Be(()=>import("./ResetPassword-AcdiOTKA.js"),[])}],x1e=[{name:"cdwg-index",path:"/cdwgs",component:()=>Be(()=>import("./CdwgIndex-BOzz59aS.js"),[])}],Aa=()=>Be(()=>import("./MemberForm-CQkonNYp.js"),__vite__mapDeps([16,9,17,18])),C1e=[{name:"GroupList",path:"/groups",components:{default:()=>Be(()=>import("./GroupList-wYppv2Z5.js"),__vite__mapDeps([42,13,14]))},meta:{protected:!0},props:!0},{name:"GroupDetail",path:"/groups/:uuid",components:{default:()=>Be(()=>import("./GroupDetail-CaHBrwuB.js"),__vite__mapDeps([43,6,30,31,44,13,14,11,10,45,24,28,29,9,46,47,48,4,5,7,8,12,49]))},meta:{protected:!0},props:!0,children:[{name:"AddMember",path:"members/add",component:Aa,meta:{showModal:!0,protected:!0,title:"Add Group Member"},props:!0,beforeEnter:async e=>await Xi(e,"members-invite")},{name:"EditMember",path:"members/:memberId",component:Aa,meta:{showModal:!0,protected:!0,title:"Add Group Member"},props:!0,beforeEnter:async e=>await Xi(e,"members-update")}]},{name:"GroupApplication",path:"/groups/:uuid/application",components:{default:()=>Be(()=>import("./GroupApplication-CmbfiHin.js"),__vite__mapDeps([50,13,14,44,45,24,28,29,9,46,11,10,51,52,47,53]))},meta:{protected:!0},props:!0,beforeEnter:async e=>await Xi(e,"application-edit"),children:[{name:"AppAddMember",path:"members/add",component:Aa,meta:{showModal:!0,protected:!0,title:"Add Group Member"},props:!0,beforeEnter:async e=>await Xi(e,"members-invite")},{name:"AppEditMember",path:"members/:memberId",component:Aa,meta:{showModal:!0,protected:!0,title:"Add Group Member"},props:!0,beforeEnter:async e=>await Xi(e,"members-update")}]},{name:"ReviewApplication",path:"/groups/:uuid/application/review",component:()=>Be(()=>import("./ApplicationResponse-DSdAJiQy.js"),__vite__mapDeps([54,8,9,10,11,55])),props:!0,meta:{protected:!0}},{name:"AnnualUpdate",path:"/groups/:uuid/annual-update",components:{default:()=>Be(()=>import("./AnnualUpdateForm-nCOnMLyh.js"),__vite__mapDeps([56,51,52,45,24,28,29,9,46,47,57]))},meta:{protected:!0},props:!0,beforeEnter:async e=>await Xi(e,"application-edit"),children:[{name:"ReviewAddMember",path:"members/add",component:Aa,meta:{showModal:!0,protected:!0,title:"Add Group Member"},props:!0,beforeEnter:async e=>await Xi(e,"members-invite")},{name:"ReviewEditMember",path:"members/:memberId",component:Aa,meta:{showModal:!0,protected:!0,title:"Add Group Member"},props:!0,beforeEnter:async e=>await Xi(e,"members-update")}]},{name:"SustainedCurationReview",path:"/groups/:uuid/sustained-curation-review",components:{default:()=>Be(()=>import("./SustainedCurationReview-D52RIC9R.js"),__vite__mapDeps([58,47,10,51,52,59]))},meta:{protected:!0},props:!0,beforeEnter:async e=>await Xi(e,"application-edit")}],S1e=()=>Be(()=>import("./UserAdmin-BZOhJ3r6.js"),[]),A1e=()=>Be(()=>import("./InviteAdmin-DJtjWNKC.js"),[]),k1e=[{name:"UserAdmin",path:"/admin/users",component:S1e,props:!0,meta:{protected:!0,beforeEnter:async()=>await Re.getters.currentUser.hasPermission("users-manage")}},{name:"InviteAdmin",path:"/admin/invites",component:A1e,props:!0,meta:{protected:!0,beforeEnter:async()=>await Re.getters.currentUser.hasPermission("people-manage")}},{name:"InstitutionList",path:"/admin/institutions",component:()=>Be(()=>import("./InstitutionList-D57WkHFo.js"),__vite__mapDeps([60,24]))},{name:"CredentialList",path:"/admin/credentials",component:()=>Be(()=>import("./CredentialsList-BiIYQXVZ.js"),__vite__mapDeps([61,24]))},{name:"ExpertiseList",path:"/admin/expertises",component:()=>Be(()=>import("./ExpertiseList-CASYp6NT.js"),__vite__mapDeps([62,24]))}],Sx=async e=>Re.getters.currentUser.hasPermission(e)?!0:(Re.commit("pushError","Permission denied"),!1),O1e=[{name:"UserList",path:"/users",components:{default:()=>Be(()=>import("./UserList-OckzM1mm.js"),__vite__mapDeps([63,24]))},meta:{protected:!0},props:!0,beforeEnter(){return Sx("users-manage")}},{name:"UserDetail",path:"/users/:id",components:{default:()=>Be(()=>import("./UserDetail-Bz6dTUgo.js"),[])},props:!0,meta:{protected:!0},async beforeEnter(){return Sx("users-manage")}}],I1e=[{name:"Dashboard",path:"/",component:()=>Be(()=>import("./Dashboard-NWKsuQbO.js"),__vite__mapDeps([64,27,17,28,29,9,7,48,33,34,65])),meta:{protected:!0}},{name:"ApplicationSummary",path:"/application-summary",redirect:"/application-summary/vceps",component:()=>Be(()=>import("./ApplicationSummary-O-LVcWjc.js"),__vite__mapDeps([66,67])),children:[{name:"GcepsSummary",path:"gceps",component:()=>Be(()=>import("./SummaryGcep-C7BiD6nv.js"),__vite__mapDeps([68,69,24]))},{name:"VcepsSummary",path:"vceps",component:()=>Be(()=>import("./SummaryVcep-2pFkBjye.js"),__vite__mapDeps([70,69,24]))}]},{name:"AnnualUpdatesList",path:"/annual-updates",component:()=>Be(()=>import("./AnnualUpdatesList-BHsN7MiH.js"),__vite__mapDeps([71,24,14,72])),meta:{protected:!0,permissions:["annual-updates-manage"]}},{name:"AnnualUpdateDetail",path:"/annual-updates/:id",component:()=>Be(()=>import("./AnnualUpdateDetail-DRMXttU-.js"),__vite__mapDeps([73,56,51,52,45,24,28,29,9,46,47,57])),props:!0,meta:{protected:!0},children:[{name:"AnnualUpdateAddMember",path:"members/add",component:()=>Be(()=>import("./MemberForm-CQkonNYp.js"),__vite__mapDeps([16,9,17,18])),meta:{showModal:!0,protected:!0,title:"Add Group Member"},props:!0},{name:"AnnualUpdateEditMember",path:"members/:memberId",component:()=>Be(()=>import("./MemberForm-CQkonNYp.js"),__vite__mapDeps([16,9,17,18])),meta:{showModal:!0,protected:!0,title:"Add Group Member"},props:!0}]},...b1e,...C1e,...T1e,...w1e,...x1e,...k1e,...O1e,{name:"CoiNoCode",path:"/coi",redirect:"/"},{name:"coi",path:"/coi/:code",component:()=>Be(()=>import("./Coi-CfdKj3EQ.js"),__vite__mapDeps([74,75])),props:!0,meta:{protected:!0}},{name:"alt-coi",path:"/expert-panels/:name/coi/:code",component:()=>Be(()=>import("./Coi-CfdKj3EQ.js"),__vite__mapDeps([74,75])),props:!0,meta:{protected:!0}},{name:"about",path:"/about",component:()=>Be(()=>import("./About-D7StG1-0.js"),[])},{name:"PendingCoiList",path:"/onboarding/cois",component:()=>Be(()=>import("./PendingCoiList-CgU3p_ab.js"),[]),props:!0,meta:{protected:!0}},{name:"mail-log",path:"/mail-log",component:()=>Be(()=>import("./MailLog-CeHPIINc.js"),__vite__mapDeps([76,24,32,77])),meta:{protected:!0}},{name:"not-found",path:"/:pathMatch(.*)*",component:()=>Be(()=>import("./NotFound-CoxSqhUT.js"),[])},{name:"reports",path:"/reports",component:()=>Be(()=>import("./Reports-CJbz1Rka.js"),__vite__mapDeps([78,79])),meta:{protected:!0,permissions:["reports-pull"]}}],Oi=Ube({history:mbe("/"),routes:I1e});Oi.beforeEach(async(e,t,n)=>{if(!e.meta.protected){n();return}try{await Re.dispatch("checkAuth"),await Re.dispatch("getCurrentUser")}catch(r){console.log(r)}if(!e.name.includes("login")&&!Re.getters.isAuthed){n({name:"login",query:{redirect:e.fullPath}});return}if(e.name==="login"&&Re.getters.isAuthed){n({name:"Dashboard"});return}if(e.meta.permissions&&Array.isArray(e.meta.permissions)&&e.meta.permissions.length>0){if(Re.getters.currentUser.hasAnyPermission(e.meta.permissions)){n();return}Oi.replace({name:"Dashboard"}),Re.commit("pushError",`You don't have permission to access ${e.path}`)}n()});Oi.beforeEach(async(e,t,n)=>{if(!e.meta.protected){n();return}if(e.name==="MandatoryProfileUpdate"||e.name==="RequiredDemographicsUpdateForm"||e.name==="RedeemInvite"||e.name==="InviteWithCode"||e.name==="InitialProfileForm"||e.name==="PendingCoiList"||e.name==="coi"){n();return}if(Re.getters.currentUser.profileIncomplete){Oi.replace({name:"InitialProfileForm",params:{redirectTo:e}}),n();return}if(Re.getters.currentUser.hasPendingCois){Oi.replace({name:"PendingCoiList",params:{redirectTo:e}}),n();return}if(Re.getters.currentUser.needsCredentials||Re.getters.currentUser.needsExpertise){Oi.replace({name:"MandatoryProfileUpdate",params:{redirectTo:e}}),n();return}if(Re.getters.currentUser.person.demographics_completed_date===null&&!Re.getters.currentUser.is_impersonating){Oi.replace({name:"RequiredDemographicsUpdateForm",params:{redirectTo:e}}),n();return}n()});const N1e={name:"StaticAlert",props:{variant:{type:String,required:!1,default:"info"}},data(){return{}},computed:{},methods:{}};function R1e(e,t,n,r,i,s){return x(),P("div",{class:nt(["border p-2 rounded text-md-lg",n.variant])},[ke(e.$slots,"default",{},void 0,!0)],2)}const D1e=ne(N1e,[["render",R1e],["__scopeId","data-v-d4d91c52"]]),M1e={name:"SubmissionWrapper",props:{showControls:{type:Boolean,required:!1,default:!0}},emits:["submitted","canceled"],data(){return{}},computed:{},methods:{}};function P1e(e,t,n,r,i,s){const o=Y("button-row");return x(),P("div",null,[ke(e.$slots,"default"),U(oa,{name:"fade-slide-down"},{default:W(()=>[Ct(U(o,{"submit-text":"Save",onSubmitted:t[0]||(t[0]=a=>e.$emit("submitted")),onCanceled:t[1]||(t[1]=a=>e.$emit("canceled"))},null,512),[[yr,n.showControls]])]),_:1})])}const L1e=ne(M1e,[["render",P1e]]);let ou;const B1e={beforeMount(e,t){ou=n=>{n.stopPropagation();const{handler:r,exclude:i}=t.value,s=i.map(o=>t.instance.$refs[o]).includes(n.target);!e.contains(n.target)&&!s&&r()},document.addEventListener("click",ou),document.addEventListener("touchstart",ou)},unmounted(){document.removeEventListener("click",ou),document.removeEventListener("touchstart",ou)}},$1e={mounted(e,t){const r=e.getBoundingClientRect().top,i=t.value?t.value:r+36;e.style.height=`calc(100vh - ${i}px)`,e.style.overflow="auto"},bind(e,t){const r=e.getBoundingClientRect().top,i=t.value?t.value:r+36;e.style.height=`calc(100vh - ${i}px)`,e.style.overflow="auto"}},F1e={name:"GroupBreadcrumbs",props:{group:{required:!1,default:()=>new wc}},computed:{items(){const e=[{route:{name:"GroupList"},label:"Groups"}];return this.group.uuid&&e.push({route:{name:"GroupDetail",params:{uuid:this.group.uuid}},label:this.group.displayName}),e}},methods:{}};function U1e(e,t,n,r,i,s){const o=Y("breadcrumbs");return x(),pe(o,{items:s.items},null,8,["items"])}const H1e=ne(F1e,[["render",U1e]]),z1e=(e,t)=>Re.state.user.hasPermission(e,t),V1e=(e,t)=>Re.state.user.hasPermission(e,t),j1e=e=>Re.state.user.hasAnyPermission(e),q1e=(e,t)=>Re.state.user.hasRole(e,t),W1e=e=>Re.state.user.person.memberships.map(t=>t.group_id).includes(e.id),Y1e=e=>Re.state.user.id===e.user_id,G1e=e=>Re.state.user.coordinatesPerson(e);let Ax=0;const K1e={beforeMount(){this.uid=Ax.toString(),Ax+=1}},Ei=PP(L0e),Zc=e=>{for(const t in e){const n=nS(t.split("/").pop().split(".")[0]);Ei.component(n,e[t].default)}};Zc(Object.assign({"/resources/js/components/Badge.vue":HP,"/resources/js/components/Breadcrumbs.vue":qP,"/resources/js/components/Card.vue":QP,"/resources/js/components/Collapsible.vue":i3,"/resources/js/components/DataTable.vue":w3,"/resources/js/components/DictionaryRow.vue":S3,"/resources/js/components/DownloadLink.vue":O3,"/resources/js/components/DropdownItem.vue":M3,"/resources/js/components/DropdownMenu.vue":$3,"/resources/js/components/HelpButton.vue":I6,"/resources/js/components/ImageCropper.vue":d5,"/resources/js/components/ImpersonateControl.vue":nU,"/resources/js/components/IssueReportForm.vue":uU,"/resources/js/components/LoginForm.vue":hU,"/resources/js/components/MarkdownBlock.vue":ZG,"/resources/js/components/ModalDialog.vue":lK,"/resources/js/components/Note.vue":pK,"/resources/js/components/NotificationItem.vue":_K,"/resources/js/components/NotificationList.vue":vK,"/resources/js/components/ObjectDictionary.vue":SK,"/resources/js/components/PaginationLinks.vue":DK,"/resources/js/components/PopOver.vue":XX,"/resources/js/components/PubmedCitation.vue":ZX,"/resources/js/components/QuestionBlock.vue":sQ,"/resources/js/components/ScreenTemplate.vue":dQ,"/resources/js/components/SimpleTable.vue":mQ,"/resources/js/components/TabItem.vue":EQ,"/resources/js/components/TabsContainer.vue":TQ,"/resources/js/components/TruncateExpander.vue":AQ,"/resources/js/components/UserMenu.vue":QQ}));Zc(Object.assign({"/resources/js/components/forms/AddressInput.vue":aJ,"/resources/js/components/forms/ButtonRow.vue":hJ,"/resources/js/components/forms/Checkbox.vue":vJ,"/resources/js/components/forms/CredentialsInput.vue":xJ,"/resources/js/components/forms/DataForm.vue":UJ,"/resources/js/components/forms/DataFormField.vue":DJ,"/resources/js/components/forms/DateInput.vue":qJ,"/resources/js/components/forms/DiseaseSearchSelect.vue":ZJ,"/resources/js/components/forms/ExpertisesInput.vue":tZ,"/resources/js/components/forms/FormContainer.vue":sZ,"/resources/js/components/forms/GeneSearchSelect.vue":pZ,"/resources/js/components/forms/InputErrors.vue":tJ,"/resources/js/components/forms/InputRow.vue":RJ,"/resources/js/components/forms/InstitutionSearchSelect.vue":AZ,"/resources/js/components/forms/PersonSearchSelect.vue":DZ,"/resources/js/components/forms/RadioButton.vue":FZ,"/resources/js/components/forms/RadioButtonGroup.vue":jZ,"/resources/js/components/forms/SearchSelect.vue":Q5,"/resources/js/components/forms/StepInput.vue":GZ,"/resources/js/components/forms/TimezoneSearchSelect.vue":ree,"/resources/js/components/forms/UserDefinedMailForm.vue":gfe,"/resources/js/components/forms/WebsiteAttestation.vue":lpe}));Zc(Object.assign({"/resources/js/components/buttons/CheckmarkIconButton.vue":ppe,"/resources/js/components/buttons/EditIconButton.vue":ype,"/resources/js/components/buttons/RefreshButton.vue":Tpe,"/resources/js/components/buttons/RemoveButton.vue":Spe,"/resources/js/components/buttons/TrashIconButton.vue":Npe}));Zc(Object.assign({"/resources/js/components/icons/IconAdd.vue":Ppe,"/resources/js/components/icons/IconArrowDown.vue":Fpe,"/resources/js/components/icons/IconArrowRight.vue":Vpe,"/resources/js/components/icons/IconBase.vue":Xpe,"/resources/js/components/icons/IconBug.vue":ehe,"/resources/js/components/icons/IconCheckmark.vue":ihe,"/resources/js/components/icons/IconCheveronDown.vue":lhe,"/resources/js/components/icons/IconCheveronLeft.vue":fhe,"/resources/js/components/icons/IconCheveronRight.vue":ghe,"/resources/js/components/icons/IconCheveronUp.vue":Ehe,"/resources/js/components/icons/IconClose.vue":xhe,"/resources/js/components/icons/IconCoi.vue":khe,"/resources/js/components/icons/IconDownload.vue":Rhe,"/resources/js/components/icons/IconEdit.vue":Lhe,"/resources/js/components/icons/IconEnvelope.vue":Uhe,"/resources/js/components/icons/IconExclamation.vue":Whe,"/resources/js/components/icons/IconExternalLink.vue":Xhe,"/resources/js/components/icons/IconFilter.vue":eme,"/resources/js/components/icons/IconInfo.vue":ime,"/resources/js/components/icons/IconLock.vue":lme,"/resources/js/components/icons/IconMenu.vue":fme,"/resources/js/components/icons/IconNotification.vue":gme,"/resources/js/components/icons/IconPrinter.vue":Eme,"/resources/js/components/icons/IconQuestion.vue":xme,"/resources/js/components/icons/IconRefresh.vue":kme,"/resources/js/components/icons/IconReply.vue":Rme,"/resources/js/components/icons/IconReview.vue":Lme,"/resources/js/components/icons/IconSearch.vue":Ume,"/resources/js/components/icons/IconTrash.vue":jme,"/resources/js/components/icons/IconUser.vue":Gme,"/resources/js/components/icons/IconView.vue":Jme,"/resources/js/components/icons/IconViewHide.vue":nge,"/resources/js/components/icons/ZoomInIcon.vue":oge,"/resources/js/components/icons/ZoomOutIcon.vue":cge}));Zc(Object.assign({"/resources/js/components/links/CoiPolicyLink.vue":mge,"/resources/js/components/links/CoordinatorResourceLink.vue":Ege,"/resources/js/components/links/FaqLink.vue":Cge,"/resources/js/components/links/GcepQuickGuideLink.vue":Ige,"/resources/js/components/links/GcepRecurationProcessLink.vue":Pge,"/resources/js/components/links/GciLink.vue":Uge,"/resources/js/components/links/GeneTrackerLink.vue":qge,"/resources/js/components/links/LumpingAndSplittingLink.vue":Xge,"/resources/js/components/links/PublicationPolicyLink.vue":t0e,"/resources/js/components/links/TrainingMaterialsLink.vue":o0e,"/resources/js/components/links/VcepProtocolLink.vue":d0e,"/resources/js/components/links/WebsiteLink.vue":g0e}));Ei.component("static-alert",D1e);Ei.component("submission-wrapper",L1e);Ei.component("ScreenTemplate",JO);Ei.directive("click-outside",B1e);Ei.directive("remaining-height",$1e);Ei.component("popper",g1);Ei.component("popover",g1);Ei.component("group-breadcrumbs",H1e);Ei.config.globalProperties.append=(e,t)=>e+(e.endsWith("/")?"":"/")+t;Ei.use(Re).mixin({methods:{userCan:z1e,hasPermission:V1e,hasAnyPermission:j1e,hasRole:q1e,userIsPerson:Y1e,coordinatesPerson:G1e,formatDate:hb,formatDateTime:s3,formatTime:o3,addDays:l3,yearAgo:a3,titleCase:mb,camelCase:rS,snakeCase:u3,kebabCase:nS,userInGroup:W1e,sentenceCase:iS}}).mixin(K1e).mixin({mounted(){this.id&&this.$route.hash&&this.$route.hash.substr(1)===this.id&&(location.href="#",location.href=this.$route.hash)}}).use(Oi).mount("#app");export{Un as $,an as A,Bb as B,Ct as C,Us as D,sa as E,Ge as F,wc as G,oo as H,Ef as I,ke as J,Er as K,Rc as L,no as M,rA as N,eye as O,gs as P,JG as Q,OP as R,yr as S,oa as T,Qu as U,s3 as V,EC as W,Ipe as X,fpe as Y,kP as Z,ne as _,Y as a,Efe as a$,mb as a0,J1e as a1,JO as a2,ss as a3,pr as a4,pb as a5,hb as a6,ufe as a7,YZ as a8,vQ as a9,vb as aA,Tp as aB,H6 as aC,wb as aD,cs as aE,ipe as aF,D3 as aG,mfe as aH,Z1e as aI,Ja as aJ,Cpe as aK,j_ as aL,Pi as aM,WS as aN,T4 as aO,ZC as aP,o3 as aQ,L1e as aR,xfe as aS,Jfe as aT,bpe as aU,r0 as aV,_ye as aW,c0e as aX,Oge as aY,JJ as aZ,fZ as a_,Y1e as aa,nS as ab,t2 as ac,eC as ad,pU as ae,oM as af,c5 as ag,SZ as ah,wJ as ai,eZ as aj,oJ as ak,nee as al,Ht as am,Nye as an,us as ao,nA as ap,ii as aq,xb as ar,jS as as,qS as at,BS as au,_b as av,k4 as aw,gB as ax,K_ as ay,GB as az,x as b,wye as b0,Vp as b1,vye as b2,y1 as b3,mZ as b4,hZ as b5,xye as b6,Cye as b7,Tye as b8,bo as b9,of as ba,P as c,S as d,pe as e,U as f,_e as g,Oe as h,Ae as i,ye as j,V1e as k,kye as l,$t as m,nt as n,vr as o,ee as p,yt as q,_t as r,ls as s,YB as t,Iye as u,TA as v,W as w,Tn as x,j1e as y,EK as z};
//# sourceMappingURL=app-Dodz6L5-.js.map
