{"version":3,"file":"InstitutionList-D5xD-ZXI.js","sources":["../../../resources/js/components/institutions/InstitutionApprovalForm.vue","../../../resources/js/components/institutions/InstitutionUpdateForm.vue","../../../resources/js/components/institutions/InstitutionMergeForm.vue","../../../resources/js/views/institutions/InstitutionList.vue"],"sourcesContent":["<script>\nimport {markApproved} from '@/forms/institution_form'\n\nexport default {\n    name: 'ComponentName',\n    props: {\n        modelValue: {\n            type: Object,\n            required: true\n        }\n    },\n    emits: [\n        'saved',\n        'canceled',\n        'update:modelValue'\n    ],\n    methods: {\n        async approve () {\n            const updatedInst = await markApproved(this.modelValue);\n            this.$emit('update:modelValue', updatedInst);\n            this.$emit('saved', updatedInst)\n        },\n        cancelApproval () {\n            this.$emit('canceled')\n        }\n    }\n}\n</script>\n<template>\n  <div>\n    Are you sure you want to approve this institution?\n    <dictionary-row label=\"Name\">\n      {{ modelValue.name }}\n    </dictionary-row>\n    <dictionary-row label=\"Abbreviation\">\n      {{ modelValue.abbreviation || '--' }}\n    </dictionary-row>\n    <dictionary-row label=\"URL\">\n      {{ modelValue.url || '--' }}\n    </dictionary-row>\n    <dictionary-row label=\"Country\">\n      {{ modelValue.country ? modelValue.country.name : '--' }}\n    </dictionary-row>\n    <dictionary-row label=\"Reportable\">\n      {{ modelValue.reportable ? 'Yes' : 'No' }}\n    </dictionary-row>\n    <button-row submit-text=\"Approve\" @submitted=\"approve\" @cancel=\"cancelApproval\" />\n  </div>\n</template>","<script>\nimport {setupMirror} from '@/composables/setup_working_mirror'\nimport {fields, getCountries, countries, updateInstitution} from '@/forms/institution_form'\nimport {isValidationError} from '@/http'\n\nexport default {\n    name: 'InstitutionCreateForm',\n    props: {\n        modelValue: {\n            type: Object,\n            required: true\n        }\n    },\n    emits: [\n        'update:modelValue',\n        'saved',\n        'canceled'\n    ],\n    setup(props, context) {\n        const {workingCopy} = setupMirror(props, context)\n        \n        return {\n            fields,\n            getCountries,\n            countries,\n            updateInstitution,\n            workingCopy\n        }\n    },\n    data() {\n        return {\n            errors: {}\n        }\n    },\n    mounted () {\n        this.getCountries();\n    },\n    methods: {\n        async save () {\n            try {\n                this.initErrors();\n                const newInst = await this.updateInstitution(this.workingCopy);\n                this.$emit('update:modelValue', newInst);\n                this.$emit('saved', newInst)\n            } catch (error) {\n                if (isValidationError(error)) {\n                    this.errors = error.response.data.errors\n                }\n            }\n        },\n        cancel () {\n            this.$emit('canceled')\n            this.initInstitution()\n        },\n        initErrors () {\n            this.errors = {};\n        }\n    }\n}\n</script>\n<template>\n  <div>\n    <data-form v-model=\"workingCopy\" :fields=\"fields\" :errors=\"errors\" />\n    <button-row submit-text=\"Save\" @submitted=\"save\" @cancel=\"cancel\" />\n  </div>\n</template>","<script>\nimport {mergeInstitutions} from '@/forms/institution_form'\nimport { isValidationError } from '@/http';\n\nexport default {\n    name: 'InstitutionMergeForm',\n    props: {\n        authority: {\n            type: Object,\n            required: false\n        },\n        obsoletes: {\n            type: Array,\n            default: () => []\n        }\n    },\n    emits: [\n        'saved',\n        'canceled'\n    ],\n    data() {\n        return {\n            authorityId: null,\n            obsoleteIds: [],\n            errors: {}\n        }\n    },\n    watch: {\n        authority: {\n            immediate: true,\n            handler (to) {\n                if (!to) {\n                    return;\n                }\n                this.authorityId = to.id\n            }\n        },\n        obsoletes: {\n            immediate: true,\n            deep: true,\n            handler (to) {\n                this.obsoleteIds = to.map(o => o.id);\n            }\n        }\n    },\n    methods: {\n        handleObsoleteUpdate (value) {\n            if (!value) {\n                this.obsoleteIds = [];\n                return;\n            }\n            this.obsoleteIds = [value];\n        },\n        async commitMerge () {\n            try {\n                this.errors = {};\n                await mergeInstitutions(this.authorityId, this.obsoleteIds);\n                this.authorityId = null;\n                this.obsoleteIds = [];\n                this.$emit('saved');\n            } catch (error) {\n                if (isValidationError(error)) {\n                    this.errors = error.response.data.errors;\n                }\n            }\n        },\n        cancelMerge () {\n            this.authorityId = null;\n            this.obsoleteIds = [];\n            this.$emit('canceled');\n        }\n    }\n}\n</script>\n<template>\n  <div>\n    <p class=\"mb-8\">\n      Merging institutions will do the following:\n      <ol class=\"list-decimal ml-6\">\n        <li>Transfer all people with the obsolete institution to the authoritiative institution.</li>\n        <li>Delete the obsolete institution.</li>\n      </ol>\n    </p>\n    <input-row label=\"Merge\" vertical>\n      <template #label>\n        Merge <note class=\"inline-block\">\n          (Obsolete institution that will be deleted)\n        </note>\n      </template>\n      <institution-search-select :model-value=\"obsoleteIds\" :allow-add=\"false\" @update:model-value=\"handleObsoleteUpdate\" />\n    </input-row>\n    <input-row label=\"Into\" :errors=\"errors.authority_id\" vertical>\n      <template #label>\n        Into <note class=\"inline\">\n          (Authoritative institution)\n        </note>\n      </template>\n      <institution-search-select v-model=\"authorityId\" :allow-add=\"false\" />\n    </input-row>\n    <button-row submit-text=\"Merge\" @submitted=\"commitMerge\" @canceled=\"cancelMerge\" />\n  </div>\n</template>","<script>\nimport sortAndFilter from '@/composables/router_aware_sort_and_filter';\nimport {getAllInstitutions, deleteInstitution} from '@/forms/institution_form'\nimport InstitutionApprovalForm from '@/components/institutions/InstitutionApprovalForm.vue'\nimport InstitutionUpdateForm from '@/components/institutions/InstitutionUpdateForm.vue'\nimport InstitutionMergeForm from '@/components/institutions/InstitutionMergeForm.vue'\n\nexport default {\n    name: 'InstitutionList',\n    components: {\n        InstitutionUpdateForm,\n        InstitutionApprovalForm,\n        InstitutionMergeForm,\n    },\n    setup() {\n        const {sort, filter} = sortAndFilter({field: 'name', desc: false});\n\n        return {\n            sort,\n            filter\n        }\n    },\n    data() {\n        return {\n            items: [],\n            fields: [\n                {\n                    name: 'id',\n                    label: 'ID',\n                    type: Number,\n                    sortable: true,\n                },\n                {\n                    name: 'name',\n                    type: String,\n                    sortable: true\n                },\n                {\n                    name: 'abbreviation',\n                    type: String,\n                    sortable: true\n                },\n                {\n                    name: 'country.name',\n                    label: 'Country',\n                    type: String,\n                    sortable: true,\n                },\n                {\n                    name: 'people_count',\n                    label: '# People',\n                    type: Number,\n                    sortable: true\n                },\n                {\n                    name: 'approved',\n                    type: Boolean,\n                    sortable: true,\n                    resolveValue (item) {\n                        return item.approved ? 'Approved' : null;\n                    },\n                    resolveSort (item) {\n                        return item.approved;\n                    }\n                },\n                {\n                    name: 'actions',\n                    label: '',\n                    sortable: false\n                }\n\n            ],\n            currentItem: {country: {}},\n            showApproveDialog: false,\n            showEditDialog: false,\n            showMergeDialog: false,\n            showDeleteConfirmation: false,\n        }\n    },\n    computed: {\n        filteredItems () {\n            if (!this.filter) {\n                return this.items;\n            }\n            const pattern = new RegExp(`.*${this.filter}.*`, 'i');\n            return this.items.filter(item => {\n                return item.name.match(pattern)\n                    || (item.abbreviation && item.abbreviation.match(pattern))\n                    || (item.country && item.country.name.match(pattern));\n            })\n        },\n        currentIndex () {\n            return this.items.findIndex(i => i.id === this.currentItem.id);\n        }\n    },\n    mounted () {\n        this.getInstitutions();\n    },\n    methods: {\n        edit (item) {\n            this.showEditDialog = true;\n            this.currentItem = item;\n        },\n        initApprove (item) {\n            this.showApproveDialog = true;\n            this.currentItem = item;\n        },\n        initMerge (item) {\n            this.currentItem = item;\n            this.showMergeDialog = true;\n        },\n        async getInstitutions () {\n            this.items = await getAllInstitutions();\n        },\n        handleSaved() {\n            this.showApproveDialog = false;\n            this.showEditDialog = false;\n\n            this.updateItem();\n            this.currentItem = {country: {}}\n            this.$store.commit(\"pushSuccess\", 'Institution saved.')\n        },\n        handleCancel() {\n            this.showApproveDialog = false;\n            this.showEditDialog = false;\n            this.updateItem();\n            this.currentItem = {country: {}}\n        },\n        handleMerge() {\n            this.items.splice(this.currentIndex, 1);\n            this.showMergeDialog = false;\n            this.$store.commit(\"pushSuccess\", 'Institution merged.')\n        },\n        updateItem() {\n            if (!this.currentItem.id) {\n                return;\n            }\n\n            if (this.currentIndex > -1) {\n                this.items[this.currentIndex] = {...this.currentItem}\n            }\n        },\n        initDelete (item) {\n            this.showDeleteConfirmation = true;\n            this.currentItem = item;\n        },\n        async deleteItem() {\n            if (!this.currentItem.id) {\n                return;\n            }\n\n            if (this.currentItem.people_count > 0) {\n                // eslint-disable-next-line no-alert\n                alert('You cannot delete an institution because it is in use.  Please edit the institution or merge it into another.')\n            }\n            await deleteInstitution(this.currentItem);\n            this.items.splice(this.currentIndex, 1);\n            this.showDeleteConfirmation = false;\n            this.$store.commit(\"pushSuccess\", `${this.currentItem.name} deleted.`);\n        }\n    }\n}\n</script>\n<template>\n  <div>\n    <h1>Institutions</h1>\n    <data-table\n      v-model:sort=\"sort\"\n      paginated\n      :data=\"filteredItems\"\n      :fields=\"fields\"\n      :reset-page-on-data-change=\"false\"\n    >\n      <template #header>\n        <label>\n          Filter:\n          <input v-model=\"filter\" type=\"text\">\n        </label>\n      </template>\n      <template #cell-actions=\"{item}\">\n        <dropdown-menu hide-cheveron>\n          <template #label>\n            <button class=\"btn btn-xs\">\n              &hellip;\n            </button>\n          </template>\n\n\n          <dropdown-item @click=\"edit(item)\">\n            Edit\n          </dropdown-item>\n          <dropdown-item @click=\"initApprove(item)\">\n            Approve\n          </dropdown-item>\n          <dropdown-item @click=\"initMerge(item)\">\n            Merge into another\n          </dropdown-item>\n          <dropdown-item @click=\"initDelete(item)\">\n            Delete\n          </dropdown-item>\n        </dropdown-menu>\n      </template>\n    </data-table>\n    <teleport to=\"body\">\n      <modal-dialog v-model=\"showApproveDialog\" :title=\"`Approve ${currentItem.name}`\">\n        <InstitutionApprovalForm v-model=\"currentItem\" @saved=\"handleSaved\" @canceled=\"handleCancel\" />\n      </modal-dialog>\n      <modal-dialog v-model=\"showEditDialog\" :title=\"`Edit ${currentItem.name}`\">\n        <InstitutionUpdateForm v-model=\"currentItem\" @saved=\"handleSaved\" @canceled=\"handleCancel\" />\n      </modal-dialog>\n      <modal-dialog v-model=\"showMergeDialog\" title=\"Merge Institutions\">\n        <InstitutionMergeForm :obsoletes=\"[currentItem]\" @saved=\"handleMerge\" @canceled=\"showMergeDialog = false\" />\n      </modal-dialog>\n      <modal-dialog v-model=\"showDeleteConfirmation\" title=\"Delete Institution\" size=\"sm\">\n        <div v-if=\"currentItem.people_count > 0\">\n          <p>You cannot delete an institution people are using.</p>\n          <p>Either edit this this institution or merge it into another.</p>\n        </div>\n        <div v-else>\n          You are about to delete the {{ currentItem.name }}\n          <button-row\n            submit-text=\"Delete\"\n            @submitted=\"deleteItem\"\n            @canceled=\"showDeleteConfirmation = false\"\n          />\n        </div>\n      </modal-dialog>\n    </teleport>\n  </div>\n</template>\n"],"names":["_sfc_main","updatedInst","markApproved","_createElementBlock","_cache","_createTextVNode","_createVNode","_component_dictionary_row","_withCtx","_toDisplayString","$props","_component_button_row","$options","props","context","workingCopy","setupMirror","fields","getCountries","countries","updateInstitution","newInst","error","isValidationError","_component_data_form","$setup","$event","$data","to","o","value","mergeInstitutions","_createElementVNode","_component_input_row","_component_note","_component_institution_search_select","InstitutionUpdateForm","InstitutionApprovalForm","InstitutionMergeForm","sort","filter","sortAndFilter","item","pattern","i","getAllInstitutions","deleteInstitution","_component_data_table","_component_dropdown_menu","_component_dropdown_item","_createBlock","_Teleport","_component_modal_dialog","_component_InstitutionApprovalForm","_component_InstitutionUpdateForm","_component_InstitutionMergeForm","_openBlock","_hoisted_1","_hoisted_2"],"mappings":"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"}