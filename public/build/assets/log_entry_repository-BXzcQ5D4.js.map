{"version":3,"file":"log_entry_repository-BXzcQ5D4.js","sources":["../../../resources/js/adapters/log_entry_repository.js"],"sourcesContent":["import {ref, computed} from 'vue';\nimport api from '@/http/api'\n\nconst _entries = ref([]);\n\nexport const logEntries = computed(() => {\n    return _entries.value;\n});\n\nexport const fetchEntries = async (apiUrl) => {\n    _entries.value = await api.get(apiUrl)\n        .then(response => response.data.data);\n}\n\nexport const saveEntry = async (apiUrl, entryData) => {\n    return await api.post(apiUrl, entryData)\n        .then(response => {\n            _entries.value.push(response.data);\n            return response.data\n        });\n}\n\nexport const updateEntry = async (apiUrl, entryData) => {\n    return await api.put(apiUrl, entryData)\n        .then(response => {\n            const entryIdx = _entries.value.findIndex(entry => entry.id === response.data.id);\n            _entries.value[entryIdx] = response.data;\n            return response.data\n        });\n}\n\nexport const deleteEntry = async (apiUrl, entryId) => {\n    return await api.delete(`${apiUrl}/${entryId}`)\n        .then(response => {\n            const entryIdx = _entries.value.findIndex(entry => entry.id === entryId);\n            _entries.value.splice(entryIdx, 1);\n\n            return response;\n        });\n}\n"],"names":["_entries","ref","logEntries","computed","fetchEntries","apiUrl","api","response","saveEntry","entryData","updateEntry","entryIdx","entry","deleteEntry","entryId"],"mappings":"oDAGA,MAAMA,EAAWC,EAAI,EAAE,EAEVC,EAAaC,EAAS,IACxBH,EAAS,KACnB,EAEYI,EAAe,MAAOC,GAAW,CAC1CL,EAAS,MAAQ,MAAMM,EAAI,IAAID,CAAM,EAChC,KAAKE,GAAYA,EAAS,KAAK,IAAI,CAC5C,EAEaC,EAAY,MAAOH,EAAQI,IAC7B,MAAMH,EAAI,KAAKD,EAAQI,CAAS,EAClC,KAAKF,IACFP,EAAS,MAAM,KAAKO,EAAS,IAAI,EAC1BA,EAAS,KACnB,EAGIG,EAAc,MAAOL,EAAQI,IAC/B,MAAMH,EAAI,IAAID,EAAQI,CAAS,EACjC,KAAKF,GAAY,CACd,MAAMI,EAAWX,EAAS,MAAM,UAAUY,GAASA,EAAM,KAAOL,EAAS,KAAK,EAAE,EAChF,OAAAP,EAAS,MAAMW,CAAQ,EAAIJ,EAAS,KAC7BA,EAAS,IAC5B,CAAS,EAGIM,EAAc,MAAOR,EAAQS,IAC/B,MAAMR,EAAI,OAAO,GAAGD,CAAM,IAAIS,CAAO,EAAE,EACzC,KAAKP,GAAY,CACd,MAAMI,EAAWX,EAAS,MAAM,UAAUY,GAASA,EAAM,KAAOE,CAAO,EACvE,OAAAd,EAAS,MAAM,OAAOW,EAAU,CAAC,EAE1BJ,CACnB,CAAS"}