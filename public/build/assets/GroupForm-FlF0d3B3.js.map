{"version":3,"file":"GroupForm-FlF0d3B3.js","sources":["../../../node_modules/lodash-es/_apply.js","../../../node_modules/lodash-es/_shortOut.js","../../../node_modules/lodash-es/constant.js","../../../node_modules/lodash-es/_baseSetToString.js","../../../node_modules/lodash-es/_setToString.js","../../../node_modules/lodash-es/_overRest.js","../../../node_modules/lodash-es/_baseRest.js","../../../node_modules/lodash-es/_isFlattenable.js","../../../node_modules/lodash-es/_baseFlatten.js","../../../node_modules/lodash-es/sortBy.js","../../../resources/js/forms/form_factory.js","../../../resources/js/components/groups/GroupForm.vue"],"sourcesContent":["/**\n * A faster alternative to `Function#apply`, this function invokes `func`\n * with the `this` binding of `thisArg` and the arguments of `args`.\n *\n * @private\n * @param {Function} func The function to invoke.\n * @param {*} thisArg The `this` binding of `func`.\n * @param {Array} args The arguments to invoke `func` with.\n * @returns {*} Returns the result of `func`.\n */\nfunction apply(func, thisArg, args) {\n  switch (args.length) {\n    case 0: return func.call(thisArg);\n    case 1: return func.call(thisArg, args[0]);\n    case 2: return func.call(thisArg, args[0], args[1]);\n    case 3: return func.call(thisArg, args[0], args[1], args[2]);\n  }\n  return func.apply(thisArg, args);\n}\n\nexport default apply;\n","/** Used to detect hot functions by number of calls within a span of milliseconds. */\nvar HOT_COUNT = 800,\n    HOT_SPAN = 16;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeNow = Date.now;\n\n/**\n * Creates a function that'll short out and invoke `identity` instead\n * of `func` when it's called `HOT_COUNT` or more times in `HOT_SPAN`\n * milliseconds.\n *\n * @private\n * @param {Function} func The function to restrict.\n * @returns {Function} Returns the new shortable function.\n */\nfunction shortOut(func) {\n  var count = 0,\n      lastCalled = 0;\n\n  return function() {\n    var stamp = nativeNow(),\n        remaining = HOT_SPAN - (stamp - lastCalled);\n\n    lastCalled = stamp;\n    if (remaining > 0) {\n      if (++count >= HOT_COUNT) {\n        return arguments[0];\n      }\n    } else {\n      count = 0;\n    }\n    return func.apply(undefined, arguments);\n  };\n}\n\nexport default shortOut;\n","/**\n * Creates a function that returns `value`.\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Util\n * @param {*} value The value to return from the new function.\n * @returns {Function} Returns the new constant function.\n * @example\n *\n * var objects = _.times(2, _.constant({ 'a': 1 }));\n *\n * console.log(objects);\n * // => [{ 'a': 1 }, { 'a': 1 }]\n *\n * console.log(objects[0] === objects[1]);\n * // => true\n */\nfunction constant(value) {\n  return function() {\n    return value;\n  };\n}\n\nexport default constant;\n","import constant from './constant.js';\nimport defineProperty from './_defineProperty.js';\nimport identity from './identity.js';\n\n/**\n * The base implementation of `setToString` without support for hot loop shorting.\n *\n * @private\n * @param {Function} func The function to modify.\n * @param {Function} string The `toString` result.\n * @returns {Function} Returns `func`.\n */\nvar baseSetToString = !defineProperty ? identity : function(func, string) {\n  return defineProperty(func, 'toString', {\n    'configurable': true,\n    'enumerable': false,\n    'value': constant(string),\n    'writable': true\n  });\n};\n\nexport default baseSetToString;\n","import baseSetToString from './_baseSetToString.js';\nimport shortOut from './_shortOut.js';\n\n/**\n * Sets the `toString` method of `func` to return `string`.\n *\n * @private\n * @param {Function} func The function to modify.\n * @param {Function} string The `toString` result.\n * @returns {Function} Returns `func`.\n */\nvar setToString = shortOut(baseSetToString);\n\nexport default setToString;\n","import apply from './_apply.js';\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max;\n\n/**\n * A specialized version of `baseRest` which transforms the rest array.\n *\n * @private\n * @param {Function} func The function to apply a rest parameter to.\n * @param {number} [start=func.length-1] The start position of the rest parameter.\n * @param {Function} transform The rest array transform.\n * @returns {Function} Returns the new function.\n */\nfunction overRest(func, start, transform) {\n  start = nativeMax(start === undefined ? (func.length - 1) : start, 0);\n  return function() {\n    var args = arguments,\n        index = -1,\n        length = nativeMax(args.length - start, 0),\n        array = Array(length);\n\n    while (++index < length) {\n      array[index] = args[start + index];\n    }\n    index = -1;\n    var otherArgs = Array(start + 1);\n    while (++index < start) {\n      otherArgs[index] = args[index];\n    }\n    otherArgs[start] = transform(array);\n    return apply(func, this, otherArgs);\n  };\n}\n\nexport default overRest;\n","import identity from './identity.js';\nimport overRest from './_overRest.js';\nimport setToString from './_setToString.js';\n\n/**\n * The base implementation of `_.rest` which doesn't validate or coerce arguments.\n *\n * @private\n * @param {Function} func The function to apply a rest parameter to.\n * @param {number} [start=func.length-1] The start position of the rest parameter.\n * @returns {Function} Returns the new function.\n */\nfunction baseRest(func, start) {\n  return setToString(overRest(func, start, identity), func + '');\n}\n\nexport default baseRest;\n","import Symbol from './_Symbol.js';\nimport isArguments from './isArguments.js';\nimport isArray from './isArray.js';\n\n/** Built-in value references. */\nvar spreadableSymbol = Symbol ? Symbol.isConcatSpreadable : undefined;\n\n/**\n * Checks if `value` is a flattenable `arguments` object or array.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is flattenable, else `false`.\n */\nfunction isFlattenable(value) {\n  return isArray(value) || isArguments(value) ||\n    !!(spreadableSymbol && value && value[spreadableSymbol]);\n}\n\nexport default isFlattenable;\n","import arrayPush from './_arrayPush.js';\nimport isFlattenable from './_isFlattenable.js';\n\n/**\n * The base implementation of `_.flatten` with support for restricting flattening.\n *\n * @private\n * @param {Array} array The array to flatten.\n * @param {number} depth The maximum recursion depth.\n * @param {boolean} [predicate=isFlattenable] The function invoked per iteration.\n * @param {boolean} [isStrict] Restrict to values that pass `predicate` checks.\n * @param {Array} [result=[]] The initial result value.\n * @returns {Array} Returns the new flattened array.\n */\nfunction baseFlatten(array, depth, predicate, isStrict, result) {\n  var index = -1,\n      length = array.length;\n\n  predicate || (predicate = isFlattenable);\n  result || (result = []);\n\n  while (++index < length) {\n    var value = array[index];\n    if (depth > 0 && predicate(value)) {\n      if (depth > 1) {\n        // Recursively flatten arrays (susceptible to call stack limits).\n        baseFlatten(value, depth - 1, predicate, isStrict, result);\n      } else {\n        arrayPush(result, value);\n      }\n    } else if (!isStrict) {\n      result[result.length] = value;\n    }\n  }\n  return result;\n}\n\nexport default baseFlatten;\n","import baseFlatten from './_baseFlatten.js';\nimport baseOrderBy from './_baseOrderBy.js';\nimport baseRest from './_baseRest.js';\nimport isIterateeCall from './_isIterateeCall.js';\n\n/**\n * Creates an array of elements, sorted in ascending order by the results of\n * running each element in a collection thru each iteratee. This method\n * performs a stable sort, that is, it preserves the original sort order of\n * equal elements. The iteratees are invoked with one argument: (value).\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Collection\n * @param {Array|Object} collection The collection to iterate over.\n * @param {...(Function|Function[])} [iteratees=[_.identity]]\n *  The iteratees to sort by.\n * @returns {Array} Returns the new sorted array.\n * @example\n *\n * var users = [\n *   { 'user': 'fred',   'age': 48 },\n *   { 'user': 'barney', 'age': 36 },\n *   { 'user': 'fred',   'age': 30 },\n *   { 'user': 'barney', 'age': 34 }\n * ];\n *\n * _.sortBy(users, [function(o) { return o.user; }]);\n * // => objects for [['barney', 36], ['barney', 34], ['fred', 48], ['fred', 30]]\n *\n * _.sortBy(users, ['user', 'age']);\n * // => objects for [['barney', 34], ['barney', 36], ['fred', 30], ['fred', 48]]\n */\nvar sortBy = baseRest(function(collection, iteratees) {\n  if (collection == null) {\n    return [];\n  }\n  var length = iteratees.length;\n  if (length > 1 && isIterateeCall(collection, iteratees[0], iteratees[1])) {\n    iteratees = [];\n  } else if (length > 2 && isIterateeCall(iteratees[0], iteratees[1], iteratees[2])) {\n    iteratees = [iteratees[0]];\n  }\n  return baseOrderBy(collection, baseFlatten(iteratees, 1), []);\n});\n\nexport default sortBy;\n","import {ref} from 'vue'\nimport is_validation_error from '@/http/is_validation_error'\nimport api from '@/http/api'\n\nexport const errors = ref({});\nconst editing = ref(false);\nconst hideForm = () => {\n    editing.value = false;\n    errors.value = {};\n}\nexport const submitFormData = async ({method, url, data}) => {\n    try {\n        // return await api.put(\n        return await api({\n            method,\n            url, \n            data\n        }).then(response => response.data.data)\n    } catch (error) {\n        if (is_validation_error(error)) {\n            errors.value = {...errors, ...error.response.data.errors}\n        }\n    }\n}\n\nexport const resetErrors = () => {\n    errors.value = {};\n}\n\nexport default () => {\n    return {\n        errors,\n        editing,\n        hideForm,\n        submitFormData,\n        resetErrors,\n    }\n}","<script>\nimport configs from '@/configs'\nimport Group from '@/domain/group'\nimport formFactory from '@/forms/form_factory'\nimport { api, isValidationError } from '@/http'\nimport {sortBy} from 'lodash-es'\n\nexport default {\n    name: 'GroupForm',\n    emits: [\n        'canceled',\n        'saved',\n        'update'\n    ],\n    setup (props, context) {\n        const {errors, submitFormData, resetErrors} = formFactory(props, context)\n\n        return {\n            errors,\n            submitFormData,\n            resetErrors\n        }\n    },\n    data() {\n        return {\n            groupTypes: configs.groups.types,\n            groupStatuses: configs.groups.statuses,\n            newGroup: new Group(),\n            parents: []\n        }\n    },\n    computed: {\n        group: {\n            get() {\n                const group = this.$store.getters['groups/currentItem'];\n                if (group) {\n                    return group;\n                }\n                return this.newGroup;\n            },\n            set (value) {\n                try {\n                    this.$store.commit(\"groups/addItem\", value);\n                } catch (e) {\n                    // eslint-disable-next-line no-console\n                    console.log(`Error setting group: ${e}`);\n                    this.newGroup = value;\n                }\n            }\n        },\n        statusOptions () {\n            return Object.values(this.groupStatuses).map(status => ({value: status.id, label: this.titleCase(status.name)}))\n        },\n        typeOptions () {\n            return Object.values(this.groupTypes).map(type => ({value: type.id, label: type.display_name}));\n        },\n        canSetType() {\n            return this.hasPermission('groups-manage') && !this.group.id\n        },\n        affiliationIdPlaceholder () {\n            return 50000\n        },\n        cdwgs () {\n            return this.$store.getters['cdwgs/all']\n        },\n        namesDirty () {\n            return this.group.expert_panel.isDirty('long_base_name')\n                || this.group.expert_panel.isDirty('short_base_name');\n        },\n        affiliationIdDirty () {\n            return this.group.expert_panel.isDirty('affiliation_id');\n        },\n        parentOptions () {\n            const options = [{value: 0, label: 'None'}];\n            this.parents\n                .filter(group => group.type.can_be_parent)\n                .forEach(parent => {\n                    options.push({value: parent.id, label: parent.displayName})\n                })\n\n            return sortBy(options, 'label');\n        }\n    },\n    beforeMount() {\n        this.getParentOptions();\n        this.$store.dispatch('cdwgs/getAll');\n    },\n    methods: {\n        async save() {\n            this.resetErrors();\n            try {\n                if (this.group.id) {\n                    await this.updateGroup();\n                    this.$emit('saved');\n\n                    // this.$store.dispatch('groups/find', this.group.uuid);\n                    // this.$store.commit('pushSuccess', 'Group info updated.');\n                    return;\n                }\n\n                const newGroup = await this.createGroup()\n                                    .then(response => response.data.data);\n                this.$emit('saved');\n                this.$store.commit('pushSuccess', 'Group created.');\n                this.$router.push({name: 'AddMember', params: {uuid: newGroup.uuid}});\n            } catch (error) {\n                if (isValidationError(error)) {\n                    this.errors = error.response.data.errors;\n                }\n                throw error;\n            }\n        },\n        createGroup () {\n            let {\n                name,\n                parent_id,\n                group_type_id,\n                group_status_id\n            } = this.group.attributes;\n\n            const {short_base_name} = this.group.expert_panel;\n\n            if (name === null && this.group.expert_panel) {\n                name = this.group.expert_panel.long_base_name;\n            }\n\n            return this.$store.dispatch(\n                'groups/create',\n                {\n                    name,\n                    parent_id,\n                    group_type_id,\n                    group_status_id,\n                    short_base_name\n                }\n            );\n        },\n        updateGroup () {\n            const promises = [];\n            promises.push(this.saveGroupData());\n            if (this.group.expert_panel) {\n                promises.push(this.saveEpData());\n            }\n\n            return Promise.all(promises);\n        },\n        saveGroupData () {\n            const promises = [];\n            if (this.group.isDirty('parent_id')) {\n                promises.push(this.saveParent());\n            }\n\n            if (this.group.isDirty('name')) {\n                promises.push(this.saveName())\n            }\n\n            if (this.group.isDirty('group_status_id')) {\n                promises.push(this.saveStatus())\n            }\n\n            return Promise.all(promises);\n        },\n        async saveEpData() {\n            const promises = []\n            if (this.namesDirty) {\n                const {long_base_name, short_base_name} = this.group.expert_panel;\n                promises.push(this.submitFormData({\n                    method: 'put',\n                    url: `/api/groups/${this.group.uuid}/expert-panel/name`,\n                    data: { long_base_name, short_base_name }\n                }));\n            }\n\n            if (this.affiliationIdDirty) {\n                promises.push(this.submitFormData({\n                    method: 'put',\n                    url: `/api/groups/${this.group.uuid}/expert-panel/affiliation-id`,\n                    data: { affiliation_id: this.group.expert_panel.affiliation_id }\n                }));\n            }\n\n            return await Promise.all(promises);\n        },\n\n        isDirty (attribute) {\n            // eslint-disable-next-line no-console\n            console.log('Not sure isDirty is supposed to be called here...')\n            return this.group.isDirty(attribute)\n        },\n\n        saveParent () {\n            return this.submitFormData({\n                method: 'put',\n                url: `/api/groups/${this.group.uuid}/parent`,\n                data: { parent_id: this.group.parent_id }\n            })\n        },\n        saveName () {\n            return this.submitFormData({\n                method: 'put',\n                url: `/api/groups/${this.group.uuid}/name`,\n                data: {name: this.group.name}\n            })\n        },\n        saveStatus () {\n            return this.submitFormData({\n                method: 'put',\n                url: `/api/groups/${this.group.uuid}/status`,\n                data: {status_id: this.group.group_status_id}\n            })\n        },\n        resetData () {\n            if (this.group.uuid) {\n                this.$store.dispatch('groups/find', this.group.uuid);\n            }\n        },\n        cancel() {\n            if (this.group.uuid) {\n                this.resetData();\n            }\n            this.$emit('canceled');\n        },\n        async getParentOptions () {\n            const params = {\n                'where[group_type_id]': [1,2],\n                without: ['coordinators', 'expertPanel']\n            };\n\n            this.parents = await api.get(`/api/groups`, {params})\n                        .then(response => {\n                            return response.data\n                                .filter(group => group.id !== this.group.id)\n                                .map(g => new Group(g))\n                        });\n        },\n        emitUpdate () {\n            this.$emit('update');\n        }\n    }\n}\n</script>\n<template>\n  <div>\n    <input-row\n      v-if=\"canSetType\"\n      v-model=\"group.group_type_id\"\n      :errors=\"errors.group_type_id\"\n      type=\"select\"\n      :options=\"typeOptions\"\n      label=\"Type\"\n    />\n\n    <dictionary-row v-else label=\"Type\">\n      {{ group?.type?.display_name }}\n    </dictionary-row>\n\n    <transition name=\"slide-fade-down\" mode=\"out-in\">\n      <div v-if=\"group.group_type_id > 2 && group.expert_panel\">\n        <input-row\n          v-model=\"group.expert_panel.long_base_name\"\n          label=\"Long Base Name\"\n          placeholder=\"Long base name\"\n          :errors=\"errors.long_base_name\"\n          input-class=\"w-full\"\n          @update:model-value=\"emitUpdate\"\n        />\n        <input-row\n          v-model=\"group.expert_panel.short_base_name\"\n          label=\"Short Base Name\"\n          placeholder=\"Short base name\"\n          :errors=\"errors.short_base_name\"\n          input-class=\"w-full\"\n          @update:model-value=\"emitUpdate\"\n        />\n        <div v-if=\"hasAnyPermission(['groups-manage'])\">\n          <input-row\n            v-model=\"group.expert_panel.affiliation_id\"\n            label=\"Affiliation ID\"\n            :placeholder=\"affiliationIdPlaceholder\"\n            :errors=\"errors.affiliation_id\"\n            input-class=\"w-full\"\n            @update:model-value=\"emitUpdate\"\n          >\n            <template #label>\n              Affiliation ID\n              <note>admin-only</note>\n            </template>\n          </input-row>\n        </div>\n        <dictionary-row v-else label=\"Affiliation ID\">\n          <span v-if=\"group.expert_panel.affiliation_id\">{{ group.expert_panel.affiliation_id }}</span>\n          <span v-else class=\"text-gray-400\">{{ 'Not yet assigend' }}</span>\n        </dictionary-row>\n      </div>\n      <div v-else>\n        <input-row\n          v-model=\"group.name\"\n          placeholder=\"Name\"\n          label=\"Name\"\n          input-class=\"w-full\"\n          :errors=\"errors.name\"\n          @update:model-value=\"emitUpdate\"\n        />\n      </div>\n    </transition>\n    <div v-if=\"hasPermission('groups-manage')\">\n      <input-row\n        v-model=\"group.group_status_id\"\n        type=\"select\"\n        :options=\"statusOptions\"\n        :errors=\"errors.group_status_id\"\n        @update:model-value=\"emitUpdate\"\n      >\n        <template #label>\n          Status:\n          <note>admin-only</note>\n        </template>\n      </input-row>\n\n      <input-row\n        v-model=\"group.parent_id\"\n        type=\"select\"\n        :options=\"parentOptions\"\n        :errors=\"errors.parent_id\"\n        @update:model-value=\"emitUpdate\"\n      >\n        <template #label>\n          Parent group:\n          <note>admin-only</note>\n        </template>\n      </input-row>\n    </div>\n  </div>\n</template>\n"],"names":["apply","func","thisArg","args","HOT_COUNT","HOT_SPAN","nativeNow","shortOut","count","lastCalled","stamp","remaining","constant","value","baseSetToString","defineProperty","string","identity","setToString","nativeMax","overRest","start","transform","index","length","array","otherArgs","baseRest","spreadableSymbol","Symbol","isFlattenable","isArray","isArguments","baseFlatten","depth","predicate","isStrict","result","arrayPush","sortBy","collection","iteratees","isIterateeCall","baseOrderBy","errors","ref","editing","hideForm","submitFormData","method","url","data","api","response","error","is_validation_error","resetErrors","formFactory","_sfc_main","props","context","configs","Group","group","status","type","options","parent","newGroup","isValidationError","name","parent_id","group_type_id","group_status_id","short_base_name","promises","long_base_name","attribute","params","g","_createElementBlock","$options","_createBlock","_component_input_row","_cache","$event","$setup","_component_dictionary_row","_withCtx","_createTextVNode","_toDisplayString","_b","_a","_createVNode","_Transition","_openBlock","_hoisted_1","_ctx","_hoisted_2","_component_note","_hoisted_3","_hoisted_4","_hoisted_5","_hoisted_6","_createCommentVNode"],"mappings":"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","x_google_ignoreList":[0,1,2,3,4,5,6,7,8,9]}